{
  "type": "issue",
  "issue": {
    "id": 2995032440,
    "node_id": "I_kwDOABII586yhJF4",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32274",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32274/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32274/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32274/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32274",
    "number": 32274,
    "state": "open",
    "state_reason": null,
    "title": "[RFC] What security expectations does/should the RPC server have from credentialed RPC clients?",
    "body": "It is not obvious to me from reading https://github.com/bitcoin/bitcoin/blob/1f6ab1215bbb1f8a5f1743c3c413b95ad08090df/doc/JSON-RPC-interface.md#security what the security expectations are for a machine serving the RPC interface about what a credentialed RPC client can do on the machine outside of affecting the node it has credentials for.\n\nIt seems to me that users should expect that RPC clients with credentials will have all the same privileges as the `bitcoind` process does on the machine, since, for example users can specify arbitrary wallet paths on the machine means that users should expect that RPC clients with credentials will have all the same privileges as the `bitcoind` process does on the machine (https://github.com/bitcoin/bitcoin/pull/32273). It doesn't seem far fetched to me to imagine that someone at some point naively ran multiple unsandboxed nodes on the same machine, provided credentials to users, and did not realize that those users could load each other's wallets.\n\nIf that's correct, then the actionable form of the question is: Is this something that should be more clearly stated to users in any way, or is the situation I'm describing contrived and unrealistic, where a user trusts an RPC client with a node, but not with the whole machine and doesn't in any way sandbox/container the node.",
    "user": {
      "login": "davidgumberg",
      "id": 2257631,
      "node_id": "MDQ6VXNlcjIyNTc2MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidgumberg",
      "html_url": "https://github.com/davidgumberg",
      "followers_url": "https://api.github.com/users/davidgumberg/followers",
      "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
      "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
      "repos_url": "https://api.github.com/users/davidgumberg/repos",
      "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 148216,
        "node_id": "MDU6TGFiZWwxNDgyMTY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Docs",
        "name": "Docs",
        "color": "02d7e1",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 1,
    "created_at": "2025-04-15T04:09:21Z",
    "updated_at": "2025-04-18T23:50:56Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 17261925057,
      "node_id": "LE_lADOABII586yhJF4zwAAAAQE5BLB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17261925057",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-15T05:49:44Z",
      "label": {
        "name": "Docs",
        "color": "02d7e1"
      }
    },
    {
      "event": "labeled",
      "id": 17261925065,
      "node_id": "LE_lADOABII586yhJF4zwAAAAQE5BLJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17261925065",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-15T05:49:44Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 17261925070,
      "node_id": "LE_lADOABII586yhJF4zwAAAAQE5BLO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17261925070",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-15T05:49:44Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "unlabeled",
      "id": 17261925790,
      "node_id": "UNLE_lADOABII586yhJF4zwAAAAQE5BWe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17261925790",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-15T05:49:49Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "commented",
      "id": 2816363732,
      "node_id": "IC_kwDOABII586n3kzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2816363732",
      "actor": {
        "login": "isaackielma",
        "id": 84313603,
        "node_id": "MDQ6VXNlcjg0MzEzNjAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/84313603?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/isaackielma",
        "html_url": "https://github.com/isaackielma",
        "followers_url": "https://api.github.com/users/isaackielma/followers",
        "following_url": "https://api.github.com/users/isaackielma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/isaackielma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/isaackielma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/isaackielma/subscriptions",
        "organizations_url": "https://api.github.com/users/isaackielma/orgs",
        "repos_url": "https://api.github.com/users/isaackielma/repos",
        "events_url": "https://api.github.com/users/isaackielma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/isaackielma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-18T23:50:55Z",
      "updated_at": "2025-04-18T23:50:55Z",
      "author_association": "NONE",
      "body": "What if docs at [doc/JSON-RPC-interface.md](https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md) include an explicit warning stating that:\n\n\"RPC credentials grant full administrative control of the node and any resources the `bitcoind` process can access. Clients with valid credentials should be considered as trusted as the local user running `bitcoind`. If untrusted clients must be allowed to access RPC, strong isolation mechanisms (e.g., containers, separate machines, restricted filesystem permissions) must be employed externally to prevent lateral privilege escalation or data leakage.\"\n\nThis would clarify expectations for operators and hopefully avoid subtle security pitfalls caused by misunderstanding the security boundary (or lack thereof).",
      "user": {
        "login": "isaackielma",
        "id": 84313603,
        "node_id": "MDQ6VXNlcjg0MzEzNjAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/84313603?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/isaackielma",
        "html_url": "https://github.com/isaackielma",
        "followers_url": "https://api.github.com/users/isaackielma/followers",
        "following_url": "https://api.github.com/users/isaackielma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/isaackielma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/isaackielma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/isaackielma/subscriptions",
        "organizations_url": "https://api.github.com/users/isaackielma/orgs",
        "repos_url": "https://api.github.com/users/isaackielma/repos",
        "events_url": "https://api.github.com/users/isaackielma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/isaackielma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32274#issuecomment-2816363732",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32274"
    }
  ]
}