{
  "type": "issue",
  "issue": {
    "id": 2506029496,
    "node_id": "I_kwDOABII586VXvm4",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30818",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30818/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30818/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30818/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/30818",
    "number": 30818,
    "state": "open",
    "state_reason": null,
    "title": "Test Framework - test_framework.test_node.FailedToStartError: No RPC credentials",
    "body": "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Current behaviour\n\n\r\nOn execution bitcoind fails to start and logs Failed to start error. Have pasted logs into the logs section. \r\n\r\nIt looks as though there is some rpc config required for this to run, but have not found a way to specify whats required. When i hard code a username/password in utils.py .. fails with Connection Refused. \r\n\r\n\r\n**Example Command**\r\n`\r\npython functional/feature_rbf.py --loglevel=DEBUG --tracerpc\r\n`\r\n\r\n**Config.ini**\r\n[environment]\r\nPACKAGE_NAME=Bitcoin Core\r\nPACKAGE_BUGREPORT=https://github.com/bitcoin/bitcoin/issues\r\nSRCDIR=/usr/src/bitcoin\r\nBUILDDIR=/usr/src/bitcoin\r\nEXEEXT=.exe\r\nRPCAUTH=/usr/src/bitcoin/share/rpcauth/rpcauth.py\r\n\r\n[components]\r\nENABLE_WALLET=true\r\nUSE_SQLITE=true\r\nUSE_BDB=true\r\nENABLE_CLI=true\r\nENABLE_BITCOIN_UTIL=true\r\nENABLE_WALLET_TOOL=true\r\nENABLE_BITCOIND=true\r\nENABLE_FUZZ_BINARY=true\r\nENABLE_ZMQ=true\r\n#ENABLE_EXTERNAL_SIGNER=true\r\n#ENABLE_USDT_TRACEPOINTS=true\r\n`\r\n\r\n**Bitcoin.conf (autogenerated)**\r\n`\r\n\r\nregtest=1\r\n[regtest]\r\nport=12201\r\nrpcport=17201\r\nrpcservertimeout=99000\r\nrpcdoccheck=1\r\nfallbackfee=0.0002\r\nserver=1\r\nkeypool=1\r\ndiscover=0\r\ndnsseed=0\r\nfixedseeds=0\r\nlistenonion=0\r\npeertimeout=999999999\r\nprinttoconsole=0\r\nupnp=0\r\nnatpmp=0\r\nshrinkdebugfile=0\r\ndeprecatedrpc=create_bdb\r\nunsafesqlitesync=1\r\nconnect=0\r\nbind=127.0.0.1\r\n`\r\n\r\n\n\n### Expected behaviour\n\nThe test should run to completion. \n\n### Steps to reproduce\n\nBuild 27.* on Ubuntu WLS\r\n\r\nExecute python test with example command. \r\npython functional/feature_rbf.py --loglevel=DEBUG --tracerpc\n\n### Relevant log output\n\n`\r\n2024-09-04T18:07:10.779000Z TestFramework (INFO): PRNG seed is: 4851958720779390906\r\n2024-09-04T18:07:10.779000Z TestFramework (DEBUG): Setting up network thread\r\n2024-09-04T18:07:10.780000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_u9zpt_2g\r\n2024-09-04T18:07:10.780000Z TestFramework (DEBUG): Copy cache directory /usr/src/bitcoin/test/cache/node0 to node 0\r\n2024-09-04T18:07:10.781000Z TestFramework (DEBUG): Copy cache directory /usr/src/bitcoin/test/cache/node0 to node 1\r\n2024-09-04T18:07:10.783000Z TestFramework.node0 (DEBUG): ['/usr/src/bitcoin/src/bitcoind.exe', '-datadir=/tmp/bitcoin_func_test_u9zpt_2g/node0', '-logtimemicros', '-debug', '-debugexclude=libevent', '-debugexclude=leveldb', '-debugexclude=rand', '-uacomment=testnode0', '-logthreadnames', '-logsourcelocations', '-loglevel=trace', '-v2transport=0']\r\n2024-09-04T18:07:10.783000Z TestFramework.node0 (DEBUG): ['-maxorphantx=1000', '-limitancestorcount=50', '-limitancestorsize=101', '-limitdescendantcount=200', '-limitdescendantsize=101']\r\n2024-09-04T18:07:10.783000Z TestFramework.node0 (DEBUG): bitcoind started, waiting for RPC to come up\r\n2024-09-04T18:07:10.784000Z TestFramework.node1 (DEBUG): ['/usr/src/bitcoin/src/bitcoind.exe', '-datadir=/tmp/bitcoin_func_test_u9zpt_2g/node1', '-logtimemicros', '-debug', '-debugexclude=libevent', '-debugexclude=leveldb', '-debugexclude=rand', '-uacomment=testnode1', '-logthreadnames', '-logsourcelocations', '-loglevel=trace', '-v2transport=0']\r\n2024-09-04T18:07:10.784000Z TestFramework.node1 (DEBUG): []\r\n2024-09-04T18:07:10.784000Z TestFramework.node1 (DEBUG): bitcoind started, waiting for RPC to come up\r\n2024-09-04T18:07:10.784000Z TestFramework.utils (DEBUG): /tmp/bitcoin_func_test_u9zpt_2g/node0/bitcoin.conf\r\n2024-09-04T18:07:10.784000Z TestFramework.node0 (DEBUG): Value Error No RPC credentials\r\n....\r\n2024-09-04T18:07:14.552000Z TestFramework.utils (DEBUG): /tmp/bitcoin_func_test_u9zpt_2g/node0/bitcoin.conf\r\n2024-09-04T18:07:14.552000Z TestFramework.node0 (DEBUG): Value Error No RPC credentials\r\n2024-09-04T18:07:14.803000Z TestFramework.node0 (DEBUG): Stopping node\r\n2024-09-04T18:07:14.804000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 556, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_node.py\", line 260, in wait_for_rpc_connection\r\n    raise FailedToStartError(self._node_msg(\r\n**test_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status 1 during initialization. Error: Specified data directory \"/tmp/bitcoin_func_test_u9zpt_2g/node0\" does not exist.**\r\n************************\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 130, in main     self.setup()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 297, in setup     self.setup_network()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 391, in setup_network     self.setup_nodes()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 413, in setup_nodes     self.start_nodes()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 559, in start_nodes     self.stop_nodes()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 574, in stop_nodes     node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_node.py\", line 386, in stop_node     self.stop(wait=wait)\r\n  **File \"/usr/src/bitcoin/test/functional/test_framework/test_node.py\", line 207, in __getattr__    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\") AssertionError: [node 0] Error: no RPC connection**\r\n\r\n2024-09-04T18:07:14.806000Z TestFramework (DEBUG): Closing down network thread\r\n2024-09-04T18:07:14.857000Z TestFramework (INFO): Stopping nodes\r\n2024-09-04T18:07:14.857000Z TestFramework.node0 (DEBUG): Stopping node\r\nTraceback (most recent call last):\r\n  File \"/usr/src/bitcoin/test/functional/feature_rbf.py\", line 731, in <module>\r\n    ReplaceByFeeTest().main()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 154, in main\r\n    exit_code = self.shutdown()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 313, in shutdown\r\n    self.stop_nodes()\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_framework.py\", line 574, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_node.py\", line 386, in stop_node\r\n    self.stop(wait=wait)\r\n  File \"/usr/src/bitcoin/test/functional/test_framework/test_node.py\", line 207, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n\r\nAssertionError: [node 0] Error: no RPC connection\r\n\r\n[node 1] Cleaning up leftover process\r\n[node 0] Cleaning up leftover process\r\n`\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nv27.1.0\n\n### Operating system and version\n\nUbuntu 22.04.4 LTS\n\n### Machine specifications\n\nWindows 11 Home\r\n8 Core i7 9700\r\n32 GB Ram\r\n",
    "user": {
      "login": "somethingbeta",
      "id": 6619766,
      "node_id": "MDQ6VXNlcjY2MTk3NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6619766?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/somethingbeta",
      "html_url": "https://github.com/somethingbeta",
      "followers_url": "https://api.github.com/users/somethingbeta/followers",
      "following_url": "https://api.github.com/users/somethingbeta/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/somethingbeta/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/somethingbeta/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/somethingbeta/subscriptions",
      "organizations_url": "https://api.github.com/users/somethingbeta/orgs",
      "repos_url": "https://api.github.com/users/somethingbeta/repos",
      "events_url": "https://api.github.com/users/somethingbeta/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/somethingbeta/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 234877,
        "node_id": "MDU6TGFiZWwyMzQ4Nzc=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Windows",
        "name": "Windows",
        "color": "884400",
        "default": false
      },
      {
        "id": 234878,
        "node_id": "MDU6TGFiZWwyMzQ4Nzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Linux/Unix",
        "name": "Linux/Unix",
        "color": "770000",
        "default": false
      },
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 3,
    "created_at": "2024-09-04T18:31:38Z",
    "updated_at": "2024-09-05T08:24:14Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 14140884915,
      "node_id": "LE_lADOABII586VXvm4zwAAAANK3Mez",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14140884915",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T05:44:31Z",
      "label": {
        "name": "Windows",
        "color": "884400"
      }
    },
    {
      "event": "labeled",
      "id": 14140884919,
      "node_id": "LE_lADOABII586VXvm4zwAAAANK3Me3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14140884919",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T05:44:31Z",
      "label": {
        "name": "Linux/Unix",
        "color": "770000"
      }
    },
    {
      "event": "labeled",
      "id": 14140884924,
      "node_id": "LE_lADOABII586VXvm4zwAAAANK3Me8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14140884924",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T05:44:31Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 14140884930,
      "node_id": "LE_lADOABII586VXvm4zwAAAANK3MfC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14140884930",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T05:44:31Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "commented",
      "id": 2330879461,
      "node_id": "IC_kwDOABII586K7mXl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2330879461",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T08:07:56Z",
      "updated_at": "2024-09-05T08:07:56Z",
      "author_association": "MEMBER",
      "body": "> Error: Specified data directory \"/tmp/bitcoin_func_test_u9zpt_2g/node0\" does not exist.\r\n\r\nThis seems to be the first error, so it would be good to debug this first. Can you check whether `/usr/src/bitcoin/test/cache/node0` exists and whether the following is successful:\r\n\r\n>  2024-09-04T18:07:10.780000Z TestFramework (DEBUG): Copy cache directory /usr/src/bitcoin/test/cache/node0 to node 0\r\n\r\nGiven that you claim that `bitcoin.conf` exists (presumably in this dir), the error message that the directory does not exist seems odd.\r\n\r\nGenerally, it may be a bit difficult to get the Windows functional tests run on Linux, which is probably also the reason why the corresponding CI task only runs the Windows unit tests on Linux: https://github.com/bitcoin/bitcoin/runs/29691284283\r\n\r\n<!--\r\n\r\n> Build 27.* on Ubuntu WLS\r\n\r\nIt is actually non-trivial to run the functional tests on Windows, using a build done in WSL. This is because paths inside the Linux box are written to the test config ini file. However, those paths do not exist outside the box. That is, they do not correspond to paths on the Windows machine where you want to run the tests.\r\n\r\nI am not sure what the easiest way is to fix this, but you can try to manually edit the paths in the config ini file to point to the \"source dir\" and \"build dir\". The source dir is the folder that contains the src cpp files (e.g. `'src', 'rpc', 'client.cpp'`). The build dir is the folder that cointains the exe files (e.g. `bitcoind.exe`). They may be identical, depending on your build.\r\n\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30818#issuecomment-2330879461",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30818"
    },
    {
      "event": "commented",
      "id": 2330883102,
      "node_id": "IC_kwDOABII586K7nQe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2330883102",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T08:09:41Z",
      "updated_at": "2024-09-05T08:09:41Z",
      "author_association": "MEMBER",
      "body": "Even if you get it to run, Wine will print errors to stderr, which the functional test framework does not like, so they will have to be silenced one way or another.\r\n\r\n\r\n```\r\n# test/functional/feature_rbf.py\r\n2024-09-05T08:02:41.987000Z TestFramework (INFO): PRNG seed is: 7350764182512023160\r\n2024-09-05T08:02:41.988000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_bdledk26\r\n2024-09-05T08:02:43.869000Z TestFramework (INFO): Running test simple doublespend...\r\n2024-09-05T08:02:43.889000Z TestFramework (INFO): Running test doublespend chain...\r\n2024-09-05T08:02:45.400000Z TestFramework (INFO): Running test doublespend tree...\r\n2024-09-05T08:02:50.121000Z TestFramework (INFO): Running test replacement feeperkb...\r\n2024-09-05T08:02:51.283000Z TestFramework (INFO): Running test spends of conflicting outputs...\r\n2024-09-05T08:02:51.397000Z TestFramework (INFO): Running test new unconfirmed inputs...\r\n2024-09-05T08:02:51.464000Z TestFramework (INFO): Running test too many replacements...\r\n2024-09-05T08:02:52.743000Z TestFramework (INFO): Running test too many replacements using default mempool params...\r\n2024-09-05T08:02:57.833000Z TestFramework (INFO): Running test opt-in...\r\n2024-09-05T08:02:57.984000Z TestFramework (INFO): Running test RPC...\r\n2024-09-05T08:02:58.291000Z TestFramework (INFO): Running test prioritised transactions...\r\n2024-09-05T08:02:58.393000Z TestFramework (INFO): Running test no inherited signaling...\r\n2024-09-05T08:02:58.427000Z TestFramework (INFO): Check that the child tx can still be replaced (via a tx that also replaces the parent)\r\n2024-09-05T08:02:58.446000Z TestFramework (INFO): Running test replacement relay fee...\r\n2024-09-05T08:02:58.461000Z TestFramework (INFO): Running test full replace by fee...\r\n2024-09-05T08:02:58.704000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_framework.py\", line 132, in main\r\n    self.run_test()\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/feature_rbf.py\", line 88, in run_test\r\n    self.test_fullrbf()\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/feature_rbf.py\", line 707, in test_fullrbf\r\n    self.restart_node(0, extra_args=[\"-mempoolfullrbf=1\"])\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_framework.py\", line 595, in restart_node\r\n    self.stop_node(i)\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_framework.py\", line 581, in stop_node\r\n    self.nodes[i].stop_node(expected_stderr, wait=wait)\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_node.py\", line 409, in stop_node\r\n    self.wait_until_stopped(expected_stderr=expected_stderr)\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_node.py\", line 444, in wait_until_stopped\r\n    self.wait_until(lambda: self.is_node_stopped(**kwargs), timeout=timeout)\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_node.py\", line 842, in wait_until\r\n    return wait_until_helper_internal(test_function, timeout=timeout, timeout_factor=self.timeout_factor)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/util.py\", line 289, in wait_until_helper_internal\r\n    if predicate():\r\n       ^^^^^^^^^^^\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_node.py\", line 444, in <lambda>\r\n    self.wait_until(lambda: self.is_node_stopped(**kwargs), timeout=timeout)\r\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_node.py\", line 429, in is_node_stopped\r\n    raise AssertionError(\"Unexpected stderr {} != {}\".format(stderr, expected_stderr))\r\nAssertionError: Unexpected stderr 004c:err:winediag:nodrv_CreateWindow Application tried to create a window, but no driver could be loaded.\r\n004c:err:winediag:nodrv_CreateWindow L\"The explorer process failed to start.\"\r\n004c:err:systray:initialize_systray Could not create tray window != \r\n2024-09-05T08:02:58.756000Z TestFramework (INFO): Stopping nodes\r\nTraceback (most recent call last):\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/feature_rbf.py\", line 733, in <module>\r\n    ReplaceByFeeTest(__file__).main()\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_framework.py\", line 155, in main\r\n    exit_code = self.shutdown()\r\n                ^^^^^^^^^^^^^^^\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_framework.py\", line 318, in shutdown\r\n    self.stop_nodes()\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/test_node.py\", line 395, in stop_node\r\n    self.stop(wait=wait)\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/coverage.py\", line 50, in __call__\r\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/authproxy.py\", line 127, in __call__\r\n    response, status = self._request('POST', self.__url.path, postdata.encode('utf-8'))\r\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-w64-mingw32/test/functional/test_framework/authproxy.py\", line 105, in _request\r\n    self.__conn.request(method, path, postdata, headers)\r\n  File \"/usr/lib/python3.11/http/client.py\", line 1282, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/usr/lib/python3.11/http/client.py\", line 1328, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/usr/lib/python3.11/http/client.py\", line 1277, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/usr/lib/python3.11/http/client.py\", line 1037, in _send_output\r\n    self.send(msg)\r\n  File \"/usr/lib/python3.11/http/client.py\", line 975, in send\r\n    self.connect()\r\n  File \"/usr/lib/python3.11/http/client.py\", line 941, in connect\r\n    self.sock = self._create_connection(\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/socket.py\", line 851, in create_connection\r\n    raise exceptions[0]\r\n  File \"/usr/lib/python3.11/socket.py\", line 836, in create_connection\r\n    sock.connect(sa)\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n[node 1] Cleaning up leftover process\r\n[node 0] Cleaning up leftover process\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30818#issuecomment-2330883102",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30818"
    },
    {
      "event": "unlabeled",
      "id": 14142556625,
      "node_id": "UNLE_lADOABII586VXvm4zwAAAANK9knR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14142556625",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T08:10:27Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "unlabeled",
      "id": 14142558752,
      "node_id": "UNLE_lADOABII586VXvm4zwAAAANK9lIg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14142558752",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T08:10:36Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 14142558761,
      "node_id": "LE_lADOABII586VXvm4zwAAAANK9lIp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14142558761",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T08:10:36Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 2330898737,
      "node_id": "IC_kwDOABII586K7rEx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2330898737",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T08:17:44Z",
      "updated_at": "2024-09-05T08:24:14Z",
      "author_association": "MEMBER",
      "body": "Running the Windows tests on Wine in Linux is obviously better than nothing, but it would be better to run them directly on Windows. However, I am not sure what the easiest way to do this would be. For now, editing the config ini to adjust the paths is required.\r\n\r\n<!-- 1073d00eb37f68d55b4b46daf2f68610c6f6c970 b-c-n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30818#issuecomment-2330898737",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30818"
    }
  ]
}