{
  "type": "issue",
  "issue": {
    "id": 1720770400,
    "node_id": "I_kwDOABII585mkN9g",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/27722",
    "number": 27722,
    "state": "open",
    "state_reason": null,
    "title": "bitcoind hangs waiting for `g_requests.empty()`",
    "body": "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\nbitcoind hangs \r\n\r\n### Expected behaviour\r\n\r\nbitcoind shouldn't hang\r\n\r\nI was able to dump the running threads and it was stuck waiting for `g_requests` to be empty. The issue seems to be that this callback may not actually be called in case of error: https://github.com/bitcoin/bitcoin/blob/22139f6e83a2bedd2dad9f280567d2c76c54252f/src/httpserver.cpp#L222-L227\r\n\r\nSee this issue https://github.com/libevent/libevent/issues/589 for more details. I think what happens is that interrupting `bitcoin-cli` before it has received the reply calls the error callback and then the success callback is never called.\r\n\r\nI think this is also a memory leak since `g_requests` won't get cleaned up. Whether it's severe or not probably depends on the caller and what type of requests they are making. This new code was introduced here https://github.com/bitcoin/bitcoin/pull/26742\r\n\r\n### Steps to reproduce\r\n\r\nI was running a simple shell script in 4 terminal windows for fun:\r\n\r\n```\r\n#!/bin/bash\r\n\r\nfor i in {1..50000}\r\ndo\r\n\t./src/bitcoin-cli -rpcuser=admin -rpcpassword=pass getrawtransaction 217819875434324c412d5e938f7f3c1670fb60814974cf7958f1fac90ee5afb7\r\ndone\r\n```\r\n\r\nI was messing around with this script and randomly Ctrl-C'd each terminal window in rapid succession and then when I waited up to a minute and Ctrl-C'd bitcoind, it didn't shutdown. I can reproduce it pretty reliably as well.\r\n\r\nCompilation commands:\r\n```\r\n./autogen.sh; ./configure --without-wallet --with-gui=no --disable-zmq; make -j4\r\n```\r\n\r\nRun-time options (note that I was able to reproduce this with the default number of rpcthreads as well):\r\n```\r\n./src/bitcoind -txindex -rpcthreads=1 -debug\r\n```\r\n\r\nOutput of `gcc --version`:\r\n```\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/4.2.1\r\nApple clang version 11.0.3 (clang-1103.0.32.62)\r\nTarget: x86_64-apple-darwin21.6.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n```\r\n\r\nOutput of `g++ --version`:\r\n```\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/4.2.1\r\nApple clang version 11.0.3 (clang-1103.0.32.62)\r\nTarget: x86_64-apple-darwin21.6.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n```\r\n\r\nMy libevent version is 2.1.12\r\n\r\n### Relevant log output\r\n\r\n```\r\n^C2023-05-22T20:56:10Z [http] Interrupting HTTP server\r\n2023-05-22T20:56:10Z [rpc] Interrupting HTTP RPC server\r\n2023-05-22T20:56:10Z [rpc] Interrupting RPC\r\n2023-05-22T20:56:10Z tor: Thread interrupt\r\n2023-05-22T20:56:10Z Shutdown: In progress...\r\n2023-05-22T20:56:10Z [rpc] Stopping HTTP RPC server\r\n2023-05-22T20:56:10Z torcontrol thread exit\r\n2023-05-22T20:56:10Z [http] Unregistering HTTP handler for / (exactmatch 1)\r\n2023-05-22T20:56:10Z addcon thread exit\r\n2023-05-22T20:56:10Z [http] Unregistering HTTP handler for /wallet/ (exactmatch 0)\r\n2023-05-22T20:56:10Z [rpc] Stopping RPC\r\n2023-05-22T20:56:10Z net thread exit\r\n2023-05-22T20:56:10Z [rpc] RPC stopped.\r\n2023-05-22T20:56:10Z [http] Stopping HTTP server\r\n2023-05-22T20:56:10Z [http] Waiting for HTTP worker threads to exit\r\n2023-05-22T20:56:10Z [http] Exited http event loop\r\n2023-05-22T20:56:10Z [http] Waiting for 1 requests to stop HTTP server\r\n```\r\n\r\nThe important bit is the very last log line. bitcoind was still alive and periodically printed log lines about feeding dynamic environment data into the RNG.\r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nCompiled from source\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\n17acb2782a66f033238340e4fb81009e7f79e97a\r\n\r\n### Operating system and version\r\n\r\nmacOS intel\r\n\r\n### Machine specifications\r\n\r\n_No response_",
    "user": {
      "login": "Crypt-iQ",
      "id": 15145615,
      "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Crypt-iQ",
      "html_url": "https://github.com/Crypt-iQ",
      "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
      "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
      "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
      "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
      "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/62",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/62",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/62/labels",
      "id": 9441433,
      "node_id": "MI_kwDOABII584AkBCZ",
      "number": 62,
      "state": "open",
      "title": "25.1",
      "description": "",
      "creator": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 1,
      "closed_issues": 6,
      "created_at": "2023-05-25T10:17:04Z",
      "updated_at": "2023-07-04T11:01:05Z"
    },
    "locked": false,
    "comments": 17,
    "created_at": "2023-05-22T23:05:42Z",
    "updated_at": "2023-07-04T16:36:51Z"
  },
  "events": [
    {
      "event": "unsubscribed",
      "id": 9311285228,
      "node_id": "UE_lADOABII585mkN9gzwAAAAIq_u_s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9311285228",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-23T05:59:29Z"
    },
    {
      "event": "commented",
      "id": 1559296260,
      "node_id": "IC_kwDOABII585c8PkE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1559296260",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-23T13:05:46Z",
      "updated_at": "2023-05-23T13:19:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think #27245 which uses `evhttp_connection_set_closecb` is needed to avoid this, but:\r\n- it doesn't seem to be slated for v25.0\r\n- I experience this in one of the libevent versions that #27245 doesn't address",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1559296260",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "commented",
      "id": 1559453982,
      "node_id": "IC_kwDOABII585c82Ee",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1559453982",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-23T14:02:43Z",
      "updated_at": "2023-05-23T14:02:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for reporting! I observed this issue sporadically, but were never able to reproduce it until now. With the help of your description (_\"... interrupting bitcoin-cli before it has received the reply ...\"_) I found it's actually quite trivial at least on my machine:\r\n\r\n1. startup `bitcoind -debug=http` (and any other desired flags; note that the hangup also happens without the debug flag, but this allows us to see where it's hanging)\r\n2. execute `bitcoin-cli waitforblockheight 1234567` (or any other RPC call which doesn't terminate immediately)\r\n3. terminate bitcoin-cli via CTRL-C\r\n4. terminate bitcoind via CTRL-C\r\n\r\nThe shutdown leads to the following messages and then hangs forever:\r\n```\r\n2023-05-23T13:58:01Z [http] Unregistering HTTP handler for / (exactmatch 1)\r\n2023-05-23T13:58:01Z [http] Unregistering HTTP handler for /wallet/ (exactmatch 0)\r\n2023-05-23T13:58:01Z [http] Stopping HTTP server\r\n2023-05-23T13:58:01Z [http] Waiting for HTTP worker threads to exit\r\n2023-05-23T13:58:01Z [http] Waiting for 1 requests to stop HTTP server\r\n2023-05-23T13:58:01Z [http] Exited http event loop\r\n2023-05-23T13:58:01Z msghand thread exit\r\n2023-05-23T13:58:01Z net thread exit\r\n2023-05-23T13:58:03Z opencon thread exit\r\n```\r\n\r\nTested on master branch (commit 5ef2c1ee7a7416907e0f9135dc0701a88d92a7f6) with default configuration, running OpenBSD 7.3 with libevent 2.1.12 here.",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1559453982",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "labeled",
      "id": 9316799305,
      "node_id": "LE_lADOABII585mkN9gzwAAAAIrUxNJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9316799305",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-23T14:05:14Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 1559731418,
      "node_id": "IC_kwDOABII585c95za",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1559731418",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-23T16:00:49Z",
      "updated_at": "2023-05-23T16:00:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "I was able to fix this with my branch here https://github.com/Crypt-iQ/bitcoin/commit/4fd7adb30f584664421b6431bce8ebcbf7ceef2f by adding a `evhttp_connection_set_closecb` callback. I didn't need to modify the logic related to `EV_READ` and no functional test errors are introduced on my machine",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1559731418",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "commented",
      "id": 1561718193,
      "node_id": "IC_kwDOABII585dFe2x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561718193",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-24T18:09:25Z",
      "updated_at": "2023-05-24T18:09:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I was able to fix this with my branch here [Crypt-iQ@4fd7adb](https://github.com/Crypt-iQ/bitcoin/commit/4fd7adb30f584664421b6431bce8ebcbf7ceef2f) by adding a `evhttp_connection_set_closecb` callback. I didn't need to modify the logic related to `EV_READ` and no functional test errors are introduced on my machine\r\n\r\nCan confirm that this patch fixes the issue on my side. ",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1561718193",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "commented",
      "id": 1564196898,
      "node_id": "IC_kwDOABII585dO8Ai",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1564196898",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T10:44:53Z",
      "updated_at": "2023-05-26T10:44:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hmmm, curiously enough I was not able to reproduce using either method on master @ aa6cc5bec9 \r\n\r\nWith @theStack method:\r\n\r\n```log\r\n2023-05-26T10:39:07Z [http] Received a POST request for / from 127.0.0.1:50704\r\n^C2023-05-26T10:39:10Z [http] Interrupting HTTP server\r\n2023-05-26T10:39:10Z tor: Thread interrupt\r\n2023-05-26T10:39:10Z torcontrol thread exit\r\n2023-05-26T10:39:10Z addcon thread exit\r\n2023-05-26T10:39:10Z opencon thread exit\r\n2023-05-26T10:39:10Z Shutdown: In progress...\r\n2023-05-26T10:39:10Z [http] Unregistering HTTP handler for / (exactmatch 1)\r\n2023-05-26T10:39:10Z [http] Unregistering HTTP handler for /wallet/ (exactmatch 0)\r\n2023-05-26T10:39:10Z [http] Stopping HTTP server\r\n2023-05-26T10:39:10Z [http] Waiting for HTTP worker threads to exit\r\n2023-05-26T10:39:10Z [http] Waiting for 1 requests to stop HTTP server\r\n2023-05-26T10:39:10Z [http] Waiting for HTTP event thread to exit\r\n2023-05-26T10:39:10Z [http] Exited http event loop\r\n2023-05-26T10:39:10Z [http] Stopped HTTP server\r\n2023-05-26T10:39:10Z loadblk thread exit\r\n2023-05-26T10:39:10Z net thread exit\r\n2023-05-26T10:39:10Z msghand thread exit\r\n2023-05-26T10:39:10Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat started\r\n2023-05-26T10:39:10Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat completed (0.00s)\r\n2023-05-26T10:39:10Z scheduler thread exit\r\n2023-05-26T10:39:16Z Shutdown: done\r\n```\r\n\r\nWith @Crypt-iQ method:\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\n```log\r\n... many lines like this\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59546\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59562\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59566\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59570\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59574\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59580\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59590\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59596\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59606\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59616\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59618\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59636\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59638\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59660\r\n2023-05-26T10:42:04Z [http] Received a POST request for / from 127.0.0.1:59658\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59686\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59684\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59704\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59706\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59722\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59734\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59740\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59746\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59760\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59774\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59790\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59792\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59798\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59802\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59804\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59818\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59822\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59828\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59826\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59840\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59854\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59864\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59866\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59870\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59868\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59886\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59900\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59914\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59928\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59944\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59960\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59964\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59968\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59980\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:59982\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60002\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60004\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60010\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60008\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60018\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60016\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60038\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60044\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60048\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60054\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60066\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60064\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60080\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60082\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60108\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60110\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60124\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60128\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60130\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60142\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60154\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60158\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60170\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60168\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60186\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60184\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60196\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60198\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60224\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60226\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60242\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60244\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60258\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60256\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60284\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60296\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60298\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60310\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60320\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60336\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60344\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60342\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60362\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60370\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60378\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60382\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60386\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60388\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60400\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60402\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60422\r\n2023-05-26T10:42:05Z [http] Received a POST request for / from 127.0.0.1:60430\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60436\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60450\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60462\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60468\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60472\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60470\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60494\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60496\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60508\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60510\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60514\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60522\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60524\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60532\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60544\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60552\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60556\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60560\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60570\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60582\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60592\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60598\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60612\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60614\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60620\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60626\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60628\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60646\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60654\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60652\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60676\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60678\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60680\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60688\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60700\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60706\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60710\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60712\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60724\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60736\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60750\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60756\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60760\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60772\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60776\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60788\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60802\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60814\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60816\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60828\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60830\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60846\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60848\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60854\r\n2023-05-26T10:42:06Z [http] Received a POST request for / from 127.0.0.1:60866\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60880\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60892\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60896\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60906\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60918\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60934\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60940\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60950\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60960\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60972\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60988\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:60994\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32772\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32774\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32776\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32778\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32788\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32802\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32812\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32828\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32830\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32832\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32846\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32854\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32870\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32872\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32876\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32890\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32892\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32904\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32906\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32912\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32928\r\n2023-05-26T10:42:07Z [http] Received a POST request for / from 127.0.0.1:32934\r\n^C2023-05-26T10:42:14Z [http] Interrupting HTTP server\r\n2023-05-26T10:42:14Z tor: Thread interrupt\r\n2023-05-26T10:42:14Z torcontrol thread exit\r\n2023-05-26T10:42:14Z opencon thread exit\r\n2023-05-26T10:42:14Z addcon thread exit\r\n2023-05-26T10:42:14Z Shutdown: In progress...\r\n2023-05-26T10:42:14Z [http] Unregistering HTTP handler for / (exactmatch 1)\r\n2023-05-26T10:42:14Z [http] Unregistering HTTP handler for /wallet/ (exactmatch 0)\r\n2023-05-26T10:42:14Z [http] Stopping HTTP server\r\n2023-05-26T10:42:14Z [http] Waiting for HTTP worker threads to exit\r\n2023-05-26T10:42:14Z [http] Exited http event loop\r\n2023-05-26T10:42:14Z [http] Waiting for HTTP event thread to exit\r\n2023-05-26T10:42:14Z [http] Stopped HTTP server\r\n2023-05-26T10:42:14Z net thread exit\r\n2023-05-26T10:42:14Z loadblk thread exit\r\n2023-05-26T10:42:14Z msghand thread exit\r\n2023-05-26T10:42:14Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat started\r\n2023-05-26T10:42:14Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat completed (0.00s)\r\n2023-05-26T10:42:14Z scheduler thread exit\r\n2023-05-26T10:42:15Z Shutdown: done\r\n```\r\n\r\n</details>",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1564196898",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9349314476,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAItQzes",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9349314476",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T10:44:53Z"
    },
    {
      "event": "subscribed",
      "id": 9349314484,
      "node_id": "SE_lADOABII585mkN9gzwAAAAItQze0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9349314484",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T10:44:53Z"
    },
    {
      "event": "mentioned",
      "id": 9349314501,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAItQzfF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9349314501",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T10:44:53Z"
    },
    {
      "event": "subscribed",
      "id": 9349314517,
      "node_id": "SE_lADOABII585mkN9gzwAAAAItQzfV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9349314517",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T10:44:54Z"
    },
    {
      "event": "commented",
      "id": 1564380223,
      "node_id": "IC_kwDOABII585dPow_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1564380223",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T13:15:58Z",
      "updated_at": "2023-05-26T13:15:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "@willcl-ark can you find what libevent version you're using? ",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1564380223",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9350744216,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAItWQiY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9350744216",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T13:15:59Z"
    },
    {
      "event": "subscribed",
      "id": 9350744231,
      "node_id": "SE_lADOABII585mkN9gzwAAAAItWQin",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9350744231",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T13:15:59Z"
    },
    {
      "event": "commented",
      "id": 1568888056,
      "node_id": "IC_kwDOABII585dg1T4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1568888056",
      "actor": {
        "login": "erikarvstedt",
        "id": 36110478,
        "node_id": "MDQ6VXNlcjM2MTEwNDc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/36110478?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/erikarvstedt",
        "html_url": "https://github.com/erikarvstedt",
        "followers_url": "https://api.github.com/users/erikarvstedt/followers",
        "following_url": "https://api.github.com/users/erikarvstedt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/erikarvstedt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/erikarvstedt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/erikarvstedt/subscriptions",
        "organizations_url": "https://api.github.com/users/erikarvstedt/orgs",
        "repos_url": "https://api.github.com/users/erikarvstedt/repos",
        "events_url": "https://api.github.com/users/erikarvstedt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/erikarvstedt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T18:31:39Z",
      "updated_at": "2023-05-30T20:30:43Z",
      "author_association": "NONE",
      "body": "This bug appeared in the [nix-bitcoin](https://github.com/fort-nix/nix-bitcoin/) [test suite](https://github.com/fort-nix/nix-bitcoin/blob/master/test/tests.py). I can confirm that it is fixed by https://github.com/Crypt-iQ/bitcoin/commit/4fd7adb30f584664421b6431bce8ebcbf7ceef2f.\r\n\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\nThe test is executed inside a QEMU VM and runs `bitcoind` together with a bunch of client services (like `clightning`, `lnd`, `joinmarket`). It then stops all services, including `bitcoind`.\r\nSometimes `bitcoind` hangs during shutdown:\r\n1. First, it waits for a few minutes at [httpserver.cpp#L469](https://github.com/bitcoin/bitcoin/blob/v25.0/src/httpserver.cpp#L469) (`[http] Waiting for HTTP worker threads to exit`)\r\n2. Then it hangs indefinitely at [httpserver.cpp#L484](https://github.com/bitcoin/bitcoin/blob/v25.0/src/httpserver.cpp#L484) (`[http] Waiting for 1 requests to stop HTTP server`')\r\n\r\n`bitcoind` gets shutdown *after* all client services have exited, so there are never any lingering active connections.\r\n\r\nThis bug is hard to reproduce in the context of the test suite.\r\nI once could consistently trigger it on my desktop system, but never again after rebooting the system.\r\nCurrently, I can reproduce it in 80% of all test runs on our [nix-bitcoin server](https://nixbitcoin.org).\r\n\r\n[Here's the log output](https://gist.github.com/erikarvstedt/843f6d5fdb545b52f6bd34bc66651c52) of the shutdown sequence, interspersed with gdb backtraces of all threads.\r\n\r\n</details>\r\n\r\n",
      "user": {
        "login": "erikarvstedt",
        "id": 36110478,
        "node_id": "MDQ6VXNlcjM2MTEwNDc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/36110478?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/erikarvstedt",
        "html_url": "https://github.com/erikarvstedt",
        "followers_url": "https://api.github.com/users/erikarvstedt/followers",
        "following_url": "https://api.github.com/users/erikarvstedt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/erikarvstedt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/erikarvstedt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/erikarvstedt/subscriptions",
        "organizations_url": "https://api.github.com/users/erikarvstedt/orgs",
        "repos_url": "https://api.github.com/users/erikarvstedt/repos",
        "events_url": "https://api.github.com/users/erikarvstedt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/erikarvstedt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1568888056",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "commented",
      "id": 1568965050,
      "node_id": "IC_kwDOABII585dhIG6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1568965050",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T19:26:08Z",
      "updated_at": "2023-05-30T19:26:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "@erikarvstedt it seems like there's a call to `importmulti` that is outstanding while bitcoind is trying to shut down",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1568965050",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9382163187,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAIvOHLz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9382163187",
      "actor": {
        "login": "erikarvstedt",
        "id": 36110478,
        "node_id": "MDQ6VXNlcjM2MTEwNDc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/36110478?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/erikarvstedt",
        "html_url": "https://github.com/erikarvstedt",
        "followers_url": "https://api.github.com/users/erikarvstedt/followers",
        "following_url": "https://api.github.com/users/erikarvstedt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/erikarvstedt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/erikarvstedt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/erikarvstedt/subscriptions",
        "organizations_url": "https://api.github.com/users/erikarvstedt/orgs",
        "repos_url": "https://api.github.com/users/erikarvstedt/repos",
        "events_url": "https://api.github.com/users/erikarvstedt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/erikarvstedt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T19:26:08Z"
    },
    {
      "event": "subscribed",
      "id": 9382163206,
      "node_id": "SE_lADOABII585mkN9gzwAAAAIvOHMG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9382163206",
      "actor": {
        "login": "erikarvstedt",
        "id": 36110478,
        "node_id": "MDQ6VXNlcjM2MTEwNDc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/36110478?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/erikarvstedt",
        "html_url": "https://github.com/erikarvstedt",
        "followers_url": "https://api.github.com/users/erikarvstedt/followers",
        "following_url": "https://api.github.com/users/erikarvstedt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/erikarvstedt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/erikarvstedt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/erikarvstedt/subscriptions",
        "organizations_url": "https://api.github.com/users/erikarvstedt/orgs",
        "repos_url": "https://api.github.com/users/erikarvstedt/repos",
        "events_url": "https://api.github.com/users/erikarvstedt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/erikarvstedt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T19:26:08Z"
    },
    {
      "event": "commented",
      "id": 1569074534,
      "node_id": "IC_kwDOABII585dhi1m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569074534",
      "actor": {
        "login": "erikarvstedt",
        "id": 36110478,
        "node_id": "MDQ6VXNlcjM2MTEwNDc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/36110478?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/erikarvstedt",
        "html_url": "https://github.com/erikarvstedt",
        "followers_url": "https://api.github.com/users/erikarvstedt/followers",
        "following_url": "https://api.github.com/users/erikarvstedt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/erikarvstedt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/erikarvstedt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/erikarvstedt/subscriptions",
        "organizations_url": "https://api.github.com/users/erikarvstedt/orgs",
        "repos_url": "https://api.github.com/users/erikarvstedt/repos",
        "events_url": "https://api.github.com/users/erikarvstedt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/erikarvstedt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T20:43:30Z",
      "updated_at": "2023-05-30T21:12:26Z",
      "author_association": "NONE",
      "body": "@Crypt-iQ, the slow progress of `importmulti` is indeed a separate issue. Maybe it has existed before and was just uncovered by https://github.com/bitcoin/bitcoin/pull/26742. I'll check this later.\r\nI've updated my previous post. ",
      "user": {
        "login": "erikarvstedt",
        "id": 36110478,
        "node_id": "MDQ6VXNlcjM2MTEwNDc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/36110478?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/erikarvstedt",
        "html_url": "https://github.com/erikarvstedt",
        "followers_url": "https://api.github.com/users/erikarvstedt/followers",
        "following_url": "https://api.github.com/users/erikarvstedt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/erikarvstedt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/erikarvstedt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/erikarvstedt/subscriptions",
        "organizations_url": "https://api.github.com/users/erikarvstedt/orgs",
        "repos_url": "https://api.github.com/users/erikarvstedt/repos",
        "events_url": "https://api.github.com/users/erikarvstedt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/erikarvstedt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1569074534",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9382834480,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAIvQrEw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9382834480",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T20:43:31Z"
    },
    {
      "event": "subscribed",
      "id": 9382834492,
      "node_id": "SE_lADOABII585mkN9gzwAAAAIvQrE8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9382834492",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T20:43:31Z"
    },
    {
      "event": "commented",
      "id": 1569922589,
      "node_id": "IC_kwDOABII585dkx4d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569922589",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T10:23:30Z",
      "updated_at": "2023-05-31T10:23:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "> @willcl-ark can you find what libevent version you're using?\r\n\r\nI am using libevent 2.1.12 (like TheStack)",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1569922589",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9388371194,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAIvlyz6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9388371194",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T10:23:31Z"
    },
    {
      "event": "subscribed",
      "id": 9388371219,
      "node_id": "SE_lADOABII585mkN9gzwAAAAIvly0T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9388371219",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T10:23:31Z"
    },
    {
      "event": "commented",
      "id": 1570668159,
      "node_id": "IC_kwDOABII585dnn5_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570668159",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T17:56:30Z",
      "updated_at": "2023-05-31T17:56:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "I get this when compiling with both gcc and clang-16. I am also using libevent 2.1.12. Is there anything unique about your setup @willcl-ark ? Also, did you Ctrl-C the `waitforblockheight` command before trying to stop bitcoind?",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1570668159",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9393658143,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAIv59kf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9393658143",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T17:56:30Z"
    },
    {
      "event": "subscribed",
      "id": 9393658159,
      "node_id": "SE_lADOABII585mkN9gzwAAAAIv59kv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9393658159",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T17:56:30Z"
    },
    {
      "event": "milestoned",
      "id": 9400997628,
      "node_id": "MIE_lADOABII585mkN9gzwAAAAIwV9b8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400997628",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:53:05Z",
      "milestone": {
        "title": "25.1"
      }
    },
    {
      "event": "commented",
      "id": 1606107875,
      "node_id": "IC_kwDOABII585fu0Lj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1606107875",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T14:11:08Z",
      "updated_at": "2023-06-25T14:11:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "As @willcl-ark, tried @theStack's method with no sucess, my libevent version is 2.1.7, I'll try to update it and retry again. Thanks.\r\n\r\n@Crypt-iQ I did: Ctrl-C the waitforblockheight command before trying to stop bitcoind.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1606107875",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9629949735,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI9_V8n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9629949735",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T14:11:08Z"
    },
    {
      "event": "subscribed",
      "id": 9629949737,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI9_V8p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9629949737",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T14:11:08Z"
    },
    {
      "event": "mentioned",
      "id": 9629949741,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI9_V8t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9629949741",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T14:11:09Z"
    },
    {
      "event": "subscribed",
      "id": 9629949744,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI9_V8w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9629949744",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T14:11:09Z"
    },
    {
      "event": "mentioned",
      "id": 9629949746,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI9_V8y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9629949746",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T14:11:09Z"
    },
    {
      "event": "subscribed",
      "id": 9629949750,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI9_V82",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9629949750",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T14:11:09Z"
    },
    {
      "event": "mentioned",
      "id": 9630477346,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI-BWwi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630477346",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T17:58:17Z"
    },
    {
      "event": "subscribed",
      "id": 9630477347,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI-BWwj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630477347",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T17:58:17Z"
    },
    {
      "event": "mentioned",
      "id": 9630477352,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI-BWwo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630477352",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T17:58:17Z"
    },
    {
      "event": "subscribed",
      "id": 9630477357,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI-BWwt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630477357",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T17:58:17Z"
    },
    {
      "event": "mentioned",
      "id": 9630477362,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI-BWwy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630477362",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T17:58:17Z"
    },
    {
      "event": "subscribed",
      "id": 9630477365,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI-BWw1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630477365",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T17:58:17Z"
    },
    {
      "event": "comment_deleted",
      "id": 9630651260,
      "node_id": "CDE_lADOABII585mkN9gzwAAAAI-CBN8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630651260",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T19:20:44Z"
    },
    {
      "event": "commented",
      "id": 1607224982,
      "node_id": "IC_kwDOABII585fzE6W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1607224982",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:04:11Z",
      "updated_at": "2023-06-26T11:04:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "> As @willcl-ark, tried @theStack's method with no sucess, my libevent version is 2.1.7, I'll try to update it and retry again. Thanks.\r\n> \r\n> @Crypt-iQ I did: Ctrl-C the waitforblockheight command before trying to stop bitcoind.\r\n\r\nGood to know, I'll have to test out that version",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1607224982",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9637357001,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI-bmXJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9637357001",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:04:12Z"
    },
    {
      "event": "subscribed",
      "id": 9637357018,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI-bmXa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9637357018",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:04:12Z"
    },
    {
      "event": "mentioned",
      "id": 9637357041,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI-bmXx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9637357041",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:04:12Z"
    },
    {
      "event": "subscribed",
      "id": 9637357060,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI-bmYE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9637357060",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:04:12Z"
    },
    {
      "event": "mentioned",
      "id": 9637357084,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI-bmYc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9637357084",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:04:12Z"
    },
    {
      "event": "subscribed",
      "id": 9637357101,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI-bmYt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9637357101",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:04:12Z"
    },
    {
      "event": "labeled",
      "id": 9637691225,
      "node_id": "LE_lADOABII585mkN9gzwAAAAI-c39Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9637691225",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T11:32:39Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 1611033313,
      "node_id": "IC_kwDOABII585gBmrh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611033313",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T09:00:30Z",
      "updated_at": "2023-06-28T09:00:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I get this when compiling with both gcc and clang-16. I am also using libevent 2.1.12. Is there anything unique about your setup @willcl-ark ? Also, did you Ctrl-C the `waitforblockheight` command before trying to stop bitcoind?\r\n\r\nI've had more reports of this deadlock so come back to try and repro it again, but don't seem to be able to no matter what I try  \r\n\r\nI am on Ubuntu 23.04, also using Clang 16 and libevent 2.1.12-stable-8ubuntu3. It doesn't look like there are any debian patches applied which could affect this...\r\n\r\n<details>\r\n<summary>debug log with http and libevent looks normal</summary>\r\n\r\n```log\r\n2023-06-28T08:47:52Z [libevent:debug] event_active: 0x55c039f36038 (fd 12), res 2, callback 0x7ff7a7371270\r\n2023-06-28T08:47:52Z [libevent:debug] event_process_active: event: 0x55c039f36038, EV_READ   call 0x7ff7a7371270\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_get_request_connection: new request from 127.0.0.1:46142 on 44\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] Attempting connection to 127.0.0.1:46142\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] event_del: 0x7ff7500053f0 (fd -1), callback 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_del: 0x7ff750005470 (fd -1), callback 0x7ff7a7362740\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event: 0x7ff750005470 (fd 44),  EV_WRITE   call 0x7ff7a7362740\r\n2023-06-28T08:47:52Z [libevent:debug] Epoll ADD(4) on fd 44 okay. Old events were 0; read change was 0 (none); write change was 1 (add); close change was 0 (none)\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event: 0x7ff7500053f0 (fd 44), EV_READ    call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] Epoll MOD(5) on fd 44 okay. Old events were 4; read change was 1 (add); write change was 0 (none); close change was 0 (none)\r\n2023-06-28T08:47:52Z [libevent:debug] event_del: 0x7ff750005470 (fd 44), callback 0x7ff7a7362740\r\n2023-06-28T08:47:52Z [libevent:debug] Epoll MOD(1) on fd 44 okay. Old events were 6; read change was 0 (none); write change was 2 (del); close change was 0 (none)\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event: 0x7ff7500053f0 (fd 44), EV_READ   EV_TIMEOUT call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event 0x7ff7500053f0, timeout in 30 seconds 0 useconds, call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_del: 0x7ff750005470 (fd 44), callback 0x7ff7a7362740\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event: 0x7ff7500053f0 (fd 44), EV_READ   EV_TIMEOUT call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event 0x7ff7500053f0, timeout in 30 seconds 0 useconds, call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] timeout_next: event: 0x7ff7500053f0, in 30 seconds, 0 useconds\r\n2023-06-28T08:47:52Z [libevent:debug] epoll_dispatch: epoll_wait reports 1\r\n2023-06-28T08:47:52Z [libevent:debug] event_active: 0x7ff7500053f0 (fd 44), res 2, callback 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_process_active: event: 0x7ff7500053f0, EV_READ   call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event: 0x7ff7500053f0 (fd 44), EV_READ   EV_TIMEOUT call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_add: event 0x7ff7500053f0, timeout in 70594 seconds 199020 useconds, call 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_add_header: key: Host val: 127.0.0.1\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_add_header: key: Connection val: close\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_add_header: key: Content-Type val: application/json\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_add_header: key: Authorization val: Basic xxxxxxx\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_add_header: key: Content-Length val: 58\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_read_header: checking for post data on 44\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] evhttp_get_body_length: bytes to read: 58 (in buffer 58)\r\n\r\n2023-06-28T08:47:52Z [libevent:debug] event_del: 0x7ff7500053f0 (fd 44), callback 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] Epoll DEL(1) on fd 44 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2023-06-28T08:47:52Z [libevent:debug] event_del: 0x7ff7500053f0 (fd 44), callback 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [libevent:debug] event_del: 0x7ff7500053f0 (fd 44), callback 0x7ff7a7361f90\r\n2023-06-28T08:47:52Z [http] Received a POST request for / from 127.0.0.1:46142\r\n^C2023-06-28T08:47:57Z [http] Interrupting HTTP server\r\n2023-06-28T08:47:57Z tor: Thread interrupt\r\n2023-06-28T08:47:57Z [libevent:debug] event_active: 0x55c0458e3250 (fd -1), res 1, callback 0x7ff7a7366100\r\n2023-06-28T08:47:57Z [libevent:debug] epoll_dispatch: epoll_wait reports 1\r\n2023-06-28T08:47:57Z [libevent:debug] event_active: 0x55c0458e51f0 (fd 30), res 2, callback 0x7ff7a736c690\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x55c0458e3250 (fd -1), callback 0x7ff7a7366100\r\n2023-06-28T08:47:57Z [libevent:debug] event_process_active: event: 0x55c0458e3250,    call 0x7ff7a7366100\r\n2023-06-28T08:47:57Z [libevent:debug] event_base_loop: asked to terminate loop.\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x7ff640001080 (fd -1), callback 0x55c03736e022\r\n2023-06-28T08:47:57Z torcontrol thread exit\r\n2023-06-28T08:47:57Z Shutdown: In progress...\r\n2023-06-28T08:47:57Z addcon thread exit\r\n2023-06-28T08:47:57Z opencon thread exit\r\n2023-06-28T08:47:57Z [http] Unregistering HTTP handler for / (exactmatch 1)\r\n2023-06-28T08:47:57Z [http] Unregistering HTTP handler for /wallet/ (exactmatch 0)\r\n2023-06-28T08:47:57Z [http] Stopping HTTP server\r\n2023-06-28T08:47:57Z [http] Waiting for HTTP worker threads to exit\r\n2023-06-28T08:47:57Z [libevent:debug] evhttp_add_header: key: Content-Type val: application/json\r\n\r\n2023-06-28T08:47:57Z [libevent:debug] evhttp_add_header: key: Connection val: close\r\n\r\n2023-06-28T08:47:57Z [libevent:debug] event_active: 0x7ff730001240 (fd -1), res 0, callback 0x55c03750235f\r\n2023-06-28T08:47:57Z [libevent:debug] epoll_dispatch: epoll_wait reports 1\r\n2023-06-28T08:47:57Z [libevent:debug] event_active: 0x55c039f35bc0 (fd 10), res 2, callback 0x7ff7a736c690\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x7ff730001240 (fd -1), callback 0x55c03750235f\r\n2023-06-28T08:47:57Z [libevent:debug] event_process_active: event: 0x7ff730001240,    call 0x55c03750235f\r\n2023-06-28T08:47:57Z [libevent:debug] evhttp_add_header: key: Date val: Wed, 28 Jun 2023 08:47:57 GMT\r\n\r\n2023-06-28T08:47:57Z [libevent:debug] evhttp_add_header: key: Content-Length val: 123\r\n\r\n2023-06-28T08:47:57Z [libevent:debug] evhttp_add_header: key: Connection val: close\r\n\r\n2023-06-28T08:47:57Z [libevent:debug] evhttp_write_buffer: preparing to write buffer\r\n\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event: 0x7ff7500053f0 (fd 44), EV_READ   EV_TIMEOUT call 0x7ff7a7361f90\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll ADD(1) on fd 44 okay. Old events were 0; read change was 1 (add); write change was 0 (none); close change was 0 (none)\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event 0x7ff7500053f0, timeout in 30 seconds 0 useconds, call 0x7ff7a7361f90\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event: 0x7ff750005470 (fd 44),  EV_WRITE  EV_TIMEOUT call 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll MOD(5) on fd 44 okay. Old events were 2; read change was 0 (none); write change was 1 (add); close change was 0 (none)\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event 0x7ff750005470, timeout in 30 seconds 0 useconds, call 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event: 0x7ff7500053f0 (fd 44), EV_READ   EV_TIMEOUT call 0x7ff7a7361f90\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event 0x7ff7500053f0, timeout in 30 seconds 0 useconds, call 0x7ff7a7361f90\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event: 0x7ff750005470 (fd 44),  EV_WRITE  EV_TIMEOUT call 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event 0x7ff750005470, timeout in 30 seconds 0 useconds, call 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x7ff730001240 (fd -1), callback 0x55c03750235f\r\n2023-06-28T08:47:57Z [libevent:debug] event_process_active: event: 0x55c039f35bc0, EV_READ   call 0x7ff7a736c690\r\n2023-06-28T08:47:57Z [libevent:debug] timeout_next: event: 0x7ff7500053f0, in 30 seconds, 0 useconds\r\n2023-06-28T08:47:57Z [libevent:debug] epoll_dispatch: epoll_wait reports 1\r\n2023-06-28T08:47:57Z [libevent:debug] event_active: 0x7ff750005470 (fd 44), res 4, callback 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_active: 0x7ff7500053f0 (fd 44), res 2, callback 0x7ff7a7361f90\r\n2023-06-28T08:47:57Z [libevent:debug] event_process_active: event: 0x7ff750005470,  EV_WRITE  call 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event: 0x7ff750005470 (fd 44),  EV_WRITE  EV_TIMEOUT call 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_add: event 0x7ff750005470, timeout in 70599 seconds 923008 useconds, call 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x55c039f36658 (fd 11), callback 0x7ff7a7371270\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll DEL(1) on fd 11 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x7ff750005470 (fd 44), callback 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll MOD(1) on fd 44 okay. Old events were 6; read change was 0 (none); write change was 2 (del); close change was 0 (none)\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x55c039f36038 (fd 12), callback 0x7ff7a7371270\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll DEL(1) on fd 12 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2023-06-28T08:47:57Z [libevent:debug] event_active: 0x55c04518ec30 (fd -1), res 1, callback 0x7ff7a7366100\r\n2023-06-28T08:47:57Z [http] Waiting for HTTP event thread to exit\r\n2023-06-28T08:47:57Z [libevent:debug] event_callback_finalize_many_: 3 events finalizing\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x7ff7500053f0 (fd 44), callback 0x7ff7a7361f90\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll DEL(1) on fd 44 gave Bad file descriptor: DEL was unnecessary.\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x7ff750005470 (fd 44), callback 0x7ff7a7362740\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x55c04518ec30 (fd -1), callback 0x7ff7a7366100\r\n2023-06-28T08:47:57Z [libevent:debug] event_process_active: event: 0x55c04518ec30,    call 0x7ff7a7366100\r\n2023-06-28T08:47:57Z [libevent:debug] event_process_active: event: 0x7ff750005470,  EV_WRITE  call 0x7ff7a735f910\r\n2023-06-28T08:47:57Z [libevent:debug] event_base_loop: no events registered.\r\n2023-06-28T08:47:57Z [http] Exited http event loop\r\n2023-06-28T08:47:57Z [libevent:debug] event_del: 0x55c039f35bc0 (fd 10), callback 0x7ff7a736c690\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll DEL(1) on fd 10 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2023-06-28T08:47:57Z [libevent:debug] event_base_free_: 0 events freed\r\n2023-06-28T08:47:57Z [http] Stopped HTTP server\r\n2023-06-28T08:47:57Z loadblk thread exit\r\n2023-06-28T08:47:57Z msghand thread exit\r\n2023-06-28T08:47:57Z net thread exit\r\n2023-06-28T08:47:58Z i2paccept thread exit\r\n2023-06-28T08:47:58Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat started\r\n2023-06-28T08:47:58Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat completed (0.01s)\r\n2023-06-28T08:47:58Z [libevent:debug] event_del: 0x55c0458e51f0 (fd 30), callback 0x7ff7a736c690\r\n2023-06-28T08:47:58Z [libevent:debug] Epoll DEL(1) on fd 30 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2023-06-28T08:47:58Z [libevent:debug] event_base_free_: 0 events freed\r\n2023-06-28T08:47:58Z scheduler thread exit\r\n2023-06-28T08:47:58Z Flushed fee estimates to fee_estimates.dat.\r\n2023-06-28T08:47:59Z Shutdown: done\r\n```\r\n\r\n</details>\r\n\r\nI wonder libevent on my system using `Epoll` might be the reason I can't reproduce (and that I've seen mainly reports of this on MacOS)? AFAIK MacOS uses `kqueue`, and not sure what BSD is using but I might guess also `kqueue`... Perhaps `kqueue` blocks if it can't delete a closed fd or something?\r\n\r\n```\r\n2023-06-28T08:47:57Z [libevent:debug] Epoll DEL(1) on fd 44 gave Bad file descriptor: DEL was unnecessary.\r\n# continues with shutdown\r\n...\r\n```",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1611033313",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "mentioned",
      "id": 9661987511,
      "node_id": "MEE_lADOABII585mkN9gzwAAAAI_5jq3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9661987511",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T09:00:30Z"
    },
    {
      "event": "subscribed",
      "id": 9661987525,
      "node_id": "SE_lADOABII585mkN9gzwAAAAI_5jrF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9661987525",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T09:00:30Z"
    },
    {
      "event": "commented",
      "id": 1611979215,
      "node_id": "IC_kwDOABII585gFNnP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611979215",
      "actor": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T19:27:01Z",
      "updated_at": "2023-06-28T19:27:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I was able to fix this with my branch here [Crypt-iQ@4fd7adb](https://github.com/Crypt-iQ/bitcoin/commit/4fd7adb30f584664421b6431bce8ebcbf7ceef2f) by adding a `evhttp_connection_set_closecb` callback.\r\n\r\nThis fixed the issue for me too, but I just saw a crash caused by an assert() just 4 lines before the modified code:\r\n\r\n    [Thread 0x7ffec0f4b700 (LWP 1828755) exited]\r\n    bitcoin-qt: httpserver.cpp:223: http_request_cb(evhttp_request*, void*)::<lambda(evhttp_request*, void*)>: Assertion `n == 1' failed.\r\n\r\n    Thread 35 \"b-http\" received signal SIGABRT, Aborted.\r\n    [Switching to Thread 0x7fff577fe700 (LWP 1762429)]\r\n    __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\r\n    50      ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\r\n    (gdb) where\r\n    #0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\r\n    #1  0x00007ffff6261537 in __GI_abort () at abort.c:79\r\n    #2  0x00007ffff626140f in __assert_fail_base (fmt=0x7ffff63d8688 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", assertion=0x555556ae7ae2 \"n == 1\", file=0x555556ae79c2 \"httpserver.cpp\", line=223, function=<optimized out>) at assert.c:92\r\n    #3  0x00007ffff6270662 in __GI___assert_fail (assertion=0x555556ae7ae2 \"n == 1\", file=0x555556ae79c2 \"httpserver.cpp\", line=223, function=0x555556ae7a98 \"http_request_cb(evhttp_request*, void*)::<lambda(evhttp_request*, void*)>\") at assert.c:101\r\n    #4  0x0000555555dab98b in http_request_cb(evhttp_request*, void*)::{lambda(evhttp_request*, void*)#2}::operator()(evhttp_request*, void*) const ()\r\n    #5  0x0000555555dab9e6 in http_request_cb(evhttp_request*, void*)::{lambda(evhttp_request*, void*)#2}::_FUN(evhttp_request*, void*) ()\r\n    #6  0x00007ffff68e4da9 in  () at /usr/lib/x86_64-linux-gnu/libevent-2.1.so.7\r\n    #7  0x00007ffff68c3233 in  () at /usr/lib/x86_64-linux-gnu/libevent-2.1.so.7\r\n    #8  0x00007ffff68c8b4f in  () at /usr/lib/x86_64-linux-gnu/libevent-2.1.so.7\r\n    #9  0x00007ffff68c928f in event_base_loop () at /usr/lib/x86_64-linux-gnu/libevent-2.1.so.7\r\n    #10 0x0000555555dacf1a in ThreadHTTP(event_base*) ()\r\n    #11 0x0000555555dc4f11 in void std::__invoke_impl<void, void (*)(event_base*), event_base*>(std::__invoke_other, void (*&&)(event_base*), event_base*&&) ()\r\n    #12 0x0000555555dc4b98 in std::__invoke_result<void (*)(event_base*), event_base*>::type std::__invoke<void (*)(event_base*), event_base*>(void (*&&)(event_base*), event_base*&&) ()\r\n    #13 0x0000555555dc48d4 in void std::thread::_Invoker<std::tuple<void (*)(event_base*), event_base*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) ()\r\n    #14 0x0000555555dc47d7 in std::thread::_Invoker<std::tuple<void (*)(event_base*), event_base*> >::operator()() ()\r\n    #15 0x0000555555dc460f in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(event_base*), event_base*> > >::_M_run() ()\r\n    #16 0x00007ffff6663ed0 in  () at /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n    #17 0x00007ffff641aea7 in start_thread (arg=<optimized out>) at pthread_create.c:477\r\n    #18 0x00007ffff633aa2f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n    (gdb) \r\n\r\nI can't tell what the value of n is, because I don't compile with debug enabled any more. But I guess it isn't 1!\r\n\r\n",
      "user": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1611979215",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "commented",
      "id": 1616244103,
      "node_id": "IC_kwDOABII585gVe2H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1616244103",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-02T00:53:55Z",
      "updated_at": "2023-07-02T00:53:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "> [Thread 0x7ffec0f4b700 (LWP 1828755) exited]\r\n> bitcoin-qt: httpserver.cpp:223: http_request_cb(evhttp_request*\r\n\r\nDo you happen to know what libevent version you were on?",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1616244103",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    },
    {
      "event": "commented",
      "id": 1620521045,
      "node_id": "IC_kwDOABII585glzBV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620521045",
      "actor": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T16:36:51Z",
      "updated_at": "2023-07-04T16:36:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Do you happen to know what libevent version you were on?\r\n\r\nIt looks like version 2.1.12.\r\n\r\n```\r\n$ dpkg -l | grep libevent\r\nii  libev4:amd64                                                1:4.33-1                           amd64        high-performance event loop library modelled after libevent\r\nii  libevent-2.1-7:amd64                                        2.1.12-stable-1                    amd64        Asynchronous event notification library\r\nii  libevent-core-2.1-7:amd64                                   2.1.12-stable-1                    amd64        Asynchronous event notification library (core)\r\nii  libevent-dev                                                2.1.12-stable-1                    amd64        Asynchronous event notification library (development files)\r\nii  libevent-extra-2.1-7:amd64                                  2.1.12-stable-1                    amd64        Asynchronous event notification library (extra)\r\nii  libevent-openssl-2.1-7:amd64                                2.1.12-stable-1                    amd64        Asynchronous event notification library (openssl)\r\nii  libevent-pthreads-2.1-7:amd64                               2.1.12-stable-1                    amd64        Asynchronous event notification library (pthreads)\r\n$ apt policy libevent-dev\r\nlibevent-dev:\r\n  Installed: 2.1.12-stable-1\r\n  Candidate: 2.1.12-stable-1\r\n  Version table:\r\n *** 2.1.12-stable-1 500\r\n        500 http://deb.debian.org/debian bullseye/main amd64 Packages\r\n        100 /var/lib/dpkg/status\r\n$ ldd bitcoin-qt | grep event\r\n\tlibevent_pthreads-2.1.so.7 => /usr/lib/x86_64-linux-gnu/libevent_pthreads-2.1.so.7 (0x00007f3ceafca000)\r\n\tlibevent-2.1.so.7 => /usr/lib/x86_64-linux-gnu/libevent-2.1.so.7 (0x00007f3ceaf71000)\r\n\tlibevent_core-2.1.so.7 => /usr/lib/x86_64-linux-gnu/libevent_core-2.1.so.7 (0x00007f3ce9eaa000)\r\n\r\n$ apt-file search libevent-2.1.so.7\r\nlibevent-2.1-7: /usr/lib/x86_64-linux-gnu/libevent-2.1.so.7\r\nlibevent-2.1-7: /usr/lib/x86_64-linux-gnu/libevent-2.1.so.7.0.1\r\n$ dpkg -l libevent-2.1-7\r\nDesired=Unknown/Install/Remove/Purge/Hold\r\n| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend\r\n|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)\r\n||/ Name                 Version         Architecture Description\r\n+++-====================-===============-============-=======================================\r\nii  libevent-2.1-7:amd64 2.1.12-stable-1 amd64        Asynchronous event notification library\r\n$ \r\n```",
      "user": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27722#issuecomment-1620521045",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27722"
    }
  ]
}