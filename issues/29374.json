{
  "type": "issue",
  "issue": {
    "id": 2115907651,
    "node_id": "I_kwDOABII585-HjBD",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29374",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29374/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29374/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29374/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29374",
    "number": 29374,
    "state": "closed",
    "state_reason": "completed",
    "title": "IBD stalling issue in v26.0 and assumevalid=0",
    "body": "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\nI'm using `v26` with `assumevalid=0` and the IBD keeps stalling after the log message says `Potential stale tip detected, will try using extra outbound peer`, it retries but same message keeps repeating unless I restart the software.\r\nI saw someone on bitcoin stack exchange suggested to not use VPN, I'm not using any VPN or tor. Just simple clearnet on a fresh Linux OS.\r\n\r\n### Expected behaviour\r\n\r\nIdeally it shouldn't get stuck, it could be a painful experience to restart multiple times specially if it takes much longer with `assumevalid=0`.\r\n\r\n### Steps to reproduce\r\n\r\nI'm not sure if it can be reproduced easily. \r\n\r\n### Relevant log output\r\n\r\n `Potential stale tip detected, will try using extra outbound peer`\r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nPre-built binaries\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\nv26.0\r\n\r\n### Operating system and version\r\n\r\nFedora v39 Workstation Edition\r\n\r\n### Machine specifications\r\n\r\nMachine specs: 11th Gen i5 x8, 20GB RAM, SSD nvme\r\n\r\n`bitcoin.conf` :\r\n\r\n```\r\ntxindex=1\r\nassumevalid=0\r\ndbcache=4000\r\n\r\nmempoolfullrbf=1\r\nmempoolexpiry=48\r\ndatacarrier=0\r\npermitbaremultisig=0\r\n```",
    "user": {
      "login": "nsvrn",
      "id": 120062368,
      "node_id": "U_kgDOBygBoA",
      "avatar_url": "https://avatars.githubusercontent.com/u/120062368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nsvrn",
      "html_url": "https://github.com/nsvrn",
      "followers_url": "https://api.github.com/users/nsvrn/followers",
      "following_url": "https://api.github.com/users/nsvrn/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/nsvrn/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/nsvrn/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/nsvrn/subscriptions",
      "organizations_url": "https://api.github.com/users/nsvrn/orgs",
      "repos_url": "https://api.github.com/users/nsvrn/repos",
      "events_url": "https://api.github.com/users/nsvrn/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/nsvrn/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 1,
    "closed_at": "2024-02-02T22:31:53Z",
    "created_at": "2024-02-02T22:28:08Z",
    "updated_at": "2024-02-02T22:33:38Z"
  },
  "events": [
    {
      "event": "closed",
      "id": 11690137370,
      "node_id": "CE_lADOABII585-HjBDzwAAAAK4yVca",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11690137370",
      "actor": {
        "login": "nsvrn",
        "id": 120062368,
        "node_id": "U_kgDOBygBoA",
        "avatar_url": "https://avatars.githubusercontent.com/u/120062368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nsvrn",
        "html_url": "https://github.com/nsvrn",
        "followers_url": "https://api.github.com/users/nsvrn/followers",
        "following_url": "https://api.github.com/users/nsvrn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nsvrn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nsvrn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nsvrn/subscriptions",
        "organizations_url": "https://api.github.com/users/nsvrn/orgs",
        "repos_url": "https://api.github.com/users/nsvrn/repos",
        "events_url": "https://api.github.com/users/nsvrn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nsvrn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-02T22:31:53Z"
    },
    {
      "event": "commented",
      "id": 1924808938,
      "node_id": "IC_kwDOABII585yukDq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1924808938",
      "actor": {
        "login": "nsvrn",
        "id": 120062368,
        "node_id": "U_kgDOBygBoA",
        "avatar_url": "https://avatars.githubusercontent.com/u/120062368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nsvrn",
        "html_url": "https://github.com/nsvrn",
        "followers_url": "https://api.github.com/users/nsvrn/followers",
        "following_url": "https://api.github.com/users/nsvrn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nsvrn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nsvrn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nsvrn/subscriptions",
        "organizations_url": "https://api.github.com/users/nsvrn/orgs",
        "repos_url": "https://api.github.com/users/nsvrn/repos",
        "events_url": "https://api.github.com/users/nsvrn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nsvrn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-02T22:33:37Z",
      "updated_at": "2024-02-02T22:33:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Closed this issue for now, just realized that it seems to be an issue with internet connection going down on the machine. It could be unrelated to Bitcoin software so doesn't make sense to investigate further on this one.",
      "user": {
        "login": "nsvrn",
        "id": 120062368,
        "node_id": "U_kgDOBygBoA",
        "avatar_url": "https://avatars.githubusercontent.com/u/120062368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nsvrn",
        "html_url": "https://github.com/nsvrn",
        "followers_url": "https://api.github.com/users/nsvrn/followers",
        "following_url": "https://api.github.com/users/nsvrn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nsvrn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nsvrn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nsvrn/subscriptions",
        "organizations_url": "https://api.github.com/users/nsvrn/orgs",
        "repos_url": "https://api.github.com/users/nsvrn/repos",
        "events_url": "https://api.github.com/users/nsvrn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nsvrn/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29374#issuecomment-1924808938",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29374"
    }
  ]
}