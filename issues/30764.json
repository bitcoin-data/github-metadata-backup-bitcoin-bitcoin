{
  "type": "issue",
  "issue": {
    "id": 2496992399,
    "node_id": "I_kwDOABII586U1RSP",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/30764",
    "number": 30764,
    "state": "open",
    "state_reason": null,
    "title": "test: WARNING: ThreadSanitizer: lock-order-inversion (potential deadlock) (pid=32090)",
    "body": "\r\nTo reproduce, use something like:\r\n\r\n```\r\nrm -rf ./bld-cmake/ && cmake -B ./bld-cmake -DAPPEND_CXXFLAGS='-std=c++23' -DCMAKE_C_COMPILER='clang' -DCMAKE_CXX_COMPILER='clang++' -DBUILD_GUI=ON -DBUILD_FUZZ_BINARY=ON -DBUILD_BENCH=ON -DWITH_ZMQ=ON -DWITH_ZMQ=ON -DBUILD_UTIL_CHAINSTATE=ON -DBUILD_KERNEL_LIB=ON -DSANITIZERS=thread        && cmake --build ./bld-cmake --parallel $( nproc ) -- \r\nTSAN_OPTIONS=\"suppressions=$(pwd)/test/sanitizer_suppressions/tsan:halt_on_error=1:second_deadlock_stack=1\" ./bld-cmake/src/test/test_bitcoin -t wallet_tests -l test_suite",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 4,
    "created_at": "2024-08-30T11:36:51Z",
    "updated_at": "2024-08-30T13:48:51Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 14079794168,
      "node_id": "LE_lADOABII586U1RSPzwAAAANHOJv4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14079794168",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:37:07Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 14079794177,
      "node_id": "LE_lADOABII586U1RSPzwAAAANHOJwB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14079794177",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:37:07Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "labeled",
      "id": 14079794185,
      "node_id": "LE_lADOABII586U1RSPzwAAAANHOJwJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14079794185",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:37:07Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "labeled",
      "id": 14079794190,
      "node_id": "LE_lADOABII586U1RSPzwAAAANHOJwO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14079794190",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:37:07Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "milestoned",
      "id": 14079794919,
      "node_id": "MIE_lADOABII586U1RSPzwAAAANHOJ7n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14079794919",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:37:11Z",
      "milestone": {
        "title": "28.0"
      }
    },
    {
      "event": "demilestoned",
      "id": 14079847009,
      "node_id": "DEME_lADOABII586U1RSPzwAAAANHOWph",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14079847009",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:41:56Z",
      "milestone": {
        "title": "28.0"
      }
    },
    {
      "event": "unlabeled",
      "id": 14079847512,
      "node_id": "UNLE_lADOABII586U1RSPzwAAAANHOWxY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14079847512",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:41:59Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2320968614,
      "node_id": "IC_kwDOABII586KVyum",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2320968614",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T11:45:50Z",
      "updated_at": "2024-08-30T11:45:50Z",
      "author_association": "MEMBER",
      "body": "Actually, the bisect was wrong. Let me do it again, starting from a fresh install of the OS.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30764#issuecomment-2320968614",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764"
    },
    {
      "event": "commented",
      "id": 2321294345,
      "node_id": "IC_kwDOABII586KXCQJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2321294345",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T13:39:12Z",
      "updated_at": "2024-08-30T13:39:12Z",
      "author_association": "MEMBER",
      "body": "Ok, steps to reproduce, starting from a fresh install of Ubuntu 24.10:\r\n\r\n\r\n```\r\n    1  apt update && apt install -y git && apt install -y git ccache build-essential libtool autotools-dev automake pkg-config bsdmainutils python3-zmq libevent-dev libboost-dev qttools5-dev qttools5-dev-tools systemtap-sdt-dev libminiupnpc-dev libnatpmp-dev libqrencode-dev libzmq3-dev \r\n    2  git clone https://github.com/bitcoin/bitcoin --depth=1 ./bitcoin-core\r\n    3  cd bitcoin-core\r\n    4  ./autogen.sh\r\n    5  apt install -y clang llvm libsqlite3-dev\r\n    6  ./configure --with-sanitizers=thread CC=clang CXX=\"clang++\" \r\n    7  make -j 19 \r\n    8  TSAN_OPTIONS=\"suppressions=$(pwd)/test/sanitizer_suppressions/tsan:halt_on_error=1:second_deadlock_stack=1\" ./src/test/test_bitcoin -t wallet_tests -l test_suite \r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30764#issuecomment-2321294345",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764"
    },
    {
      "event": "commented",
      "id": 2321313037,
      "node_id": "IC_kwDOABII586KXG0N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2321313037",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T13:45:34Z",
      "updated_at": "2024-08-30T13:45:34Z",
      "author_association": "MEMBER",
      "body": "For reference, the output is:\r\n\r\n```\r\nwallet/test/wallet_tests.cpp(47): Entering test suite \"wallet_tests\"\r\nwallet/test/wallet_tests.cpp(74): Entering test case \"scan_for_wallet_transactions\"\r\nwallet/test/wallet_tests.cpp(74): Leaving test case \"scan_for_wallet_transactions\"; testing time: 499472us\r\nwallet/test/wallet_tests.cpp(197): Entering test case \"importmulti_rescan\"\r\nwallet/test/wallet_tests.cpp(197): Leaving test case \"importmulti_rescan\"; testing time: 355160us\r\nwallet/test/wallet_tests.cpp(262): Entering test case \"importwallet_rescan\"\r\nwallet/test/wallet_tests.cpp(262): Leaving test case \"importwallet_rescan\"; testing time: 337828us\r\nwallet/test/wallet_tests.cpp(338): Entering test case \"coin_mark_dirty_immature_credit\"\r\nwallet/test/wallet_tests.cpp(338): Leaving test case \"coin_mark_dirty_immature_credit\"; testing time: 1083463us\r\nwallet/test/wallet_tests.cpp(389): Entering test case \"ComputeTimeSmart\"\r\nwallet/test/wallet_tests.cpp(389): Leaving test case \"ComputeTimeSmart\"; testing time: 152476us\r\nwallet/test/wallet_tests.cpp(427): Entering test case \"LoadReceiveRequests\"\r\nwallet/test/wallet_tests.cpp(427): Leaving test case \"LoadReceiveRequests\"; testing time: 176660us\r\nwallet/test/wallet_tests.cpp(512): Entering test case \"WatchOnlyPubKeys\"\r\nwallet/test/wallet_tests.cpp(512): Leaving test case \"WatchOnlyPubKeys\"; testing time: 147521us\r\nwallet/test/wallet_tests.cpp(588): Entering test case \"ListCoinsTest\"\r\n==================\r\nWARNING: ThreadSanitizer: lock-order-inversion (potential deadlock) (pid=162444)\r\n  Cycle in lock order graph: M0 (0x7fff0b14d678) => M1 (0x557cd516c358) => M0\r\n\r\n  Mutex M1 acquired here while holding mutex M0 in main thread:\r\n    #0 pthread_mutex_lock <null> (test_bitcoin+0x13e17e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #1 __gthread_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:762:12 (test_bitcoin+0x12792ac) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #2 __gthread_recursive_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:824:10 (test_bitcoin+0x12792ac)\r\n    #3 std::recursive_mutex::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/mutex:125:17 (test_bitcoin+0x12792ac)\r\n    #4 std::unique_lock<std::recursive_mutex>::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/unique_lock.h:147:17 (test_bitcoin+0x12792ac)\r\n    #5 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::Enter(char const*, char const*, int) src/./sync.h:163:15 (test_bitcoin+0x12792ac)\r\n    #6 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::UniqueLock(AnnotatedMixin<std::recursive_mutex>&, char const*, char const*, int, bool) src/./sync.h:182:13 (test_bitcoin+0x12792ac)\r\n    #7 node::(anonymous namespace)::ChainImpl::findBlock(uint256 const&, interfaces::FoundBlock const&) src/node/interfaces.cpp:592:9 (test_bitcoin+0x12792ac)\r\n    #8 wallet::CWallet::ComputeTimeSmart(wallet::CWalletTx const&, bool) const src/wallet/wallet.cpp:2839:21 (test_bitcoin+0xedbc9b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #9 wallet::CWallet::AddToWallet(std::shared_ptr<CTransaction const>, std::variant<wallet::TxStateConfirmed, wallet::TxStateInMempool, wallet::TxStateBlockConflicted, wallet::TxStateInactive, wallet::TxStateUnrecognized> const&, std::function<bool (wallet::CWalletTx&, bool)> const&, bool, bool) src/wallet/wallet.cpp:1090:26 (test_bitcoin+0xeda36a) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #10 wallet::wallet_tests::AddTx(ChainstateManager&, wallet::CWallet&, unsigned int, long, long) src/wallet/test/wallet_tests.cpp:378:19 (test_bitcoin+0xc9a145) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #11 wallet::wallet_tests::ComputeTimeSmart::test_method() src/wallet/test/wallet_tests.cpp:392:5 (test_bitcoin+0xc98e3b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #12 wallet::wallet_tests::ComputeTimeSmart_invoker() src/wallet/test/wallet_tests.cpp:389:1 (test_bitcoin+0xc9882d) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #13 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:117:11 (test_bitcoin+0x2f1cfd) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #14 boost::function0<void>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x259698) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #15 boost::detail::forward::operator()() /usr/include/boost/test/impl/execution_monitor.ipp:1395:32 (test_bitcoin+0x259698)\r\n    #16 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:137:18 (test_bitcoin+0x259698)\r\n    #17 boost::function0<int>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x1d7503) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #18 int boost::detail::do_invoke<boost::shared_ptr<boost::detail::translator_holder_base>, boost::function<int ()>>(boost::shared_ptr<boost::detail::translator_holder_base> const&, boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:308:30 (test_bitcoin+0x1d7503)\r\n    #19 boost::execution_monitor::catch_signals(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:910:16 (test_bitcoin+0x1d7503)\r\n    #20 boost::execution_monitor::execute(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1308:16 (test_bitcoin+0x1d787a) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #21 boost::execution_monitor::vexecute(boost::function<void ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1404:5 (test_bitcoin+0x1d3120) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #22 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) /usr/include/boost/test/impl/unit_test_monitor.ipp:49:9 (test_bitcoin+0x1d3120)\r\n    #23 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:815:44 (test_bitcoin+0x20c58e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #24 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #25 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #26 boost::unit_test::framework::run(unsigned long, bool) /usr/include/boost/test/impl/framework.ipp:1722:29 (test_bitcoin+0x1d1deb) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #27 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) /usr/include/boost/test/impl/unit_test_main.ipp:250:9 (test_bitcoin+0x1ef01d) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #28 main /usr/include/boost/test/impl/unit_test_main.ipp:306:12 (test_bitcoin+0x1ef823) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n\r\n  Mutex M0 previously acquired by the same thread here:\r\n    #0 pthread_mutex_lock <null> (test_bitcoin+0x13e17e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #1 __gthread_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:762:12 (test_bitcoin+0xed9f25) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #2 __gthread_recursive_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:824:10 (test_bitcoin+0xed9f25)\r\n    #3 std::recursive_mutex::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/mutex:125:17 (test_bitcoin+0xed9f25)\r\n    #4 std::unique_lock<std::recursive_mutex>::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/unique_lock.h:147:17 (test_bitcoin+0xed9f25)\r\n    #5 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::Enter(char const*, char const*, int) src/./sync.h:163:15 (test_bitcoin+0xed9f25)\r\n    #6 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::UniqueLock(AnnotatedMixin<std::recursive_mutex>&, char const*, char const*, int, bool) src/./sync.h:182:13 (test_bitcoin+0xed9f25)\r\n    #7 wallet::CWallet::AddToWallet(std::shared_ptr<CTransaction const>, std::variant<wallet::TxStateConfirmed, wallet::TxStateInMempool, wallet::TxStateBlockConflicted, wallet::TxStateInactive, wallet::TxStateUnrecognized> const&, std::function<bool (wallet::CWalletTx&, bool)> const&, bool, bool) src/wallet/wallet.cpp:1063:5 (test_bitcoin+0xed9f25)\r\n    #8 wallet::wallet_tests::AddTx(ChainstateManager&, wallet::CWallet&, unsigned int, long, long) src/wallet/test/wallet_tests.cpp:378:19 (test_bitcoin+0xc9a145) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #9 wallet::wallet_tests::ComputeTimeSmart::test_method() src/wallet/test/wallet_tests.cpp:392:5 (test_bitcoin+0xc98e3b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #10 wallet::wallet_tests::ComputeTimeSmart_invoker() src/wallet/test/wallet_tests.cpp:389:1 (test_bitcoin+0xc9882d) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #11 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:117:11 (test_bitcoin+0x2f1cfd) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #12 boost::function0<void>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x259698) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #13 boost::detail::forward::operator()() /usr/include/boost/test/impl/execution_monitor.ipp:1395:32 (test_bitcoin+0x259698)\r\n    #14 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:137:18 (test_bitcoin+0x259698)\r\n    #15 boost::function0<int>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x1d7503) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #16 int boost::detail::do_invoke<boost::shared_ptr<boost::detail::translator_holder_base>, boost::function<int ()>>(boost::shared_ptr<boost::detail::translator_holder_base> const&, boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:308:30 (test_bitcoin+0x1d7503)\r\n    #17 boost::execution_monitor::catch_signals(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:910:16 (test_bitcoin+0x1d7503)\r\n    #18 boost::execution_monitor::execute(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1308:16 (test_bitcoin+0x1d787a) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #19 boost::execution_monitor::vexecute(boost::function<void ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1404:5 (test_bitcoin+0x1d3120) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #20 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) /usr/include/boost/test/impl/unit_test_monitor.ipp:49:9 (test_bitcoin+0x1d3120)\r\n    #21 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:815:44 (test_bitcoin+0x20c58e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #22 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #23 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #24 boost::unit_test::framework::run(unsigned long, bool) /usr/include/boost/test/impl/framework.ipp:1722:29 (test_bitcoin+0x1d1deb) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #25 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) /usr/include/boost/test/impl/unit_test_main.ipp:250:9 (test_bitcoin+0x1ef01d) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #26 main /usr/include/boost/test/impl/unit_test_main.ipp:306:12 (test_bitcoin+0x1ef823) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n\r\n  Mutex M0 acquired here while holding mutex M1 in main thread:\r\n    #0 pthread_mutex_lock <null> (test_bitcoin+0x13e17e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #1 __gthread_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:762:12 (test_bitcoin+0x1595962) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #2 __gthread_recursive_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:824:10 (test_bitcoin+0x1595962)\r\n    #3 std::recursive_mutex::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/mutex:125:17 (test_bitcoin+0x1595962)\r\n    #4 std::unique_lock<std::recursive_mutex>::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/unique_lock.h:147:17 (test_bitcoin+0x1595962)\r\n    #5 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::Enter(char const*, char const*, int) src/./sync.h:163:15 (test_bitcoin+0x1595962)\r\n    #6 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::UniqueLock(AnnotatedMixin<std::recursive_mutex>&, char const*, char const*, int, bool) src/./sync.h:182:13 (test_bitcoin+0x1595962)\r\n    #7 ArgsManager::GetDataDir(bool) const src/common/args.cpp:308:5 (test_bitcoin+0x1595962)\r\n    #8 ArgsManager::GetDataDirNet() const src/./common/args.h:232:45 (test_bitcoin+0xd6879d) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #9 ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0::operator()() const src/test/util/setup_common.cpp:265:28 (test_bitcoin+0xd6879d)\r\n    #10 void std::__invoke_impl<void, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&>(std::__invoke_other, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/invoke.h:61:14 (test_bitcoin+0xd6879d)\r\n    #11 std::enable_if<is_invocable_r_v<void, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&>, void>::type std::__invoke_r<void, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&>(ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/invoke.h:111:2 (test_bitcoin+0xd6879d)\r\n    #12 std::_Function_handler<void (), ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/std_function.h:290:9 (test_bitcoin+0xd6879d)\r\n    #13 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/std_function.h:591:9 (test_bitcoin+0xd60281) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #14 ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts) src/test/util/setup_common.cpp:270:5 (test_bitcoin+0xd60281)\r\n    #15 TestingSetup::TestingSetup(ChainType, TestOpts) src/test/util/setup_common.cpp:317:7 (test_bitcoin+0xd610c3) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #16 TestChain100Setup::TestChain100Setup(ChainType, TestOpts) src/test/util/setup_common.cpp:353:7 (test_bitcoin+0xd61a2a) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #17 wallet::wallet_tests::ListCoinsTestingSetup::ListCoinsTestingSetup() src/wallet/test/wallet_tests.cpp:548:5 (test_bitcoin+0xcbe0c1) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #18 wallet::wallet_tests::ListCoinsTest::ListCoinsTest() src/wallet/test/wallet_tests.cpp:588:1 (test_bitcoin+0xc9e6e5) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #19 wallet::wallet_tests::ListCoinsTest_invoker() src/wallet/test/wallet_tests.cpp:588:1 (test_bitcoin+0xc9e6e5)\r\n    #20 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:117:11 (test_bitcoin+0x2f1cfd) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #21 boost::function0<void>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x259698) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #22 boost::detail::forward::operator()() /usr/include/boost/test/impl/execution_monitor.ipp:1395:32 (test_bitcoin+0x259698)\r\n    #23 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:137:18 (test_bitcoin+0x259698)\r\n    #24 boost::function0<int>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x1d7503) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #25 int boost::detail::do_invoke<boost::shared_ptr<boost::detail::translator_holder_base>, boost::function<int ()>>(boost::shared_ptr<boost::detail::translator_holder_base> const&, boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:308:30 (test_bitcoin+0x1d7503)\r\n    #26 boost::execution_monitor::catch_signals(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:910:16 (test_bitcoin+0x1d7503)\r\n    #27 boost::execution_monitor::execute(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1308:16 (test_bitcoin+0x1d787a) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #28 boost::execution_monitor::vexecute(boost::function<void ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1404:5 (test_bitcoin+0x1d3120) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #29 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) /usr/include/boost/test/impl/unit_test_monitor.ipp:49:9 (test_bitcoin+0x1d3120)\r\n    #30 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:815:44 (test_bitcoin+0x20c58e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #31 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #32 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #33 boost::unit_test::framework::run(unsigned long, bool) /usr/include/boost/test/impl/framework.ipp:1722:29 (test_bitcoin+0x1d1deb) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #34 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) /usr/include/boost/test/impl/unit_test_main.ipp:250:9 (test_bitcoin+0x1ef01d) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #35 main /usr/include/boost/test/impl/unit_test_main.ipp:306:12 (test_bitcoin+0x1ef823) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n\r\n  Mutex M1 previously acquired by the same thread here:\r\n    #0 pthread_mutex_lock <null> (test_bitcoin+0x13e17e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #1 __gthread_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:762:12 (test_bitcoin+0xd68783) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #2 __gthread_recursive_mutex_lock(pthread_mutex_t*) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/x86_64-linux-gnu/c++/14/bits/gthr-default.h:824:10 (test_bitcoin+0xd68783)\r\n    #3 std::recursive_mutex::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/mutex:125:17 (test_bitcoin+0xd68783)\r\n    #4 std::unique_lock<std::recursive_mutex>::lock() /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/unique_lock.h:147:17 (test_bitcoin+0xd68783)\r\n    #5 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::Enter(char const*, char const*, int) src/./sync.h:163:15 (test_bitcoin+0xd68783)\r\n    #6 UniqueLock<AnnotatedMixin<std::recursive_mutex>>::UniqueLock(AnnotatedMixin<std::recursive_mutex>&, char const*, char const*, int, bool) src/./sync.h:182:13 (test_bitcoin+0xd68783)\r\n    #7 ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0::operator()() const src/test/util/setup_common.cpp:263:9 (test_bitcoin+0xd68783)\r\n    #8 void std::__invoke_impl<void, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&>(std::__invoke_other, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/invoke.h:61:14 (test_bitcoin+0xd68783)\r\n    #9 std::enable_if<is_invocable_r_v<void, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&>, void>::type std::__invoke_r<void, ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&>(ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/invoke.h:111:2 (test_bitcoin+0xd68783)\r\n    #10 std::_Function_handler<void (), ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts)::$_0>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/std_function.h:290:9 (test_bitcoin+0xd68783)\r\n    #11 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/std_function.h:591:9 (test_bitcoin+0xd60281) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #12 ChainTestingSetup::ChainTestingSetup(ChainType, TestOpts) src/test/util/setup_common.cpp:270:5 (test_bitcoin+0xd60281)\r\n    #13 TestingSetup::TestingSetup(ChainType, TestOpts) src/test/util/setup_common.cpp:317:7 (test_bitcoin+0xd610c3) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #14 TestChain100Setup::TestChain100Setup(ChainType, TestOpts) src/test/util/setup_common.cpp:353:7 (test_bitcoin+0xd61a2a) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #15 wallet::wallet_tests::ListCoinsTestingSetup::ListCoinsTestingSetup() src/wallet/test/wallet_tests.cpp:548:5 (test_bitcoin+0xcbe0c1) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #16 wallet::wallet_tests::ListCoinsTest::ListCoinsTest() src/wallet/test/wallet_tests.cpp:588:1 (test_bitcoin+0xc9e6e5) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #17 wallet::wallet_tests::ListCoinsTest_invoker() src/wallet/test/wallet_tests.cpp:588:1 (test_bitcoin+0xc9e6e5)\r\n    #18 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:117:11 (test_bitcoin+0x2f1cfd) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #19 boost::function0<void>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x259698) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #20 boost::detail::forward::operator()() /usr/include/boost/test/impl/execution_monitor.ipp:1395:32 (test_bitcoin+0x259698)\r\n    #21 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) /usr/include/boost/function/function_template.hpp:137:18 (test_bitcoin+0x259698)\r\n    #22 boost::function0<int>::operator()() const /usr/include/boost/function/function_template.hpp:771:14 (test_bitcoin+0x1d7503) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #23 int boost::detail::do_invoke<boost::shared_ptr<boost::detail::translator_holder_base>, boost::function<int ()>>(boost::shared_ptr<boost::detail::translator_holder_base> const&, boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:308:30 (test_bitcoin+0x1d7503)\r\n    #24 boost::execution_monitor::catch_signals(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:910:16 (test_bitcoin+0x1d7503)\r\n    #25 boost::execution_monitor::execute(boost::function<int ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1308:16 (test_bitcoin+0x1d787a) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #26 boost::execution_monitor::vexecute(boost::function<void ()> const&) /usr/include/boost/test/impl/execution_monitor.ipp:1404:5 (test_bitcoin+0x1d3120) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #27 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) /usr/include/boost/test/impl/unit_test_monitor.ipp:49:9 (test_bitcoin+0x1d3120)\r\n    #28 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:815:44 (test_bitcoin+0x20c58e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #29 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #30 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /usr/include/boost/test/impl/framework.ipp:740:54 (test_bitcoin+0x20c77b) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #31 boost::unit_test::framework::run(unsigned long, bool) /usr/include/boost/test/impl/framework.ipp:1722:29 (test_bitcoin+0x1d1deb) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #32 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) /usr/include/boost/test/impl/unit_test_main.ipp:250:9 (test_bitcoin+0x1ef01d) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n    #33 main /usr/include/boost/test/impl/unit_test_main.ipp:306:12 (test_bitcoin+0x1ef823) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d)\r\n\r\nSUMMARY: ThreadSanitizer: lock-order-inversion (potential deadlock) (/bitcoin-core/src/test/test_bitcoin+0x13e17e) (BuildId: 55ce10099d6fabd327557ca5145f6ca8331c3a5d) in pthread_mutex_lock\r\n==================\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30764#issuecomment-2321313037",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764"
    },
    {
      "event": "commented",
      "id": 2321319880,
      "node_id": "IC_kwDOABII586KXIfI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2321319880",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T13:48:00Z",
      "updated_at": "2024-08-30T13:48:00Z",
      "author_association": "MEMBER",
      "body": "It happens since fa386642b4dfd88f74488c288c7886494d69f4ed, which added a missing lock on cs_main.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30764#issuecomment-2321319880",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30764"
    },
    {
      "event": "renamed",
      "id": 14081687493,
      "node_id": "RTE_lADOABII586U1RSPzwAAAANHVX_F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14081687493",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T13:48:51Z",
      "rename": {
        "from": "wallet: WARNING: ThreadSanitizer: lock-order-inversion (potential deadlock) (pid=32090)",
        "to": "test: WARNING: ThreadSanitizer: lock-order-inversion (potential deadlock) (pid=32090)"
      }
    }
  ]
}