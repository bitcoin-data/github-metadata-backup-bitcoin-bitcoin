{
  "type": "issue",
  "issue": {
    "id": 1423631521,
    "node_id": "I_kwDOABII585U2uSh",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/26391",
    "number": 26391,
    "state": "closed",
    "state_reason": "completed",
    "title": "Stuck in Endless Pre-Syncing Headers Loop",
    "body": "**Expected behavior**\r\nPre-Sync Headers Like Normal.\r\n\r\n**Actual behavior**\r\n```\r\n2022-10-26T07:34:14Z Pre-synchronizing blockheaders, height: 748853 (~98.55%)\r\n2022-10-26T07:34:16Z Pre-synchronizing blockheaders, height: 226853 (~31.00%)\r\n```\r\n\r\nUnaffected by restating program.\r\n\r\n```\r\n2022-10-26T07:34:14Z Pre-synchronizing blockheaders, height: 748853 (~98.55%)\r\n2022-10-26T07:34:16Z Pre-synchronizing blockheaders, height: 226853 (~31.00%)\r\n```\r\n\r\n**To reproduce**\r\n\r\nI think that this is a one-off sort of error:\r\n\r\nHere is a backup of my .bitcoin folder.\r\nhttps://drive.proton.me/urls/V04QAGG998#GlCnfHpkWW7F\r\n\r\n~The files before `blk00047.dat` and `rev00047.dat` are omitted, and need to be copied in from another source.~\r\nAs sipa says, the blk files are not deterministic.  - Will upload the full .bitcoin folder so people can reproduce...\r\n\r\nHere is the 4.6gb full backup of my .bitcoin folder:\r\nhttps://drive.proton.me/urls/JA11NDEA14#GeG83qrpmvtt\r\n\r\n**System information**\r\n\r\nFedora 37 Silverblue Running in Toolbox.\r\n\r\nBitcoin Core: 28cf75697186ea8e473e120a643994bdf8237d6c\r\n\r\n",
    "user": {
      "login": "da2ce7",
      "id": 691439,
      "node_id": "MDQ6VXNlcjY5MTQzOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/da2ce7",
      "html_url": "https://github.com/da2ce7",
      "followers_url": "https://api.github.com/users/da2ce7/followers",
      "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
      "organizations_url": "https://api.github.com/users/da2ce7/orgs",
      "repos_url": "https://api.github.com/users/da2ce7/repos",
      "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/da2ce7/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      },
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 28,
    "closed_at": "2025-12-09T16:28:00Z",
    "closed_by": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "created_at": "2022-10-26T08:26:31Z",
    "updated_at": "2025-12-12T13:46:15Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 7670467919,
      "node_id": "LE_lADOABII585U2uShzwAAAAHJMg1P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7670467919",
      "actor": {
        "login": "da2ce7",
        "id": 691439,
        "node_id": "MDQ6VXNlcjY5MTQzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/da2ce7",
        "html_url": "https://github.com/da2ce7",
        "followers_url": "https://api.github.com/users/da2ce7/followers",
        "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
        "organizations_url": "https://api.github.com/users/da2ce7/orgs",
        "repos_url": "https://api.github.com/users/da2ce7/repos",
        "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/da2ce7/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T08:26:31Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 1291688405,
      "node_id": "IC_kwDOABII585M_ZnV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1291688405",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T08:34:24Z",
      "updated_at": "2022-10-26T08:34:24Z",
      "author_association": "MEMBER",
      "body": "This may happen when one of the blocks in the main chain is marked invalid (for example due to corruption)",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1291688405",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "renamed",
      "id": 7670572631,
      "node_id": "RTE_lADOABII585U2uShzwAAAAHJM6ZX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7670572631",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T08:39:32Z",
      "rename": {
        "from": "Stuck in Endless Pre-Syncing Headders Loop",
        "to": "Stuck in Endless Pre-Syncing Headers Loop"
      }
    },
    {
      "event": "labeled",
      "id": 7670577102,
      "node_id": "LE_lADOABII585U2uShzwAAAAHJM7fO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7670577102",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T08:40:05Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 1291737018,
      "node_id": "IC_kwDOABII585M_le6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1291737018",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T09:13:43Z",
      "updated_at": "2022-10-26T09:13:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Your `debug.log` shows that before seeing this behavior you were doing IBD up until `height=224854` were this happened, which I think matches what MarcoFalke said.\r\n```\r\n2022-10-26T07:24:30Z UpdateTip: new best=00000000000000cd7d1c3d5137423c00e6a221d5492ace06d8fb9d990f2d7c96 height=224854 version=0x00000002 log2_work=69.513761 tx=14063312 date='2013-03-08T15:46:54Z' progress=0.018147 cache=356.2MiB(2733513txo)\r\n2022-10-26T07:24:30Z ERROR: ConnectBlock: Consensus::CheckTxInputs: 878d6685666400b75a1947ccfc676249ecdf52678b2dc0d83e0328f8c24a951a, bad-txns-inputs-missingorspent, CheckTxInputs: inputs missing/spent\r\n2022-10-26T07:24:30Z InvalidChainFound: invalid block=000000000000032021a6d18011d202df36cf07822a657b47390ab90568bb14e2  height=224855  log2_work=69.513793  date=2013-03-08T15:58:52Z\r\n2022-10-26T07:24:30Z InvalidChainFound:  current best=00000000000000cd7d1c3d5137423c00e6a221d5492ace06d8fb9d990f2d7c96  height=224854  log2_work=69.513761  date=2013-03-08T15:46:54Z\r\n2022-10-26T07:24:30Z ERROR: ConnectTip: ConnectBlock 000000000000032021a6d18011d202df36cf07822a657b47390ab90568bb14e2 failed, bad-txns-inputs-missingorspent, CheckTxInputs: inputs missing/spent\r\n```\r\n\r\nOn the next run it started the pre-sync phase from that height, and that's the point it restarts every time.\r\n\r\nI've tried to reproduce using the backup of your directory, but I couldn't. Probably because using it requires a `-reindex`.",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1291737018",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 1291765534,
      "node_id": "IC_kwDOABII585M_sce",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1291765534",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T09:35:47Z",
      "updated_at": "2025-11-13T14:10:51Z",
      "author_association": "MEMBER",
      "body": "Steps to reproduce (with a diff to force corruption):\n\n\n```diff\ndiff --git a/src/validation.cpp b/src/validation.cpp\nindex 37e68cfe4a..811ff2f9eb 100644\n--- a/src/validation.cpp\n+++ b/src/validation.cpp\n@@ -2201,7 +2201,7 @@ bool Chainstate::ConnectBlock(const CBlock& block, BlockValidationState& state,\n         {\n             CAmount txfee = 0;\n             TxValidationState tx_state;\n-            if (!Consensus::CheckTxInputs(tx, tx_state, view, pindex->nHeight, txfee)) {\n+            if (Consensus::CheckTxInputs(tx, tx_state, view, pindex->nHeight, txfee)) {\n                 // Any transaction validation failure in ConnectBlock is a block consensus failure\n                 state.Invalid(BlockValidationResult::BLOCK_CONSENSUS,\n                             tx_state.GetRejectReason(), tx_state.GetDebugMessage());\n```\n\nthen call `./src/qt/bitcoin-qt -datadir=/tmp -signet -printtoconsole=1`  \n\nor even with a reduced min chain work, to speed up the retry-loop:\n\n`./bld-cmake/bin/bitcoin-qt -datadir=/tmp -signet -printtoconsole=1 -minimumchainwork=11c4ff1d99 -debug=validation`",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1291765534",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 1291812162,
      "node_id": "IC_kwDOABII585M_31C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1291812162",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T10:16:54Z",
      "updated_at": "2022-10-26T10:16:54Z",
      "author_association": "MEMBER",
      "body": "cc @sdaftuar @sipa @dergoegge ",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1291812162",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "mentioned",
      "id": 7671361098,
      "node_id": "MEE_lADOABII585U2uShzwAAAAHJP65K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7671361098",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T10:16:54Z"
    },
    {
      "event": "subscribed",
      "id": 7671361107,
      "node_id": "SE_lADOABII585U2uShzwAAAAHJP65T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7671361107",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T10:16:54Z"
    },
    {
      "event": "mentioned",
      "id": 7671361114,
      "node_id": "MEE_lADOABII585U2uShzwAAAAHJP65a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7671361114",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T10:16:55Z"
    },
    {
      "event": "subscribed",
      "id": 7671361119,
      "node_id": "SE_lADOABII585U2uShzwAAAAHJP65f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7671361119",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T10:16:55Z"
    },
    {
      "event": "mentioned",
      "id": 7671361129,
      "node_id": "MEE_lADOABII585U2uShzwAAAAHJP65p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7671361129",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T10:16:55Z"
    },
    {
      "event": "subscribed",
      "id": 7671361135,
      "node_id": "SE_lADOABII585U2uShzwAAAAHJP65v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7671361135",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T10:16:55Z"
    },
    {
      "event": "commented",
      "id": 1292309175,
      "node_id": "IC_kwDOABII585NBxK3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292309175",
      "actor": {
        "login": "da2ce7",
        "id": 691439,
        "node_id": "MDQ6VXNlcjY5MTQzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/da2ce7",
        "html_url": "https://github.com/da2ce7",
        "followers_url": "https://api.github.com/users/da2ce7/followers",
        "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
        "organizations_url": "https://api.github.com/users/da2ce7/orgs",
        "repos_url": "https://api.github.com/users/da2ce7/repos",
        "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/da2ce7/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T16:32:57Z",
      "updated_at": "2022-10-26T16:32:57Z",
      "author_association": "NONE",
      "body": "@kouloumos\r\n> I've tried to reproduce using the backup of your directory, but I couldn't. Probably because using it requires a `-reindex`.\r\n\r\nThe files before `blk00047.dat` and `rev00047.dat` are omitted, and need to be copied in from another source.\r\n\r\n",
      "user": {
        "login": "da2ce7",
        "id": 691439,
        "node_id": "MDQ6VXNlcjY5MTQzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/da2ce7",
        "html_url": "https://github.com/da2ce7",
        "followers_url": "https://api.github.com/users/da2ce7/followers",
        "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
        "organizations_url": "https://api.github.com/users/da2ce7/orgs",
        "repos_url": "https://api.github.com/users/da2ce7/repos",
        "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/da2ce7/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1292309175",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "mentioned",
      "id": 7674547250,
      "node_id": "MEE_lADOABII585U2uShzwAAAAHJcEwy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7674547250",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T16:32:58Z"
    },
    {
      "event": "subscribed",
      "id": 7674547268,
      "node_id": "SE_lADOABII585U2uShzwAAAAHJcExE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7674547268",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T16:32:58Z"
    },
    {
      "event": "commented",
      "id": 1292328134,
      "node_id": "IC_kwDOABII585NB1zG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292328134",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T16:49:43Z",
      "updated_at": "2022-10-26T16:49:43Z",
      "author_association": "MEMBER",
      "body": "@da2ce7 The contents of those files is not deterministic, as it depends on the order you received blocks in. It's not necessarily possible for someone to reconstruct your state without those files (as some blocks may be before/after the cut off differently).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1292328134",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "mentioned",
      "id": 7674675348,
      "node_id": "MEE_lADOABII585U2uShzwAAAAHJckCU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7674675348",
      "actor": {
        "login": "da2ce7",
        "id": 691439,
        "node_id": "MDQ6VXNlcjY5MTQzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/da2ce7",
        "html_url": "https://github.com/da2ce7",
        "followers_url": "https://api.github.com/users/da2ce7/followers",
        "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
        "organizations_url": "https://api.github.com/users/da2ce7/orgs",
        "repos_url": "https://api.github.com/users/da2ce7/repos",
        "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/da2ce7/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T16:49:43Z"
    },
    {
      "event": "subscribed",
      "id": 7674675351,
      "node_id": "SE_lADOABII585U2uShzwAAAAHJckCX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7674675351",
      "actor": {
        "login": "da2ce7",
        "id": 691439,
        "node_id": "MDQ6VXNlcjY5MTQzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/da2ce7",
        "html_url": "https://github.com/da2ce7",
        "followers_url": "https://api.github.com/users/da2ce7/followers",
        "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
        "organizations_url": "https://api.github.com/users/da2ce7/orgs",
        "repos_url": "https://api.github.com/users/da2ce7/repos",
        "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/da2ce7/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T16:49:43Z"
    },
    {
      "event": "commented",
      "id": 1292366671,
      "node_id": "IC_kwDOABII585NB_NP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292366671",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T17:22:38Z",
      "updated_at": "2022-10-26T17:22:38Z",
      "author_association": "MEMBER",
      "body": "Discussed this a bit with @sdaftuar.\r\n\r\nWhat's going on here is actually expected: your node believes that the chain other nodes are offering it is invalid, thus it's correct behavior that it doesn't actually manage to synchronize and accept that chain. This invalidity is only detected during the headers sync phase, and not during the new pre-sync phase that precedes it. The result is that your node goes through peers one by one, attempting to synchronize headers with them, by performing a full pre-sync phase, and only after that completes noticing they're giving us a known invalid chain.\r\n\r\nA question is whether we could detect this during the pre-sync phase instead, which wouldn't stop the lack of progress, but would avoid the bandwidth waste on repeated presyncs with everyone. The answer is yes - it wouldn't be hard to check for known-invalid headers in the presync phase as well, however, I don't think we want to do that because of fingerprinting reasons: it would permit an attacker to feed you an invalid, low-PoW, block during IBD, and then later follow you around the network by claiming to have a chain that extends this invalid block. If you stop fetching immediately, they know you're the same node as the one they gave the invalid block to earlier.\r\n\r\nThis fingerprinting is partially solvable: by keeping track of how much work was built on top of an invalid block, and if that work meets our anti-DoS threshold, permit reacting on known-invalid blocks when they're fed to us during presync. This is however a fair bit of complexity and I'm not sure it's worth it for just somewhat improving the situation for essentially broken nodes which will never recover anyway.\r\n\r\nPerhaps time is better spent on better reporting to the user, in the form of targetted warnings in logs (or even failure to start) when there appears to be a long invalid high-PoW chain out there.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1292366671",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "mentioned",
      "id": 7674918736,
      "node_id": "MEE_lADOABII585U2uShzwAAAAHJdfdQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7674918736",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T17:22:38Z"
    },
    {
      "event": "subscribed",
      "id": 7674918742,
      "node_id": "SE_lADOABII585U2uShzwAAAAHJdfdW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7674918742",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T17:22:38Z"
    },
    {
      "event": "unlabeled",
      "id": 7675397234,
      "node_id": "UNLE_lADOABII585U2uShzwAAAAHJfURy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7675397234",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T18:34:25Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 7675397239,
      "node_id": "LE_lADOABII585U2uShzwAAAAHJfUR3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7675397239",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T18:34:25Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "commented",
      "id": 1292691847,
      "node_id": "IC_kwDOABII585NDOmH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292691847",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T21:49:00Z",
      "updated_at": "2022-10-26T21:49:00Z",
      "author_association": "MEMBER",
      "body": "Arguably the fact that this results in corrupted node wasting bandwidth on redownloading headers multiple times is a 24.0 regression. But I don't know if it's worth fixing as it involves some complexity, and would only benefit already broken nodes anyway/",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1292691847",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "labeled",
      "id": 7679497073,
      "node_id": "LE_lADOABII585U2uShzwAAAAHJu9Nx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7679497073",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-27T07:33:33Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "commented",
      "id": 1548932081,
      "node_id": "IC_kwDOABII585cUtPx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1548932081",
      "actor": {
        "login": "Shekelme",
        "id": 26449500,
        "node_id": "MDQ6VXNlcjI2NDQ5NTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/26449500?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Shekelme",
        "html_url": "https://github.com/Shekelme",
        "followers_url": "https://api.github.com/users/Shekelme/followers",
        "following_url": "https://api.github.com/users/Shekelme/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Shekelme/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Shekelme/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Shekelme/subscriptions",
        "organizations_url": "https://api.github.com/users/Shekelme/orgs",
        "repos_url": "https://api.github.com/users/Shekelme/repos",
        "events_url": "https://api.github.com/users/Shekelme/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Shekelme/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T03:43:25Z",
      "updated_at": "2023-05-16T03:43:25Z",
      "author_association": "NONE",
      "body": "Same bug here. v24.0.1\r\n[Endless_Pre-synchronizing.txt](https://github.com/bitcoin/bitcoin/files/11483805/Endless_Pre-synchronizing.txt)\r\n",
      "user": {
        "login": "Shekelme",
        "id": 26449500,
        "node_id": "MDQ6VXNlcjI2NDQ5NTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/26449500?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Shekelme",
        "html_url": "https://github.com/Shekelme",
        "followers_url": "https://api.github.com/users/Shekelme/followers",
        "following_url": "https://api.github.com/users/Shekelme/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Shekelme/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Shekelme/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Shekelme/subscriptions",
        "organizations_url": "https://api.github.com/users/Shekelme/orgs",
        "repos_url": "https://api.github.com/users/Shekelme/repos",
        "events_url": "https://api.github.com/users/Shekelme/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Shekelme/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1548932081",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 1598584255,
      "node_id": "IC_kwDOABII585fSHW_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1598584255",
      "actor": {
        "login": "aleks-mariusz",
        "id": 2719694,
        "node_id": "MDQ6VXNlcjI3MTk2OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2719694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aleks-mariusz",
        "html_url": "https://github.com/aleks-mariusz",
        "followers_url": "https://api.github.com/users/aleks-mariusz/followers",
        "following_url": "https://api.github.com/users/aleks-mariusz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aleks-mariusz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aleks-mariusz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aleks-mariusz/subscriptions",
        "organizations_url": "https://api.github.com/users/aleks-mariusz/orgs",
        "repos_url": "https://api.github.com/users/aleks-mariusz/repos",
        "events_url": "https://api.github.com/users/aleks-mariusz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aleks-mariusz/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T11:15:09Z",
      "updated_at": "2023-06-20T11:15:09Z",
      "author_association": "NONE",
      "body": "I'm seeing this with v25.0.0 as well :-/ \r\n\r\n```\r\n2023-06-20T11:09:46Z Pre-synchronizing blockheaders, height: 782560 (~98.44%)\r\n2023-06-20T11:09:49Z Pre-synchronizing blockheaders, height: 738560 (~93.00%)\r\n```\r\n\r\nWhat are the recommendations on fixing this?\r\n\r\n",
      "user": {
        "login": "aleks-mariusz",
        "id": 2719694,
        "node_id": "MDQ6VXNlcjI3MTk2OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2719694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aleks-mariusz",
        "html_url": "https://github.com/aleks-mariusz",
        "followers_url": "https://api.github.com/users/aleks-mariusz/followers",
        "following_url": "https://api.github.com/users/aleks-mariusz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aleks-mariusz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aleks-mariusz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aleks-mariusz/subscriptions",
        "organizations_url": "https://api.github.com/users/aleks-mariusz/orgs",
        "repos_url": "https://api.github.com/users/aleks-mariusz/repos",
        "events_url": "https://api.github.com/users/aleks-mariusz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aleks-mariusz/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1598584255",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 1598642609,
      "node_id": "IC_kwDOABII585fSVmx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1598642609",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T12:01:41Z",
      "updated_at": "2023-06-20T12:01:41Z",
      "author_association": "MEMBER",
      "body": "> What are the recommendations on fixing this?\r\n\r\nBitcoin Core makes heavy use of CPU, RAM and disk IO. Hardware defects might only become visible when running Bitcoin Core. You might want to check your hardware for defects.\r\n\r\n* memtest86 to check your RAM\r\n* to check the CPU behaviour under load, use linpack or Prime95\r\n* to test your storage device use smartctl or CrystalDiskInfo\r\n\r\nSource: https://bitcoin.stackexchange.com/a/12206\r\n\r\nIf your hardware doesn't have any faults, you can do a `-reindex` to wipe the corrupt block file from the storage.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1598642609",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 1605385608,
      "node_id": "IC_kwDOABII585fsD2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605385608",
      "actor": {
        "login": "tansanDOTeth",
        "id": 92072158,
        "node_id": "U_kgDOBXzo3g",
        "avatar_url": "https://avatars.githubusercontent.com/u/92072158?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tansanDOTeth",
        "html_url": "https://github.com/tansanDOTeth",
        "followers_url": "https://api.github.com/users/tansanDOTeth/followers",
        "following_url": "https://api.github.com/users/tansanDOTeth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tansanDOTeth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tansanDOTeth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tansanDOTeth/subscriptions",
        "organizations_url": "https://api.github.com/users/tansanDOTeth/orgs",
        "repos_url": "https://api.github.com/users/tansanDOTeth/repos",
        "events_url": "https://api.github.com/users/tansanDOTeth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tansanDOTeth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-24T10:48:07Z",
      "updated_at": "2023-06-24T10:48:07Z",
      "author_association": "NONE",
      "body": "Is this normal? I'm looking at the logs and it looks like it happens quite often.\r\n\r\n```\r\n023-06-24T10:32:33Z Pre-synchronizing blockheaders, height: 775060 (~97.47%)\r\n2023-06-24T10:32:33Z Pre-synchronizing blockheaders, height: 777060 (~97.71%)\r\n2023-06-24T10:32:33Z Pre-synchronizing blockheaders, height: 779060 (~97.95%)\r\n2023-06-24T10:32:33Z Pre-synchronizing blockheaders, height: 781060 (~98.19%)\r\n2023-06-24T10:32:34Z Pre-synchronizing blockheaders, height: 783060 (~98.43%)\r\n2023-06-24T10:32:39Z New outbound peer connected: version: 70016, blocks=795702, peer=408 (outbound-full-relay)\r\n2023-06-24T10:32:40Z New outbound peer connected: version: 70016, blocks=795702, peer=409 (outbound-full-relay)\r\n2023-06-24T10:32:46Z Pre-synchronizing blockheaders, height: 335060 (~42.81%)\r\n2023-06-24T10:32:46Z New outbound peer connected: version: 70016, blocks=795702, peer=410 (outbound-full-relay)\r\n2023-06-24T10:32:49Z New outbound peer connected: version: 70015, blocks=795702, peer=411 (outbound-full-relay)\r\n2023-06-24T10:32:51Z Pre-synchronizing blockheaders, height: 337060 (~43.06%)\r\n2023-06-24T10:32:58Z Pre-synchronizing blockheaders, height: 339060 (~43.31%)\r\n2023-06-24T10:33:06Z Pre-synchronizing blockheaders, height: 341060 (~43.57%)\r\n2023-06-24T10:33:12Z Pre-synchronizing blockheaders, height: 343060 (~43.82%)\r\n2023-06-24T10:33:20Z Pre-synchronizing blockheaders, height: 345060 (~44.07%)\r\n2023-06-24T10:33:29Z Pre-synchronizing blockheaders, height: 347060 (~44.32%)\r\n2023-06-24T10:33:34Z Pre-synchronizing blockheaders, height: 349060 (~44.58%)\r\n2023-06-24T10:33:44Z Pre-synchronizing blockheaders, height: 351060 (~44.83%)\r\n2023-06-24T10:33:49Z Pre-synchronizing blockheaders, height: 353060 (~45.09%)\r\n```",
      "user": {
        "login": "tansanDOTeth",
        "id": 92072158,
        "node_id": "U_kgDOBXzo3g",
        "avatar_url": "https://avatars.githubusercontent.com/u/92072158?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tansanDOTeth",
        "html_url": "https://github.com/tansanDOTeth",
        "followers_url": "https://api.github.com/users/tansanDOTeth/followers",
        "following_url": "https://api.github.com/users/tansanDOTeth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tansanDOTeth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tansanDOTeth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tansanDOTeth/subscriptions",
        "organizations_url": "https://api.github.com/users/tansanDOTeth/orgs",
        "repos_url": "https://api.github.com/users/tansanDOTeth/repos",
        "events_url": "https://api.github.com/users/tansanDOTeth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tansanDOTeth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1605385608",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 1605387912,
      "node_id": "IC_kwDOABII585fsEaI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605387912",
      "actor": {
        "login": "aleks-mariusz",
        "id": 2719694,
        "node_id": "MDQ6VXNlcjI3MTk2OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2719694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aleks-mariusz",
        "html_url": "https://github.com/aleks-mariusz",
        "followers_url": "https://api.github.com/users/aleks-mariusz/followers",
        "following_url": "https://api.github.com/users/aleks-mariusz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aleks-mariusz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aleks-mariusz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aleks-mariusz/subscriptions",
        "organizations_url": "https://api.github.com/users/aleks-mariusz/orgs",
        "repos_url": "https://api.github.com/users/aleks-mariusz/repos",
        "events_url": "https://api.github.com/users/aleks-mariusz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aleks-mariusz/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-24T10:53:34Z",
      "updated_at": "2023-06-24T10:53:49Z",
      "author_association": "NONE",
      "body": "> > What are the recommendations on fixing this?\r\n> \r\n> If your hardware doesn't have any faults, you can do a `-reindex` to wipe the corrupt block file from the storage.\r\n\r\nThis helped, re-indexing, but this throws away the entire progress haivng been made, and starts over at 0% :-/ it took 3+ days to get back to current state sadly w/ my hardware/network connection",
      "user": {
        "login": "aleks-mariusz",
        "id": 2719694,
        "node_id": "MDQ6VXNlcjI3MTk2OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2719694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aleks-mariusz",
        "html_url": "https://github.com/aleks-mariusz",
        "followers_url": "https://api.github.com/users/aleks-mariusz/followers",
        "following_url": "https://api.github.com/users/aleks-mariusz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aleks-mariusz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aleks-mariusz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aleks-mariusz/subscriptions",
        "organizations_url": "https://api.github.com/users/aleks-mariusz/orgs",
        "repos_url": "https://api.github.com/users/aleks-mariusz/repos",
        "events_url": "https://api.github.com/users/aleks-mariusz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aleks-mariusz/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1605387912",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 1605388228,
      "node_id": "IC_kwDOABII585fsEfE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605388228",
      "actor": {
        "login": "tansanDOTeth",
        "id": 92072158,
        "node_id": "U_kgDOBXzo3g",
        "avatar_url": "https://avatars.githubusercontent.com/u/92072158?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tansanDOTeth",
        "html_url": "https://github.com/tansanDOTeth",
        "followers_url": "https://api.github.com/users/tansanDOTeth/followers",
        "following_url": "https://api.github.com/users/tansanDOTeth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tansanDOTeth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tansanDOTeth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tansanDOTeth/subscriptions",
        "organizations_url": "https://api.github.com/users/tansanDOTeth/orgs",
        "repos_url": "https://api.github.com/users/tansanDOTeth/repos",
        "events_url": "https://api.github.com/users/tansanDOTeth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tansanDOTeth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-24T10:55:01Z",
      "updated_at": "2023-06-24T10:58:31Z",
      "author_association": "NONE",
      "body": "> > > What are the recommendations on fixing this?\r\n> > \r\n> > \r\n> > If your hardware doesn't have any faults, you can do a `-reindex` to wipe the corrupt block file from the storage.\r\n> \r\n> This helped, re-indexing, but this throws away the entire progress haivng been made, and starts over at 0% :-/ it took 3+ days to get back to current state sadly w/ my hardware/network connection\r\n\r\nIs there a way to do this from the GUI? \r\n\r\nEdit: For Mac users:\r\n\r\n```\r\n/Applications/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt -reindex\r\n```",
      "user": {
        "login": "tansanDOTeth",
        "id": 92072158,
        "node_id": "U_kgDOBXzo3g",
        "avatar_url": "https://avatars.githubusercontent.com/u/92072158?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tansanDOTeth",
        "html_url": "https://github.com/tansanDOTeth",
        "followers_url": "https://api.github.com/users/tansanDOTeth/followers",
        "following_url": "https://api.github.com/users/tansanDOTeth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tansanDOTeth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tansanDOTeth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tansanDOTeth/subscriptions",
        "organizations_url": "https://api.github.com/users/tansanDOTeth/orgs",
        "repos_url": "https://api.github.com/users/tansanDOTeth/repos",
        "events_url": "https://api.github.com/users/tansanDOTeth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tansanDOTeth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1605388228",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 2199514099,
      "node_id": "IC_kwDOABII586DGevz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2199514099",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T08:11:12Z",
      "updated_at": "2024-07-01T08:11:12Z",
      "author_association": "MEMBER",
      "body": "Do we want to keep this open to address [this](https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-1292366671) comment?:\r\n\r\n> Perhaps time is better spent on better reporting to the user, in the form of targetted warnings in logs (or even failure to start) when there appears to be a long invalid high-PoW chain out there.\r\n\r\nOtherwise I think we can probably close this as stale.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-2199514099",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 2541679190,
      "node_id": "IC_kwDOABII586XfvJW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2541679190",
      "actor": {
        "login": "jstefanop",
        "id": 4368851,
        "node_id": "MDQ6VXNlcjQzNjg4NTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4368851?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jstefanop",
        "html_url": "https://github.com/jstefanop",
        "followers_url": "https://api.github.com/users/jstefanop/followers",
        "following_url": "https://api.github.com/users/jstefanop/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jstefanop/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jstefanop/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jstefanop/subscriptions",
        "organizations_url": "https://api.github.com/users/jstefanop/orgs",
        "repos_url": "https://api.github.com/users/jstefanop/repos",
        "events_url": "https://api.github.com/users/jstefanop/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jstefanop/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-13T15:17:13Z",
      "updated_at": "2024-12-13T15:17:13Z",
      "author_association": "NONE",
      "body": "FYI we are seeing this across a large number of our Nodes (FutureBit Apollos we have 10's of thousands of nodes from our users on the network). \r\n\r\nRe-index usually fixes, but there should be a way for core to detect this corruption and self fix/reindex from the point of corruption. Being stuck in an endless pre-sync loop is not great (or at least shutdown the node with an error?)",
      "user": {
        "login": "jstefanop",
        "id": 4368851,
        "node_id": "MDQ6VXNlcjQzNjg4NTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4368851?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jstefanop",
        "html_url": "https://github.com/jstefanop",
        "followers_url": "https://api.github.com/users/jstefanop/followers",
        "following_url": "https://api.github.com/users/jstefanop/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jstefanop/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jstefanop/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jstefanop/subscriptions",
        "organizations_url": "https://api.github.com/users/jstefanop/orgs",
        "repos_url": "https://api.github.com/users/jstefanop/repos",
        "events_url": "https://api.github.com/users/jstefanop/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jstefanop/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-2541679190",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 2545808616,
      "node_id": "IC_kwDOABII586XvfTo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2545808616",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-16T14:41:37Z",
      "updated_at": "2024-12-16T14:41:37Z",
      "author_association": "MEMBER",
      "body": "> detect this corruption and self fix/reindex from the point of corruption.\r\n\r\nI am not sure this will be an improvement, because:\r\n\r\n* It will turn an endless per-sync loop into an endless reindex loop (at least for some).\r\n* If there is an issue with the hardware, it would be better to diagnose and fix it, instead of continuing. Otherwise the issue will possibly be silently ignored and re-appear in the future.\r\n\r\nMy recommendation would be to check which configs of your hardware run into this problem and then try to determine and fix the root cause.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-2545808616",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 2585720873,
      "node_id": "IC_kwDOABII586aHvgp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2585720873",
      "actor": {
        "login": "eshutov",
        "id": 33887439,
        "node_id": "MDQ6VXNlcjMzODg3NDM5",
        "avatar_url": "https://avatars.githubusercontent.com/u/33887439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eshutov",
        "html_url": "https://github.com/eshutov",
        "followers_url": "https://api.github.com/users/eshutov/followers",
        "following_url": "https://api.github.com/users/eshutov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eshutov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eshutov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eshutov/subscriptions",
        "organizations_url": "https://api.github.com/users/eshutov/orgs",
        "repos_url": "https://api.github.com/users/eshutov/repos",
        "events_url": "https://api.github.com/users/eshutov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eshutov/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-12T12:47:21Z",
      "updated_at": "2025-01-12T12:47:21Z",
      "author_association": "NONE",
      "body": "I have faced with the same issue:\r\n```\r\n2025-01-12T12:01:56Z Pre-synchronizing blockheaders, height: 852216 (~97.02%)\r\n2025-01-12T12:02:00Z Pre-synchronizing blockheaders, height: 854216 (~97.23%)\r\n2025-01-12T12:02:02Z Pre-synchronizing blockheaders, height: 856216 (~97.47%)\r\n2025-01-12T12:02:29Z Pre-synchronizing blockheaders, height: 712215 (~81.31%)\r\n2025-01-12T12:02:33Z Pre-synchronizing blockheaders, height: 714215 (~81.52%)\r\n2025-01-12T12:02:37Z Pre-synchronizing blockheaders, height: 716215 (~81.75%)\r\n```\r\nPre-synchronizing repeats in infinity loop and consumes network bandwidth.\r\nI confirm this happened for me due to hardware issue with my PC (GPU extra power cord wasn't connected originally and this caused kernel backtraces in dmesg).\r\nAs was mentioned above i tried to do -reindex. But this didn't help. Still see the messages like above.\r\nPossibly the best option for those who ran into this is entire blockchain redownloading.\r\n\r\nversion: v28.0.0",
      "user": {
        "login": "eshutov",
        "id": 33887439,
        "node_id": "MDQ6VXNlcjMzODg3NDM5",
        "avatar_url": "https://avatars.githubusercontent.com/u/33887439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eshutov",
        "html_url": "https://github.com/eshutov",
        "followers_url": "https://api.github.com/users/eshutov/followers",
        "following_url": "https://api.github.com/users/eshutov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eshutov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eshutov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eshutov/subscriptions",
        "organizations_url": "https://api.github.com/users/eshutov/orgs",
        "repos_url": "https://api.github.com/users/eshutov/repos",
        "events_url": "https://api.github.com/users/eshutov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eshutov/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-2585720873",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "subscribed",
      "id": 16285844831,
      "node_id": "SE_lADOABII585U2uShzwAAAAPKtkVf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16285844831",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T19:09:11Z"
    },
    {
      "event": "commented",
      "id": 2654838081,
      "node_id": "IC_kwDOABII586ePZ1B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2654838081",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T21:03:03Z",
      "updated_at": "2025-02-12T21:03:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "> A question is whether we could detect this during the pre-sync phase instead, which wouldn't stop the lack of progress, but would avoid the bandwidth waste on repeated presyncs with everyone. The answer is yes - it wouldn't be hard to check for known-invalid headers in the presync phase as well, however, I don't think we want to do that because of fingerprinting reasons: it would permit an attacker to feed you an invalid, low-PoW, block during IBD, and then later follow you around the network by claiming to have a chain that extends this invalid block. If you stop fetching immediately, they know you're the same node as the one they gave the invalid block to earlier.\n\nI don't think that fingerprinting is a concern here. An attacker cannot feed us an invalid, low-PoW block during IBD to fingerprint us - if they could get us to accept such a header to our block tree db somehow, that would mean that the Anti-DoS headers-sync algorithm would have failed, and we'd probably have way bigger problems than fingerprinting.\n\nSo I don't think there is a conceptual problem with detecting this in the pre-sync phase.\n\nBut the point remains that this is just a symptom of the underlying corruption - we'd still endlessly cycle through peers that we would now disconnect immediately for sending us an \"invalid\" header, so I'm not sure how that would actually be more helpful for users?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-2654838081",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 2654843751,
      "node_id": "IC_kwDOABII586ePbNn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2654843751",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T21:06:12Z",
      "updated_at": "2025-02-12T21:06:12Z",
      "author_association": "MEMBER",
      "body": "@mzumsande Agreed, reading back what I wrote, I don't see why I thought fingerprinting would be an issue.\n\nI think the most useful course of actual here is detecting the presence of a high-PoW header-invalid chain, and reporting it to the user as a sign of likely corruption. Unsure what that would mean for anything other than the GUI, though.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-2654843751",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "mentioned",
      "id": 16287107683,
      "node_id": "MEE_lADOABII585U2uShzwAAAAPKyYpj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16287107683",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T21:06:14Z"
    },
    {
      "event": "subscribed",
      "id": 16287107694,
      "node_id": "SE_lADOABII585U2uShzwAAAAPKyYpu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16287107694",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T21:06:14Z"
    },
    {
      "event": "commented",
      "id": 2654943412,
      "node_id": "IC_kwDOABII586ePzi0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2654943412",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T22:04:58Z",
      "updated_at": "2025-02-12T22:05:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think the most useful course of actual here is detecting the presence of a high-PoW header-invalid chain, and reporting it to the user as a sign of likely corruption. Unsure what that would mean for anything other than the GUI, though.\n\nWe actually have this kind of check (`CheckForkWarningConditions`) but have it disabled during IBD for no good reason I can see (at least after #19905). I'll work on a PR suggesting to use this check in the pre-sync header loop situation (and also rework it, e.g. I don't think it needs to be called in `ActivateBestChainStep()`).",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-2654943412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "subscribed",
      "id": 17527060167,
      "node_id": "SE_lADOABII585U2uShzwAAAAQUsbbH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17527060167",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-05T22:26:42Z"
    },
    {
      "event": "subscribed",
      "id": 19419491484,
      "node_id": "SE_lADOABII585U2uShzwAAAASFfeyc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19419491484",
      "actor": {
        "login": "roqqit",
        "id": 172419468,
        "node_id": "U_kgDOCkbpjA",
        "avatar_url": "https://avatars.githubusercontent.com/u/172419468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roqqit",
        "html_url": "https://github.com/roqqit",
        "followers_url": "https://api.github.com/users/roqqit/followers",
        "following_url": "https://api.github.com/users/roqqit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roqqit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roqqit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roqqit/subscriptions",
        "organizations_url": "https://api.github.com/users/roqqit/orgs",
        "repos_url": "https://api.github.com/users/roqqit/repos",
        "events_url": "https://api.github.com/users/roqqit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roqqit/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-29T21:20:55Z"
    },
    {
      "event": "commented",
      "id": 3371418908,
      "node_id": "IC_kwDOABII587I88Uc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3371418908",
      "actor": {
        "login": "jblachly",
        "id": 5987153,
        "node_id": "MDQ6VXNlcjU5ODcxNTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5987153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jblachly",
        "html_url": "https://github.com/jblachly",
        "followers_url": "https://api.github.com/users/jblachly/followers",
        "following_url": "https://api.github.com/users/jblachly/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jblachly/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jblachly/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jblachly/subscriptions",
        "organizations_url": "https://api.github.com/users/jblachly/orgs",
        "repos_url": "https://api.github.com/users/jblachly/repos",
        "events_url": "https://api.github.com/users/jblachly/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jblachly/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-06T12:34:47Z",
      "updated_at": "2025-10-06T12:34:47Z",
      "author_association": "NONE",
      "body": "Still happening in 29.1\n\n```\n2025-10-06T12:27:14Z Pre-synchronizing blockheaders, height: 846996 (~92.38%)\n2025-10-06T12:27:15Z Pre-synchronizing blockheaders, height: 852996 (~93.04%)\n2025-10-06T12:27:15Z Pre-synchronizing blockheaders, height: 856996 (~93.46%)\n2025-10-06T12:27:15Z Pre-synchronizing blockheaders, height: 860996 (~93.89%)\n2025-10-06T12:27:15Z Pre-synchronizing blockheaders, height: 866996 (~94.54%)\n2025-10-06T12:27:16Z Pre-synchronizing blockheaders, height: 874996 (~95.38%)\n2025-10-06T12:27:16Z Pre-synchronizing blockheaders, height: 880996 (~96.04%)\n2025-10-06T12:27:18Z Pre-synchronizing blockheaders, height: 368995 (~40.84%)\n2025-10-06T12:27:22Z Pre-synchronizing blockheaders, height: 370995 (~41.06%)\n2025-10-06T12:27:26Z Pre-synchronizing blockheaders, height: 372995 (~41.28%)\n2025-10-06T12:27:26Z Pre-synchronizing blockheaders, height: 374995 (~41.50%)\n2025-10-06T12:27:28Z Pre-synchronizing blockheaders, height: 376995 (~41.71%)\n2025-10-06T12:27:32Z Pre-synchronizing blockheaders, height: 378995 (~41.94%)\n```\n\nThe reported approximate percentage at which it \"resets\" is typically +/- a couple of percent of 96.04%, and occasionally is the exact same value (96.04%), but has been as lo was 91%.\n\n",
      "user": {
        "login": "jblachly",
        "id": 5987153,
        "node_id": "MDQ6VXNlcjU5ODcxNTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5987153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jblachly",
        "html_url": "https://github.com/jblachly",
        "followers_url": "https://api.github.com/users/jblachly/followers",
        "following_url": "https://api.github.com/users/jblachly/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jblachly/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jblachly/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jblachly/subscriptions",
        "organizations_url": "https://api.github.com/users/jblachly/orgs",
        "repos_url": "https://api.github.com/users/jblachly/repos",
        "events_url": "https://api.github.com/users/jblachly/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jblachly/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3371418908",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 3374369293,
      "node_id": "IC_kwDOABII587JIMoN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3374369293",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-06T21:52:38Z",
      "updated_at": "2025-10-06T21:53:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I'll work on a PR suggesting to use this check in the pre-sync header loop situation\n\nForgot about this completely, but opened #33553 now to improve the logging (we'll still circle through peers trying to get headers that we don't view as invalid, but will now repeatedly log warning suggesting to reindex if the problem persists)",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3374369293",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "subscribed",
      "id": 20475891148,
      "node_id": "SE_lADOABII585U2uShzwAAAATEdU3M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20475891148",
      "actor": {
        "login": "eyig",
        "id": 70059568,
        "node_id": "MDQ6VXNlcjcwMDU5NTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/70059568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eyig",
        "html_url": "https://github.com/eyig",
        "followers_url": "https://api.github.com/users/eyig/followers",
        "following_url": "https://api.github.com/users/eyig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eyig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eyig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eyig/subscriptions",
        "organizations_url": "https://api.github.com/users/eyig/orgs",
        "repos_url": "https://api.github.com/users/eyig/repos",
        "events_url": "https://api.github.com/users/eyig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eyig/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-24T07:49:29Z"
    },
    {
      "event": "referenced",
      "id": 21038178688,
      "node_id": "REFE_lADOABII585U2uShzwAAAATl-SGA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21038178688",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "ff2fd5ca89b598dd5b8f87bdde4a6d39afb74a5a",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/ff2fd5ca89b598dd5b8f87bdde4a6d39afb74a5a",
      "created_at": "2025-11-19T09:50:10Z"
    },
    {
      "event": "referenced",
      "id": 21053539108,
      "node_id": "REFE_lADOABII585U2uShzwAAAATm44Mk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21053539108",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "f0d4bd06c0a27050e00b29f7ae1aef4af1e1c050",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/f0d4bd06c0a27050e00b29f7ae1aef4af1e1c050",
      "created_at": "2025-11-19T21:16:27Z"
    },
    {
      "event": "closed",
      "id": 21458396692,
      "node_id": "CE_lADOABII585U2uShzwAAAAT_BSYU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21458396692",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "2c44c41984e0a170cf38d595635a9e861854573c",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2c44c41984e0a170cf38d595635a9e861854573c",
      "created_at": "2025-12-09T16:28:00Z"
    },
    {
      "event": "referenced",
      "id": 21458396840,
      "node_id": "REFE_lADOABII585U2uShzwAAAAT_BSao",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21458396840",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "2c44c41984e0a170cf38d595635a9e861854573c",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/2c44c41984e0a170cf38d595635a9e861854573c",
      "created_at": "2025-12-09T16:28:00Z"
    },
    {
      "event": "commented",
      "id": 3634191830,
      "node_id": "IC_kwDOABII587YnV3W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3634191830",
      "actor": {
        "login": "da2ce7",
        "id": 691439,
        "node_id": "MDQ6VXNlcjY5MTQzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/da2ce7",
        "html_url": "https://github.com/da2ce7",
        "followers_url": "https://api.github.com/users/da2ce7/followers",
        "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
        "organizations_url": "https://api.github.com/users/da2ce7/orgs",
        "repos_url": "https://api.github.com/users/da2ce7/repos",
        "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/da2ce7/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T20:39:42Z",
      "updated_at": "2025-12-09T20:39:42Z",
      "author_association": "NONE",
      "body": "@glozow thank you for your work towards resolution of this issue; however the software still gets stuck in an endless loop. :(  - Just with better logging :)\n\nI do not think that this issue should be closed (as completed) until the client has some sort of resolution; (for example triggering a full recheck of the data and fixing the corruption; or aborting and throwing a fatal error)...",
      "user": {
        "login": "da2ce7",
        "id": 691439,
        "node_id": "MDQ6VXNlcjY5MTQzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/691439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/da2ce7",
        "html_url": "https://github.com/da2ce7",
        "followers_url": "https://api.github.com/users/da2ce7/followers",
        "following_url": "https://api.github.com/users/da2ce7/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/da2ce7/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/da2ce7/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/da2ce7/subscriptions",
        "organizations_url": "https://api.github.com/users/da2ce7/orgs",
        "repos_url": "https://api.github.com/users/da2ce7/repos",
        "events_url": "https://api.github.com/users/da2ce7/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/da2ce7/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3634191830",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "mentioned",
      "id": 21463473707,
      "node_id": "MEE_lADOABII585U2uShzwAAAAT_Up4r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21463473707",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T20:39:43Z"
    },
    {
      "event": "subscribed",
      "id": 21463473739,
      "node_id": "SE_lADOABII585U2uShzwAAAAT_Up5L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21463473739",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T20:39:43Z"
    },
    {
      "event": "commented",
      "id": 3634297696,
      "node_id": "IC_kwDOABII587Ynvtg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3634297696",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T21:10:48Z",
      "updated_at": "2025-12-09T21:10:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "I'm not sure if there really is a better solution - there is a judgement call involved by the node operator on whether there is local corruption, or whether the peers are out of consensus and we are correct in viewing the block as invalid (e.g. in case of a catastrophic consensus split). I don't think we would want to automate making that call. We wouldn't want to reindex or shut down automatically, because this could be turned into an (expensive) attack by miners, who could deliberately create an invalid block with valid PoW.\n\nStrictly speaking there is no endless loop. We connect to one peer, sync headers until we get to the invalid block, and then disconnect and search for another peer to download headers from, and so on. The loop is only \"endless\" if all peers in the network have a different view on consensus than we have, and we have no way of knowing for sure if this is the case.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3634297696",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 3634433495,
      "node_id": "IC_kwDOABII587YoQ3X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3634433495",
      "actor": {
        "login": "roqqit",
        "id": 172419468,
        "node_id": "U_kgDOCkbpjA",
        "avatar_url": "https://avatars.githubusercontent.com/u/172419468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roqqit",
        "html_url": "https://github.com/roqqit",
        "followers_url": "https://api.github.com/users/roqqit/followers",
        "following_url": "https://api.github.com/users/roqqit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roqqit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roqqit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roqqit/subscriptions",
        "organizations_url": "https://api.github.com/users/roqqit/orgs",
        "repos_url": "https://api.github.com/users/roqqit/repos",
        "events_url": "https://api.github.com/users/roqqit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roqqit/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T21:51:24Z",
      "updated_at": "2025-12-09T21:51:24Z",
      "author_association": "NONE",
      "body": "This is very fragile on testnets that fork a lot. For example on dogecoin (ya not bitcoin but hey its a software fork), there were a lot of testnet forks for whatever reason and presyncing spun in an endless loop (I let it run for over 24 hours). I found a way around this by setting minimumchainwork=0. This \"fix\" works but also signals that presyncing is broken.\n\nI do not have a clear path forward but it does appear that presyncing is too aggressive and should instead work on a best-effort basis. As a user my expectation would be for headers to start processing after a few hours even if presyncing failed. That way, I could at least take action and start invalidating blocks or whatever. But when presyncing gets stuck there is nothing obvious to do since I am stuck at genesis.",
      "user": {
        "login": "roqqit",
        "id": 172419468,
        "node_id": "U_kgDOCkbpjA",
        "avatar_url": "https://avatars.githubusercontent.com/u/172419468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roqqit",
        "html_url": "https://github.com/roqqit",
        "followers_url": "https://api.github.com/users/roqqit/followers",
        "following_url": "https://api.github.com/users/roqqit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roqqit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roqqit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roqqit/subscriptions",
        "organizations_url": "https://api.github.com/users/roqqit/orgs",
        "repos_url": "https://api.github.com/users/roqqit/repos",
        "events_url": "https://api.github.com/users/roqqit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roqqit/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3634433495",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "commented",
      "id": 3634788731,
      "node_id": "IC_kwDOABII587Ypnl7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3634788731",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-10T00:04:04Z",
      "updated_at": "2025-12-10T00:04:04Z",
      "author_association": "MEMBER",
      "body": "@roqqit That sounds like an unrelated issue, which may be specific to your fork. This issue is about the node not detecting that its database is corrupted, and thus incorrectly rejecting the valid chain when it is offered.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3634788731",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    },
    {
      "event": "mentioned",
      "id": 21466435711,
      "node_id": "MEE_lADOABII585U2uShzwAAAAT_f9B_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21466435711",
      "actor": {
        "login": "roqqit",
        "id": 172419468,
        "node_id": "U_kgDOCkbpjA",
        "avatar_url": "https://avatars.githubusercontent.com/u/172419468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roqqit",
        "html_url": "https://github.com/roqqit",
        "followers_url": "https://api.github.com/users/roqqit/followers",
        "following_url": "https://api.github.com/users/roqqit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roqqit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roqqit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roqqit/subscriptions",
        "organizations_url": "https://api.github.com/users/roqqit/orgs",
        "repos_url": "https://api.github.com/users/roqqit/repos",
        "events_url": "https://api.github.com/users/roqqit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roqqit/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-10T00:04:05Z"
    },
    {
      "event": "subscribed",
      "id": 21466435801,
      "node_id": "SE_lADOABII585U2uShzwAAAAT_f9DZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21466435801",
      "actor": {
        "login": "roqqit",
        "id": 172419468,
        "node_id": "U_kgDOCkbpjA",
        "avatar_url": "https://avatars.githubusercontent.com/u/172419468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roqqit",
        "html_url": "https://github.com/roqqit",
        "followers_url": "https://api.github.com/users/roqqit/followers",
        "following_url": "https://api.github.com/users/roqqit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roqqit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roqqit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roqqit/subscriptions",
        "organizations_url": "https://api.github.com/users/roqqit/orgs",
        "repos_url": "https://api.github.com/users/roqqit/repos",
        "events_url": "https://api.github.com/users/roqqit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roqqit/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-10T00:04:06Z"
    },
    {
      "event": "commented",
      "id": 3646548064,
      "node_id": "IC_kwDOABII587ZWehg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3646548064",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-12T13:46:15Z",
      "updated_at": "2025-12-12T13:46:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Agree with https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3634191830 that only adding warnings feels unsatisfying. My initial suggestion was also to halt the node. But I now also agree with https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3634297696, we cannot make a definite classification between corruption and consensus forks.\n\nThe original issue at the top here had a log where the node was still syncing ancestor blocks to assumevalid. Within the same run: outputs were (or should have been) added to the chainstate DB in one block and then validation of a later block failed to find them when searching for inputs (my digging into the data: https://github.com/bitcoin/bitcoin/pull/33553#issuecomment-3406488480, was still suggesting more drastic measures there). I think this kind of IBD case might merit at least more certain language:\n\n<details><summary>Diff changing warning if block is an ancestor to assumevalid:\n\n    block %s was previously marked invalid (received from peer=%i).\n    It's an ancestor to the assume valid block though! Unless we are running with\n    a malicious -assumevalid setting or are experiencing a very unlikely fork in\n    consensus, this strongly indicates database corruption (that -reindex may fix).\n</summary>\n\n```diff\n--- a/src/net_processing.cpp\n+++ b/src/net_processing.cpp\n@@ -2957,10 +2957,25 @@ void PeerManagerImpl::ProcessHeadersMessage(CNode& pfrom, Peer& peer,\n         if (state.IsInvalid()) {\n             if (!pfrom.IsInboundConn() && state.GetResult() == BlockValidationResult::BLOCK_CACHED_INVALID) {\n                 // Warn user if outgoing peers send us headers of blocks that we previously marked as invalid.\n-                LogWarning(\"%s (received from peer=%i). \"\n-                           \"If this happens with all peers, consider database corruption (that -reindex may fix) \"\n-                           \"or a potential consensus incompatibility.\",\n-                           state.GetDebugMessage(), pfrom.GetId());\n+                bool assume_valid_ancestor{false};\n+                if (!m_chainman.AssumedValidBlock().IsNull()) {\n+                    LOCK(cs_main);\n+                    node::BlockMap::const_iterator it{m_chainman.m_blockman.m_block_index.find(m_chainman.AssumedValidBlock())};\n+                    assume_valid_ancestor = it != m_chainman.m_blockman.m_block_index.end() &&\n+                                            it->second.GetAncestor(pindexLast->nHeight) == pindexLast;\n+                }\n+                if (assume_valid_ancestor) {\n+                    LogWarning(\"%s (received from peer=%i). \"\n+                               \"It's an ancestor to the assume valid block though! Unless we are running with \"\n+                               \"a malicious -assumevalid setting or are experiencing a very unlikely fork in \"\n+                               \"consensus, this strongly indicates database corruption (that -reindex may fix).\",\n+                               state.GetDebugMessage(), pfrom.GetId());\n+                } else {\n+                    LogWarning(\"%s (received from peer=%i). \"\n+                               \"If this happens with all peers, consider database corruption (that -reindex may fix) \"\n+                               \"or a potential consensus incompatibility.\",\n+                               state.GetDebugMessage(), pfrom.GetId());\n+                }\n             }\n             MaybePunishNodeForBlock(pfrom.GetId(), state, via_compact_block, \"invalid header received\");\n             return;\n```\n\n</details>\n\nSince we only do this for outbound connections thanks to https://github.com/bitcoin/bitcoin/pull/33553#discussion_r2413568289, the ancestor lookup shouldn't be too much of a DoS vector.\n\nWould there be any interest in such a follow-up?",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26391#issuecomment-3646548064",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26391"
    }
  ]
}