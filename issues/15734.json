{
  "type": "issue",
  "issue": {
    "id": 428975757,
    "node_id": "MDU6SXNzdWU0Mjg5NzU3NTc=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/15734",
    "number": 15734,
    "state": "closed",
    "state_reason": "completed",
    "title": "Remove wallet `relayTransaction`",
    "body": "Originally posted as a comment here: https://github.com/bitcoin/bitcoin/pull/15713#issuecomment-479647663\r\n\r\nWe should better define the relationship between the wallet and the node, ie answer the question \"What services should the node offer to the wallet?\" Currently, the node exposes two methods to the wallet for sending a transaction:\r\n\r\n1. `submitToMemoryPool(const CTransactionRef& tx, CAmount absurd_fee, CValidationState& state)`: Add transaction to memory pool if the transaction fee is below the amount specified by absurd_fee. Returns false if the transaction could not be added due to the fee or for another reason. This is only called in `CWalletTx::AcceptToMemoryPool()`\r\n2. `relayTransaction(const uint256& txid)`: adds the txid to the INV queue for each peer. This is only called in `CWalletTx::RelayWalletTransaction()` (which also calls `CWalletTx::AcceptToMemoryPool()`)\r\n\r\nNote that to relay an INV for the transaction to peers (2), the transaction must already be in the mempool. See:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/ba54342c9dd3f2e5cdeed9ac57f1924f0d885cc6/src/net_processing.cpp#L3804\r\n\r\n`relayTransaction()` is only ever called if `InMempool() || AcceptToMemoryPool()` is true.\r\n\r\nThe wallet currently calls `CWalletTx::AcceptToMemoryPool()` in the following places:\r\n\r\n1a. In `CWallet::ReacceptWalletTransactions()`, called after the wallet has started up to make sure that its transactions are added to the mempool at start.\r\n2a. In `CWalletTx::RelayWalletTransaction()`, mentioned above.\r\n3a. In `CWallet::CommitTransaction()`, when a transaction is to be broadcast to the network for the first time.\r\n\r\nThe wallet currently calls `CWalletTx::RelayWalletTransaction()` in the following places:\r\n\r\n2a. In `CWallet::ResendWalletTransactions()`, called on a timer to rebroadcast unconfirmed transactions.\r\n2b. In `CWallet::CommitTransaction()`, but only if the transaction is successfully added to the mempool.\r\n\r\nI've been thinking about this in the context of the wallet rebroadcasting transactions (see discussion here: http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-03-29-19.10.log.html#l-9). My view now is that the wallet should not have any access to relay functionality. It should be able to submit transactions to the node's mempool, and it should then be the mempool's responsibility to broadcast/rebroadcast the transaction (see comment here: http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-03-29-19.10.log.html#l-92). That seems like a much cleaner divide of responsibility.",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      },
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 8,
    "closed_at": "2020-11-04T22:11:29Z",
    "created_at": "2019-04-03T21:08:06Z",
    "updated_at": "2022-02-15T11:16:44Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 479660147,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTY2MDE0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479660147",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-03T21:10:13Z",
      "updated_at": "2019-04-03T21:10:13Z",
      "author_association": "MEMBER",
      "body": ">it should then be the mempool's responsibility to broadcast/rebroadcast the transaction\r\n\r\nConcept ACK",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-479660147",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "labeled",
      "id": 2288972266,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIyODg5NzIyNjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2288972266",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-19T20:39:40Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "labeled",
      "id": 2288972509,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIyODg5NzI1MDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2288972509",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-19T20:39:49Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "labeled",
      "id": 2288972510,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIyODg5NzI1MTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2288972510",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-19T20:39:49Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 485011874,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NTAxMTg3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485011874",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-19T20:54:57Z",
      "updated_at": "2019-04-19T21:03:36Z",
      "author_association": "MEMBER",
      "body": "The mempool should probably only re-send transactions in two cases:\r\n* Your wallet-txs every two weeks to keep them in other node's mempools\r\n* Any (also third-party) tx that has high enough fee to make it into the previous block and has been in the mempool for at least 5 minutes. I.e. any tx that could replace (due to higher fee) another tx from the previous block that is in getblocktemplate of the same size as the previous block. This re-send could happen with a higher poisson timeout to avoid network-wide spikes in bandwidth events.\r\n\r\nThe initial relay of wallet transactions should happen in a relay mechanism completely separate from the current mempool/inv logic. Txs are added to the mempool when they \"come back\" from other peers. Only if they never come back, the classical ATMP+fluff should be used.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-485011874",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "commented",
      "id": 514229233,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDIyOTIzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514229233",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-07-23T14:16:20Z",
      "updated_at": "2019-07-23T14:16:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "I've written a proposal for  better rebroadcast logic & a cleaner node / wallet interface: [gist](https://gist.github.com/amitiuttarwar/b592ee410e1f02ac0d44fcbed4621dba)",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-514229233",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "commented",
      "id": 514301242,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDMwMTI0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514301242",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-07-23T17:12:47Z",
      "updated_at": "2019-07-23T17:12:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I've written a proposal for better rebroadcast logic & a cleaner node / wallet interface: gist\r\n\r\nThe [dev wiki](https://github.com/bitcoin-core/bitcoin-devwiki/wiki) is a good place for design docs, so could consider moving the gist there at some point. Does step 1 \"Update how the wallet submits transactions to the node\" in the implementation section overlap with #15713?",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-514301242",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "commented",
      "id": 514320028,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDMyMDAyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514320028",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-07-23T18:04:08Z",
      "updated_at": "2019-07-23T18:04:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "ðŸ‘ happy to post to dev wiki once the gist is in a steady state.\r\n\r\nthe current proposed implementation conflicts with #15713, I will update to build off of that PR instead. ",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-514320028",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "commented",
      "id": 541327500,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTMyNzUwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541327500",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-12T13:58:57Z",
      "updated_at": "2019-10-12T13:58:57Z",
      "author_association": "MEMBER",
      "body": "#16698 ",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-541327500",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "commented",
      "id": 623614243,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzYxNDI0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623614243",
      "actor": {
        "login": "adamjonas",
        "id": 755825,
        "node_id": "MDQ6VXNlcjc1NTgyNQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/755825?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjonas",
        "html_url": "https://github.com/adamjonas",
        "followers_url": "https://api.github.com/users/adamjonas/followers",
        "following_url": "https://api.github.com/users/adamjonas/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/adamjonas/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/adamjonas/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/adamjonas/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjonas/orgs",
        "repos_url": "https://api.github.com/users/adamjonas/repos",
        "events_url": "https://api.github.com/users/adamjonas/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/adamjonas/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-04T17:59:10Z",
      "updated_at": "2020-05-04T17:59:10Z",
      "author_association": "MEMBER",
      "body": "ref #18038 which lays the groundwork for #16698",
      "user": {
        "login": "adamjonas",
        "id": 755825,
        "node_id": "MDQ6VXNlcjc1NTgyNQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/755825?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjonas",
        "html_url": "https://github.com/adamjonas",
        "followers_url": "https://api.github.com/users/adamjonas/followers",
        "following_url": "https://api.github.com/users/adamjonas/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/adamjonas/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/adamjonas/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/adamjonas/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjonas/orgs",
        "repos_url": "https://api.github.com/users/adamjonas/repos",
        "events_url": "https://api.github.com/users/adamjonas/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/adamjonas/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-623614243",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "commented",
      "id": 722002521,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyMjAwMjUyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/722002521",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-04T22:11:29Z",
      "updated_at": "2020-11-04T22:11:29Z",
      "author_association": "MEMBER",
      "body": "This is tracked by the rebroadcast project at #16698",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15734#issuecomment-722002521",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15734"
    },
    {
      "event": "closed",
      "id": 3959682977,
      "node_id": "MDExOkNsb3NlZEV2ZW50Mzk1OTY4Mjk3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3959682977",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-04T22:11:30Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "JaredTate",
        "id": 13957390,
        "node_id": "MDQ6VXNlcjEzOTU3Mzkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/13957390?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JaredTate",
        "html_url": "https://github.com/JaredTate",
        "followers_url": "https://api.github.com/users/JaredTate/followers",
        "following_url": "https://api.github.com/users/JaredTate/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JaredTate/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JaredTate/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JaredTate/subscriptions",
        "organizations_url": "https://api.github.com/users/JaredTate/orgs",
        "repos_url": "https://api.github.com/users/JaredTate/repos",
        "events_url": "https://api.github.com/users/JaredTate/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JaredTate/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-24T16:55:55Z",
      "updated_at": "2021-10-24T16:55:55Z",
      "source": {
        "issue": {
          "id": 1034462833,
          "node_id": "I_kwDOCMh1y849qKZx",
          "url": "https://api.github.com/repos/DigiByte-Core/digibyte/issues/77",
          "repository_url": "https://api.github.com/repos/DigiByte-Core/digibyte",
          "labels_url": "https://api.github.com/repos/DigiByte-Core/digibyte/issues/77/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/DigiByte-Core/digibyte/issues/77/comments",
          "events_url": "https://api.github.com/repos/DigiByte-Core/digibyte/issues/77/events",
          "html_url": "https://github.com/DigiByte-Core/digibyte/issues/77",
          "number": 77,
          "state": "open",
          "state_reason": null,
          "title": "WIP: Feature/8.22.0 Random Crash Bug & Missing Dandelion Relay TX Code",
          "body": "Over the course of the past few weeks I have experienced a hard to track down bug where the v8.22.0 test client https://github.com/DigiByte-Core/digibyte/pull/63 randomly crashes. I have experienced this now on OS X & Ubuntu with multiple clients. After repeating the crash enough I have been able to track it down to what I believe is dandelion related issues when the client is asked to be part of a TX relay during the stem phase of a dandelion TX from a 7.17 client. The common error repeats itself 100s of time and looks like\r\n\r\n```\r\n2021-10-23T23:39:01Z received: inv (37 bytes) peer=33\r\n2021-10-23T23:39:01Z got inv: dandeliontx ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff  new peer=33\r\n2021-10-23T23:39:01Z sending getdata (36 bytes) peer=33\r\n2021-10-23T23:39:01Z sending inv (37 bytes) peer=33\r\n2021-10-23T23:39:01Z received: getdata (36 bytes) peer=33\r\n2021-10-23T23:39:01Z ProcessMessages(getdata, 36 bytes): Exception 'CDataStream::read(): end of data: iostream error' (NSt8ios_base7failureB5cxx11E) caught\r\n2021-10-23T23:39:01Z received: inv (37 bytes) peer=33\r\n2021-10-23T23:39:01Z got inv: dandeliontx ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff  new peer=33\r\n2021-10-23T23:39:01Z sending getdata (36 bytes) peer=33\r\n2021-10-23T23:39:01Z sending inv (37 bytes) peer=33\r\n2021-10-23T23:39:01Z received: getdata (36 bytes) peer=33\r\n2021-10-23T23:39:01Z ProcessMessages(getdata, 36 bytes): Exception 'CDataStream::read(): end of data: iostream error' (NSt8ios_base7failureB5cxx11E) caught\r\n```\r\nHere is a paste bin with 5000 lines of same error from DigiHash server: https://pastebin.com/buhkFkxM\r\n\r\nBasically I have watch clients crash a dozen times or more with this being the main error message: \r\n\r\n```\r\n2021-10-23T23:39:01Z received: getdata (36 bytes) peer=33\r\n2021-10-23T23:39:01Z ProcessMessages(getdata, 36 bytes): Exception 'CDataStream::read(): end of data: iostream error' (NSt8ios_base7failureB5cxx11E) caught\r\n```\r\nOnly way to make sure you actually see that error is to have debug=1 in your digibyte.conf or -debug=1 on command line startup for digibyted or digibyte-qt.\r\n\r\nWhat didn't make sense was while running 4 instances of DigiByteD on that server, only 1 at a time would randomly crash, which makes sense considering only the client involved in the relay of a dandelion tx during stem phase would be affected.\r\n\r\nTo further track down the issue we attempted to add \"disabledandelion=1\" to the DigiByte.conf only to find that no longer worked and the code to actually disable dandelion was missing.  Upon diving further in it became apparent that RelayWalletTransaction is now SubmitMemoryPoolAndRelay.\r\n\r\nSo in new 8.22 code we have:  https://github.com/DigiByte-Core/digibyte/blob/feature/8.22.0/src/wallet/wallet.cpp#L1712\r\n\r\n```\r\nbool CWalletTx::SubmitMemoryPoolAndRelay(std::string& err_string, bool relay)\r\n{\r\n    // Can't relay if wallet is not broadcasting\r\n    if (!pwallet->GetBroadcastTransactions()) return false;\r\n    // Don't relay abandoned transactions\r\n    if (isAbandoned()) return false;\r\n    // Don't try to submit coinbase transactions. These would fail anyway but would\r\n    // cause log spam.\r\n    if (IsCoinBase()) return false;\r\n    // Don't try to submit conflicted or confirmed transactions.\r\n    if (GetDepthInMainChain() != 0) return false;\r\n\r\n    // Submit transaction to mempool for relay\r\n    pwallet->WalletLogPrintf(\"Submitting wtx %s to mempool for relay\\n\", GetHash().ToString());\r\n    // We must set fInMempool here - while it will be re-set to true by the\r\n    // entered-mempool callback, if we did not there would be a race where a\r\n    // user could call sendmoney in a loop and hit spurious out of funds errors\r\n    // because we think that this newly generated transaction's change is\r\n    // unavailable as we're not yet aware that it is in the mempool.\r\n    //\r\n    // Irrespective of the failure reason, un-marking fInMempool\r\n    // out-of-order is incorrect - it should be unmarked when\r\n    // TransactionRemovedFromMempool fires.\r\n    bool ret = pwallet->chain().broadcastTransaction(tx, pwallet->m_default_max_tx_fee, relay, err_string);\r\n    fInMempool |= ret;\r\n    return ret;\r\n}\r\n```\r\nHowever 7.17.3 code reads: https://github.com/DigiByte-Core/digibyte/blob/develop/src/wallet/wallet.cpp#L1828\r\n```\r\nbool CWalletTx::RelayWalletTransaction(CConnman* connman)\r\n{\r\n    assert(pwallet->GetBroadcastTransactions());\r\n    if (!IsCoinBase() && !isAbandoned() && GetDepthInMainChain() == 0)\r\n    {\r\n        LogPrintf(\"Inside IF Test \\n\");\r\n        CValidationState state;\r\n        /* GetDepthInMainChain already catches known conflicts. */\r\n        LogPrintf(\"Transaction in memory pool: %u, Accepted To MemoryPool: %u\", InMempool(), AcceptToMemoryPool(maxTxFee, state));\r\n        if (InMempool() || AcceptToMemoryPool(maxTxFee, state)) {\r\n            pwallet->WalletLogPrintf(\"Relaying wtx %s\\n\", GetHash().ToString());\r\n            if (connman) {\r\n                if (!gArgs.GetBoolArg(\"-disabledandelion\", DEFAULT_DISABLE_DANDELION)) {\r\n                    int64_t nCurrTime = GetTimeMicros();\r\n                    int64_t nEmbargo = 1000000*DANDELION_EMBARGO_MINIMUM+PoissonNextSend(nCurrTime, DANDELION_EMBARGO_AVG_ADD);\r\n                    connman->insertDandelionEmbargo(GetHash(),nEmbargo);\r\n                    LogPrint(BCLog::DANDELION, \"dandeliontx %s embargoed for %d seconds\\n\", GetHash().ToString(), (nEmbargo-nCurrTime)/1000000);\r\n                    CInv inv(MSG_DANDELION_TX, GetHash());\r\n                    return connman->localDandelionDestinationPushInventory(inv);\r\n                } else {\r\n                    CInv inv(MSG_TX, GetHash());\r\n                    connman->ForEachNode([&inv](CNode* pnode)\r\n                    {\r\n                        pnode->PushInventory(inv);\r\n                    });\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nSo it appears the BTC devs reworked the relay TX code which breaks our dandelion implementation in an attempt to enhance privacy as seen here: https://github.com/bitcoin/bitcoin/issues/15734\r\n\r\nAnd here: https://github.com/bitcoin/bitcoin/pull/16698\r\n\r\nThe original Dandelion implementation, which can be seen here by original developers has not been reworked since their 2018 update. The entire dandelion implementation can be seen here: https://github.com/dandelion-org/bitcoin/commit/d043e36bbe9249a78cf751c80b8d876b7d9f07ea\r\n\r\nIf we can re-enable \"disabledandelion\" this should prevent the random crash bug, however we need to fully fix the dandelion relay TX feature. All help with this is much appreciated. As stated above it has taken a couple weeks to get this far into understanding the problem, as it was not apparent at all in the beginning what was triggering random crashes.\r\n\r\nThis issue most likely will go a bit deeper, but it definitely seems to be an issue with relaying txs. I just had this error locally on my Mac client right before it crashed: \r\n\r\n```\r\n\r\n2021-10-24T16:11:53Z got inv: tx a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728  new peer=1\r\n2021-10-24T16:11:53Z Requesting tx a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728 peer=1\r\n2021-10-24T16:11:53Z sending getdata (37 bytes) peer=1\r\n2021-10-24T16:11:53Z received: tx (223 bytes) peer=1\r\n2021-10-24T16:11:53Z Enqueuing TransactionAddedToMempool: txid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728 wtxid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728\r\n2021-10-24T16:11:53Z Blockpolicy error mempool tx a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728 already being tracked\r\n2021-10-24T16:11:53Z Enqueuing TransactionAddedToMempool: txid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728 wtxid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728\r\n2021-10-24T16:11:53Z AcceptToMemoryPool: peer=1: accepted a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728 (poolsz 1 txn, 1 kB)\r\n2021-10-24T16:11:53Z TransactionAddedToMempool: txid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728 wtxid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728\r\n2021-10-24T16:11:53Z TransactionAddedToMempool: txid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728 wtxid=a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728\r\n2021-10-24T16:11:54Z sending inv (37 bytes) peer=14\r\n2021-10-24T16:11:54Z sending inv (37 bytes) peer=4\r\n2021-10-24T16:11:54Z received: inv (37 bytes) peer=8\r\n2021-10-24T16:11:54Z got inv: tx a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728  have peer=8\r\n2021-10-24T16:11:55Z sending inv (37 bytes) peer=13\r\n2021-10-24T16:11:55Z received: ping (8 bytes) peer=1\r\n2021-10-24T16:11:55Z sending pong (8 bytes) peer=1\r\n2021-10-24T16:11:55Z sending inv (37 bytes) peer=5\r\n2021-10-24T16:11:56Z received: inv (73 bytes) peer=10\r\n2021-10-24T16:11:56Z got inv: tx a938e42a4c436db4c0bdf0c8b6dafc05d274404451e2a12070031707eb558728  have peer=10\r\n2021-10-24T16:11:56Z got inv: tx ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f  new peer=10\r\n2021-10-24T16:11:56Z Requesting tx ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f peer=10\r\n2021-10-24T16:11:56Z sending getdata (37 bytes) peer=10\r\n2021-10-24T16:11:56Z sending inv (37 bytes) peer=9\r\n2021-10-24T16:11:56Z received: tx (259 bytes) peer=10\r\n2021-10-24T16:11:56Z Enqueuing TransactionAddedToMempool: txid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f wtxid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f\r\n2021-10-24T16:11:56Z Blockpolicy error mempool tx ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f already being tracked\r\n2021-10-24T16:11:56Z Enqueuing TransactionAddedToMempool: txid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f wtxid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f\r\n2021-10-24T16:11:56Z AcceptToMemoryPool: peer=10: accepted ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f (poolsz 2 txn, 2 kB)\r\n2021-10-24T16:11:56Z TransactionAddedToMempool: txid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f wtxid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f\r\n2021-10-24T16:11:56Z TransactionAddedToMempool: txid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f wtxid=ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f\r\n2021-10-24T16:11:56Z received: inv (37 bytes) peer=8\r\n2021-10-24T16:11:56Z got inv: tx ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f  have peer=8\r\n2021-10-24T16:11:57Z sending inv (37 bytes) peer=13\r\n2021-10-24T16:11:57Z sending inv (37 bytes) peer=14\r\n2021-10-24T16:11:57Z received: inv (37 bytes) peer=9\r\n2021-10-24T16:11:57Z got inv: tx ec35e6a0b9cf38e30ee1179b21b53b099856ce648ca1ff3eb3f24ebf9b67294f  have peer=9\r\n2021-10-24T16:11:58Z sending inv (37 bytes) peer=4\r\n2021-10-24T16:11:58Z received: getdata (37 bytes) peer=13\r\n2021-10-24T16:11:58Z received getdata (1 invsz) peer=13\r\n2021-10-24T16:11:58Z received getdata for: witness-tx 8b9f8731d0337676c1c9ed56177ca175bf0e4255f4e080f73eb5774b50d14e69 peer=13\r\n\r\n```",
          "user": {
            "login": "JaredTate",
            "id": 13957390,
            "node_id": "MDQ6VXNlcjEzOTU3Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/13957390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JaredTate",
            "html_url": "https://github.com/JaredTate",
            "followers_url": "https://api.github.com/users/JaredTate/followers",
            "following_url": "https://api.github.com/users/JaredTate/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/JaredTate/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/JaredTate/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/JaredTate/subscriptions",
            "organizations_url": "https://api.github.com/users/JaredTate/orgs",
            "repos_url": "https://api.github.com/users/JaredTate/repos",
            "events_url": "https://api.github.com/users/JaredTate/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/JaredTate/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 11,
          "created_at": "2021-10-24T16:55:55Z",
          "updated_at": "2021-10-30T22:22:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 6074098053,
      "node_id": "LOE_lADOABII584ZkaaNzwAAAAFqC2GF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074098053",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:16:44Z",
      "lock_reason": "resolved"
    }
  ]
}