{
  "type": "issue",
  "issue": {
    "id": 1548805038,
    "node_id": "I_kwDOABII585cUOOu",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/26916",
    "number": 26916,
    "state": "open",
    "state_reason": "reopened",
    "title": "tracepoints: gnu-zero-variadic-macro-arguments warnings",
    "body": "These occur for all tracepoints when using Clang 15 and a system installed `systemtap`:\r\n```bash\r\n# clang --version\r\nDebian clang version 15.0.7\r\n\r\n./autogen.sh\r\n./configure CC=clang-15 CXX=clang++-15\r\nmake\r\n...\r\nnet_processing.cpp:4892:5: warning: must specify at least one argument for '...' parameter of variadic macro [-Wgnu-zero-variadic-macro-arguments]\r\n    TRACE6(net, inbound_message,\r\n    ^\r\n./util/trace.h:18:50: note: expanded from macro 'TRACE6'\r\n#define TRACE6(context, event, a, b, c, d, e, f) DTRACE_PROBE6(context, event, a, b, c, d, e, f)\r\n                                                 ^\r\n/usr/include/aarch64-linux-gnu/sys/sdt.h:494:3: note: expanded from macro 'DTRACE_PROBE6'\r\n  STAP_PROBE6(provider,probe,parm1,parm2,parm3,parm4,parm5,parm6)\r\n  ^\r\n/usr/include/aarch64-linux-gnu/sys/sdt.h:380:3: note: expanded from macro 'STAP_PROBE6'\r\n  _SDT_PROBE(provider, name, 6, (arg1, arg2, arg3, arg4, arg5, arg6))\r\n  ^\r\n/usr/include/aarch64-linux-gnu/sys/sdt.h:78:75: note: expanded from macro '_SDT_PROBE'\r\n    __asm__ __volatile__ (_SDT_ASM_BODY(provider, name, _SDT_ASM_ARGS, (n)) \\\r\n                                                                          ^\r\n/usr/include/aarch64-linux-gnu/sys/sdt.h:283:9: note: macro '_SDT_ASM_BODY' defined here\r\n#define _SDT_ASM_BODY(provider, name, pack_args, args, ...)                   \\\r\n        ^\r\n1 warning generated.\r\n```",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 5,
    "created_at": "2023-01-19T09:35:17Z",
    "updated_at": "2023-06-15T15:23:13Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 1400156218,
      "node_id": "IC_kwDOABII585TdLA6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400156218",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-23T10:59:15Z",
      "updated_at": "2023-01-23T10:59:15Z",
      "author_association": "MEMBER",
      "body": "FWIW, on Ubuntu Lunar with `systemtap-sdt-dev-4.8` being installed, warnings are gone when configuring with `--enable-c++20`.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26916#issuecomment-1400156218",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916"
    },
    {
      "event": "labeled",
      "id": 8333012950,
      "node_id": "LE_lADOABII585cUOOuzwAAAAHwr6_W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8333012950",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-23T11:02:03Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 1400232449,
      "node_id": "IC_kwDOABII585TddoB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400232449",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-23T12:04:08Z",
      "updated_at": "2023-01-23T12:04:08Z",
      "author_association": "MEMBER",
      "body": "> FWIW, on Ubuntu Lunar with `systemtap-sdt-dev-4.8` being installed, warnings are gone when configuring with `--enable-c++20`.\r\n\r\nfwiw I don't think systemtap 4.8 is the reason there are no warnings for you. The changes form 4.7 to 4.8 in `includes/sys/sdt.h` file are [minimal](https://sourceware.org/git/?p=systemtap.git;a=commitdiff;h=97213111b28685bf5f3edad5ec9e8bca397e8a5f;hp=6f6f15a002da7a05e64ef24047399688809895b2) and shouldn't affect this.\r\n",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26916#issuecomment-1400232449",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916"
    },
    {
      "event": "commented",
      "id": 1400239451,
      "node_id": "IC_kwDOABII585TdfVb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400239451",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-23T12:09:23Z",
      "updated_at": "2023-01-23T12:09:23Z",
      "author_association": "MEMBER",
      "body": "> > FWIW, on Ubuntu Lunar with `systemtap-sdt-dev-4.8` being installed, warnings are gone when configuring with `--enable-c++20`.\r\n> \r\n> fwiw I don't think systemtap 4.8 is the reason there are no warnings for you. The changes form 4.7 to 4.8 in `includes/sys/sdt.h` file are [minimal](https://sourceware.org/git/?p=systemtap.git;a=commitdiff;h=97213111b28685bf5f3edad5ec9e8bca397e8a5f;hp=6f6f15a002da7a05e64ef24047399688809895b2) and shouldn't affect this.\r\n\r\nCorrect, the reason is `--enable-c++20`. See https://en.cppreference.com/w/cpp/preprocessor/replace.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26916#issuecomment-1400239451",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916"
    },
    {
      "event": "closed",
      "id": 8364132118,
      "node_id": "CE_lADOABII585cUOOuzwAAAAHyiocW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8364132118",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "eee2c2898575fd115a34954e5f8f1543784eebe1",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eee2c2898575fd115a34954e5f8f1543784eebe1",
      "created_at": "2023-01-26T13:38:01Z"
    },
    {
      "event": "reopened",
      "id": 8364167282,
      "node_id": "REE_lADOABII585cUOOuzwAAAAHyixBy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8364167282",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-26T13:42:09Z"
    },
    {
      "event": "commented",
      "id": 1405029300,
      "node_id": "IC_kwDOABII585Tvwu0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1405029300",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-26T13:46:51Z",
      "updated_at": "2023-01-26T13:46:51Z",
      "author_association": "MEMBER",
      "body": "Updated op to note that this is now system-installed systemtap only.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26916#issuecomment-1405029300",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916"
    },
    {
      "event": "referenced",
      "id": 8365739401,
      "node_id": "REFE_lADOABII585cUOOuzwAAAAHyow2J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8365739401",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "53564628e139092852e5dfaa136bd32c2634de61",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/53564628e139092852e5dfaa136bd32c2634de61",
      "created_at": "2023-01-26T16:26:44Z"
    },
    {
      "event": "commented",
      "id": 1480997053,
      "node_id": "IC_kwDOABII585YRji9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1480997053",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T11:08:45Z",
      "updated_at": "2023-03-23T11:08:45Z",
      "author_association": "MEMBER",
      "body": "This is still present with https://github.com/bitcoin/bitcoin/pull/26593 as it also uses an underlying variadic macro with 0 arguments via `_SDT_ASM_BODY` -> `_SDT_PROBE` -> `_SDT_PROBE_N` -> `STAP_PROBEV` -> `TRACEPOINT`.\r\n\r\nI tried to directly call the `STAP_PROBE1` macro for the single argument case (on top of #26593), which would mean that all our remaining `TRACEPOINT` macros were invoked with >= 1 argument:\r\n\r\n```cpp\r\n// A USDT tracepoint with one argument.\r\n#define TRACEPOINT1(context, event) \\\r\n    if (TRACEPOINT_ACTIVE(context, event)) \\\r\n        STAP_PROBE1(context, event, arg)\r\n```\r\n...but this apparently does not stop the warning, even though we are now never using an empty variadic argument:\r\n\r\n```log\r\nwallet/spend.cpp:954:5: warning: must specify at least one argument for '...' parameter of variadic macro [-Wgnu-zero-variadic-macro-arguments]\r\n    TRACEPOINT(coin_selection, selected_coins, wallet.GetName().c_str(), GetAlgorithmName(result.GetAlgo()).c_str(), result.GetTarget(), result.GetWaste(), result.GetSelectedValue());\r\n    ^\r\n./util/trace.h:48:9: note: expanded from macro 'TRACEPOINT'\r\n        STAP_PROBEV(context, event, __VA_ARGS__)\r\n        ^\r\n/usr/include/x86_64-linux-gnu/sys/sdt.h:422:3: note: expanded from macro 'STAP_PROBEV'\r\n  _SDT_PROBE_N(provider, name, _SDT_NARG(0, ##__VA_ARGS__), ##__VA_ARGS__)\r\n  ^\r\n/usr/include/x86_64-linux-gnu/sys/sdt.h:420:3: note: expanded from macro '_SDT_PROBE_N'\r\n  _SDT_PROBE(provider, name, N, (__VA_ARGS__))\r\n  ^\r\n/usr/include/x86_64-linux-gnu/sys/sdt.h:78:75: note: expanded from macro '_SDT_PROBE'\r\n    __asm__ __volatile__ (_SDT_ASM_BODY(provider, name, _SDT_ASM_ARGS, (n)) \\\r\n                                                                          ^\r\n/usr/include/x86_64-linux-gnu/sys/sdt.h:289:9: note: macro '_SDT_ASM_BODY' defined here\r\n#define _SDT_ASM_BODY(provider, name, pack_args, args, ...)                   \\\r\n        ^\r\n```\r\n\r\nIt seems we have a few options therefore:\r\n\r\n1. Do nothing and wait until we move to c++20 (no timeline)\r\n2. Exclude the warning with global compile flags: `CXXFLAGS += -Wno-gnu-zero-variadic-macro-arguments`\r\n3. Add pragmas inside the macros to disable the warnings (diff based on #26593):\r\n\r\n```diff\r\ndiff --git a/src/util/trace.h b/src/util/trace.h\r\nindex 816d8c295..e3fc0d8f4 100644\r\n--- a/src/util/trace.h\r\n+++ b/src/util/trace.h\r\n@@ -32,15 +32,29 @@\r\n #define TRACEPOINT_ACTIVE(context, event) context##_##event##_semaphore > 0\r\n \r\n // A USDT tracepoint with no arguments.\r\n+// Remove pragmas when we switch to c++20\r\n #define TRACEPOINT0(context, event) \\\r\n-    if (TRACEPOINT_ACTIVE(context, event)) \\\r\n-        STAP_PROBE(context, event)\r\n+    do { \\\r\n+        _Pragma(\"clang diagnostic push\") \\\r\n+        _Pragma(\"clang diagnostic ignored \\\"-Wgnu-zero-variadic-macro-arguments\\\"\") \\\r\n+        if (TRACEPOINT_ACTIVE(context, event)) { \\\r\n+            STAP_PROBE(context, event); \\\r\n+        } \\\r\n+        _Pragma(\"clang diagnostic pop\") \\\r\n+    } while(0)\r\n \r\n // A USDT tracepoint with one to twelve arguments. It's checked that the\r\n // tracepoint is active before preparing its arguments.\r\n+// Remove pragmas when we switch to c++20\r\n #define TRACEPOINT(context, event, ...) \\\r\n-    if (TRACEPOINT_ACTIVE(context, event)) \\\r\n-        STAP_PROBEV(context, event, __VA_ARGS__)\r\n+    do { \\\r\n+        _Pragma(\"clang diagnostic push\") \\\r\n+        _Pragma(\"clang diagnostic ignored \\\"-Wgnu-zero-variadic-macro-arguments\\\"\") \\\r\n+        if (TRACEPOINT_ACTIVE(context, event)) { \\\r\n+            STAP_PROBEV(context, event, __VA_ARGS__); \\\r\n+        } \\\r\n+        _Pragma(\"clang diagnostic pop\") \\\r\n+    } while(0)\r\n \r\n #else\r\n ```",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26916#issuecomment-1480997053",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26916"
    },
    {
      "event": "referenced",
      "id": 8908549254,
      "node_id": "REFE_lADOABII585cUOOuzwAAAAIS_ayG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8908549254",
      "actor": {
        "login": "martinus",
        "id": 14386,
        "node_id": "MDQ6VXNlcjE0Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martinus",
        "html_url": "https://github.com/martinus",
        "followers_url": "https://api.github.com/users/martinus/followers",
        "following_url": "https://api.github.com/users/martinus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martinus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martinus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martinus/subscriptions",
        "organizations_url": "https://api.github.com/users/martinus/orgs",
        "repos_url": "https://api.github.com/users/martinus/repos",
        "events_url": "https://api.github.com/users/martinus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martinus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "240e513e264819d1c2a14ccdaaf9578d486c7cf2",
      "commit_url": "https://api.github.com/repos/martinus/bitcoin/commits/240e513e264819d1c2a14ccdaaf9578d486c7cf2",
      "created_at": "2023-04-03T05:25:30Z"
    },
    {
      "event": "referenced",
      "id": 8927495241,
      "node_id": "REFE_lADOABII585cUOOuzwAAAAIUHsRJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8927495241",
      "actor": {
        "login": "martinus",
        "id": 14386,
        "node_id": "MDQ6VXNlcjE0Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martinus",
        "html_url": "https://github.com/martinus",
        "followers_url": "https://api.github.com/users/martinus/followers",
        "following_url": "https://api.github.com/users/martinus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martinus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martinus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martinus/subscriptions",
        "organizations_url": "https://api.github.com/users/martinus/orgs",
        "repos_url": "https://api.github.com/users/martinus/repos",
        "events_url": "https://api.github.com/users/martinus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martinus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5197660e947435e510ef3ef72be8be8dee3ffa41",
      "commit_url": "https://api.github.com/repos/martinus/bitcoin/commits/5197660e947435e510ef3ef72be8be8dee3ffa41",
      "created_at": "2023-04-04T18:21:57Z"
    }
  ]
}