{
  "type": "issue",
  "issue": {
    "id": 2333788531,
    "node_id": "I_kwDOABII586LGslz",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30224",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30224/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30224/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30224/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/30224",
    "number": 30224,
    "state": "closed",
    "state_reason": "completed",
    "title": "Improve/simplify node sync for pruned nodes",
    "body": "### Please describe the feature you'd like to see added.\r\n\r\nWhen running a pruned node it means it will keep only last X amount of GB predefined in the configuration, so why is it necessary to download the whole blockchain if only a tiny part will be kept at the end ? Can't it just download the amount of necessary and most recent data or a method developed for it and to speed up adoption of pruned nodes that will never keep all that amount of data ?\r\n\r\n### Is your feature related to a problem, if so please describe it.\r\n\r\nRelated to the incredibly long time that takes to sync the whole blockchain. It also contributes to waste bandwidth for data that will never be kept locally and delays the time for starting using the node that may take a whole week to finish a sync.\r\n\r\n### Describe the solution you'd like\r\n\r\nDevelop a method for a node when configured to run in pruned mode to only download the necessary data enough to run the pruned node and keep validating new blocks.\r\n\r\n### Describe any alternatives you've considered\r\n\r\n_No response_\r\n\r\n### Please leave any additional context\r\n\r\nReopening issue #30220 as a feature request that maflcko arbitrarily closed because he prefer it to be discussed elsewhere he likes better. The issue tracker is the proper and more formal place to discuss possible solutions for an code improvement.",
    "user": {
      "login": "ffrediani",
      "id": 7507739,
      "node_id": "MDQ6VXNlcjc1MDc3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7507739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ffrediani",
      "html_url": "https://github.com/ffrediani",
      "followers_url": "https://api.github.com/users/ffrediani/followers",
      "following_url": "https://api.github.com/users/ffrediani/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ffrediani/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ffrediani/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ffrediani/subscriptions",
      "organizations_url": "https://api.github.com/users/ffrediani/orgs",
      "repos_url": "https://api.github.com/users/ffrediani/repos",
      "events_url": "https://api.github.com/users/ffrediani/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ffrediani/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 1,
    "closed_at": "2024-06-04T15:26:23Z",
    "created_at": "2024-06-04T15:12:11Z",
    "updated_at": "2024-06-04T15:26:23Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 13038133536,
      "node_id": "LE_lADOABII586LGslzzwAAAAMJIiEg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13038133536",
      "actor": {
        "login": "ffrediani",
        "id": 7507739,
        "node_id": "MDQ6VXNlcjc1MDc3Mzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7507739?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ffrediani",
        "html_url": "https://github.com/ffrediani",
        "followers_url": "https://api.github.com/users/ffrediani/followers",
        "following_url": "https://api.github.com/users/ffrediani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ffrediani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ffrediani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ffrediani/subscriptions",
        "organizations_url": "https://api.github.com/users/ffrediani/orgs",
        "repos_url": "https://api.github.com/users/ffrediani/repos",
        "events_url": "https://api.github.com/users/ffrediani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ffrediani/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-04T15:12:11Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "commented",
      "id": 2147819544,
      "node_id": "IC_kwDOABII586ABSAY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2147819544",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-04T15:26:23Z",
      "updated_at": "2024-06-04T15:26:23Z",
      "author_association": "MEMBER",
      "body": "> When running a pruned node it means it will keep only last X amount of GB predefined in the configuration, so why is it necessary to download the whole blockchain if only a tiny part will be kept at the end ?\r\n\r\nBecause a fully validating node must have the entire UTXO set to continue validate new blocks, and that UTXO set can only be computed by processing the entire blockchain. The \"tiny part\" of block data the prune node does keep on disk is only there in case the blockchain is rewound (reversed) for a chain re-organization.\r\n\r\n\r\n> Can't it just download the amount of necessary and most recent data or a method developed for it and to speed up adoption of pruned nodes that will never keep all that amount of data ?\r\n\r\nIt does download the amount of necessary data, which is the entire blockchain. There are other strategies like Assume UTXO which can allow the user to begin using bitcoin while a full sync takes place in the background.\r\n\r\nI agree with the closing of issue #30220 and I am going to close this issue as well. I encourage you to learn more about blockchain pruning and full node operation, and ask further questions like this on https://bitcoin.stackexchange.com\r\n\r\nThe Bitcoin Core issue tracker should only be used to report technical problems or feature requests.\r\n\r\nHere are some resources that might help you understand what you are asking about:\r\n\r\nhttps://bitcoinops.org/en/topics/assumeutxo/\r\n\r\nhttps://bitcoin.stackexchange.com/questions/59475/blockchain-pruning-and-chainstate\r\n\r\nhttps://bitcoin.stackexchange.com/questions/92769/bitcoin-full-node-how-to-run-a-pruned-node-explaining-pruning\r\n\r\nhttps://chat.bitcoinsearch.xyz/?author=holocat&question=Why%2520do%2520pruned%2520nodes%2520need%2520to%2520download%2520the%2520entire%2520blockchain%253F",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30224#issuecomment-2147819544",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30224"
    },
    {
      "event": "closed",
      "id": 13038332032,
      "node_id": "CE_lADOABII586LGslzzwAAAAMJJSiA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13038332032",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-04T15:26:23Z"
    }
  ]
}