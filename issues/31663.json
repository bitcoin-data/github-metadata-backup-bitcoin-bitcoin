{
  "type": "issue",
  "issue": {
    "id": 2790651027,
    "node_id": "I_kwDOABII586mVfST",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31663",
    "number": 31663,
    "state": "closed",
    "state_reason": "completed",
    "title": "Enable PCP by default?",
    "body": "Centralize discussion around turning the `natpmp` setting to on by default.\n\nUPnP used to be turned on by default. It was turned off by default following numerous vulnerabilities found in miniupnpc. We recently got rid of the miniupnpc dependency by dropping the UPnP feature (https://github.com/bitcoin/bitcoin/pull/31130). In addition we implemented PCP with NAT-PMP fallback in house (https://github.com/bitcoin/bitcoin/pull/30043), safer protocols enabling the same NAT traversal feature to end users.\n\nWe have unit tests for our in-house implementation of PCP/NAT-PMP on the way (https://github.com/bitcoin/bitcoin/pull/31022). Once we also have fuzzing coverage then it becomes reasonable to consider potentially enabling the feature by default. The upside of turning this feature on by default is, if most ISP default provided router support it by default, a much more diverse P2P network. The downside is an increased attack surface: a vulnerability affecting only listening nodes would now also expose people's node at home.\n\nCompatibility matrix of our PCP/NAT-PMP support. If your router at home is not included in this list please consider testing and let me know the result. See below for [testing instructions](#testing-instructions).\n\nRouter | PCP support | NAT-PMP fallback support | Is PCP/NAT-PMP support enabled by default on the router?\n--------- | ----------------- | ----------------------------------- | -------------------------------------------------------------------------------\nVerizon default-provided router | :x: | ✅  | ✅ \nSpectrum's \"[WIFI 6E router](https://www.spectrum.com/internet/wifi-service/spectrum-advanced-wifi)\" | ✅ | N/A | :x:\n[CR1000A](https://www.verizon.com/support/verizon-router-cr1000a/) (Verizon FIOS) | :x: | ✅ | ✅ \nArcadyan PRV3399B-B-LT (aka [Livebox Fibra](https://ayuda.orange.es/dispositivos-y-routers/routers/2151-router-livebox-fibra)) | :x: | ? (did not fall back to NAT-PMP) | :x: (but UPnP is)\nAstound | ? | ? | ?\nArcher AX3000 Pro | :x: | ✅ | ✅ \nArcher AC1750 | :x: | ✅ | ✅\nArcher AX1800 | :x: | ✅ | ✅ \n[Unify Cloud Gateway Ultra](https://techspecs.ui.com/unifi/cloud-gateways) | ✅ | N/A | :x: \n[Unify Dream Router](https://techspecs.ui.com/unifi/cloud-gateways/udr?subcategory=all-cloud-gateways#datasheet) | ✅ | N/A | :x:\nHuawy Echolife HG8145V5 | :x: | :x: | ?\nJCO4032 | :x: | ? (only tested with ipv6) | :x:\nFRITZ!Box 7530 AX | ✅ | N/A | :x:\nOPNSense | ✅ | N/A | :x:\nopenwrt / Turris OS | ✅ | N/A | ?\n[protonVPN port forwarding](https://protonvpn.com/support/port-forwarding/) | :x: | ✅ | :x:\n\n### Testing instructions\n\n- Download [the latest Bitcoin Core v29.0 release candidate](https://bitcoincore.org/bin/bitcoin-core-29.0/test.rc2/)\n- Start `bitcoind` on any network with the `natpmp` flag (and `-debug=net` to inspect results)\n- Spot the lines mentioning \"PCP\", \"NAT-PMP\", \"natpmp\" or \"port mapping\". The lines will show directly on startup, no need to wait for IBD or whatnot. The process can be stopped after seeing these logs.\n- Check if the port was successfully mapped, check if it worked immediately with PCP or if NAT-PMP fallback was necessary\n- (optional) in case of failure, check if you need to manually enable PCP support in your router's configuration\n- (optional) in case of success, you could check if the node is publicly reachable for good measure\n- Stop `bitcoind`",
    "user": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/72",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72/labels",
      "id": 12172984,
      "node_id": "MI_kwDOABII584Aub64",
      "number": 72,
      "state": "open",
      "title": "30.0",
      "description": "",
      "creator": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "open_issues": 3,
      "closed_issues": 115,
      "created_at": "2025-01-15T19:21:36Z",
      "updated_at": "2025-10-10T06:52:07Z"
    },
    "locked": false,
    "comments": 40,
    "closed_at": "2025-07-23T08:57:10Z",
    "closed_by": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2025-01-15T19:19:13Z",
    "updated_at": "2025-10-12T18:40:42Z"
  },
  "events": [
    {
      "event": "milestoned",
      "id": 15945894953,
      "node_id": "MIE_lADOABII586mVfSTzwAAAAO2cwwp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15945894953",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-15T19:22:20Z",
      "milestone": {
        "title": "30.0"
      }
    },
    {
      "event": "commented",
      "id": 2593761021,
      "node_id": "IC_kwDOABII586amab9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2593761021",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-15T19:24:10Z",
      "updated_at": "2025-01-15T19:24:10Z",
      "author_association": "MEMBER",
      "body": "To be clear i'm not suggesting we turn this option on by default in 29, this merely opens the discussion more formally than yesterday's chat on IRC. And i started writing this mainly to centralize results of tests against various routers.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2593761021",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "subscribed",
      "id": 15946273390,
      "node_id": "SE_lADOABII586mVfSTzwAAAAO2eNJu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15946273390",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-15T19:58:19Z"
    },
    {
      "event": "commented",
      "id": 2597143537,
      "node_id": "IC_kwDOABII586azUPx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2597143537",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-16T23:53:33Z",
      "updated_at": "2025-01-16T23:53:33Z",
      "author_association": "MEMBER",
      "body": "Works out-of-the box on an Archer AX3000 Pro router/modem (with NAT-PMP fallback):\n\n```\n2025-01-16T21:58:50.803107Z [net] portmap: gateway [IPv4]: 192.168.0.1\n2025-01-16T21:58:50.804793Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 8333 from gateway 192.168.0.1\n2025-01-16T21:58:50.804834Z [net] pcp: Internal address after connect: 192.168.0.150\n2025-01-16T21:58:50.805718Z [net] pcp: Received response of 8 bytes: (scrubbed)\n2025-01-16T21:58:50.805736Z [net] portmap: Got unsupported PCP version response, falling back to NAT-PMP\n2025-01-16T21:58:50.805747Z [net] natpmp: Requesting port mapping port 8333 from gateway 192.168.0.1\n2025-01-16T21:58:50.806500Z [net] natpmp: Received response of 12 bytes: (scrubbed)\n2025-01-16T21:58:50.942274Z [net] natpmp: Received response of 16 bytes: (scrubbed)\n2025-01-16T21:58:50.942361Z [net:info] portmap: Added mapping natpmp:(scrubbed) -> 192.168.0.150:8333 (for 2400s)\n2025-01-16T21:58:50.942472Z [net] portmap: gateway [IPv6]: (scrubbed)\n2025-01-16T21:58:50.945277Z [net] pcp: Requesting port mapping for addr (scrubbed) port 8333 from gateway (scrubbed)\n2025-01-16T21:58:50.945308Z [net] pcp: Internal address after connect: (scrubbed)\n2025-01-16T21:58:50.945891Z [net:warning] pcp: Could not receive response: Connection refused (111)\n\n```\n\nAnd I am getting inbound connections.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2597143537",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2600272180,
      "node_id": "IC_kwDOABII586a_QE0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2600272180",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-18T23:12:13Z",
      "updated_at": "2025-01-18T23:13:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "I have an Archer AC1750. \n\nStarting with `bitcoind -natpmp -daemon` my debug.log shows:\n\n```\n…\n2025-01-18T23:04:02Z Command-line arg: natpmp=\"\"\n…\n2025-01-18T23:04:17Z [net:info] portmap: Added mapping natpmp:(scrubbed):8333 -> 192.168.0.172:8333 (for 2400s)\n…\n```\n\nAnd I also have inbound connections.",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2600272180",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2606831902,
      "node_id": "IC_kwDOABII586bYRke",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2606831902",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T10:18:18Z",
      "updated_at": "2025-01-22T10:18:18Z",
      "author_association": "MEMBER",
      "body": "This does not seem to fully work for me on a [Unifi Cloud Gateway Ultra](https://techspecs.ui.com/unifi/unifi-cloud-gateways/ucg-ultra?subcategory=all-unifi-cloud-gateways). It does appear to get an ipv4 mapping, but then fails whilst trying to get an ipv6 version:\n\n```log\n2025-01-22T09:42:37Z [net] portmap: gateway [IPv4]: 10.0.0.1\n2025-01-22T09:42:37Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 8444 from gateway 10.0.0.1\n2025-01-22T09:42:37Z [net] pcp: Internal address after connect: 10.0.12.100\n2025-01-22T09:42:37Z [net] pcp: Received response of 60 bytes: 0281000000000960000239cb000000000000000000000000545a494d8ff27697003ec7a30600000020fc20fc00000000000000000000ffffd99bba35\n2025-01-22T09:42:37Z [net:info] portmap: Added mapping pcp:<redacted>:8444 -> 10.0.12.100:8444 (for 2400s)\n2025-01-22T09:42:37Z AddLocal(<redacted>:8444,3)\n2025-01-22T09:42:37Z [net] portmap: gateway [IPv6]: fe80::76:b28b:573f:adcc%3\n2025-01-22T09:42:37Z [net] pcp: Requesting port mapping for addr 1111:1111::1 port 8444 from gateway fe80::76:b28b:573f:adcc%3\n2025-01-22T09:42:37Z [net] pcp: Internal address after connect: 1111:1111::1\n2025-01-22T09:42:37Z [net:warning] pcp: Could not receive response: Connection refused (111)\n```\n\nChecking the \"successfully\" mapped ipv4 port does not find it open:\n\n```log\n₿ nc -v -n -z <redacted> 8444\nnc: connect to <redacted> port 8444 (tcp) failed: Connection refused\n```\n\nI suspect the router is to blame here, but I don't have a tool test manually test UPnP functionality outside of bitcoin core so can't confirm this suspicion.\n\nUPnP is disabled by default on the router, which includes an option to enable \"secure mode\" too (which didn't help).",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2606831902",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "unsubscribed",
      "id": 16201238724,
      "node_id": "UE_lADOABII586mVfSTzwAAAAPFq0jE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16201238724",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-05T21:55:02Z"
    },
    {
      "event": "commented",
      "id": 2737605657,
      "node_id": "IC_kwDOABII586jLIwZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2737605657",
      "actor": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-19T18:15:40Z",
      "updated_at": "2025-03-19T18:15:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "I tested the PCP functionality with v29.0rc2.\n\nStarted it like this on my m3 mac ```/Applications/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt -signet  -natpmp=1 -debug=net``` \n\nRouter is a FRITZ!Box 7530 AX with up to date firmware version 8.02.\n\nFirst I got this for ipv4:\n```\n2025-03-19T17:13:52Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 38333 from gateway 192.168.99.1\n2025-03-19T17:13:52Z [net] pcp: Internal address after connect: 192.168.99.114\n2025-03-19T17:13:52Z [net] pcp: Received response of 60 bytes:[xxx]\n2025-03-19T17:13:52Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n```\n\nI needed to allow PCP in my router via: Internet > Permit Access > Port Sharing > Add Device for Sharing > _Permit independent port sharing for this device_\nAfter this it worked:\n```\n2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 38333 from gateway 192.168.99.1\n2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 192.168.99.114\n2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n2025-03-19T17:24:28Z [net:info] portmap: Added mapping pcp:87.x.x.x:38333 -> 192.168.99.114:38333 (for 13s)\n```\nI also checked from a public node to connect to this node on my LAN. And it worked fine.\n\n\nI have native ipv6 at home. But the ipv6 pinholing seems not to work. Maybe I router has no support for it. Also I can't find a special setting apart from the _Permit independent port sharing for this device_.\n\nI see this in the log:\n```\n2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 2001:x:x:x:x:x:x:x port 38333 from gateway fe80:x:x:x:x:x:x:x%14\n2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 2001:x:x:x:x:x:x:x\n2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n2025-03-19T17:24:28Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 2001:x:x:x:x:x:x:x port 38333 from gateway fe80:e:\n:3e37:12ff:fe12:ce12%14\n2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 2001:x:x:x:x:x:x:x\n2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n2025-03-19T17:24:28Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n```",
      "user": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2737605657",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2737618918,
      "node_id": "IC_kwDOABII586jLL_m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2737618918",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-19T18:19:45Z",
      "updated_at": "2025-03-19T18:19:45Z",
      "author_association": "MEMBER",
      "body": "Thanks for testing!",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2737618918",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "labeled",
      "id": 16917902818,
      "node_id": "LE_lADOABII586mVfSTzwAAAAPwYrXi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16917902818",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-20T20:55:19Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "labeled",
      "id": 16917902825,
      "node_id": "LE_lADOABII586mVfSTzwAAAAPwYrXp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16917902825",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-20T20:55:19Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 2744896938,
      "node_id": "IC_kwDOABII586jm82q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2744896938",
      "actor": {
        "login": "rsafier",
        "id": 645964,
        "node_id": "MDQ6VXNlcjY0NTk2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/645964?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rsafier",
        "html_url": "https://github.com/rsafier",
        "followers_url": "https://api.github.com/users/rsafier/followers",
        "following_url": "https://api.github.com/users/rsafier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rsafier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rsafier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rsafier/subscriptions",
        "organizations_url": "https://api.github.com/users/rsafier/orgs",
        "repos_url": "https://api.github.com/users/rsafier/repos",
        "events_url": "https://api.github.com/users/rsafier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rsafier/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-22T02:12:46Z",
      "updated_at": "2025-03-22T02:12:46Z",
      "author_association": "NONE",
      "body": "Router Model: CR1000A (Verizon FIOS) \nPlatform: MacOS 15.3.2\nVersion: v29.0rc2\nSuccessfully mapped via NAT-PMP, verified inbound connectable\n\n```\nbitcoind -natpmp -debug=net -listen=1 -maxconnections=60\n...\n2025-03-22T01:48:33Z [net] portmap: Got unsupported PCP version response, falling back to NAT-PMP\n2025-03-22T01:48:33Z [net] natpmp: Requesting port mapping port 8333 from gateway x.x.x.x\n2025-03-22T01:48:33Z [net] natpmp: Received response of 12 bytes: [xxx]\n2025-03-22T01:48:33Z [net] natpmp: Received response of 16 bytes: [xxx]\n2025-03-22T01:48:33Z [net:info] portmap: Added mapping natpmp:x.x.x.x:8333 -> x.x.x.x:8333 (for 2400s)\n...\n```",
      "user": {
        "login": "rsafier",
        "id": 645964,
        "node_id": "MDQ6VXNlcjY0NTk2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/645964?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rsafier",
        "html_url": "https://github.com/rsafier",
        "followers_url": "https://api.github.com/users/rsafier/followers",
        "following_url": "https://api.github.com/users/rsafier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rsafier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rsafier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rsafier/subscriptions",
        "organizations_url": "https://api.github.com/users/rsafier/orgs",
        "repos_url": "https://api.github.com/users/rsafier/repos",
        "events_url": "https://api.github.com/users/rsafier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rsafier/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2744896938",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2746185212,
      "node_id": "IC_kwDOABII586jr3X8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2746185212",
      "actor": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T12:29:33Z",
      "updated_at": "2025-03-24T04:39:15Z",
      "author_association": "NONE",
      "body": "My home router model: Huawei EchoLife HG8145V5 GPON Terminal\n and I am using Linux (Ubuntu 24.04.2 LTS)\nVersion tested is  v29.0rc2\nTest result : Failed - No PCP response, no IPv6 gateway detected\n\n```bash\nbitcoind29 -regtest -natpmp=1 -debug=net -maxconnections=60\n...\n[net] portmap: gateway [IPv4]: xxx.xxx.xxx.x\n[net] pcp: Requesting port mapping for addr 0.0.0.0 port 18444 from gateway xxx.xxx.xxx.x\n[net] pcp: Internal address after connect: xxx.xxx.xxx.xx\n[net:warning] pcp: Could not receive response: Connection refused (111)\n[net] portmap: Could not determine IPv6 default gateway\n```\n\nBitcoin core correctly detected my router and identified internal IP. However, could not respond to PCP request, hence IPv6 pinholding cannot proceed. Is there a way to get around this?",
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2746185212",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2746249413,
      "node_id": "IC_kwDOABII586jsHDF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2746249413",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T14:36:37Z",
      "updated_at": "2025-03-23T14:36:37Z",
      "author_association": "MEMBER",
      "body": "Thanks everyone for the testing so far. @frankomosh can you confirm the [UPnP setting](https://manualsfile.com/product/k2c3wh8nad7.html#p44) is enabled on your router? I want to differentiate between routers with UPnP disabled by default and those that don't support PCP/NAT-PMP.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2746249413",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "mentioned",
      "id": 16944626056,
      "node_id": "MEE_lADOABII586mVfSTzwAAAAPx-nmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16944626056",
      "actor": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T14:36:38Z"
    },
    {
      "event": "subscribed",
      "id": 16944626060,
      "node_id": "SE_lADOABII586mVfSTzwAAAAPx-nmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16944626060",
      "actor": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T14:36:38Z"
    },
    {
      "event": "commented",
      "id": 2746268475,
      "node_id": "IC_kwDOABII586jsLs7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2746268475",
      "actor": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T15:19:56Z",
      "updated_at": "2025-03-23T15:19:56Z",
      "author_association": "NONE",
      "body": "> Thanks everyone for the testing so far. [@frankomosh](https://github.com/frankomosh) can you confirm the [UPnP setting](https://manualsfile.com/product/k2c3wh8nad7.html#p44) is enabled on your router? I want to differentiate between routers with UPnP disabled by default and those that don't support PCP/NAT-PMP.\n\nI confirmed. UPnP its not enabled on my router",
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2746268475",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "unsubscribed",
      "id": 16944768953,
      "node_id": "UE_lADOABII586mVfSTzwAAAAPx_Ke5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16944768953",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T15:24:31Z"
    },
    {
      "event": "commented",
      "id": 2746308933,
      "node_id": "IC_kwDOABII586jsVlF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2746308933",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T16:50:46Z",
      "updated_at": "2025-03-23T16:50:46Z",
      "author_association": "MEMBER",
      "body": "And if you do enable it does the port mapping works from `bitcoind`?",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2746308933",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2746348967,
      "node_id": "IC_kwDOABII586jsfWn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2746348967",
      "actor": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T18:13:51Z",
      "updated_at": "2025-03-23T18:13:51Z",
      "author_association": "NONE",
      "body": "> And if you do enable it does the port mapping works from `bitcoind`?\n\nunfortunately my ISP cannot allow me to change it, so I can't conclusively perform this specific test",
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2746348967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2746474104,
      "node_id": "IC_kwDOABII586js954",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2746474104",
      "actor": {
        "login": "santochibtc",
        "id": 105021322,
        "node_id": "U_kgDOBkJ_ig",
        "avatar_url": "https://avatars.githubusercontent.com/u/105021322?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/santochibtc",
        "html_url": "https://github.com/santochibtc",
        "followers_url": "https://api.github.com/users/santochibtc/followers",
        "following_url": "https://api.github.com/users/santochibtc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/santochibtc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/santochibtc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/santochibtc/subscriptions",
        "organizations_url": "https://api.github.com/users/santochibtc/orgs",
        "repos_url": "https://api.github.com/users/santochibtc/repos",
        "events_url": "https://api.github.com/users/santochibtc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/santochibtc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-23T21:24:02Z",
      "updated_at": "2025-03-23T21:24:02Z",
      "author_association": "NONE",
      "body": "not working with a router Arcadyan PRV3399B-B-LT with UPnP enabled\n```\n2025-03-23T21:09:32Z [net] portmap: gateway [IPv4]: x.x.x.x\n2025-03-23T21:09:32Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 8333 from gateway x.x.x.x\n2025-03-23T21:09:32Z [net] pcp: Internal address after connect: x.x.x.x\n2025-03-23T21:09:32Z [net:warning] pcp: Could not receive response: Connection refused (111)\n2025-03-23T21:09:32Z [net] portmap: Could not determine IPv6 default gateway\n``` \n",
      "user": {
        "login": "santochibtc",
        "id": 105021322,
        "node_id": "U_kgDOBkJ_ig",
        "avatar_url": "https://avatars.githubusercontent.com/u/105021322?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/santochibtc",
        "html_url": "https://github.com/santochibtc",
        "followers_url": "https://api.github.com/users/santochibtc/followers",
        "following_url": "https://api.github.com/users/santochibtc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/santochibtc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/santochibtc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/santochibtc/subscriptions",
        "organizations_url": "https://api.github.com/users/santochibtc/orgs",
        "repos_url": "https://api.github.com/users/santochibtc/repos",
        "events_url": "https://api.github.com/users/santochibtc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/santochibtc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2746474104",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2750752881,
      "node_id": "IC_kwDOABII586j9Shx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2750752881",
      "actor": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T10:12:41Z",
      "updated_at": "2025-03-25T10:12:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "Router Model: JCO4032 \nSystem: MacOS Sequoia 15.2 \nVersion tested: v29.0rc2\nResult: Failed - No PCP response\n\n```\n2025-03-25T10:04:47Z [net] pcp: Timeout\n2025-03-25T10:04:47Z [net] pcp: Retrying (1)\n2025-03-25T10:04:48Z [net] pcp: Timeout\n2025-03-25T10:04:48Z [net] pcp: Retrying (2)\n2025-03-25T10:04:49Z [net] pcp: Timeout\n2025-03-25T10:04:49Z [net] pcp: Giving up after 3 tries\n2025-03-25T10:04:49Z [net] portmap: gateway [IPv6]: fe80:...\n2025-03-25T10:04:49Z [net] pcp: Requesting port mapping for addr 2405:xxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx port 18444 from gateway xxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx\n2025-03-25T10:04:49Z [net] pcp: Internal address after connect: 2405:xxx:xxxx:xxxx:xxxxx:xxxxx:xxxx:xxxx\n2025-03-25T10:04:50Z [net] pcp: Timeout\n2025-03-25T10:04:50Z [net] pcp: Retrying (1)\n2025-03-25T10:04:51Z [net] pcp: Timeout\n2025-03-25T10:04:51Z [net] pcp: Retrying (2)\n2025-03-25T10:04:52Z [net] pcp: Timeout\n2025-03-25T10:04:52Z [net] pcp: Giving up after 3 tries\n```",
      "user": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2750752881",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2750766691,
      "node_id": "IC_kwDOABII586j9V5j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2750766691",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T10:17:53Z",
      "updated_at": "2025-03-25T10:17:53Z",
      "author_association": "MEMBER",
      "body": "I plan to retest this with v28 to try and determine if this is a router issue, or incompatibility with the (new) implementation in v29.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2750766691",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2755523522,
      "node_id": "IC_kwDOABII586kPfPC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2755523522",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-26T19:21:18Z",
      "updated_at": "2025-03-26T19:23:24Z",
      "author_association": "MEMBER",
      "body": "Thanks everyone for the testing so far. @santochibtc don't you have any mention of `-natpmp` in your logs after the PCP failure? It's surprising that it wouldn't fallback. Also, when you say \"with UPnP enabled\" do you mean you had to manually enable UPnP on your router? It was enabled by default?",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2755523522",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "mentioned",
      "id": 16998814604,
      "node_id": "MEE_lADOABII586mVfSTzwAAAAP1NVOM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16998814604",
      "actor": {
        "login": "santochibtc",
        "id": 105021322,
        "node_id": "U_kgDOBkJ_ig",
        "avatar_url": "https://avatars.githubusercontent.com/u/105021322?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/santochibtc",
        "html_url": "https://github.com/santochibtc",
        "followers_url": "https://api.github.com/users/santochibtc/followers",
        "following_url": "https://api.github.com/users/santochibtc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/santochibtc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/santochibtc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/santochibtc/subscriptions",
        "organizations_url": "https://api.github.com/users/santochibtc/orgs",
        "repos_url": "https://api.github.com/users/santochibtc/repos",
        "events_url": "https://api.github.com/users/santochibtc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/santochibtc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-26T19:21:19Z"
    },
    {
      "event": "subscribed",
      "id": 16998814645,
      "node_id": "SE_lADOABII586mVfSTzwAAAAP1NVO1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16998814645",
      "actor": {
        "login": "santochibtc",
        "id": 105021322,
        "node_id": "U_kgDOBkJ_ig",
        "avatar_url": "https://avatars.githubusercontent.com/u/105021322?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/santochibtc",
        "html_url": "https://github.com/santochibtc",
        "followers_url": "https://api.github.com/users/santochibtc/followers",
        "following_url": "https://api.github.com/users/santochibtc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/santochibtc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/santochibtc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/santochibtc/subscriptions",
        "organizations_url": "https://api.github.com/users/santochibtc/orgs",
        "repos_url": "https://api.github.com/users/santochibtc/repos",
        "events_url": "https://api.github.com/users/santochibtc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/santochibtc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-26T19:21:20Z"
    },
    {
      "event": "commented",
      "id": 2755724330,
      "node_id": "IC_kwDOABII586kQQQq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2755724330",
      "actor": {
        "login": "santochibtc",
        "id": 105021322,
        "node_id": "U_kgDOBkJ_ig",
        "avatar_url": "https://avatars.githubusercontent.com/u/105021322?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/santochibtc",
        "html_url": "https://github.com/santochibtc",
        "followers_url": "https://api.github.com/users/santochibtc/followers",
        "following_url": "https://api.github.com/users/santochibtc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/santochibtc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/santochibtc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/santochibtc/subscriptions",
        "organizations_url": "https://api.github.com/users/santochibtc/orgs",
        "repos_url": "https://api.github.com/users/santochibtc/repos",
        "events_url": "https://api.github.com/users/santochibtc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/santochibtc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-26T20:53:51Z",
      "updated_at": "2025-03-26T20:53:51Z",
      "author_association": "NONE",
      "body": "@darosior No, There is nothing about natpmp in my log. UPnP was enabled by default",
      "user": {
        "login": "santochibtc",
        "id": 105021322,
        "node_id": "U_kgDOBkJ_ig",
        "avatar_url": "https://avatars.githubusercontent.com/u/105021322?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/santochibtc",
        "html_url": "https://github.com/santochibtc",
        "followers_url": "https://api.github.com/users/santochibtc/followers",
        "following_url": "https://api.github.com/users/santochibtc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/santochibtc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/santochibtc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/santochibtc/subscriptions",
        "organizations_url": "https://api.github.com/users/santochibtc/orgs",
        "repos_url": "https://api.github.com/users/santochibtc/repos",
        "events_url": "https://api.github.com/users/santochibtc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/santochibtc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2755724330",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "mentioned",
      "id": 17000036014,
      "node_id": "MEE_lADOABII586mVfSTzwAAAAP1R_au",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17000036014",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-26T20:53:52Z"
    },
    {
      "event": "subscribed",
      "id": 17000036028,
      "node_id": "SE_lADOABII586mVfSTzwAAAAP1R_a8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17000036028",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-26T20:53:52Z"
    },
    {
      "event": "commented",
      "id": 2757073396,
      "node_id": "IC_kwDOABII586kVZn0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2757073396",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T08:05:40Z",
      "updated_at": "2025-03-27T08:05:40Z",
      "author_association": "MEMBER",
      "body": "i've added protonVPN port forwarding to the table (see https://github.com/bitcoin/bitcoin/issues/32052#issuecomment-2750762673 for details), they don't support PCP at the moment but the NATPMP fallback works",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2757073396",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2758045480,
      "node_id": "IC_kwDOABII586kZG8o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2758045480",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T13:29:00Z",
      "updated_at": "2025-03-27T13:29:00Z",
      "author_association": "MEMBER",
      "body": "> I plan to retest this with v28 to try and determine if this is a router issue, or incompatibility with the (new) implementation in v29.\n\nIt appears that v28.1 does port map OK on my router:\n\n```log\n$ ./bitcoin-28.1/bin/bitcoind -natpmp=1 -port=9654 -daemon=0 | rg pmp\n2025-03-27T13:14:12Z Command-line arg: natpmp=\"1\"\n2025-03-27T13:14:17Z natpmp: Port mapping successful. External address = xx.xx.xx.xx:9654\n```\n\nBut v29rc1 does not:\n\n```log\n$ bitcoind -natpmp=1 -port=9654 -daemon=0 -debug=net | rg pcp -C5\n2025-03-27T13:16:30Z [net:warning] pcp: Could not receive response: Connection refused (111)\n2025-03-27T13:16:30Z [net] pcp: Requesting port mapping for addr [IPV6_ADDRESS_1] port 9654 from gateway [IPV6_GATEWAY]%3\n2025-03-27T13:16:30Z [net] pcp: Internal address after connect: [IPV6_ADDRESS_1]\n2025-03-27T13:16:30Z [net] Added connection peer=0\n2025-03-27T13:16:30Z [net:warning] pcp: Could not receive response: Connection refused (111)\n2025-03-27T13:16:30Z [net] pcp: Requesting port mapping for addr [IPV6_ADDRESS_2] port 9654 from gateway [IPV6_GATEWAY]%3\n2025-03-27T13:16:30Z [net] pcp: Internal address after connect: [IPV6_ADDRESS_2]\n2025-03-27T13:16:30Z [net:warning] pcp: Could not receive response: Connection refused (111)\n2025-03-27T13:16:30Z [net] pcp: Requesting port mapping for addr [IPV6_ADDRESS_3] port 9654 from gateway [IPV6_GATEWAY]%3\n2025-03-27T13:16:30Z [net] pcp: Internal address after connect: [IPV6_ADDRESS_3]\n2025-03-27T13:16:30Z [net:warning] pcp: Could not receive response: Connection refused (111)\n2025-03-27T13:16:30Z [net] pcp: Requesting port mapping for addr [IPV6_ADDRESS_4] port 9654 from gateway [IPV6_GATEWAY]%3\n2025-03-27T13:16:30Z [net] pcp: Internal address after connect: [IPV6_ADDRESS_4]\n2025-03-27T13:16:30Z [net:warning] pcp: Could not receive response: Connection refused (111)\n```\n\nI don't understand why (from the logs) it looks like v29rc1 is only trying for an ipv6 mapping either. I have both ipv4 and 6 interfaces active...\n\n```bash\nbitcoin-cli -netinfo\n```\n\n... on v29rc1shows one ipv4 address, five ipv6 addresses (4 of which are ipv6 \"privacy extensions\" addresses), and one tor address.\n\nSo I guess on my UniFi hardware, 29rc1 seems like a possible regression.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2758045480",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2758133629,
      "node_id": "IC_kwDOABII586kZcd9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2758133629",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T13:50:43Z",
      "updated_at": "2025-03-27T14:09:21Z",
      "author_association": "MEMBER",
      "body": "@willcl-ark  that log is missing some parts to be able to follow what is happening, can you query for all of `natpmp:|pcp:|portmap:`? Most importantly, does the log say anything about `gateway [IPv4]`? The important part to make sure here is that it finds the default gateway and tries to connect to it (and if so, what error it gets).\n\n(you can leave out the IPv6 part, it's clear that it doesn't support that)\n\nMy guess would be that this router ignores the IPv4 PCP packet instead of triggering the NATPMP fallback though it's not clear from this whether it's trying to send at all.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2758133629",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "mentioned",
      "id": 17014113001,
      "node_id": "MEE_lADOABII586mVfSTzwAAAAP2HsLp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17014113001",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T13:50:45Z"
    },
    {
      "event": "subscribed",
      "id": 17014113044,
      "node_id": "SE_lADOABII586mVfSTzwAAAAP2HsMU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17014113044",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T13:50:45Z"
    },
    {
      "event": "commented",
      "id": 2758200852,
      "node_id": "IC_kwDOABII586kZs4U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2758200852",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T14:10:19Z",
      "updated_at": "2025-03-27T14:16:45Z",
      "author_association": "MEMBER",
      "body": "Seems I can find a default gateway with `ip`:\n\n```\nwill@ubuntu in ~/bin : 🐍\n$ ip route | grep default | awk '{print $3}'\n\n10.0.0.1\n\nwill@ubuntu in ~/bin : 🐍\n$ ip -4 route show default | cut -d' ' -f3\n\n10.0.0.1\n```",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2758200852",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2758206627,
      "node_id": "IC_kwDOABII586kZuSj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2758206627",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T14:12:01Z",
      "updated_at": "2025-03-27T14:12:31Z",
      "author_association": "MEMBER",
      "body": "> 2025-03-27T13:54:46Z [net] portmap: Could not determine IPv4 default gateway\n\nOk, that's the problem.\n(feel free to remove the rest of the log again if you're worried about redaction)",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2758206627",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2758315851,
      "node_id": "IC_kwDOABII586kaI9L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2758315851",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T14:39:52Z",
      "updated_at": "2025-03-27T14:39:52Z",
      "author_association": "MEMBER",
      "body": "OK the issue is something to do with Tailscale intercepting the netlink queries. Bringing down Tailscale and I can confirm that pcp on v29rc1 works!\n\n```log\n2025-03-27T14:34:51Z [net] portmap: gateway [IPv4]: 10.0.0.1\n2025-03-27T14:34:51Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 9654 from gateway 10.0.0.1\n2025-03-27T14:34:51Z [net] pcp: Internal address after connect: 10.0.12.100\n2025-03-27T14:34:51Z [net] trying v2 connection 10.0.0.88 lastseen=0.0hrs\n2025-03-27T14:34:51Z [net] Added connection peer=0\n2025-03-27T14:34:51Z [net] pcp: Received response of 60 bytes: 0281000000000960000447080000000000000000000000006ca2949124693c96afc2dfd70600000025b625b600000000000000000000ffffd99bba35\n2025-03-27T14:34:51Z [net] portmap: gateway [IPv6]: <IPV6_edd923ce>\n```\nIs the port map request usually 0.0.0.0?:\n\n```log\npcp: Requesting port mapping for addr 0.0.0.0 port 9654\n```\n\nI'd have thought it would be either my LAN or WAN address?\n\nThere is still a version discrepancy when using Tailsacale, but I can't look further into it until later on now.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2758315851",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2758496926,
      "node_id": "IC_kwDOABII586ka1Ke",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2758496926",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T15:35:05Z",
      "updated_at": "2025-03-27T15:37:48Z",
      "author_association": "MEMBER",
      "body": "> pcp: Requesting port mapping for addr 0.0.0.0 port 9654\n> I'd have thought it would be either my LAN or WAN address?\n\nNo, that message is OK. For IPv4 it doesn't know (nor care)\\*  what the internal address is, so it requests 0.0.0.0 when calling the mapping function. This will figure out what the relevant internal IPv4 address (the one toward the gateway) and external IPv4 address (the one that the router will give us for the mapping) is.\n\n\\* For IPv6 it does need to care because pinholing works differently, with no NAT going on",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2758496926",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2759695240,
      "node_id": "IC_kwDOABII586kfZuI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2759695240",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T22:37:37Z",
      "updated_at": "2025-03-27T22:38:53Z",
      "author_association": "MEMBER",
      "body": "I've found that I find that I can detect a gateway (with both tailscale `up` or `down`) by doing a specific routing query for a non-0.0.0.0 address. I am not totally sure what tailscale is doing behind the scenes to hijack netlink requests for a route to 0.0.0.0, but it's certainly interfering.\n\nWhen I tried to debug what was returned by the original query for `0.0.0.0/0` it appears that I was getting about 70 results, all from table 52, which is a tailscale table.\n\nI have got a patch which works for me on x64 Ubuntu: https://github.com/bitcoin/bitcoin/compare/master...willcl-ark:bitcoin:pcp-gateway-detect\n\nThis maps ipv4 and 6 successfully, even with `tailscale up`:\n\n```log\n2025-03-27T22:38:24Z [net] portmap: gateway [IPv4]: 10.0.0.1\n2025-03-27T22:34:01Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 9654 from gateway 10.0.0.1\n2025-03-27T22:34:01Z [net] pcp: Internal address after connect: [removed]\n2025-03-27T22:34:01Z [net] pcp: Received response of 60 bytes: [removed]\n2025-03-27T22:34:01Z [net:info] portmap: Added mapping pcp:[[removed]:9654 -> [removed]:9654 (for 2400s)\n2025-03-27T22:34:01Z [net] pcp: Requesting port mapping for addr [removed] port 9654 from gateway [removed]\n2025-03-27T22:34:01Z [net] pcp: Internal address after connect: [removed]\n2025-03-27T22:34:01Z [net] pcp: Received response of 60 bytes: [removed]\n2025-03-27T22:34:01Z [net:info] portmap: Added mapping pcp:[[removed]]:9654 -> [removed]]:9654 (for 2400s)\n```",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2759695240",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2760413574,
      "node_id": "IC_kwDOABII586kiJGG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2760413574",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T07:15:50Z",
      "updated_at": "2025-03-28T07:18:29Z",
      "author_association": "MEMBER",
      "body": "> I have got a patch which works for me on x64 Ubuntu: https://github.com/bitcoin/bitcoin/compare/master...willcl-ark:bitcoin:pcp-gateway-detect\n\nNeat! Please open a PR.\n\nTo be fair, the auto-forwarding setup is meant for straightforward customer ISP cases. i think throwing up our hands and going \"set up forwarding yourself because you obviously can do this (and know better what you want)\" in the case of complex network setups and routing tables is fine. Especially in multi-homing setups. Not sure tailscale should be counted among that.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2760413574",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2760837538,
      "node_id": "IC_kwDOABII586kjwmi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2760837538",
      "actor": {
        "login": "Lagrang3",
        "id": 32647090,
        "node_id": "MDQ6VXNlcjMyNjQ3MDkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32647090?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lagrang3",
        "html_url": "https://github.com/Lagrang3",
        "followers_url": "https://api.github.com/users/Lagrang3/followers",
        "following_url": "https://api.github.com/users/Lagrang3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lagrang3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lagrang3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lagrang3/subscriptions",
        "organizations_url": "https://api.github.com/users/Lagrang3/orgs",
        "repos_url": "https://api.github.com/users/Lagrang3/repos",
        "events_url": "https://api.github.com/users/Lagrang3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lagrang3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T10:19:39Z",
      "updated_at": "2025-03-28T10:19:39Z",
      "author_association": "NONE",
      "body": "Router: Archer AX1800\nOS: Debian 12\nBitcoin: v29.0rc2\nResult: success\n\n```bash\n$ bitcoind -natpmp=1 -debug=net\n...\n2025-03-28T10:11:15Z [net] pcp: Received response of 8 bytes: [removed]\n2025-03-28T10:11:15Z [net] portmap: Got unsupported PCP version response, falling back to NAT-PMP\n2025-03-28T10:11:15Z [net] natpmp: Requesting port mapping port 8333 from gateway 192.168.0.1\n2025-03-28T10:11:15Z [net] natpmp: Received response of 12 bytes: [removed]\n2025-03-28T10:11:15Z [net] natpmp: Received response of 16 bytes: [removed]\n2025-03-28T10:11:15Z [net:info] portmap: Added mapping natpmp:[removed]:8333 -> [removed]:8333 (for 2400s)\n```",
      "user": {
        "login": "Lagrang3",
        "id": 32647090,
        "node_id": "MDQ6VXNlcjMyNjQ3MDkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32647090?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lagrang3",
        "html_url": "https://github.com/Lagrang3",
        "followers_url": "https://api.github.com/users/Lagrang3/followers",
        "following_url": "https://api.github.com/users/Lagrang3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lagrang3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lagrang3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lagrang3/subscriptions",
        "organizations_url": "https://api.github.com/users/Lagrang3/orgs",
        "repos_url": "https://api.github.com/users/Lagrang3/repos",
        "events_url": "https://api.github.com/users/Lagrang3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lagrang3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2760837538",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2760865175,
      "node_id": "IC_kwDOABII586kj3WX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2760865175",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T10:28:18Z",
      "updated_at": "2025-03-28T10:28:18Z",
      "author_association": "MEMBER",
      "body": "> Neat! Please open a PR.\n\nHmmm, further testing this morning reveals other potential (root-causes and) fixes. Seems that I have two other issues with the original code:\n\n1. Responses can be longer than 4096 bytes. I guess tailscale is filling them up!\n2. Sometimes the **first** `RTA_GATEWAY` response found (which we use) may not be for the default route (and may not support pinholing). This happens for me on IPV6 only\n\nAn alternative fix therefore is to iterate over the full response, and filter for the default route:\n\nhttps://github.com/bitcoin/bitcoin/compare/master...willcl-ark:bitcoin:pcp-default-multipart\n\nThis change has more LoC but in some ways feels more robust to me than my [previous one](https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2759695240)\n\n@laanwj do you have any approach-inclination between either i) querying a dummy route vs ii) the current query (`NLM_F_DUMP`) with a multi-part response handler + a filter for default routes?",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2760865175",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "mentioned",
      "id": 17029642194,
      "node_id": "MEE_lADOABII586mVfSTzwAAAAP3C7fS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17029642194",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T10:28:19Z"
    },
    {
      "event": "subscribed",
      "id": 17029642485,
      "node_id": "SE_lADOABII586mVfSTzwAAAAP3C7j1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17029642485",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T10:28:19Z"
    },
    {
      "event": "commented",
      "id": 2761131196,
      "node_id": "IC_kwDOABII586kk4S8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2761131196",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T11:44:54Z",
      "updated_at": "2025-03-28T11:56:51Z",
      "author_association": "MEMBER",
      "body": "Oh! Nice detective work. Didn't really consider that, yes it's definitely possible for routing tables to be larger than 4k. There should probably be *some* limit to avoid crash/OOM in case of unexpected OS behavior but it doesn't need to be that low.\n\n> do you have any approach-inclination between either i) querying a dummy route vs ii) the current query (NLM_F_DUMP) with a multi-part response handler + a filter for default routes?\n\ni have a slight preference for getting all information then sifting through that, because it keeps the approach most similar to FreeBSD (which shares the same function).\n\nQuerying a specific route is more efficient (and more like the Windows GetBestRoute implementation). Which is good, but we probably want to avoid depending on Linux-specific behavior, and make the fix also work for FreeBSD.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2761131196",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2761393363,
      "node_id": "IC_kwDOABII586kl4TT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2761393363",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T13:37:54Z",
      "updated_at": "2025-03-28T13:37:54Z",
      "author_association": "MEMBER",
      "body": "@Lagrang3 thanks for the testing. I assume like other Archer routers it was enabled by default?",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2761393363",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "mentioned",
      "id": 17032733101,
      "node_id": "MEE_lADOABII586mVfSTzwAAAAP3OuGt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17032733101",
      "actor": {
        "login": "Lagrang3",
        "id": 32647090,
        "node_id": "MDQ6VXNlcjMyNjQ3MDkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32647090?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lagrang3",
        "html_url": "https://github.com/Lagrang3",
        "followers_url": "https://api.github.com/users/Lagrang3/followers",
        "following_url": "https://api.github.com/users/Lagrang3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lagrang3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lagrang3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lagrang3/subscriptions",
        "organizations_url": "https://api.github.com/users/Lagrang3/orgs",
        "repos_url": "https://api.github.com/users/Lagrang3/repos",
        "events_url": "https://api.github.com/users/Lagrang3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lagrang3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T13:37:55Z"
    },
    {
      "event": "subscribed",
      "id": 17032733143,
      "node_id": "SE_lADOABII586mVfSTzwAAAAP3OuHX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17032733143",
      "actor": {
        "login": "Lagrang3",
        "id": 32647090,
        "node_id": "MDQ6VXNlcjMyNjQ3MDkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32647090?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lagrang3",
        "html_url": "https://github.com/Lagrang3",
        "followers_url": "https://api.github.com/users/Lagrang3/followers",
        "following_url": "https://api.github.com/users/Lagrang3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lagrang3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lagrang3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lagrang3/subscriptions",
        "organizations_url": "https://api.github.com/users/Lagrang3/orgs",
        "repos_url": "https://api.github.com/users/Lagrang3/repos",
        "events_url": "https://api.github.com/users/Lagrang3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lagrang3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T13:37:55Z"
    },
    {
      "event": "commented",
      "id": 2761677085,
      "node_id": "IC_kwDOABII586km9kd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2761677085",
      "actor": {
        "login": "Lagrang3",
        "id": 32647090,
        "node_id": "MDQ6VXNlcjMyNjQ3MDkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32647090?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lagrang3",
        "html_url": "https://github.com/Lagrang3",
        "followers_url": "https://api.github.com/users/Lagrang3/followers",
        "following_url": "https://api.github.com/users/Lagrang3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lagrang3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lagrang3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lagrang3/subscriptions",
        "organizations_url": "https://api.github.com/users/Lagrang3/orgs",
        "repos_url": "https://api.github.com/users/Lagrang3/repos",
        "events_url": "https://api.github.com/users/Lagrang3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lagrang3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-28T15:20:52Z",
      "updated_at": "2025-03-28T15:20:52Z",
      "author_association": "NONE",
      "body": "> [@Lagrang3](https://github.com/Lagrang3) thanks for the testing. I assume like other Archer routers it was enabled by default?\n\nYes. Out of the box.",
      "user": {
        "login": "Lagrang3",
        "id": 32647090,
        "node_id": "MDQ6VXNlcjMyNjQ3MDkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32647090?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lagrang3",
        "html_url": "https://github.com/Lagrang3",
        "followers_url": "https://api.github.com/users/Lagrang3/followers",
        "following_url": "https://api.github.com/users/Lagrang3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lagrang3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lagrang3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lagrang3/subscriptions",
        "organizations_url": "https://api.github.com/users/Lagrang3/orgs",
        "repos_url": "https://api.github.com/users/Lagrang3/repos",
        "events_url": "https://api.github.com/users/Lagrang3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lagrang3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2761677085",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2770735577,
      "node_id": "IC_kwDOABII586lJhHZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2770735577",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-01T21:32:55Z",
      "updated_at": "2025-04-01T21:34:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "[UnFi Dream Router](https://techspecs.ui.com/unifi/cloud-gateways/udr?subcategory=all-cloud-gateways#datasheet) (UniFi OS Version: 4.1.13)\n\nI enabled UPnP in the router settings (disabled by default)\nStarted `bitcoind -natpmp` (v29.0rc2) and PCP works immediately with no NAT-PMP fallback.\n\nThere are no issues in the logs for IPv4 and IPv6 mapping:\n\n<details>\n<summary>Logs:</summary>\n\n```\n2025-04-01T20:50:43Z [init] nBestHeight = 890445\n2025-04-01T20:50:43Z [initload] initload thread start\n2025-04-01T20:50:43Z [mapport] mapport thread start\n2025-04-01T20:50:43Z [txindex] txindex thread start\n2025-04-01T20:50:43Z [txindex] txindex is enabled at height 890445\n2025-04-01T20:50:43Z [txindex] txindex thread exit\n2025-04-01T20:50:43Z [initload] Loading 4005 mempool transactions from file...\n2025-04-01T20:50:43Z [torcontrol] torcontrol thread start\n2025-04-01T20:50:43Z [basic block filter index] basic block filter index thread start\n2025-04-01T20:50:43Z [basic block filter index] basic block filter index is enabled at height 890445\n2025-04-01T20:50:43Z [basic block filter index] basic block filter index thread exit\n2025-04-01T20:50:43Z [mapport] [net] portmap: gateway [IPv4]: 192.168.1.1\n2025-04-01T20:50:43Z [mapport] [net] pcp: Requesting port mapping for addr 0.0.0.0 port 8333 from gateway 192.168.1.1\n2025-04-01T20:50:43Z [mapport] [net] pcp: Internal address after connect: 192.168.1.x\n2025-04-01T20:50:43Z [init] AddLocal([redacted_ipv6]:8333,1)\n2025-04-01T20:50:43Z [init] Discover: redacted_ipv6\n2025-04-01T20:50:43Z [init] AddLocal([redacted_ipv6]:8333,1)\n2025-04-01T20:50:43Z [init] Discover: redacted_ipv6\n2025-04-01T20:50:43Z [init] AddLocal([redacted_ipv6]:8333,1)\n2025-04-01T20:50:43Z [init] Discover: redacted_ipv6\n2025-04-01T20:50:43Z [initload] Leaving InitialBlockDownload (latching to false)\n2025-04-01T20:50:43Z [init] Bound to 127.0.0.1:8334\n2025-04-01T20:50:43Z [init] Bound to [::]:8333\n2025-04-01T20:50:43Z [init] Bound to 0.0.0.0:8333\n2025-04-01T20:50:43Z [init] Loaded 2 addresses from \"anchors.dat\"\n2025-04-01T20:50:43Z [init] 2 block-relay-only anchors will be tried for connections.\n2025-04-01T20:50:43Z [init] init message: Starting network threads…\n2025-04-01T20:50:43Z [net] net thread start\n2025-04-01T20:50:43Z [dnsseed] dnsseed thread start\n2025-04-01T20:50:43Z [dnsseed] Waiting 300 seconds before querying DNS seeds.\n2025-04-01T20:50:43Z [opencon] opencon thread start\n2025-04-01T20:50:43Z [init] init message: Done loading\n2025-04-01T20:50:43Z [msghand] msghand thread start\n2025-04-01T20:50:43Z [addcon] addcon thread start\n2025-04-01T20:50:43Z [mapport] [net] pcp: Received response of 60 bytes: <redacted hex string>\n2025-04-01T20:50:43Z [mapport] [net:info] portmap: Added mapping pcp:<redacted_ipv4>:8333 -> 192.168.1.x:8333 (for 2400s)\n2025-04-01T20:50:43Z [mapport] AddLocal(<redacted_ipv4>:8333,3)\n2025-04-01T20:50:43Z [mapport] [net] portmap: gateway [IPv6]: [redacted_ipv6]%2\n2025-04-01T20:50:43Z [mapport] [net] pcp: Requesting port mapping for addr [redacted_ipv6] port 8333 from gateway [redacted_ipv6]%2\n2025-04-01T20:50:43Z [mapport] [net] pcp: Internal address after connect: [redacted_ipv6]\n2025-04-01T20:50:43Z [mapport] [net] pcp: Received response of 60 bytes: <redacted hex string>\n2025-04-01T20:50:43Z [mapport] [net:info] portmap: Added mapping pcp:[redacted_ipv6]:8333 -> [redacted_ipv6]:8333 (for 2400s)\n2025-04-01T20:50:43Z [mapport] AddLocal([redacted_ipv6]:8333,3)\n2025-04-01T20:50:43Z [mapport] [net] pcp: Requesting port mapping for addr [redacted_ipv6] port 8333 from gateway [redacted_ipv6]%2\n2025-04-01T20:50:43Z [mapport] [net] pcp: Internal address after connect: [redacted_ipv6]\n2025-04-01T20:50:43Z [mapport] [net] pcp: Received response of 60 bytes: <redacted hex string>\n2025-04-01T20:50:43Z [mapport] [net:info] portmap: Added mapping pcp:[redacted_ipv6]:8333 -> [redacted_ipv6]:8333 (for 2400s)\n2025-04-01T20:50:43Z [mapport] AddLocal([redacted_ipv6]:8333,3)\n2025-04-01T20:50:43Z [mapport] [net] pcp: Requesting port mapping for addr [redacted_ipv6] port 8333 from gateway [redacted_ipv6]%2\n2025-04-01T20:50:43Z [mapport] [net] pcp: Internal address after connect: [redacted_ipv6]\n2025-04-01T20:50:43Z [mapport] [net] pcp: Received response of 60 bytes: <redacted hex string>\n2025-04-01T20:50:43Z [mapport] [net:info] portmap: Added mapping pcp:[redacted_ipv6]:8333 -> [redacted_ipv6]:8333 (for 2400s)\n2025-04-01T20:50:43Z [mapport] AddLocal([redacted_ipv6]:8333,3)\n2025-04-01T20:50:43Z [initload] Progress loading mempool transactions from file: 10% (tried 401, 3604 remaining)\n2025-04-01T20:50:43Z [initload] Progress loading mempool transactions from file: 20% (tried 801, 3204 remaining)\n2025-04-01T20:50:43Z [initload] Progress loading mempool transactions from file: 30% (tried 1202, 2803 remaining)\n2025-04-01T20:50:43Z [initload] Progress loading mempool transactions from file: 40% (tried 1602, 2403 remaining)\n2025-04-01T20:50:43Z [initload] Progress loading mempool transactions from file: 50% (tried 2003, 2002 remaining)\n2025-04-01T20:50:44Z [initload] Progress loading mempool transactions from file: 60% (tried 2403, 1602 remaining)\n```\n\n</details> \n\nHowever, the node remains externally unreachable which is strange. With a recent update to UniFi OS, I've enabled UniFi's Zone-Based Firewall. I'll check the syslogs and report back here if that was the culprit. Otherwise I'll need to dig a little deeper.\n\nP.S. The above was run with tailscale enabled. Disabling tailscale does not affect reachability from external sources.",
      "user": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2770735577",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 2811880334,
      "node_id": "IC_kwDOABII586nmeOO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2811880334",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-17T06:16:18Z",
      "updated_at": "2025-04-17T06:16:18Z",
      "author_association": "MEMBER",
      "body": "A user has reported their router is (probably) incompatible: https://bitcointalk.org/index.php?topic=5538256.msg65285896#msg65285896",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-2811880334",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "subscribed",
      "id": 18060696191,
      "node_id": "SE_lADOABII586mVfSTzwAAAAQ0gFp_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18060696191",
      "actor": {
        "login": "rogeliodh",
        "id": 110125,
        "node_id": "MDQ6VXNlcjExMDEyNQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/110125?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rogeliodh",
        "html_url": "https://github.com/rogeliodh",
        "followers_url": "https://api.github.com/users/rogeliodh/followers",
        "following_url": "https://api.github.com/users/rogeliodh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rogeliodh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rogeliodh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rogeliodh/subscriptions",
        "organizations_url": "https://api.github.com/users/rogeliodh/orgs",
        "repos_url": "https://api.github.com/users/rogeliodh/repos",
        "events_url": "https://api.github.com/users/rogeliodh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rogeliodh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-09T18:46:46Z"
    },
    {
      "event": "commented",
      "id": 3052905168,
      "node_id": "IC_kwDOABII586196LQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3052905168",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-09T14:34:02Z",
      "updated_at": "2025-07-09T14:34:02Z",
      "author_association": "MEMBER",
      "body": "> A user has reported their router is (probably) incompatible: https://bitcointalk.org/index.php?topic=5538256.msg65285896#msg65285896\n\nI'm not even sure what to record it as on the table. MT-PON-AT-4?",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-3052905168",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "subscribed",
      "id": 18683670908,
      "node_id": "SE_lADOABII586mVfSTzwAAAARZojF8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18683670908",
      "actor": {
        "login": "emc99",
        "id": 20481828,
        "node_id": "MDQ6VXNlcjIwNDgxODI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/20481828?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/emc99",
        "html_url": "https://github.com/emc99",
        "followers_url": "https://api.github.com/users/emc99/followers",
        "following_url": "https://api.github.com/users/emc99/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/emc99/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/emc99/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/emc99/subscriptions",
        "organizations_url": "https://api.github.com/users/emc99/orgs",
        "repos_url": "https://api.github.com/users/emc99/repos",
        "events_url": "https://api.github.com/users/emc99/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/emc99/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-17T16:16:19Z"
    },
    {
      "event": "commented",
      "id": 3084911947,
      "node_id": "IC_kwDOABII58634AVL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3084911947",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-17T17:42:26Z",
      "updated_at": "2025-07-17T17:44:18Z",
      "author_association": "MEMBER",
      "body": "Having issues getting this to work on my local Verizon router. I don't appear to be reachable at the port specified and I don't see any pmp fallbacks happening in logs?\n\nEvery 5 minutes I see this set of logs (with port 8339 fwiw):\n\n2025-07-17T17:35:03.446228Z [net] portmap: gateway [IPv4]: (redacted)\n2025-07-17T17:35:03.446327Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 8339 from gateway <redacted>\n2025-07-17T17:35:03.446407Z [net] pcp: Internal address after connect: (redacted)\n2025-07-17T17:35:03.449093Z [net:warning] pcp: Could not receive response: Connection refused (111)\n2025-07-17T17:35:03.449302Z [net] portmap: Could not determine IPv6 default gateway\n",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-3084911947",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "closed",
      "id": 18769438251,
      "node_id": "CE_lADOABII586mVfSTzwAAAARevuYr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18769438251",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "afd3b34dc5e2fcd31004b6e3caca7df1e6ed66ba",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/afd3b34dc5e2fcd31004b6e3caca7df1e6ed66ba",
      "created_at": "2025-07-23T08:57:10Z"
    },
    {
      "event": "referenced",
      "id": 18769443263,
      "node_id": "REFE_lADOABII586mVfSTzwAAAARevvm_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18769443263",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "afd3b34dc5e2fcd31004b6e3caca7df1e6ed66ba",
      "commit_url": "https://api.github.com/repos/fanquake/bitcoin/commits/afd3b34dc5e2fcd31004b6e3caca7df1e6ed66ba",
      "created_at": "2025-07-23T08:57:28Z"
    },
    {
      "event": "commented",
      "id": 3243304152,
      "node_id": "IC_kwDOABII587BUOTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3243304152",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-01T21:56:56Z",
      "updated_at": "2025-09-01T21:56:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I don't see any pmp fallbacks happening in logs?\n\nWe only fall back to NATPMP for pcp_err == `UNSUPP_VERSION`:\n\nhttps://github.com/bitcoin/bitcoin/blob/b2d07f872c58af9cfdf9f9a4af0645376f9b98cb/src/mapport.cpp#L77-L81",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-3243304152",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 3249980322,
      "node_id": "IC_kwDOABII587BtsOi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3249980322",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-03T16:39:37Z",
      "updated_at": "2025-09-03T16:39:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "I see unconditional log messages `[net:warning] pcp: Could not receive response: Connection refused (111)` every 5 minutes (in an environment where PCP is expected to not work), and it's a bit spammy. How about a exponential backoff, similar to how it's done in `torcontrol.cpp`?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-3249980322",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 3250010277,
      "node_id": "IC_kwDOABII587Btzil",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3250010277",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-03T16:49:44Z",
      "updated_at": "2025-09-03T16:49:44Z",
      "author_association": "MEMBER",
      "body": "Good idea. I got annoyed by it as well, and @instagibbs also mentions it above.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-3250010277",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "mentioned",
      "id": 19486488153,
      "node_id": "MEE_lADOABII586mVfSTzwAAAASJfDZZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19486488153",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-03T16:49:45Z"
    },
    {
      "event": "subscribed",
      "id": 19486488178,
      "node_id": "SE_lADOABII586mVfSTzwAAAASJfDZy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19486488178",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-03T16:49:46Z"
    },
    {
      "event": "commented",
      "id": 3395190327,
      "node_id": "IC_kwDOABII587KXn43",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3395190327",
      "actor": {
        "login": "shyrwall",
        "id": 1523968,
        "node_id": "MDQ6VXNlcjE1MjM5Njg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1523968?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shyrwall",
        "html_url": "https://github.com/shyrwall",
        "followers_url": "https://api.github.com/users/shyrwall/followers",
        "following_url": "https://api.github.com/users/shyrwall/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shyrwall/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shyrwall/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shyrwall/subscriptions",
        "organizations_url": "https://api.github.com/users/shyrwall/orgs",
        "repos_url": "https://api.github.com/users/shyrwall/repos",
        "events_url": "https://api.github.com/users/shyrwall/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shyrwall/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-12T18:20:22Z",
      "updated_at": "2025-10-12T18:20:22Z",
      "author_association": "NONE",
      "body": "Bit late to add this but just saw it because of v30 so just wanted to comment. There are millions upon millions of, mostly chinese, routers out there that only supports UPnP.\n\nFor example, basically all of Thailands ISPs use routers from Fiberhome and Huawei. Mostly for PON-deployments. None of these supports anything other than UPnP. That's a single example of tens of millions of connections.",
      "user": {
        "login": "shyrwall",
        "id": 1523968,
        "node_id": "MDQ6VXNlcjE1MjM5Njg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1523968?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shyrwall",
        "html_url": "https://github.com/shyrwall",
        "followers_url": "https://api.github.com/users/shyrwall/followers",
        "following_url": "https://api.github.com/users/shyrwall/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shyrwall/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shyrwall/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shyrwall/subscriptions",
        "organizations_url": "https://api.github.com/users/shyrwall/orgs",
        "repos_url": "https://api.github.com/users/shyrwall/repos",
        "events_url": "https://api.github.com/users/shyrwall/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shyrwall/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-3395190327",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "commented",
      "id": 3395202500,
      "node_id": "IC_kwDOABII587KXq3E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3395202500",
      "actor": {
        "login": "kamol1988",
        "id": 195153080,
        "node_id": "U_kgDOC6HMuA",
        "avatar_url": "https://avatars.githubusercontent.com/u/195153080?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kamol1988",
        "html_url": "https://github.com/kamol1988",
        "followers_url": "https://api.github.com/users/kamol1988/followers",
        "following_url": "https://api.github.com/users/kamol1988/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kamol1988/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kamol1988/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kamol1988/subscriptions",
        "organizations_url": "https://api.github.com/users/kamol1988/orgs",
        "repos_url": "https://api.github.com/users/kamol1988/repos",
        "events_url": "https://api.github.com/users/kamol1988/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kamol1988/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-12T18:30:21Z",
      "updated_at": "2025-10-12T18:40:42Z",
      "author_association": "NONE",
      "body": "Yed",
      "user": {
        "login": "kamol1988",
        "id": 195153080,
        "node_id": "U_kgDOC6HMuA",
        "avatar_url": "https://avatars.githubusercontent.com/u/195153080?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kamol1988",
        "html_url": "https://github.com/kamol1988",
        "followers_url": "https://api.github.com/users/kamol1988/followers",
        "following_url": "https://api.github.com/users/kamol1988/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kamol1988/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kamol1988/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kamol1988/subscriptions",
        "organizations_url": "https://api.github.com/users/kamol1988/orgs",
        "repos_url": "https://api.github.com/users/kamol1988/repos",
        "events_url": "https://api.github.com/users/kamol1988/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kamol1988/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31663#issuecomment-3395202500",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31663"
    },
    {
      "event": "unsubscribed",
      "id": 20234018108,
      "node_id": "UE_lADOABII586mVfSTzwAAAAS2Cp08",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20234018108",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-12T18:31:25Z"
    }
  ]
}