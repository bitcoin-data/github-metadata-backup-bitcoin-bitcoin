{
  "type": "issue",
  "issue": {
    "id": 2961360221,
    "node_id": "I_kwDOABII586wgsVd",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32178",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32178/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32178/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32178/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32178",
    "number": 32178,
    "state": "open",
    "state_reason": null,
    "title": "estimateSmartFee error: \"Insufficient data or no feerate found",
    "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nTo estimate fees we use estimateSmartFee and were constantly running into the following error: estimateSmartFee error: \"Insufficient data or no feerate found\"\n\nAs mentioned in other github issues, we could manually delete fee_estimate.dat and mempool.dat from the node. Which isnt scalable, so we moved to testnet4 with the understanding it would provide a more stable testing environment. \n\nUnfortunately, we have now started running into the exact same error on testnet 4, is this expected and are others seeing this issue? Regardless, is there any recommendations on how to bring more stability to getting fees back using estimateSmartFee on testnet4? \n\n### Expected behaviour\n\nFee rate is returned when using estimateSmartFee\n\n### Steps to reproduce\n\nMake a call to estimateSmartFee \n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nv.28.1\n\n### Operating system and version\n\nUbuntu\n\n### Machine specifications\n\n_No response_",
    "user": {
      "login": "ChayDragan",
      "id": 205676228,
      "node_id": "U_kgDODEJexA",
      "avatar_url": "https://avatars.githubusercontent.com/u/205676228?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChayDragan",
      "html_url": "https://github.com/ChayDragan",
      "followers_url": "https://api.github.com/users/ChayDragan/followers",
      "following_url": "https://api.github.com/users/ChayDragan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ChayDragan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ChayDragan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ChayDragan/subscriptions",
      "organizations_url": "https://api.github.com/users/ChayDragan/orgs",
      "repos_url": "https://api.github.com/users/ChayDragan/repos",
      "events_url": "https://api.github.com/users/ChayDragan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ChayDragan/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 1,
    "created_at": "2025-03-31T19:17:42Z",
    "updated_at": "2025-04-14T18:39:08Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2767316756,
      "node_id": "IC_kwDOABII586k8ecU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2767316756",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-31T20:24:19Z",
      "updated_at": "2025-03-31T20:24:19Z",
      "author_association": "MEMBER",
      "body": "As mentioned in [other issues](https://github.com/bitcoin/bitcoin/issues/31116), fee estimation relies on mempool activity. If your node does not have a \"good\" mempool, your fee estimation will break. Check your bitcoin.conf for anything could limit mempool size or network connectivity. \n\nQuoting from other issue:\n\n> It might be helpful to have version of the affected node and debug log output. You may need to run bitcoin-cli logging '[\"estimatefee\"]' to add fee estimation log output. \"mempool\" may be helpful as well but could be spammy\n\nAlso - it looks like testnet4 is not very active. I just took a quick look at a block explorer and there are long stretches of empty blocks. This is when `fallbackfee` is really necessary - the fee estimation algorithm can't provide a result in the total absence of fee pressure.",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32178#issuecomment-2767316756",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32178"
    },
    {
      "event": "labeled",
      "id": 17253997649,
      "node_id": "LE_lADOABII586wgsVdzwAAAAQEaxxR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17253997649",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-14T18:39:08Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "subscribed",
      "id": 17254106123,
      "node_id": "SE_lADOABII586wgsVdzwAAAAQEbMQL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17254106123",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-14T18:45:44Z"
    }
  ]
}