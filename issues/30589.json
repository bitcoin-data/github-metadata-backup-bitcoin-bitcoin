{
  "type": "issue",
  "issue": {
    "id": 2448505495,
    "node_id": "I_kwDOABII586R8TqX",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30589",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30589/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30589/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30589/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/30589",
    "number": 30589,
    "state": "open",
    "state_reason": null,
    "title": "Improve python scripts with type hints for function parameters/return value(s)",
    "body": "### Please describe the feature you'd like to see added.\r\n\r\nMany of the python scripts could use edits to the functions.\r\n- type hints to the function params\r\n![fn-type-hints](https://github.com/user-attachments/assets/17fccf6d-f0a6-42e5-86bd-3d777781be41)\r\n\r\n- type hints for the return value(s)\r\nFor example, 38/40 instances of `def main()` do not specify a return type. \r\n![def-main](https://github.com/user-attachments/assets/4f2b4f57-06c8-487d-b0fa-369cf434b892)\r\n\r\n### Describe the solution you'd like\r\n\r\nThe function definition `def main():` has equivalence to `def main() -> None:`, so explicit `None` return defines are the least important to me. Leaving up to discussion.\r\nWould more strongly advocate for return types that are not `None` to be explicitly defined, plus all function parameters.\r\n\r\nExample: If a main function returns an exit code, I'd propose using an explicit `def main() -> int:`\r\n\r\n### Please leave any additional context\r\n\r\n\"Use [type hints](https://docs.python.org/3/library/typing.html) in your code to improve code readability and to detect possible bugs earlier.\"\r\n(https://github.com/bitcoin/bitcoin/blob/master/test/functional/README.md)\r\n\r\nhttps://peps.python.org/pep-0484/",
    "user": {
      "login": "rockett-m",
      "id": 18053614,
      "node_id": "MDQ6VXNlcjE4MDUzNjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/18053614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockett-m",
      "html_url": "https://github.com/rockett-m",
      "followers_url": "https://api.github.com/users/rockett-m/followers",
      "following_url": "https://api.github.com/users/rockett-m/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/rockett-m/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/rockett-m/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/rockett-m/subscriptions",
      "organizations_url": "https://api.github.com/users/rockett-m/orgs",
      "repos_url": "https://api.github.com/users/rockett-m/repos",
      "events_url": "https://api.github.com/users/rockett-m/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/rockett-m/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 2,
    "created_at": "2024-08-05T13:01:01Z",
    "updated_at": "2024-08-05T14:51:54Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 13763998522,
      "node_id": "LE_lADOABII586R8TqXzwAAAAM0ZfM6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13763998522",
      "actor": {
        "login": "rockett-m",
        "id": 18053614,
        "node_id": "MDQ6VXNlcjE4MDUzNjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/18053614?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rockett-m",
        "html_url": "https://github.com/rockett-m",
        "followers_url": "https://api.github.com/users/rockett-m/followers",
        "following_url": "https://api.github.com/users/rockett-m/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rockett-m/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rockett-m/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rockett-m/subscriptions",
        "organizations_url": "https://api.github.com/users/rockett-m/orgs",
        "repos_url": "https://api.github.com/users/rockett-m/repos",
        "events_url": "https://api.github.com/users/rockett-m/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rockett-m/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-05T13:01:01Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "unlabeled",
      "id": 13764028070,
      "node_id": "UNLE_lADOABII586R8TqXzwAAAAM0Zmam",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13764028070",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-05T13:03:02Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "commented",
      "id": 2269058919,
      "node_id": "IC_kwDOABII586HPxdn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2269058919",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-05T13:18:02Z",
      "updated_at": "2024-08-05T13:18:02Z",
      "author_association": "MEMBER",
      "body": "-0. Not sure about this. Obviously, anyone is free to use type hints when they write python code, but I don't think changes that exclusively add type hints are useful.\r\n\r\nI'd even go further and say that type hints at all provide questionable benefit. Python was designed to be beautiful and useful without types. And in the rare cases where type hints could be useful to catch bugs, they often can't be applied (due to Python stdlib compatibility requirements, or other Python shortcomings). See for example fa0534d7e47d44428d3f9dea6d2f6b8e86df22d4, where the stdlib explicitly accepts any type.\r\n\r\nSo by using type hints, you get the worst of both worlds: Ugly and verbose python with close to no benefit.\r\n\r\nBut that is just my opinion, and obviously others will have other opinions.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30589#issuecomment-2269058919",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30589"
    },
    {
      "event": "commented",
      "id": 2269268504,
      "node_id": "IC_kwDOABII586HQkoY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2269268504",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-05T14:51:53Z",
      "updated_at": "2024-08-05T14:51:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept NACK on changes just to add type hints. I don't see any strong benefit on type hints that would overcome the malefits (e.g. conflicts with other PRs) of this kind of change. It is already in the documentation, so we can expect every new code to adopt type hints. Also, I don't see any problem on adding type hints when already touching an existing code.",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/30589#issuecomment-2269268504",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30589"
    }
  ]
}