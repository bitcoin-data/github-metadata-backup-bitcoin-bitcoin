{
  "type": "issue",
  "issue": {
    "id": 908264463,
    "node_id": "MDU6SXNzdWU5MDgyNjQ0NjM=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/22119",
    "number": 22119,
    "state": "closed",
    "state_reason": "completed",
    "title": "Optional late, block submission, difficulty test",
    "body": "Software development for any bitcoin mining, solo or pooled, requires an excessively large hash rate to ensure block submission is correct.\r\nEffectively to submit a full difficulty network block before there is some certainly of the validity of the block generation code developed.\r\nMany developers do not test this properly and have lost blocks due to the developer's ignorance or negligence.\r\n\r\nIf instead the difficulty of the block submitted could **optionally** only be tested last, then testing block generation by submitting a low difficulty block, that would fail with {\"result\":\"high-hash\",\"error\":null,\"id\":1} could directly imply that all other requirements and consensus tests have passed, only the low difficulty of the block has failed.\r\nImplementing this would greatly simplify testing block generation code, since testing could be run on a bitcoin on the live network which would also be under the full validation and consensus rules of the live network.\r\nA developer could simply stop their live bitcoin, restart it with the **late difficulty validation flag** and then run any testing required, then restart it without the **flag**.\r\n\r\nThis change would, of course, have to be optional, since saving one of the quickest and easiest tests of hashing the block header, moved much later in the validation, might open a DDoS exploit.\r\nThe bitcoin code could have two paths doing the difficulty validation and run one or the other depending upon the runtime **flag**.\r\n\r\nUsing testnet is not an exact test of the bitcoin block validation code due to varying code paths and varying consensus rules.\r\n\r\nMy normal process to test this is to hack the difficulty test in current bitcoin code and submit a lower difficulty block.\r\nThis however, means I must lock the development bitcoin behind a completely closed wall, since should it attempt to transmit the low difficulty block, it's IP would be appropriately ostracized by the live network.\r\nThe further result of this is the bitcoin having invalid blocks in it's database, which I have found it unable to roll back on a restart during re-validation with an unmodified bitcoin, and thus having to delete it.\r\n\r\nUsing a live online bitcoin, with a simple restart with a **flag** to enable full testing other than difficulty being last, should promote better development of mining generation software.",
    "user": {
      "login": "kanoi",
      "id": 1059166,
      "node_id": "MDQ6VXNlcjEwNTkxNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kanoi",
      "html_url": "https://github.com/kanoi",
      "followers_url": "https://api.github.com/users/kanoi/followers",
      "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
      "organizations_url": "https://api.github.com/users/kanoi/orgs",
      "repos_url": "https://api.github.com/users/kanoi/repos",
      "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/kanoi/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 118378960,
        "node_id": "MDU6TGFiZWwxMTgzNzg5NjA=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mining",
        "name": "Mining",
        "color": "c7def8",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "comments": 11,
    "closed_at": "2024-10-14T15:00:50Z",
    "closed_by": {
      "login": "willcl-ark",
      "id": 6606587,
      "node_id": "MDQ6VXNlcjY2MDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willcl-ark",
      "html_url": "https://github.com/willcl-ark",
      "followers_url": "https://api.github.com/users/willcl-ark/followers",
      "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
      "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
      "repos_url": "https://api.github.com/users/willcl-ark/repos",
      "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2021-06-01T12:56:51Z",
    "updated_at": "2025-10-14T11:55:08Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 4825220038,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4MjUyMjAwMzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4825220038",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T12:56:52Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "commented",
      "id": 852105671,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjEwNTY3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852105671",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T13:01:56Z",
      "updated_at": "2021-06-01T13:01:56Z",
      "author_association": "MEMBER",
      "body": "How is this different from getblocktemplate proposal?\r\n\r\n* https://bitcoincore.org/en/doc/0.21.0/rpc/mining/getblocktemplate/\r\n* https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki#block-proposal",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-852105671",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "labeled",
      "id": 4825249794,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4MjUyNDk3OTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4825249794",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T13:02:03Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 852108765,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjEwODc2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852108765",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T13:06:28Z",
      "updated_at": "2021-06-01T13:06:28Z",
      "author_association": "NONE",
      "body": "It is no changes to any rules or validation, only one change to the order in which they are done, to **optionally** do the difficulty test last rather then where it is now done.",
      "user": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-852108765",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "commented",
      "id": 852109929,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjEwOTkyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852109929",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T13:08:10Z",
      "updated_at": "2021-06-01T13:08:10Z",
      "author_association": "MEMBER",
      "body": "They BIP says: \"The block data MUST be validated and checked against the server's usual acceptance rules (excluding the check for a valid proof-of-work)\", which is what your feature request is asking for, no? I am saying this is already implemented unless I am missing something.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-852109929",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "commented",
      "id": 852113339,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjExMzMzOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852113339",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T13:13:05Z",
      "updated_at": "2021-06-01T22:51:44Z",
      "author_association": "NONE",
      "body": "I'm under the impression that not all validity and consensus tests are done on a block submitted, that only fails the difficulty test, and is valid under all other rules.\r\nI have purposely corrupted a transaction in the data submitted and still only get high-hash",
      "user": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-852113339",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "unlabeled",
      "id": 4825335620,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDgyNTMzNTYyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4825335620",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T13:16:35Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "labeled",
      "id": 4825335621,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4MjUzMzU2MjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4825335621",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-01T13:16:35Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "commented",
      "id": 852624621,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjYyNDYyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852624621",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-02T00:58:17Z",
      "updated_at": "2021-06-02T00:58:17Z",
      "author_association": "MEMBER",
      "body": "@kanoi Note that @MarcoFalke is referring to the \"block proposal\" mode of `getblocktemplate`, not `submitblock`.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-852624621",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "mentioned",
      "id": 4828725291,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDgyODcyNTI5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4828725291",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-02T00:58:17Z"
    },
    {
      "event": "subscribed",
      "id": 4828725297,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ4Mjg3MjUyOTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4828725297",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-02T00:58:17Z"
    },
    {
      "event": "mentioned",
      "id": 4828725301,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDgyODcyNTMwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4828725301",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-02T00:58:17Z"
    },
    {
      "event": "subscribed",
      "id": 4828725306,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ4Mjg3MjUzMDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4828725306",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-02T00:58:17Z"
    },
    {
      "event": "commented",
      "id": 852665621,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjY2NTYyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852665621",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-02T02:31:59Z",
      "updated_at": "2021-06-02T02:32:59Z",
      "author_association": "NONE",
      "body": "Ah OK, I am referring to submitblock - but I'm not sure if he meant there is some method in getblocktemplate with the workid, to later use that workid to submit a low difficulty block with otherwise full testing.\r\nAlas if there is, it's not obvious (and I can't see it explained in the BIPs)",
      "user": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-852665621",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "commented",
      "id": 852722740,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjcyMjc0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852722740",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-02T04:59:41Z",
      "updated_at": "2021-06-02T04:59:41Z",
      "author_association": "MEMBER",
      "body": ">  Alas if there is, it's not obvious (and I can't see it explained in the BIPs)\r\n\r\nI agree this is a bit hidden, but I linked you the RPC documentation and the section in the BIP that explains this.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-852722740",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "closed",
      "id": 4845022835,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDg0NTAyMjgzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4845022835",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-04T20:05:57Z"
    },
    {
      "event": "commented",
      "id": 856359630,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjM1OTYzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/856359630",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T00:57:52Z",
      "updated_at": "2021-06-08T01:31:31Z",
      "author_association": "NONE",
      "body": "Since this was changed to 'Help' ...\r\nAlas, either I can't understand the code (i.e. my fault) or it doesn't work any more - I've tried this back to 0.17\r\n\r\nThe normal submit is of course is:\r\n`{\"method\":\"submitblock\",\"params\":[\"blockdata\"],\"id\":1}`\r\nWith the expected result for a block without enough difficulty:\r\n`{\"result\":\"high-hash\",\"error\":null,\"id\":1}`\r\n\r\nLooking at the rpc/mining.cpp code for 0.21.1 getblocktemplate when it sees the 'mode' of 'proposal' it says (skipping some parts):\r\n\r\n`const UniValue& dataval = find_value(oparam, \"data\");`\r\n`DecodeHexBlk(block, dataval.get_str())`\r\n`pindex = LookupBlockIndex(hash);`\r\n`if (pindex) {`\r\n`  if (pindex->IsValid(BLOCK_VALID_SCRIPTS))`\r\n`    return \"duplicate\";`\r\n`  if (pindex->nStatus & BLOCK_FAILED_MASK)`\r\n`    return \"duplicate-invalid\";`\r\n`  return \"duplicate-inconclusive\";`\r\n`}`\r\n`TestBlockValidity(state, Params(), block, pindexPrev, false, true);`\r\n`  return BIP22ValidationResult(state);`\r\n\r\nSo, if instead I do this with the same data:\r\n`{\"method\":\"getblocktemplate\",\"params\":[{\"mode\":\"proposal\",\"data\":\"blockdata\"}],\"id\":6}`\r\nThe response is:\r\n`{\"result\":\"bad-witness-nonce-size\",\"error\":null,\"id\":6}`\r\nWhich seems to be incorrect.\r\n\r\nSo to verify this I remove the difficulty test from the code pow.cpp:\r\n`    // Check proof of work matches claimed amount`\r\n`//    if (UintToArith256(hash) > bnTarget)`\r\n`//        return false;`\r\n\r\nNow the above submitblock replies:\r\n`{\"result\":null,\"error\":null,\"id\":1}`\r\ni.e. it's a valid block - ignoring difficulty\r\nand the proposal returns:\r\n`{\"result\":\"duplicate\",\"error\":null,\"id\":6}`\r\n\r\nSo what I can make of all this is either the code is deprecated and not been updated, or there's some other data required for the proposal, that isn't needed until it gets to whatever causes \"bad-witness-nonce-size\"\r\n\r\n**So** my suggestion, then, since a completely unexpected designed interface exists for submitting a proposal, that the 'submitblock' should be passed an optional 'proposal' and do the:\r\n`TestBlockValidity(state, Params(), block, pindexPrev, false, true);`\r\n`  return BIP22ValidationResult(state);`\r\n\r\ni.e. from the code point of view, how my original suggested change could be best implemented and used in a manner that makes sense using 'submitblock' not 'getblocktemplate'\r\nThough the current TestBlockValidity() may or may not also need fixing, unrelated to my suggested change.\r\n\r\nEdit: and in case it wasn't obvious, the line in validation.cpp that gives this error is:\r\n`if (block.vtx[0]->vin[0].scriptWitness.stack.size() != 1 || block.vtx[0]->vin[0].scriptWitness.stack[0].size() != 32) {`\r\n`                return state.Invalid(BlockValidationResult::BLOCK_MUTATED, \"bad-witness-nonce-size\", strprintf(\"%s : invalid witness reserved value size\", __func__));`\r\n`}`\r\nBut this doesn't fail when calling submitblock",
      "user": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-856359630",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "reopened",
      "id": 4856078000,
      "node_id": "MDEzOlJlb3BlbmVkRXZlbnQ0ODU2MDc4MDAw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4856078000",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T06:18:35Z"
    },
    {
      "event": "unlabeled",
      "id": 4858429404,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDg1ODQyOTQwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4858429404",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T13:08:36Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "labeled",
      "id": 4858429774,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4NTg0Mjk3NzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4858429774",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T13:08:41Z",
      "label": {
        "name": "Mining",
        "color": "c7def8"
      }
    },
    {
      "event": "labeled",
      "id": 4858432389,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4NTg0MzIzODk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4858432389",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T13:09:08Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 859280701,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTI4MDcwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/859280701",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-11T05:34:43Z",
      "updated_at": "2021-06-11T05:35:09Z",
      "author_association": "NONE",
      "body": "Though I've not yet attempted to test the change to determine if it is related to the TestBlockValidity() issue,\r\nI've found there was a commit/merge to core on 1-Feb but it isn't in the 0.21.1 tag https://github.com/bitcoin/bitcoin/releases/tag/v0.21.1 that was released on 30-Apr\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/20749\r\nthat modifies the call parameters and a later change to tidy up the calling and usage of the new parameter.\r\n\r\nSo I guess for the issue I've brought up about TestBlockValidity() possibly not working since at least 0.17, I'll shortly do some more testing with the current git to see if that's related or not.",
      "user": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-859280701",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "commented",
      "id": 1235396957,
      "node_id": "IC_kwDOABII585Joqld",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235396957",
      "actor": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T11:42:54Z",
      "updated_at": "2022-09-02T11:58:23Z",
      "author_association": "NONE",
      "body": "I've noticed that the TestBlockValidity() issue is still the same even with V23.0\r\n\r\nHaving read through the code to consider a simple implementation to place the POW check last when requested but leave it first if the latePOW isn't requested, I've found that the check code repeats many checks when it gets a block submission.\r\n\r\nTo be specific: src/rpc/mining.cpp submitblock() does some checks then calls src/validation.cpp ProcessNewBlock()\r\n\r\nHowever ProcessNewBlock() repeats checks due to:\r\n CheckBlock() followed by AcceptBlock()\r\n\r\nThese two overlap some checks and also do some different checks.\r\nCheckBlock() calls:\r\n  CheckBlockHeader() <- this is the POW check\r\n  various validation checks\r\n  then finally flags the block as checked\r\nAcceptBlock() calls:\r\n  AcceptBlockHeader()\r\n  CheckBlock() (again)\r\n  ContextualCheckBlock()\r\n  disk storage\r\n\r\nThus to optionally run the POW check last, it would have to disable it everywhere CheckBlockHeader() is called\r\nand put it near the end of AcceptBlock()\r\n\r\nI wonder if this convolution is due to the unnecessary TestBlockValidity() code that appears to be unsupported and poorly documented.\r\n\r\nIf anyone has the nous to work out how to implement this cleanly, that would be much appreciated. \r\nRPC submitblock has a randomly documented optional 2nd parameter that could be used to add an optional \"latepow\" string to enable this. (or 'proposal' as suggested earlier, but 'latepow' seems to be more informative about it's action)",
      "user": {
        "login": "kanoi",
        "id": 1059166,
        "node_id": "MDQ6VXNlcjEwNTkxNjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1059166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kanoi",
        "html_url": "https://github.com/kanoi",
        "followers_url": "https://api.github.com/users/kanoi/followers",
        "following_url": "https://api.github.com/users/kanoi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kanoi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kanoi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kanoi/subscriptions",
        "organizations_url": "https://api.github.com/users/kanoi/orgs",
        "repos_url": "https://api.github.com/users/kanoi/repos",
        "events_url": "https://api.github.com/users/kanoi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kanoi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-1235396957",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "commented",
      "id": 2411528848,
      "node_id": "IC_kwDOABII586PvQKQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2411528848",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-14T15:00:50Z",
      "updated_at": "2024-10-14T15:00:50Z",
      "author_association": "MEMBER",
      "body": "Would `submitheader` work for this use-case?\r\n\r\nPlease comment here to have this issue re-opened if not.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22119#issuecomment-2411528848",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22119"
    },
    {
      "event": "closed",
      "id": 14638511160,
      "node_id": "CE_lADOABII5842IwQPzwAAAANohfQ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14638511160",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-14T15:00:50Z"
    },
    {
      "event": "locked",
      "id": 20267937942,
      "node_id": "LOE_lADOABII5842IwQPzwAAAAS4EDCW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20267937942",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-14T11:55:08Z"
    }
  ]
}