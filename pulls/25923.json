{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923",
    "id": 1035886500,
    "node_id": "PR_kwDOABII5849vl-k",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25923",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25923.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25923.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
    "number": 25923,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "p2p: always provide CNodeStateStats and getpeerinfo/netinfo/gui updates",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "- update CNodeStateStats members to be std::optional or member-initialized with default values\r\n\r\n- return CNodeStateStats and NodeStats directly rather than a bool\r\n\r\n- make some getpeerinfo and gui peers fields always provided rather than optional: addr_processed, addr_rate_limited, addr_relay_enabled, inflight\r\n\r\n- remove NodesStats type which causes more confusion than benefit\r\n",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2022-08-24T19:10:09Z",
    "updated_at": "2024-04-24T12:44:25Z",
    "closed_at": "2023-04-25T11:11:10Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "1ca944e3afb26f1ae5694192aa8ed291e7c31735",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "jonatack:2022-08-statestats",
      "ref": "2022-08-statestats",
      "sha": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 173103842,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzMxMDM4NDI=",
        "name": "bitcoin",
        "full_name": "jonatack/bitcoin",
        "owner": {
          "login": "jonatack",
          "id": 2415484,
          "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonatack",
          "html_url": "https://github.com/jonatack",
          "followers_url": "https://api.github.com/users/jonatack/followers",
          "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
          "organizations_url": "https://api.github.com/users/jonatack/orgs",
          "repos_url": "https://api.github.com/users/jonatack/repos",
          "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonatack/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonatack/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jonatack/bitcoin",
        "archive_url": "https://api.github.com/repos/jonatack/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonatack/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonatack/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonatack/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonatack/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonatack/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonatack/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonatack/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonatack/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonatack/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonatack/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonatack/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonatack/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonatack/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonatack/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonatack/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonatack/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonatack/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonatack/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonatack/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonatack/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonatack/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonatack/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonatack/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonatack/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonatack/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonatack/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonatack/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonatack/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonatack/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonatack/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonatack/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonatack/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonatack/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonatack/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonatack/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonatack/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonatack/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonatack/bitcoin/hooks",
        "svn_url": "https://github.com/jonatack/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 231991,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-08T20:32:27Z",
        "created_at": "2019-02-28T11:57:18Z",
        "updated_at": "2024-02-03T19:41:27Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1bad29fe02096b269858b192a4a91c785a44e505",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35288,
        "stargazers_count": 75966,
        "watchers_count": 75966,
        "size": 254972,
        "default_branch": "master",
        "open_issues_count": 704,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-04-24T12:59:07Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-04-24T12:56:03Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 94,
    "deletions": 115,
    "changed_files": 10,
    "commits": 5,
    "review_comments": 48,
    "comments": 25
  },
  "events": [
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T19:11:34Z",
      "updated_at": "2022-08-24T19:11:34Z",
      "source": {
        "issue": {
          "id": 1243104829,
          "node_id": "PR_kwDOABII5844MD45",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25176",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25176/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25176/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25176/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25176",
          "number": 25176,
          "state": "closed",
          "state_reason": null,
          "title": "Fix frequent -netinfo JSON errors from missing getpeerinfo#relaytxes",
          "body": "CLI -netinfo frequently returns \"error: JSON value is not a boolean as expected\" since the merge of #21160, which moved fRelayTxes (renamed to m_relay_txs in that pull) from CNodeStats to CNodeStateStats.\r\n\r\nThis change made getpeerinfo \"relaytxes\" an optional field that can return UniValue IsNull(). It is the only optional field consumed by -netinfo where the latter didn't already handle that case. See also https://github.com/bitcoin/bitcoin/pull/24691.\r\n\r\nAlso rename the NetinfoRequestHandler::is_block_relay data member to is_tx_relay and inverse its boolean logic. The naming is out of date and incorrect, as lack of request of tx relay does not imply block relay, and a preference for tx relay doesn't imply that block relay isn't happening. Thanks to Marco Falke and Martin Zumsande for their feedback on this.\r\n\r\n(I may look at reducing the number of optional node stats fields via refactoring at the net processing level, but ongoing refactoring there may make that slow or complicated and this is a one-line fix that works now.)",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25176",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25176",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25176.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25176.patch"
          },
          "closed_at": "2022-05-23T17:04:59Z",
          "created_at": "2022-05-20T12:48:07Z",
          "updated_at": "2023-11-05T12:17:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "renamed",
      "id": 7254660961,
      "node_id": "RTE_lADOABII585QdehDzwAAAAGwaVdh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7254660961",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T22:25:23Z",
      "rename": {
        "from": "p2p, rpc: always provide CNodeStateStats and v23 getpeerinfo fields",
        "to": "p2p, rpc: always provide CNodeStateStats and v23 getpeerinfo API for v24"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7254663136,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAGwaV_g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7254663136",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T22:25:54Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7254814332,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAGwa658",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7254814332",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T23:07:27Z"
    },
    {
      "event": "renamed",
      "id": 7256386535,
      "node_id": "RTE_lADOABII585QdehDzwAAAAGwg6vn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7256386535",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T06:14:36Z",
      "rename": {
        "from": "p2p, rpc: always provide CNodeStateStats and v23 getpeerinfo API for v24",
        "to": "p2p, bugfix: always provide CNodeStateStats, ensure v23 getpeerinfo API for v24"
      }
    },
    {
      "event": "commented",
      "id": 1226855039,
      "node_id": "IC_kwDOABII585JIFJ_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1226855039",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T06:58:46Z",
      "updated_at": "2022-08-25T06:58:46Z",
      "author_association": "MEMBER",
      "body": "Can you explain why this is a \"bugfix\", considering that the API break was done on purpose at that time?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1226855039",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1227233657,
      "node_id": "IC_kwDOABII585JJhl5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1227233657",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T13:06:23Z",
      "updated_at": "2022-08-25T13:06:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\n@MarcoFalke, a bug is a bug, even if it was done on purpose. @jnewbery can clarify here, but I do not think this was even purposeful. My guess is that this breakage was unwanted, but acceptable in order to get the refactor from #21160 done. It later required fixup attempts like https://github.com/bitcoin/bitcoin/pull/24691 and https://github.com/bitcoin/bitcoin/pull/25176.\r\n\r\nSo, what happened? The `relaytxes` and `minfeefilter` fields were always present, and documented as such, in the output of the `getpeerinfo` RPC. #21160 changed it so that they could sometimes be missing. I guess the issues (both for GUI and RPC) were neglected during the review with a comment like [will almost always be true, so this isn't a big issue](https://github.com/bitcoin/bitcoin/pull/21160#discussion_r598567395). Well, it turned out our own tool `bitcoin-cli` broke due to the missing but expected fields. Some user apps will break too (if we don't fix it in 24.0).\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/24691 documented the fields as optional, but that is not appropriate because in the previous version they were not-optional. When users wrote their apps they assumed the fields will always be present. I think the \"optional\" flag should only be added when a field is initially introduced. Adding it later is the same as dropping the field - it breaks the \"contract\" with the user that the field will be present.\r\n\r\nOn this PR: I think it is ok to display the values `relaytxes=false` and `minfeefilter=0` in those corner cases. This is what the code did before #21160. If this is stripped to the bare minimum needed for the fix, I think it will have higher chance of making it to 24.0",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1227233657",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "mentioned",
      "id": 7259333687,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGwsKQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7259333687",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T13:06:23Z"
    },
    {
      "event": "subscribed",
      "id": 7259333693,
      "node_id": "SE_lADOABII585QdehDzwAAAAGwsKQ9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7259333693",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T13:06:23Z"
    },
    {
      "event": "mentioned",
      "id": 7259333703,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGwsKRH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7259333703",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T13:06:23Z"
    },
    {
      "event": "subscribed",
      "id": 7259333713,
      "node_id": "SE_lADOABII585QdehDzwAAAAGwsKRR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7259333713",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T13:06:23Z"
    },
    {
      "event": "commented",
      "id": 1227366243,
      "node_id": "IC_kwDOABII585JKB9j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1227366243",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T14:49:39Z",
      "updated_at": "2022-08-25T14:49:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "> So, what happened? The relaytxes and minfeefilter fields were always present, and documented as such, in the output of the getpeerinfo RPC.\r\n\r\nThis isn't true. **None** of the fields in `getpeerinfo` were documented as always present until the 'optional' fields were explicitly documented in #22798. Prior to that PR, there was no explicit guarantee that any of the fields would be present.\r\n\r\nPR 22798 was opened _after_ #21160, then merged, and resulted in the silent conflict where the fields were not marked as optional. That could be caught by better testing of optional fields.\r\n\r\n> with a comment like \"will almost always be true, so this isn't a big issue\"\r\n\r\nStop misrepresenting other people's words. This was in response to a review comment about the GUI, not the RPC. You've also clipped the quote to misrepresent it further. Here's the full sentence: \"will almost always be true, so this isn't a big issue (if it was, then the other stats in nodeStateStats not being available would also be an issue).\" I stand by that - if it's a problem that one of the fields is not visible in the GUI for a very short window during peer connection, then it'd be a problem that the other fields like \"startingheight\" or \"minping\" are not present. It's clearly not a problem, since that's always been the case.\r\n\r\nAt the time of the comment, it was also totally consistent with the other fields that were optional but not marked as such, since #22798 had not yet been opened.\r\n\r\n> in the previous version they were not-optional. When users wrote their apps they assumed the fields will always be present. I think the \"optional\" flag should only be added when a field is initially introduced. Adding it later is the same as dropping the field - it breaks the \"contract\" with the user that the field will be present.\r\n\r\nAgain, this is false. The 'optional' documentation was added in #22798, which was only included in v0.23. Until then, there were many fields could be considered optional but not documented as such. Users writing apps that interacted with the field (including the bitcoin-cli netinfo app) should have made those apps tolerant to the fields not being present.\r\n\r\nAs can be seen in #22798, there were 10s of fields across many different RPCs that were 'optional' before being explicitly documented as such. Both the PR description and @vasild's comment make it sound like this was some nefarious intentional API break, or some egregious bug. It's neither.\r\n\r\nFrankly, it's utterly tedious to have to spend time rebutting false statements and misrepresentations made about PRs that were merged months ago. Unfortunately, this 'gotcha' attitude of trying to shame code authors seems to be becoming more common in this project. It's extremely harmful for productive collaboration, and is certainly not something I'd expect to see from someone putting themselves forward as a potential project maintainer.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1227366243",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "mentioned",
      "id": 7260259582,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGwvsT-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7260259582",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T14:49:39Z"
    },
    {
      "event": "subscribed",
      "id": 7260259597,
      "node_id": "SE_lADOABII585QdehDzwAAAAGwvsUN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7260259597",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T14:49:39Z"
    },
    {
      "event": "commented",
      "id": 1227486023,
      "node_id": "IC_kwDOABII585JKfNH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1227486023",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T16:15:24Z",
      "updated_at": "2022-08-25T16:15:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "My goodness, that's saddening to read. The only goal should be to improve Bitcoin. Let's please remember to assume good intentions, focus on the code and improving Bitcoin and leave the other stuff behind. Thank you!",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1227486023",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1227488547,
      "node_id": "IC_kwDOABII585JKf0j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1227488547",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T16:17:52Z",
      "updated_at": "2022-08-25T16:17:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > So, what happened? The relaytxes and minfeefilter fields were always present, and documented as such, in the output of the getpeerinfo RPC.\r\n> \r\n> This isn't true. **None** of the fields in `getpeerinfo` were documented as always present until the 'optional' fields were explicitly documented in #22798. Prior to that PR, there was no explicit guarantee that any of the fields would be present.\r\n\r\nAlright, by \"documented\" I meant that since it is not documented as optional, then it must be mandatory, but I was not aware that optional fields were introduced later (#22798). Thanks for bringing it up. This changes the perspective here.\r\n\r\n> This was in response to a review comment about the GUI, not the RPC.\r\n\r\nIn the RPC case you referred to the GUI comment: [As above for the gui peer console](https://github.com/bitcoin/bitcoin/pull/21160#discussion_r598567367).\r\n\r\nAnyway, I was just trying to clarify the situation here, not misinterpret, gotcha or shame. I am having coronavirus and should probably not be at the computer today at all, upsetting people. Will be more careful with my wording in the future.\r\n\r\nThank you!",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1227488547",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1227509247,
      "node_id": "IC_kwDOABII585JKk3_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1227509247",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T16:37:28Z",
      "updated_at": "2022-08-25T16:37:28Z",
      "author_association": "NONE",
      "body": "Concept ACK ",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1227509247",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1227514730,
      "node_id": "IC_kwDOABII585JKmNq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1227514730",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-25T16:43:00Z",
      "updated_at": "2022-08-25T16:43:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "(Am considering closing this draft and opening a new one. If there are any helpful, friendly suggestions in the interim to improve the change, that would be great )",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1227514730",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1228067478,
      "node_id": "IC_kwDOABII585JMtKW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1228067478",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T05:25:34Z",
      "updated_at": "2023-04-25T11:10:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [ghost](https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1227509247) |\n| Approach ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1179118592) |\n| Stale ACK | [brunoerg](https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1095300807) |\n\nIf your review is incorrectly listed, please react with  to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/505](https://github.com/bitcoin-core/gui/pull/505) (RPCConsole: add hidePeersDetailButton and connect to RPCConsole::clearSelectedNode by RandyMcMillan)\n* [#26621](https://github.com/bitcoin/bitcoin/pull/26621) (refactor: Continue moving application data from CNode to Peer by dergoegge)\n* [#26516](https://github.com/bitcoin/bitcoin/pull/26516) (rpc: Always return getpeerinfo \"relaytxes\" field by jonatack)\n* [#26515](https://github.com/bitcoin/bitcoin/pull/26515) (rpc: skip getpeerinfo for a peer without CNodeStateStats by mzumsande)\n* [#25619](https://github.com/bitcoin/bitcoin/pull/25619) (net: avoid overriding non-virtual ToString() in CService and use better naming by vasild)\n* [#24170](https://github.com/bitcoin/bitcoin/pull/24170) (p2p, rpc: Manual block-relay-only connections with addnode by mzumsande)\n* [#24008](https://github.com/bitcoin/bitcoin/pull/24008) (assumeutxo: net_processing changes by jamesob)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1228067478",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "reviewed",
      "id": 1086526152,
      "node_id": "PRR_kwDOABII585AwxLI",
      "url": null,
      "actor": null,
      "commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I guess I'm not convinced either way about what the right behaviour is here -- if a connection is still being setup, it seems more useful to indicate that via `getpeerinfo` or `-netinfo` than just treating it as if it will be like most connections are. On the other hand, that's a bunch of effort for unusual special cases, so :shrug: ...",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1086526152",
      "submitted_at": "2022-08-26T07:47:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "reviewed",
      "id": 1086617087,
      "node_id": "PRR_kwDOABII585AxHX_",
      "url": null,
      "actor": null,
      "commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "While there are some fields that can obviously be made non-optional (such as the fee filter), because they can be absent on the wire even long after the connection has been spun up (thus require a default value anyway), there are other fields where I think it would be problematic to make them non-optional. For example, the service flags can not change after the handshake, so returning different service flags for the same peer id in different RPC invocations might cause issues in callers that assume they can't change. I see that you didn't change service flags in this pull, but the same should hold for txrelay, unless the user has bloom filters enabled.\r\n\r\nSo overall I don't think this can be \"sold\" as a bugfix of some kind, but instead should be done by evaluating each field on a case-by-case basis whether it makes more sense to be optional or not. The behaviour change should then be motivated based on that rationale and not to restore some underdocumented/misdocumented interface of a past release.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1086617087",
      "submitted_at": "2022-08-26T08:40:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T10:58:46Z",
      "updated_at": "2022-08-26T10:58:46Z",
      "source": {
        "issue": {
          "id": 1320160464,
          "node_id": "PR_kwDOABII5848NcnN",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25725",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25725/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25725/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25725/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25725",
          "number": 25725,
          "state": "closed",
          "state_reason": null,
          "title": "consensus: Remove mainnet checkpoints",
          "body": "Once we have logic at the p2p layer to avoid permanently storing headers unless they lead to a sufficiently high work chain, we no longer need to use checkpoints to protect against spam from low-difficulty headers.\r\n\r\nWaiting for #28043.",
          "user": {
            "login": "sdaftuar",
            "id": 7463573,
            "node_id": "MDQ6VXNlcjc0NjM1NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sdaftuar",
            "html_url": "https://github.com/sdaftuar",
            "followers_url": "https://api.github.com/users/sdaftuar/followers",
            "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
            "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
            "repos_url": "https://api.github.com/users/sdaftuar/repos",
            "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 192202000,
              "node_id": "MDU6TGFiZWwxOTIyMDIwMDA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Consensus",
              "name": "Consensus",
              "color": "009800",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/16",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/16",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/16/labels",
            "id": 710147,
            "node_id": "MDk6TWlsZXN0b25lNzEwMTQ3",
            "number": 16,
            "state": "open",
            "title": "Future",
            "description": "Undefined future version",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 2,
            "closed_issues": 12,
            "created_at": "2014-07-04T06:53:52Z",
            "updated_at": "2024-03-06T14:39:42Z"
          },
          "locked": false,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25725",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25725",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25725.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25725.patch"
          },
          "closed_at": "2024-03-06T14:39:42Z",
          "created_at": "2022-07-27T21:56:19Z",
          "updated_at": "2024-03-06T14:39:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T11:05:14Z",
      "updated_at": "2022-08-26T11:05:14Z",
      "source": {
        "issue": {
          "id": 1318725148,
          "node_id": "PR_kwDOABII5848IzcW",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25717",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25717/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25717/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25717/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25717",
          "number": 25717,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: Implement anti-DoS headers sync",
          "body": "New nodes starting up for the first time lack protection against DoS from low-difficulty headers. While checkpoints serve as our protection against headers that fork from the main chain below the known checkpointed values, this protection only applies to nodes that have been able to download the honest chain to the checkpointed heights.\r\n\r\nWe can protect all nodes from DoS from low-difficulty headers by adopting a different strategy: before we commit to storing a header in permanent storage, first verify that the header is part of a chain that has sufficiently high work (either `nMinimumChainWork`, or something comparable to our tip). This means that we will download headers from a given peer twice: once to verify the work on the chain, and a second time when permanently storing the headers.\r\n\r\nThe p2p protocol doesn't provide an easy way for us to ensure that we receive the same headers during the second download of peer's headers chain. To ensure that a peer doesn't (say) give us the main chain in phase 1 to trick us into permanently storing an alternate, low-work chain in phase 2, we store commitments to the headers during our first download, which we validate in the second download.\r\n\r\nSome parameters must be chosen for commitment size/frequency in phase 1, and validation of commitments in phase 2. In this PR, those parameters are chosen to both (a) minimize the per-peer memory usage that an attacker could utilize, and (b) bound the expected amount of permanent memory that an attacker could get us to use to be well-below the memory growth that we'd get from the honest chain (where we expect 1 new block header every 10 minutes).\r\n\r\nAfter this PR, we should be able to remove checkpoints from our code, which is a nice philosophical change for us to make as well, as there has been confusion over the years about the role checkpoints play in Bitcoin's consensus algorithm.\r\n\r\nThanks to Pieter Wuille for collaborating on this design.",
          "user": {
            "login": "sdaftuar",
            "id": 7463573,
            "node_id": "MDQ6VXNlcjc0NjM1NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sdaftuar",
            "html_url": "https://github.com/sdaftuar",
            "followers_url": "https://api.github.com/users/sdaftuar/followers",
            "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
            "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
            "repos_url": "https://api.github.com/users/sdaftuar/repos",
            "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": true,
          "comments": 68,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25717",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25717",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25717.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25717.patch"
          },
          "closed_at": "2022-08-30T14:38:32Z",
          "created_at": "2022-07-26T20:35:09Z",
          "updated_at": "2023-10-13T12:14:29Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1087585618,
      "node_id": "PRR_kwDOABII585A0z1S",
      "url": null,
      "actor": null,
      "commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1087585618",
      "submitted_at": "2022-08-26T23:22:36Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T23:32:16Z",
      "updated_at": "2022-08-26T23:32:16Z",
      "source": {
        "issue": {
          "id": 1115473885,
          "node_id": "PR_kwDOABII584xo1eC",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24170/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24170/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24170/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24170",
          "number": 24170,
          "state": "closed",
          "state_reason": null,
          "title": "p2p, rpc: Manual block-relay-only connections with addnode",
          "body": "This implements the suggestion from #23763 to introduce an option to establish block-relay-connections manually with the `-addnode` RPC.\r\nAdding these can make sense for a node operator that wants to be connected to a anonymity networks like Tor or I2P, but also wants to have additional protection against eclipse attacks: Following the best chain can be more of an issue on anonymity networks because these are smaller and it can be easier to create a lot of sybil nodes there.\r\n\r\nIn that situation, manual block-relay-only connections to peers on clearnet networks can help us staying connected to the best chain, but in contrast to normal manual connections, transactions and addresses aren't transmitted on these links - in particular not our own address or transaction from our wallet. This increases privacy and will also make it harder to perform fingerprinting attacks (connecting our identities over different networks).\r\n\r\nManual Block-Relay connections:\r\n- can be specified with `-addnode` RPC, both with the `add` and `onetry` command\r\n- can be specified with the `-addnode` bitcoind arg (or in bitcoin.conf) with `<IP>=manual-block-relay`\r\n- don't participate in transaction and address relay\r\n- don't get discouraged / punished for misbehavior (but will still get disconnected for sending TX/tx-INV as automatic block-relay-only peers do)\r\n- are not subject to outbound eviction logic (unlike automatic block-relay-only-peers)\r\n",
          "user": {
            "login": "mzumsande",
            "id": 48763452,
            "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzumsande",
            "html_url": "https://github.com/mzumsande",
            "followers_url": "https://api.github.com/users/mzumsande/followers",
            "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
            "organizations_url": "https://api.github.com/users/mzumsande/orgs",
            "repos_url": "https://api.github.com/users/mzumsande/repos",
            "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mzumsande/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 42,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24170",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24170.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24170.patch"
          },
          "closed_at": "2023-06-04T19:11:17Z",
          "created_at": "2022-01-26T20:32:07Z",
          "updated_at": "2023-06-04T19:11:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-27T11:14:25Z",
      "updated_at": "2022-08-27T11:14:25Z",
      "source": {
        "issue": {
          "id": 217385623,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTEyODQ2NDMx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/10102",
          "number": 10102,
          "state": "open",
          "state_reason": null,
          "title": "Multiprocess bitcoin",
          "body": "**This is a draft PR because it is based on #28921 and #28929.** The non-base commits are:\r\n\r\n- [`ee4b9138c837` doc: multiprocess documentation improvements](https://github.com/bitcoin/bitcoin/pull/10102/commits/ee4b9138c837f6dc6b8f063b0df27573736d6578)\r\n- [`df27e301e603` Increase feature_block.py and feature_taproot.py timeouts](https://github.com/bitcoin/bitcoin/pull/10102/commits/df27e301e603d460cbd187056aeff20087cefe3e)\r\n- [`cbc5e366a216` Add util::Result workaround to be compatible with libmultiprocess](https://github.com/bitcoin/bitcoin/pull/10102/commits/cbc5e366a21660601bee8270b5f1d183c148d092)\r\n- [`3427e7e0a965` Add capnp serialization code for bitcoin types](https://github.com/bitcoin/bitcoin/pull/10102/commits/3427e7e0a96502b9c8c6a9d74e5f21a8d84de928)\r\n- [`b6516c454f70` Add capnp wrapper for Handler interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/b6516c454f70d8ef3091ee2ef0bdaede3b0f5893)\r\n- [`5cf30e5357fc` Add capnp wrapper for Chain interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/5cf30e5357fcc3d0ffb871b237e47b79fedd317a)\r\n- [`b5fd425e075a` Add capnp wrapper for Wallet interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/b5fd425e075a3b21bc5e5b4f25209d8abacbeb58)\r\n- [`329b34c85ac6` Add capnp wrapper for Node interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/329b34c85ac6c3718a5a575a48615ed29cfee2fc)\r\n- [`dde2a2211038` Make bitcoin-gui spawn a bitcoin-node process](https://github.com/bitcoin/bitcoin/pull/10102/commits/dde2a221103894606c77017d3e865f1aec3bfb10)\r\n- [`f3349a24e5ac` Make bitcoin-node spawn a bitcoin-wallet process](https://github.com/bitcoin/bitcoin/pull/10102/commits/f3349a24e5ac59913fbcf4ebeb8eaf8df75c604f)\r\n- [`6ea638ca4f28` multiprocess: Add debug.log .wallet/.gui suffixes](https://github.com/bitcoin/bitcoin/pull/10102/commits/6ea638ca4f2834d30853d731c8ed0bc98421d3ce)\r\n- [`622acd03b043` doc: Multiprocess misc doc and comment updates](https://github.com/bitcoin/bitcoin/pull/10102/commits/622acd03b043b238e3fa544167d0d612f1a08715)\r\n- [`755ca62696a4` combine_logs: Handle multiprocess wallet log files](https://github.com/bitcoin/bitcoin/pull/10102/commits/755ca62696a4a15cde7046f36425319ae4ca50ea)\r\n- [`56ef459b5734` Update libmultiprocess library](https://github.com/bitcoin/bitcoin/pull/10102/commits/56ef459b573461087fbe4f39d9b0a7108936335f)\r\n\r\n---\r\n\r\nThis PR adds an `--enable-multiprocess` configure option which builds new `bitcoin-node`, `bitcoin-wallet`, and `bitcoin-gui` executables with relevant functionality isolated into different processes. See [doc/design/multiprocess.md](https://github.com/ryanofsky/bitcoin/tree/pr/ipc/doc/design/multiprocess.md) for usage details and future plans.\r\n\r\nThe change is implemented by adding a new [`Init`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/init.h) interface that spawns new wallet and node subprocesses that can be controlled over a [socketpair](http://man7.org/linux/man-pages/man2/socketpair.2.html) by calling [`Node`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/node.h), [`Wallet`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/wallet.h), and [`ChainClient`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/chain.h) methods. When running with split processes, you can see the IPC messages going back and forth in `-debug=1` output. Followup PR's #19460 and #19461 add `-ipcbind` and `-ipcconnect` options that allow more flexibility in how processes are connected.\r\n\r\nThe IPC protocol used is Cap'n Proto, but this could be swapped out for another protocol. Cap'n Proto types and libraries are only accessed in the [src/ipc/capnp/](https://github.com/ryanofsky/bitcoin/tree/pr/ipc/src/ipc/capnp) directory, and not in any public headers or other parts of bitcoin code.\r\n\r\nSlides from a presentation describing this change are available on [google drive](https://docs.google.com/presentation/d/1AeJ-7gD-dItUgs5yH-HoEzLvXaEWe_2ZiGUUxYIXcws/edit). Demo code used in the presentation was from an older version this PR (tag [ipc.21](https://github.com/ryanofsky/bitcoin/releases/tag/pr%2Fipc.21), [commits](https://github.com/ryanofsky/bitcoin/compare/master...pr/ipc.21)).\r\n\r\n---\r\n\r\nThis PR is part of the [process separation project](https://github.com/bitcoin/bitcoin/issues/28722).\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135946,
              "node_id": "MDU6TGFiZWwxMzU5NDY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
              "name": "GUI",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 85,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10102",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/10102",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/10102.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/10102.patch"
          },
          "created_at": "2017-03-27T21:48:26Z",
          "updated_at": "2024-04-21T01:54:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 7289239258,
      "node_id": "LE_lADOABII585QdehDzwAAAAGyePba",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7289239258",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-30T16:34:01Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "renamed",
      "id": 7291155484,
      "node_id": "RTE_lADOABII585QdehDzwAAAAGyljQc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7291155484",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-30T21:45:39Z",
      "rename": {
        "from": "p2p, bugfix: always provide CNodeStateStats, ensure v23 getpeerinfo API for v24",
        "to": "p2p, refactor: always provide CNodeStateStats, maintain v23 getpeerinfo API for v24"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7295126594,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAGy0sxC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7295126594",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T10:23:08Z"
    },
    {
      "event": "renamed",
      "id": 7295126999,
      "node_id": "RTE_lADOABII585QdehDzwAAAAGy0s3X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7295126999",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T10:23:11Z",
      "rename": {
        "from": "p2p, refactor: always provide CNodeStateStats, maintain v23 getpeerinfo API for v24",
        "to": "p2p: always provide CNodeStateStats, maintain v23 getpeerinfo API for v24"
      }
    },
    {
      "event": "unlabeled",
      "id": 7295596477,
      "node_id": "UNLE_lADOABII585QdehDzwAAAAGy2fe9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7295596477",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T11:36:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1232825663,
      "node_id": "IC_kwDOABII585Je20_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1232825663",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T11:42:08Z",
      "updated_at": "2022-08-31T11:42:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased and updated to take review feedback by @ajtowns and @luke-jr and for the merge of #25717, maintaining the tristate `presynced_headers` behavior. The Clang-tidy CI errors are unrelated (https://github.com/bitcoin/bitcoin/pull/25963 should fix the Clang tidy one).\r\n\r\nThanks for the input, everyone. I'm agnostic to how we describe this change, as can be seen in the PR title and description history. I've re-updated both.  I agree with evaluating each field on a case-by-case basis and it's what I've tried to do.\r\n\r\nHistory:\r\n- the getpeerinfo rpc was added in 2012 in 1006f0707e34f8903f247195dabd86243ae61f05 by Jeff Garzik\r\n- the `relaytxes` field was added to getpeerinfo in 2015 in 08843ed99843078 by Peter Todd\r\n- the `minfeefilter` field was added to getpeerinfo in 2018 in 5778bf95d94f4d1 by @ajtowns  \r\n\r\nBefore adding the \"optional\" mentions to the RPC help docs, I believe we would often mention that fields were optional in the description, see 5ba829e12e99f11 for an example.\r\n\r\nIIUC the only behavior change here where there may be varying opinions is to keep `relaytxes` always present.\r\n\r\nMy thinking is that this is the 8th year it has always been present, e.g. in a majority of our releases (~15) until now. That long-established behavior is a contract I would prefer to maintain, absent a compelling reason not to do so, in which case it might be good to warn our user space about the change in a release note.\r\n\r\nIt is true that both (a) the `getpeerinfo` fields order fixup and (b) keeping `relaytxes` and `minfeefilter` always present could be done separately for v24 with a small patch in `src/rpc/net.cpp` rather than in this larger change. \r\n\r\nRegarding these last two points, I'll leave it to reviewers to weigh in on which way to go.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1232825663",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "mentioned",
      "id": 7295639504,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGy2p_Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7295639504",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T11:42:08Z"
    },
    {
      "event": "subscribed",
      "id": 7295639520,
      "node_id": "SE_lADOABII585QdehDzwAAAAGy2p_g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7295639520",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T11:42:08Z"
    },
    {
      "event": "mentioned",
      "id": 7295639534,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGy2p_u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7295639534",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T11:42:09Z"
    },
    {
      "event": "subscribed",
      "id": 7295639543,
      "node_id": "SE_lADOABII585QdehDzwAAAAGy2p_3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7295639543",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T11:42:09Z"
    },
    {
      "event": "commented",
      "id": 1232871370,
      "node_id": "IC_kwDOABII585JfB_K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1232871370",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T12:27:41Z",
      "updated_at": "2022-08-31T12:27:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Before adding the \"optional\" mentions to the RPC help docs, I believe we would often mention that fields were optional in the description, see https://github.com/bitcoin/bitcoin/commit/5ba829e12e99f119df56cab422f827b9be03fe57 for an example.\r\n\r\nYou're linking to documentation that *you* added to a single RPC. By comparison look at #22798, which adds over 120 optional type arguments to existing rpcs. A large majority of \"optional\" type arguments were not documented as such until September 2021/v0.23. The optional type itself was not added until #17809 in 2020, many years after these return fields were included in the RPC (and not documented as optional).\r\n\r\n> That long-established behavior is a contract\r\n\r\nNo. If it's not documented, it's not a contract. Anyone writing clients using the RPC interface would have needed to make the clients accepting of fields being missing, since that's always been possible for a large number of the results fields in a large number of the RPCs.\r\n\r\nI agree with Marco that it makes sense for some fields to be non-optional, so some of the changes here some beneficial, but please stick to the facts in describing this change.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1232871370",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1232895163,
      "node_id": "IC_kwDOABII585JfHy7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1232895163",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T12:49:21Z",
      "updated_at": "2022-08-31T12:49:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @jnewbery. I'm agnostic to what word is used to describe the 8 years of `relaytxes` behavior. I think the question is whether reflecting that the peer's behavior is still being set up is a sufficient reason to change it for v24. When in doubt I would maintain the long-standing behavior but ok to update depending on consensus.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1232895163",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "mentioned",
      "id": 7296117532,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGy4esc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7296117532",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T12:49:21Z"
    },
    {
      "event": "subscribed",
      "id": 7296117545,
      "node_id": "SE_lADOABII585QdehDzwAAAAGy4esp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7296117545",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T12:49:21Z"
    },
    {
      "event": "labeled",
      "id": 7296333305,
      "node_id": "LE_lADOABII585QdehDzwAAAAGy5TX5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7296333305",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T13:15:06Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "reviewed",
      "id": 1091882985,
      "node_id": "PRR_kwDOABII585BFM_p",
      "url": null,
      "actor": null,
      "commit_id": "cdad951abf73650a9b49dd038ecbcc96ebf9bc0f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1091882985",
      "submitted_at": "2022-08-31T13:25:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "commented",
      "id": 1233070570,
      "node_id": "IC_kwDOABII585Jfynq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1233070570",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T15:12:47Z",
      "updated_at": "2022-08-31T15:12:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "> * maintain `getpeerinfo` API stability by continuing to provide the `relaytxes` and `minfeefilter` fields that have always been present since 2015 and 2018, respectively, and do so with the same default values\r\n\r\nFWIW, I think you'd be better off justifying this on its own terms regardless of recent/ancient historical behaviour.\r\n\r\nI think `relaytxes: false` meaning \"we currently won't relay txs to/from this peer\" is clear, even if that might change after version negotiation. I could see `-1` or `CAmount::max()` being better defaults for `minfeefilter` if relaying isn't happening though, since that way you could interpret it correctly without needing to also look at `relaytxes`...",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1233070570",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "renamed",
      "id": 7297690308,
      "node_id": "RTE_lADOABII585QdehDzwAAAAGy-erE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7297690308",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T15:50:54Z",
      "rename": {
        "from": "p2p: always provide CNodeStateStats, maintain v23 getpeerinfo API for v24",
        "to": "p2p: always provide CNodeStateStats and getpeerinfo/netinfo/gui updates"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T19:23:28Z",
      "updated_at": "2022-08-31T19:23:28Z",
      "source": {
        "issue": {
          "id": 1356975951,
          "node_id": "PR_kwDOABII584-HNBF",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25962",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25962/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25962/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25962/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25962",
          "number": 25962,
          "state": "closed",
          "state_reason": null,
          "title": "net: Add CNodeOptions and increase constness",
          "body": "Adds CNodeOptions to make it easier to add optional parameters to the CNode constructor, and makes prefer_evict and m_permissionFlags actually const.",
          "user": {
            "login": "ajtowns",
            "id": 127186,
            "node_id": "MDQ6VXNlcjEyNzE4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ajtowns",
            "html_url": "https://github.com/ajtowns",
            "followers_url": "https://api.github.com/users/ajtowns/followers",
            "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
            "organizations_url": "https://api.github.com/users/ajtowns/orgs",
            "repos_url": "https://api.github.com/users/ajtowns/repos",
            "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ajtowns/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25962",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25962",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25962.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25962.patch"
          },
          "closed_at": "2022-09-02T07:51:57Z",
          "created_at": "2022-08-31T08:17:36Z",
          "updated_at": "2023-09-02T12:09:48Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7303657176,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAGzVPbY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7303657176",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T09:58:32Z"
    },
    {
      "event": "commented",
      "id": 1234066766,
      "node_id": "IC_kwDOABII585Jjl1O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1234066766",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T10:16:13Z",
      "updated_at": "2022-09-01T10:16:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased for the CI fixes and updated per @MarcoFalke and @ajtowns feedback (thanks).\r\n\r\n> FWIW, I think you'd be better off justifying this on its own terms regardless of recent/ancient historical behaviour.\r\n\r\nUpdated the pull title/description and the commit messages. \r\n\r\n> I think `relaytxes: false` meaning \"we currently won't relay txs to/from this peer\" is clear, even if that might change after version negotiation. I could see `-1` or `CAmount::max()` being better defaults for `minfeefilter` if relaying isn't happening though, since that way you could interpret it correctly without needing to also look at `relaytxes`...\r\n\r\nMakes sense, could see a -1 minfeefilter default for the reason you gave. Unsure with respect to API stability so deferring for a follow-up unless there is a preference that it be done here.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1234066766",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "mentioned",
      "id": 7303797642,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGzVxuK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7303797642",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T10:16:13Z"
    },
    {
      "event": "subscribed",
      "id": 7303797651,
      "node_id": "SE_lADOABII585QdehDzwAAAAGzVxuT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7303797651",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T10:16:13Z"
    },
    {
      "event": "mentioned",
      "id": 7303797665,
      "node_id": "MEE_lADOABII585QdehDzwAAAAGzVxuh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7303797665",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T10:16:13Z"
    },
    {
      "event": "subscribed",
      "id": 7303797677,
      "node_id": "SE_lADOABII585QdehDzwAAAAGzVxut",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7303797677",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T10:16:14Z"
    },
    {
      "event": "ready_for_review",
      "id": 7303798000,
      "node_id": "RFRE_lADOABII585QdehDzwAAAAGzVxzw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7303798000",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T10:16:16Z"
    },
    {
      "event": "reviewed",
      "id": 1093800561,
      "node_id": "PRR_kwDOABII585BMhJx",
      "url": null,
      "actor": null,
      "commit_id": "f9fb72e07ee53d5148e27bd6503806235e533afe",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1093800561",
      "submitted_at": "2022-09-01T17:27:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7307629898,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAGzkZVK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7307629898",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T18:20:01Z"
    },
    {
      "event": "labeled",
      "id": 7311909282,
      "node_id": "LE_lADOABII585QdehDzwAAAAGz0uGi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7311909282",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T09:51:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1235376689,
      "node_id": "IC_kwDOABII585Jolox",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235376689",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T11:18:18Z",
      "updated_at": "2022-09-02T11:18:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased and ready for review.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1235376689",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7312441328,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAGz2v_w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7312441328",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T11:18:35Z"
    },
    {
      "event": "unlabeled",
      "id": 7312677538,
      "node_id": "UNLE_lADOABII585QdehDzwAAAAGz3pqi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7312677538",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T11:58:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1095300807,
      "node_id": "PRR_kwDOABII585BSPbH",
      "url": null,
      "actor": null,
      "commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "crACK 4b10c63dc2f5c894c07adc12926862783cda99b1\r\n\r\nCode seems good for me and noticed my suggestion has been addressed in one of the latest pushes.",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1095300807",
      "submitted_at": "2022-09-02T20:10:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "commented",
      "id": 1237916164,
      "node_id": "IC_kwDOABII585JyRoE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1237916164",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T09:42:39Z",
      "updated_at": "2022-09-06T09:42:39Z",
      "author_association": "MEMBER",
      "body": "I will halt a thorough code review for now while it seems like there is a non-trivial high-level (\"concept\") discussion of the subject.\r\nThis probably also means we should not rush it into the immediate release. There is certainly a risk of breaking some software, but the risks of merging something poor now could be worse (the amount of code here is non-trivial too).\r\n\r\nAs for my personal high-level opinion, I'm not yet convinced following the former behavior (\"bugfix\") is preferential (especially while not everyone argees it is a bugfix).\r\n\r\nPlease consider this my humble opinion as I haven't reviewed the history of these changes as close as other devs in the PR.",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1237916164",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "reviewed",
      "id": 1097503013,
      "node_id": "PRR_kwDOABII585BapEl",
      "url": null,
      "actor": null,
      "commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Posting review mid-way, I reviewed just the first commit 8c8773dc8744e58150fd09c145edaae80dd5ab4c.\r\n\r\nI find it confusing to have `NodesStats`, `CNodeStats`, `CNodeStateStats` and `CNodeCombinedStats`.\r\n\r\nMaybe changing\r\n\r\n```cpp\r\nusing NodesStats = std::vector<std::pair<CNodeStats, CNodeStateStats>>;\r\n```\r\n\r\nto\r\n\r\n```cpp\r\nusing CNodesCombinedStats = std::vector<CNodeCombinedStats>;\r\n```\r\n\r\nwould alleviate it a bit?",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1097503013",
      "submitted_at": "2022-09-06T13:41:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7384000979,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAG4HunT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384000979",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T09:37:06Z"
    },
    {
      "event": "commented",
      "id": 1246507210,
      "node_id": "IC_kwDOABII585KTDDK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246507210",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T09:42:51Z",
      "updated_at": "2022-09-14T09:50:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the review @vasild! I've hopefully addressed your feedback.\r\n\r\n> I find it confusing to have `NodesStats`, `CNodeStats`, `CNodeStateStats` and `CNodeCombinedStats` ... would alleviate it a bit?\r\n\r\nRemoved `NodesStats`.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1246507210",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "mentioned",
      "id": 7384047063,
      "node_id": "MEE_lADOABII585QdehDzwAAAAG4H53X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384047063",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T09:42:51Z"
    },
    {
      "event": "subscribed",
      "id": 7384047071,
      "node_id": "SE_lADOABII585QdehDzwAAAAG4H53f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384047071",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T09:42:51Z"
    },
    {
      "event": "commented",
      "id": 1246537226,
      "node_id": "IC_kwDOABII585KTKYK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246537226",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T10:08:23Z",
      "updated_at": "2022-09-14T10:08:23Z",
      "author_association": "MEMBER",
      "body": "p2p_ping is now failing:\r\n```bash\r\n222/251 - p2p_ping.py failed, Duration: 1 s\r\nstdout:\r\n2022-09-14T10:06:23.895000Z TestFramework (INFO): Initializing test directory /tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner___20220914_095106/p2p_ping_26\r\n2022-09-14T10:06:24.156000Z TestFramework (INFO): Check that ping is sent after connection is established\r\n2022-09-14T10:06:24.262000Z TestFramework (INFO): Reply without nonce cancels ping\r\n2022-09-14T10:06:24.315000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n    self.run_test()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/p2p_ping.py\", line 67, in run_test\r\n    self.check_peer_info(pingtime=None, minping=None, pingwait=None)\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/p2p_ping.py\", line 48, in check_peer_info\r\n    assert_equal(stats.pop('pingwait', None), pingwait)\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 56, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(0 == None)\r\n```",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1246537226",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7384536429,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAG4JxVt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384536429",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T10:42:25Z"
    },
    {
      "event": "commented",
      "id": 1246623917,
      "node_id": "IC_kwDOABII585KTfit",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246623917",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T11:24:32Z",
      "updated_at": "2022-09-14T15:50:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for reviewing @brunoerg and @vasild! Diff since your reviews: `git diff 4b10c63 b5255ca`\r\n\r\n> p2p_ping is now failing\r\n\r\nIndeed, fixed.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1246623917",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "mentioned",
      "id": 7384860012,
      "node_id": "MEE_lADOABII585QdehDzwAAAAG4LAVs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384860012",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T11:24:32Z"
    },
    {
      "event": "subscribed",
      "id": 7384860017,
      "node_id": "SE_lADOABII585QdehDzwAAAAG4LAVx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384860017",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T11:24:33Z"
    },
    {
      "event": "mentioned",
      "id": 7384860025,
      "node_id": "MEE_lADOABII585QdehDzwAAAAG4LAV5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384860025",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T11:24:33Z"
    },
    {
      "event": "subscribed",
      "id": 7384860037,
      "node_id": "SE_lADOABII585QdehDzwAAAAG4LAWF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384860037",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T11:24:33Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7387207342,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAG4T9au",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7387207342",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T15:46:49Z"
    },
    {
      "event": "commented",
      "id": 1249403568,
      "node_id": "IC_kwDOABII585KeGKw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249403568",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-16T14:01:57Z",
      "updated_at": "2022-09-16T14:01:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "> If this is stripped to the bare minimum needed, I think it will have higher chance of making it to 24.0\r\n\r\nDone in a separate PR without the refactoring here; the latter can indeed be done later.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1249403568",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-17T03:59:58Z",
      "updated_at": "2022-09-17T03:59:58Z",
      "source": {
        "issue": {
          "id": 1375992272,
          "node_id": "PR_kwDOABII584_GiJw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26109",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26109/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26109/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26109/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26109",
          "number": 26109,
          "state": "closed",
          "state_reason": null,
          "title": "rpc, doc: getpeerinfo updates",
          "body": "Various updates and fixups, mostly targeting v24. Please refer to the commit messages for details.\r\n",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26109",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26109.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26109.patch"
          },
          "closed_at": "2022-10-13T15:08:44Z",
          "created_at": "2022-09-16T13:58:17Z",
          "updated_at": "2024-01-11T12:24:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1113257240,
      "node_id": "PRR_kwDOABII585CWvUY",
      "url": null,
      "actor": null,
      "commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1113257240",
      "submitted_at": "2022-09-20T07:11:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "reviewed",
      "id": 1113263940,
      "node_id": "PRR_kwDOABII585CWw9E",
      "url": null,
      "actor": null,
      "commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1113263940",
      "submitted_at": "2022-09-20T07:16:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "reviewed",
      "id": 1113267738,
      "node_id": "PRR_kwDOABII585CWx4a",
      "url": null,
      "actor": null,
      "commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1113267738",
      "submitted_at": "2022-09-20T07:19:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "reviewed",
      "id": 1121523675,
      "node_id": "PRR_kwDOABII585C2Rfb",
      "url": null,
      "actor": null,
      "commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1121523675",
      "submitted_at": "2022-09-27T08:28:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-06T21:33:42Z",
      "updated_at": "2022-10-06T21:33:42Z",
      "source": {
        "issue": {
          "id": 652547610,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ1NTk1Mjk3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19461",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19461/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19461/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19461/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19461",
          "number": 19461,
          "state": "open",
          "state_reason": null,
          "title": "multiprocess: Add bitcoin-gui -ipcconnect option",
          "body": "**This is a draft PR because it is based on #10102 + #19460.** The non-base commits are:\r\n\r\n- [`5f91aa3d8b47` multiprocess: Add bitcoin-gui -ipcconnect option](https://github.com/bitcoin/bitcoin/pull/19461/commits/5f91aa3d8b47cee97e625c3b5689a37dbd941eff)\r\n\r\n---\r\n\r\nBuilding on #10102, this adds an `-ipcconnect` option to `bitcoin-gui` that connects the GUI to an existing `bitcoin-node` process already running in the background instead of spawning a new `bitcoin-node` process. This allows the GUI to be started and stopped independently of the node. By default with this change, `bitcoin-gui` will check if a `<datadir>/sockets/node.sock` socket exists and try to connect to that. If that doesn't work, it will spawn a new node process and start up the same way it did before this PR.\r\n\r\nThe default `bitcoin-gui` connect option is `-ipcconnect=auto`, which tries to connect if possible as described above, and spawns a new `bitcoin-node` process if not possible. Other supported options are `-noipcconnect` to never connect to an existing node and always spawn a new one, `-ipcconnect` to require a connection and fail if it can't be established, and `-ipcconnect=unix:<socket>` to require a connection and use a custom socket path.\r\n\r\nWith this PR, basic functionality works and gui instances can connect and disconnect from a running node. But there are rough edges: If a gui process doesn't shut down cleanly, the node can see unhandled IpcExceptions, and if node command line options are passed to `bitcoin-gui` and `bitcoin-gui` connects to an exiting bitcoin-node process instead of spawning a new one, the node options will be silently ignored. \r\n\r\nThese changes require multiprocess support and this PR has no effect unless bitcoin is configured with `--enable-multiprocess` as described in [doc/multiprocess.md](https://github.com/bitcoin/bitcoin/blob/master/doc/multiprocess.md)\r\n\r\n---\r\n\r\nThis PR is part of the [process separation project](https://github.com/bitcoin/bitcoin/issues/28722).\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135946,
              "node_id": "MDU6TGFiZWwxMzU5NDY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
              "name": "GUI",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19461",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19461",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19461.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19461.patch"
          },
          "created_at": "2020-07-07T19:00:11Z",
          "updated_at": "2024-04-20T01:06:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-06T21:36:35Z",
      "updated_at": "2022-10-06T21:36:35Z",
      "source": {
        "issue": {
          "id": 652543635,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ1NTkyMDUz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19460",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19460/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19460/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19460/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19460",
          "number": 19460,
          "state": "open",
          "state_reason": null,
          "title": "multiprocess: Add bitcoin-wallet -ipcconnect option",
          "body": "**This is a draft PR because it is based on #10102.** The non-base commits are:\r\n\r\n- [`bbefbd3c199b` multiprocess: Add -ipcconnect and -ipcbind options](https://github.com/bitcoin/bitcoin/pull/19460/commits/bbefbd3c199b189188d6427b4564b17477c6d50e)\r\n\r\n---\r\n\r\nBuilding on #10102, this adds an `-ipcconnect` option to `bitcoin-wallet` and an `-ipcbind` option to `bitcoin-node` (both enabled by default in multiprocess builds) so bitcoin node will listen on a `<datadir>/sockets/node.sock` unix socket, and `bitcoin-wallet` will connect to it.\r\n\r\nThe idea is that `bitcoin-wallet` can be extended in the future to have some online functionality. For example, there could be a `bitcoin-wallet sync` command that will update balances and sync latest transactions to an unloaded wallet, or a `bitcoin-wallet serve` subcommand that loads a wallet and serves RPC requests, or a `bitcoin-wallet shell` subcommand that allows running RPC methods interactively like the GUI console, or just general support for `bitcoin-wallet <rpc method> <rpc params>` invocations suggested https://github.com/bitcoin/bitcoin/pull/13926#issuecomment-455187379.\r\n\r\nThis PR is small and doesn't do much. The only visible change is that `bitcoin-wallet` now checks whether a node socket exists on startup and prints \"Connected to IPC address\" if it can connect it it.\r\n\r\nThe default `bitcoin-wallet` connect option is `-ipcconnect=auto`, which connects if possible as described above, and proceeds offline if not possible. Other supported options are `-noipcconnect` to disable ipc, `-ipcconnect` to require a connection and fail if it can't be established, and `-ipcconnect=unix:<socket>` to require a connection and use a custom socket path.\r\n\r\nThese changes require multiprocess support and this PR has no effect unless bitcoin is configured with `--enable-multiprocess` as described in [doc/multiprocess.md](https://github.com/bitcoin/bitcoin/blob/master/doc/multiprocess.md)\r\n\r\n---\r\n\r\nThis PR is part of the [process separation project](https://github.com/bitcoin/bitcoin/issues/28722).\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19460",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19460",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19460.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19460.patch"
          },
          "created_at": "2020-07-07T18:53:19Z",
          "updated_at": "2024-04-20T01:06:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 7582957875,
      "node_id": "LE_lADOABII585QdehDzwAAAAHD-sEz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7582957875",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-13T16:06:52Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJiZDY4MGQyM2VmMzJkY2M4ZGNjMzRhNjY1MjQ1ZGUyMDQ4YTI4MGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbd680d23ef32dcc8dcc34a665245de2048a280d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bbd680d23ef32dcc8dcc34a665245de2048a280d",
      "tree": {
        "sha": "5cc572753b76ddf5ff4d113f7b6322c6b60874be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5cc572753b76ddf5ff4d113f7b6322c6b60874be"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5974c49f90eaece7b8ead7b98975a73e69ce4719",
          "sha": "5974c49f90eaece7b8ead7b98975a73e69ce4719",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5974c49f90eaece7b8ead7b98975a73e69ce4719"
        }
      ],
      "message": "p2p, rpc, qt: always provide CNodeStateStats, update getpeerinfo and gui\n\n- update CNodeStateStats members to be either std::optional, or member-initialized\n  with default values where it makes sense and simplifies the code\n\n- return CNodeStateStats rather than a bool\n\n- in RPC getpeerinfo, continue to always provide the relaytxes and minfeefilter\n  fields with default values of false and 0, respectively\n\n- make getpeerinfo and gui peers fields always provided rather than optional where\n  it makes sense: addr_processed, addr_rate_limited, addr_relay_enabled, inflight",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-10-19T01:05:49Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-08-24T14:56:21Z"
      },
      "sha": "bbd680d23ef32dcc8dcc34a665245de2048a280d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDljZDNmNTNkNWFlZDRhNzNiODc0MGIxZjg3ZDE5M2IxMDUxMDdlMTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9cd3f53d5aed4a73b8740b1f87d193b105107e12",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9cd3f53d5aed4a73b8740b1f87d193b105107e12",
      "tree": {
        "sha": "7ea65d3468ba4960b6774e1142540b64ca91950b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7ea65d3468ba4960b6774e1142540b64ca91950b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbd680d23ef32dcc8dcc34a665245de2048a280d",
          "sha": "bbd680d23ef32dcc8dcc34a665245de2048a280d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bbd680d23ef32dcc8dcc34a665245de2048a280d"
        }
      ],
      "message": "interfaces, qt: always provide NodeStats",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-10-19T01:05:53Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-09-01T18:15:44Z"
      },
      "sha": "9cd3f53d5aed4a73b8740b1f87d193b105107e12"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQxYzI3YTY3OWJjNjcxMzBhNWRhN2U5OWUyMjI5YWJlNmRlNDI0NTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d1c27a679bc67130a5da7e99e2229abe6de42451",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d1c27a679bc67130a5da7e99e2229abe6de42451",
      "tree": {
        "sha": "0a3a6a3dc219c15b8bc6ad9cfb646241468162e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0a3a6a3dc219c15b8bc6ad9cfb646241468162e5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9cd3f53d5aed4a73b8740b1f87d193b105107e12",
          "sha": "9cd3f53d5aed4a73b8740b1f87d193b105107e12",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9cd3f53d5aed4a73b8740b1f87d193b105107e12"
        }
      ],
      "message": "scripted-diff: rename CNodeStateStats members\n\n-BEGIN VERIFY SCRIPT-\nrename() { sed -i \"s:\\<$1\\>:$2:g\" $(git grep -l \"\\<$1\\>\" ./src ./test); }\n\nrename nSyncHeight      m_sync_height\nrename nCommonHeight    m_common_height\nrename vHeightInFlight  m_height_in_flight\nrename presync_height   m_presync_height\nrename their_services   m_services\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-10-19T01:07:17Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-08-24T16:16:50Z"
      },
      "sha": "d1c27a679bc67130a5da7e99e2229abe6de42451"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE0M2VjMjNiZGNkYzkwYTQzOTViNDRhMjM5YzFhNmQ3NjgzODRjMzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/143ec23bdcdc90a4395b44a239c1a6d768384c34",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/143ec23bdcdc90a4395b44a239c1a6d768384c34",
      "tree": {
        "sha": "e681e4ad18b308f482be93ebbdcf83400f767de4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e681e4ad18b308f482be93ebbdcf83400f767de4"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d1c27a679bc67130a5da7e99e2229abe6de42451",
          "sha": "d1c27a679bc67130a5da7e99e2229abe6de42451",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d1c27a679bc67130a5da7e99e2229abe6de42451"
        }
      ],
      "message": "refactor: remove NodesStats type\n\nas it can only be used in a couple of instances rather than in all\nof them, thereby providing little benefit and increasing confusion",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-10-19T01:07:21Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-09-12T12:54:04Z"
      },
      "sha": "143ec23bdcdc90a4395b44a239c1a6d768384c34"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI1ZmEwZDVhNmMxMWM3OWIzYTJiNjBjNGJiYTA1YTQ1ZjRjNjVkNmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "tree": {
        "sha": "03a0e62d3a6c8c762e31656521f59a4e76dcc29e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/03a0e62d3a6c8c762e31656521f59a4e76dcc29e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/143ec23bdcdc90a4395b44a239c1a6d768384c34",
          "sha": "143ec23bdcdc90a4395b44a239c1a6d768384c34",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/143ec23bdcdc90a4395b44a239c1a6d768384c34"
        }
      ],
      "message": "p2p, refactor: make Peer#m_starting_height data member std::optional",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-10-19T01:07:21Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-09-20T09:21:45Z"
      },
      "sha": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-28T17:23:08Z",
      "updated_at": "2022-10-28T17:23:08Z",
      "source": {
        "issue": {
          "id": 1412338968,
          "node_id": "PR_kwDOABII585A-HDM",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26328",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26328/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26328/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26328/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26328",
          "number": 26328,
          "state": "closed",
          "state_reason": null,
          "title": "doc: fix -netinfo relaytxes help",
          "body": "Addresses https://github.com/bitcoin/bitcoin/pull/26109#discussion_r995502563 by Marco Falke (thanks!)",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 148216,
              "node_id": "MDU6TGFiZWwxNDgyMTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Docs",
              "name": "Docs",
              "color": "02d7e1",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26328",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26328",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26328.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26328.patch"
          },
          "closed_at": "2023-01-11T16:40:19Z",
          "created_at": "2022-10-17T22:54:58Z",
          "updated_at": "2024-01-11T12:24:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7693582224,
      "node_id": "HRFPE_lADOABII585QdehDzwAAAAHKkr-Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7693582224",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-28T17:42:49Z"
    },
    {
      "event": "commented",
      "id": 1295282115,
      "node_id": "IC_kwDOABII585NNG_D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1295282115",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-28T17:47:10Z",
      "updated_at": "2022-10-28T17:47:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased and WIP push (likely still need to add a mutex for `m_starting_height`), dropping the non-refactoring commits that have been merged in a separate pull.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1295282115",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "unlabeled",
      "id": 7693609497,
      "node_id": "UNLE_lADOABII585QdehDzwAAAAHKkyoZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7693609497",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-28T17:47:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-28T21:24:41Z",
      "updated_at": "2022-10-28T21:24:41Z",
      "source": {
        "issue": {
          "id": 1077939982,
          "node_id": "PR_kwDOEEET9c4vup29",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/505",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/505/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/505/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/505/events",
          "html_url": "https://github.com/bitcoin-core/gui/pull/505",
          "number": 505,
          "state": "open",
          "state_reason": null,
          "title": "Hide peers details",
          "body": "Add a close (X) button to the Peers Detail panel.\r\nReuse the same icon used in the Console Tab.\r\nThe close button deselects the peer highlighted\r\nin the PeerTableView and hides the detail panel.\r\n\r\nfixes #485\r\n    \r\n    Co-authored-by: @w0xlt <w0xlt@users.noreply.github.com>",
          "user": {
            "login": "RandyMcMillan",
            "id": 152159,
            "node_id": "MDQ6VXNlcjE1MjE1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RandyMcMillan",
            "html_url": "https://github.com/RandyMcMillan",
            "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
            "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
            "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
            "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
            "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 2147693884,
              "node_id": "MDU6TGFiZWwyMTQ3NjkzODg0",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Feature",
              "name": "Feature",
              "description": "",
              "color": "8fe567",
              "default": false
            },
            {
              "id": 2964264316,
              "node_id": "MDU6TGFiZWwyOTY0MjY0MzE2",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/UX",
              "name": "UX",
              "description": "All about \"how to get things done\"",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/gui/pulls/505",
            "html_url": "https://github.com/bitcoin-core/gui/pull/505",
            "diff_url": "https://github.com/bitcoin-core/gui/pull/505.diff",
            "patch_url": "https://github.com/bitcoin-core/gui/pull/505.patch"
          },
          "created_at": "2021-12-12T23:34:16Z",
          "updated_at": "2024-04-09T19:14:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-29T02:08:29Z",
      "updated_at": "2022-10-29T02:08:29Z",
      "source": {
        "issue": {
          "id": 1306008117,
          "node_id": "PR_kwDOABII5847eDJ6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
          "number": 25619,
          "state": "closed",
          "state_reason": null,
          "title": "net: avoid overriding non-virtual ToString() in CService and use better naming",
          "body": "Before this PR we had the somewhat confusing combination of methods:\r\n\r\n`CNetAddr::ToStringIP()`\r\n`CNetAddr::ToString()` (duplicate of the above)\r\n`CService::ToStringIPPort()`\r\n`CService::ToString()` (duplicate of the above, overrides a non-virtual method from `CNetAddr`)\r\n`CService::ToStringPort()`\r\n\r\nAvoid [overriding non-virtual methods](https://github.com/bitcoin/bitcoin/pull/25349/#issuecomment-1185226396).\r\n\r\n\"IP\" stands for \"Internet Protocol\" and while sometimes \"IP addresses\" are called just \"IPs\", it is incorrect to call Tor or I2P addresses \"IPs\". Thus use \"Addr\" instead of \"IP\".\r\n\r\nChange the above to:\r\n\r\n`CNetAddr::ToStringAddr()`\r\n`CService::ToStringAddrPort()`\r\n\r\nThe changes touch a lot of files, but are mostly mechanical.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25619",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25619.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25619.patch"
          },
          "closed_at": "2023-02-17T18:34:58Z",
          "created_at": "2022-07-15T12:58:23Z",
          "updated_at": "2024-02-20T12:33:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-05T17:40:58Z",
      "updated_at": "2022-11-05T17:40:58Z",
      "source": {
        "issue": {
          "id": 1436785661,
          "node_id": "PR_kwDOABII585CP0oS",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26457",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26457/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26457/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26457/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26457",
          "number": 26457,
          "state": "closed",
          "state_reason": null,
          "title": "[24.x] backport rpc: Require NodeStateStats object in getpeerinfo",
          "body": "Backports #26515.",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 390024790,
              "node_id": "MDU6TGFiZWwzOTAwMjQ3OTA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Backport",
              "name": "Backport",
              "description": "",
              "color": "dd7200",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/58",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/58",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/58/labels",
            "id": 8664975,
            "node_id": "MI_kwDOABII584AhDeP",
            "number": 58,
            "state": "closed",
            "title": "24.1",
            "creator": {
              "login": "maflcko",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/maflcko",
              "html_url": "https://github.com/maflcko",
              "followers_url": "https://api.github.com/users/maflcko/followers",
              "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
              "organizations_url": "https://api.github.com/users/maflcko/orgs",
              "repos_url": "https://api.github.com/users/maflcko/repos",
              "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/maflcko/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 12,
            "created_at": "2022-11-17T10:40:26Z",
            "updated_at": "2023-05-25T14:12:08Z",
            "closed_at": "2023-05-25T14:12:08Z"
          },
          "locked": true,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26457",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26457",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26457.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26457.patch"
          },
          "closed_at": "2023-01-20T11:34:32Z",
          "created_at": "2022-11-05T03:03:47Z",
          "updated_at": "2024-03-11T12:37:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-10T23:25:03Z",
      "updated_at": "2022-11-10T23:25:03Z",
      "source": {
        "issue": {
          "id": 1096591544,
          "node_id": "PR_kwDOABII584wrFC4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24008",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24008/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24008/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24008/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24008",
          "number": 24008,
          "state": "closed",
          "state_reason": null,
          "title": "assumeutxo: net_processing changes",
          "body": "This is part of the [assumeutxo project](https://github.com/bitcoin/bitcoin/projects/11) (parent PR: #27596) \r\n\r\n---\r\n\r\nThis PR includes the changes necessary to perform network functionality with multiple chainstates in use. Various pieces of net_processing logic have to be modified in order to support block download that is simultaneous across numerous chainstates.\r\n\r\nChanges include\r\n\r\n- Modify FindNextBlocksToDownload() to parameterize the chainstate\r\n  being worked on.\r\n\r\n- Change GetNodeStateStats to take the max nCommonHeight per peer across\r\n  all chainstates.\r\n\r\n- Add CNodeState::chainstate_to_last_common_block\r\n  * we need this to allow handling for a single peer to distinguish\r\n    between separate chainstates we're simultaneously downloading blocks for\r\n\r\n- Share `requests_available` across chainstates when finding the next blocks\r\n  to download (during calls to FindNextBlocksToDownload()).\r\n\r\n---\r\n\r\nThis PR shares commit https://github.com/jamesob/bitcoin/commit/17906dd52543fb75d2c45de884799b35ec5721f4 with #24006, and is included here so that the two changes can be reviewed in parallel.\r\n\r\nThis PR excludes a small net_processing commit, https://github.com/jamesob/bitcoin/commit/3e6164d96f9a42ecbf34359f6fd1af5413346933, which will be proposed for merge after #24006 since it relies on the introduction of the `BackgroundBlockConnected()` validationinterface event that the indexing changes introduce.\r\n\r\n---\r\n\r\nSome commits here are best reviewed with `--ignore-space-change`.\r\n\r\nUnit-testing net_processing is notoriously difficult and with that in mind I haven't included any unittests here, but in parallel with review of these changes I will attempt to write some tests. Note that this behavior is covered in the functional tests included in the parent PR: https://github.com/jamesob/bitcoin/commit/c4949f2daf05289e76123b3c705277bf735a79d6",
          "user": {
            "login": "jamesob",
            "id": 73197,
            "node_id": "MDQ6VXNlcjczMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesob",
            "html_url": "https://github.com/jamesob",
            "followers_url": "https://api.github.com/users/jamesob/followers",
            "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
            "organizations_url": "https://api.github.com/users/jamesob/orgs",
            "repos_url": "https://api.github.com/users/jamesob/repos",
            "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jamesob/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24008",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24008",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24008.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24008.patch"
          },
          "closed_at": "2023-05-26T21:26:05Z",
          "created_at": "2022-01-07T19:08:10Z",
          "updated_at": "2023-06-25T04:22:13Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-14T02:34:10Z",
      "updated_at": "2022-11-14T02:34:10Z",
      "source": {
        "issue": {
          "id": 421531882,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjYxNTYxNTQ3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15606",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15606/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15606/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15606/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/15606",
          "number": 15606,
          "state": "closed",
          "state_reason": null,
          "title": "assumeutxo",
          "body": "**See the proposal for assumeutxo [here](https://github.com/jamesob/assumeutxo-docs/tree/2019-04-proposal/proposal).**\r\n\r\nTesting instructions can be found below the \"Progress\" section.\r\n\r\n---\r\n\r\n### Progress\r\n\r\nAll items here have corresponding commits here, but are unchecked if they haven't been merged yet.\r\n\r\n- [x] **Chainstate interface**\r\n  - https://github.com/bitcoin/bitcoin/pull/15976\r\n- [x] **Localize chainstate data**\r\n  - https://github.com/bitcoin/bitcoin/pull/16443\r\n- [x] **Share block data**\r\n  - https://github.com/bitcoin/bitcoin/pull/16194\r\n- [x] **Deglobalize chainstate**\r\n  - https://github.com/bitcoin/bitcoin/pull/15948\r\n- [x] **UpdateTip/CheckBlockIndex** modifications\r\n  - https://github.com/bitcoin/bitcoin/pull/21526\r\n- [x] **ChainstateManager**\r\n  - https://github.com/bitcoin/bitcoin/pull/17737\r\n- [x] **Mempool**\r\n  - https://github.com/bitcoin/bitcoin/pull/22415\r\n- [x] **LoadBlockIndex**\r\n  - https://github.com/bitcoin/bitcoin/pull/23174\r\n- [x] **Init/teardown**\r\n  - https://github.com/bitcoin/bitcoin/pull/24232\r\n  - https://github.com/bitcoin/bitcoin/pull/25667\r\n  - https://github.com/bitcoin/bitcoin/pull/25740\r\n- [x] **Wallet**: includes avoiding rescans when assumed-valid block data is in use\r\n  - https://github.com/bitcoin/bitcoin/pull/23997\r\n  - https://github.com/bitcoin/bitcoin/pull/26282\r\n- [ ] **P2P**: minor changes are made to `init.cpp` and `net_processing.cpp` to make simultaneous IBD across multiple chainstates work.\r\n  - #24008 \r\n- [ ] **Pruning**: implement correct pruning behavior when using a background chainstate\r\n- [ ] **Blockfile separation**: to prevent \"fragmentation\" in blockfile storage, have background chainstates use separate blockfiles from active snapshot chainstates to avoid interleaving heights and impairing pruning.\r\n- [ ] **Indexing**: all existing `CValidationInterface` events are given with an additional parameter, ChainstateRole, and all indexers ignore events from ChainstateRole::ASSUMEDVALID so that indexation only happens sequentially.\r\n- [ ] Raise error when both `-reindex` and assumeutxo are in use.\r\n- [ ] **RPC**: introduce RPC commands `dumptxoutset`, `loadtxoutset`, and (the probably temporary) `monitorsnapshot`.\r\n  - https://github.com/bitcoin/bitcoin/pull/16899\r\n- [ ] **Release docs & first assumeutxo commitment**: add notes and a particular assumeutxo hash value for first AU-enabled release.\r\n  - This will complete the project and allow use of UTXO snapshots for faster node bootstrap.\r\n- [ ] *(optional)* **Coinscache optimization**: allow flushing chainstate data without emptying the coins cache; results in better performance after UTXO snapshot load.\r\n  - https://github.com/bitcoin/bitcoin/pull/17487\r\n  - https://github.com/bitcoin/bitcoin/pull/27008\r\n\r\n---\r\n\r\n### Testing\r\n\r\n#### For fun (~5min)\r\n\r\nIf you want to do a quick test, you can run `./contrib/devtools/test_utxo_snapshots.sh` and follow the instructions. This is mostly obviated by the functional tests, though.\r\n\r\n#### For real (longer)\r\n\r\nIf you'd like to experience a real usage of assumeutxo, you can do that too.\r\nI've cut a new snapshot at height 788'000 (http://img.jameso.be/utxo-788000.dat - but you can do it yourself with `./contrib/devtools/utxo_snapshot.sh` if you want). Download that, and then create a datadir for testing:\r\n```sh\r\n$ cd ~/src/bitcoin  # or whatever\r\n\r\n# get the snapshot\r\n$ curl http://img.jameso.be/utxo-788000.dat > utxo-788000.dat\r\n\r\n# you'll want to do this if you like copy/pasting \r\n$ export AU_DATADIR=/home/${USER}/au-test # or wherever\r\n\r\n$ mkdir ${AU_DATADIR}\r\n$ vim ${AU_DATADIR}/bitcoin.conf\r\n\r\ndbcache=8000  # or, you know, something high\r\nblockfilterindex=1\r\ncoinstatsindex=1\r\nprune=3000\r\nlogthreadnames=1\r\n```\r\nObtain this branch, build it, and then start bitcoind:\r\n```sh\r\n$ git remote add jamesob https://github.com/jamesob/bitcoin\r\n$ git fetch jamesob utxo-dumpload-compressed\r\n$ git checkout jamesob/utxo-dumpload-compressed\r\n\r\n$ ./configure $conf_args && make  # (whatever you like to do here)\r\n\r\n# start 'er up and watch the logs\r\n$ ./src/bitcoind -datadir=${AU_DATADIR}\r\n```\r\nThen, in some other window, load the snapshot\r\n```sh\r\n$ ./src/bitcoin-cli -datadir=${AU_DATADIR} loadtxoutset $(pwd)/utxo-788000.dat\r\n```\r\n\r\nYou'll see some log messages about headers retrieval and waiting to see the snapshot in the headers chain. Once you get the full headers chain, you'll spend a decent amount of time (~10min) loading the snapshot, checking it, and flushing it to disk. After all that happens, you should be syncing to tip in pretty short order, and you'll see the occasional `[background validation]` log message go by.\r\n\r\nIn yet another window, you can check out chainstate status with\r\n```sh\r\n$ ./src/bitcoin-cli -datadir=${AU_DATADIR} getchainstates\r\n```\r\nas well as usual favorites like `getblockchaininfo`.\r\n\r\n---\r\n\r\n### Original change description\r\n\r\nFor those unfamiliar with assumeutxo, here's a brief summary from [the issue](https://github.com/bitcoin/bitcoin/issues/15605) (where any conceptual discussion not specific to this implementation should happen):\r\n\r\n> assumeutxo would be a way to initialize a node using a headers chain and a serialized version of the UTXO state which was generated from another node at some block height. A client making use of this UTXO \"snapshot\" would specify a hash and expect the content of the resulting UTXO set to yield this hash after deserialization. \r\n> \r\n> This would allow users to bootstrap a usable pruned node & wallet far more quickly (and with less disk usage) than waiting for a full initial block download to complete, since we only have to sync blocks between the base of the snapshot and the current network tip. Needless to say this is at expense of accepting a different trust model, though how different this really ends up being from `assumevalid` in effect is worth debate.\r\n\r\nIn short, this is an interesting change because it would allow nodes to get up and running within minutes given a ~3GB file (at time of writing) under an almost identical trust model to assumevalid.\r\n\r\nIn this implementation, I add a few RPC commands: `dumptxoutset` creates a UTXO snapshot and writes it to disk, and `loadtxoutset` intakes a snapshot from disk, constructs and activates chainstate based on it, and continues a from-scratch initial block download in the background for the sole purpose of validating the snapshot. Once the snapshot is validated, we throw away the chainstate used for background validation.\r\n\r\nThe assumeutxo procedure as implemented is as follows:\r\n\r\n1. A UTXO snapshot is loaded with the `loadtxoutset <path>` RPC command.\r\n1. A new chainstate (`CChainState`) is initialized using `ChainstateManager::ActivateSnapshot()`:\r\n   1. The serialized UTXO data is read in and various sanity checks are performed, e.g. compare expected coin count, recompute the hash and compare it with assumeutxo hash in source code.\r\n   1. We \"fast forward\" `new_chainstate->m_chain` to have a tip at the base of the snapshot (with or without block data). Lacking block data, we fake the `nTx` counts of the constituent `CBlockIndex` entries.\r\n   1. `LoadChainTip()` is called on the new snapshot and it is installed as our active chainstate.\r\n1. The new assumed-valid chainstate is now our active, and so that enters IBD until it is synced to the network's tip. Presumably the snapshot would be taken relatively close to the current tip but far enough away to avoid meaningful reorgs, say 10,000 blocks deep.\r\n1. Once the active chainstate is out of IBD, our old validation chain continues IBD \"in the background\" while the active chainstate services requests from most of the system.\r\n1. Once the background validation chainstate reaches a height equal the base of the snapshot, we take the hash of its UTXO set and ensure it equals the expected hash based on the snapshot. If the hashes are equivalent, we delete the validation chainstate and move on without event; if they aren't, we log loudly and fall back to the validation chainstate (we should probably just shut down).\r\n\r\nThe implicit assumption is that the background validation chain will always be a subset of the assumed-valid snapshot chain while the latter is active. We don't properly handle reorgs that go deeper than the base of the snapshot.\r\n\r\n### Changes (already merged/outdated)\r\n\r\n![chainstate-beforeafter (1)](https://user-images.githubusercontent.com/73197/54435797-a16b0780-4707-11e9-89c3-c90b5686804d.png)\r\n \r\nThe crux of this change is in removing any assumptions in the codebase that there is a single chainstate, i.e. any references to global variables `chainActive`, `pcoinsTip`, et al. need to be replaced with functions that return the relevant chainstate data at that moment in time. This change also takes `CChainState` to its logical conclusion by making it more self-contained - any references to globals like `chainActive` are removed with class-local references (`m_chain`).\r\n\r\nA few minor notes on the implementation:\r\n\r\n- When we attempt to load a wallet with a BestBlock locator lower than the base of a snapshot and the snapshot has not yet been validated, we refuse to load the wallet.\r\n\r\n- For additional notes, see [the new assumeutxo docs](https://github.com/jamesob/bitcoin/blob/utxo-dumpload-compressed/doc/assumeutxo.md).",
          "user": {
            "login": "jamesob",
            "id": 73197,
            "node_id": "MDQ6VXNlcjczMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesob",
            "html_url": "https://github.com/jamesob",
            "followers_url": "https://api.github.com/users/jamesob/followers",
            "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
            "organizations_url": "https://api.github.com/users/jamesob/orgs",
            "repos_url": "https://api.github.com/users/jamesob/repos",
            "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jamesob/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 66,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15606",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/15606",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/15606.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/15606.patch"
          },
          "closed_at": "2023-05-08T15:09:24Z",
          "created_at": "2019-03-15T13:58:22Z",
          "updated_at": "2023-05-08T15:09:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1179118592,
      "node_id": "PRR_kwDOABII585GR-wA",
      "url": null,
      "actor": null,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK 25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a\r\n\r\nEdit, just not to forget:\r\n\r\n> likely still need to add a mutex for `m_starting_height`\r\n\r\nor `std::atomic<std::optional<int>> m_starting_height`\r\n\r\nAlso consider: https://github.com/bitcoin/bitcoin/pull/25923#discussion_r963656857",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1179118592",
      "submitted_at": "2022-11-14T14:12:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-16T22:57:52Z",
      "updated_at": "2022-11-16T22:57:52Z",
      "source": {
        "issue": {
          "id": 1452348532,
          "node_id": "PR_kwDOABII585DEEyh",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26515",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26515/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26515/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26515/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26515",
          "number": 26515,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: skip getpeerinfo for a peer without CNodeStateStats",
          "body": "The objects `CNode`, `CNodeState` and `Peer` store different info about a peer - `InitializeNode()` and `FinalizeNode()` make sure that for the duration of a connection, we should always have one of each for a peer.\r\n\r\nTherefore, there is no situation in which, as part of getpeerinfo RPC,  `GetNodeStateStats()` (which requires a `CNodeState` and a `Peer` entry for a `NodeId` to succeed)  could fail for a legitimate reason while the peer is connected - this can only happen if there is a race condition between peer disconnection and the `getpeerinfo` processing (see also a more detailed description of this in https://github.com/bitcoin/bitcoin/pull/26457#pullrequestreview-1181641835). \r\n\r\nBut in this case I think it's better to just not include the newly disconnected peer in the response instead of returning just parts of its data.\r\n\r\nAn earlier version of this PR also made the affected `CNodeStateStats` fields non-optional (see https://github.com/mzumsande/bitcoin/commit/5f900e27d0e5ceaa3b800a2eb5a8e8ff6bccad3b). Since this conflicts with #25923 and should be a separate discussion, I removed that commit from this PR.",
          "user": {
            "login": "mzumsande",
            "id": 48763452,
            "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzumsande",
            "html_url": "https://github.com/mzumsande",
            "followers_url": "https://api.github.com/users/mzumsande/followers",
            "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
            "organizations_url": "https://api.github.com/users/mzumsande/orgs",
            "repos_url": "https://api.github.com/users/mzumsande/repos",
            "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mzumsande/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26515",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26515",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26515.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26515.patch"
          },
          "closed_at": "2022-12-19T13:31:00Z",
          "created_at": "2022-11-16T22:14:04Z",
          "updated_at": "2024-01-20T12:25:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-17T17:03:22Z",
      "updated_at": "2022-11-17T17:03:22Z",
      "source": {
        "issue": {
          "id": 1452667748,
          "node_id": "PR_kwDOABII585DFGca",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26516",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26516/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26516/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26516/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26516",
          "number": 26516,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: Always return getpeerinfo \"relaytxes\" field",
          "body": "with its pre-existing v23 default value of false, as it is intermittently absent during peer disconnection -- see https://github.com/bitcoin/bitcoin/pull/26457#pullrequestreview-1181641835.  Credit to Martin Zumsande for finding this. \r\n\r\nThis allows dropping the patch in #25176 here, and, if backported to v24, provides API continuity as relaytxes was always present in getpeerinfo since it was introduced in 2015.\r\n\r\nAlso fix -netinfo relaytxes doc to address https://github.com/bitcoin/bitcoin/pull/26109#discussion_r995502563.\r\n\r\nCo-authored-by: Martin Zumsande <mzumsande@gmail.com>\r\n\r\n",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26516",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26516",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26516.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26516.patch"
          },
          "closed_at": "2023-01-10T21:11:01Z",
          "created_at": "2022-11-17T04:14:55Z",
          "updated_at": "2024-01-10T12:24:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1185264732,
      "node_id": "PRR_kwDOABII585GpbRc",
      "url": null,
      "actor": null,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1185264732",
      "submitted_at": "2022-11-18T05:19:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "reviewed",
      "id": 1188773952,
      "node_id": "PRR_kwDOABII585G20BA",
      "url": null,
      "actor": null,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Some observations re: the RPC changes (I think the reporting to the GUI should be discussed separately, see my comment above):\r\n\r\n* As far as I can see, before this PR, the only situation in which `CNodeStateStats` was not available (`fStateStats==false`) is a race condition during peer disconnection, because `getpeerinfo` does not fetch `CNodeStats` and `CNodeStateStats` atomically - the node may have removed the peer in between the two calls. But this should not be possible during peer initialization because of the order in which the objects `CNode`, `Peer` and `CNodeState` are initialised.\r\n\r\n* I think that this behavior during disconnection is unintended, a bug that should be fixed. One way to fix it would be to not report an incomplete peer info in this case (#26515), another possibility might be to prevent the node from disconnecting a peer in between these two calls, i.e. change the way `getpeerinfo` fetches data - which might also fix the related issue that data from `CNodeStateStats` might be always present but change after fetching `CNodeStats` data, leading to an inconsistent response.\r\n\r\n* As a result of this, there currently seems to be no _legitimate_ reason why we should fail to fetch an entire `CNodeStateStats` object when we have a `CNodeStats` object, or why fields from `CNodeStateStats` need to be any more optional than field from `CNodeStats`. During the lifetime of a connection, all three internal objects `CNode`, `Peer` and `CNodeState` should always be available.\r\n\r\n* It is an unrelated issue that some of the `getpeerinfo` fields (whichever internal object they may belong to) are not known during peer initialization because our peer hasn't given us enough info yet - the old strategy has been to return default-initialized values, such as `-1`, but include the field. This PR makes many of these fields optional, by leaving them out of the `getpeerinfo` response - so it changes `getpeerinfo` behavior during startup. This should become very clear when this PR gets rebased wrt master and the newly added test in #26519 needs to be adjusted.\r\n\r\n* I don't have a strong opinion on whether this is desirable (are there any general recommendation for this, or examples from other RPCs?), however note that some fields (e.g. `presynced_headers=-1`) are still left default-initialized, while others aren't. I also think that if we make the fields truly optional, it might be good to mention in the RPC help in which situations they are not reported.\r\n",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#pullrequestreview-1188773952",
      "submitted_at": "2022-11-21T18:36:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-06T05:54:10Z",
      "updated_at": "2022-12-06T05:54:10Z",
      "source": {
        "issue": {
          "id": 1471685707,
          "node_id": "PR_kwDOABII585EFGFt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26621",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26621/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26621/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26621/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26621",
          "number": 26621,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Continue moving application data from CNode to Peer",
          "body": "This PR picks up a subset of changes from #24970 and additionally moves `m_bip152_highbandwith{to,from}`, `nTimeOffset`, `nVersion`, `m_greates_common_version`.",
          "user": {
            "login": "dergoegge",
            "id": 8077169,
            "node_id": "MDQ6VXNlcjgwNzcxNjk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dergoegge",
            "html_url": "https://github.com/dergoegge",
            "followers_url": "https://api.github.com/users/dergoegge/followers",
            "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
            "organizations_url": "https://api.github.com/users/dergoegge/orgs",
            "repos_url": "https://api.github.com/users/dergoegge/repos",
            "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dergoegge/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26621",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26621",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26621.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26621.patch"
          },
          "closed_at": "2023-09-28T20:06:13Z",
          "created_at": "2022-12-01T17:26:32Z",
          "updated_at": "2023-09-28T20:06:13Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8069230850,
      "node_id": "REFE_lADOABII585QdehDzwAAAAHg9rEC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8069230850",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3d974960d38b8effcf9c7f84965b8f9cc681d5a1",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3d974960d38b8effcf9c7f84965b8f9cc681d5a1",
      "created_at": "2022-12-19T13:01:14Z"
    },
    {
      "event": "labeled",
      "id": 8069671259,
      "node_id": "LE_lADOABII585QdehDzwAAAAHg_Wlb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8069671259",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-19T13:54:13Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1357706565,
      "node_id": "IC_kwDOABII585Q7PVF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1357706565",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-19T13:54:14Z",
      "updated_at": "2022-12-19T13:54:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1357706565",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "referenced",
      "id": 8070817809,
      "node_id": "REFE_lADOABII585QdehDzwAAAAHhDugR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8070817809",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "bbc8a636d4c648b7f61a168d4b9c6a2ec247b9e3",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/bbc8a636d4c648b7f61a168d4b9c6a2ec247b9e3",
      "created_at": "2022-12-19T15:59:48Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T15:35:38Z",
      "updated_at": "2023-01-11T15:35:38Z",
      "source": {
        "issue": {
          "id": 1503166643,
          "node_id": "PR_kwDOABII585Fy2AR",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26727",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26727/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26727/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26727/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26727",
          "number": 26727,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: remove optional from fStateStats fields",
          "body": "These are no-longer optional after #26515, so remove the documentation, and no-op `fStateStats` checks.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26727",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26727",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26727.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26727.patch"
          },
          "closed_at": "2023-01-18T11:49:50Z",
          "created_at": "2022-12-19T15:40:15Z",
          "updated_at": "2024-01-18T12:25:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1419226960,
      "node_id": "IC_kwDOABII585Ul69Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419226960",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-06T15:04:03Z",
      "updated_at": "2023-02-06T15:04:03Z",
      "author_association": "MEMBER",
      "body": "What is the status of this given recently merged changes, and the commentary above?",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1419226960",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1419353477,
      "node_id": "IC_kwDOABII585UmZ2F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419353477",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-06T16:19:26Z",
      "updated_at": "2023-02-06T16:20:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "I'm reviewing other pulls ATM but will evaluate the scope here, starting from simply updating the statestats struct with std::optionals on up to the other changes.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1419353477",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "convert_to_draft",
      "id": 8449288220,
      "node_id": "CTDE_lADOABII585QdehDzwAAAAH3negc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8449288220",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-06T16:21:17Z"
    },
    {
      "event": "commented",
      "id": 1419356885,
      "node_id": "IC_kwDOABII585UmarV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419356885",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-06T16:21:29Z",
      "updated_at": "2023-02-06T16:21:29Z",
      "author_association": "MEMBER",
      "body": "> I'm evaluating the scope,\r\n\r\nOk. Moved to draft for now, given it's currently a work in progress. Feel free to undraft when you've decided on a scope, rebased, answered outstanding queries etc.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1419356885",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "commented",
      "id": 1521607657,
      "node_id": "IC_kwDOABII585asePp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1521607657",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-25T11:10:06Z",
      "updated_at": "2023-04-25T11:10:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Closing temporarily so that I can re-open it -- am still interested to finish this.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#issuecomment-1521607657",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25923"
    },
    {
      "event": "closed",
      "id": 9091095871,
      "node_id": "CE_lADOABII585QdehDzwAAAAId3x0_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9091095871",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-25T11:11:10Z"
    },
    {
      "event": "locked",
      "id": 12591348571,
      "node_id": "LOE_lADOABII585QdehDzwAAAALugLtb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12591348571",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-24T12:44:25Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955740987",
      "pull_request_review_id": 1086526152,
      "id": 955740987,
      "node_id": "PRRC_kwDOABII584493M7",
      "diff_hunk": "@@ -642,7 +642,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         \"  send     Time since last message sent to the peer, in seconds\\n\"\n         \"  recv     Time since last message received from the peer, in seconds\\n\"\n         \"  txn      Time since last novel transaction received from the peer and accepted into our mempool, in minutes\\n\"\n-        \"           \\\"*\\\" - the peer requested we not relay transactions to it (relaytxes is false)\\n\"\n+        \"           \\\"*\\\" - the peer did not request that we relay transactions to it (relaytxes is false)\\n\"",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think this change is more accurate. `relaytxes` is false only when either a peer explicitly requests tx relay to be disabled (via setting the `fRelay` flag added in BIP 37 to false), or when we decide that an outgoing connection should be block-relay-only, in which case we ignore any request from it to relay transactions. Saying \"whether we will relay txs with this peer\" might be more accurate though.",
      "created_at": "2022-08-26T07:25:41Z",
      "updated_at": "2022-08-26T07:47:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r955740987",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955740987"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 645,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955744792",
      "pull_request_review_id": 1086526152,
      "id": 955744792,
      "node_id": "PRRC_kwDOABII584494IY",
      "diff_hunk": "@@ -478,7 +478,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n             const int8_t network_id{NetworkStringToId(network)};\n             if (network_id == UNKNOWN_NETWORK) continue;\n             const bool is_outbound{!peer[\"inbound\"].get_bool()};\n-            const bool is_tx_relay{peer[\"relaytxes\"].isNull() ? true : peer[\"relaytxes\"].get_bool()};",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "068cd21e9242f2231a21c2394184207ce2da293a",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`bitcoin-cli` could be being used with an older version of `bitcoind`, no? I think `get_bool` treats null as `false`, but I think `getInt` will throw. Probably not an issue if only unreleased versions of `bitcoind` treated these values as optional though.",
      "created_at": "2022-08-26T07:30:00Z",
      "updated_at": "2022-08-26T07:47:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r955744792",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955744792"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 481,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955763613",
      "pull_request_review_id": 1086558339,
      "id": 955763613,
      "node_id": "PRRC_kwDOABII584498ud",
      "diff_hunk": "@@ -478,7 +478,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n             const int8_t network_id{NetworkStringToId(network)};\n             if (network_id == UNKNOWN_NETWORK) continue;\n             const bool is_outbound{!peer[\"inbound\"].get_bool()};\n-            const bool is_tx_relay{peer[\"relaytxes\"].isNull() ? true : peer[\"relaytxes\"].get_bool()};",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "068cd21e9242f2231a21c2394184207ce2da293a",
      "in_reply_to_id": 955744792,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think we support arbitrary version combinations of bitcoin-cli and the rpc server? The only official supported combination is the one where both are built from the exact same commit hash.",
      "created_at": "2022-08-26T07:53:00Z",
      "updated_at": "2022-08-26T07:53:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r955763613",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955763613"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 481,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956495113",
      "pull_request_review_id": 1087585618,
      "id": 956495113,
      "node_id": "PRRC_kwDOABII5845AvUJ",
      "diff_hunk": "@@ -1459,50 +1459,52 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;",
      "path": "src/net_processing.cpp",
      "position": 60,
      "original_position": 48,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Concept ACK to returning partial data rather than none at all.",
      "created_at": "2022-08-26T23:21:07Z",
      "updated_at": "2022-08-26T23:22:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r956495113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956495113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1576,
      "original_line": 1576,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956495436",
      "pull_request_review_id": 1087585618,
      "id": 956495436,
      "node_id": "PRRC_kwDOABII5845AvZM",
      "diff_hunk": "@@ -1192,31 +1193,15 @@ void RPCConsole::updateDetailWidget()\n         ui->peerPermissions->setText(permissions.join(\" & \"));\n     }\n     ui->peerMappedAS->setText(stats->nodeStats.m_mapped_as != 0 ? QString::number(stats->nodeStats.m_mapped_as) : ts.na);\n-\n-    // This check fails for example if the lock was busy and\n-    // nodeStateStats couldn't be fetched.\n-    if (stats->fNodeStateStatsAvailable) {\n-        ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.their_services));\n-        // Sync height is init to -1\n-        if (stats->nodeStateStats.nSyncHeight > -1) {\n-            ui->peerSyncHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nSyncHeight));\n-        } else {\n-            ui->peerSyncHeight->setText(ts.unknown);\n-        }\n-        // Common height is init to -1\n-        if (stats->nodeStateStats.nCommonHeight > -1) {\n-            ui->peerCommonHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nCommonHeight));\n-        } else {\n-            ui->peerCommonHeight->setText(ts.unknown);\n-        }\n-        ui->peerHeight->setText(QString::number(stats->nodeStateStats.m_starting_height));\n-        ui->peerPingWait->setText(GUIUtil::formatPingTime(stats->nodeStateStats.m_ping_wait));\n-        ui->peerAddrRelayEnabled->setText(stats->nodeStateStats.m_addr_relay_enabled ? ts.yes : ts.no);\n-        ui->peerAddrProcessed->setText(QString::number(stats->nodeStateStats.m_addr_processed));\n-        ui->peerAddrRateLimited->setText(QString::number(stats->nodeStateStats.m_addr_rate_limited));\n-        ui->peerRelayTxes->setText(stats->nodeStateStats.m_relay_txs ? ts.yes : ts.no);\n-    }\n-\n+    ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.m_services));",
      "path": "src/qt/rpcconsole.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Concept NACK to displaying incorrect data when data is not available.",
      "created_at": "2022-08-26T23:22:33Z",
      "updated_at": "2022-08-26T23:22:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r956495436",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956495436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1196,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958940815",
      "pull_request_review_id": 1090982625,
      "id": 958940815,
      "node_id": "PRRC_kwDOABII5845KEaP",
      "diff_hunk": "@@ -1192,31 +1193,15 @@ void RPCConsole::updateDetailWidget()\n         ui->peerPermissions->setText(permissions.join(\" & \"));\n     }\n     ui->peerMappedAS->setText(stats->nodeStats.m_mapped_as != 0 ? QString::number(stats->nodeStats.m_mapped_as) : ts.na);\n-\n-    // This check fails for example if the lock was busy and\n-    // nodeStateStats couldn't be fetched.\n-    if (stats->fNodeStateStatsAvailable) {\n-        ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.their_services));\n-        // Sync height is init to -1\n-        if (stats->nodeStateStats.nSyncHeight > -1) {\n-            ui->peerSyncHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nSyncHeight));\n-        } else {\n-            ui->peerSyncHeight->setText(ts.unknown);\n-        }\n-        // Common height is init to -1\n-        if (stats->nodeStateStats.nCommonHeight > -1) {\n-            ui->peerCommonHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nCommonHeight));\n-        } else {\n-            ui->peerCommonHeight->setText(ts.unknown);\n-        }\n-        ui->peerHeight->setText(QString::number(stats->nodeStateStats.m_starting_height));\n-        ui->peerPingWait->setText(GUIUtil::formatPingTime(stats->nodeStateStats.m_ping_wait));\n-        ui->peerAddrRelayEnabled->setText(stats->nodeStateStats.m_addr_relay_enabled ? ts.yes : ts.no);\n-        ui->peerAddrProcessed->setText(QString::number(stats->nodeStateStats.m_addr_processed));\n-        ui->peerAddrRateLimited->setText(QString::number(stats->nodeStateStats.m_addr_rate_limited));\n-        ui->peerRelayTxes->setText(stats->nodeStateStats.m_relay_txs ? ts.yes : ts.no);\n-    }\n-\n+    ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.m_services));",
      "path": "src/qt/rpcconsole.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "in_reply_to_id": 956495436,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done for the GUI\r\n```diff\r\n--- a/src/qt/guiutil.cpp\r\n+++ b/src/qt/guiutil.cpp\r\n@@ -748,7 +748,7 @@ QString formatServicesStr(quint64 mask)\r\n     if (strList.size())\r\n         return strList.join(\", \");\r\n     else\r\n-        return QObject::tr(\"None\");\r\n+        return QObject::tr(\"Unknown\");\r\n }\r\n```\r\nand left (for now) the RPC getpeerinfo behavior as it is currently, i.e. unchanged\r\n```\r\n    \"services\": \"0000000000000000\",\r\n    \"servicesnames\": [\r\n    ],\r\n```\r\n",
      "created_at": "2022-08-30T21:22:23Z",
      "updated_at": "2022-08-30T21:22:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r958940815",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958940815"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1196,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958944869",
      "pull_request_review_id": 1090988551,
      "id": 958944869,
      "node_id": "PRRC_kwDOABII5845KFZl",
      "diff_hunk": "@@ -478,7 +478,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n             const int8_t network_id{NetworkStringToId(network)};\n             if (network_id == UNKNOWN_NETWORK) continue;\n             const bool is_outbound{!peer[\"inbound\"].get_bool()};\n-            const bool is_tx_relay{peer[\"relaytxes\"].isNull() ? true : peer[\"relaytxes\"].get_bool()};",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "068cd21e9242f2231a21c2394184207ce2da293a",
      "in_reply_to_id": 955744792,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, for the moment the newly frequently missing fields are not in a release.\r\n\r\n`get_bool` and `getInt` both throw on null with `error: JSON value of type null is not of expected type {bool|number}`, which can be seen with a snippet like this added to a CLI or RPC.\r\n\r\n```cpp\r\nconst UniValue x = UniValue();\r\nassert (x.isNull());\r\n// auto y = x.get_bool();        // uncomment to throw\r\n// auto z = x.getInt<int64_t>(); // uncomment to throw\r\n```\r\n",
      "created_at": "2022-08-30T21:27:40Z",
      "updated_at": "2022-08-30T21:27:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r958944869",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958944869"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 481,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958947015",
      "pull_request_review_id": 1090991135,
      "id": 958947015,
      "node_id": "PRRC_kwDOABII5845KF7H",
      "diff_hunk": "@@ -642,7 +642,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         \"  send     Time since last message sent to the peer, in seconds\\n\"\n         \"  recv     Time since last message received from the peer, in seconds\\n\"\n         \"  txn      Time since last novel transaction received from the peer and accepted into our mempool, in minutes\\n\"\n-        \"           \\\"*\\\" - the peer requested we not relay transactions to it (relaytxes is false)\\n\"\n+        \"           \\\"*\\\" - the peer did not request that we relay transactions to it (relaytxes is false)\\n\"",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "in_reply_to_id": 955740987,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, \"whether we relay transactions to this peer\" SGTM.",
      "created_at": "2022-08-30T21:30:26Z",
      "updated_at": "2022-08-30T21:31:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r958947015",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958947015"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 645,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/959438503",
      "pull_request_review_id": 1091678829,
      "id": 959438503,
      "node_id": "PRRC_kwDOABII5845L96n",
      "diff_hunk": "@@ -642,7 +642,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         \"  send     Time since last message sent to the peer, in seconds\\n\"\n         \"  recv     Time since last message received from the peer, in seconds\\n\"\n         \"  txn      Time since last novel transaction received from the peer and accepted into our mempool, in minutes\\n\"\n-        \"           \\\"*\\\" - the peer requested we not relay transactions to it (relaytxes is false)\\n\"\n+        \"           \\\"*\\\" - the peer did not request that we relay transactions to it (relaytxes is false)\\n\"",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "7ee6f766530129a79aba2b0738db2c9e4ae64e56",
      "in_reply_to_id": 955740987,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated both the getpeerinfo and the -netinfo help docs.",
      "created_at": "2022-08-31T10:48:19Z",
      "updated_at": "2022-08-31T10:48:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r959438503",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/959438503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 645,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/959584173",
      "pull_request_review_id": 1091882985,
      "id": 959584173,
      "node_id": "PRRC_kwDOABII5845Mhet",
      "diff_hunk": "@@ -114,7 +114,7 @@ static RPCHelpMan getpeerinfo()\n                     {\n                         {RPCResult::Type::STR, \"SERVICE_NAME\", \"the service name if it is recognised\"}\n                     }},\n-                    {RPCResult::Type::BOOL, \"relaytxes\", /*optional=*/true, \"Whether peer has asked us to relay transactions to it\"},\n+                    {RPCResult::Type::BOOL, \"relaytxes\", \"Whether we relay transactions to this peer\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "cdad951abf73650a9b49dd038ecbcc96ebf9bc0f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in cdad951abf73650a9b49dd038ecbcc96ebf9bc0f: I think the doxygen for `m_relay_txs` should also be updated for the same reason. Otherwise it is not clear why you are changing this.",
      "created_at": "2022-08-31T13:25:56Z",
      "updated_at": "2022-08-31T13:25:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r959584173",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/959584173"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/959750704",
      "pull_request_review_id": 1092120809,
      "id": 959750704,
      "node_id": "PRRC_kwDOABII5845NKIw",
      "diff_hunk": "@@ -114,7 +114,7 @@ static RPCHelpMan getpeerinfo()\n                     {\n                         {RPCResult::Type::STR, \"SERVICE_NAME\", \"the service name if it is recognised\"}\n                     }},\n-                    {RPCResult::Type::BOOL, \"relaytxes\", /*optional=*/true, \"Whether peer has asked us to relay transactions to it\"},\n+                    {RPCResult::Type::BOOL, \"relaytxes\", \"Whether we relay transactions to this peer\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "cdad951abf73650a9b49dd038ecbcc96ebf9bc0f",
      "in_reply_to_id": 959584173,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good idea, done.",
      "created_at": "2022-08-31T15:47:53Z",
      "updated_at": "2022-08-31T15:47:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r959750704",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/959750704"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960312397",
      "pull_request_review_id": 1092901754,
      "id": 960312397,
      "node_id": "PRRC_kwDOABII5845PTRN",
      "diff_hunk": "@@ -114,7 +114,7 @@ static RPCHelpMan getpeerinfo()\n                     {\n                         {RPCResult::Type::STR, \"SERVICE_NAME\", \"the service name if it is recognised\"}\n                     }},\n-                    {RPCResult::Type::BOOL, \"relaytxes\", /*optional=*/true, \"Whether peer has asked us to relay transactions to it\"},\n+                    {RPCResult::Type::BOOL, \"relaytxes\", \"Whether we relay transactions to this peer\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "cdad951abf73650a9b49dd038ecbcc96ebf9bc0f",
      "in_reply_to_id": 959584173,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> done\r\n\r\nNo?",
      "created_at": "2022-09-01T07:31:11Z",
      "updated_at": "2022-09-01T07:31:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r960312397",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960312397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960457580",
      "pull_request_review_id": 1093110069,
      "id": 960457580,
      "node_id": "PRRC_kwDOABII5845P2ts",
      "diff_hunk": "@@ -114,7 +114,7 @@ static RPCHelpMan getpeerinfo()\n                     {\n                         {RPCResult::Type::STR, \"SERVICE_NAME\", \"the service name if it is recognised\"}\n                     }},\n-                    {RPCResult::Type::BOOL, \"relaytxes\", /*optional=*/true, \"Whether peer has asked us to relay transactions to it\"},\n+                    {RPCResult::Type::BOOL, \"relaytxes\", \"Whether we relay transactions to this peer\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "cdad951abf73650a9b49dd038ecbcc96ebf9bc0f",
      "in_reply_to_id": 959584173,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, pushed",
      "created_at": "2022-09-01T09:59:41Z",
      "updated_at": "2022-09-01T09:59:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r960457580",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960457580"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960463221",
      "pull_request_review_id": 1093118164,
      "id": 960463221,
      "node_id": "PRRC_kwDOABII5845P4F1",
      "diff_hunk": "@@ -478,7 +478,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n             const int8_t network_id{NetworkStringToId(network)};\n             if (network_id == UNKNOWN_NETWORK) continue;\n             const bool is_outbound{!peer[\"inbound\"].get_bool()};\n-            const bool is_tx_relay{peer[\"relaytxes\"].isNull() ? true : peer[\"relaytxes\"].get_bool()};",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "068cd21e9242f2231a21c2394184207ce2da293a",
      "in_reply_to_id": 955744792,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> `bitcoin-cli` could be being used with an older version of `bitcoind`, no?\r\n\r\nCircling back to this, as I have heard in the past from people using a recent -netinfo with nodes that have been up since an earlier release. Updated the minimum server check in -netinfo from v21 to v22, the last version that should be backward compatible (due to bitcoin core adding the addr_* fields in v22 used in -netinfo) and kept the null checks to maintain backward compatibility.",
      "created_at": "2022-09-01T10:05:53Z",
      "updated_at": "2022-09-02T22:21:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r960463221",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960463221"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 481,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960923852",
      "pull_request_review_id": 1093800561,
      "id": 960923852,
      "node_id": "PRRC_kwDOABII5845RojM",
      "diff_hunk": "@@ -168,29 +168,25 @@ class NodeImpl : public Node\n     bool getNodesStats(NodesStats& stats) override",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 1,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "f9fb72e07ee53d5148e27bd6503806235e533afe",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Couldn't we change this function to return `NodeStats` instead of `bool`. Seems odd the first thing we do here is `clear` the `stats`. ",
      "created_at": "2022-09-01T17:27:33Z",
      "updated_at": "2022-09-01T17:27:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r960923852",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960923852"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960972970",
      "pull_request_review_id": 1093866236,
      "id": 960972970,
      "node_id": "PRRC_kwDOABII5845R0iq",
      "diff_hunk": "@@ -168,29 +168,25 @@ class NodeImpl : public Node\n     bool getNodesStats(NodesStats& stats) override",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 1,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "f9fb72e07ee53d5148e27bd6503806235e533afe",
      "in_reply_to_id": 960923852,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good observation! Done.",
      "created_at": "2022-09-01T18:19:47Z",
      "updated_at": "2022-09-01T18:19:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r960972970",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960972970"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963649209",
      "pull_request_review_id": 1097503013,
      "id": 963649209,
      "node_id": "PRRC_kwDOABII5845cB65",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;\n+    }\n+    stats.m_services = peer->m_their_services;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }\n-\n     if (auto tx_relay = peer->GetTxRelay(); tx_relay != nullptr) {\n         stats.m_relay_txs = WITH_LOCK(tx_relay->m_bloom_filter_mutex, return tx_relay->m_relay_txs);\n         stats.m_fee_filter_received = tx_relay->m_fee_filter_received.load();\n-    } else {\n-        stats.m_relay_txs = false;\n-        stats.m_fee_filter_received = 0;\n     }\n-\n-    stats.m_ping_wait = ping_wait;\n     stats.m_addr_processed = peer->m_addr_processed.load();\n     stats.m_addr_rate_limited = peer->m_addr_rate_limited.load();\n     stats.m_addr_relay_enabled = peer->m_addr_relay_enabled.load();\n     {\n         LOCK(peer->m_headers_sync_mutex);\n-        if (peer->m_headers_sync) {\n-            stats.presync_height = peer->m_headers_sync->GetPresyncHeight();\n-        }\n+        stats.m_presync_height = peer->m_headers_sync ? peer->m_headers_sync->GetPresyncHeight() : -1;",
      "path": "src/net_processing.cpp",
      "position": 95,
      "original_position": 104,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`m_presync_height` is `std::optional` but here we unconditionally assign a value to it and also use the dummy `-1`. Maybe revert this hunk?",
      "created_at": "2022-09-06T12:33:21Z",
      "updated_at": "2022-09-06T13:41:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r963649209",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963649209"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 1594,
      "original_start_line": 1593,
      "start_side": "LEFT",
      "line": 1600,
      "original_line": 1600,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963656857",
      "pull_request_review_id": 1097503013,
      "id": 963656857,
      "node_id": "PRRC_kwDOABII5845cDyZ",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;\n+    }\n+    stats.m_services = peer->m_their_services;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }",
      "path": "src/net_processing.cpp",
      "position": 76,
      "original_position": 85,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If we don't assign to `m_ping_wait` here it would remain the default-constructed `0s`. Is it not better to change it to be `std::optional` and avoid the dummy default? That is, if we never sent a ping, the ping wait metric is meaningless. Also, the dummy value of `0` could in theory, I guess, overlap with a real value.",
      "created_at": "2022-09-06T12:40:50Z",
      "updated_at": "2022-09-06T13:41:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r963656857",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963656857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 1588,
      "original_start_line": 1587,
      "start_side": "RIGHT",
      "line": 1590,
      "original_line": 1590,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963680465",
      "pull_request_review_id": 1097503013,
      "id": 963680465,
      "node_id": "PRRC_kwDOABII5845cJjR",
      "diff_hunk": "@@ -748,7 +748,7 @@ QString formatServicesStr(quint64 mask)\n     if (strList.size())\n         return strList.join(\", \");\n     else\n-        return QObject::tr(\"None\");\n+        return QObject::tr(\"Unknown\");",
      "path": "src/qt/guiutil.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I am not sure about this change. If we are here, then `mask` is `0` aka `ServiceFlags::NODE_NONE`. Does not \"None\" describe it better?",
      "created_at": "2022-09-06T13:02:35Z",
      "updated_at": "2022-09-06T13:41:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r963680465",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963680465"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 751,
      "original_start_line": 751,
      "start_side": "LEFT",
      "line": 751,
      "original_line": 751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963695601",
      "pull_request_review_id": 1097503013,
      "id": 963695601,
      "node_id": "PRRC_kwDOABII5845cNPx",
      "diff_hunk": "@@ -1192,31 +1193,15 @@ void RPCConsole::updateDetailWidget()\n         ui->peerPermissions->setText(permissions.join(\" & \"));\n     }\n     ui->peerMappedAS->setText(stats->nodeStats.m_mapped_as != 0 ? QString::number(stats->nodeStats.m_mapped_as) : ts.na);\n-\n-    // This check fails for example if the lock was busy and\n-    // nodeStateStats couldn't be fetched.\n-    if (stats->fNodeStateStatsAvailable) {\n-        ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.their_services));\n-        // Sync height is init to -1\n-        if (stats->nodeStateStats.nSyncHeight > -1) {\n-            ui->peerSyncHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nSyncHeight));\n-        } else {\n-            ui->peerSyncHeight->setText(ts.unknown);\n-        }\n-        // Common height is init to -1\n-        if (stats->nodeStateStats.nCommonHeight > -1) {\n-            ui->peerCommonHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nCommonHeight));\n-        } else {\n-            ui->peerCommonHeight->setText(ts.unknown);\n-        }\n-        ui->peerHeight->setText(QString::number(stats->nodeStateStats.m_starting_height));\n-        ui->peerPingWait->setText(GUIUtil::formatPingTime(stats->nodeStateStats.m_ping_wait));\n-        ui->peerAddrRelayEnabled->setText(stats->nodeStateStats.m_addr_relay_enabled ? ts.yes : ts.no);\n-        ui->peerAddrProcessed->setText(QString::number(stats->nodeStateStats.m_addr_processed));\n-        ui->peerAddrRateLimited->setText(QString::number(stats->nodeStateStats.m_addr_rate_limited));\n-        ui->peerRelayTxes->setText(stats->nodeStateStats.m_relay_txs ? ts.yes : ts.no);\n-    }\n-\n+    ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.m_services));",
      "path": "src/qt/rpcconsole.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What about making `stats->nodeStateStats.m_services` `std::optional` and here do `x.has_value() ? ... : \"Unknown\")`? Otherwise we seem to be abusing a real value `NODE_NONE` (no services) as a dummy \"we don't know/has no value\".",
      "created_at": "2022-09-06T13:16:18Z",
      "updated_at": "2022-09-06T13:41:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r963695601",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963695601"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1196,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963722500",
      "pull_request_review_id": 1097503013,
      "id": 963722500,
      "node_id": "PRRC_kwDOABII5845cT0E",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe this is ok, but somehow this feels wrong - in this case we have no stats at all. We return a `CNodeStateStats` object that has some fields `std::optional` without a value which is ok, but the other fields are not optional and have actual value, implying they are actual real stats, not dummies aka \"no value/we don't know\".\r\n\r\nMaybe change all fields to `std::optional` or return `std::optional<CNodeStateStats>` from here? ~~Same in `getNodeStats()` if connman is missing.~~ Edit: then it would return empty vector which is ok.",
      "created_at": "2022-09-06T13:39:46Z",
      "updated_at": "2022-09-06T15:00:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r963722500",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963722500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": 1554,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1559,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968143646",
      "pull_request_review_id": 1103703357,
      "id": 968143646,
      "node_id": "PRRC_kwDOABII5845tLMe",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;\n+    }\n+    stats.m_services = peer->m_their_services;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }\n-\n     if (auto tx_relay = peer->GetTxRelay(); tx_relay != nullptr) {\n         stats.m_relay_txs = WITH_LOCK(tx_relay->m_bloom_filter_mutex, return tx_relay->m_relay_txs);\n         stats.m_fee_filter_received = tx_relay->m_fee_filter_received.load();\n-    } else {\n-        stats.m_relay_txs = false;\n-        stats.m_fee_filter_received = 0;\n     }\n-\n-    stats.m_ping_wait = ping_wait;\n     stats.m_addr_processed = peer->m_addr_processed.load();\n     stats.m_addr_rate_limited = peer->m_addr_rate_limited.load();\n     stats.m_addr_relay_enabled = peer->m_addr_relay_enabled.load();\n     {\n         LOCK(peer->m_headers_sync_mutex);\n-        if (peer->m_headers_sync) {\n-            stats.presync_height = peer->m_headers_sync->GetPresyncHeight();\n-        }\n+        stats.m_presync_height = peer->m_headers_sync ? peer->m_headers_sync->GetPresyncHeight() : -1;",
      "path": "src/net_processing.cpp",
      "position": 95,
      "original_position": 104,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963649209,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe this branch maintains the current behavior for this field (correct me if I'm wrong), as it was member-initialized to -1 in the CNodeStateStats struct but only returned in the RPC if the peer was set up.",
      "created_at": "2022-09-12T08:43:51Z",
      "updated_at": "2022-09-12T08:43:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r968143646",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968143646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 1594,
      "original_start_line": 1593,
      "start_side": "LEFT",
      "line": 1600,
      "original_line": 1600,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968150669",
      "pull_request_review_id": 1103713165,
      "id": 968150669,
      "node_id": "PRRC_kwDOABII5845tM6N",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;\n+    }\n+    stats.m_services = peer->m_their_services;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }",
      "path": "src/net_processing.cpp",
      "position": 76,
      "original_position": 85,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963656857,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "SGTM, done",
      "created_at": "2022-09-12T08:50:44Z",
      "updated_at": "2022-09-12T10:44:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r968150669",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968150669"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 1588,
      "original_start_line": 1587,
      "start_side": "RIGHT",
      "line": 1590,
      "original_line": 1590,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968283971",
      "pull_request_review_id": 1103902495,
      "id": 968283971,
      "node_id": "PRRC_kwDOABII5845ttdD",
      "diff_hunk": "@@ -1192,31 +1193,15 @@ void RPCConsole::updateDetailWidget()\n         ui->peerPermissions->setText(permissions.join(\" & \"));\n     }\n     ui->peerMappedAS->setText(stats->nodeStats.m_mapped_as != 0 ? QString::number(stats->nodeStats.m_mapped_as) : ts.na);\n-\n-    // This check fails for example if the lock was busy and\n-    // nodeStateStats couldn't be fetched.\n-    if (stats->fNodeStateStatsAvailable) {\n-        ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.their_services));\n-        // Sync height is init to -1\n-        if (stats->nodeStateStats.nSyncHeight > -1) {\n-            ui->peerSyncHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nSyncHeight));\n-        } else {\n-            ui->peerSyncHeight->setText(ts.unknown);\n-        }\n-        // Common height is init to -1\n-        if (stats->nodeStateStats.nCommonHeight > -1) {\n-            ui->peerCommonHeight->setText(QString(\"%1\").arg(stats->nodeStateStats.nCommonHeight));\n-        } else {\n-            ui->peerCommonHeight->setText(ts.unknown);\n-        }\n-        ui->peerHeight->setText(QString::number(stats->nodeStateStats.m_starting_height));\n-        ui->peerPingWait->setText(GUIUtil::formatPingTime(stats->nodeStateStats.m_ping_wait));\n-        ui->peerAddrRelayEnabled->setText(stats->nodeStateStats.m_addr_relay_enabled ? ts.yes : ts.no);\n-        ui->peerAddrProcessed->setText(QString::number(stats->nodeStateStats.m_addr_processed));\n-        ui->peerAddrRateLimited->setText(QString::number(stats->nodeStateStats.m_addr_rate_limited));\n-        ui->peerRelayTxes->setText(stats->nodeStateStats.m_relay_txs ? ts.yes : ts.no);\n-    }\n-\n+    ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.m_services));",
      "path": "src/qt/rpcconsole.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963695601,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-09-12T11:10:39Z",
      "updated_at": "2022-09-12T11:10:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r968283971",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968283971"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1196,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968286218",
      "pull_request_review_id": 1103905674,
      "id": 968286218,
      "node_id": "PRRC_kwDOABII5845tuAK",
      "diff_hunk": "@@ -748,7 +748,7 @@ QString formatServicesStr(quint64 mask)\n     if (strList.size())\n         return strList.join(\", \");\n     else\n-        return QObject::tr(\"None\");\n+        return QObject::tr(\"Unknown\");",
      "path": "src/qt/guiutil.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963680465,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, back to \"None\" here and using \"Unknown\" in `src/qt/rpcconsole.cpp` per https://github.com/bitcoin/bitcoin/pull/25923#discussion_r963695601, and which continues to satisfy https://github.com/bitcoin/bitcoin/pull/25923#discussion_r956495436.",
      "created_at": "2022-09-12T11:12:58Z",
      "updated_at": "2022-09-12T11:12:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r968286218",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968286218"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 751,
      "original_start_line": 751,
      "start_side": "LEFT",
      "line": 751,
      "original_line": 751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970561581",
      "pull_request_review_id": 1107131456,
      "id": 970561581,
      "node_id": "PRRC_kwDOABII58452Zgt",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963722500,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've added an explanatory comment. The idea is to return sensible defaults where it makes sense and simplifies the code (both ours and that of API clients). For instance, the \"addr_processed\" and \"addr_rate_limited\" fields are member-initialized to 0 and may as well be returned during set up, as the peer has processed and limited no addresses yet. Likewise, returning an \"inflight\" field with an empty array seems just as logical and makes life simpler for us and for clients, than sometimes not returning the field in the RPC response. For \"pingwait\" we are only interested in non-zero values so a default of zero makes sense, and so on. Can update if reviewers disagree.",
      "created_at": "2022-09-14T09:34:21Z",
      "updated_at": "2022-09-14T15:56:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r970561581",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970561581"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": 1554,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1559,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970806206",
      "pull_request_review_id": 1107481421,
      "id": 970806206,
      "node_id": "PRRC_kwDOABII58453VO-",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;\n+    }\n+    stats.m_services = peer->m_their_services;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }",
      "path": "src/net_processing.cpp",
      "position": 76,
      "original_position": 85,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963656857,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually, we are only interested in non-zero values for pingwait, so it would be simpler not to do this. What do you think?",
      "created_at": "2022-09-14T13:26:17Z",
      "updated_at": "2022-09-14T13:26:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r970806206",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970806206"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 1588,
      "original_start_line": 1587,
      "start_side": "RIGHT",
      "line": 1590,
      "original_line": 1590,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971005481",
      "pull_request_review_id": 1107784432,
      "id": 971005481,
      "node_id": "PRRC_kwDOABII58454F4p",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;\n+    }\n+    stats.m_services = peer->m_their_services;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }",
      "path": "src/net_processing.cpp",
      "position": 76,
      "original_position": 85,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963656857,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Reverted this change in the latest push at b5255ca75f.",
      "created_at": "2022-09-14T15:49:01Z",
      "updated_at": "2022-09-14T15:49:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r971005481",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971005481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 1588,
      "original_start_line": 1587,
      "start_side": "RIGHT",
      "line": 1590,
      "original_line": 1590,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974967125",
      "pull_request_review_id": 1113257240,
      "id": 974967125,
      "node_id": "PRRC_kwDOABII5846HNFV",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {",
      "path": "src/net_processing.cpp",
      "position": 33,
      "original_position": 24,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe I'm missing the context, but when would we expect to trigger this?\r\nIf this is called directly by user, why does it make sense to return defaults, rather than explicitly state the node is not found.",
      "created_at": "2022-09-20T07:11:26Z",
      "updated_at": "2022-09-20T07:11:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r974967125",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974967125"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1556,
      "original_line": 1556,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974971583",
      "pull_request_review_id": 1113263940,
      "id": 974971583,
      "node_id": "PRRC_kwDOABII5846HOK_",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            // Return member-initialized sensible defaults for the fields where\n+            // it makes sense and simplifies the code.\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.nSyncHeight = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.nCommonHeight = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n+            if (queue.pindex) {\n                 stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        // Peer is still being set up; return the stats that we do have.\n+        return stats;\n+    }\n     stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    if (peer->m_starting_height != -1) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is handling the two ways our code looks at `starting_height` unknown or something, which we create in b4bf7611d718e361dc7dea849550b3728da79136. Why not having one way? Switch to a new default if you wish, but having two different ones seems suboptimal.",
      "created_at": "2022-09-20T07:16:50Z",
      "updated_at": "2022-09-20T07:16:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r974971583",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974971583"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1578,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974974193",
      "pull_request_review_id": 1113267738,
      "id": 974974193,
      "node_id": "PRRC_kwDOABII5846HOzx",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            // Return member-initialized sensible defaults for the fields where\n+            // it makes sense and simplifies the code.\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.nSyncHeight = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.nCommonHeight = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n+            if (queue.pindex) {\n                 stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        // Peer is still being set up; return the stats that we do have.\n+        return stats;\n+    }\n     stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }\n-\n     if (auto tx_relay = peer->GetTxRelay(); tx_relay != nullptr) {\n         stats.m_relay_txs = WITH_LOCK(tx_relay->m_bloom_filter_mutex, return tx_relay->m_relay_txs);\n         stats.m_fee_filter_received = tx_relay->m_fee_filter_received.load();\n-    } else {\n-        stats.m_relay_txs = false;\n-        stats.m_fee_filter_received = 0;\n     }\n-\n-    stats.m_ping_wait = ping_wait;\n     stats.m_addr_processed = peer->m_addr_processed.load();\n     stats.m_addr_rate_limited = peer->m_addr_rate_limited.load();\n     stats.m_addr_relay_enabled = peer->m_addr_relay_enabled.load();\n     {\n         LOCK(peer->m_headers_sync_mutex);\n-        if (peer->m_headers_sync) {\n-            stats.presync_height = peer->m_headers_sync->GetPresyncHeight();\n-        }\n+        stats.presync_height = peer->m_headers_sync ? peer->m_headers_sync->GetPresyncHeight() : -1;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 84,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in b4bf7611d718e361dc7dea849550b3728da79136\r\n\r\nThis looks like a legacy (w.r.t this PR) approach where we don't rely on defaults. Why not?",
      "created_at": "2022-09-20T07:19:52Z",
      "updated_at": "2022-09-20T07:19:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r974974193",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974974193"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975070386",
      "pull_request_review_id": 1113404103,
      "id": 975070386,
      "node_id": "PRRC_kwDOABII5846HmSy",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {",
      "path": "src/net_processing.cpp",
      "position": 33,
      "original_position": 24,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 974967125,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for having a look.  This can be seen e.g. in the GUI Peers tab details area when the next three blocks fields display \"Unknown\" during the peer setup phase.\r\n\r\nThe idea is to return sensible defaults where it makes sense and potentially simplifies the code (both ours and that of API clients). For instance, the \"addr_processed\" and \"addr_rate_limited\" fields are member-initialized to 0 and may as well be returned during set up, as the peer has processed and limited no addresses yet. Likewise, returning an \"inflight\" field with an empty array seems just as logical and makes life simpler for us and for clients, than sometimes not returning the field in the RPC response. For \"pingwait\" we are only interested in non-zero values so a default of zero makes sense. For \"minfeefilter\" we need a default, and so on. \r\n\r\nWill update the documentation here as follows:\r\n```diff\r\n         if (state == nullptr) {\r\n-            // Return member-initialized sensible defaults for the fields where\r\n-            // it makes sense and simplifies the code.\r\n+            // Peer is still being set up; return member-initialized sensible defaults\r\n+            // for the node state fields where it makes sense and simplifies the code.\r\n             return stats;\r\n```",
      "created_at": "2022-09-20T08:52:45Z",
      "updated_at": "2022-09-20T08:52:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r975070386",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975070386"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1556,
      "original_line": 1556,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975114060",
      "pull_request_review_id": 1113466638,
      "id": 975114060,
      "node_id": "PRRC_kwDOABII5846Hw9M",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            // Return member-initialized sensible defaults for the fields where\n+            // it makes sense and simplifies the code.\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.nSyncHeight = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.nCommonHeight = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n+            if (queue.pindex) {\n                 stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        // Peer is still being set up; return the stats that we do have.\n+        return stats;\n+    }\n     stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    if (peer->m_starting_height != -1) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 974971583,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I didn't do that yet as it would extend the refactoring from `CNodeStateStats` into the `Peer` class to change `m_starting_height` from `std::atomic` to `std::optional` with a mutex, but might still do it once this PR becomes refactoring-only (the other changes have been unbundled).",
      "created_at": "2022-09-20T09:32:10Z",
      "updated_at": "2022-09-20T09:32:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r975114060",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975114060"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1578,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980912222",
      "pull_request_review_id": 1121502022,
      "id": 980912222,
      "node_id": "PRRC_kwDOABII5846d4he",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            // Return member-initialized sensible defaults for the fields where\n+            // it makes sense and simplifies the code.\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.nSyncHeight = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.nCommonHeight = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n+            if (queue.pindex) {\n                 stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        // Peer is still being set up; return the stats that we do have.\n+        return stats;\n+    }\n     stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }\n-\n     if (auto tx_relay = peer->GetTxRelay(); tx_relay != nullptr) {\n         stats.m_relay_txs = WITH_LOCK(tx_relay->m_bloom_filter_mutex, return tx_relay->m_relay_txs);\n         stats.m_fee_filter_received = tx_relay->m_fee_filter_received.load();\n-    } else {\n-        stats.m_relay_txs = false;\n-        stats.m_fee_filter_received = 0;\n     }\n-\n-    stats.m_ping_wait = ping_wait;\n     stats.m_addr_processed = peer->m_addr_processed.load();\n     stats.m_addr_rate_limited = peer->m_addr_rate_limited.load();\n     stats.m_addr_relay_enabled = peer->m_addr_relay_enabled.load();\n     {\n         LOCK(peer->m_headers_sync_mutex);\n-        if (peer->m_headers_sync) {\n-            stats.presync_height = peer->m_headers_sync->GetPresyncHeight();\n-        }\n+        stats.presync_height = peer->m_headers_sync ? peer->m_headers_sync->GetPresyncHeight() : -1;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 84,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 974974193,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So the new behavior is the following:\r\n- `nullptr` if peer==nullptr\r\n- `-1` if peer->m_headers_sync == nullptr\r\n- a real value otherwise\r\n\r\nIs this supposed to be straightforward to the user?",
      "created_at": "2022-09-27T08:15:45Z",
      "updated_at": "2022-09-27T08:15:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r980912222",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980912222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980927164",
      "pull_request_review_id": 1121523675,
      "id": 980927164,
      "node_id": "PRRC_kwDOABII5846d8K8",
      "diff_hunk": "@@ -24,18 +26,18 @@ static const bool DEFAULT_PEERBLOCKFILTERS = false;\n static const int DISCOURAGEMENT_THRESHOLD{100};\n \n struct CNodeStateStats {\n-    int nSyncHeight = -1;\n-    int nCommonHeight = -1;\n-    int m_starting_height = -1;\n-    std::chrono::microseconds m_ping_wait;\n+    std::optional<int> nSyncHeight;\n+    std::optional<int> nCommonHeight;\n+    std::optional<int> m_starting_height;\n+    std::chrono::microseconds m_ping_wait{0us};\n     std::vector<int> vHeightInFlight;\n-    bool m_relay_txs;\n-    CAmount m_fee_filter_received;\n+    bool m_relay_txs{false};",
      "path": "src/net_processing.h",
      "position": null,
      "original_position": 24,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why don't we make this optional? Seeing the peer is *not* relaying txs (although it just hasn't claimed it did) yet might be confusing.",
      "created_at": "2022-09-27T08:28:10Z",
      "updated_at": "2022-09-27T08:28:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r980927164",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980927164"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980939988",
      "pull_request_review_id": 1121542451,
      "id": 980939988,
      "node_id": "PRRC_kwDOABII5846d_TU",
      "diff_hunk": "@@ -24,18 +26,18 @@ static const bool DEFAULT_PEERBLOCKFILTERS = false;\n static const int DISCOURAGEMENT_THRESHOLD{100};\n \n struct CNodeStateStats {\n-    int nSyncHeight = -1;\n-    int nCommonHeight = -1;\n-    int m_starting_height = -1;\n-    std::chrono::microseconds m_ping_wait;\n+    std::optional<int> nSyncHeight;\n+    std::optional<int> nCommonHeight;\n+    std::optional<int> m_starting_height;\n+    std::chrono::microseconds m_ping_wait{0us};\n     std::vector<int> vHeightInFlight;\n-    bool m_relay_txs;\n-    CAmount m_fee_filter_received;\n+    bool m_relay_txs{false};",
      "path": "src/net_processing.h",
      "position": null,
      "original_position": 24,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 980927164,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I know you adjust the definition of this flag in later commits. I kinda still think `optional` before we know for sure would be better.",
      "created_at": "2022-09-27T08:38:12Z",
      "updated_at": "2022-09-27T08:38:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r980939988",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980939988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984462499",
      "pull_request_review_id": 1126630285,
      "id": 984462499,
      "node_id": "PRRC_kwDOABII5846rbSj",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            // Return member-initialized sensible defaults for the fields where\n+            // it makes sense and simplifies the code.\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.nSyncHeight = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.nCommonHeight = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n+            if (queue.pindex) {\n                 stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        // Peer is still being set up; return the stats that we do have.\n+        return stats;\n+    }\n     stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }\n-\n     if (auto tx_relay = peer->GetTxRelay(); tx_relay != nullptr) {\n         stats.m_relay_txs = WITH_LOCK(tx_relay->m_bloom_filter_mutex, return tx_relay->m_relay_txs);\n         stats.m_fee_filter_received = tx_relay->m_fee_filter_received.load();\n-    } else {\n-        stats.m_relay_txs = false;\n-        stats.m_fee_filter_received = 0;\n     }\n-\n-    stats.m_ping_wait = ping_wait;\n     stats.m_addr_processed = peer->m_addr_processed.load();\n     stats.m_addr_rate_limited = peer->m_addr_rate_limited.load();\n     stats.m_addr_relay_enabled = peer->m_addr_relay_enabled.load();\n     {\n         LOCK(peer->m_headers_sync_mutex);\n-        if (peer->m_headers_sync) {\n-            stats.presync_height = peer->m_headers_sync->GetPresyncHeight();\n-        }\n+        stats.presync_height = peer->m_headers_sync ? peer->m_headers_sync->GetPresyncHeight() : -1;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 84,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 974974193,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's not intended to be new behavior; will re-examine :)",
      "created_at": "2022-09-30T10:44:06Z",
      "updated_at": "2022-09-30T10:44:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r984462499",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984462499"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984462926",
      "pull_request_review_id": 1126630988,
      "id": 984462926,
      "node_id": "PRRC_kwDOABII5846rbZO",
      "diff_hunk": "@@ -24,18 +26,18 @@ static const bool DEFAULT_PEERBLOCKFILTERS = false;\n static const int DISCOURAGEMENT_THRESHOLD{100};\n \n struct CNodeStateStats {\n-    int nSyncHeight = -1;\n-    int nCommonHeight = -1;\n-    int m_starting_height = -1;\n-    std::chrono::microseconds m_ping_wait;\n+    std::optional<int> nSyncHeight;\n+    std::optional<int> nCommonHeight;\n+    std::optional<int> m_starting_height;\n+    std::chrono::microseconds m_ping_wait{0us};\n     std::vector<int> vHeightInFlight;\n-    bool m_relay_txs;\n-    CAmount m_fee_filter_received;\n+    bool m_relay_txs{false};",
      "path": "src/net_processing.h",
      "position": null,
      "original_position": 24,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 980927164,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There seems to be agree on making it optional; will do.",
      "created_at": "2022-09-30T10:44:46Z",
      "updated_at": "2022-09-30T10:44:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r984462926",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984462926"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1008306197",
      "pull_request_review_id": 1160418059,
      "id": 1008306197,
      "node_id": "PRRC_kwDOABII5848GYgV",
      "diff_hunk": "@@ -24,18 +26,18 @@ static const bool DEFAULT_PEERBLOCKFILTERS = false;\n static const int DISCOURAGEMENT_THRESHOLD{100};\n \n struct CNodeStateStats {\n-    int nSyncHeight = -1;\n-    int nCommonHeight = -1;\n-    int m_starting_height = -1;\n-    std::chrono::microseconds m_ping_wait;\n+    std::optional<int> nSyncHeight;\n+    std::optional<int> nCommonHeight;\n+    std::optional<int> m_starting_height;\n+    std::chrono::microseconds m_ping_wait{0us};\n     std::vector<int> vHeightInFlight;\n-    bool m_relay_txs;\n-    CAmount m_fee_filter_received;\n+    bool m_relay_txs{false};",
      "path": "src/net_processing.h",
      "position": null,
      "original_position": 24,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 980927164,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in latest (WIP) push.",
      "created_at": "2022-10-28T17:43:17Z",
      "updated_at": "2022-10-28T17:43:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1008306197",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1008306197"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1008307075",
      "pull_request_review_id": 1160419330,
      "id": 1008307075,
      "node_id": "PRRC_kwDOABII5848GYuD",
      "diff_hunk": "@@ -1546,56 +1546,60 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            // Return member-initialized sensible defaults for the fields where\n+            // it makes sense and simplifies the code.\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.nSyncHeight = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.nCommonHeight = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n+            if (queue.pindex) {\n                 stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        // Peer is still being set up; return the stats that we do have.\n+        return stats;\n+    }\n     stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    if (peer->m_starting_height != -1) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "b4bf7611d718e361dc7dea849550b3728da79136",
      "in_reply_to_id": 974971583,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I didn't do that yet as it would extend the refactoring from `CNodeStateStats` into the `Peer` class to change `m_starting_height` from `std::atomic` to `std::optional` with a mutex, but might still do it once this PR becomes refactoring-only (the other changes have been unbundled).\r\n\r\nStarted doing this in latest (WIP) push.",
      "created_at": "2022-10-28T17:44:29Z",
      "updated_at": "2022-10-28T17:44:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1008307075",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1008307075"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1578,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021539724",
      "pull_request_review_id": 1179105350,
      "id": 1021539724,
      "node_id": "PRRC_kwDOABII584843WM",
      "diff_hunk": "@@ -1546,56 +1549,57 @@ PeerRef PeerManagerImpl::RemovePeer(NodeId id)\n     return ret;\n }\n \n-bool PeerManagerImpl::GetNodeStateStats(NodeId nodeid, CNodeStateStats& stats) const\n+CNodeStateStats PeerManagerImpl::GetNodeStateStats(NodeId nodeid) const\n {\n+    CNodeStateStats stats;\n     {\n         LOCK(cs_main);\n         const CNodeState* state = State(nodeid);\n-        if (state == nullptr)\n-            return false;\n-        stats.nSyncHeight = state->pindexBestKnownBlock ? state->pindexBestKnownBlock->nHeight : -1;\n-        stats.nCommonHeight = state->pindexLastCommonBlock ? state->pindexLastCommonBlock->nHeight : -1;\n+        if (state == nullptr) {\n+            return stats;\n+        }\n+        if (state->pindexBestKnownBlock) {\n+            stats.m_sync_height = state->pindexBestKnownBlock->nHeight;\n+        }\n+        if (state->pindexLastCommonBlock) {\n+            stats.m_common_height = state->pindexLastCommonBlock->nHeight;\n+        }\n         for (const QueuedBlock& queue : state->vBlocksInFlight) {\n-            if (queue.pindex)\n-                stats.vHeightInFlight.push_back(queue.pindex->nHeight);\n+            if (queue.pindex) {\n+                stats.m_height_in_flight.push_back(queue.pindex->nHeight);\n+            }\n         }\n     }\n-\n-    PeerRef peer = GetPeerRef(nodeid);\n-    if (peer == nullptr) return false;\n-    stats.their_services = peer->m_their_services;\n-    stats.m_starting_height = peer->m_starting_height;\n+    const PeerRef peer = GetPeerRef(nodeid);\n+    if (peer == nullptr) {\n+        return stats;\n+    }\n+    stats.m_services = peer->m_their_services;\n+    if (peer->m_starting_height != -1) {\n+        stats.m_starting_height = peer->m_starting_height;\n+    }\n     // It is common for nodes with good ping times to suddenly become lagged,\n     // due to a new block arriving or other large transfer.\n     // Merely reporting pingtime might fool the caller into thinking the node was still responsive,\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    auto ping_wait{0us};\n     if ((0 != peer->m_ping_nonce_sent) && (0 != peer->m_ping_start.load().count())) {\n-        ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n+        stats.m_ping_wait = GetTime<std::chrono::microseconds>() - peer->m_ping_start.load();\n     }",
      "path": "src/net_processing.cpp",
      "position": 76,
      "original_position": 85,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "4b10c63dc2f5c894c07adc12926862783cda99b1",
      "in_reply_to_id": 963656857,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since the trend in this PR is to use `std::optional` it is odd to use the magic value `0` for `m_ping_wait`. Consider this change, which I think should be possible to be amended in bbd680d23e `p2p, rpc, qt: always provide CNodeStateStats, update getpeerinfo and gui` (not tested):\r\n\r\n```diff\r\ndiff --git i/src/net_processing.h w/src/net_processing.h\r\nindex 2d7068f4c8..50fbe679a2 100644\r\n--- i/src/net_processing.h\r\n+++ w/src/net_processing.h\r\n@@ -26,13 +26,13 @@ static const bool DEFAULT_PEERBLOCKFILTERS = false;\r\n static const int DISCOURAGEMENT_THRESHOLD{100};\r\n\r\n struct CNodeStateStats {\r\n     std::optional<int> m_sync_height;\r\n     std::optional<int> m_common_height;\r\n     std::optional<int> m_starting_height;\r\n-    std::chrono::microseconds m_ping_wait{0us};\r\n+    std::optional<std::chrono::microseconds> m_ping_wait;\r\n     std::vector<int> m_height_in_flight;\r\n     std::optional<bool> m_relay_txs{false};\r\n     CAmount m_fee_filter_received{0};\r\n     uint64_t m_addr_processed = 0;\r\n     uint64_t m_addr_rate_limited = 0;\r\n     bool m_addr_relay_enabled{false};\r\ndiff --git i/src/qt/guiutil.cpp w/src/qt/guiutil.cpp\r\nindex 10e1ea169a..6562308052 100644\r\n--- i/src/qt/guiutil.cpp\r\n+++ w/src/qt/guiutil.cpp\r\n@@ -750,13 +750,13 @@ QString formatServicesStr(quint64 mask)\r\n     else\r\n         return QObject::tr(\"Unknown\");\r\n }\r\n\r\n QString formatPingTime(std::chrono::microseconds ping_time)\r\n {\r\n-    return (ping_time == std::chrono::microseconds::max() || ping_time == 0us) ?\r\n+    return ping_time == std::chrono::microseconds::max() ?\r\n         QObject::tr(\"N/A\") :\r\n         QObject::tr(\"%1 ms\").arg(QString::number((int)(count_microseconds(ping_time) / 1000), 10));\r\n }\r\n\r\n QString formatTimeOffset(int64_t nTimeOffset)\r\n {\r\ndiff --git i/src/qt/rpcconsole.cpp w/src/qt/rpcconsole.cpp\r\nindex 49402b0264..088608397f 100644\r\n--- i/src/qt/rpcconsole.cpp\r\n+++ w/src/qt/rpcconsole.cpp\r\n@@ -1194,13 +1194,13 @@ void RPCConsole::updateDetailWidget()\r\n     }\r\n     ui->peerMappedAS->setText(stats->nodeStats.m_mapped_as != 0 ? QString::number(stats->nodeStats.m_mapped_as) : ts.na);\r\n     ui->peerServices->setText(stats->nodeStateStats.m_services.has_value() ? GUIUtil::formatServicesStr(stats->nodeStateStats.m_services.value()) : ts.unknown);\r\n     ui->peerSyncHeight->setText(stats->nodeStateStats.m_sync_height.has_value() ? QString(\"%1\").arg(stats->nodeStateStats.m_sync_height.value()) : ts.unknown);\r\n     ui->peerCommonHeight->setText(stats->nodeStateStats.m_common_height.has_value() ? QString(\"%1\").arg(stats->nodeStateStats.m_common_height.value()) : ts.unknown);\r\n     ui->peerHeight->setText(stats->nodeStateStats.m_starting_height.has_value() ? QString::number(stats->nodeStateStats.m_starting_height.value()) : ts.unknown);\r\n-    ui->peerPingWait->setText(GUIUtil::formatPingTime(stats->nodeStateStats.m_ping_wait));\r\n+    ui->peerPingWait->setText(stats->nodeStateStats.m_ping_wait.has_value() ? GUIUtil::formatPingTime(stats->nodeStateStats.m_ping_wait.value()) : QObject::tr(\"N/A\"));\r\n     ui->peerAddrRelayEnabled->setText(stats->nodeStateStats.m_addr_relay_enabled ? ts.yes : ts.no);\r\n     ui->peerAddrProcessed->setText(QString::number(stats->nodeStateStats.m_addr_processed));\r\n     ui->peerAddrRateLimited->setText(QString::number(stats->nodeStateStats.m_addr_rate_limited));\r\n     ui->peerRelayTxes->setText(stats->nodeStateStats.m_relay_txs ? ts.yes : ts.no);\r\n     ui->peersTabRightPanel->show();\r\n }\r\ndiff --git i/src/rpc/net.cpp w/src/rpc/net.cpp\r\nindex c688bd658f..bbfd88980d 100644\r\n--- i/src/rpc/net.cpp\r\n+++ w/src/rpc/net.cpp\r\n@@ -213,14 +213,14 @@ static RPCHelpMan getpeerinfo()\r\n         if (stats.m_last_ping_time > 0us) {\r\n             obj.pushKV(\"pingtime\", Ticks<SecondsDouble>(stats.m_last_ping_time));\r\n         }\r\n         if (stats.m_min_ping_time < std::chrono::microseconds::max()) {\r\n             obj.pushKV(\"minping\", Ticks<SecondsDouble>(stats.m_min_ping_time));\r\n         }\r\n-        if (statestats.m_ping_wait > 0s) {\r\n-            obj.pushKV(\"pingwait\", Ticks<SecondsDouble>(statestats.m_ping_wait));\r\n+        if (statestats.m_ping_wait.has_value()) {\r\n+            obj.pushKV(\"pingwait\", Ticks<SecondsDouble>(statestats.m_ping_wait.value()));\r\n         }\r\n         obj.pushKV(\"version\", stats.nVersion);\r\n         // Use the sanitized form of subver here, to avoid tricksy remote peers from\r\n         // corrupting or modifying the JSON output by putting special characters in\r\n         // their ver message.\r\n         obj.pushKV(\"subver\", stats.cleanSubVer);\r\n```\r\n",
      "created_at": "2022-11-14T13:25:21Z",
      "updated_at": "2022-11-14T13:25:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1021539724",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021539724"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 1588,
      "original_start_line": 1587,
      "start_side": "RIGHT",
      "line": 1590,
      "original_line": 1590,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021547710",
      "pull_request_review_id": 1179118592,
      "id": 1021547710,
      "node_id": "PRRC_kwDOABII584845S-",
      "diff_hunk": "@@ -24,18 +26,18 @@ static const bool DEFAULT_PEERBLOCKFILTERS = false;\n static const int DISCOURAGEMENT_THRESHOLD{100};\n \n struct CNodeStateStats {\n-    int nSyncHeight = -1;\n-    int nCommonHeight = -1;\n-    int m_starting_height = -1;\n-    std::chrono::microseconds m_ping_wait;\n-    std::vector<int> vHeightInFlight;\n-    bool m_relay_txs;\n-    CAmount m_fee_filter_received;\n+    std::optional<int> m_sync_height;\n+    std::optional<int> m_common_height;\n+    std::optional<int> m_starting_height;\n+    std::chrono::microseconds m_ping_wait{0us};\n+    std::vector<int> m_height_in_flight;\n+    std::optional<bool> m_relay_txs{false};",
      "path": "src/net_processing.h",
      "position": 25,
      "original_position": 25,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This will initialize the `m_relays_txs` so that it has a value. Given that we never assign an empty optional to it, this means that calls to `m_relay_txs.has_value()` will always be true and thus we don't need `std::optional` for it. Should it be something like this:\r\n\r\n```diff\r\ndiff --git i/src/net_processing.h w/src/net_processing.h\r\nindex 2d7068f4c8..55ff27c546 100644\r\n--- i/src/net_processing.h\r\n+++ w/src/net_processing.h\r\n@@ -28,13 +28,13 @@ static const int DISCOURAGEMENT_THRESHOLD{100};\r\n struct CNodeStateStats {\r\n     std::optional<int> m_sync_height;\r\n     std::optional<int> m_common_height;\r\n     std::optional<int> m_starting_height;\r\n     std::chrono::microseconds m_ping_wait{0us};\r\n     std::vector<int> m_height_in_flight;\r\n-    std::optional<bool> m_relay_txs{false};\r\n+    bool m_relay_txs{false};\r\n     CAmount m_fee_filter_received{0};\r\n     uint64_t m_addr_processed = 0;\r\n     uint64_t m_addr_rate_limited = 0;\r\n     bool m_addr_relay_enabled{false};\r\n     std::optional<ServiceFlags> m_services;\r\n     std::optional<int64_t> m_presync_height;\r\ndiff --git i/src/qt/rpcconsole.cpp w/src/qt/rpcconsole.cpp\r\nindex 49402b0264..270076a780 100644\r\n--- i/src/qt/rpcconsole.cpp\r\n+++ w/src/qt/rpcconsole.cpp\r\n@@ -1198,12 +1198,15 @@ void RPCConsole::updateDetailWidget()\r\n     ui->peerCommonHeight->setText(stats->nodeStateStats.m_common_height.has_value() ? QString(\"%1\").arg(stats->nodeStateStats.m_common_height.value()) : ts.unknown);\r\n     ui->peerHeight->setText(stats->nodeStateStats.m_starting_height.has_value() ? QString::number(stats->nodeStateStats.m_starting_height.value()) : ts.unknown);\r\n     ui->peerPingWait->setText(GUIUtil::formatPingTime(stats->nodeStateStats.m_ping_wait));\r\n     ui->peerAddrRelayEnabled->setText(stats->nodeStateStats.m_addr_relay_enabled ? ts.yes : ts.no);\r\n     ui->peerAddrProcessed->setText(QString::number(stats->nodeStateStats.m_addr_processed));\r\n     ui->peerAddrRateLimited->setText(QString::number(stats->nodeStateStats.m_addr_rate_limited));\r\n+    // if m_relay_txs is an optional that always has value, then this is equivalent to\r\n+    // m_relay_txs.has_value() ? ts.yes : ts.no\r\n+    // which will _always_ print ts.yes\r\n     ui->peerRelayTxes->setText(stats->nodeStateStats.m_relay_txs ? ts.yes : ts.no);\r\n     ui->peersTabRightPanel->show();\r\n }\r\n \r\n void RPCConsole::resizeEvent(QResizeEvent *event)\r\n {\r\ndiff --git i/src/rpc/net.cpp w/src/rpc/net.cpp\r\nindex c688bd658f..9f76f5e41d 100644\r\n--- i/src/rpc/net.cpp\r\n+++ w/src/rpc/net.cpp\r\n@@ -196,15 +196,13 @@ static RPCHelpMan getpeerinfo()\r\n         if (stats.m_mapped_as != 0) {\r\n             obj.pushKV(\"mapped_as\", uint64_t(stats.m_mapped_as));\r\n         }\r\n         const ServiceFlags services{statestats.m_services.has_value() ? statestats.m_services.value() : ServiceFlags::NODE_NONE};\r\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\r\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\r\n-        if (statestats.m_relay_txs.has_value()) {\r\n-            obj.pushKV(\"relaytxes\", statestats.m_relay_txs.value());\r\n-        }\r\n+        obj.pushKV(\"relaytxes\", statestats.m_relay_txs);\r\n         obj.pushKV(\"lastsend\", count_seconds(stats.m_last_send));\r\n         obj.pushKV(\"lastrecv\", count_seconds(stats.m_last_recv));\r\n         obj.pushKV(\"last_transaction\", count_seconds(stats.m_last_tx_time));\r\n         obj.pushKV(\"last_block\", count_seconds(stats.m_last_block_time));\r\n         obj.pushKV(\"bytessent\", stats.nSendBytes);\r\n         obj.pushKV(\"bytesrecv\", stats.nRecvBytes);\r\n```\r\n",
      "created_at": "2022-11-14T13:31:52Z",
      "updated_at": "2022-11-14T14:12:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1021547710",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021547710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 34,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021590238",
      "pull_request_review_id": 1179118592,
      "id": 1021590238,
      "node_id": "PRRC_kwDOABII58485Dre",
      "diff_hunk": "@@ -2866,7 +2870,7 @@ void PeerManagerImpl::ProcessHeadersMessage(CNode& pfrom, Peer& peer,\n         // Headers message had its maximum size; the peer may have more headers.\n         if (MaybeSendGetHeaders(pfrom, GetLocator(pindexLast), peer)) {\n             LogPrint(BCLog::NET, \"more getheaders (%d) to end to peer=%d (startheight:%d)\\n\",\n-                    pindexLast->nHeight, pfrom.GetId(), peer.m_starting_height);\n+                     pindexLast->nHeight, pfrom.GetId(), peer.m_starting_height.value());",
      "path": "src/net_processing.cpp",
      "position": 108,
      "original_position": 108,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If `m_starting_height` has no value the call to `value()` will throw an exception. I do not feel comfortable either assuming that it will always have value here (also considering future changes) or that throwing an exception is ok. Some of this code is surrounded by `try/catch` higher up, but we may move pieces of code around, possibly moving this printout elsewhere. Maybe do it more defensively:\r\n\r\n```cpp\r\nLogPrint(BCLog::NET, \"more getheaders (%d) to end to peer=%d%s\\n\",\r\n         pindexLast->nHeight,\r\n         pfrom.GetId(),\r\n         peer.m_starting_height.has_value() ? strprintf(\" (startheight:%d)\", peer.m_starting_height.value()) : \"\");\r\n```\r\n\r\n(here and in the other printouts)\r\n",
      "created_at": "2022-11-14T14:11:28Z",
      "updated_at": "2022-11-14T14:12:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1021590238",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021590238"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": 2872,
      "original_start_line": 2872,
      "start_side": "RIGHT",
      "line": 2873,
      "original_line": 2873,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1024593045",
      "pull_request_review_id": 1183452819,
      "id": 1024593045,
      "node_id": "PRRC_kwDOABII5849EgyV",
      "diff_hunk": "@@ -24,18 +26,18 @@ static const bool DEFAULT_PEERBLOCKFILTERS = false;\n static const int DISCOURAGEMENT_THRESHOLD{100};\n \n struct CNodeStateStats {\n-    int nSyncHeight = -1;\n-    int nCommonHeight = -1;\n-    int m_starting_height = -1;\n-    std::chrono::microseconds m_ping_wait;\n-    std::vector<int> vHeightInFlight;\n-    bool m_relay_txs;\n-    CAmount m_fee_filter_received;\n+    std::optional<int> m_sync_height;\n+    std::optional<int> m_common_height;\n+    std::optional<int> m_starting_height;\n+    std::chrono::microseconds m_ping_wait{0us};\n+    std::vector<int> m_height_in_flight;\n+    std::optional<bool> m_relay_txs{false};",
      "path": "src/net_processing.h",
      "position": 25,
      "original_position": 25,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "in_reply_to_id": 1021547710,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks @vasild! That was an oversight in my last WIP push, will update.",
      "created_at": "2022-11-16T23:04:59Z",
      "updated_at": "2022-11-16T23:04:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1024593045",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1024593045"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 34,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1025851428",
      "pull_request_review_id": 1185264732,
      "id": 1025851428,
      "node_id": "PRRC_kwDOABII5849JUAk",
      "diff_hunk": "@@ -168,29 +168,25 @@ class NodeImpl : public Node\n     bool getNodesStats(NodesStats& stats) override\n     {\n         stats.clear();\n+        if (!m_context->connman) return false;\n \n-        if (m_context->connman) {\n-            std::vector<CNodeStats> stats_temp;\n-            m_context->connman->GetNodeStats(stats_temp);\n-\n-            stats.reserve(stats_temp.size());\n-            for (auto& node_stats_temp : stats_temp) {\n-                stats.emplace_back(std::move(node_stats_temp), false, CNodeStateStats());\n-            }\n+        std::vector<CNodeStats> stats_temp;\n+        m_context->connman->GetNodeStats(stats_temp);\n \n+        stats.reserve(stats_temp.size());\n+        for (auto& s : stats_temp) {\n+            stats.emplace_back(std::move(s), CNodeStateStats());\n+        }\n+        if (m_context->peerman) {\n             // Try to retrieve the CNodeStateStats for each node.\n-            if (m_context->peerman) {\n-                TRY_LOCK(::cs_main, lockMain);\n-                if (lockMain) {\n-                    for (auto& node_stats : stats) {\n-                        std::get<1>(node_stats) =\n-                            m_context->peerman->GetNodeStateStats(std::get<0>(node_stats).nodeid, std::get<2>(node_stats));\n-                    }\n+            TRY_LOCK(::cs_main, lockMain);",
      "path": "src/node/interfaces.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "bbd680d23ef32dcc8dcc34a665245de2048a280d",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not finished with my review yet, but I think the changes to the GUI have a drawback:\r\n`TRY_LOCK` is used here in transmitting the info to the gui, meaning that we'll abort (and now return a default-initialized CNodeStateStats) if `cs_main` is not available.\r\nAs a result of this, when I run the GUI with this branch and open the Peers window the peer info sometimes changes to the default-initialized values (it's as if the screen \"flickers\"), and with the next refresh it's back to the old  (and correct) values.\r\nIf the node does something that's locking-intensive like IBD, the flickering becomes a lot more frequent and annoying.\r\nI think it might be better not to update the GUI fields if we can't get the lock, instead of returning a default-initialised object.",
      "created_at": "2022-11-17T23:54:08Z",
      "updated_at": "2022-11-18T05:31:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1025851428",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1025851428"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 182,
      "original_line": 182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1026115254",
      "pull_request_review_id": 1185625255,
      "id": 1026115254,
      "node_id": "PRRC_kwDOABII5849KUa2",
      "diff_hunk": "@@ -168,29 +168,25 @@ class NodeImpl : public Node\n     bool getNodesStats(NodesStats& stats) override\n     {\n         stats.clear();\n+        if (!m_context->connman) return false;\n \n-        if (m_context->connman) {\n-            std::vector<CNodeStats> stats_temp;\n-            m_context->connman->GetNodeStats(stats_temp);\n-\n-            stats.reserve(stats_temp.size());\n-            for (auto& node_stats_temp : stats_temp) {\n-                stats.emplace_back(std::move(node_stats_temp), false, CNodeStateStats());\n-            }\n+        std::vector<CNodeStats> stats_temp;\n+        m_context->connman->GetNodeStats(stats_temp);\n \n+        stats.reserve(stats_temp.size());\n+        for (auto& s : stats_temp) {\n+            stats.emplace_back(std::move(s), CNodeStateStats());\n+        }\n+        if (m_context->peerman) {\n             // Try to retrieve the CNodeStateStats for each node.\n-            if (m_context->peerman) {\n-                TRY_LOCK(::cs_main, lockMain);\n-                if (lockMain) {\n-                    for (auto& node_stats : stats) {\n-                        std::get<1>(node_stats) =\n-                            m_context->peerman->GetNodeStateStats(std::get<0>(node_stats).nodeid, std::get<2>(node_stats));\n-                    }\n+            TRY_LOCK(::cs_main, lockMain);",
      "path": "src/node/interfaces.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "bbd680d23ef32dcc8dcc34a665245de2048a280d",
      "in_reply_to_id": 1025851428,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is it not the same in `master`?",
      "created_at": "2022-11-18T07:48:25Z",
      "updated_at": "2022-11-18T07:48:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1026115254",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1026115254"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 182,
      "original_line": 182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1026223084",
      "pull_request_review_id": 1185783609,
      "id": 1026223084,
      "node_id": "PRRC_kwDOABII5849Kuvs",
      "diff_hunk": "@@ -168,29 +168,25 @@ class NodeImpl : public Node\n     bool getNodesStats(NodesStats& stats) override\n     {\n         stats.clear();\n+        if (!m_context->connman) return false;\n \n-        if (m_context->connman) {\n-            std::vector<CNodeStats> stats_temp;\n-            m_context->connman->GetNodeStats(stats_temp);\n-\n-            stats.reserve(stats_temp.size());\n-            for (auto& node_stats_temp : stats_temp) {\n-                stats.emplace_back(std::move(node_stats_temp), false, CNodeStateStats());\n-            }\n+        std::vector<CNodeStats> stats_temp;\n+        m_context->connman->GetNodeStats(stats_temp);\n \n+        stats.reserve(stats_temp.size());\n+        for (auto& s : stats_temp) {\n+            stats.emplace_back(std::move(s), CNodeStateStats());\n+        }\n+        if (m_context->peerman) {\n             // Try to retrieve the CNodeStateStats for each node.\n-            if (m_context->peerman) {\n-                TRY_LOCK(::cs_main, lockMain);\n-                if (lockMain) {\n-                    for (auto& node_stats : stats) {\n-                        std::get<1>(node_stats) =\n-                            m_context->peerman->GetNodeStateStats(std::get<0>(node_stats).nodeid, std::get<2>(node_stats));\n-                    }\n+            TRY_LOCK(::cs_main, lockMain);",
      "path": "src/node/interfaces.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "bbd680d23ef32dcc8dcc34a665245de2048a280d",
      "in_reply_to_id": 1025851428,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think in master, we return `fNodeStateStatsAvailable==false` and don't update the fields if we can't get the lock ([code](https://github.com/bitcoin/bitcoin/blob/6863ad79a65842504ab6f5584fac3d1de7ecf87e/src/qt/rpcconsole.cpp#L1200-L1201)) instead of updating them with default-values. `fNodeStateStatsAvailable` is being removed here.",
      "created_at": "2022-11-18T09:44:18Z",
      "updated_at": "2022-11-18T09:44:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1026223084",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1026223084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 182,
      "original_line": 182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097602189",
      "pull_request_review_id": 1285531073,
      "id": 1097602189,
      "node_id": "PRRC_kwDOABII585BbBSN",
      "diff_hunk": "@@ -168,29 +168,25 @@ class NodeImpl : public Node\n     bool getNodesStats(NodesStats& stats) override\n     {\n         stats.clear();\n+        if (!m_context->connman) return false;\n \n-        if (m_context->connman) {\n-            std::vector<CNodeStats> stats_temp;\n-            m_context->connman->GetNodeStats(stats_temp);\n-\n-            stats.reserve(stats_temp.size());\n-            for (auto& node_stats_temp : stats_temp) {\n-                stats.emplace_back(std::move(node_stats_temp), false, CNodeStateStats());\n-            }\n+        std::vector<CNodeStats> stats_temp;\n+        m_context->connman->GetNodeStats(stats_temp);\n \n+        stats.reserve(stats_temp.size());\n+        for (auto& s : stats_temp) {\n+            stats.emplace_back(std::move(s), CNodeStateStats());\n+        }\n+        if (m_context->peerman) {\n             // Try to retrieve the CNodeStateStats for each node.\n-            if (m_context->peerman) {\n-                TRY_LOCK(::cs_main, lockMain);\n-                if (lockMain) {\n-                    for (auto& node_stats : stats) {\n-                        std::get<1>(node_stats) =\n-                            m_context->peerman->GetNodeStateStats(std::get<0>(node_stats).nodeid, std::get<2>(node_stats));\n-                    }\n+            TRY_LOCK(::cs_main, lockMain);",
      "path": "src/node/interfaces.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "25fa0d5a6c11c79b3a2b60c4bba05a45f4c65d6a",
      "original_commit_id": "bbd680d23ef32dcc8dcc34a665245de2048a280d",
      "in_reply_to_id": 1025851428,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, reproduced the issue you describe.",
      "created_at": "2023-02-06T16:12:43Z",
      "updated_at": "2023-02-06T16:12:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25923#discussion_r1097602189",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097602189"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25923"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 182,
      "original_line": 182,
      "side": "RIGHT"
    }
  ]
}