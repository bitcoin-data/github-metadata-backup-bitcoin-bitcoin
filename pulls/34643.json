{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34643",
    "id": 3310263904,
    "node_id": "PR_kwDOABII587FTp5g",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34643",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34643.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34643.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34643",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34643/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34643/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34643/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/72bf0faf820c3132df65de1b6e1c901fff926527",
    "number": 34643,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "cluster_linearize: add O(N) fast path for chain-shaped clusters",
    "user": {
      "login": "HowHsu",
      "id": 38499194,
      "node_id": "MDQ6VXNlcjM4NDk5MTk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38499194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HowHsu",
      "html_url": "https://github.com/HowHsu",
      "followers_url": "https://api.github.com/users/HowHsu/followers",
      "following_url": "https://api.github.com/users/HowHsu/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/HowHsu/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/HowHsu/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/HowHsu/subscriptions",
      "organizations_url": "https://api.github.com/users/HowHsu/orgs",
      "repos_url": "https://api.github.com/users/HowHsu/repos",
      "events_url": "https://api.github.com/users/HowHsu/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/HowHsu/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "This PR relies on PR https://github.com/bitcoin/bitcoin/pull/34625\r\n## Summary                                                                       \r\n                                                                                 \r\nThis PR adds `TryLinearizeChain()`, an O(N) specialised linearizer for chain-shaped\r\nclusters, and a benchmark targeting the feerate distribution that triggers the worst-case\r\nbehaviour of the general SPF algorithm on chains.                                \r\n                                                                                 \r\n**Commits:**                                                                     \r\n- `ad15466be1e4` cluster_linearize: add O(N) fast path for chain-shaped clusters \r\n- `72bf0faf820c` cluster_linearize: benchmark Linearize on worst-case chain feerate distribution\r\n                                                                                 \r\n---                                                                              \r\n                                                                                 \r\n## Motivation                                                                    \r\n                                                                                 \r\nInstrumentation added to a running node revealed that **virtually most cluster seen in the\r\nmempool is chain-shaped** — each transaction spends an output of the previous one. This is\r\nconsistent with widespread use of CPFP (Child-Pays-For-Parent) fee bumping, where a\r\nlow-feerate parent transaction is paired with a high-feerate child that spends one of its\r\noutputs, forming a two-transaction chain; longer chains arise from repeated CPFP stacking or\r\nbatch-payment patterns.                                                          \r\n                                                                                 \r\nBecause chain clusters dominate in practice, a topology-specific O(N) fast path has\r\ndisproportionately large impact compared with optimising for rarer topologies.   \r\n                                                                                 \r\nThe general `Linearize()` function uses the Spanning Forest (SPF) algorithm, whose\r\n`MakeTopological()` phase merges chunks iteratively. For a chain cluster with N transactions\r\nand strictly increasing individual feerates (fee_i = i+1), `MakeTopological` triggers a\r\ncascade that merges the entire chain into one chunk step-by-step. At merge step k, two\r\noperations each scan the growing top-part chunk of size k:                       \r\n                                                                                 \r\n- `UpdateChunk` iterates over all k transactions to write their `chunk_rep` (unconditionally,\r\n  regardless of any inner-loop conditions).                                      \r\n- `MergeChunks` iterates over all k transactions to locate the dependency connecting top and\r\n  bottom chunks.                                                                 \r\n                                                                                 \r\nThis accumulates O(1+2+...+(N-1)) = O(N²) loop iterations across the full cascade.\r\nAn O(N) specialised path avoids the SPF overhead entirely for chain-shaped clusters.\r\n                                                                                 \r\n---                                                                              \r\n                                                                                 \r\n## Algorithm                                                                     \r\n                                                                                 \r\n### Detection (`TryLinearizeChain`)                                              \r\n                                                                                 \r\nA cluster with N transactions is a chain if and only if its ancestor-set sizes form exactly\r\n{1, 2, ..., N}. This is checked in O(N) using a boolean presence array;          \r\n`Ancestors(i).Count()` is O(1) for the fixed-size `BitSet<64>` used here.        \r\n                                                                                 \r\n### Topological order                                                            \r\n                                                                                 \r\nThe node with k ancestors occupies position k−1 in the unique topological order. Recovered\r\nin O(N) by a single mapping pass.                                                \r\n                                                                                 \r\n### Why PostLinearize is not needed                                              \r\n                                                                                 \r\nThe topological order of a chain cluster is unique, and every adjacent pair has a dependency,\r\nso `ChunkLinearizationInfo`'s unconditional merge and `PostLinearize`'s merge/swap behave\r\nidentically (the swap branch never triggers). The topological order itself is the optimal\r\nlinearization, and `PostLinearize` can be safely skipped.                        \r\n                                                                                 \r\nThe result is returned early from `Linearize()` before the SPF machinery is initialised:\r\n                                                                                 \r\n```cpp                                                                           \r\n// In Linearize():                                                               \r\nif (auto chain_lin = TryLinearizeChain(depgraph); !chain_lin.empty()) {          \r\n    return {std::move(chain_lin), /*optimal=*/true, /*cost=*/0, /*is_chain=*/true};\r\n}                                                                                \r\n```                                                                              \r\n                                                                                 \r\nThe fourth return value (`is_chain`) allows the caller (`Relinearize()`) to skip the\r\n`PostLinearize()` pass, which is redundant for chains: `TryLinearizeChain` already\r\nproduces an optimal, connected linearization.                                    \r\n                                                                                 \r\n---                                                                              \r\n                                                                                 \r\n## Benchmark results                                                             \r\n                                                                                 \r\n### `LinearizeOptimallyMonotoneChainTotal` — increasing feerates (SPF worst case)\r\n                                                                                 \r\n`MakeMonotoneChainGraph` builds a chain with fee_i = i+1, size_i = 1. For the SPF\r\nalgorithm, every prefix of the chain has feerate (k+1)/2 (strictly increasing with length),\r\nso `MakeTopological` must merge the entire chain into a single chunk through N−1 steps.\r\nEach step scans the growing top-part chunk (via `UpdateChunk`'s unconditional `chunk_rep`\r\nwrite loop and `MergeChunks`'s dep-search loop), accumulating O(N²) iterations in total.\r\n`TryLinearizeChain` eliminates this entirely.                                    \r\n                                                                                 \r\n| Size | Before (ns/op) | After (ns/op) | Speedup |                              \r\n|------|---------------|--------------|---------|                                \r\n| 9 tx | 973 | 48 | **20×** |                                                    \r\n| 16 tx | 1,772 | 72 | **25×** |                                                 \r\n| 32 tx | 3,880 | 129 | **30×** |                                                \r\n| 48 tx | 6,205 | 185 | **34×** |                                                \r\n| 63 tx | 8,551 | 238 | **36×** |                                                \r\n                                                                                 \r\nInstructions per call after optimisation:                                        \r\n                                                                                 \r\n| N | Total instructions | Instructions/tx |                                     \r\n|---|-------------------|----------------|                                       \r\n| 9 | 954 | 106 |                                                                \r\n| 16 | 1,360 | 85 |                                                              \r\n| 32 | 2,295 | 72 |                                                              \r\n| 48 | 3,230 | 67 |                                                              \r\n| 63 | 4,100 | 65 |                                                              \r\n                                                                                 \r\nThe \"after\" timings confirm that `TryLinearizeChain` runs in O(N) regardless of feerate\r\ndistribution (~65–106 instructions per transaction at N=9..63, constant converging as N\r\ngrows). The speedup grows with N because the baseline trends towards O(N²) while the\r\noptimised path remains O(N).                                                     \r\n",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2026-02-21T05:11:29Z",
    "updated_at": "2026-02-21T06:54:22Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "23415e36bbfa2322371e8fd72b987c163dc0c923",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "HowHsu:chain_linearize",
      "ref": "chain_linearize",
      "sha": "72bf0faf820c3132df65de1b6e1c901fff926527",
      "user": {
        "login": "HowHsu",
        "id": 38499194,
        "node_id": "MDQ6VXNlcjM4NDk5MTk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/38499194?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HowHsu",
        "html_url": "https://github.com/HowHsu",
        "followers_url": "https://api.github.com/users/HowHsu/followers",
        "following_url": "https://api.github.com/users/HowHsu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/HowHsu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/HowHsu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/HowHsu/subscriptions",
        "organizations_url": "https://api.github.com/users/HowHsu/orgs",
        "repos_url": "https://api.github.com/users/HowHsu/repos",
        "events_url": "https://api.github.com/users/HowHsu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/HowHsu/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 196971921,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTY5NzE5MjE=",
        "name": "bitcoin",
        "full_name": "HowHsu/bitcoin",
        "owner": {
          "login": "HowHsu",
          "id": 38499194,
          "node_id": "MDQ6VXNlcjM4NDk5MTk0",
          "avatar_url": "https://avatars.githubusercontent.com/u/38499194?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/HowHsu",
          "html_url": "https://github.com/HowHsu",
          "followers_url": "https://api.github.com/users/HowHsu/followers",
          "following_url": "https://api.github.com/users/HowHsu/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/HowHsu/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/HowHsu/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/HowHsu/subscriptions",
          "organizations_url": "https://api.github.com/users/HowHsu/orgs",
          "repos_url": "https://api.github.com/users/HowHsu/repos",
          "events_url": "https://api.github.com/users/HowHsu/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/HowHsu/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/HowHsu/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/HowHsu/bitcoin",
        "archive_url": "https://api.github.com/repos/HowHsu/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/HowHsu/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/HowHsu/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/HowHsu/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/HowHsu/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/HowHsu/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/HowHsu/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/HowHsu/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/HowHsu/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/HowHsu/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/HowHsu/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/HowHsu/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/HowHsu/bitcoin/events",
        "forks_url": "https://api.github.com/repos/HowHsu/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/HowHsu/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/HowHsu/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/HowHsu/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/HowHsu/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/HowHsu/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/HowHsu/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/HowHsu/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/HowHsu/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/HowHsu/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/HowHsu/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/HowHsu/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/HowHsu/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/HowHsu/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/HowHsu/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/HowHsu/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:HowHsu/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/HowHsu/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/HowHsu/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/HowHsu/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/HowHsu/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/HowHsu/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/HowHsu/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/HowHsu/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/HowHsu/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/HowHsu/bitcoin/hooks",
        "svn_url": "https://github.com/HowHsu/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 282792,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-21T05:02:18Z",
        "created_at": "2019-07-15T09:53:32Z",
        "updated_at": "2025-07-04T10:01:37Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "fa194fca8e7b23e6981f8d67f2abddee149c6cef",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38921,
        "stargazers_count": 88201,
        "watchers_count": 88201,
        "size": 305479,
        "default_branch": "master",
        "open_issues_count": 720,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-21T00:46:15Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-02-21T05:35:23Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34643"
      }
    },
    "author_association": "NONE",
    "draft": true,
    "additions": 401,
    "deletions": 13,
    "changed_files": 6,
    "commits": 5,
    "review_comments": 0,
    "comments": 4
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM4NmY2MDg0Y2MxZmQxMDhlZWFiYTcwNTZkNTQ4YjZmMTVkOWJhOWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/386f6084cc1fd108eeaba7056d548b6f15d9ba9b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/386f6084cc1fd108eeaba7056d548b6f15d9ba9b",
      "tree": {
        "sha": "bce53faac5e1462f039eeac0921c9790a506f183",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bce53faac5e1462f039eeac0921c9790a506f183"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5a8a427610ed9672f485ebfefbb8e63b55282636",
          "sha": "5a8a427610ed9672f485ebfefbb8e63b55282636",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5a8a427610ed9672f485ebfefbb8e63b55282636"
        }
      ],
      "message": "cluster_linearize: add chain cluster benchmarks for PostLinearize and Linearize\n\nAdd MakeChainGraph() to build deterministic random chain dependency graphs\n(tx0->tx1->...->tx_{n-1}) with randomized feerates, and two sets of\nchain-specific benchmarks:\n\n- PostLinearizeChain{16,32,48,64,75,99}Tx: measure PostLinearize throughput\n  on chain-shaped clusters across a range of sizes.\n- LinearizeOptimallyChainTotal_{9,16,32,48,63}tx: measure the total time for\n  Linearize to reach an optimal result on chain-shaped clusters.\n\nChain clusters are a common real-world mempool pattern (each transaction\nspending an output of the previous one). Dedicated benchmarks make it easy\nto observe the effect of topology-specific linearization optimizations.",
      "committer": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-20T09:26:55Z"
      },
      "author": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-18T06:53:33Z"
      },
      "sha": "386f6084cc1fd108eeaba7056d548b6f15d9ba9b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUyNWY2M2JhNmUzMWQyZWM4ZTYyMDE5NDQ1NDI4ZTNmYWUyMzU0MjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e25f63ba6e31d2ec8e62019445428e3fae235421",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e25f63ba6e31d2ec8e62019445428e3fae235421",
      "tree": {
        "sha": "4f8fca1bee122696ea69a541ee50e50882b2b1cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4f8fca1bee122696ea69a541ee50e50882b2b1cc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/386f6084cc1fd108eeaba7056d548b6f15d9ba9b",
          "sha": "386f6084cc1fd108eeaba7056d548b6f15d9ba9b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/386f6084cc1fd108eeaba7056d548b6f15d9ba9b"
        }
      ],
      "message": "cluster_linearize: test PostLinearize optimality on random tree-shaped clusters\n\nAdd MakeRandomTreeGraph() which generates random tree-shaped dependency graphs\nin two orientations:\n- Upright tree: each transaction i picks a random parent from [0, i), giving\n  a DAG where every node has at most one direct parent.\n- Reverse tree: each transaction i picks a random child from [0, i), giving\n  a DAG where every node has at most one direct child.\n\nAdd postlinearize_tree_optimal_tests which verifies, for random trees of\nvarious sizes (5..30 transactions), that PostLinearize matches the quality of\nthe exhaustive Linearize() result, as guaranteed by PostLinearize's interface.\nAlso verifies idempotency: a second PostLinearize pass produces no change.",
      "committer": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-20T09:26:55Z"
      },
      "author": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-18T09:36:34Z"
      },
      "sha": "e25f63ba6e31d2ec8e62019445428e3fae235421"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBhM2FhY2RlMjJhMmM5NzJiZmMxMjdmNGQzNDlmMzRiZWEzODkzYmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0a3aacde22a2c972bfc127f4d349f34bea3893bf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0a3aacde22a2c972bfc127f4d349f34bea3893bf",
      "tree": {
        "sha": "a00f0a4471f27890f64ddead01ef796dad4be657",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a00f0a4471f27890f64ddead01ef796dad4be657"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e25f63ba6e31d2ec8e62019445428e3fae235421",
          "sha": "e25f63ba6e31d2ec8e62019445428e3fae235421",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e25f63ba6e31d2ec8e62019445428e3fae235421"
        }
      ],
      "message": "cluster_linearize: test PostLinearize optimality on random chain clusters\n\nAdd MakeRandomChainGraph() which generates random linear chain dependency\ngraphs (tx0->tx1->...->tx_{n-1}) with randomized feerates.\n\nAdd postlinearize_chain_optimal_tests which verifies, for chains of various\nsizes (5..50 transactions), that PostLinearize matches the quality of the\nexhaustive Linearize() result. A chain satisfies both tree-shape conditions\nsimultaneously (each transaction has at most one parent and at most one\nchild), so PostLinearize is guaranteed to produce an optimal linearization.\nAlso verifies idempotency: a second PostLinearize pass produces no change.",
      "committer": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-20T09:26:55Z"
      },
      "author": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-18T09:51:39Z"
      },
      "sha": "0a3aacde22a2c972bfc127f4d349f34bea3893bf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFkMTU0NjZiZTFlNDFlZmY3NzE1ODVhNzNiNjJiNzQ3YTJjOGY1ODM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ad15466be1e41eff771585a73b62b747a2c8f583",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ad15466be1e41eff771585a73b62b747a2c8f583",
      "tree": {
        "sha": "05b86eeb24c0658272219dc13d2dcf3174186647",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/05b86eeb24c0658272219dc13d2dcf3174186647"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0a3aacde22a2c972bfc127f4d349f34bea3893bf",
          "sha": "0a3aacde22a2c972bfc127f4d349f34bea3893bf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0a3aacde22a2c972bfc127f4d349f34bea3893bf"
        }
      ],
      "message": "cluster_linearize: add O(N) fast path for chain-shaped clusters\n\nAdd TryLinearizeChain() which detects chain-shaped clusters and\nproduces an optimal linearization in O(N) time, bypassing the O(N^2)\nSPF algorithm in Linearize().\n\nDetection relies on the property that a cluster with N transactions is\na chain iff its ancestor-set sizes form exactly {1,...,N}. This is\nchecked in O(N) using a presence array, since Ancestors().Count() is\nO(1) for the fixed-size BitSets used here.\n\nThe topological order is recovered in O(N) by mapping each node's\nancestor count to its position. For a chain, this topological order is\nunique and already optimal — no further chunking or merge pass is\nneeded. PostLinearize can also be skipped: every adjacent pair has a\ndependency, so ChunkLinearizationInfo's unconditional merge and\nPostLinearize's merge/swap behave identically (the swap branch never\ntriggers).",
      "committer": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-21T05:00:26Z"
      },
      "author": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-19T06:30:59Z"
      },
      "sha": "ad15466be1e41eff771585a73b62b747a2c8f583"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcyYmYwZmFmODIwYzMxMzJkZjY1ZGUxYjZlMWM5MDFmZmY5MjY1Mjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/72bf0faf820c3132df65de1b6e1c901fff926527",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/72bf0faf820c3132df65de1b6e1c901fff926527",
      "tree": {
        "sha": "548613089bb4a9d60a9d6e188ee03be4f053a603",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/548613089bb4a9d60a9d6e188ee03be4f053a603"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ad15466be1e41eff771585a73b62b747a2c8f583",
          "sha": "ad15466be1e41eff771585a73b62b747a2c8f583",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ad15466be1e41eff771585a73b62b747a2c8f583"
        }
      ],
      "message": "cluster_linearize: benchmark Linearize on worst-case chain feerate distribution\n\nAdd MakeMonotoneChainGraph() which builds a chain of N transactions with\nstrictly increasing individual feerates (fee_i = i+1, size_i = 1). This is\na pessimal feerate distribution for the SPF algorithm: every transaction\nlooks attractive in isolation, but including tx_i requires all i ancestors,\nso SPF must discover through many improvement steps that the entire chain\nis the single optimal chunk. Without TryLinearizeChain this exhibits O(N²)\nbehaviour; with TryLinearizeChain the result is produced in O(N).\n\nAdd LinearizeOptimallyMonotoneChainTotal benchmarks (sizes 9..63 tx) to\nmeasure this worst-case scenario and confirm the O(N) speedup.",
      "committer": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-21T05:00:38Z"
      },
      "author": {
        "name": "Hao Xu",
        "email": "hao.xu@linux.dev",
        "date": "2026-02-19T07:34:02Z"
      },
      "sha": "72bf0faf820c3132df65de1b6e1c901fff926527"
    },
    {
      "event": "renamed",
      "id": 22965082746,
      "node_id": "RTE_lADOABII587stdFkzwAAAAVY01p6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22965082746",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-21T05:11:33Z",
      "rename": {
        "from": "cluster_linearize: add O(N) fast path for chain-shaped clusters ",
        "to": "cluster_linearize: add O(N) fast path for chain-shaped clusters"
      }
    },
    {
      "event": "commented",
      "id": 3938189559,
      "node_id": "IC_kwDOABII587qvAD3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3938189559",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-21T05:12:09Z",
      "updated_at": "2026-02-21T05:12:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34643#issuecomment-3938189559",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34643"
    },
    {
      "event": "commented",
      "id": 3938231998,
      "node_id": "IC_kwDOABII587qvKa-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3938231998",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-21T05:50:02Z",
      "updated_at": "2026-02-21T05:50:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Why would this be worth the code complexity and review cost?",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34643#issuecomment-3938231998",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34643"
    },
    {
      "event": "labeled",
      "id": 22965679335,
      "node_id": "LE_lADOABII587stdFkzwAAAAVY3HTn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22965679335",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-21T06:30:05Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3938278165,
      "node_id": "IC_kwDOABII587qvVsV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3938278165",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-21T06:30:11Z",
      "updated_at": "2026-02-21T06:30:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `test ancestor commits`: https://github.com/bitcoin/bitcoin/actions/runs/22250911275/job/64374269520</sub>\n<sub>LLM reason (✨ experimental): CI build failed during cmake build with exit code 2.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34643#issuecomment-3938278165",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34643"
    },
    {
      "event": "commented",
      "id": 3938312396,
      "node_id": "IC_kwDOABII587qveDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3938312396",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-21T06:54:22Z",
      "updated_at": "2026-02-21T06:54:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think a useful question to answer is-- is this faster primarily on cases that are already quite fast?    It won't improve the worst case performance (because the worst cases aren't these chains) -- but it could perhaps be justified on the basis of improving average case performance (as time saved could be spent elsewhere, including optimizing harder clusters).  But the savings may not be significant if the cases this is speeding up are already fast.\r\n\r\nA similar issue came up vs CSS in that CSS is generally faster than SFL for small clusters or for some range of dependency densities.  And small clusters are even quite common... but these are cases that are quite fast for SFL in any case and so keeping CSS around for those cases hardly makes a difference in total runtime.\r\n\r\nI think it would be reasonable to benchmark this with real data and exclude clusters of size 1 (most of them...), and 2/3 (which probably should get their own specialized solvers because one can essentially hardcode the possibilities for those and solve them very quickly e.g. just by checking the area under the curve for the n! orderings).   \r\n\r\nIf it doesn't make a real speed up in that kind of benchmark I think it's hard to justify.  One could try to make a case that clusters of larger than 64 could be accepted for such special shapes, but the issue there is that one additional transaction (potentially by a third party) can easily knock it out of the special shape and then the resulting cluster is no longer acceptable and that seems brittle and hard to reason about compared to a consistent cluster size limit.\r\n\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34643#issuecomment-3938312396",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34643"
    }
  ],
  "comments": []
}