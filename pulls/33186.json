{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186",
    "id": 2743753242,
    "node_id": "PR_kwDOABII586jiloa",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33186",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33186.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33186.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33186",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33186/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/1b6f3f1235d5452bf46ba7a5c6e125ddbea28d88",
    "number": 33186,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet, test: Ancient Wallet Migration from v0.14.3 (no-HD and Single Chain)",
    "user": {
      "login": "w0xlt",
      "id": 94266259,
      "node_id": "U_kgDOBZ5jkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/w0xlt",
      "html_url": "https://github.com/w0xlt",
      "followers_url": "https://api.github.com/users/w0xlt/followers",
      "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
      "organizations_url": "https://api.github.com/users/w0xlt/orgs",
      "repos_url": "https://api.github.com/users/w0xlt/repos",
      "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/w0xlt/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "This PR adds test coverage for migrating legacy Bitcoin Core wallets from v0.14.3 (released in 2017) to the descriptor wallet format. The test validates that users can safely upgrade their wallets while preserving all funds, transaction history, and addresses.\r\n\r\nThis test was originally developed on top of #32977, as it was requested in reviews.\r\nHowever, since it also increases test coverage, it can be merged independently.\r\n\r\nThe test covers two wallet migration scenarios:\r\n\r\n* Non-HD Wallet Migration - Tests migration of non-HD wallets (created with `-usehd=0`)\r\n* Single Chain HD Wallet Migration - Tests migration of HD wallets from v0.14.3 (`VERSION_HD_BASE`)\r\n\r\nThe node v0.14.3 cannot be synced because it doesn't have the `syncwithvalidationinterfacequeue` RPC implemented (required by `test_framework.py`), so the solution is to copy the `block` folder to the modern node and start it with `-reindex-chainstate`. Because of this additional complexity, this testing is best managed in a separate file rather than in the existing migration test files.\r\n\r\n",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2025-08-13T18:50:30Z",
    "updated_at": "2026-01-16T20:49:43Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "143d1365331a82eb6ace74d7ee0b30913d423f36",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "w0xlt:test_no_or_base_hd_wallet_migration",
      "ref": "test_no_or_base_hd_wallet_migration",
      "sha": "1b6f3f1235d5452bf46ba7a5c6e125ddbea28d88",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 427811926,
        "node_id": "R_kgDOGX_kVg",
        "name": "bitcoin",
        "full_name": "w0xlt/bitcoin",
        "owner": {
          "login": "w0xlt",
          "id": 94266259,
          "node_id": "U_kgDOBZ5jkw",
          "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/w0xlt",
          "html_url": "https://github.com/w0xlt",
          "followers_url": "https://api.github.com/users/w0xlt/followers",
          "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
          "organizations_url": "https://api.github.com/users/w0xlt/orgs",
          "repos_url": "https://api.github.com/users/w0xlt/repos",
          "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/w0xlt/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/w0xlt/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/w0xlt/bitcoin",
        "archive_url": "https://api.github.com/repos/w0xlt/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/w0xlt/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/w0xlt/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/w0xlt/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/w0xlt/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/w0xlt/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/w0xlt/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/w0xlt/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/w0xlt/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/w0xlt/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/w0xlt/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/w0xlt/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/w0xlt/bitcoin/events",
        "forks_url": "https://api.github.com/repos/w0xlt/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/w0xlt/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/w0xlt/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/w0xlt/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/w0xlt/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/w0xlt/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/w0xlt/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/w0xlt/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/w0xlt/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/w0xlt/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/w0xlt/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/w0xlt/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/w0xlt/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/w0xlt/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/w0xlt/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/w0xlt/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:w0xlt/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/w0xlt/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/w0xlt/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/w0xlt/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/w0xlt/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/w0xlt/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/w0xlt/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/w0xlt/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/w0xlt/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/w0xlt/bitcoin/hooks",
        "svn_url": "https://github.com/w0xlt/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 6,
        "watchers_count": 6,
        "size": 293031,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-16T20:49:06Z",
        "created_at": "2021-11-14T01:34:01Z",
        "updated_at": "2026-01-15T17:28:29Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "81bf4209e9dccaa357cee4f0102734a76e0f1b18",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38738,
        "stargazers_count": 87678,
        "watchers_count": 87678,
        "size": 301954,
        "default_branch": "master",
        "open_issues_count": 747,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-16T18:02:20Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-01-16T20:27:56Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 149,
    "deletions": 3,
    "changed_files": 3,
    "commits": 1,
    "review_comments": 10,
    "comments": 4
  },
  "events": [
    {
      "event": "commented",
      "id": 3185093545,
      "node_id": "IC_kwDOABII58692Kup",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3185093545",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-13T18:50:35Z",
      "updated_at": "2026-01-16T20:49:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33186.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/33186#pullrequestreview-3117489292), [furszy](https://github.com/bitcoin/bitcoin/pull/33186#issuecomment-3607270186) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\n\n\nPossible places where comparison-specific test macros should replace generic comparisons:\n\n- test/functional/wallet_ancient_migration.py \"assert old_balance > 0\" -> use assert_greater_than(old_balance, 0)\n- test/functional/wallet_ancient_migration.py \"assert len(old_txs) > 0\" -> use assert_greater_than(len(old_txs), 0)\n- test/functional/wallet_ancient_migration.py \"assert len(txid) == 64\" -> use assert_equal(len(txid), 64)\n\n\n\n<sup>2026-01-16</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#issuecomment-3185093545",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33186"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19143603644,
      "node_id": "HRFPE_lADOABII587F21M8zwAAAAR1DDW8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19143603644",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "a305380f35798c486fbff2ebaaf120b43a71670e",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/a305380f35798c486fbff2ebaaf120b43a71670e",
      "created_at": "2025-08-13T18:56:57Z"
    },
    {
      "event": "labeled",
      "id": 19143605476,
      "node_id": "LE_lADOABII587F21M8zwAAAAR1DDzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19143605476",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-13T18:57:05Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3185114518,
      "node_id": "IC_kwDOABII58692P2W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3185114518",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-13T18:57:07Z",
      "updated_at": "2025-08-13T18:57:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/48028643718</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by a lint error due to trailing whitespace in the code.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#issuecomment-3185114518",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33186"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19143673630,
      "node_id": "HRFPE_lADOABII587F21M8zwAAAAR1DUce",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19143673630",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0116ce053a386588e1e2270e1d4c25b29b70e1fe",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/0116ce053a386588e1e2270e1d4c25b29b70e1fe",
      "created_at": "2025-08-13T19:02:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19143768841,
      "node_id": "HRFPE_lADOABII587F21M8zwAAAAR1DrsJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19143768841",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "52373770cc741720e6b7c682b9058c6cb7120739",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/52373770cc741720e6b7c682b9058c6cb7120739",
      "created_at": "2025-08-13T19:08:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19143830522,
      "node_id": "HRFPE_lADOABII587F21M8zwAAAAR1D6v6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19143830522",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "created_at": "2025-08-13T19:12:27Z"
    },
    {
      "event": "reviewed",
      "id": 3117456926,
      "node_id": "PRR_kwDOABII58650J4e",
      "url": null,
      "actor": null,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-13T19:45:25Z",
      "author_association": "MEMBER",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#pullrequestreview-3117456926",
      "submitted_at": "2025-08-13T19:45:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
    },
    {
      "event": "reviewed",
      "id": 3117489292,
      "node_id": "PRR_kwDOABII58650RyM",
      "url": null,
      "actor": null,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-13T19:53:24Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nLeft a couple of suggestions.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#pullrequestreview-3117489292",
      "submitted_at": "2025-08-13T19:53:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
    },
    {
      "event": "reviewed",
      "id": 3117567095,
      "node_id": "PRR_kwDOABII58650kx3",
      "url": null,
      "actor": null,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-13T20:21:03Z",
      "author_association": "MEMBER",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#pullrequestreview-3117567095",
      "submitted_at": "2025-08-13T20:21:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
    },
    {
      "event": "unlabeled",
      "id": 19145142974,
      "node_id": "UNLE_lADOABII587F21M8zwAAAAR1I7K-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19145142974",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-13T20:33:14Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3127172577,
      "node_id": "PRR_kwDOABII5866ZN3h",
      "url": null,
      "actor": null,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-18T07:44:31Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#pullrequestreview-3127172577",
      "submitted_at": "2025-08-18T07:44:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
    },
    {
      "event": "commented",
      "id": 3606257395,
      "node_id": "IC_kwDOABII587W8x7z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3606257395",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-03T10:52:24Z",
      "updated_at": "2025-12-03T10:52:24Z",
      "author_association": "MEMBER",
      "body": "@achow101 can you leave a conceptual review?",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#issuecomment-3606257395",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33186"
    },
    {
      "event": "mentioned",
      "id": 21329575538,
      "node_id": "MEE_lADOABII587F21M8zwAAAAT3V35y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21329575538",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-03T10:52:25Z"
    },
    {
      "event": "subscribed",
      "id": 21329575615,
      "node_id": "SE_lADOABII587F21M8zwAAAAT3V36_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21329575615",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-03T10:52:26Z"
    },
    {
      "event": "commented",
      "id": 3607270186,
      "node_id": "IC_kwDOABII587XApMq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3607270186",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-03T14:58:10Z",
      "updated_at": "2025-12-03T14:58:10Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, will review soon",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#issuecomment-3607270186",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33186"
    },
    {
      "event": "reviewed",
      "id": 3545108565,
      "node_id": "PRR_kwDOABII587TThBV",
      "url": null,
      "actor": null,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T15:21:25Z",
      "author_association": "MEMBER",
      "body": "> The node v0.14.3 cannot be synced because it doesn't have the syncwithvalidationinterfacequeue RPC implemented (required by test_framework.py), so the solution is to copy the block folder to the modern node and start it with -reindex-chainstate. Because of this additional complexity, this testing is best managed in a separate file rather than in the existing migration test files.\r\n\r\nIn order to know when the node is synced, cannot you just wait for a specific log line? See `busy_wait_for_debug_log`.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#pullrequestreview-3545108565",
      "submitted_at": "2025-12-05T15:21:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21908847972,
      "node_id": "HRFPE_lADOABII587F21M8zwAAAAUZ3n1k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21908847972",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "created_at": "2026-01-07T21:49:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22105130205,
      "node_id": "HRFPE_lADOABII587F21M8zwAAAAUlkYTd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22105130205",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "17d091e3cbf4f995596cf8e9ac6691aea9f77d42",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/17d091e3cbf4f995596cf8e9ac6691aea9f77d42",
      "created_at": "2026-01-16T20:47:51Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFiNmYzZjEyMzVkNTQ1MmJmNDZiYTdhNWM2ZTEyNWRkYmVhMjhkODg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1b6f3f1235d5452bf46ba7a5c6e125ddbea28d88",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1b6f3f1235d5452bf46ba7a5c6e125ddbea28d88",
      "tree": {
        "sha": "6ff51e7d5b7974f684a9246ba7c4dae7889a5699",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6ff51e7d5b7974f684a9246ba7c4dae7889a5699"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/81bf4209e9dccaa357cee4f0102734a76e0f1b18",
          "sha": "81bf4209e9dccaa357cee4f0102734a76e0f1b18",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/81bf4209e9dccaa357cee4f0102734a76e0f1b18"
        }
      ],
      "message": "test: add wallet migration test for v0.14.3 legacy wallets\n\nTest migratewallet RPC on ancient wallet formats from v0.14.3:\n- Non-HD wallet (FEATURE_COMPRPUBKEY, version 60000)\n- HD single-chain wallet (VERSION_HD_BASE, version 130000)\n\nVerifies balance, transactions, and address ownership are preserved\nafter migration to descriptor wallets.",
      "committer": {
        "name": "woltx",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-01-16T20:49:01Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2025-08-12T22:34:25Z"
      },
      "sha": "1b6f3f1235d5452bf46ba7a5c6e125ddbea28d88"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22105150872,
      "node_id": "HRFPE_lADOABII587F21M8zwAAAAUlkdWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22105150872",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "1b6f3f1235d5452bf46ba7a5c6e125ddbea28d88",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/1b6f3f1235d5452bf46ba7a5c6e125ddbea28d88",
      "created_at": "2026-01-16T20:49:07Z"
    },
    {
      "event": "labeled",
      "id": 22105160002,
      "node_id": "LE_lADOABII587F21M8zwAAAAUlkflC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22105160002",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T20:49:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274462467",
      "pull_request_review_id": 3117456926,
      "id": 2274462467,
      "node_id": "PRRC_kwDOABII586HkYsD",
      "diff_hunk": "@@ -0,0 +1,292 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test wallet migration from ancient versions to current version.\n+Tests two wallet types that are actually testable:\n+1. Non-HD wallet from v0.14.3\n+2. HD wallet from v0.14.3 (VERSION_HD_BASE)\n+\"\"\"\n+import os\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    get_datadir_path,\n+    initialize_datadir,\n+)\n+\n+class WalletMigrationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()  # Skip if wallet is not compiled in\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_network(self):\n+        # Don't setup nodes here, we'll do it per test\n+        self.nodes = []\n+\n+    def cleanup_nodes(self):\n+        \"\"\"Clean up nodes and their data directories between tests\"\"\"\n+        # Stop any running nodes\n+        for i in range(len(self.nodes)):\n+            if self.nodes[i].running:\n+                self.stop_node(i)\n+\n+        # Clean up data directories to ensure fresh start\n+        for i in range(len(self.nodes)):\n+            datadir = get_datadir_path(self.options.tmpdir, i)\n+            if os.path.exists(datadir):\n+                shutil.rmtree(datadir)\n+                self.log.debug(f\"Cleaned up datadir for node {i}\")\n+            # Re-initialize the datadir for the next test\n+            initialize_datadir(self.options.tmpdir, i, self.chain, self.disable_autoconnect)\n+\n+        # Clear the nodes list\n+        self.nodes = []\n+\n+    def migrate_wallet(self, wallet_type, extra_args_old):\n+        \"\"\"Common migration test logic\"\"\"\n+        self.log.info(f\"Testing {wallet_type} wallet migration from v0.14.3\")\n+\n+        # Clean up any existing nodes and data\n+        self.cleanup_nodes()\n+\n+        # Setup fresh nodes for this test\n+        self.add_nodes(\n+            2,",
      "path": "test/functional/wallet_ancient_migration.py",
      "position": 1,
      "original_position": 62,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": null,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n            self.num_nodes,\r\n```",
      "created_at": "2025-08-13T19:45:25Z",
      "updated_at": "2025-08-13T19:45:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2274462467",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274462467"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274539541",
      "pull_request_review_id": 3117567095,
      "id": 2274539541,
      "node_id": "PRRC_kwDOABII586HkrgV",
      "diff_hunk": "@@ -428,7 +429,12 @@ def main():\n     logging.basicConfig(format='%(message)s', level=logging_level)\n \n     # Create base test directory\n-    tmpdir = \"%s/test_runner_â‚¿_ðŸƒ_%s\" % (args.tmpdirprefix, datetime.datetime.now().strftime(\"%Y%m%d_%H%M%S\"))\n+    # Special case for tests using old binaries (e.g. version v0.14.3) that don't handle Unicode on Windows\n+    has_migration_tests = any('wallet_ancient_migration' in script for script in BASE_SCRIPTS)",
      "path": "test/functional/test_runner.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": null,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "more than `has_migration_tests` shouldn't indicate like it's an old binary? (there are other tests that uses migration and     `feature_unsupported_utxo_db.py` uses a node v0.14.3 as well)",
      "created_at": "2025-08-13T20:21:03Z",
      "updated_at": "2025-08-13T20:21:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2274539541",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274539541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274590937",
      "pull_request_review_id": 3117641414,
      "id": 2274590937,
      "node_id": "PRRC_kwDOABII586Hk4DZ",
      "diff_hunk": "@@ -428,7 +429,12 @@ def main():\n     logging.basicConfig(format='%(message)s', level=logging_level)\n \n     # Create base test directory\n-    tmpdir = \"%s/test_runner_â‚¿_ðŸƒ_%s\" % (args.tmpdirprefix, datetime.datetime.now().strftime(\"%Y%m%d_%H%M%S\"))\n+    # Special case for tests using old binaries (e.g. version v0.14.3) that don't handle Unicode on Windows\n+    has_migration_tests = any('wallet_ancient_migration' in script for script in BASE_SCRIPTS)",
      "path": "test/functional/test_runner.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": 2274539541,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Without this, the `Windows, test cross-built` CI task will fail because it can't handle non-ASCII characters in `-datadir`.\r\n\r\n`feature_unsupported_utxo_db.py` doesn't copy the directory from one node to another. This test needs to do this because version 0.14.3 doesn't have the `syncwithvalidationinterfacequeue` RPC, so it can't be synchronized.",
      "created_at": "2025-08-13T20:47:47Z",
      "updated_at": "2025-08-13T20:47:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2274590937",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274590937"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274711443",
      "pull_request_review_id": 3117804860,
      "id": 2274711443,
      "node_id": "PRRC_kwDOABII586HlVeT",
      "diff_hunk": "@@ -428,7 +429,12 @@ def main():\n     logging.basicConfig(format='%(message)s', level=logging_level)\n \n     # Create base test directory\n-    tmpdir = \"%s/test_runner_â‚¿_ðŸƒ_%s\" % (args.tmpdirprefix, datetime.datetime.now().strftime(\"%Y%m%d_%H%M%S\"))\n+    # Special case for tests using old binaries (e.g. version v0.14.3) that don't handle Unicode on Windows\n+    has_migration_tests = any('wallet_ancient_migration' in script for script in BASE_SCRIPTS)",
      "path": "test/functional/test_runner.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": 2274539541,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yeah, it's already well explained in the PR description. Then perhaps the variable name could be `supports_unicode_datadir`/ (`requires_ascii_datadir`) or something like that.\r\n```suggestion\r\n    requires_ascii_datadir = any('wallet_ancient_migration' in script for script in BASE_SCRIPTS)\r\n    tmpdirprefix = \"%s/test_runner_â‚¿_ðŸƒ_%s\"\r\n    if platform.system() == 'Windows' and requires_ascii_datadir:\r\n        tmpdir = \"%s/test_runner_btc_run_%s\"\r\n    tmpdir = tmpdirprefix % (args.tmpdirprefix, datetime.datetime.now().strftime(\"%Y%m%d_%H%M%S\"))\r\n```\r\n\r\nWouldn't this affect the datadir for all the tests running on Windows platform?",
      "created_at": "2025-08-13T21:43:09Z",
      "updated_at": "2025-08-13T21:43:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2274711443",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274711443"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274721646",
      "pull_request_review_id": 3117821350,
      "id": 2274721646,
      "node_id": "PRRC_kwDOABII586HlX9u",
      "diff_hunk": "@@ -428,7 +429,12 @@ def main():\n     logging.basicConfig(format='%(message)s', level=logging_level)\n \n     # Create base test directory\n-    tmpdir = \"%s/test_runner_â‚¿_ðŸƒ_%s\" % (args.tmpdirprefix, datetime.datetime.now().strftime(\"%Y%m%d_%H%M%S\"))\n+    # Special case for tests using old binaries (e.g. version v0.14.3) that don't handle Unicode on Windows\n+    has_migration_tests = any('wallet_ancient_migration' in script for script in BASE_SCRIPTS)",
      "path": "test/functional/test_runner.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": 2274539541,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Thanks for the suggestion. It's much clearer. \r\nYes, it affects all tests run on the Windows platform. As far as I know, there's no way to filter by this task specifically.",
      "created_at": "2025-08-13T21:46:45Z",
      "updated_at": "2025-08-13T21:46:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2274721646",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2274721646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2281561637",
      "pull_request_review_id": 3127172577,
      "id": 2281561637,
      "node_id": "PRRC_kwDOABII586H_d4l",
      "diff_hunk": "@@ -0,0 +1,292 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test wallet migration from ancient versions to current version.\n+Tests two wallet types that are actually testable:\n+1. Non-HD wallet from v0.14.3\n+2. HD wallet from v0.14.3 (VERSION_HD_BASE)\n+\"\"\"\n+import os\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    get_datadir_path,\n+    initialize_datadir,\n+)\n+\n+class WalletMigrationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()  # Skip if wallet is not compiled in\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_network(self):\n+        # Don't setup nodes here, we'll do it per test\n+        self.nodes = []\n+\n+    def cleanup_nodes(self):\n+        \"\"\"Clean up nodes and their data directories between tests\"\"\"\n+        # Stop any running nodes\n+        for i in range(len(self.nodes)):\n+            if self.nodes[i].running:\n+                self.stop_node(i)\n+\n+        # Clean up data directories to ensure fresh start\n+        for i in range(len(self.nodes)):\n+            datadir = get_datadir_path(self.options.tmpdir, i)\n+            if os.path.exists(datadir):\n+                shutil.rmtree(datadir)\n+                self.log.debug(f\"Cleaned up datadir for node {i}\")\n+            # Re-initialize the datadir for the next test\n+            initialize_datadir(self.options.tmpdir, i, self.chain, self.disable_autoconnect)\n+\n+        # Clear the nodes list\n+        self.nodes = []\n+\n+    def migrate_wallet(self, wallet_type, extra_args_old):\n+        \"\"\"Common migration test logic\"\"\"\n+        self.log.info(f\"Testing {wallet_type} wallet migration from v0.14.3\")\n+\n+        # Clean up any existing nodes and data\n+        self.cleanup_nodes()\n+\n+        # Setup fresh nodes for this test\n+        self.add_nodes(\n+            2,\n+            versions=[\n+                140300,     # v0.14.3 node\n+                None,       # Current version for testing migration\n+            ],\n+        )\n+\n+        # Start the old node with specified args\n+        self.log.info(f\"Starting old node (v0.14.3) with {wallet_type} wallet...\")\n+        self.start_node(0, extra_args=extra_args_old)\n+\n+        # Save the datadir paths while nodes are running\n+        node0_datadir = self.nodes[0].datadir_path\n+        node1_datadir = self.nodes[1].datadir_path\n+\n+        # Generate some addresses and get wallet info from the old wallet\n+        self.log.info(\"Creating addresses and transactions in old wallet...\")\n+        old_addresses = []\n+        for i in range(5):\n+            addr = self.nodes[0].getnewaddress()\n+            old_addresses.append(addr)\n+            self.log.info(f\"  Generated address {i+1}: {addr}\")\n+\n+        # Get some wallet info before migration\n+        old_wallet_info = self.nodes[0].getwalletinfo()\n+        hdmasterkeyid = old_wallet_info.get('hdmasterkeyid', 'Not HD')\n+        self.log.info(f\"Old wallet info: HD master key = {hdmasterkeyid}\")\n+        assert('keypoolsize_hd_internal' not in old_wallet_info) # Ensure we are testing non-HD or single-chain (VERSION_HD_BASE) wallets\n+\n+        # Verify wallet type\n+        if \"non-HD\" in wallet_type:\n+            assert('hdmasterkeyid' not in old_wallet_info)\n+        else:\n+            assert('hdmasterkeyid' in old_wallet_info)\n+\n+        # Generate some blocks to the first address to have balance\n+        self.log.info(\"Generating blocks to create balance...\")\n+        self.generatetoaddress(self.nodes[0], 101, old_addresses[0], sync_fun=lambda: None)\n+\n+        # Send some transactions to create history\n+        self.log.info(\"Creating transaction history...\")\n+        self.nodes[0].sendtoaddress(old_addresses[1], 0.1)\n+        self.nodes[0].sendtoaddress(old_addresses[2], 0.2)\n+        self.nodes[0].sendtoaddress(old_addresses[3], 0.3)\n+\n+        # Mine the transactions\n+        self.generatetoaddress(self.nodes[0], 1, old_addresses[0], sync_fun=lambda: None)\n+\n+        # Get the balance and transaction count\n+        old_balance = self.nodes[0].getbalance()\n+        old_txs = self.nodes[0].listtransactions(\"*\", 1000)\n+        old_tx_count = len(old_txs)\n+        self.log.info(f\"Old wallet balance: {old_balance} BTC\")\n+        self.log.info(f\"Old wallet transaction count: {old_tx_count}\")\n+        assert(old_balance > 0)\n+        assert(old_tx_count > 0)\n+\n+        # Get all addresses from transactions\n+        all_old_addresses = set()\n+        for tx in old_txs:\n+            if 'address' in tx:\n+                all_old_addresses.add(tx['address'])\n+\n+        self.log.info(f\"Total addresses in wallet transactions: {len(all_old_addresses)}\")\n+\n+        # Identify change addresses\n+        change_addresses = all_old_addresses - set(old_addresses)\n+        if change_addresses:\n+            self.log.info(f\"Found {len(change_addresses)} change addresses:\")\n+            for change_addr in change_addresses:\n+                self.log.info(f\"  Change address: {change_addr}\")\n+\n+        # Stop the old node\n+        self.log.info(\"Stopping old node...\")\n+        self.stop_node(0)\n+\n+        # Copy blockchain data from node0 to node1\n+        self.log.info(\"Copying blockchain data from old node to modern node...\")\n+        old_blocks_dir = os.path.join(node0_datadir, self.chain, \"blocks\")\n+        new_blocks_dir = os.path.join(node1_datadir, self.chain, \"blocks\")\n+\n+        # Clean up any existing blocks directory in node1\n+        if os.path.exists(new_blocks_dir):\n+            shutil.rmtree(new_blocks_dir)\n+\n+        if os.path.exists(old_blocks_dir):\n+            shutil.copytree(old_blocks_dir, new_blocks_dir)\n+            self.log.info(\"  Copied blocks directory\")\n+        assert(os.path.exists(new_blocks_dir))\n+\n+        # Start the modern node with -reindex-chainstate\n+        self.log.info(\"Starting modern node with -reindex-chainstate...\")\n+        self.start_node(1, extra_args=[\"-reindex-chainstate\"])\n+\n+        # Wait for reindex to complete\n+        self.log.info(\"Waiting for chainstate reindex to complete...\")\n+        self.wait_until(\n+            lambda: self.nodes[1].getblockcount() == 102,\n+            timeout=30\n+        )\n+\n+        # Verify the blockchain was loaded correctly\n+        node1_info = self.nodes[1].getblockchaininfo()\n+        self.log.info(f\"Modern node blockchain info: height={node1_info['blocks']}\")\n+        assert_equal(node1_info['blocks'], 102)\n+",
      "path": "test/functional/wallet_ancient_migration.py",
      "position": 1,
      "original_position": 167,
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think you may be able to skip this by using `dumb_sync_blocks` from https://github.com/bitcoin/bitcoin/commit/c847dee1488a294c9a9632a00ba1134b21e41947#diff-e48d83ef13f93a84b5686eb797eeed80dd194cf39db7f2972cf82a5ed25415a7L78-L95",
      "created_at": "2025-08-18T07:44:30Z",
      "updated_at": "2025-08-18T07:44:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2281561637",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2281561637"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": 134,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 177,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2281573750",
      "pull_request_review_id": 3127191777,
      "id": 2281573750,
      "node_id": "PRRC_kwDOABII586H_g12",
      "diff_hunk": "@@ -428,7 +429,12 @@ def main():\n     logging.basicConfig(format='%(message)s', level=logging_level)\n \n     # Create base test directory\n-    tmpdir = \"%s/test_runner_â‚¿_ðŸƒ_%s\" % (args.tmpdirprefix, datetime.datetime.now().strftime(\"%Y%m%d_%H%M%S\"))\n+    # Special case for tests using old binaries (e.g. version v0.14.3) that don't handle Unicode on Windows\n+    has_migration_tests = any('wallet_ancient_migration' in script for script in BASE_SCRIPTS)",
      "path": "test/functional/test_runner.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": 2274539541,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> `feature_unsupported_utxo_db.py` doesn't copy the directory from one node to another. This test needs to do this because version 0.14.3 doesn't have the `syncwithvalidationinterfacequeue` RPC, so it can't be synchronized.\n\nWhat's the error message? It seems odd that one test works fine with unicode and the other does not. See also the suggestion https://github.com/bitcoin/bitcoin/pull/33186/files#r2281561637",
      "created_at": "2025-08-18T07:49:00Z",
      "updated_at": "2025-08-18T07:49:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2281573750",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2281573750"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592962526",
      "pull_request_review_id": 3545108565,
      "id": 2592962526,
      "node_id": "PRRC_kwDOABII586ajXfe",
      "diff_hunk": "@@ -428,7 +429,12 @@ def main():\n     logging.basicConfig(format='%(message)s', level=logging_level)\n \n     # Create base test directory\n-    tmpdir = \"%s/test_runner_â‚¿_ðŸƒ_%s\" % (args.tmpdirprefix, datetime.datetime.now().strftime(\"%Y%m%d_%H%M%S\"))\n+    # Special case for tests using old binaries (e.g. version v0.14.3) that don't handle Unicode on Windows\n+    has_migration_tests = any('wallet_ancient_migration' in script for script in BASE_SCRIPTS)",
      "path": "test/functional/test_runner.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "8b376c916ac23023f8238b0d7fb0aa5d4b16acf8",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": 2274539541,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> > `feature_unsupported_utxo_db.py` doesn't copy the directory from one node to another. This test needs to do this because version 0.14.3 doesn't have the `syncwithvalidationinterfacequeue` RPC, so it can't be synchronized.\r\n> \r\n> What's the error message? It seems odd that one test works fine with unicode and the other does not. See also the suggestion https://github.com/bitcoin/bitcoin/pull/33186/files#r2281561637\r\n\r\n\r\n\r\n@w0xlt can you please check this ^^ ?\r\n\r\nAlso, aren't we essentially removing the unicode coverage from the CI with this change? `wallet_ancient_migration.py` test should always be enabled there.",
      "created_at": "2025-12-05T14:52:33Z",
      "updated_at": "2025-12-05T15:22:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2592962526",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592962526"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593023838",
      "pull_request_review_id": 3545108565,
      "id": 2593023838,
      "node_id": "PRRC_kwDOABII586ajmde",
      "diff_hunk": "@@ -0,0 +1,292 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test wallet migration from ancient versions to current version.\n+Tests two wallet types that are actually testable:\n+1. Non-HD wallet from v0.14.3\n+2. HD wallet from v0.14.3 (VERSION_HD_BASE)\n+\"\"\"\n+import os\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    get_datadir_path,\n+    initialize_datadir,\n+)\n+\n+class WalletMigrationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()  # Skip if wallet is not compiled in\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_network(self):\n+        # Don't setup nodes here, we'll do it per test\n+        self.nodes = []\n+\n+    def cleanup_nodes(self):\n+        \"\"\"Clean up nodes and their data directories between tests\"\"\"\n+        # Stop any running nodes\n+        for i in range(len(self.nodes)):\n+            if self.nodes[i].running:\n+                self.stop_node(i)\n+\n+        # Clean up data directories to ensure fresh start\n+        for i in range(len(self.nodes)):\n+            datadir = get_datadir_path(self.options.tmpdir, i)\n+            if os.path.exists(datadir):\n+                shutil.rmtree(datadir)\n+                self.log.debug(f\"Cleaned up datadir for node {i}\")\n+            # Re-initialize the datadir for the next test\n+            initialize_datadir(self.options.tmpdir, i, self.chain, self.disable_autoconnect)\n+\n+        # Clear the nodes list\n+        self.nodes = []\n+\n+    def migrate_wallet(self, wallet_type, extra_args_old):\n+        \"\"\"Common migration test logic\"\"\"\n+        self.log.info(f\"Testing {wallet_type} wallet migration from v0.14.3\")\n+\n+        # Clean up any existing nodes and data\n+        self.cleanup_nodes()\n+\n+        # Setup fresh nodes for this test\n+        self.add_nodes(\n+            2,\n+            versions=[\n+                140300,     # v0.14.3 node\n+                None,       # Current version for testing migration\n+            ],\n+        )\n+\n+        # Start the old node with specified args\n+        self.log.info(f\"Starting old node (v0.14.3) with {wallet_type} wallet...\")\n+        self.start_node(0, extra_args=extra_args_old)\n+\n+        # Save the datadir paths while nodes are running\n+        node0_datadir = self.nodes[0].datadir_path\n+        node1_datadir = self.nodes[1].datadir_path\n+\n+        # Generate some addresses and get wallet info from the old wallet\n+        self.log.info(\"Creating addresses and transactions in old wallet...\")\n+        old_addresses = []\n+        for i in range(5):\n+            addr = self.nodes[0].getnewaddress()\n+            old_addresses.append(addr)\n+            self.log.info(f\"  Generated address {i+1}: {addr}\")\n+\n+        # Get some wallet info before migration\n+        old_wallet_info = self.nodes[0].getwalletinfo()\n+        hdmasterkeyid = old_wallet_info.get('hdmasterkeyid', 'Not HD')\n+        self.log.info(f\"Old wallet info: HD master key = {hdmasterkeyid}\")\n+        assert('keypoolsize_hd_internal' not in old_wallet_info) # Ensure we are testing non-HD or single-chain (VERSION_HD_BASE) wallets\n+\n+        # Verify wallet type\n+        if \"non-HD\" in wallet_type:\n+            assert('hdmasterkeyid' not in old_wallet_info)\n+        else:\n+            assert('hdmasterkeyid' in old_wallet_info)",
      "path": "test/functional/wallet_ancient_migration.py",
      "position": 1,
      "original_position": 95,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Could check the wallet version here.\r\nThe non-hd one should have version 6000 (`WalletFeature::FEATURE_COMPRPUBKEY`) and the hd one should have version 130000 (`WalletFeature::FEATURE_HD`)",
      "created_at": "2025-12-05T15:11:45Z",
      "updated_at": "2025-12-05T15:21:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2593023838",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593023838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": 86,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593032651",
      "pull_request_review_id": 3545108565,
      "id": 2593032651,
      "node_id": "PRRC_kwDOABII586ajonL",
      "diff_hunk": "@@ -0,0 +1,292 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test wallet migration from ancient versions to current version.\n+Tests two wallet types that are actually testable:\n+1. Non-HD wallet from v0.14.3\n+2. HD wallet from v0.14.3 (VERSION_HD_BASE)\n+\"\"\"\n+import os\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    get_datadir_path,\n+    initialize_datadir,\n+)\n+\n+class WalletMigrationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()  # Skip if wallet is not compiled in\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_network(self):\n+        # Don't setup nodes here, we'll do it per test\n+        self.nodes = []\n+\n+    def cleanup_nodes(self):\n+        \"\"\"Clean up nodes and their data directories between tests\"\"\"\n+        # Stop any running nodes\n+        for i in range(len(self.nodes)):\n+            if self.nodes[i].running:\n+                self.stop_node(i)\n+\n+        # Clean up data directories to ensure fresh start\n+        for i in range(len(self.nodes)):\n+            datadir = get_datadir_path(self.options.tmpdir, i)\n+            if os.path.exists(datadir):\n+                shutil.rmtree(datadir)\n+                self.log.debug(f\"Cleaned up datadir for node {i}\")\n+            # Re-initialize the datadir for the next test\n+            initialize_datadir(self.options.tmpdir, i, self.chain, self.disable_autoconnect)\n+\n+        # Clear the nodes list\n+        self.nodes = []\n+\n+    def migrate_wallet(self, wallet_type, extra_args_old):\n+        \"\"\"Common migration test logic\"\"\"\n+        self.log.info(f\"Testing {wallet_type} wallet migration from v0.14.3\")\n+\n+        # Clean up any existing nodes and data\n+        self.cleanup_nodes()\n+\n+        # Setup fresh nodes for this test\n+        self.add_nodes(\n+            2,\n+            versions=[\n+                140300,     # v0.14.3 node\n+                None,       # Current version for testing migration\n+            ],\n+        )\n+\n+        # Start the old node with specified args\n+        self.log.info(f\"Starting old node (v0.14.3) with {wallet_type} wallet...\")\n+        self.start_node(0, extra_args=extra_args_old)\n+\n+        # Save the datadir paths while nodes are running\n+        node0_datadir = self.nodes[0].datadir_path\n+        node1_datadir = self.nodes[1].datadir_path\n+\n+        # Generate some addresses and get wallet info from the old wallet\n+        self.log.info(\"Creating addresses and transactions in old wallet...\")\n+        old_addresses = []\n+        for i in range(5):\n+            addr = self.nodes[0].getnewaddress()\n+            old_addresses.append(addr)\n+            self.log.info(f\"  Generated address {i+1}: {addr}\")\n+\n+        # Get some wallet info before migration\n+        old_wallet_info = self.nodes[0].getwalletinfo()\n+        hdmasterkeyid = old_wallet_info.get('hdmasterkeyid', 'Not HD')\n+        self.log.info(f\"Old wallet info: HD master key = {hdmasterkeyid}\")\n+        assert('keypoolsize_hd_internal' not in old_wallet_info) # Ensure we are testing non-HD or single-chain (VERSION_HD_BASE) wallets\n+\n+        # Verify wallet type\n+        if \"non-HD\" in wallet_type:\n+            assert('hdmasterkeyid' not in old_wallet_info)\n+        else:\n+            assert('hdmasterkeyid' in old_wallet_info)\n+\n+        # Generate some blocks to the first address to have balance\n+        self.log.info(\"Generating blocks to create balance...\")\n+        self.generatetoaddress(self.nodes[0], 101, old_addresses[0], sync_fun=lambda: None)\n+\n+        # Send some transactions to create history\n+        self.log.info(\"Creating transaction history...\")\n+        self.nodes[0].sendtoaddress(old_addresses[1], 0.1)\n+        self.nodes[0].sendtoaddress(old_addresses[2], 0.2)\n+        self.nodes[0].sendtoaddress(old_addresses[3], 0.3)\n+\n+        # Mine the transactions\n+        self.generatetoaddress(self.nodes[0], 1, old_addresses[0], sync_fun=lambda: None)\n+\n+        # Get the balance and transaction count\n+        old_balance = self.nodes[0].getbalance()\n+        old_txs = self.nodes[0].listtransactions(\"*\", 1000)\n+        old_tx_count = len(old_txs)\n+        self.log.info(f\"Old wallet balance: {old_balance} BTC\")\n+        self.log.info(f\"Old wallet transaction count: {old_tx_count}\")\n+        assert(old_balance > 0)\n+        assert(old_tx_count > 0)\n+\n+        # Get all addresses from transactions\n+        all_old_addresses = set()\n+        for tx in old_txs:\n+            if 'address' in tx:\n+                all_old_addresses.add(tx['address'])\n+\n+        self.log.info(f\"Total addresses in wallet transactions: {len(all_old_addresses)}\")\n+\n+        # Identify change addresses\n+        change_addresses = all_old_addresses - set(old_addresses)\n+        if change_addresses:\n+            self.log.info(f\"Found {len(change_addresses)} change addresses:\")\n+            for change_addr in change_addresses:\n+                self.log.info(f\"  Change address: {change_addr}\")\n+\n+        # Stop the old node\n+        self.log.info(\"Stopping old node...\")\n+        self.stop_node(0)\n+\n+        # Copy blockchain data from node0 to node1\n+        self.log.info(\"Copying blockchain data from old node to modern node...\")\n+        old_blocks_dir = os.path.join(node0_datadir, self.chain, \"blocks\")\n+        new_blocks_dir = os.path.join(node1_datadir, self.chain, \"blocks\")\n+\n+        # Clean up any existing blocks directory in node1\n+        if os.path.exists(new_blocks_dir):\n+            shutil.rmtree(new_blocks_dir)\n+\n+        if os.path.exists(old_blocks_dir):\n+            shutil.copytree(old_blocks_dir, new_blocks_dir)\n+            self.log.info(\"  Copied blocks directory\")\n+        assert(os.path.exists(new_blocks_dir))\n+\n+        # Start the modern node with -reindex-chainstate\n+        self.log.info(\"Starting modern node with -reindex-chainstate...\")\n+        self.start_node(1, extra_args=[\"-reindex-chainstate\"])\n+\n+        # Wait for reindex to complete\n+        self.log.info(\"Waiting for chainstate reindex to complete...\")\n+        self.wait_until(\n+            lambda: self.nodes[1].getblockcount() == 102,\n+            timeout=30\n+        )\n+\n+        # Verify the blockchain was loaded correctly\n+        node1_info = self.nodes[1].getblockchaininfo()\n+        self.log.info(f\"Modern node blockchain info: height={node1_info['blocks']}\")\n+        assert_equal(node1_info['blocks'], 102)\n+\n+        # Copy the old wallet to the modern node's wallet directory\n+        self.log.info(\"Copying old wallet to modern node...\")\n+        old_wallet_path = os.path.join(node0_datadir, self.chain, \"wallet.dat\")\n+        modern_wallets_dir = os.path.join(node1_datadir, self.chain, \"wallets\")\n+        os.makedirs(modern_wallets_dir, exist_ok=True)\n+\n+        migrated_wallet_dir = os.path.join(modern_wallets_dir, \"migrated_wallet\")\n+        # Clean up any existing migrated wallet\n+        if os.path.exists(migrated_wallet_dir):\n+            shutil.rmtree(migrated_wallet_dir)\n+        os.makedirs(migrated_wallet_dir, exist_ok=True)\n+        migrated_wallet_path = os.path.join(migrated_wallet_dir, \"wallet.dat\")\n+        shutil.copy2(old_wallet_path, migrated_wallet_path)\n+        assert(os.path.exists(migrated_wallet_path))\n+\n+        # Perform wallet migration\n+        self.log.info(\"Performing wallet migration to descriptor wallet...\")\n+        migration_result = self.nodes[1].migratewallet(\"migrated_wallet\")\n+        self.log.info(f\"Migration result: {migration_result}\")\n+\n+        assert('wallet_name' in migration_result)\n+        assert('backup_path' in migration_result)\n+        self.log.info(f\"Backup created at: {migration_result['backup_path']}\")\n+        assert(os.path.exists(migration_result['backup_path']))\n+\n+        # Rescan the blockchain\n+        self.log.info(\"Rescanning blockchain...\")\n+        self.nodes[1].rescanblockchain()",
      "path": "test/functional/wallet_ancient_migration.py",
      "position": 1,
      "original_position": 195,
      "commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "original_commit_id": "3b1b154c31dc6079f4cb475c8defad3ad81eb8f9",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "rescanning after migration shouldn't be needed",
      "created_at": "2025-12-05T15:14:44Z",
      "updated_at": "2025-12-05T15:21:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33186#discussion_r2593032651",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593032651"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33186"
        }
      },
      "start_line": null,
      "original_start_line": 193,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 195,
      "side": "RIGHT"
    }
  ]
}