{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946",
    "id": 1617714149,
    "node_id": "PR_kwDOABII585gbFvl",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28946",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28946.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28946.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28946",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28946/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
    "number": 28946,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "init: don't delete PID file if it was not generated",
    "user": {
      "login": "willcl-ark",
      "id": 6606587,
      "node_id": "MDQ6VXNlcjY2MDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willcl-ark",
      "html_url": "https://github.com/willcl-ark",
      "followers_url": "https://api.github.com/users/willcl-ark/followers",
      "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
      "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
      "repos_url": "https://api.github.com/users/willcl-ark/repos",
      "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In a similar vein to #28784, if a second `bitcoind` is started using the same datadir it will fail to start up, but during shutdown remove the PID file from the first `bitcoind` instance.",
    "labels": [],
    "created_at": "2023-11-27T10:42:19Z",
    "updated_at": "2023-12-01T16:11:35Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "98868535b65254f9d60ffe3a8646d3650c3eb339",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "willcl-ark:fix-pidfile-delete",
      "ref": "fix-pidfile-delete",
      "sha": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 164122552,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjQxMjI1NTI=",
        "name": "bitcoin",
        "full_name": "willcl-ark/bitcoin",
        "owner": {
          "login": "willcl-ark",
          "id": 6606587,
          "node_id": "MDQ6VXNlcjY2MDY1ODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/willcl-ark",
          "html_url": "https://github.com/willcl-ark",
          "followers_url": "https://api.github.com/users/willcl-ark/followers",
          "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
          "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
          "repos_url": "https://api.github.com/users/willcl-ark/repos",
          "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/willcl-ark/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/willcl-ark/bitcoin",
        "archive_url": "https://api.github.com/repos/willcl-ark/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/willcl-ark/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/willcl-ark/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/willcl-ark/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/willcl-ark/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/willcl-ark/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/willcl-ark/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/willcl-ark/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/willcl-ark/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/willcl-ark/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/willcl-ark/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/willcl-ark/bitcoin/events",
        "forks_url": "https://api.github.com/repos/willcl-ark/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/willcl-ark/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/willcl-ark/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/willcl-ark/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/willcl-ark/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/willcl-ark/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/willcl-ark/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/willcl-ark/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/willcl-ark/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/willcl-ark/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:willcl-ark/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/willcl-ark/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/willcl-ark/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/willcl-ark/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/willcl-ark/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/willcl-ark/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/willcl-ark/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/willcl-ark/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/willcl-ark/bitcoin/hooks",
        "svn_url": "https://github.com/willcl-ark/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 227446,
        "default_branch": "master",
        "open_issues_count": 5,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-12-01T11:49:46Z",
        "created_at": "2019-01-04T15:17:29Z",
        "updated_at": "2023-11-07T12:50:29Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "498994b6f55d04a7940f832e7fbd17e5acdaff15",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36058,
        "stargazers_count": 72392,
        "watchers_count": 72392,
        "size": 245729,
        "default_branch": "master",
        "open_issues_count": 656,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-12-01T14:19:53Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-12-01T16:55:30Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 22,
    "deletions": 7,
    "changed_files": 2,
    "commits": 1,
    "review_comments": 21,
    "comments": 5
  },
  "events": [
    {
      "event": "commented",
      "id": 1827581320,
      "node_id": "IC_kwDOABII585s7q2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1827581320",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T10:42:22Z",
      "updated_at": "2023-12-01T16:11:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28946).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/28946#pullrequestreview-1760140851) |\n| Stale ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/28946#issuecomment-1830013018) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28784](https://github.com/bitcoin/bitcoin/pull/28784) (rpc: keep `.cookie` file if it was not generated by romanz)\n* [#28051](https://github.com/bitcoin/bitcoin/pull/28051) (Get rid of shutdown.cpp/shutdown.h, use SignalInterrupt directly by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#issuecomment-1827581320",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28946"
    },
    {
      "event": "commented",
      "id": 1827586352,
      "node_id": "IC_kwDOABII585s7sEw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1827586352",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T10:45:41Z",
      "updated_at": "2023-11-27T10:45:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "You can test similarly to #28784:\r\n\r\n```sh\r\nwill@ubuntu in ~ :\r\nâ‚¿ bitcoind -regtest -daemon=1\r\nBitcoin Core starting\r\n\r\nwill@ubuntu in ~ : \r\nâ‚¿ file ~/.bitcoin/regtest/bitcoind.pid\r\n/home/will/.bitcoin/regtest/bitcoind.pid: ASCII text\r\n\r\nwill@ubuntu in ~ :\r\nâ‚¿ bitcoind -regtest  -daemon=1\r\nError: Cannot obtain a lock on data directory /home/will/.bitcoin/regtest. Bitcoin Core is probably already running.\r\n\r\nwill@ubuntu in ~ :\r\nâ‚¿ file ~/.bitcoin/regtest/bitcoind.pid\r\n/home/will/.bitcoin/regtest/bitcoind.pid: cannot open `/home/will/.bitcoin/regtest/bitcoind.pid' (No such file or directory)\r\n```",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#issuecomment-1827586352",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28946"
    },
    {
      "event": "reviewed",
      "id": 1750142428,
      "node_id": "PRR_kwDOABII585oUQ3c",
      "url": null,
      "actor": null,
      "commit_id": "5eefe8d2433aa85f9dc866b7cf726ea436e6f80d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#pullrequestreview-1750142428",
      "submitted_at": "2023-11-27T10:48:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11069424546,
      "node_id": "HRFPE_lADOABII58537HoWzwAAAAKTygOi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11069424546",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T10:54:27Z"
    },
    {
      "event": "commented",
      "id": 1827601447,
      "node_id": "IC_kwDOABII585s7vwn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1827601447",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T10:54:55Z",
      "updated_at": "2023-11-27T10:54:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @maflcko, I took the suggestions in 98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#issuecomment-1827601447",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28946"
    },
    {
      "event": "mentioned",
      "id": 11069430299,
      "node_id": "MEE_lADOABII58537HoWzwAAAAKTyhob",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11069430299",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T10:54:55Z"
    },
    {
      "event": "subscribed",
      "id": 11069430323,
      "node_id": "SE_lADOABII58537HoWzwAAAAKTyhoz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11069430323",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T10:54:55Z"
    },
    {
      "event": "reviewed",
      "id": 1750549060,
      "node_id": "PRR_kwDOABII585oV0JE",
      "url": null,
      "actor": null,
      "commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#pullrequestreview-1750549060",
      "submitted_at": "2023-11-27T14:41:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T15:36:04Z",
      "updated_at": "2023-11-27T15:36:04Z",
      "source": {
        "issue": {
          "id": 1976453801,
          "node_id": "PR_kwDOABII585ejQIe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28784",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28784/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28784/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28784/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28784",
          "number": 28784,
          "state": "open",
          "state_reason": null,
          "title": "rpc: keep `.cookie` file if it was not generated",
          "body": "Otherwise, starting bitcoind twice may cause the `.cookie` file generated by the first instance to be deleted by the second instance shutdown (after failing to obtain a lock).\r\n",
          "user": {
            "login": "romanz",
            "id": 9900,
            "node_id": "MDQ6VXNlcjk5MDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/romanz",
            "html_url": "https://github.com/romanz",
            "followers_url": "https://api.github.com/users/romanz/followers",
            "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
            "organizations_url": "https://api.github.com/users/romanz/orgs",
            "repos_url": "https://api.github.com/users/romanz/repos",
            "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/romanz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28784",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28784",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28784.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28784.patch"
          },
          "created_at": "2023-11-03T15:30:33Z",
          "updated_at": "2023-12-01T11:29:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11072904556,
      "node_id": "HRFPE_lADOABII58537HoWzwAAAAKT_x1s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11072904556",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T15:58:00Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-27T17:01:00Z",
      "updated_at": "2023-11-27T17:01:00Z",
      "source": {
        "issue": {
          "id": 1794480203,
          "node_id": "PR_kwDOABII585U9_dX",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28051",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28051/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28051/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28051/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28051",
          "number": 28051,
          "state": "open",
          "state_reason": null,
          "title": "Get rid of shutdown.cpp/shutdown.h, use SignalInterrupt directly",
          "body": "This change just removes some code and gets rid of an unnecessary layer of indirection after #27861\r\n\r\nThis also gets rid of the `kernel::g_context` global and exceptions thrown by the `SignalInterrupt` class mentioned https://github.com/bitcoin/bitcoin/pull/27861#discussion_r1255496707",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28051",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28051",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28051.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28051.patch"
          },
          "created_at": "2023-07-07T22:26:18Z",
          "updated_at": "2023-12-01T15:17:11Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1830013018,
      "node_id": "IC_kwDOABII585tE8ha",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1830013018",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-28T14:56:11Z",
      "updated_at": "2023-11-28T14:56:11Z",
      "author_association": "MEMBER",
      "body": "ACK e56e8cdf9cda1712f4a415aa9af34ced3e78dfb2",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#issuecomment-1830013018",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28946"
    },
    {
      "event": "review_requested",
      "id": 11084775842,
      "node_id": "RRE_lADOABII58537HoWzwAAAAKUtEGi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11084775842",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-28T14:56:16Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1754078407,
      "node_id": "PRR_kwDOABII585ojRzH",
      "url": null,
      "actor": null,
      "commit_id": "e56e8cdf9cda1712f4a415aa9af34ced3e78dfb2",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#pullrequestreview-1754078407",
      "submitted_at": "2023-11-28T22:38:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
    },
    {
      "event": "review_requested",
      "id": 11089518502,
      "node_id": "RRE_lADOABII58537HoWzwAAAAKU_J-m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11089518502",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-28T22:38:43Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "subscribed",
      "id": 11092072042,
      "node_id": "SE_lADOABII58537HoWzwAAAAKVI5Zq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11092072042",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-29T06:19:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11094083180,
      "node_id": "HRFPE_lADOABII58537HoWzwAAAAKVQkZs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11094083180",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-29T09:54:00Z"
    },
    {
      "event": "reviewed",
      "id": 1755003441,
      "node_id": "PRR_kwDOABII585omzox",
      "url": null,
      "actor": null,
      "commit_id": "82f18e907a2af5a47e805861234de4672ed6d801",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 82f18e907a2af5a47e805861234de4672ed6d801",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#pullrequestreview-1755003441",
      "submitted_at": "2023-11-29T11:16:49Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
    },
    {
      "event": "review_requested",
      "id": 11095014716,
      "node_id": "RRE_lADOABII58537HoWzwAAAAKVUH08",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11095014716",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-29T11:16:53Z",
      "requested_reviewer": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1835990929,
      "node_id": "IC_kwDOABII585tbv-R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1835990929",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-01T11:49:14Z",
      "updated_at": "2023-12-01T11:49:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "@stickies-v took most of your suggestions in 2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#issuecomment-1835990929",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28946"
    },
    {
      "event": "mentioned",
      "id": 11121297236,
      "node_id": "MEE_lADOABII58537HoWzwAAAAKW4YdU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11121297236",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-01T11:49:14Z"
    },
    {
      "event": "subscribed",
      "id": 11121297255,
      "node_id": "SE_lADOABII58537HoWzwAAAAKW4Ydn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11121297255",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-01T11:49:14Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJiMjhmN2RmMmI3ZGQxNDBlNTJlOTNlZjNlMWEzMzBkYjhkYTMyYTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "tree": {
        "sha": "13c1690985bb15909935e06ebe168d8146b8497b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/13c1690985bb15909935e06ebe168d8146b8497b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 13c1690985bb15909935e06ebe168d8146b8497b\nparent 5f9fd11680af43b0d0d80a6aa4f315aa04afeac4\nauthor willcl-ark <will@256k1.dev> 1701080942 +0000\ncommitter willcl-ark <will@256k1.dev> 1701431377 +0000\n\ninit: don't delete PID file if it was not generated\n\nPreviously, starting a second bitcoind using the same datadir would\ncorrectly fail to init and shutdown. However during shutdown the PID\nfile belonging to the first instance would be erroneously removed by\nthe second process shutting down.\n\nFix this to only delete the PID file if we created it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVpyFIACgkQzm7EmUXB\nfqYUJQ//ai7pESX3TX1BSJ77wISgIa1InUQThzB9rjWyjRIUX1eVijm8X4VJlueq\n6X/RmqbUYdkV2hVbBjdbxfOn+ilISBFrXU6lwWYjCwPbd4HSl5AaPYsNs9Hgwu1y\numIOfOkoaNuS/wM+VoPtcBr/OusicyYWHPwE6Ar/YBgRX0yrKHEUg/C/UPNn/ySs\n+7aM1kp/y/rbvmkQAesGLJ3ZGyJiegsyg4qnjrQx9UAv2JqhaoVIfgKTOtY9U6Jm\nN+J7/3nBbatoFgNNOmVfYQjeFs6pFfxX/7ocKJ0b/fZqTr5b+2o4hAEE9CtWOlCC\nno+vC9icixUit5EvTAB1hdCftdcqY4qgIDRYDAZL1R2oeun7ngr0awkbPEqDIOHr\n7mEqnTf3HRs+fGMdkJApTgyu2E3AJv0L0Z7NVkFWeCoL7hUDcKHFQJbE87cynpam\nALXlN+6G6lrE43mm6bqJAUMuhNBQ3e+qY5i0eVzbOt+YrApFZXG+V7GT4iMoHVzE\nYwrbHRZsgluZhdDptf8k9hcnxz8vGtB7Gl08cjjbZigKSDu3cdschHos/tOLyMTO\nS1V3QfE8A8nULMfmG0s1W14VrhUUMKvXDpeqPE0u5NpweRBrEf21wOsXnb/wB8hF\n93ZQtkEdr0l6NNZ3KXJakdmhrDsRj73+aHSVnmP4LVUI9dcxI1o=\n=/Etk\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5f9fd11680af43b0d0d80a6aa4f315aa04afeac4",
          "sha": "5f9fd11680af43b0d0d80a6aa4f315aa04afeac4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5f9fd11680af43b0d0d80a6aa4f315aa04afeac4"
        }
      ],
      "message": "init: don't delete PID file if it was not generated\n\nPreviously, starting a second bitcoind using the same datadir would\ncorrectly fail to init and shutdown. However during shutdown the PID\nfile belonging to the first instance would be erroneously removed by\nthe second process shutting down.\n\nFix this to only delete the PID file if we created it.",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-12-01T11:49:37Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-27T10:29:02Z"
      },
      "sha": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11121302131,
      "node_id": "HRFPE_lADOABII58537HoWzwAAAAKW4Zpz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11121302131",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-01T11:49:50Z"
    },
    {
      "event": "reviewed",
      "id": 1760140851,
      "node_id": "PRR_kwDOABII585o6Z4z",
      "url": null,
      "actor": null,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#pullrequestreview-1760140851",
      "submitted_at": "2023-12-01T16:11:32Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405973543",
      "pull_request_review_id": 1750142428,
      "id": 1405973543,
      "node_id": "PRRC_kwDOABII585TzXQn",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(NodeContext& node)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(*node.args))) {\n+            LogPrintf(\"%s: Unable to remove PID file: File does not exist\\n\", __func__);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "5eefe8d2433aa85f9dc866b7cf726ea436e6f80d",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n            LogPrintf(\"Unable to remove PID file: File does not exist\\n\");\r\n```\r\n\r\nnit: No need to take this over, if you change the function name, the warning is already unique, and user can enable to print the function name, if they really want to.",
      "created_at": "2023-11-27T10:48:22Z",
      "updated_at": "2023-11-27T10:48:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1405973543",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405973543"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 186,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405973897",
      "pull_request_review_id": 1750142428,
      "id": 1405973897,
      "node_id": "PRRC_kwDOABII585TzXWJ",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(NodeContext& node)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(*node.args))) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "5eefe8d2433aa85f9dc866b7cf726ea436e6f80d",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: No need to pass `node`, when you only need args?",
      "created_at": "2023-11-27T10:48:38Z",
      "updated_at": "2023-11-27T10:48:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1405973897",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405973897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405974198",
      "pull_request_review_id": 1750142428,
      "id": 1405974198,
      "node_id": "PRRC_kwDOABII585TzXa2",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(NodeContext& node)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(*node.args))) {\n+            LogPrintf(\"%s: Unable to remove PID file: File does not exist\\n\", __func__);\n+        }\n+    } catch (const fs::filesystem_error& e) {\n+        LogPrintf(\"%s: Unable to remove PID file: %s\\n\", __func__, fsbridge::get_filesystem_error_message(e));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "5eefe8d2433aa85f9dc866b7cf726ea436e6f80d",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same",
      "created_at": "2023-11-27T10:48:47Z",
      "updated_at": "2023-11-27T10:48:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1405974198",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405974198"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 189,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405978974",
      "pull_request_review_id": 1750150988,
      "id": 1405978974,
      "node_id": "PRRC_kwDOABII585TzYle",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(NodeContext& node)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(*node.args))) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "5eefe8d2433aa85f9dc866b7cf726ea436e6f80d",
      "in_reply_to_id": 1405973897,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh yeah, that's nicer. Will fix.",
      "created_at": "2023-11-27T10:51:06Z",
      "updated_at": "2023-11-27T10:51:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1405978974",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1405978974"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406231483",
      "pull_request_review_id": 1750549060,
      "id": 1406231483,
      "node_id": "PRRC_kwDOABII585T0WO7",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(args))) {\n+            LogPrintf(\"Unable to remove PID file: File does not exist\\n\");\n+        }\n+    } catch (const fs::filesystem_error& e) {\n+        LogPrintf(\"Unable to remove PID file: %s\\n\", fsbridge::get_filesystem_error_message(e));\n+    }",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: can be simplified\r\n\r\n```suggestion\r\n    if (std::error_code error; !fs::remove(GetPidFile(args), error)) {\r\n        std::string msg{error ? error.message() : \"File does not exist\"};\r\n        LogPrintf(\"Unable to remove PID file: %s\\n\", msg);\r\n    }\r\n```",
      "created_at": "2023-11-27T14:18:54Z",
      "updated_at": "2023-11-27T14:41:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406231483",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406231483"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": 184,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 192,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406240555",
      "pull_request_review_id": 1750549060,
      "id": 1406240555,
      "node_id": "PRRC_kwDOABII585T0Ycr",
      "diff_hunk": "@@ -30,6 +30,10 @@ def run_test(self):\n         expected_msg = f\"Error: Cannot obtain a lock on data directory {datadir}. {self.config['environment']['PACKAGE_NAME']} is probably already running.\"\n         self.nodes[1].assert_start_raises_init_error(extra_args=[f'-datadir={self.nodes[0].datadir_path}', '-noserver'], expected_msg=expected_msg)\n \n+        self.log.info(\"Check that cookie and PID files are not deleted when attempting to start a second bitcoind using the same datadir\")",
      "path": "test/functional/feature_filelock.py",
      "position": null,
      "original_position": 4,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "cookie file is not yet checked here, would leave that for the other pull",
      "created_at": "2023-11-27T14:25:09Z",
      "updated_at": "2023-11-27T14:41:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406240555",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406240555"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406262955",
      "pull_request_review_id": 1750549060,
      "id": 1406262955,
      "node_id": "PRRC_kwDOABII585T0d6r",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)",
      "path": "src/init.cpp",
      "position": 23,
      "original_position": 19,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "~#28784 stores the path in `static std::optional<std::string> g_generated_cookie`~. I don't have a particularly strong conviction in either direction, but I'd use the same approach for both. Storing the location of the file to be deleted seems a bit more robust, so I think I'd lean towards this approach:\r\n\r\n<details>\r\n<summary>git diff on 98ba5ba0cc</summary>\r\n\r\n```diff\r\ndiff --git a/src/init.cpp b/src/init.cpp\r\nindex afa0ab1ee6..f2d74db13f 100644\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -96,6 +96,7 @@\r\n #include <cstdio>\r\n #include <fstream>\r\n #include <functional>\r\n+#include <optional>\r\n #include <set>\r\n #include <string>\r\n #include <thread>\r\n@@ -155,7 +156,7 @@ static const char* DEFAULT_ASMAP_FILENAME=\"ip_asn.map\";\r\n  * The PID file facilities.\r\n  */\r\n static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\r\n-static bool g_generated_pid{false};\r\n+static std::optional<fs::path> g_generated_pid;\r\n \r\n static fs::path GetPidFile(const ArgsManager& args)\r\n {\r\n@@ -164,25 +165,26 @@ static fs::path GetPidFile(const ArgsManager& args)\r\n \r\n [[nodiscard]] static bool CreatePidFile(const ArgsManager& args)\r\n {\r\n-    std::ofstream file{GetPidFile(args)};\r\n+    const fs::path pid_path{GetPidFile(args)};\r\n+    std::ofstream file{pid_path};\r\n     if (file) {\r\n #ifdef WIN32\r\n         tfm::format(file, \"%d\\n\", GetCurrentProcessId());\r\n #else\r\n         tfm::format(file, \"%d\\n\", getpid());\r\n #endif\r\n-        g_generated_pid = true;\r\n+        g_generated_pid = pid_path;\r\n         return true;\r\n     } else {\r\n-        return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\r\n+        return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(pid_path), SysErrorString(errno)));\r\n     }\r\n }\r\n \r\n-static void RemovePidFile(const ArgsManager& args)\r\n+static void RemovePidFile()\r\n {\r\n     if (!g_generated_pid) return;\r\n     try {\r\n-        if (!fs::remove(GetPidFile(args))) {\r\n+        if (!fs::remove(g_generated_pid.value())) {\r\n             LogPrintf(\"Unable to remove PID file: File does not exist\\n\");\r\n         }\r\n     } catch (const fs::filesystem_error& e) {\r\n@@ -364,7 +366,7 @@ void Shutdown(NodeContext& node)\r\n     node.scheduler.reset();\r\n     node.kernel.reset();\r\n \r\n-    RemovePidFile(*node.args);\r\n+    RemovePidFile();\r\n \r\n     LogPrintf(\"%s: done\\n\", __func__);\r\n }\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2023-11-27T14:39:49Z",
      "updated_at": "2023-11-27T14:48:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406262955",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406262955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406269146",
      "pull_request_review_id": 1750607604,
      "id": 1406269146,
      "node_id": "PRRC_kwDOABII585T0fba",
      "diff_hunk": "@@ -30,6 +30,10 @@ def run_test(self):\n         expected_msg = f\"Error: Cannot obtain a lock on data directory {datadir}. {self.config['environment']['PACKAGE_NAME']} is probably already running.\"\n         self.nodes[1].assert_start_raises_init_error(extra_args=[f'-datadir={self.nodes[0].datadir_path}', '-noserver'], expected_msg=expected_msg)\n \n+        self.log.info(\"Check that cookie and PID files are not deleted when attempting to start a second bitcoind using the same datadir\")",
      "path": "test/functional/feature_filelock.py",
      "position": null,
      "original_position": 4,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406240555,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, thanks. I wrote this commit on top as I was reviewing the other one, then cherry-picked and made it standalone. I guess this slipped through.",
      "created_at": "2023-11-27T14:44:09Z",
      "updated_at": "2023-11-27T14:44:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406269146",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406269146"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406269624",
      "pull_request_review_id": 1750608358,
      "id": 1406269624,
      "node_id": "PRRC_kwDOABII585T0fi4",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)",
      "path": "src/init.cpp",
      "position": 23,
      "original_position": 19,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406262955,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, looking at 28784 more closely it seems `g_generated_cookie` stores the cookie, not the path. My bad.",
      "created_at": "2023-11-27T14:44:29Z",
      "updated_at": "2023-11-27T14:44:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406269624",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406269624"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406275659",
      "pull_request_review_id": 1750617730,
      "id": 1406275659,
      "node_id": "PRRC_kwDOABII585T0hBL",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)",
      "path": "src/init.cpp",
      "position": 23,
      "original_position": 19,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406262955,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I prefer the idea of storing a bool with whether it has been generated or not, and use the `{Get|Create|Remove}PidFile()` functions as necessary.",
      "created_at": "2023-11-27T14:48:33Z",
      "updated_at": "2023-11-27T14:48:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406275659",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406275659"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406279982",
      "pull_request_review_id": 1750624728,
      "id": 1406279982,
      "node_id": "PRRC_kwDOABII585T0iEu",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(args))) {\n+            LogPrintf(\"Unable to remove PID file: File does not exist\\n\");\n+        }\n+    } catch (const fs::filesystem_error& e) {\n+        LogPrintf(\"Unable to remove PID file: %s\\n\", fsbridge::get_filesystem_error_message(e));\n+    }",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406231483,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is passing error codes our preferred error handling technique, or just slightly shorter?\r\n\r\nI'd naturally opt for the former, and I think errors from it will be slightly more detailed, including an error msg instead of only error code (although it doesn't make much difference in this case), but can very easily be persuaded to switch to the latter if it's preferred...",
      "created_at": "2023-11-27T14:51:31Z",
      "updated_at": "2023-11-27T14:51:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406279982",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406279982"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": 184,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 192,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406340008",
      "pull_request_review_id": 1750727367,
      "id": 1406340008,
      "node_id": "PRRC_kwDOABII585T0wuo",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(args))) {\n+            LogPrintf(\"Unable to remove PID file: File does not exist\\n\");\n+        }\n+    } catch (const fs::filesystem_error& e) {\n+        LogPrintf(\"Unable to remove PID file: %s\\n\", fsbridge::get_filesystem_error_message(e));\n+    }",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406231483,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I just like the brevity of it. I'm using `error.message()` and not `error.value()` so the user will see a user friendly error message. Could include the pid path in the log line if preferred, probably helpful to the user to know which file to change permissions on indeed.\r\n\r\nFor example, with this patch and `chmod a-w` on the datadir this will print:\r\n> Unable to remove PID file: Permission denied\r\n\r\nFor a missing file, this will print\r\n> Unable to remove PID file: File does not exist",
      "created_at": "2023-11-27T15:31:01Z",
      "updated_at": "2023-11-27T15:31:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406340008",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406340008"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": 184,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 192,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406343248",
      "pull_request_review_id": 1750734612,
      "id": 1406343248,
      "node_id": "PRRC_kwDOABII585T0xhQ",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)",
      "path": "src/init.cpp",
      "position": 23,
      "original_position": 19,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406262955,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm okay with the boolean approach if you prefer it. I just like the \"we created **this** file, so let's remove **this** file\" explicitness over \"we created **a** file, so let's remove **a** file\". But in practice, no big difference.",
      "created_at": "2023-11-27T15:33:11Z",
      "updated_at": "2023-11-27T15:33:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406343248",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406343248"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406385712",
      "pull_request_review_id": 1750791897,
      "id": 1406385712,
      "node_id": "PRRC_kwDOABII585T074w",
      "diff_hunk": "@@ -170,12 +171,26 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    try {\n+        if (!fs::remove(GetPidFile(args))) {\n+            LogPrintf(\"Unable to remove PID file: File does not exist\\n\");\n+        }\n+    } catch (const fs::filesystem_error& e) {\n+        LogPrintf(\"Unable to remove PID file: %s\\n\", fsbridge::get_filesystem_error_message(e));\n+    }",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406231483,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've taken this in e56e8cdf9cda1712f4a415aa9af34ced3e78dfb2 and added the pid path to the log message.",
      "created_at": "2023-11-27T15:58:22Z",
      "updated_at": "2023-11-27T15:58:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406385712",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406385712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": 184,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 192,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406385947",
      "pull_request_review_id": 1750792292,
      "id": 1406385947,
      "node_id": "PRRC_kwDOABII585T078b",
      "diff_hunk": "@@ -30,6 +30,10 @@ def run_test(self):\n         expected_msg = f\"Error: Cannot obtain a lock on data directory {datadir}. {self.config['environment']['PACKAGE_NAME']} is probably already running.\"\n         self.nodes[1].assert_start_raises_init_error(extra_args=[f'-datadir={self.nodes[0].datadir_path}', '-noserver'], expected_msg=expected_msg)\n \n+        self.log.info(\"Check that cookie and PID files are not deleted when attempting to start a second bitcoind using the same datadir\")",
      "path": "test/functional/feature_filelock.py",
      "position": null,
      "original_position": 4,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "98ba5ba0cc0cb94b51595248041db972a9ef5a09",
      "in_reply_to_id": 1406240555,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is fixed in e56e8cdf9cda1712f4a415aa9af34ced3e78dfb2",
      "created_at": "2023-11-27T15:58:29Z",
      "updated_at": "2023-11-27T15:58:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1406385947",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1406385947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1408502903",
      "pull_request_review_id": 1754078407,
      "id": 1408502903,
      "node_id": "PRRC_kwDOABII585T9Ax3",
      "diff_hunk": "@@ -170,12 +171,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    if (std::error_code error; !fs::remove(GetPidFile(args), error)) {\n+        std::string msg{error ? error.message() : \"File does not exist\"};\n+        auto pid_path = args.GetPathArg(\"-pid\", BITCOIN_PID_FILENAME);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "e56e8cdf9cda1712f4a415aa9af34ced3e78dfb2",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Wouldn't it be better to just use `GetPidFile()`?",
      "created_at": "2023-11-28T22:38:39Z",
      "updated_at": "2023-11-28T22:38:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1408502903",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1408502903"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 186,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409032524",
      "pull_request_review_id": 1754863987,
      "id": 1409032524,
      "node_id": "PRRC_kwDOABII585T_CFM",
      "diff_hunk": "@@ -170,12 +171,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    if (std::error_code error; !fs::remove(GetPidFile(args), error)) {\n+        std::string msg{error ? error.message() : \"File does not exist\"};\n+        auto pid_path = args.GetPathArg(\"-pid\", BITCOIN_PID_FILENAME);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "e56e8cdf9cda1712f4a415aa9af34ced3e78dfb2",
      "in_reply_to_id": 1408502903,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree that's cleaner. Fixed in 82f18e907a along with a typo in the commit message.",
      "created_at": "2023-11-29T09:54:35Z",
      "updated_at": "2023-11-29T09:54:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1409032524",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409032524"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 186,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409121577",
      "pull_request_review_id": 1755003441,
      "id": 1409121577,
      "node_id": "PRRC_kwDOABII585T_X0p",
      "diff_hunk": "@@ -170,12 +171,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)",
      "path": "src/init.cpp",
      "position": 23,
      "original_position": 19,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "82f18e907a2af5a47e805861234de4672ed6d801",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: quick docstring would be nice\r\n\r\n```\r\n/**\r\n * Remove PID file, but only if it was also generated by this process to avoid problems when\r\n * multiple bitcoind processes are started on the same datadir.\r\n */\r\n```\r\n\r\n<details>\r\n<summary>git diff on 82f18e907a</summary>\r\n\r\n```diff\r\ndiff --git a/src/init.cpp b/src/init.cpp\r\nindex fced24a6ff..7a87467252 100644\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -177,7 +177,10 @@ static fs::path GetPidFile(const ArgsManager& args)\r\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\r\n     }\r\n }\r\n-\r\n+/**\r\n+ * Remove PID file, but only if it was also generated by this process to avoid problems when\r\n+ * multiple bitcoind processes are started on the same datadir.\r\n+ */\r\n static void RemovePidFile(const ArgsManager& args)\r\n {\r\n     if (!g_generated_pid) return;\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2023-11-29T11:05:13Z",
      "updated_at": "2023-11-29T11:16:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1409121577",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409121577"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409122062",
      "pull_request_review_id": 1755003441,
      "id": 1409122062,
      "node_id": "PRRC_kwDOABII585T_X8O",
      "diff_hunk": "@@ -170,12 +171,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    auto pid_path = GetPidFile(args);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "82f18e907a2af5a47e805861234de4672ed6d801",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n    const auto pid_path{GetPidFile(args)};\r\n```",
      "created_at": "2023-11-29T11:05:38Z",
      "updated_at": "2023-11-29T11:16:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1409122062",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409122062"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 184,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409133463",
      "pull_request_review_id": 1755003441,
      "id": 1409133463,
      "node_id": "PRRC_kwDOABII585T_auX",
      "diff_hunk": "@@ -170,12 +171,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n #else\n         tfm::format(file, \"%d\\n\", getpid());\n #endif\n+        g_generated_pid = true;\n         return true;\n     } else {\n         return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), fs::PathToString(GetPidFile(args)), SysErrorString(errno)));\n     }\n }\n \n+static void RemovePidFile(const ArgsManager& args)\n+{\n+    if (!g_generated_pid) return;\n+    auto pid_path = GetPidFile(args);\n+    if (std::error_code error; !fs::remove(pid_path, error)) {\n+        std::string msg{error ? error.message() : \"File does not exist\"};\n+        LogPrintf(\"Unable to remove PID file %s: %s\\n\", fs::quoted(fs::PathToString(pid_path)), msg);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "82f18e907a2af5a47e805861234de4672ed6d801",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I'm not sure how important the quoting is, could just use parentheses to make it a bit more concise?\r\n\r\n```suggestion\r\n        LogPrintf(\"Unable to remove PID file (%s): %s\\n\", fs::PathToString(pid_path), msg);\r\n```",
      "created_at": "2023-11-29T11:15:57Z",
      "updated_at": "2023-11-29T11:16:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1409133463",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1409133463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1412308897",
      "pull_request_review_id": 1760140851,
      "id": 1412308897,
      "node_id": "PRRC_kwDOABII585ULh-h",
      "diff_hunk": "@@ -155,6 +155,11 @@ static const char* DEFAULT_ASMAP_FILENAME=\"ip_asn.map\";\n  * The PID file facilities.\n  */\n static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n+/**\n+ * Whether this process has created a PID file.\n+ * Used when determining whether we should remove the PID file on shutdown.\n+ */",
      "path": "src/init.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "original_commit_id": "2b28f7df2b7dd140e52e93ef3e1a330db8da32a9",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think this more clearly explains the rationale without being too explicit about implementation\r\n```suggestion\r\n//! True if this process created the pid file, so we don't delete it too early if multiple processes were started\r\n```",
      "created_at": "2023-12-01T16:10:53Z",
      "updated_at": "2023-12-01T16:12:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28946#discussion_r1412308897",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1412308897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28946"
        }
      },
      "start_line": 158,
      "original_start_line": 158,
      "start_side": "RIGHT",
      "line": 161,
      "original_line": 161,
      "side": "RIGHT"
    }
  ]
}