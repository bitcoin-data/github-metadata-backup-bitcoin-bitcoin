{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014",
    "id": 182394116,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyMzk0MTE2",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13014",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/13014.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/13014.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13014",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13014/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
    "number": 13014,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Allow txindex in prune mode",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Idea is outlined here: #12651\r\n\r\nThis allows to enable the txindex when pruning is enabled.\r\nDuring pruning a block file, the `CDiskTxPos` objects in the txindex do get migrated to a \"per-blockheight\" approach allowing to get the blockhash and tx-position of every txid.\r\n\r\nOnce #10794 (`requestblocks`, or similar) is merged, `getrawtransaction` could wait until the block is fetched via the connected peers and return the transaction. Retrieving a transaction would still be fast enough for non-high-load usage (less then a second to a couple of seconds).\r\n\r\nThis would allow to run a txindex with ~20GB of diskspace for non high-load usage like personal block explorers.\r\n\r\nToDo:\r\n* [ ] Tests\r\n* [ ] Release-Notes",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      },
      {
        "id": 749416508,
        "node_id": "MDU6TGFiZWw3NDk0MTY1MDg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Up%20for%20grabs",
        "name": "Up for grabs",
        "color": "99a810",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2018-04-18T07:49:25Z",
    "updated_at": "2021-12-16T14:11:40Z",
    "closed_at": "2018-12-12T19:23:25Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "18524d286dcada6377a2907d0de4b6e215fe2cb3",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "jonasschnelli:2018/04/txindex_prune",
      "ref": "2018/04/txindex_prune",
      "sha": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 9264454,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjY0NDU0",
        "name": "bitcoin",
        "full_name": "jonasschnelli/bitcoin",
        "owner": {
          "login": "jonasschnelli",
          "id": 178464,
          "node_id": "MDQ6VXNlcjE3ODQ2NA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonasschnelli",
          "html_url": "https://github.com/jonasschnelli",
          "followers_url": "https://api.github.com/users/jonasschnelli/followers",
          "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
          "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
          "repos_url": "https://api.github.com/users/jonasschnelli/repos",
          "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonasschnelli/bitcoin",
        "fork": true,
        "url": "https://api.github.com/repos/jonasschnelli/bitcoin",
        "archive_url": "https://api.github.com/repos/jonasschnelli/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonasschnelli/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonasschnelli/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonasschnelli/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonasschnelli/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonasschnelli/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonasschnelli/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonasschnelli/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonasschnelli/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonasschnelli/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonasschnelli/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonasschnelli/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonasschnelli/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonasschnelli/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonasschnelli/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonasschnelli/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonasschnelli/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonasschnelli/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonasschnelli/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonasschnelli/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonasschnelli/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonasschnelli/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonasschnelli/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonasschnelli/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonasschnelli/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonasschnelli/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonasschnelli/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonasschnelli/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonasschnelli/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonasschnelli/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonasschnelli/bitcoin/hooks",
        "svn_url": "https://github.com/jonasschnelli/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 5,
        "stargazers_count": 10,
        "watchers_count": 10,
        "size": 194164,
        "default_branch": "master",
        "open_issues_count": 5,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2022-08-07T18:33:53Z",
        "created_at": "2013-04-06T18:21:51Z",
        "updated_at": "2023-05-19T06:34:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "615f7c288414a89cd1dec1d67e0f84abe2fb4c6d",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69851,
        "watchers_count": 69851,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-08T22:17:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T03:19:05Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 96,
    "deletions": 28,
    "changed_files": 6,
    "commits": 4,
    "review_comments": 6,
    "comments": 5
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZmYxZjJjZDQ0YmFjYWVjNzVhYWM3MWVhNTE1YmNjZDMzYjg5ZjM3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eff1f2cd44bacaec75aac71ea515bccd33b89f37",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/eff1f2cd44bacaec75aac71ea515bccd33b89f37",
      "tree": {
        "sha": "ac6f7ff93e33e26ca6f6c1c03a494fb19ef24465",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac6f7ff93e33e26ca6f6c1c03a494fb19ef24465"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ac6f7ff93e33e26ca6f6c1c03a494fb19ef24465\nparent 3a8a4dc4a130c6d1eeff3fb8e6d9688dda2f8d25\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1523993244 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1523993244 +0200\n\nAllow txindex in prune mode\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlrWSrEACgkQHrd2uwPH\nki0LNw//fcfTPPnJoACgydOkePSi8yDW1UmYkDjsCdUHNwO2VnZtxJmFLTcemUix\n5l5+nhpYgXycgNyoliCpTTHKbLLLShfr2Arl55kwhz+SaazOE3HC1lhVirKGDe7t\n2/X8B//kMYCPey1Rnt+FSVz9qmvcXgHCfkVJuwe3Z4KawNrPxjQe/j1SAM0I50x6\nIadqp7B4KVvDY2fF91O5xIksZagKgnWlpPSar6r5pYpDTIWwSJUYXKBGphb7udVK\nV/+ge28EENn3lzEIao7Fe+Rv6By8MRamN1OHuaUXMr1S9ChUQhfWEaydrWPVuy/U\nFL4oFEcXvP3FoTCeYamS9h4MoRAcqlp4u2DWcfVJveZQCz/5I7fovGXxbx5NvAIS\nh+hhCewnb6ALFizWIoFAdPaPfIJ/ach44eQ7dhb9/6I91mcd2MWVtyctlkoDC4Bf\ngwv4FoTovqo94XnM/irn5J665gqp6bM9YjoK8R9gQ5JuekVKXy1jpFhfq5oS3a7j\n649I1YdYudKawrmtvrtBKA27YcKkVy/e+QrU89L0oiFtZNBYFb9PuFal873udlsP\nHsc5PsU4BT76dE1SCGEe5E8dU3k1YM5/+YCn6yBHhzKaYARPgWAv9WEw6W+EJpe1\nt5sAkwz1AkkaICmrYw9hEyeMtdbV2etxLh94oWVkXURUK1+jT2k=\n=WAYQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3a8a4dc4a130c6d1eeff3fb8e6d9688dda2f8d25",
          "sha": "3a8a4dc4a130c6d1eeff3fb8e6d9688dda2f8d25",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3a8a4dc4a130c6d1eeff3fb8e6d9688dda2f8d25"
        }
      ],
      "message": "Allow txindex in prune mode",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-17T19:27:24Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-17T19:27:24Z"
      },
      "sha": "eff1f2cd44bacaec75aac71ea515bccd33b89f37"
    },
    {
      "event": "labeled",
      "id": 1580794691,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE1ODA3OTQ2OTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1580794691",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-18T07:49:25Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjY2MxOTBlMzc0M2VkYjA0M2ZlNGZhYzQyOWVlZmM1OTRhYjZiYjJm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ccc190e3743edb043fe4fac429eefc594ab6bb2f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ccc190e3743edb043fe4fac429eefc594ab6bb2f",
      "tree": {
        "sha": "7769415a7dfd742a8991ca49a715eeec2d05e48d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7769415a7dfd742a8991ca49a715eeec2d05e48d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7769415a7dfd742a8991ca49a715eeec2d05e48d\nparent eff1f2cd44bacaec75aac71ea515bccd33b89f37\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1523994597 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1524053857 +0200\n\nMigrate txindex data of pruned blocks to blockheight/tx-pos model\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlrXN2cACgkQHrd2uwPH\nki0R+g/9F7Lud8ng4oPrZAk6XoxMdQzii5u7W0pu06DVRc8N0oey/2djX+BQj4pp\nOx/4om/IUbeSfs7hL0+QJGaD/quI4tR/SQFougSo8n+wpteDnN2rBhMWidnWCMWJ\noomkrUeIe+ev0pKYfAkzDXOM3sJGsRBipKoKe91SXIJDz5G6UH0Suh5wMqMl0EWE\nISEHwYsc2vgGSz7RHDuvR5jtuLXAKtd+n7iZ0salXA3ain8kZLQ3uc2XqVN3krNn\nfMhdfeKx32jnxtpLmKTna6pYst5irpsGp6aIIyqu6vCCbA4k64xKkhEYUqOAGMyl\n920ifGGZiVTffOYhnkEYJMWP088T3MG0k/E0kMrSTfXcyQh1hIpRlGCa96pMowJF\n+3v3d1LDspBvhPMf9pjKVpQ9NS94CDTUOPzRi6gKXfh569HB2RixoEt5qWQWiWHa\nDBUkLmxXsG3gb1Zx4un4w4Njm34P6ZYfBNYF4rw7sudpznlmrp0OJJAI+1v729Aq\nRoaNDSTTuZTTgOVP9pjvsO8ry+ZViPkSxyqKgIwyjvQBTGBCbusgil2DUkJ7RlHb\nwK+09SO1bBkrL/xt4t3WTR0/lL7CovxhbuB80YoixNOhPp34VPW1PJENG3est00d\n4Wm/waQfrWtZUIOwkgHhJAOaMZ8Y7OtV/vi/xNaabCVbtGacJTU=\n=fg1J\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eff1f2cd44bacaec75aac71ea515bccd33b89f37",
          "sha": "eff1f2cd44bacaec75aac71ea515bccd33b89f37",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/eff1f2cd44bacaec75aac71ea515bccd33b89f37"
        }
      ],
      "message": "Migrate txindex data of pruned blocks to blockheight/tx-pos model",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-18T12:17:37Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-17T19:49:57Z"
      },
      "sha": "ccc190e3743edb043fe4fac429eefc594ab6bb2f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1Y2NmMWMwMTQ1MzIyZTg1OGYyMmI4MjZhZTk0MGQ2ZDNmYjc1ZGIz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ccf1c0145322e858f22b826ae940d6d3fb75db3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5ccf1c0145322e858f22b826ae940d6d3fb75db3",
      "tree": {
        "sha": "044503a462666d40e4687abf65b0b7bcf98ea0bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/044503a462666d40e4687abf65b0b7bcf98ea0bd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 044503a462666d40e4687abf65b0b7bcf98ea0bd\nparent ccc190e3743edb043fe4fac429eefc594ab6bb2f\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1523994856 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1524053873 +0200\n\nReturn blockhash if block is pruned in GetTransaction()\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlrXN3EACgkQHrd2uwPH\nki2BxA/+IIysN1BIBpoVLhvnCPuu6qv3lunM+ORyrgBIeGWGQuxnk2uoDtk1Wc9p\nqreSctnQIeTYwxfV6ZLhavjAirJQ3vk+shhM4kRVU9Kc9XPCqknOy7AsdXdl3HCP\nw1lxdEPw6Bh6H0imfKLAzkR9N5Ay6ftHvMSoHcBC/cyK9trG/oY9GAE9ocvGdpTA\nLJakWgcLLhRU+l07HoaYvGxyPxh91RUIvlRclV5nPyBXxLmE8YhRx0enGPYRpH4b\nmeJceTejM871zqzpDBU+b9IRe+oQYDJYmH+hRsC7tBzRoFiMNUbMQ6g5QXA6rGEa\nOUMVhvNSqXwHbY8hKfBrI9IMgZdqhQcg9lCODOpF+BWnWSbP72p/WOtSmPkYddtQ\netotGQ8I4388ovehSFWpTvRq9QPaOwpIsyiXH6JhYMiFGhsiiEhujI5oNGEjvsyX\nQoP/JzqA4GBmxX04WOuFgpTLazVQheBc0kHoQXxuVmgaGT4zuDbuwduOI+NN8nNX\nwkIe2lJQQuvjV9+Eme6X48W6o7VHC6hiQraVcNO9itCRc/7hbftuSIn9/jm1oUDF\nEy87HfvVrbZ4/WuN5h4Gxs7sYEyHbuEw+ZI/7vJuoI3jnM/HVVUdv0/52ie6lQJ9\nfXCmYV5RRZoDikMiLOsrVvGiMSTtXTurwkLohoor4mFh8rZ414Q=\n=2fYr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ccc190e3743edb043fe4fac429eefc594ab6bb2f",
          "sha": "ccc190e3743edb043fe4fac429eefc594ab6bb2f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ccc190e3743edb043fe4fac429eefc594ab6bb2f"
        }
      ],
      "message": "Return blockhash if block is pruned in GetTransaction()",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-18T12:17:53Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-17T19:54:16Z"
      },
      "sha": "5ccf1c0145322e858f22b826ae940d6d3fb75db3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZTg2YzFhYTZmYmU0YzRjY2Y4NjAzM2EzMWYwOGViZmJlYzdhMWRi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "tree": {
        "sha": "0ef22ef21b9cb3981a00ee705d26c5ca1a4aad03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0ef22ef21b9cb3981a00ee705d26c5ca1a4aad03"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0ef22ef21b9cb3981a00ee705d26c5ca1a4aad03\nparent 5ccf1c0145322e858f22b826ae940d6d3fb75db3\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1523994960 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1524053873 +0200\n\nReturn blockhash if getrawtransaction found tx via index in pruned block\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlrXN3EACgkQHrd2uwPH\nki1Xjg/+N/fCGYud+n+V92eErzeo+NbypHWAiwX6854uOQCBCghU33kzmJqgCjaO\nMvTVOjK/19O7rEpIaXGvAmykIuFjJ2lhJ0puSbH2l+idbRT5EDs4haRLC7y8tygH\nWb6idOdXcf9BQKvvCLjlDfkVNl5/0nuf+/bHaHt2SC+PVBpfs2VB5nefeaElqQl7\nkX/RzS3w5y2swDe1Cjeea12nw9Xjyv1FT5dhjrId/0d749nz/FQm8fOalhOfWRzE\nQenWcnUyKokTrSH91jE3tjwmjjPgq/TlxB/wm1PtOXSfaCwkdEEREvar86zxJ4W+\nTESZdwRn8Xjqb4NxBVKjmgAlM8w6jjaqOW0z1Vpq9+b2qv+ix/Y+zCt6GiNDyPJo\n4pgtacVI2f6zSWJGVOJRLNUmiLjsbNXjXn3yz4n496/1RM0cEX+sVXT/I5eBXHEl\nMBuN32Tn9E24WXG9s8xSw29UaCUUp/oZvP5DwX/aoc3C2mMLJbrilrViU61ejcrg\nYBaIIcz2yUR4bo7z53Euto/s5uNGstFqlSLfnhbTIqCJmy6npy5K+F9ufZt/5p5T\n75F8KOVVdI8AivL7X6MobCR0RqtWjXs4yLegCjSgarbhyuhpHi60PneRFcJ7Mxmr\nEPhv1KcAAGOZz4M/8Q70aJmHhTkGCVcoRvPsqhrAgwag//TYtoc=\n=5yxm\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ccf1c0145322e858f22b826ae940d6d3fb75db3",
          "sha": "5ccf1c0145322e858f22b826ae940d6d3fb75db3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5ccf1c0145322e858f22b826ae940d6d3fb75db3"
        }
      ],
      "message": "Return blockhash if getrawtransaction found tx via index in pruned block",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-18T12:17:53Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-17T19:56:00Z"
      },
      "sha": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1581295614,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTU4MTI5NTYxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1581295614",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-18T12:20:53Z"
    },
    {
      "event": "reviewed",
      "id": 113194812,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTEzMTk0ODEy",
      "url": null,
      "actor": null,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#pullrequestreview-113194812",
      "submitted_at": "2018-04-18T12:27:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
    },
    {
      "event": "commented",
      "id": 382695431,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjY5NTQzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382695431",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-19T11:04:08Z",
      "updated_at": "2018-04-19T11:04:08Z",
      "author_association": "MEMBER",
      "body": "Does this work on top of #11857?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#issuecomment-382695431",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13014"
    },
    {
      "event": "commented",
      "id": 382707420,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjcwNzQyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382707420",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-19T11:56:20Z",
      "updated_at": "2018-04-19T11:56:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sjors: I originally developed this on top of 11857... it's a trivial offset. So yes. It works on top of that.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#issuecomment-382707420",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13014"
    },
    {
      "event": "mentioned",
      "id": 1583609605,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTU4MzYwOTYwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1583609605",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-19T11:56:20Z"
    },
    {
      "event": "subscribed",
      "id": 1583609606,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1ODM2MDk2MDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1583609606",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-19T11:56:20Z"
    },
    {
      "event": "reviewed",
      "id": 113630319,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTEzNjMwMzE5",
      "url": null,
      "actor": null,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#pullrequestreview-113630319",
      "submitted_at": "2018-04-19T14:40:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
    },
    {
      "event": "commented",
      "id": 385119422,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTExOTQyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385119422",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-27T23:37:43Z",
      "updated_at": "2018-04-27T23:37:43Z",
      "author_association": "MEMBER",
      "body": "Seems there's lots of debate on the utility here. Concept ACK/NACK discussion is at #12651, so should probably hold off review here so as to avoid splitting the discussion.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#issuecomment-385119422",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13014"
    },
    {
      "event": "labeled",
      "id": 1665120724,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE2NjUxMjA3MjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1665120724",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-06T02:45:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 128127809,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTI4MTI3ODA5",
      "url": null,
      "actor": null,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#pullrequestreview-128127809",
      "submitted_at": "2018-06-12T20:07:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
    },
    {
      "event": "commented",
      "id": 419643642,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTY0MzY0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419643642",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-09-08T13:54:11Z",
      "updated_at": "2018-09-08T13:54:11Z",
      "author_association": "MEMBER",
      "body": "There should be tests to cover the scenario where:\r\n1. an index exists and a block gets pruned\r\n2. an already pruned node is launched with `-txindex` (this should probably fail)\r\n\r\nThe documentation should make it more clear that all transaction hashes since genesis are kept. Normally the index is about 17 GB on mainnet, does this PR make it smaller?\r\n\r\nAn alternative to this PR could be to drop old transactions from the index, though that reduces utility (perhaps better discussed in #12651).\r\n\r\nNeeds (not super difficult) rebase to work with the new `txindex` structure from #13033.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#issuecomment-419643642",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13014"
    },
    {
      "event": "commented",
      "id": 446711712,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjcxMTcxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446711712",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-12T19:23:24Z",
      "updated_at": "2018-12-12T19:23:24Z",
      "author_association": "MEMBER",
      "body": "<!--5fd3d806e98f4a0ca80977bb178665a0-->There hasn't been much activity lately and the patch still needs rebase, so I am closing this for now. Please let me know when you want to continue working on this, so the pull request can be re-opened.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#issuecomment-446711712",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13014"
    },
    {
      "event": "labeled",
      "id": 2022406995,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIwMjI0MDY5OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2022406995",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-12T19:23:24Z",
      "label": {
        "name": "Up for grabs",
        "color": "99a810"
      }
    },
    {
      "event": "closed",
      "id": 2022407063,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjAyMjQwNzA2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2022407063",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-12T19:23:25Z"
    },
    {
      "event": "unlabeled",
      "id": 2741495884,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50Mjc0MTQ5NTg4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2741495884",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-24T16:51:01Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "locked",
      "id": 5778621612,
      "node_id": "LOE_lADOABII584SzCLDzwAAAAFYbsSs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778621612",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T14:11:40Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182407413",
      "pull_request_review_id": 113194812,
      "id": 182407413,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MjQwNzQxMw==",
      "diff_hunk": "@@ -278,7 +278,14 @@ void ThreadScriptCheck();\n /** Check whether we are doing an initial block download (synchronizing from disk or network) */\n bool IsInitialBlockDownload();\n /** Retrieve a transaction (from memory pool, or from disk, if possible) */\n-bool GetTransaction(const uint256& hash, CTransactionRef& tx, const Consensus::Params& params, uint256& hashBlock, bool fAllowSlow = false, CBlockIndex* blockIndex = nullptr);\n+enum class GetTransactionResult\n+{\n+    LOAD_OK,",
      "path": "src/validation.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "original_commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "in_reply_to_id": null,
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`OK` seems sufficient",
      "created_at": "2018-04-18T12:27:47Z",
      "updated_at": "2018-04-18T12:27:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#discussion_r182407413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182407413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 283,
      "original_line": 283,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182766138",
      "pull_request_review_id": 113630319,
      "id": 182766138,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4Mjc2NjEzOA==",
      "diff_hunk": "@@ -1016,31 +1016,45 @@ bool GetTransaction(const uint256& hash, CTransactionRef& txOut, const Consensus\n         CTransactionRef ptx = mempool.get(hash);\n         if (ptx) {\n             txOut = ptx;\n-            return true;\n+            return GetTransactionResult::LOAD_OK;\n         }\n \n         if (fTxIndex) {\n             CDiskTxPos postx;\n             if (pblocktree->ReadTxIndex(hash, postx)) {\n+                if (postx.nFile == std::numeric_limits<int>::max()) {\n+                    // blockfile is not available (pruned), CDiskTxPos.nPos points to the blockheight\n+                    // lookup blockindex via height from txindex and set hashBlock\n+                    CBlockIndex *p_index_possible = chainActive[postx.nPos];\n+                    if (p_index_possible) {\n+                        hashBlock = *p_index_possible->phashBlock;",
      "path": "src/validation.cpp",
      "position": 36,
      "original_position": 36,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "original_commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`hashBlock` is only updated if block index is found. Either `assert(hashBlock.IsNull())` before or just call `hashBlock.SetNull()`.",
      "created_at": "2018-04-19T14:29:03Z",
      "updated_at": "2018-04-19T14:40:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#discussion_r182766138",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182766138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1030,
      "original_line": 1030,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182766375",
      "pull_request_review_id": 113630319,
      "id": 182766375,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4Mjc2NjM3NQ==",
      "diff_hunk": "@@ -169,13 +169,23 @@ UniValue getrawtransaction(const JSONRPCRequest& request)\n \n     CTransactionRef tx;\n     uint256 hash_block;\n-    if (!GetTransaction(hash, tx, Params().GetConsensus(), hash_block, true, blockindex)) {\n+    GetTransactionResult res = GetTransaction(hash, tx, Params().GetConsensus(), hash_block, true, blockindex);\n+    if (res != GetTransactionResult::LOAD_OK) {\n         std::string errmsg;\n         if (blockindex) {\n             if (!(blockindex->nStatus & BLOCK_HAVE_DATA)) {\n                 throw JSONRPCError(RPC_MISC_ERROR, \"Block not available\");\n             }\n             errmsg = \"No such transaction found in the provided block\";\n+        } else if (res == GetTransactionResult::BLOCK_PRUNED) {\n+            //TODO: fetch block via peers, wait for download and return transaction\n+            //see https://github.com/bitcoin/bitcoin/pull/10794\n+            UniValue result(UniValue::VOBJ);\n+            result.pushKV(\"status\", \"pruned\");\n+            result.pushKV(\"inblock\", hash_block.GetHex());",
      "path": "src/rpc/rawtransaction.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "original_commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`hash_block` can be null, should display it?",
      "created_at": "2018-04-19T14:29:43Z",
      "updated_at": "2018-04-19T14:40:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#discussion_r182766375",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182766375"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182766939",
      "pull_request_review_id": 113630319,
      "id": 182766939,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4Mjc2NjkzOQ==",
      "diff_hunk": "@@ -3544,13 +3558,41 @@ uint64_t CalculateCurrentUsage()\n }\n \n /* Prune a block file (modify associated database entries)*/\n-void PruneOneBlockFile(const int fileNumber)\n+void PruneOneBlockFile(const int fileNumber, CValidationState &state)\n {\n+    AssertLockHeld(cs_main);\n     LOCK(cs_LastBlockFile);\n \n+    int64_t txindex_migration_totaltime = 0;\n     for (const auto& entry : mapBlockIndex) {\n         CBlockIndex* pindex = entry.second;\n         if (pindex->nFile == fileNumber) {\n+            if (fTxIndex && (pindex->nStatus & BLOCK_HAVE_DATA)) {\n+                int64_t time_start = GetTimeMicros();\n+                // migrate pruned txindex data\n+                // txindex entries of pruned blocks will move its CDiskTxPos value to:\n+                //        nFile = INT_MAX <-- indicator that this block is no longer available\n+                //        nPos = block-height in chainActive (assumed reorg safe since prune min target is 288 blocks)\n+                //        nTxOffset = index of transaction position in block (not to confused with data offset)\n+                LogPrintf(\"txindex block pruning: %s migrate txindex data from block %s\\n\", __func__, pindex->GetBlockHash().GetHex());\n+                CBlock block;\n+                if (!ReadBlockFromDisk(block, pindex, Params().GetConsensus())) {\n+                    AbortNode(state, \"Failed to read block\");\n+                    return;\n+                }\n+                std::vector<std::pair<uint256, CDiskTxPos>> vPos;\n+                unsigned int txpos = 0;\n+                for(const auto& tx : block.vtx)",
      "path": "src/validation.cpp",
      "position": 131,
      "original_position": 131,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "original_commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing space after `for`. `{` in this line. ",
      "created_at": "2018-04-19T14:31:13Z",
      "updated_at": "2018-04-19T14:40:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#discussion_r182766939",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182766939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3585,
      "original_line": 3585,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183538600",
      "pull_request_review_id": 114557040,
      "id": 183538600,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MzUzODYwMA==",
      "diff_hunk": "@@ -3544,13 +3558,41 @@ uint64_t CalculateCurrentUsage()\n }\n \n /* Prune a block file (modify associated database entries)*/\n-void PruneOneBlockFile(const int fileNumber)\n+void PruneOneBlockFile(const int fileNumber, CValidationState &state)\n {\n+    AssertLockHeld(cs_main);\n     LOCK(cs_LastBlockFile);\n \n+    int64_t txindex_migration_totaltime = 0;\n     for (const auto& entry : mapBlockIndex) {\n         CBlockIndex* pindex = entry.second;\n         if (pindex->nFile == fileNumber) {\n+            if (fTxIndex && (pindex->nStatus & BLOCK_HAVE_DATA)) {\n+                int64_t time_start = GetTimeMicros();\n+                // migrate pruned txindex data\n+                // txindex entries of pruned blocks will move its CDiskTxPos value to:\n+                //        nFile = INT_MAX <-- indicator that this block is no longer available\n+                //        nPos = block-height in chainActive (assumed reorg safe since prune min target is 288 blocks)\n+                //        nTxOffset = index of transaction position in block (not to confused with data offset)\n+                LogPrintf(\"txindex block pruning: %s migrate txindex data from block %s\\n\", __func__, pindex->GetBlockHash().GetHex());\n+                CBlock block;\n+                if (!ReadBlockFromDisk(block, pindex, Params().GetConsensus())) {\n+                    AbortNode(state, \"Failed to read block\");\n+                    return;\n+                }\n+                std::vector<std::pair<uint256, CDiskTxPos>> vPos;\n+                unsigned int txpos = 0;\n+                for(const auto& tx : block.vtx)",
      "path": "src/validation.cpp",
      "position": 131,
      "original_position": 131,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "original_commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "in_reply_to_id": 182766939,
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "clang-format will fix this and maybe more.",
      "created_at": "2018-04-23T21:09:40Z",
      "updated_at": "2018-04-23T21:09:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#discussion_r183538600",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183538600"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3585,
      "original_line": 3585,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194871802",
      "pull_request_review_id": 128127809,
      "id": 194871802,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDg3MTgwMg==",
      "diff_hunk": "@@ -169,13 +169,23 @@ UniValue getrawtransaction(const JSONRPCRequest& request)\n \n     CTransactionRef tx;\n     uint256 hash_block;\n-    if (!GetTransaction(hash, tx, Params().GetConsensus(), hash_block, true, blockindex)) {\n+    GetTransactionResult res = GetTransaction(hash, tx, Params().GetConsensus(), hash_block, true, blockindex);\n+    if (res != GetTransactionResult::LOAD_OK) {\n         std::string errmsg;\n         if (blockindex) {\n             if (!(blockindex->nStatus & BLOCK_HAVE_DATA)) {\n                 throw JSONRPCError(RPC_MISC_ERROR, \"Block not available\");\n             }\n             errmsg = \"No such transaction found in the provided block\";\n+        } else if (res == GetTransactionResult::BLOCK_PRUNED) {\n+            //TODO: fetch block via peers, wait for download and return transaction\n+            //see https://github.com/bitcoin/bitcoin/pull/10794\n+            UniValue result(UniValue::VOBJ);\n+            result.pushKV(\"status\", \"pruned\");\n+            result.pushKV(\"inblock\", hash_block.GetHex());",
      "path": "src/rpc/rawtransaction.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "original_commit_id": "ce86c1aa6fbe4c4ccf86033a31f08ebfbec7a1db",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should be `\"blockhash\"`",
      "created_at": "2018-06-12T20:07:50Z",
      "updated_at": "2018-06-12T20:07:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13014#discussion_r194871802",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194871802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    }
  ]
}