{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
    "id": 1236694399,
    "node_id": "PR_kwDOABII585JtnV_",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27073",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27073.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27073.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/64c105442ce8c10900ea6fbecdbcfebe42f2d387",
    "number": 27073,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Convert ArgsManager::GetDataDir to a read-only function",
    "user": {
      "login": "willcl-ark",
      "id": 6606587,
      "node_id": "MDQ6VXNlcjY2MDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willcl-ark",
      "html_url": "https://github.com/willcl-ark",
      "followers_url": "https://api.github.com/users/willcl-ark/followers",
      "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
      "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
      "repos_url": "https://api.github.com/users/willcl-ark/repos",
      "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixes #20070\r\n\r\nCurrently `ArgsManager::GetDataDir()` ensures it will always return a datadir by creating one if necessary. The function is shared between `bitcoind` `bitcoin-qt` and `bitcoin-cli` which results in the undesirable behaviour described in #20070.\r\n\r\nThis PR splits out the part of the function which creates directories and adds it as a standalone function, only called as part of `bitcoind` and `bitcoin-qt` init, but not `bitcoin-cli`.\r\n\r\n`ReadConfigFiles`' behavior is changed to use the absolute path of the config file in error and warning messages instead of a relative path.\r\n\r\nThis was inadvertantly the form being tested [here](https://github.com/bitcoin/bitcoin/blob/73966f75f67fb797163f0a766292a79d4b2c1b70/test/functional/feature_config_args.py#L287), whilst we were _not_ testing that a relative path was returned by the message even though we passed a relative path in as argument.",
    "labels": [],
    "created_at": "2023-02-10T13:26:48Z",
    "updated_at": "2024-02-23T12:33:57Z",
    "closed_at": "2023-02-23T21:41:26Z",
    "mergeable_state": "unknown",
    "merged_at": "2023-02-23T21:41:26Z",
    "merge_commit_sha": "1258af40c0d396dd922cc8dc1b4c1719b39a4026",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "willcl-ark:2022-02-cli-datadir",
      "ref": "2022-02-cli-datadir",
      "sha": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 164122552,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjQxMjI1NTI=",
        "name": "bitcoin",
        "full_name": "willcl-ark/bitcoin",
        "owner": {
          "login": "willcl-ark",
          "id": 6606587,
          "node_id": "MDQ6VXNlcjY2MDY1ODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/willcl-ark",
          "html_url": "https://github.com/willcl-ark",
          "followers_url": "https://api.github.com/users/willcl-ark/followers",
          "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
          "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
          "repos_url": "https://api.github.com/users/willcl-ark/repos",
          "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/willcl-ark/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/willcl-ark/bitcoin",
        "archive_url": "https://api.github.com/repos/willcl-ark/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/willcl-ark/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/willcl-ark/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/willcl-ark/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/willcl-ark/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/willcl-ark/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/willcl-ark/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/willcl-ark/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/willcl-ark/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/willcl-ark/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/willcl-ark/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/willcl-ark/bitcoin/events",
        "forks_url": "https://api.github.com/repos/willcl-ark/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/willcl-ark/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/willcl-ark/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/willcl-ark/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/willcl-ark/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/willcl-ark/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/willcl-ark/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/willcl-ark/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/willcl-ark/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/willcl-ark/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:willcl-ark/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/willcl-ark/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/willcl-ark/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/willcl-ark/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/willcl-ark/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/willcl-ark/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/willcl-ark/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/willcl-ark/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/willcl-ark/bitcoin/hooks",
        "svn_url": "https://github.com/willcl-ark/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 232242,
        "default_branch": "master",
        "open_issues_count": 4,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-23T12:42:21Z",
        "created_at": "2019-01-04T15:17:29Z",
        "updated_at": "2023-11-07T12:50:29Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "832fa2d238006765edbabb66ec7c453175713ed3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34654,
        "stargazers_count": 74100,
        "watchers_count": 74100,
        "size": 250347,
        "default_branch": "master",
        "open_issues_count": 679,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-23T09:43:34Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-02-23T12:31:26Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 42,
    "deletions": 12,
    "changed_files": 3,
    "commits": 2,
    "review_comments": 36,
    "comments": 12
  },
  "events": [
    {
      "event": "commented",
      "id": 1425811391,
      "node_id": "IC_kwDOABII585U_Ce_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1425811391",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T13:26:51Z",
      "updated_at": "2023-02-23T21:31:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1311461777), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1311522949), [achow101](https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1442456504), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1312172376) |\n| Concept ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1293318666), [pinheadmz](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1293450868) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26177](https://github.com/bitcoin/bitcoin/pull/26177) (refactor / kernel: Move non-gArgs chainparams functionality to kernel by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1425811391",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "reviewed",
      "id": 1293318666,
      "node_id": "PRR_kwDOABII585NFnoK",
      "url": null,
      "actor": null,
      "commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK - having the cli generate multiple datadirs is not great. Suggested some simplifications, I hope I'm not missing some nuance there?",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1293318666",
      "submitted_at": "2023-02-10T15:24:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "reviewed",
      "id": 1293450868,
      "node_id": "PRR_kwDOABII585NGH50",
      "url": null,
      "actor": null,
      "commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "concept ACK\r\n\r\nI reproduced the steps from the issue and confirmed that the patch prevents creating new `Bitcoin/wallets` directory when running `bitcoin-cli -getinfo` from a new user on the same machine running bitcoind",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1293450868",
      "submitted_at": "2023-02-10T16:33:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T23:16:20Z",
      "updated_at": "2023-02-10T23:16:20Z",
      "source": {
        "issue": {
          "id": 1384719233,
          "node_id": "PR_kwDOABII584_iyfL",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26177",
          "number": 26177,
          "state": "closed",
          "state_reason": null,
          "title": "refactor / kernel: Move non-gArgs chainparams functionality to kernel",
          "body": "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/24303 https://github.com/bitcoin/bitcoin/projects/18 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\". dongcarl is the original author of this patchset, these commits were taken from https://github.com/dongcarl/bitcoin/tree/2022-03-libbitcoinkernel-chainparams-args-only. \r\n\r\n#### Context \r\n\r\nThe bitcoin kernel library currently relies on code containing user configurations through the `ArgsManager`. This is not optimal, since as a stand-alone library it should not rely on bitcoind's argument parsing logic. Instead, its interfaces should accept control and options structs that control the kernel library's desired configuration.\r\n\r\n\r\nSimilar work towards decoupling the `ArgsManager` from the kernel has been done in \r\nhttps://github.com/bitcoin/bitcoin/pull/25290, https://github.com/bitcoin/bitcoin/pull/25487, https://github.com/bitcoin/bitcoin/pull/25527 and https://github.com/bitcoin/bitcoin/pull/25862.\r\n\r\n#### Changes\r\n\r\nBy moving the `CChainParams` class definition into the kernel and giving it new factory functions `CChainParams::{RegTest,SigNet,Main,TestNet}`it can be constructed without an `ArgsManager` reference, unlike the current factory function `CreateChainParams`.\r\n\r\nThe first few commits remove uses of `ArgsManager` within `CChainParams`. Then the `CChainParams` definition is moved to a new file in the `kernel/` subdirectory.\r\n\r\n\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26177",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26177",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26177.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26177.patch"
          },
          "closed_at": "2023-03-16T13:56:49Z",
          "created_at": "2022-09-24T15:42:36Z",
          "updated_at": "2023-03-17T15:30:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8503436439,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH62CSX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8503436439",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T11:39:54Z"
    },
    {
      "event": "commented",
      "id": 1427800810,
      "node_id": "IC_kwDOABII585VGoLq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1427800810",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T11:42:06Z",
      "updated_at": "2023-02-13T11:42:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @stickies-v & @pinheadmz , I addressed your comments in the new push.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1427800810",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "mentioned",
      "id": 8503457456,
      "node_id": "MEE_lADOABII585eKBK1zwAAAAH62Haw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8503457456",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T11:42:06Z"
    },
    {
      "event": "subscribed",
      "id": 8503457471,
      "node_id": "SE_lADOABII585eKBK1zwAAAAH62Ha_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8503457471",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T11:42:06Z"
    },
    {
      "event": "mentioned",
      "id": 8503457497,
      "node_id": "MEE_lADOABII585eKBK1zwAAAAH62HbZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8503457497",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T11:42:07Z"
    },
    {
      "event": "subscribed",
      "id": 8503457512,
      "node_id": "SE_lADOABII585eKBK1zwAAAAH62Hbo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8503457512",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T11:42:07Z"
    },
    {
      "event": "reviewed",
      "id": 1295489596,
      "node_id": "PRR_kwDOABII585NN5o8",
      "url": null,
      "actor": null,
      "commit_id": "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1295489596",
      "submitted_at": "2023-02-13T11:55:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "commented",
      "id": 1427815930,
      "node_id": "IC_kwDOABII585VGr36",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1427815930",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T11:56:05Z",
      "updated_at": "2023-02-13T11:56:05Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1427815930",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8503627005,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH62wz9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8503627005",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T12:00:11Z"
    },
    {
      "event": "reviewed",
      "id": 1295518847,
      "node_id": "PRR_kwDOABII585NOAx_",
      "url": null,
      "actor": null,
      "commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1295518847",
      "submitted_at": "2023-02-13T12:12:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8504801235,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH67PfT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8504801235",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T14:02:40Z"
    },
    {
      "event": "commented",
      "id": 1428074269,
      "node_id": "IC_kwDOABII585VHq8d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428074269",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T14:54:52Z",
      "updated_at": "2023-02-13T14:54:52Z",
      "author_association": "MEMBER",
      "body": "Does/can this also close #16220?",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1428074269",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "commented",
      "id": 1428104313,
      "node_id": "IC_kwDOABII585VHyR5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428104313",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T15:09:04Z",
      "updated_at": "2023-02-13T15:09:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Does/can this also close #16220?\r\n\r\nI will check this out, specifically w.r.t this comment which I had not been considering:\r\n\r\n> It would be, however the reason that wallets/ is not created when the .bitcoin directory already exists is backwards compatibility. If there is an existing datadir but no wallets directory it's assumed to be an old data directory, and creating wallets would effectively hide the existing wallets in the top level dir, possibly leading to people to suspect loss of funds.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1428104313",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "commented",
      "id": 1429434184,
      "node_id": "IC_kwDOABII585VM29I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429434184",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T09:47:53Z",
      "updated_at": "2023-02-14T09:47:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I will check this out, specifically w.r.t this comment which I had not been considering:\r\n\r\nI don't believe this fully closes the loop on #16220, but I am also not sure that we ever will close that fully whilst also providing backwards-compatibility...\r\n\r\nThere can exist currently two different working wallet configurations:\r\n\r\n1. Legacy: wallets in subfolders in top-level, e.g. `~/.bitcoin/test-wallet/wallet.dat` or `~/.bitcoin/regtest/test-wallet/wallet.dat`\r\n2. Current: wallets in wallets/ subfolder, e.g. `~/.bitcoin/wallets/test-wallet/wallet.dat` or `~/.bitcoin/regtest/wallets/test-wallet/wallet.dat`\r\n\r\nThe current init logic (preserved by this PR) is that we will check for the presence of `.bitcoin/` dir, and if it exists then use it as DataDir and take no further action. If it does not exist, then we will create it, **along with** a `wallets/` subdirectory. This allows old installs to continue without \"disappearing wallets\", as described by #16220.\r\n\r\nWithout implementing some brittle filesystem-checking code as laanwj described, I don't see this as really \"fixable\" (and probably that issue should be closed). One way of doing it could be to recursively check each subdir not called `wallets/` in the datadir for the presence of `*.dat` files, but I don't much like that idea.\r\n\r\n----\r\nsidenote: I notice in testing this that `loadwallet` RPC says that it can take a path to a `wallet.dat` file, to load the wallet, which I found not to work at all, whether or not the wallet was in a wallets/ subdir or not (and IIRC from another recent issue it is not supposed to work like this, so could do with helptext being updated):\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/2c1fe27bf3c1e504864987cbe80f9c24897d3cb1/src/wallet/rpc/wallet.cpp#L203\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\n```fish\r\nwill@ubuntu in ~/src/bitcoin on î‚  2022-02-cli-datadir [$â‡•] via ðŸ v3.7.16\r\nâœ— /home/will/src/bitcoin/src/bitcoin-cli loadwallet ~/.bitcoin/test/wallet.dat\r\nerror code: -4\r\nerror message:\r\nWallet file verification failed. Invalid -wallet path '/home/will/.bitcoin/test/wallet.dat'. -wallet path should point to a directory where wallet.dat and database/log.?????????? files can be stored, a location where such a directory could be created, or (for backwards compatibility) the name of an existing data file in -walletdir (\"/home/will/.bitcoin\")\r\n\r\nwill@ubuntu in ~/src/bitcoin on î‚  2022-02-cli-datadir [$â‡•] via ðŸ v3.7.16\r\n\r\n####\r\n# Moved wallet from ~/.bitcoin/test/wallet.dat to ~/.bitcoin/wallet.dat\r\n####\r\n\r\nâœ— /home/will/src/bitcoin/src/bitcoin-cli loadwallet ~/.bitcoin/wallet.dat\r\nerror code: -4\r\nerror message:\r\nWallet file verification failed. Invalid -wallet path '/home/will/.bitcoin/wallet.dat'. -wallet path should point to a directory where wallet.dat and database/log.?????????? files can be stored, a location where such a directory could be created, or (for backwards compatibility) the name of an existing data file in -walletdir (\"/home/will/.bitcoin\")\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429434184",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8513384955,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH7b_H7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8513384955",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T09:48:20Z"
    },
    {
      "event": "commented",
      "id": 1429498959,
      "node_id": "IC_kwDOABII585VNGxP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429498959",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T10:35:02Z",
      "updated_at": "2023-02-14T10:35:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "I don't particularly want to feature-creep too much, but another adjacent issue is https://github.com/bitcoin/bitcoin/issues/19990\r\n\r\nWhich could potentially be addressed in this PR too if desired?",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429498959",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "commented",
      "id": 1429983108,
      "node_id": "IC_kwDOABII585VO8-E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429983108",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T16:00:09Z",
      "updated_at": "2023-02-14T16:01:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "I could be wrong, but the current version of this 41e9a810837b1c1eb497c2c22a6fa9873f379836 appears to change behavior by only creating the `<datadir>/<netdir>/wallets` directory, and no longer creating the `<datadir>/wallets` one level up if `<datadir>` did not exist.\r\n\r\nThis seems like a potentially bad thing, because if testnet or signet or regtest bitcoin is started before mainnet bitcoin, mainnet wallets will go be created in `<datadir>` not `<datadir>/wallets` as intended. I think more ideally this PR would just refactor the code as desired without changing behavior.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429983108",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8524435129,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH8GI65",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8524435129",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T10:22:14Z"
    },
    {
      "event": "commented",
      "id": 1431124511,
      "node_id": "IC_kwDOABII585VTTof",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431124511",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T10:42:43Z",
      "updated_at": "2023-02-15T10:42:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @ryanofsky that was unintentional and is now fixed. The only behaviour change is now in `bitcoin-cli`.\r\n\r\nThis does still leave us with the (undesirable) behaviour described in https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429434184. It seems likely a likely flow that a user might download bitcoin core, create `bitcoin.conf` and then run the application, which results in *not* creating a `wallets/` subdir on mainnet (and technically other networks, but it's unlikely a new user would manually create those subdirectories). E.g. the following:\r\n\r\n```fish\r\n$ mkdir ~/.bitcoin\r\n$ echo \"all_my_settings\" >> ~/.bitcoin/bitcoin.conf\r\n$ bitcoind    # first run\r\n$ find .bitcoin -type d\r\n.bitcoin\r\n.bitcoin/chainstate\r\n.bitcoin/blocks\r\n.bitcoin/blocks/index   # no wallets/ subdir created as datadir already existed\r\n\r\n$ bitcoind -regtest\r\n$ find .bitcoin -type d\r\n.bitcoin\r\n.bitcoin/chainstate\r\n.bitcoin/regtest\r\n.bitcoin/regtest/wallets    # created as regtest subdir did not already exist, even though datadir did\r\n.bitcoin/regtest/chainstate\r\n.bitcoin/regtest/blocks\r\n.bitcoin/regtest/blocks/index\r\n.bitcoin/blocks\r\n.bitcoin/blocks/index\r\n```\r\n\r\nBut I think this is something for a different PR to fix.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1431124511",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "mentioned",
      "id": 8524618376,
      "node_id": "MEE_lADOABII585eKBK1zwAAAAH8G1qI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8524618376",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T10:42:43Z"
    },
    {
      "event": "subscribed",
      "id": 8524618397,
      "node_id": "SE_lADOABII585eKBK1zwAAAAH8G1qd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8524618397",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T10:42:43Z"
    },
    {
      "event": "reviewed",
      "id": 1299361908,
      "node_id": "PRR_kwDOABII585NcrB0",
      "url": null,
      "actor": null,
      "commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1299361908",
      "submitted_at": "2023-02-15T12:03:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8541246931,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH9GRXT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8541246931",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-16T21:11:32Z"
    },
    {
      "event": "reviewed",
      "id": 1304123788,
      "node_id": "PRR_kwDOABII585Nu1mM",
      "url": null,
      "actor": null,
      "commit_id": "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Light code review ACK 64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0. I want to look a little more closely at this and test a little more to be sure it works as expected, but this seems like a very nice change. Avoids confusing side effect of functions like GetDataDirNet, AbsPathForConfigVal, and GetConfigFile creating directories in the background.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1304123788",
      "submitted_at": "2023-02-18T16:30:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "reviewed",
      "id": 1304612542,
      "node_id": "PRR_kwDOABII585Nws6-",
      "url": null,
      "actor": null,
      "commit_id": "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Light code review ACK 64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0. I want to look a little more closely at this and test a little more to be sure it works as expected, but this seems like a very nice change. Avoids confusing side effect of functions like GetDataDirNet, AbsPathForConfigVal, and GetConfigFile creating directories in the background.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1304612542",
      "submitted_at": "2023-02-18T16:30:50Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "commented",
      "id": 1436632437,
      "node_id": "IC_kwDOABII585VoUV1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436632437",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T09:37:28Z",
      "updated_at": "2023-02-20T09:37:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nYou can mark both `GetConfigFilePath` and `EnsureDataDir` as `const`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1436632437",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8560188213,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH-Ohs1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8560188213",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T10:50:29Z"
    },
    {
      "event": "commented",
      "id": 1436739879,
      "node_id": "IC_kwDOABII585Voukn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436739879",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T10:52:07Z",
      "updated_at": "2023-02-20T10:52:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Concept ACK\r\n> \r\n> You can mark both `GetConfigFilePath` and `EnsureDataDir` as `const`.\r\n\r\nUpdated in 5626101",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1436739879",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "reviewed",
      "id": 1305674524,
      "node_id": "PRR_kwDOABII585N0wMc",
      "url": null,
      "actor": null,
      "commit_id": "0af17e161d751b15f90615800411f36e11b3fcde",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 0af17e161d751b15f90615800411f36e11b3fcde",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1305674524",
      "submitted_at": "2023-02-20T12:19:31Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "review_requested",
      "id": 8561060900,
      "node_id": "RRE_lADOABII585eKBK1zwAAAAH-R2wk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8561060900",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T12:19:34Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1307435890,
      "node_id": "PRR_kwDOABII585N7eNy",
      "url": null,
      "actor": null,
      "commit_id": "0af17e161d751b15f90615800411f36e11b3fcde",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 0af17e161d751b15f90615800411f36e11b3fcde, tested on Ubuntu 22.04.\r\n\r\n> Fixes https://github.com/bitcoin/bitcoin/issues/20070\r\n\r\nConfirming the `bitcoin-cli` does not create a data directory and its subdirectories.\r\n\r\nI've noticed another behavior change which looks good for me:\r\n- master:\r\n```\r\n$ ./src/bitcoind rubbish\r\nError: Command line contains unexpected token 'rubbish', see bitcoind -h for a list of options.\r\n\r\n$ tree ~/.bitcoin\r\n/home/hebasto/.bitcoin\r\nâ””â”€â”€ wallets\r\n\r\n1 directory, 0 files\r\n```\r\n- this PR (0af17e161d751b15f90615800411f36e11b3fcde):\r\n```\r\n$ ./src/bitcoind rubbish\r\nError: Command line contains unexpected token 'rubbish', see bitcoind -h for a list of options.\r\n\r\n$ ls ~/.bitcoin\r\nls: cannot access '/home/hebasto/.bitcoin': No such file or directory\r\n```",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1307435890",
      "submitted_at": "2023-02-21T13:34:31Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "reviewed",
      "id": 1309386491,
      "node_id": "PRR_kwDOABII585OC6b7",
      "url": null,
      "actor": null,
      "commit_id": "0af17e161d751b15f90615800411f36e11b3fcde",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 0af17e161d751b15f90615800411f36e11b3fcde. Nice change that makes initialization more straightforward and gets rid of strange behavior. Only change since last review is adding a comment. I left some small suggestions, but they are not important.\r\n\r\n---\r\n\r\nI think part of the PR description https://github.com/bitcoin/bitcoin/pull/27073#issue-1579684533 is inaccurate.\r\n\r\n> As part of the refactoring it introduces a slight behaviour change to `GetConfigFilePath`, which now always returns the absolute path of the provided `-conf` argument, specifically when surfacing an error.\r\n\r\nThe `GetConfigFilePath()` function is a new function so it's behavior isn't changing. I think it would be more accurate to say \"`ReadConfigFiles` behavior is changed to use the absolute path of the config file in error and warning messages instead of a relative path.\"\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1309386491",
      "submitted_at": "2023-02-22T18:15:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU2ZTM3MGZiYjk0MTMyNjA3MjNjNTk4MDQ4MzkyMjE5YjEwNTVhZDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/56e370fbb9413260723c598048392219b1055ad0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/56e370fbb9413260723c598048392219b1055ad0",
      "tree": {
        "sha": "66439b2ee44aef3cab3c9d4772a76c4afefe5725",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/66439b2ee44aef3cab3c9d4772a76c4afefe5725"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 66439b2ee44aef3cab3c9d4772a76c4afefe5725\nparent 2c1fe27bf3c1e504864987cbe80f9c24897d3cb1\nauthor willcl-ark <will@256k1.dev> 1675953722 +0000\ncommitter willcl-ark <will@256k1.dev> 1677141447 +0000\n\nutil: add ArgsManager datadir helper functions\n\n* Add ArgsManager::EnsureDataDir()\n  Creates data directory if it doesn't exist\n* Add ArgsManager::GetConfigFilePath()\n  Return config file path (read-only)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmP3JeAACgkQzm7EmUXB\nfqYEfRAAtIi/yevVb6rWrWvY/WSIngPS0zsfQyvLBFIv0Lly3DmHT95e+YDu2lr/\nhpxrmKRJ3XjfUS6kx7e740dYDyQlms88O4ndgwZRxvC6XQKv9l7X7Yr3XCXTUa21\n2PYXngaag1crscC/x4p8Sfk+WGqCmo1bCNkAqDK66KNEchxw4VFQZh1I0e7F6ukS\nxe5PmpDhHn847/dQ4f7MMspbPB31Btzve4tLulrsW5gZxJ3U34ZbpAqvwhGbhEma\nrv+mcAv9gZy05oTvEKPA+7mx4vJXsEef6sXiuoUqjXGfMcKcPDfBPw3Jr1KXJzWI\n/yc2DUh4PqJOYbbnObqC1zBpppnUZz/kKl5Xq7tzHSDU9GW7d1r58pslzNSX3fFr\nCCqjUjd4qzN3Yws6DPxWFtodf+2t0m3frPBNFo6fhVNsedBmpaSTnSnZiRcxBulp\nov+74flQRR1WwPNu+B/XhSs5If0bteUwTr2tba29Ad/W/EQ/px4GnKYMWXCpCIKl\nSHQR9PQH1on3gufdK3WW3dCE10fObvBi6zoL6NIH4RrE95ad87TsN9L1AEEbW/mp\numyuBbVAEdGgXtPlEy3j1ixp/LUjEXo7UgSYSB/C3rkPdVulzLqcwDo9KnKQ/IGS\nWXiRIIQoWi1gRKPba8GMsaKKQhE0IvvdQEoN8yjnpiMlfLuiTeg=\n=ncoq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2c1fe27bf3c1e504864987cbe80f9c24897d3cb1",
          "sha": "2c1fe27bf3c1e504864987cbe80f9c24897d3cb1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2c1fe27bf3c1e504864987cbe80f9c24897d3cb1"
        }
      ],
      "message": "util: add ArgsManager datadir helper functions\n\n* Add ArgsManager::EnsureDataDir()\n  Creates data directory if it doesn't exist\n* Add ArgsManager::GetConfigFilePath()\n  Return config file path (read-only)",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-02-23T08:37:27Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-02-09T14:42:02Z"
      },
      "sha": "56e370fbb9413260723c598048392219b1055ad0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY0YzEwNTQ0MmNlOGMxMDkwMGVhNmZiZWNkYmNmZWJlNDJmMmQzODc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "tree": {
        "sha": "7ff765c3c157883d7d2b4487fd67fd1d0bb9fafe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7ff765c3c157883d7d2b4487fd67fd1d0bb9fafe"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7ff765c3c157883d7d2b4487fd67fd1d0bb9fafe\nparent 56e370fbb9413260723c598048392219b1055ad0\nauthor willcl-ark <will@256k1.dev> 1675972301 +0000\ncommitter willcl-ark <will@256k1.dev> 1677141515 +0000\n\nutil: make GetDataDir read-only & create datadir..\n\n.. only in bitcoind and bitcoin-qt\n\nThis changes behaviour of GetConfigFilePath which now always returns the\nabsolute path of the provided -conf argument.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmP3JgsACgkQzm7EmUXB\nfqY27g/9HpCX7QZ7HeIsFeA4etU89xnVPHKaoQ7CnsJkgySYPYETs0dW1Plf9Iq7\n6gg9KVWBJBePwmHLaf+GsG4S1GKZh0zD4K3IPNC1ba+YDrSMjAt+8mFzsmjpP8Jc\ny5YTumicnXWOYGDqEpuMtUHAb6nC8Hhhgl4mzi/BXhQD0v22/IJYIL0k/S4sgogG\nzriCQeoSLTBxz5p0nQ+/rkGIr/Dxdy8bs6n6ICAM/BkiyH4BAsuuy8cFAHiy+eRi\n1xu8JsNMTlvuTFtKVmeZe0rCYs5P9NxMf8cjxp+QqQOurXB09TwN0DcNSbhTXea8\n870zXh3ZmcS0gQK3tUdzsesTWfR5cAcYYteW5rAjJn/bB9w93zoiwVkuo15beH/e\nIvMiPhHo4o+N0Chw/ZPw//I13lMuDIys2abn5rMBxkqr7pQ6pgWsgL9DN5ahhWfK\n4R3gt4DViqwfUb/Xx1oLeNobpU+3Din/eJ3v1l5VP9mzRdJrrIqSe8Dhrmwl0pGb\nVkl0M2apaRt0MXD+wG3KZbxMJ2nBTWweesBliMbKBQTfrHFK32hHzzrrfc4Ee+Ws\ny4DyFl36IHnIOYy2AiM7G0lo+YPB2IZvJ6IKXDbn1jZQptHafjl3vJ1J80LPxuIA\nmUcdreXGzue1905/iG8fWF4mro+5SrfM3ygBniC8b/145DUbPe8=\n=/5hO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/56e370fbb9413260723c598048392219b1055ad0",
          "sha": "56e370fbb9413260723c598048392219b1055ad0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/56e370fbb9413260723c598048392219b1055ad0"
        }
      ],
      "message": "util: make GetDataDir read-only & create datadir..\n\n.. only in bitcoind and bitcoin-qt\n\nThis changes behaviour of GetConfigFilePath which now always returns the\nabsolute path of the provided -conf argument.",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-02-23T08:38:35Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-02-09T19:51:41Z"
      },
      "sha": "64c105442ce8c10900ea6fbecdbcfebe42f2d387"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8589172630,
      "node_id": "HRFPE_lADOABII585eKBK1zwAAAAH_9F-W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8589172630",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-23T08:54:22Z"
    },
    {
      "event": "reviewed",
      "id": 1311461777,
      "node_id": "PRR_kwDOABII585OK1GR",
      "url": null,
      "actor": null,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 64c105442ce8c10900ea6fbecdbcfebe42f2d387, only comments have been adjusted as requsted since my previous [review](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1307435890).",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1311461777",
      "submitted_at": "2023-02-23T14:43:53Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "review_requested",
      "id": 8592533421,
      "node_id": "RRE_lADOABII585eKBK1zwAAAAIAJ6et",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8592533421",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-23T14:43:57Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 8592533446,
      "node_id": "RRE_lADOABII585eKBK1zwAAAAIAJ6fG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8592533446",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-23T14:43:57Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1311522949,
      "node_id": "PRR_kwDOABII585OLECF",
      "url": null,
      "actor": null,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Re-ACK 64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1311522949",
      "submitted_at": "2023-02-23T15:13:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-23T21:25:40Z",
      "updated_at": "2023-02-23T21:25:40Z",
      "source": {
        "issue": {
          "id": 1597550091,
          "node_id": "PR_kwDOABII585KpJhz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27150",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27150/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27150/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27150/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27150",
          "number": 27150,
          "state": "closed",
          "state_reason": null,
          "title": "Deduplicate bitcoind and bitcoin-qt init code",
          "body": "Add common InitConfig function to deduplicate bitcoind and bitcoin-qt code reading config files and creating the datadir.\r\n\r\nNoticed the duplicate code while reviewing #27073 and want to remove it because difference in bitcoin-qt and bitcoind behavior make it hard to evaluate changes like #27073\r\n\r\nThere are a few minor changes in behavior:\r\n\r\n- In bitcoin-qt, when there is a problem reading the configuration file, the GUI error text has changed from \"Error: Cannot parse configuration file:\" to \"Error reading configuration file:\" to be consistent with bitcoind.\r\n- In bitcoind, when there is a problem reading the settings.json file, the error text has changed from \"Failed loading settings file\" to \"Settings file could not be read\" to be consistent with bitcoin-qt.\r\n- In bitcoind, when there is a problem writing the settings.json file, the error text has changed from \"Failed saving settings file\" to \"Settings file could not be written\" to be consistent with bitcoin-qt.\r\n- In bitcoin-qt, if there datadir is not accessible (e.g. no permission to read), there is an normal error dialog showing \"Error: filesystem error: status: Permission denied [.../settings.json]\", instead of an uncaught exception.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27150",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27150",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27150.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27150.patch"
          },
          "closed_at": "2023-03-07T18:05:15Z",
          "created_at": "2023-02-23T21:25:40Z",
          "updated_at": "2023-03-07T18:05:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1442456504,
      "node_id": "IC_kwDOABII585V-iO4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1442456504",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-23T21:29:40Z",
      "updated_at": "2023-02-23T21:29:40Z",
      "author_association": "MEMBER",
      "body": "ACK 64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1442456504",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27073"
    },
    {
      "event": "reviewed",
      "id": 1312172376,
      "node_id": "PRR_kwDOABII585ONilY",
      "url": null,
      "actor": null,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 64c105442ce8c10900ea6fbecdbcfebe42f2d387. Only comment changes since last review",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1312172376",
      "submitted_at": "2023-02-23T21:31:08Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
    },
    {
      "event": "merged",
      "id": 8596198086,
      "node_id": "ME_lADOABII585eKBK1zwAAAAIAX5LG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8596198086",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1258af40c0d396dd922cc8dc1b4c1719b39a4026",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1258af40c0d396dd922cc8dc1b4c1719b39a4026",
      "created_at": "2023-02-23T21:41:26Z"
    },
    {
      "event": "closed",
      "id": 8596198110,
      "node_id": "CE_lADOABII585eKBK1zwAAAAIAX5Le",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8596198110",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-23T21:41:26Z"
    },
    {
      "event": "referenced",
      "id": 8608348978,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAIBGPsy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8608348978",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "48dbcb8d6bb9f4774265eb1974410c17a36b3a4e",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/48dbcb8d6bb9f4774265eb1974410c17a36b3a4e",
      "created_at": "2023-02-25T19:13:20Z"
    },
    {
      "event": "referenced",
      "id": 8619678365,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAIBxdqd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8619678365",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b20b34f5b33230fe253c81008496bd9b13fd6ecf",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/b20b34f5b33230fe253c81008496bd9b13fd6ecf",
      "created_at": "2023-02-27T19:51:04Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-27T19:54:45Z",
      "updated_at": "2023-02-27T19:54:45Z",
      "source": {
        "issue": {
          "id": 1601847394,
          "node_id": "PR_kwDOABII585K3edw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27170",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27170/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27170/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27170/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27170",
          "number": 27170,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Stop using gArgs global in system.cpp",
          "body": "Most of the code in `util/system.cpp` that was hardcoded to use the global `ArgsManager` instance `gArgs` has been changed to stop using it (for example in https://github.com/bitcoin/bitcoin/pull/20092). But a few hardcoded references to `gArgs` remain. This commit removes the last ones so these functions aren't reading or writing global state.\r\n\r\nNoticed these `gArgs` references while reviewing #27073",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27170",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27170",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27170.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27170.patch"
          },
          "closed_at": "2023-02-28T16:01:32Z",
          "created_at": "2023-02-27T19:54:45Z",
          "updated_at": "2023-02-28T16:01:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-28T12:55:38Z",
      "updated_at": "2023-02-28T12:55:38Z",
      "source": {
        "issue": {
          "id": 1603019371,
          "node_id": "PR_kwDOABII585K7aPW",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27176",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27176/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27176/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27176/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27176",
          "number": 27176,
          "state": "closed",
          "state_reason": null,
          "title": "docs: GetDataDirNet and GetDataDirBase don't create datadir",
          "body": "Since #27073, the behaviour of `GetDataDir()` [changed](https://github.com/bitcoin/bitcoin/pull/27073/files#diff-19427b0dd1a791adc728c82e88f267751ba4f1c751e19262cac03cccd2822216L435-L443) to only return the datadir path, but not create it if non-existent. This also changed the behaviour of `GetDataDirNet()` and `GetDataDirBase()` but the docs do not yet reflect that.",
          "user": {
            "login": "stickies-v",
            "id": 69010457,
            "node_id": "MDQ6VXNlcjY5MDEwNDU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stickies-v",
            "html_url": "https://github.com/stickies-v",
            "followers_url": "https://api.github.com/users/stickies-v/followers",
            "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
            "organizations_url": "https://api.github.com/users/stickies-v/orgs",
            "repos_url": "https://api.github.com/users/stickies-v/repos",
            "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stickies-v/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 148216,
              "node_id": "MDU6TGFiZWwxNDgyMTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Docs",
              "name": "Docs",
              "color": "02d7e1",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27176",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27176",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27176.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27176.patch"
          },
          "closed_at": "2023-02-28T15:34:33Z",
          "created_at": "2023-02-28T12:55:38Z",
          "updated_at": "2023-03-14T17:08:43Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8626630832,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAICL_Cw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8626630832",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "fb0dbe94233ec509570cbba3118cf62d8e60842b",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/fb0dbe94233ec509570cbba3118cf62d8e60842b",
      "created_at": "2023-02-28T12:56:28Z"
    },
    {
      "event": "referenced",
      "id": 8628363936,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAICSmKg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8628363936",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c37fb251f5a85ef20505cbca6a05038eef4d779e",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c37fb251f5a85ef20505cbca6a05038eef4d779e",
      "created_at": "2023-02-28T15:34:32Z"
    },
    {
      "event": "referenced",
      "id": 8628676063,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAICTyXf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8628676063",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8303f11e106807ea82938b2f3878b33daedb3d3f",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8303f11e106807ea82938b2f3878b33daedb3d3f",
      "created_at": "2023-02-28T16:01:32Z"
    },
    {
      "event": "referenced",
      "id": 8641704298,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAIDFfFq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8641704298",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "51ca1bc72d98df1bd333996355c388834493d233",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/51ca1bc72d98df1bd333996355c388834493d233",
      "created_at": "2023-03-01T19:06:27Z"
    },
    {
      "event": "referenced",
      "id": 8688898812,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAIF5hL8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8688898812",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "fc037c8c8395564133b066aeff04e8198708c82a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc037c8c8395564133b066aeff04e8198708c82a",
      "created_at": "2023-03-07T18:05:14Z"
    },
    {
      "event": "referenced",
      "id": 10266964282,
      "node_id": "REFE_lADOABII585eKBK1zwAAAAJj9XE6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10266964282",
      "actor": {
        "login": "janus",
        "id": 6726,
        "node_id": "MDQ6VXNlcjY3MjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janus",
        "html_url": "https://github.com/janus",
        "followers_url": "https://api.github.com/users/janus/followers",
        "following_url": "https://api.github.com/users/janus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janus/subscriptions",
        "organizations_url": "https://api.github.com/users/janus/orgs",
        "repos_url": "https://api.github.com/users/janus/repos",
        "events_url": "https://api.github.com/users/janus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "30f418df2ac96966f471cd715dbb494e3e15d592",
      "commit_url": "https://api.github.com/repos/BitgesellOfficial/bitgesell/commits/30f418df2ac96966f471cd715dbb494e3e15d592",
      "created_at": "2023-09-03T18:25:57Z"
    },
    {
      "event": "locked",
      "id": 11903132986,
      "node_id": "LOE_lADOABII585eKBK1zwAAAALFe2U6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11903132986",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-23T12:33:57Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102860988",
      "pull_request_review_id": 1293318666,
      "id": 1102860988,
      "node_id": "PRRC_kwDOABII585BvFK8",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would take this opportunity to mark the return value of `fs::path& GetDataDir()` as `LIFETIMEBOUND`\r\n```suggestion\r\n    auto& path{GetDataDir(net_specific)};\r\n```\r\nedit: although one could argue that given the small size of the return value, we might instead just not have `GetDataDir()` return by reference entirely.",
      "created_at": "2023-02-10T14:55:39Z",
      "updated_at": "2023-02-10T18:51:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102860988",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102860988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102865686",
      "pull_request_review_id": 1293318666,
      "id": 1102865686,
      "node_id": "PRRC_kwDOABII585BvGUW",
      "diff_hunk": "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Parameter naming is a bit confusing, they're both paths. `conf_file` is just guaranteed to be the absolute path, whereas `conf_path` may not be. `abs_conf_path` sounds more appropriate to me.\r\n\r\nBut instead, I would simplify this by just returning the absolute path and changing the signature to `fs::path GetConfigFilePath();`. I don't think we need the (current) `conf_path` for anything - (current) `conf_file` seems enough?",
      "created_at": "2023-02-10T14:59:22Z",
      "updated_at": "2023-02-10T15:25:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102865686",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102865686"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 970,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102893580",
      "pull_request_review_id": 1293318666,
      "id": 1102893580,
      "node_id": "PRRC_kwDOABII585BvNIM",
      "diff_hunk": "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems like this function is only used to call `ArgsManager::CreateDataDirIfNotExists(false)`. Unless I misunderstand, I think it makes more sense to just make `ArgsManager::CreateDataDirIfNotExists` public? It's less code and a more clear intent, imo.\r\n\r\n<details>\r\n<summary>git diff (overlaps a bit with my other comment)</summary>\r\n\r\n```diff\r\ndiff --git a/src/bitcoind.cpp b/src/bitcoind.cpp\r\nindex 3d154961b..49a709628 100644\r\n--- a/src/bitcoind.cpp\r\n+++ b/src/bitcoind.cpp\r\n@@ -153,7 +153,7 @@ static bool AppInit(NodeContext& node, int argc, char* argv[])\r\n         if (!CheckDataDirOption()) {\r\n             return InitError(Untranslated(strprintf(\"Specified data directory \\\"%s\\\" does not exist.\\n\", args.GetArg(\"-datadir\", \"\"))));\r\n         }\r\n-        args.GetOrCreateConfigFilePath();\r\n+        args.CreateDataDirIfNotExists(false);\r\n         if (!args.ReadConfigFiles(error, true)) {\r\n             return InitError(Untranslated(strprintf(\"Error reading configuration file: %s\\n\", error)));\r\n         }\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex f69c4be2d..fa3d0ab92 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -596,7 +596,7 @@ int GuiMain(int argc, char* argv[])\r\n     try {\r\n         /// 6b. Parse bitcoin.conf\r\n         /// - Do not call gArgs.GetDataDirNet() before this step finishes\r\n-        gArgs.GetOrCreateConfigFilePath();\r\n+        gArgs.CreateDataDirIfNotExists(false);\r\n         if (!gArgs.ReadConfigFiles(error, true)) {\r\n             InitError(strprintf(Untranslated(\"Error reading configuration file: %s\\n\"), error));\r\n             QMessageBox::critical(nullptr, PACKAGE_NAME,\r\ndiff --git a/src/util/system.cpp b/src/util/system.cpp\r\nindex 11991f1ab..335630599 100644\r\n--- a/src/util/system.cpp\r\n+++ b/src/util/system.cpp\r\n@@ -967,17 +967,9 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\r\n     return true;\r\n }\r\n \r\n-void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\r\n+fs::path ArgsManager::GetConfigFilePath()\r\n {\r\n-    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\r\n-    conf_file = GetConfigFile(conf_path);\r\n-}\r\n-\r\n-void ArgsManager::GetOrCreateConfigFilePath()\r\n-{\r\n-    fs::path conf_path, conf_file;\r\n-    GetConfigFilePath(conf_path, conf_file);\r\n-    CreateDataDirIfNotExists(false);\r\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));\r\n }\r\n \r\n bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\r\n@@ -988,9 +980,8 @@ bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\r\n         m_config_sections.clear();\r\n     }\r\n \r\n-    fs::path conf_path, conf_file;\r\n-    GetConfigFilePath(conf_path, conf_file);\r\n-    std::ifstream stream{conf_file};\r\n+    auto conf_path{GetConfigFilePath()};\r\n+    std::ifstream stream{conf_path};\r\n \r\n     // not ok to have a config file specified that cannot be opened\r\n     if (IsArgSet(\"-conf\") && !stream.good()) {\r\ndiff --git a/src/util/system.h b/src/util/system.h\r\nindex e3cb56d06..85b1f00d0 100644\r\n--- a/src/util/system.h\r\n+++ b/src/util/system.h\r\n@@ -242,8 +242,7 @@ protected:\r\n     void SelectConfigNetwork(const std::string& network);\r\n \r\n     [[nodiscard]] bool ParseParameters(int argc, const char* const argv[], std::string& error);\r\n-    void GetConfigFilePath(fs::path& conf_path, fs::path& conf_file);\r\n-    void GetOrCreateConfigFilePath();\r\n+    fs::path GetConfigFilePath();\r\n     [[nodiscard]] bool ReadConfigFiles(std::string& error, bool ignore_invalid_keys = false);\r\n \r\n     /**\r\n@@ -477,6 +476,13 @@ protected:\r\n      */\r\n     void LogArgs() const;\r\n \r\n+    /**\r\n+     * Create data directory if it doesn't exist\r\n+     *\r\n+     * @param net_specific Create a network-identified data directory\r\n+     */\r\n+    void CreateDataDirIfNotExists(bool net_specific);\r\n+\r\n private:\r\n     /**\r\n      * Get data directory path\r\n@@ -486,13 +492,6 @@ private:\r\n      */\r\n     const fs::path& GetDataDir(bool net_specific) const;\r\n \r\n-    /**\r\n-     * Create data directory if it doesn't exist\r\n-     *\r\n-     * @param net_specific Create a network-identified data directory\r\n-     */\r\n-    void CreateDataDirIfNotExists(bool net_specific);\r\n-\r\n     // Helper function for LogArgs().\r\n     void logArgsPrefix(\r\n         const std::string& prefix,\r\n```\r\n</details>",
      "created_at": "2023-02-10T15:23:05Z",
      "updated_at": "2023-02-10T15:24:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102893580",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102893580"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 976,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102936320",
      "pull_request_review_id": 1293450868,
      "id": 1102936320,
      "node_id": "PRRC_kwDOABII585BvXkA",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "suggestion, could call this `EnsureDataDir` or `EnsureDirExists`? Actually this is just for the wallet? maybe then `EnsureWalletDir` ?",
      "created_at": "2023-02-10T15:57:01Z",
      "updated_at": "2023-02-10T16:33:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102936320",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102936320"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102941617",
      "pull_request_review_id": 1293450868,
      "id": 1102941617,
      "node_id": "PRRC_kwDOABII585BvY2x",
      "diff_hunk": "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd suggest renaming this function too, it returns `void` so it's not really a \"getter\"",
      "created_at": "2023-02-10T16:01:49Z",
      "updated_at": "2023-02-10T16:33:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102941617",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102941617"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 976,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103027063",
      "pull_request_review_id": 1293645693,
      "id": 1103027063,
      "node_id": "PRRC_kwDOABII585Bvtt3",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": 1102936320,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Actually this is just for the wallet?\r\n\r\nIt's not just for the wallet, it's simply shorthand for creating both `datadir/` as well as `datadir/wallets/` - `fs::create_directories` [creates](https://en.cppreference.com/w/cpp/filesystem/create_directory) all the non-existing dirs in path.\r\n\r\nBut I agree: `EnsureDataDir` is probably a better name. Shorter and equally informative. I think `Data` needs to be in there - it's opinionated about which exact directory.",
      "created_at": "2023-02-10T17:20:30Z",
      "updated_at": "2023-02-10T17:22:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1103027063",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103027063"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104354933",
      "pull_request_review_id": 1295476114,
      "id": 1104354933,
      "node_id": "PRRC_kwDOABII585B0x51",
      "diff_hunk": "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": 1102893580,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I adapted these changes with @pinheadmz name change suggested below",
      "created_at": "2023-02-13T11:40:22Z",
      "updated_at": "2023-02-13T11:40:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104354933",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104354933"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 976,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355153",
      "pull_request_review_id": 1295476400,
      "id": 1104355153,
      "node_id": "PRRC_kwDOABII585B0x9R",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": 1102936320,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agreed, and renamed.",
      "created_at": "2023-02-13T11:40:35Z",
      "updated_at": "2023-02-13T11:40:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104355153",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355153"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355315",
      "pull_request_review_id": 1295476615,
      "id": 1104355315,
      "node_id": "PRRC_kwDOABII585B0x_z",
      "diff_hunk": "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": 1102865686,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "agreed",
      "created_at": "2023-02-13T11:40:45Z",
      "updated_at": "2023-02-13T11:40:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104355315",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355315"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 970,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104356262",
      "pull_request_review_id": 1295478132,
      "id": 1104356262,
      "node_id": "PRRC_kwDOABII585B0yOm",
      "diff_hunk": "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "in_reply_to_id": 1102941617,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now returns a file path",
      "created_at": "2023-02-13T11:41:44Z",
      "updated_at": "2023-02-13T11:41:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104356262",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104356262"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 976,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104364182",
      "pull_request_review_id": 1295489596,
      "id": 1104364182,
      "node_id": "PRRC_kwDOABII585B00KW",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n    const auto path{GetDataDir(net_specific)};\r\n```",
      "created_at": "2023-02-13T11:49:23Z",
      "updated_at": "2023-02-13T11:55:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104364182",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104364182"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104365397",
      "pull_request_review_id": 1295489596,
      "id": 1104365397,
      "node_id": "PRRC_kwDOABII585B00dV",
      "diff_hunk": "@@ -973,8 +980,8 @@ bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\n         m_config_sections.clear();\n     }\n \n-    const fs::path conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n-    std::ifstream stream{GetConfigFile(conf_path)};\n+    auto conf_path{GetConfigFilePath()};",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sorry, forgot to mark this as `const` in my diff\r\n```suggestion\r\n    const auto conf_path{GetConfigFilePath()};\r\n```",
      "created_at": "2023-02-13T11:50:35Z",
      "updated_at": "2023-02-13T11:55:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104365397",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104365397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 983,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104368899",
      "pull_request_review_id": 1295489596,
      "id": 1104368899,
      "node_id": "PRRC_kwDOABII585B01UD",
      "diff_hunk": "@@ -153,6 +153,7 @@ static bool AppInit(NodeContext& node, int argc, char* argv[])\n         if (!CheckDataDirOption()) {\n             return InitError(Untranslated(strprintf(\"Specified data directory \\\"%s\\\" does not exist.\\n\", args.GetArg(\"-datadir\", \"\"))));\n         }\n+        args.EnsureDataDir(false);",
      "path": "src/bitcoind.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        args.EnsureDataDir(/*net_specific=*/false);\r\n```",
      "created_at": "2023-02-13T11:54:07Z",
      "updated_at": "2023-02-13T11:55:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104368899",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104368899"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104369081",
      "pull_request_review_id": 1295489596,
      "id": 1104369081,
      "node_id": "PRRC_kwDOABII585B01W5",
      "diff_hunk": "@@ -596,6 +596,7 @@ int GuiMain(int argc, char* argv[])\n     try {\n         /// 6b. Parse bitcoin.conf\n         /// - Do not call gArgs.GetDataDirNet() before this step finishes\n+        gArgs.EnsureDataDir(false);",
      "path": "src/qt/bitcoin.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        gArgs.EnsureDataDir(/*net_specific=*/false);\r\n```",
      "created_at": "2023-02-13T11:54:20Z",
      "updated_at": "2023-02-13T11:55:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104369081",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104369081"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104375173",
      "pull_request_review_id": 1295505358,
      "id": 1104375173,
      "node_id": "PRRC_kwDOABII585B022F",
      "diff_hunk": "@@ -973,8 +980,8 @@ bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\n         m_config_sections.clear();\n     }\n \n-    const fs::path conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n-    std::ifstream stream{GetConfigFile(conf_path)};\n+    auto conf_path{GetConfigFilePath()};",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "in_reply_to_id": 1104365397,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sure, also agree",
      "created_at": "2023-02-13T12:00:35Z",
      "updated_at": "2023-02-13T12:00:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104375173",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104375173"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 983,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104384205",
      "pull_request_review_id": 1295518847,
      "id": 1104384205,
      "node_id": "PRRC_kwDOABII585B05DN",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "path": "src/util/system.cpp",
      "position": 45,
      "original_position": 22,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1. Should we care about possible exceptions here?\r\n2. What is the point to run this code when `net_specific == false`?",
      "created_at": "2023-02-13T12:10:04Z",
      "updated_at": "2023-02-13T12:12:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104384205",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104384205"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 458,
      "original_line": 458,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104386865",
      "pull_request_review_id": 1295518847,
      "id": 1104386865,
      "node_id": "PRRC_kwDOABII585B05sx",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe introduce two functions: one for `net_specific == true` and the other for `net_specific == true`?\r\n\r\nIt will make code cleaner on the caller sites.",
      "created_at": "2023-02-13T12:12:45Z",
      "updated_at": "2023-02-13T12:12:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104386865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104386865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104509569",
      "pull_request_review_id": 1295702228,
      "id": 1104509569,
      "node_id": "PRRC_kwDOABII585B1XqB",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "path": "src/util/system.cpp",
      "position": 45,
      "original_position": 22,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": 1104384205,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1. Yes, part of me wanted to add some exception handling here, however the [original code](https://github.com/bitcoin/bitcoin/blob/master/src/util/system.cpp#L435-L444) this was factored out of did not have any, and so my thinking was that this would be OK to leave as-is, happy to be persuaded otherwise though...\r\n2. When run with `net_specific = false`, this will return the general `DataDir`, e.g. `$HOME/.bitcoin` and with `true` will return the network-specific DataDir e.g. `$HOME/.bitcoin/regtest`",
      "created_at": "2023-02-13T14:01:16Z",
      "updated_at": "2023-02-13T14:01:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104509569",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104509569"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 458,
      "original_line": 458,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104510651",
      "pull_request_review_id": 1295703880,
      "id": 1104510651,
      "node_id": "PRRC_kwDOABII585B1X67",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": 1104386865,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Totally agree there could be two wrapper functions here if desired, `EnsureDataDir` and `EnsureNetDataDir` perhaps? It might just means more duplicated code in the end though?",
      "created_at": "2023-02-13T14:02:11Z",
      "updated_at": "2023-02-13T14:02:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104510651",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104510651"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104511719",
      "pull_request_review_id": 1295705602,
      "id": 1104511719,
      "node_id": "PRRC_kwDOABII585B1YLn",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "in_reply_to_id": 1104364182,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now addressed in f0df9ee5d",
      "created_at": "2023-02-13T14:03:09Z",
      "updated_at": "2023-02-13T14:03:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104511719",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104511719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104520762",
      "pull_request_review_id": 1295718268,
      "id": 1104520762,
      "node_id": "PRRC_kwDOABII585B1aY6",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "path": "src/util/system.cpp",
      "position": 45,
      "original_position": 22,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": 1104384205,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> 2\\. What is the point to run this code when `net_specific == false`?\r\n\r\n> 2\\. When run with `net_specific = false`, this will return the general `DataDir`, e.g. `$HOME/.bitcoin` and with `true` will return the network-specific DataDir e.g. `$HOME/.bitcoin/regtest`\r\n\r\nSorry, if my question was unclear. My point is whether we are interested in the `wallet` directory when `net_specific = false`?\r\n",
      "created_at": "2023-02-13T14:09:21Z",
      "updated_at": "2023-02-13T14:10:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104520762",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104520762"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 458,
      "original_line": 458,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104579180",
      "pull_request_review_id": 1295806819,
      "id": 1104579180,
      "node_id": "PRRC_kwDOABII585B1ops",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": 1104386865,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I did some digging, and I think (would be nice to get more confirmation on this) we can scrap the `net_specific == false` version entirely, we don't seem to need it. `EnsureDataDir` is called 3 times: 2 times right before reading config files - but it looks like we don't actually need to ensure a datadir there. If datadir doesn't exist, by definition no config files can be read (and that's handled gracefully). The only time we need it is where `net_specific==true`.\r\n\r\nIntuitively, this makes sense - it can never hurt to ensure that all the necessary datadirs (both base as well as the more specific net) exist. However, there actually is a pitfall, because `GetDataDir()` [does some caching](https://github.com/bitcoin/bitcoin/blob/8126551d54ffd290ed5767248be4b3d19243787b/src/util/system.cpp#L420-L422), we're [not allowed](https://github.com/bitcoin/bitcoin/blob/8126551d54ffd290ed5767248be4b3d19243787b/src/qt/bitcoin.cpp#L598) to call `GetDatDir(true)` before we've determined the network we're on (which requires us to first read the basedir and check if there's a config file there).\r\n\r\nFor that reason, I think calling it `EnsureDataDirNet` is probably better - and aligns with `GetDataDirNet` naming.\r\n\r\n<details>\r\n<summary>git diff (quick patch just to prototype)</summary>\r\n\r\n```diff\r\ndiff --git a/src/bitcoind.cpp b/src/bitcoind.cpp\r\nindex 3a36ff700..07002cc8a 100644\r\n--- a/src/bitcoind.cpp\r\n+++ b/src/bitcoind.cpp\r\n@@ -153,7 +153,6 @@ static bool AppInit(NodeContext& node, int argc, char* argv[])\r\n         if (!CheckDataDirOption()) {\r\n             return InitError(Untranslated(strprintf(\"Specified data directory \\\"%s\\\" does not exist.\\n\", args.GetArg(\"-datadir\", \"\"))));\r\n         }\r\n-        args.EnsureDataDir(/*net_specific=*/false);\r\n         if (!args.ReadConfigFiles(error, true)) {\r\n             return InitError(Untranslated(strprintf(\"Error reading configuration file: %s\\n\", error)));\r\n         }\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex 80e607f77..59f433749 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -596,7 +596,6 @@ int GuiMain(int argc, char* argv[])\r\n     try {\r\n         /// 6b. Parse bitcoin.conf\r\n         /// - Do not call gArgs.GetDataDirNet() before this step finishes\r\n-        gArgs.EnsureDataDir(/*net_specific=*/false);\r\n         if (!gArgs.ReadConfigFiles(error, true)) {\r\n             InitError(strprintf(Untranslated(\"Error reading configuration file: %s\\n\"), error));\r\n             QMessageBox::critical(nullptr, PACKAGE_NAME,\r\ndiff --git a/src/util/system.cpp b/src/util/system.cpp\r\nindex 329100008..75fd91516 100644\r\n--- a/src/util/system.cpp\r\n+++ b/src/util/system.cpp\r\n@@ -439,9 +439,9 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\r\n     return path;\r\n }\r\n \r\n-void ArgsManager::EnsureDataDir(bool net_specific)\r\n+void ArgsManager::EnsureDataDirNet()\r\n {\r\n-    fs::path path = GetDataDir(net_specific);\r\n+    fs::path path = GetDataDir(true);\r\n     if (!fs::exists(path)) {\r\n         fs::create_directories(path / \"wallets\");\r\n     }\r\n@@ -492,7 +492,7 @@ bool ArgsManager::IsArgSet(const std::string& strArg) const\r\n \r\n bool ArgsManager::InitSettings(std::string& error)\r\n {\r\n-    EnsureDataDir(/*net_specific=*/true);\r\n+    EnsureDataDirNet();\r\n     if (!GetSettingsPath()) {\r\n         return true; // Do nothing if settings file disabled.\r\n     }\r\ndiff --git a/src/util/system.h b/src/util/system.h\r\nindex 3bcbd5c8e..23c15228e 100644\r\n--- a/src/util/system.h\r\n+++ b/src/util/system.h\r\n@@ -478,10 +478,8 @@ protected:\r\n \r\n     /**\r\n      * Create data directory if it doesn't exist\r\n-     *\r\n-     * @param net_specific Create a network-identified data directory\r\n      */\r\n-    void EnsureDataDir(bool net_specific);\r\n+    void EnsureDataDirNet();\r\n \r\n private:\r\n     /**\r\n```\r\n</details>",
      "created_at": "2023-02-13T14:52:24Z",
      "updated_at": "2023-02-13T14:52:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104579180",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104579180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105549095",
      "pull_request_review_id": 1297201075,
      "id": 1105549095,
      "node_id": "PRRC_kwDOABII585B5Vcn",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": 1104386865,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I have updated to `EnsureDataDirNet` as suggested",
      "created_at": "2023-02-14T09:49:17Z",
      "updated_at": "2023-02-14T09:49:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1105549095",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105549095"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105552243",
      "pull_request_review_id": 1297205853,
      "id": 1105552243,
      "node_id": "PRRC_kwDOABII585B5WNz",
      "diff_hunk": "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "path": "src/util/system.cpp",
      "position": 45,
      "original_position": 22,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "in_reply_to_id": 1104384205,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now updated to `EnsureDataDirNet` which always creates the `wallets/` path if it's creating a new DataDir, but otherwise doesn't.",
      "created_at": "2023-02-14T09:52:03Z",
      "updated_at": "2023-02-14T09:52:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1105552243",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105552243"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 458,
      "original_line": 458,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107037794",
      "pull_request_review_id": 1299361908,
      "id": 1107037794,
      "node_id": "PRRC_kwDOABII585B_A5i",
      "diff_hunk": "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "path": "src/util/system.cpp",
      "position": 66,
      "original_position": 57,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The behavior has been slightly changed:\r\n\r\n- on master:\r\n```\r\n$ ./src/qt/bitcoin-qt -regtest -conf=nothing\r\nError: Error reading configuration file: specified config file \"nothing\" could not be opened.\r\n\r\n```\r\n\r\n- this PR (6207b73e508d6cfc7583483d00261c66b0c348c3):\r\n```\r\n$ ./src/qt/bitcoin-qt -regtest -conf=nothing\r\nError: Error reading configuration file: specified config file \"/home/hebasto/.bitcoin/nothing\" could not be opened.\r\n\r\n```\r\n\r\nIf it is intended, maybe document it?",
      "created_at": "2023-02-15T12:03:47Z",
      "updated_at": "2023-02-15T12:03:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107037794",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107037794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 984,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107231839",
      "pull_request_review_id": 1299656972,
      "id": 1107231839,
      "node_id": "PRRC_kwDOABII585B_wRf",
      "diff_hunk": "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "path": "src/util/system.cpp",
      "position": 66,
      "original_position": 57,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "in_reply_to_id": 1107037794,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right that's a good catch. We still _behave_ the same as previously, either fetching `conf` from an absolute path or completing the path with default datadir, but now because I simplified [reading the conf into a stream](https://github.com/bitcoin/bitcoin/pull/27073/commits/6207b73e508d6cfc7583483d00261c66b0c348c3#diff-19427b0dd1a791adc728c82e88f267751ba4f1c751e19262cac03cccd2822216L993), we return the full path we were trying in the error.\r\n\r\nI agree that therefore there is a slight behaviour change, and personally I think this is more desirable than previously, where users were not told the absolute path the program was searching on for the config I would prefer to keep it this way, but not sure what documentation you would suggest adding in this case?",
      "created_at": "2023-02-15T14:53:48Z",
      "updated_at": "2023-02-15T14:53:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107231839",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107231839"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 984,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107255177",
      "pull_request_review_id": 1299692412,
      "id": 1107255177,
      "node_id": "PRRC_kwDOABII585B_1-J",
      "diff_hunk": "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "path": "src/util/system.cpp",
      "position": 66,
      "original_position": 57,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "in_reply_to_id": 1107037794,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> ... not sure what documentation you would suggest adding in this case?\r\n\r\nThe PR description? A commit message?",
      "created_at": "2023-02-15T15:11:21Z",
      "updated_at": "2023-02-15T15:11:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107255177",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107255177"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 984,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107257611",
      "pull_request_review_id": 1299696161,
      "id": 1107257611,
      "node_id": "PRRC_kwDOABII585B_2kL",
      "diff_hunk": "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "path": "src/util/system.cpp",
      "position": 66,
      "original_position": 57,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "in_reply_to_id": 1107037794,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm curious now, why functional tests did not catch this change?",
      "created_at": "2023-02-15T15:13:15Z",
      "updated_at": "2023-02-15T15:13:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107257611",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107257611"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 984,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109015893",
      "pull_request_review_id": 1302268033,
      "id": 1109015893,
      "node_id": "PRRC_kwDOABII585CGj1V",
      "diff_hunk": "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "path": "src/util/system.cpp",
      "position": 66,
      "original_position": 57,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "in_reply_to_id": 1107037794,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The reason is that we do not test relative `-conf=` arguments [here](https://github.com/bitcoin/bitcoin/blob/73966f75f67fb797163f0a766292a79d4b2c1b70/test/functional/feature_config_args.py#L287), even though we pass a realtive conf argument in.\r\n\r\nThis means that we are only testing the `os.path.join` sum of default `DataDir` and the relative arg.",
      "created_at": "2023-02-16T20:57:25Z",
      "updated_at": "2023-02-16T20:57:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1109015893",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109015893"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 984,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110294446",
      "pull_request_review_id": 1304123788,
      "id": 1110294446,
      "node_id": "PRRC_kwDOABII585CLb-u",
      "diff_hunk": "@@ -432,20 +431,25 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir()\n+{\n+    auto path{GetDataDir(false)};",
      "path": "src/util/system.cpp",
      "position": 39,
      "original_position": 30,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"util: add ArgsManager datadir helper functions\" (f9ee6df4c08a8ef63900359b6c3564db1d4f5073)\r\n\r\nMaybe add comment about why this is creating wallet directories. Could say something like: \r\n\r\n\"wallets\" subdirectories are created in all new datadirs, because wallet code will create new wallets in the \"wallets\" subdirectory only if exists already, otherwise it will create them in the top-level datadir where they could interfere with other files. Wallet init code currently avoids creating \"wallets\" directories itself for backwards compatibility, but this be changed in the future (https://github.com/bitcoin/bitcoin/issues/16220) and wallet code here could away.",
      "created_at": "2023-02-17T19:56:35Z",
      "updated_at": "2023-02-18T16:32:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1110294446",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110294446"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 452,
      "original_line": 452,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111053194",
      "pull_request_review_id": 1304123788,
      "id": 1111053194,
      "node_id": "PRRC_kwDOABII585COVOK",
      "diff_hunk": "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "path": "src/util/system.cpp",
      "position": 66,
      "original_position": 57,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "in_reply_to_id": 1107037794,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107231839\r\n\r\nAgree new behavior is better than old behavior:\r\n\r\n- Having absolute path of the file that could not be loaded provides more information to users\r\n- Internally, new code avoids confusing side effect of `GetConfigFile` actually creating the datadir directory instead of just returning a path string",
      "created_at": "2023-02-18T15:54:01Z",
      "updated_at": "2023-02-18T16:30:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1111053194",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111053194"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 984,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111781354",
      "pull_request_review_id": 1305531931,
      "id": 1111781354,
      "node_id": "PRRC_kwDOABII585CRG_q",
      "diff_hunk": "@@ -432,20 +431,25 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir()\n+{\n+    auto path{GetDataDir(false)};",
      "path": "src/util/system.cpp",
      "position": 39,
      "original_position": 30,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "in_reply_to_id": 1110294446,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added in https://github.com/bitcoin/bitcoin/commit/5626101c8d385501a60e231bbbdda9439af5e881",
      "created_at": "2023-02-20T10:51:51Z",
      "updated_at": "2023-02-20T10:51:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1111781354",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111781354"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 452,
      "original_line": 452,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114423128",
      "pull_request_review_id": 1309386491,
      "id": 1114423128,
      "node_id": "PRRC_kwDOABII585CbL9Y",
      "diff_hunk": "@@ -475,6 +476,17 @@ class ArgsManager\n      */\n     void LogArgs() const;\n \n+    /** If datadir does not exist, create it along with wallets/",
      "path": "src/util/system.h",
      "position": null,
      "original_position": 12,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "5626101c8d385501a60e231bbbdda9439af5e881",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"util: make GetDataDir read-only & create datadir..\" (0af17e161d751b15f90615800411f36e11b3fcde)\r\n\r\nWould be good to move this comment from the `EnsureDataDir` declaration to the `EnsureDataDir` implementation. The comment is trying to explain the confusing `create_directories(\"wallets\")` calls there, so probably more helpful next to those calls.\r\n\r\nIt would be good to have API documentation for the two new functions though. I would move the function descriptions you wrong in the commit message out of the commit message and into `system.h` comments.",
      "created_at": "2023-02-22T14:43:53Z",
      "updated_at": "2023-02-22T18:15:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1114423128",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114423128"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 479,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115361129",
      "pull_request_review_id": 1310799327,
      "id": 1115361129,
      "node_id": "PRRC_kwDOABII585Cew9p",
      "diff_hunk": "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "path": "src/util/system.cpp",
      "position": 66,
      "original_position": 57,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "in_reply_to_id": 1107037794,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Closing as I think this is resolved",
      "created_at": "2023-02-23T08:29:22Z",
      "updated_at": "2023-02-23T08:29:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1115361129",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115361129"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 984,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115385741",
      "pull_request_review_id": 1310836196,
      "id": 1115385741,
      "node_id": "PRRC_kwDOABII585Ce2-N",
      "diff_hunk": "@@ -475,6 +476,17 @@ class ArgsManager\n      */\n     void LogArgs() const;\n \n+    /** If datadir does not exist, create it along with wallets/",
      "path": "src/util/system.h",
      "position": null,
      "original_position": 12,
      "commit_id": "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "original_commit_id": "5626101c8d385501a60e231bbbdda9439af5e881",
      "in_reply_to_id": 1114423128,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated in 56e370fbb9413260723c598048392219b1055ad0",
      "created_at": "2023-02-23T08:54:48Z",
      "updated_at": "2023-02-23T08:54:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1115385741",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115385741"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 479,
      "side": "RIGHT"
    }
  ]
}