{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695",
    "id": 1163370305,
    "node_id": "PR_kwDOABII585FV59B",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/26695",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/26695.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/26695.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/04528054fcde61aa00e009dbbe1ac350ca1cf748",
    "number": 26695,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "bench: BlockAssembler on a mempool with packages",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Performance of block template building matters as miners likely want to be able to start mining on a block with transactions asap after a block is found. We would want to know if a mempool PR accidentally caused, for example, a 100x slowdown. An `AssembleBlock()` bench exists, but it operates on a mempool with 101 transactions, each with 0 ancestors or descendants and with the same fee. Adding a bench with a more complex mempool is useful because (1) it's more realistic (2) updating packages can potentially cause the algorithm to take a long time.",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2022-12-13T16:38:39Z",
    "updated_at": "2023-01-12T13:38:46Z",
    "closed_at": "2023-01-11T23:11:37Z",
    "mergeable_state": "unknown",
    "merged_at": "2023-01-11T23:11:37Z",
    "merge_commit_sha": "2f6a8e5e02465e9de5c9f6202d5e3f8aa19bf70b",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "glozow:2022-12-bench-miner",
      "ref": "2022-12-bench-miner",
      "sha": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 244262754,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNDQyNjI3NTQ=",
        "name": "bitcoin",
        "full_name": "glozow/bitcoin",
        "owner": {
          "login": "glozow",
          "id": 25183001,
          "node_id": "MDQ6VXNlcjI1MTgzMDAx",
          "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/glozow",
          "html_url": "https://github.com/glozow",
          "followers_url": "https://api.github.com/users/glozow/followers",
          "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
          "organizations_url": "https://api.github.com/users/glozow/orgs",
          "repos_url": "https://api.github.com/users/glozow/repos",
          "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/glozow/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/glozow/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/glozow/bitcoin",
        "archive_url": "https://api.github.com/repos/glozow/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/glozow/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/glozow/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/glozow/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/glozow/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/glozow/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/glozow/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/glozow/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/glozow/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/glozow/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/glozow/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/glozow/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/glozow/bitcoin/events",
        "forks_url": "https://api.github.com/repos/glozow/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/glozow/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/glozow/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/glozow/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/glozow/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/glozow/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/glozow/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/glozow/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/glozow/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/glozow/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/glozow/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/glozow/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/glozow/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/glozow/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/glozow/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/glozow/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:glozow/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/glozow/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/glozow/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/glozow/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/glozow/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/glozow/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/glozow/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/glozow/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/glozow/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/glozow/bitcoin/hooks",
        "svn_url": "https://github.com/glozow/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 8,
        "watchers_count": 8,
        "size": 225334,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T07:39:06Z",
        "created_at": "2020-03-02T02:31:56Z",
        "updated_at": "2023-06-09T04:08:16Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "f3bc1a72825fe2b51f4bc20e004cef464f05b965",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34350,
        "stargazers_count": 69857,
        "watchers_count": 69857,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-09T11:53:48Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T12:01:40Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 54,
    "deletions": 13,
    "changed_files": 6,
    "commits": 6,
    "review_comments": 35,
    "comments": 10
  },
  "events": [
    {
      "event": "labeled",
      "id": 8027800005,
      "node_id": "LE_lADOABII585ZFrR2zwAAAAHefoHF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8027800005",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-13T16:38:39Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 1349016230,
      "node_id": "IC_kwDOABII585QaFqm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1349016230",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-13T16:38:42Z",
      "updated_at": "2023-01-11T23:02:42Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1226360773), [kevkevinpal](https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1363456336), [achow101](https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1379592245) |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1226621159) |\n| Stale ACK | [jamesob](https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1221181904), [Emzy](https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1361820871), [hernanmarino](https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1226572144) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1349016230",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "reviewed",
      "id": 1216424439,
      "node_id": "PRR_kwDOABII585IgSn3",
      "url": null,
      "actor": null,
      "commit_id": "e2ef70c537793d1d2a608d5a93862b1203a86090",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK\r\n\r\nChange and idea are good, small issue with the first commit.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1216424439",
      "submitted_at": "2022-12-13T21:11:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "unlabeled",
      "id": 8034212159,
      "node_id": "UNLE_lADOABII585ZFrR2zwAAAAHe4Fk_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8034212159",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-14T08:18:13Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "labeled",
      "id": 8034212665,
      "node_id": "LE_lADOABII585ZFrR2zwAAAAHe4Fs5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8034212665",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-14T08:18:16Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8035391719,
      "node_id": "HRFPE_lADOABII585ZFrR2zwAAAAHe8ljn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8035391719",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-14T10:14:29Z"
    },
    {
      "event": "reviewed",
      "id": 1217406488,
      "node_id": "PRR_kwDOABII585IkCYY",
      "url": null,
      "actor": null,
      "commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 4c20bee65009bd2c95c2a3426030b042f55007ad ([`jamesob/ackr/26695.2.glozow.bench_blockassembler_on`](https://github.com/jamesob/bitcoin/tree/ackr/26695.2.glozow.bench_blockassembler_on))\r\n\r\nNice! Good thing to have.\r\n\r\nCould possibly later populate the mempool with a more stressful load, something\r\nlike 10,000 transactions? \r\n\r\n<details><summary>Show signature data</summary>\r\n<p>\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 4c20bee65009bd2c95c2a3426030b042f55007ad ([`jamesob/ackr/26695.2.glozow.bench_blockassembler_on`](https://github.com/jamesob/bitcoin/tree/ackr/26695.2.glozow.bench_blockassembler_on))\r\n\r\nNice! Good thing to have.\r\n\r\nCould possibly later populate the mempool with a more stressful load, something\r\nlike 10,000 transactions? \r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCgAdFiEEGNRVI1NPYuZCSIrGepNdrbLETwUFAmOZx4sACgkQepNdrbLE\r\nTwVdwA//bHGKG97lUP5JPiknjulnwVzPvfPyXJi8azZQ2XoK3T1HEA/kJo31wHrY\r\n2mdRgis+kst/emY7wfu/LAAlc06M8cKt5DuPfEgJIPzkidV8JAePMvw8QpDgbd/K\r\nmTu+6mdeGq5Mspy0eS2ItsQEeC4NvZeQSIIf9yCSIhlnCBmeshqBEydN3tduW6Ot\r\nnr6RKGizFO7yJ1ecWX+UA9eYNUYUz4isLehBgoyTh5hz0IJobWIFRmzVCXUQci0y\r\nS3WxFf4RlGnJpWMOOwd/6WZHAdsFOtZ6T4Nux9HEC7nboxb+pfib47CvqCWc0kG3\r\n4mAsJtxasIna/0HTMFD9gApOteG3NByNDKfOkhG1gZYu8tnRA6wm+61WKX6BgJT9\r\nMHHd4WMlov9ye4YaQQazpV8ApXqbjMbFpOLxSeCn3vad/bXo4IWq2x+rpQZTpLJs\r\n+pPNTvqahtk96njeqZcukbnu+JYuEbst4sSlOGMd29fV52M2lyOICK5Jt0PgjfBR\r\nf/lZXhNdd7+1ydj5XOkKE4RAqaQhEf1FYhvR0u+HmFcIVUsEfIYQkvB4z89j28KI\r\nhFGQD3eFPxFPdxBV32GMWHKQ52KBgvzL0Hbbe4a7D/FSbE8YAnRhFXx3jd4AhlAV\r\n8xCDcN/eAthz45ZsTvvoF6NagwRfoXQoP4jzjzFIsNDGD0CKri0=\r\n=cB3y\r\n-----END PGP SIGNATURE-----\r\n\r\n```\r\n\r\n</p></details>\r\n\r\n<details><summary>Show platform data</summary>\r\n<p>\r\n\r\n```\r\nTested on Linux-6.0.11-arch1-1-x86_64-with-glibc2.36\r\n\r\nConfigured with ./configure --without-bdb 'CXXFLAGS=-fPIE -pipe -O2 -g -Wthread-safety-analysis -Wall -Werror=sign-compare ' --disable-gui-tests --disable-fuzz-binary --enable-wallet --enable-debug --with-daemon --enable-natpmp-default CXX=/usr/bin/clang++ CC=/usr/bin/clang PYTHONPATH= --disable-shared --with-pic --enable-benchmark=no --enable-module-recovery --enable-module-schnorrsig --disable-shared --with-pic --enable-benchmark=no --enable-module-recovery --enable-module-schnorrsig --no-create --no-recursion\r\n\r\nCompiled with /usr/bin/ccache /usr/bin/clang++ -std=c++17 -mavx -mavx2 -mpclmul -fPIE -pipe -O2 -g -Wthread-safety-analysis -Wall -Werror=sign-compare  -O0 -g3 -ftrapv -fdebug-prefix-map=$(abs_top_srcdir)=.  -Wstack-protector -fstack-protector-all -fcf-protection=full -fstack-clash-protection -msse4.1 -msse4.2 -msse4 -msha  i\r\n\r\nCompiler version: clang version 14.0.6\r\n```\r\n\r\n</p></details>\r\n\r\n",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1217406488",
      "submitted_at": "2022-12-14T12:53:57Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "reviewed",
      "id": 1217424049,
      "node_id": "PRR_kwDOABII585IkGqx",
      "url": null,
      "actor": null,
      "commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm. Left some nits",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1217424049",
      "submitted_at": "2022-12-14T13:18:23Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "reviewed",
      "id": 1217468000,
      "node_id": "PRR_kwDOABII585IkRZg",
      "url": null,
      "actor": null,
      "commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK - nice to have this kind of benchmark, will be helpful in e.g. #26289 \r\n\r\n",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1217468000",
      "submitted_at": "2022-12-15T11:57:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8048700925,
      "node_id": "HRFPE_lADOABII585ZFrR2zwAAAAHfvW39",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8048700925",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T16:00:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8057402929,
      "node_id": "HRFPE_lADOABII585ZFrR2zwAAAAHgQjYx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8057402929",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T15:01:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8058314387,
      "node_id": "HRFPE_lADOABII585ZFrR2zwAAAAHgUB6T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8058314387",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T16:54:31Z"
    },
    {
      "event": "reviewed",
      "id": 1221175456,
      "node_id": "PRR_kwDOABII585Iyaig",
      "url": null,
      "actor": null,
      "commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 628ce92c494c6d3b6181d2ee6f64494de38a67e3 ([`jamesob/ackr/26695.3.glozow.bench_blockassembler_on`](https://github.com/jamesob/bitcoin/tree/ackr/26695.3.glozow.bench_blockassembler_on))\r\n\r\nre-ACK\r\n\r\n<details><summary>Show signature data</summary>\r\n<p>\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 628ce92c494c6d3b6181d2ee6f64494de38a67e3 ([`jamesob/ackr/26695.3.glozow.bench_blockassembler_on`](https://github.com/jamesob/bitcoin/tree/ackr/26695.3.glozow.bench_blockassembler_on))\r\n\r\nre-ACK\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCgAdFiEEGNRVI1NPYuZCSIrGepNdrbLETwUFAmOcpWIACgkQepNdrbLE\r\nTwW/5w/+MpLKrQ5eLWc7uXQ2P1ML82Q1EKDXzGC4bmBFZZ2t7Ynj78enPUf1ukD2\r\no8hT28touxw5XSWF2Zcwjhh+DRWU6sqYJInpOXhW1366iqS2DcvDQZOctwEEUasO\r\nRM6lcRfNNvz4FyuiV4Cfn/liVHK6ipCQoPY88mjyy/I32XzwB6wXKNopRCV8GfFV\r\npIU10BM9tVobwHJhFRvTQve3nhwXjIbwJ0Vn9peUqKRSmuxDkFf2R6l/3YUwEFjk\r\niPJQ+SW4fo0h6bDThZ8GOfT8F4u52cnsx97zOck9f6wmehQoKUDIj6s2Epa/n/0q\r\nWZXx6+xI2RS3GuS7fM9et1+0H8TmyHhkvSpzkSiOg+npWBqPl+8tCgqQftUS4s+D\r\nHY/BoP1arD2nHsQ/yBksymASmnFKMyR0RWz8r8JheUY3gGXRDCQZkUCkVMMjpV3O\r\ntOIx6k1h8dfyaJqxW2e6o3r2dNho79Ap2nQS7UnRfFu80KebgyV0SZYusK3+OT4a\r\nWkm4VBO3l36BQJwOBmu6nQ3mpbgF4TvQOhj9F65GUaLrsAKrNn/YrcnV2U+g/RmS\r\nJaXsSUio7DukkYccLLLOh9WvYOXkxohIXNA7DBpk+VES8PBDN5Q5ZBuCmJSRt0HC\r\nVwSxSbNA4Pedk6pmaebOAgTUcQxY9yJOaBQLEqyhR3SRE4YgrVQ=\r\n=rMYG\r\n-----END PGP SIGNATURE-----\r\n\r\n```\r\n\r\n</p></details>\r\n\r\n<details><summary>Show platform data</summary>\r\n<p>\r\n\r\n```\r\nTested on Linux-6.0.11-arch1-1-x86_64-with-glibc2.36\r\n\r\nConfigured with ./configure --without-bdb 'CXXFLAGS=-fPIE -pipe -O2 -g -Wthread-safety-analysis -Wall -Werror=sign-compare ' --disable-gui-tests --disable-fuzz-binary --enable-wallet --enable-debug --with-daemon --enable-natpmp-default CXX=/usr/bin/clang++ CC=/usr/bin/clang PYTHONPATH= --disable-shared --with-pic --enable-benchmark=no --enable-module-recovery --enable-module-schnorrsig --disable-shared --with-pic --enable-benchmark=no --enable-module-recovery --enable-module-schnorrsig --no-create --no-recursion\r\n\r\nCompiled with /usr/bin/ccache /usr/bin/clang++ -std=c++17 -mavx -mavx2 -mpclmul -fPIE -pipe -O2 -g -Wthread-safety-analysis -Wall -Werror=sign-compare  -O0 -g3 -ftrapv -fdebug-prefix-map=$(abs_top_srcdir)=.  -Wstack-protector -fstack-protector-all -fcf-protection=full -fstack-clash-protection -msse4.1 -msse4.2 -msse4 -msha  i\r\n\r\nCompiler version: clang version 14.0.6\r\n```\r\n\r\n</p></details>\r\n\r\n",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1221175456",
      "submitted_at": "2022-12-16T17:05:08Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "reviewed",
      "id": 1221181904,
      "node_id": "PRR_kwDOABII585IycHQ",
      "url": null,
      "actor": null,
      "commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK b05347204d2d1cad030fc794aae2b0d29c35db7d ([`jamesob/ackr/26695.4.glozow.bench_blockassembler_on`](https://github.com/jamesob/bitcoin/tree/ackr/26695.4.glozow.bench_blockassembler_on))\r\n\r\nOops, previous ACK already stale. New ACK incorporates\r\n\r\n```diff\r\n-            m_node.mempool->addUnchecked(CTxMemPoolEntry(ptx, 1000, 0, 1, false, 4, lp));\r\n+            m_node.mempool->addUnchecked(CTxMemPoolEntry(ptx, /*fee=*/(total_in - num_outputs * amount_per_output),\r\n+                                                         /*time=*/0, /*entry_height=*/1,\r\n+                                                         /*spends_coinbase=*/false, /*sigops_cost=*/4, lp));\r\n         }\r\n         --num_transactions;\r\n     }\r\n```\r\n\r\n\r\n",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1221181904",
      "submitted_at": "2022-12-16T17:09:52Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "commented",
      "id": 1355236087,
      "node_id": "IC_kwDOABII585Qx0L3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1355236087",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T17:10:48Z",
      "updated_at": "2022-12-16T17:10:48Z",
      "author_association": "MEMBER",
      "body": "Yes apologies @jamesob, I noticed I was making the tx fee random but still setting the mempool entry fee to 1000. Thanks for such a quick review!",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1355236087",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "mentioned",
      "id": 8058434876,
      "node_id": "MEE_lADOABII585ZFrR2zwAAAAHgUfU8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8058434876",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T17:10:49Z"
    },
    {
      "event": "subscribed",
      "id": 8058434885,
      "node_id": "SE_lADOABII585ZFrR2zwAAAAHgUfVF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8058434885",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T17:10:49Z"
    },
    {
      "event": "reviewed",
      "id": 1222585757,
      "node_id": "PRR_kwDOABII585I3y2d",
      "url": null,
      "actor": null,
      "commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1222585757",
      "submitted_at": "2022-12-19T09:47:16Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "commented",
      "id": 1360776222,
      "node_id": "IC_kwDOABII585RG8we",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1360776222",
      "actor": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-21T02:48:50Z",
      "updated_at": "2022-12-21T02:48:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "I saw in 50218324dac18556d87688dc1a8e89bbe4d5f69e you change \r\n`LOCK2(m_node.mempool->cs, cs_main);` -> `LOCK2(cs_main, m_node.mempool->cs);`\r\nI'm just curious as to the reason",
      "user": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1360776222",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "commented",
      "id": 1361105239,
      "node_id": "IC_kwDOABII585RINFX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1361105239",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-21T10:02:01Z",
      "updated_at": "2022-12-21T10:02:01Z",
      "author_association": "MEMBER",
      "body": "> I saw in [5021832](https://github.com/bitcoin/bitcoin/commit/50218324dac18556d87688dc1a8e89bbe4d5f69e) you change `LOCK2(m_node.mempool->cs, cs_main);` -> `LOCK2(cs_main, m_node.mempool->cs);` I'm just curious as to the reason\r\n\r\nIt's an inconsistent order of acquiring mutexes, which along with other things can cause deadlock. I missed it when first implementing `PopulateMempool()` - until this PR, it was only called with both locks already acquired. Compiling with `--enable-debug` / `-DDEBUG_LOCKORDER` found it.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1361105239",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "commented",
      "id": 1361350940,
      "node_id": "IC_kwDOABII585RJJEc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1361350940",
      "actor": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-21T14:04:01Z",
      "updated_at": "2022-12-21T14:04:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > I saw in [5021832](https://github.com/bitcoin/bitcoin/commit/50218324dac18556d87688dc1a8e89bbe4d5f69e) you change `LOCK2(m_node.mempool->cs, cs_main);` -> `LOCK2(cs_main, m_node.mempool->cs);` I'm just curious as to the reason\n> \n> It's an inconsistent order of acquiring mutexes, which along with other things can cause deadlock. I missed it when first implementing `PopulateMempool()` - until this PR, it was only called with both locks already acquired. Compiling with `--enable-debug` / `-DDEBUG_LOCKORDER` found it.\n\nOk I'll try compiling with `--enable-debug` thanks that helps explain",
      "user": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1361350940",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "commented",
      "id": 1361820871,
      "node_id": "IC_kwDOABII585RK7zH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1361820871",
      "actor": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-21T18:21:51Z",
      "updated_at": "2022-12-21T18:21:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK b05347204d2d1cad030fc794aae2b0d29c35db7d\r\n\r\nthis is what I get when running the ```BlockAssemblerAddPackageTxns``` benchmark\r\n\r\nSpecs:\r\nmac book pro 2019\r\n2,6 GHz 6-Core Intel Core i7\r\n16 GB 2667 MHz DDR4\r\nmacos 13.0.1 (22A400)\r\n\r\n```\r\n$ ./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns --sanity-check\r\nRunning with --sanity-check option, benchmark results will be useless.\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|      777,853,228.00 |                1.29 |    0.0% |      0.78 | `BlockAssemblerAddPackageTxns`\r\n```\r\nWithout --sanity-check:\r\n```\r\n$ ./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns \r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|      787,270,151.00 |                1.27 |    0.8% |      8.94 | `BlockAssemblerAddPackageTxns`\r\n```\r\n\r\nSpecs:\r\nThin Client \r\n2,6 GHz 2-Core AMD G-T56N Processor\r\n4 GB \r\nUbuntu 20.04.5 LTS\r\n\r\n```\r\n$ ./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns --sanity-check\r\nRunning with --sanity-check option, benchmark results will be useless.\r\nWarning, results might be unstable:\r\n* CPU frequency scaling enabled: CPU 0 between 825.0 and 1,650.0 MHz\r\n* CPU governor is 'ondemand' but should be 'performance'\r\n* Turbo is enabled, CPU frequency will fluctuate\r\n\r\nRecommendations\r\n* Use 'pyperf system tune' before benchmarking. See https://github.com/psf/pyperf\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|    3,488,170,147.00 |                0.29 |    0.0% |      3.49 | `BlockAssemblerAddPackageTxns`\r\n```\r\nWithout --sanity-check:\r\n```\r\n$ ./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns\r\nWarning, results might be unstable:\r\n* CPU frequency scaling enabled: CPU 0 between 825.0 and 1,650.0 MHz\r\n* CPU governor is 'ondemand' but should be 'performance'\r\n* Turbo is enabled, CPU frequency will fluctuate\r\n\r\nRecommendations\r\n* Use 'pyperf system tune' before benchmarking. See https://github.com/psf/pyperf\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|    3,477,761,468.00 |                0.29 |    0.0% |     38.30 | `BlockAssemblerAddPackageTxns`\r\n\r\n```",
      "user": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1361820871",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "reviewed",
      "id": 1226572144,
      "node_id": "PRR_kwDOABII585JHAFw",
      "url": null,
      "actor": null,
      "commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK b05347204d2d1cad030fc794aae2b0d29c35db7d . Tested / bench'ed correctly ",
      "user": {
        "login": "hernanmarino",
        "id": 87907936,
        "node_id": "MDQ6VXNlcjg3OTA3OTM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/87907936?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hernanmarino",
        "html_url": "https://github.com/hernanmarino",
        "followers_url": "https://api.github.com/users/hernanmarino/followers",
        "following_url": "https://api.github.com/users/hernanmarino/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hernanmarino/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hernanmarino/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hernanmarino/subscriptions",
        "organizations_url": "https://api.github.com/users/hernanmarino/orgs",
        "repos_url": "https://api.github.com/users/hernanmarino/repos",
        "events_url": "https://api.github.com/users/hernanmarino/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hernanmarino/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1226572144",
      "submitted_at": "2022-12-21T18:31:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "commented",
      "id": 1361846238,
      "node_id": "IC_kwDOABII585RLB_e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1361846238",
      "actor": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-21T18:33:06Z",
      "updated_at": "2022-12-21T18:33:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK [b053472](https://github.com/bitcoin/bitcoin/pull/26695/commits/b05347204d2d1cad030fc794aae2b0d29c35db7d)\r\n\r\nleft some test results here\r\nhttps://github.com/bitcoin/bitcoin/pull/26695#discussion_r1053907539",
      "user": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1361846238",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "reviewed",
      "id": 1226612496,
      "node_id": "PRR_kwDOABII585JHJ8Q",
      "url": null,
      "actor": null,
      "commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1226612496",
      "submitted_at": "2022-12-21T19:00:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "reviewed",
      "id": 1226621159,
      "node_id": "PRR_kwDOABII585JHMDn",
      "url": null,
      "actor": null,
      "commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK. \r\nI've executed the bench successfully; compiled with `--enable-debug`. ",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1226621159",
      "submitted_at": "2022-12-21T19:03:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEyZGU5NzFiYTFjNTg4NDg4ZGRlNjUzYTc2ODUzNjY2NDI5ZDQ5MTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a2de971ba1c588488dde653a76853666429d4911",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a2de971ba1c588488dde653a76853666429d4911",
      "tree": {
        "sha": "f6b9a1a64a16bbd88747e84ea8865c09860f4bd2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f6b9a1a64a16bbd88747e84ea8865c09860f4bd2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f6b9a1a64a16bbd88747e84ea8865c09860f4bd2\nparent 8ccab65f289e3cce392cbe01d5fc0e7437f51f1e\nauthor glozow <gloriajzhao@gmail.com> 1671116861 +0000\ncommitter glozow <gloriajzhao@gmail.com> 1671708808 +0000\n\n[refactor] add helper to apply ArgsManager to BlockAssembler::Options\n\nThis allows us to both manually manipulate options and grab values from\nArgsManager (i.e. -blockmaxweight and -blockmintxfee config options)\nwhen constructing BlockAssembler::Options. Prior to this change, the\nonly way to apply the config options is by ctoring BlockAssembler with\nno options, which calls DefaultOptions().\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE8Z9f8rBYnsNBIgBFugP02+DGP7QFAmOkQIgACgkQugP02+DG\nP7T8BQ//YxdYhzqUQMddJc6m/tWxXUpyFeU1EojPiFRfzzLhDfJnTBFcukR+cTwy\nwpUcdWLBfzHpuLq2/gxuOo9xlB3VIBjjxwHX1Ku5PkTj9j775sp9SlHsCbG6uEjI\n/Yp3bbX59E3f/BLzZ/KMjUoLEzzqzuQ/JB2Qq/SkMrf/u9ReKKrS0a6pBNVG7sMn\nvZ4rJ3Pwsglj5oCISVrF9PjhaaqooL2JHvTiBOAcQ5Vg0/2F1sG6V2w4u5o2qvxc\nN1ctgIM2FfeyiR9gC0dbn7OY5wCc9GofyskyZVlWcavEo+GQ6svrXW0e2kWBxX+0\nbJrqmDFP+dWLtDFfRKGSidnNaiwgvlftimxJjrqqF9ph7Di1w710SLIxWlznAveK\n+xVKoF9C1AbQtlHI173Aw//2cFkm148AcwGAixNgF+O2p0SoR+Wr+G/LE2e2KGXt\nyIeUI6FPRUs7d5kcmFRPqRcFIeOYBsmxfSgH9VLuKzpkdPxZ4LgSFphdAYmG/l/H\nRWmlHfotBoPYZIkSErOlSsJaCzMRm4AdgiMmt41ppFyZAFBdUFi7nfCugV2qNrra\n0ZVDFUSaIblSjhpUEG5jJWqBK9/7cLbPdHhlO01vyX7mZd1SW6FyUXlSXXHZT2II\nHCJfcECfKgqfAn1cFGNnVd2uS734QX61QrBjQB+5qTDVrA/4kuo=\n=XoA0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ccab65f289e3cce392cbe01d5fc0e7437f51f1e",
          "sha": "8ccab65f289e3cce392cbe01d5fc0e7437f51f1e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8ccab65f289e3cce392cbe01d5fc0e7437f51f1e"
        }
      ],
      "message": "[refactor] add helper to apply ArgsManager to BlockAssembler::Options\n\nThis allows us to both manually manipulate options and grab values from\nArgsManager (i.e. -blockmaxweight and -blockmintxfee config options)\nwhen constructing BlockAssembler::Options. Prior to this change, the\nonly way to apply the config options is by ctoring BlockAssembler with\nno options, which calls DefaultOptions().",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-22T11:33:28Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-15T15:07:41Z"
      },
      "sha": "a2de971ba1c588488dde653a76853666429d4911"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMwNTg4NTIzMDgzYzljNzg3NzBiOGIxOWE1MmE5MTlkYjU2MjUwZDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0588523083c9c78770b8b19a52a919db56250d9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c0588523083c9c78770b8b19a52a919db56250d9",
      "tree": {
        "sha": "6c31af62a29e18aaf0d0cd2c46157a44806a842e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c31af62a29e18aaf0d0cd2c46157a44806a842e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6c31af62a29e18aaf0d0cd2c46157a44806a842e\nparent a2de971ba1c588488dde653a76853666429d4911\nauthor glozow <gloriajzhao@gmail.com> 1671117322 +0000\ncommitter glozow <gloriajzhao@gmail.com> 1671708817 +0000\n\n[refactor] parameterize BlockAssembler::Options in PrepareBlock\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE8Z9f8rBYnsNBIgBFugP02+DGP7QFAmOkQJEACgkQugP02+DG\nP7TL4A/+IORpPom7S+SxWq7iKFUlu9/i/qNjpmy5Z15/ZOG5z5Cbw7DsGFLufVOa\nDaaZPNO2QoiIWdULrCNGYOYSccRJenMp6PyDWpQ7UCcHH/XoS00ACC+ieIpYZeHM\neyCPRUWb0BABYwlAG7VfoEbWJEdVD8q/FhPqel0qeubIFrwJoDJJP5upf9hUM9MB\nZBF4Wngz1uT4uBCjr14FQjynM0UmBrWS6UbG5Gf3HgwCXtMF78zqjE+BYWg+FPBr\n/7qW5PX7TRuRxfkV9nLAPSx91khS51o62izs0bq3j5LpZtQPoRp8mAS4iKpnIs8V\nF7zPQMWLiWuMljKBmw67oqd4upoZWDAKZSTprO0AKKD1hRS/DyxxlY3bff/YCkdu\ntES2Rx7e2B2B84O4Apxo8Uesuv4Lc+9M0EmnbytfdaYiTurBi58D5wqK2XANomMo\nvx0x5MdYR3IFtSLs8y3nqUehr2XbiJwpsTEvKt+6u3ltvtAHIHGJq/Guea2hJJOA\nI0z0T0/CLzqLZRVQ8zEgGAfX9Y3Ha7GgojBtVyagYsJuWEoPya87RyBILEo6taql\nGHCtuDTl4TIo7ZkTp0PiywHvXwFZ0bcVbAGq3c+1M6MXGqyee4qFyvNWIZZB+n8X\nvT7WyefXUbVPq9MeRLQs5QLl8/btPzW9Q2W3qTe/28HBeReMN/E=\n=0YXj\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a2de971ba1c588488dde653a76853666429d4911",
          "sha": "a2de971ba1c588488dde653a76853666429d4911",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a2de971ba1c588488dde653a76853666429d4911"
        }
      ],
      "message": "[refactor] parameterize BlockAssembler::Options in PrepareBlock",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-22T11:33:37Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-15T15:15:22Z"
      },
      "sha": "c0588523083c9c78770b8b19a52a919db56250d9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNiYTU5MzRlYjY5N2FlZGJlMTk2NmViYzI4MTdhYjg3MjMyYTFiNTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cba5934eb697aedbe1966ebc2817ab87232a1b59",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cba5934eb697aedbe1966ebc2817ab87232a1b59",
      "tree": {
        "sha": "6d061e5af1afd29dd616bf5ab8a84e5dad1eed7d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6d061e5af1afd29dd616bf5ab8a84e5dad1eed7d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6d061e5af1afd29dd616bf5ab8a84e5dad1eed7d\nparent c0588523083c9c78770b8b19a52a919db56250d9\nauthor glozow <gloriajzhao@gmail.com> 1670946578 +0000\ncommitter glozow <gloriajzhao@gmail.com> 1671708819 +0000\n\n[miner] allow bypassing TestBlockValidity\n\nAllows us to test BlockAssembler on transactions without signatures or\nmature coinbases (which is what PopulateMempool creates). Also means\nthat `TestBlockValidity()` is not included in the bench timing.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE8Z9f8rBYnsNBIgBFugP02+DGP7QFAmOkQJMACgkQugP02+DG\nP7TX9g/9FxJT+b/JAhUxuHsxrLje7iKshqwhMQCthaxEn2iXrnz/i/2coVAimvOU\nyflZd7V9+nmMV+EIxxvdPlc2ulyaUyAu9ygfxAqLn5pxDBSrHsXUeHdA7Kik+HBm\niIEjTrWY6D96LkNDt7qrFbPiNYUkMp2Mg+cpLA4qsBqxUSg7mMRGUFdFD7KFOFvw\nHT0GNvT4jZzuUoSoRMguXBjgoeyfGils4yGwXdEd83nl7kQVVKYr8jMzE1cfI42d\nQAqquVAOCxF0WOJ0cg1QOB8uf912IZUuD85ScJZMwEGFO/MzjcWgZNjMqG/bE7ox\nHChaGjiJ8d+jATN7Q7M19cdc3Nssh/r2Jy7Ae2kWOxRbzgvKhLzhdtuvVdJxbt94\noyt+MbpNSPRlZ/f8Yp1Ya9ZFfXRIeDm2M/2Uy70kJ3rbjYo/5cxpqXYAlAq739dH\nrEnCVPgYg3iVi6POLFT+KjVSrpBXgrddWwibW5NH2x+CkkXLFYolP4zHEq3HL8J0\nlwKMyuZlvISLG5K3DFecVT4dZ1gTV+AMv53b4Tqv9KZwFxSEHHd8GtLF8RNUUPgd\nEMPthX4bx2KRErQlo1gDFygJrOhq88keNZCn/2dFroTCTl9XcrAVGFTf/R8YMq0r\nTYs8y3nukciu4KLyMC2VxTmsYN7B8F9pxJJGlS3QWRwFG/7MWrQ=\n=dztp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0588523083c9c78770b8b19a52a919db56250d9",
          "sha": "c0588523083c9c78770b8b19a52a919db56250d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c0588523083c9c78770b8b19a52a919db56250d9"
        }
      ],
      "message": "[miner] allow bypassing TestBlockValidity\n\nAllows us to test BlockAssembler on transactions without signatures or\nmature coinbases (which is what PopulateMempool creates). Also means\nthat `TestBlockValidity()` is not included in the bench timing.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-22T11:33:39Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-13T15:49:38Z"
      },
      "sha": "cba5934eb697aedbe1966ebc2817ab87232a1b59"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg3OTE0MTA2NjJjZTNhYjdiYTZiYmU5ODEzYzU1MzY5ZWRkNmU0Yzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8791410662ce3ab7ba6bbe9813c55369edd6e4c9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8791410662ce3ab7ba6bbe9813c55369edd6e4c9",
      "tree": {
        "sha": "ac646020daa432c23029840d0946edd179b5d191",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac646020daa432c23029840d0946edd179b5d191"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ac646020daa432c23029840d0946edd179b5d191\nparent cba5934eb697aedbe1966ebc2817ab87232a1b59\nauthor glozow <gloriajzhao@gmail.com> 1670947349 +0000\ncommitter glozow <gloriajzhao@gmail.com> 1671708822 +0000\n\n[test util] randomize fee in PopulateMempool\n\nThis makes the contents of the mempool more realistic and iterating by\nancestor feerate order more meaningful. If transactions have varying\nfeerates, it's also more likely that packages will need to be updated\nduring block template assembly.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE8Z9f8rBYnsNBIgBFugP02+DGP7QFAmOkQJYACgkQugP02+DG\nP7RDhxAAlXPofQyBDFdMyI9Mhpc6c1Tn2mldtDj6oPPI2mDQ4Z2wqVOZ0AcULDy+\nPcBU4fey1lWCKxEVW5oftAiTQHeCYcfKMUaNXb6alTN841/IbRgDmgPETwYLF5GO\nWhf5ZkZTt8Iw9YleQP9gKAq/3JdoKJhMnTxf1EOCwflnntQM28h16Cq0Gck9f3AP\n1HxRjJw76jtt70C9BNCDNBMrwBZnyC7SILXW/SIU48nMO1YZA01gW0ZcWH3/uZ8G\nSk12Ax5UQkjnQl0+9IajWAhMDNNH+dWXHbeee4CLP8KR6/PvYdUBI5iGJl6yMk53\nv/LatuGRAhE2cfgnprJ3FT23QMMOXkxi5cFxzSD/7IuZP5QzZeYfqkUrQazssnEi\nqRG3+NnAL0Qxq4VpSU2DnNthSX1MULPACK07JqwihUeY0z/w4ZYbJaZ40S62SpTS\nNyIFid/IeB7qq41mggZQGkW/me8RKthhA3Cupl7demoi6KmAes6dl3Vb5N1xqcrx\nnAi4MNBEtsRau9Ti4a3uWeeUDkqAKv/3vkBa1qC7M3DHJGIsIL2l2DVV6q9SCSao\n2u2RCSmkObRXJP9/Qb7vqOi7eTMMnut0woDGNEwWJPMfwMVD5hR5rh67m+PFOW8F\nMHdAyigKo4T40ZN6okVP6zG3f24ru/HssJm5Mk5XwGlIoPLtvts=\n=wrfJ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cba5934eb697aedbe1966ebc2817ab87232a1b59",
          "sha": "cba5934eb697aedbe1966ebc2817ab87232a1b59",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cba5934eb697aedbe1966ebc2817ab87232a1b59"
        }
      ],
      "message": "[test util] randomize fee in PopulateMempool\n\nThis makes the contents of the mempool more realistic and iterating by\nancestor feerate order more meaningful. If transactions have varying\nfeerates, it's also more likely that packages will need to be updated\nduring block template assembly.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-22T11:33:42Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-13T16:02:29Z"
      },
      "sha": "8791410662ce3ab7ba6bbe9813c55369edd6e4c9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZjZTI2NWFjZjRmZjZlZTUwNTdiNDZiY2I4YjU1YWJjNDQyMmU2Zjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ce265acf4ff6ee5057b46bcb8b55abc4422e6f8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6ce265acf4ff6ee5057b46bcb8b55abc4422e6f8",
      "tree": {
        "sha": "8adb9d8291c4e0917f3cdf12ea902aba22611585",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8adb9d8291c4e0917f3cdf12ea902aba22611585"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8adb9d8291c4e0917f3cdf12ea902aba22611585\nparent 8791410662ce3ab7ba6bbe9813c55369edd6e4c9\nauthor glozow <gloriajzhao@gmail.com> 1671200065 +0000\ncommitter glozow <gloriajzhao@gmail.com> 1671708824 +0000\n\n[test util] lock cs_main before pool.cs in PopulateMempool\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE8Z9f8rBYnsNBIgBFugP02+DGP7QFAmOkQJgACgkQugP02+DG\nP7TNHQ//cTqRLvw1VSvh4KFbWixs1lm80WbnmRKnjx3GiWKTk2he3LbzmthRkXhi\niOvi1VPmqfPYDM4TGTRrn2CIeJLqGtMBd1qhAYroQHzh921VY0Z3MlqSrFhTIowz\n8TQa2L/dTnNFaPVPJ2vnzSI8r40AT1Eo/hJaLt+fZreNCUb/HVYynhPbqtOwRW65\ndcMVnvkvQ4hCtKHsW1yq4N6JfApEFg7inuZK9gPrMRmXszzbWJyUR3cNZiH8dNa0\nml9vGN1RY2Sl1ezFo0KZP1BwjRWWyrOedwbDNue3wOeCBVwIr0dpEYz7HNH3k9EA\nws9KHaWdSE5wJoa9XLv/680EyxEEWxS9bb6ND7tI3r5GxPuNop9PjioXX5M7Y9f3\n7C8KDR4lPEMDw9ZgtFARBxFJkjzFZQL3+G1faTYCO0NgnKhsTJFCFSDxtoQDRREd\netuJrek++3gLVTBWP1R3BRcz9QJupBiW7JkPuJz4KPXxXz4msDpEziSqg3lNAx3V\nrPxPY59SjM00KFYDkDdbZ/0pvvKam01oI/DnjD6IixJ/SOkhh9togAiDivhFo60V\nWhwsHFF4427wrcuuxUAOFaVf2v1RN4trXxCIZK7txOa0aMU7To7+5Ya5TuutJV5A\nmGKOFupnsLCr8Uyc2b7SJEJnY8hyqNFnfS2E2qlX0Oc4sOLH7Qc=\n=d/uc\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8791410662ce3ab7ba6bbe9813c55369edd6e4c9",
          "sha": "8791410662ce3ab7ba6bbe9813c55369edd6e4c9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8791410662ce3ab7ba6bbe9813c55369edd6e4c9"
        }
      ],
      "message": "[test util] lock cs_main before pool.cs in PopulateMempool",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-22T11:33:44Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-16T14:14:25Z"
      },
      "sha": "6ce265acf4ff6ee5057b46bcb8b55abc4422e6f8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA0NTI4MDU0ZmNkZTYxYWEwMGUwMDlkYmJlMWFjMzUwY2ExY2Y3NDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "tree": {
        "sha": "fc7c02976dc36d6600294ae611e9f2212d0d7dcd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fc7c02976dc36d6600294ae611e9f2212d0d7dcd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fc7c02976dc36d6600294ae611e9f2212d0d7dcd\nparent 6ce265acf4ff6ee5057b46bcb8b55abc4422e6f8\nauthor glozow <gloriajzhao@gmail.com> 1670946719 +0000\ncommitter glozow <gloriajzhao@gmail.com> 1671708826 +0000\n\n[bench] BlockAssembler with mempool packages\n\nThe current BlockAssembler bench only tests on a mempool where all\ntransactions have 0 ancestors or descendants, which does not exercise\nany of the package-handling logic in BlockAssembler\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE8Z9f8rBYnsNBIgBFugP02+DGP7QFAmOkQJoACgkQugP02+DG\nP7RLuQ//YqYnfvJxdJVfo3myb5qP0LjMEUrYmmcPkJt3Ad0RU7UCF7lgXMX2n6uh\n/RjzJtZLvMTB5lUXJZLUIqvkAYvEc4DxzWidj+xVZkN/l6Qwx7OAfEjNLLwF9oer\nQ8UwT5D5RD5g4rj9dlK9/OkBdNiAtS9tg3EDTv4SOcg2lff5sqNewyVLoDI/A4Nb\ncq3dcm1wfWF2uIt2udhTfr7SQJOwsYoElCBomo7QQT6yFBeyxlOlfGIkwDoJxaFQ\n5jk78Ea9/9fJhpjAQPAUKtJfO8bphSppXAT69gEnLhkcJbU5K5QO2y3TI/9TjTBb\ni2NL9LRlhvySxgNo062flFrgMGTq71CKGiXOmZWvrriA2xkGhFjZB78xMWjWtjo/\nZ7sZ9WHessulA1b6GaGXDMkob3DLK0b5NiHyWRHVFy2apbp3emohZZK5xmMcg9DX\nliH/xqop8WyWD20jPsMpHnKxv+E2dw2ege+oMSFEvVay6xVk0mLxDBpHYvUfl1gx\ncdbZ6ALhNm6BpFM80H8QobdfUDJjALD3WekoZ8GDNAJlD9hUaL+fEeEOSECZ0/8t\npJdM6Wkf/bwhnm883B840JTuXQ/NSs39NWs9MSxR+IMtEom98Sb2GaP58SEYLYOY\ngoe3RTGa85xtpyypZvujj+/vIH2ssLOZZIJT/4QYBo/E82wVOT4=\n=Yauk\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ce265acf4ff6ee5057b46bcb8b55abc4422e6f8",
          "sha": "6ce265acf4ff6ee5057b46bcb8b55abc4422e6f8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6ce265acf4ff6ee5057b46bcb8b55abc4422e6f8"
        }
      ],
      "message": "[bench] BlockAssembler with mempool packages\n\nThe current BlockAssembler bench only tests on a mempool where all\ntransactions have 0 ancestors or descendants, which does not exercise\nany of the package-handling logic in BlockAssembler",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-22T11:33:46Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2022-12-13T15:51:59Z"
      },
      "sha": "04528054fcde61aa00e009dbbe1ac350ca1cf748"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8094997469,
      "node_id": "HRFPE_lADOABII585ZFrR2zwAAAAHif9vd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8094997469",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-22T11:34:11Z"
    },
    {
      "event": "reviewed",
      "id": 1226360773,
      "node_id": "PRR_kwDOABII585JGMfF",
      "url": null,
      "actor": null,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 04528054f\r\n\r\nI think [this comment](https://github.com/bitcoin/bitcoin/pull/26695/files#r1048480684) can be resolved in a follow-up if preferable but I'd prefer the [`gArgs` parameter be renamed](https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1054562437) in this PR already since it's quite confusing.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#pullrequestreview-1226360773",
      "submitted_at": "2022-12-22T15:27:21Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
    },
    {
      "event": "commented",
      "id": 1363456336,
      "node_id": "IC_kwDOABII585RRLFQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1363456336",
      "actor": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-23T00:08:32Z",
      "updated_at": "2022-12-23T00:08:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK [0452805](https://github.com/bitcoin/bitcoin/pull/26695/commits/04528054fcde61aa00e009dbbe1ac350ca1cf748)\r\nCompiled this time using `--enable-debug`\r\n\r\nSpecs:\r\n\r\nmac book pro 2019\r\n2.3 GHz 8-Core Intel Core i9\r\n16 GB 2667 MHz DDR4\r\nAMD Radeon Pro 5500M 4 GB\r\n\r\n\r\n`âžœ  bitcoin git:(PR26695) âœ— ./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns --sanity-check`\r\n```\r\nRunning with --sanity-check option, benchmark results will be useless.\r\nWarning, results might be unstable:\r\n* DEBUG defined\r\n\r\nRecommendations\r\n* Make sure you compile for Release\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|   45,742,309,331.00 |                0.02 |    0.0% |     45.74 | `BlockAssemblerAddPackageTxns`\r\n```\r\n`âžœ  bitcoin git:(PR26695) âœ— ./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns`\r\n\r\n```\r\nWarning, results might be unstable:\r\n* DEBUG defined\r\n\r\nRecommendations\r\n* Make sure you compile for Release\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|   43,927,650,019.00 |                0.02 |    0.7% |    488.03 | `BlockAssemblerAddPackageTxns`\r\n```",
      "user": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1363456336",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "commented",
      "id": 1379592245,
      "node_id": "IC_kwDOABII585SOug1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1379592245",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T23:02:39Z",
      "updated_at": "2023-01-11T23:02:39Z",
      "author_association": "MEMBER",
      "body": "ACK 04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1379592245",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "merged",
      "id": 8206220919,
      "node_id": "ME_lADOABII585ZFrR2zwAAAAHpIP53",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8206220919",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2f6a8e5e02465e9de5c9f6202d5e3f8aa19bf70b",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f6a8e5e02465e9de5c9f6202d5e3f8aa19bf70b",
      "created_at": "2023-01-11T23:11:37Z"
    },
    {
      "event": "closed",
      "id": 8206220928,
      "node_id": "CE_lADOABII585ZFrR2zwAAAAHpIP6A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8206220928",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T23:11:37Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 8210215002,
      "node_id": "HRDE_lADOABII585ZFrR2zwAAAAHpXfBa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8210215002",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-12T11:06:00Z"
    },
    {
      "event": "commented",
      "id": 1380370462,
      "node_id": "IC_kwDOABII585SRsge",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1380370462",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-12T13:38:45Z",
      "updated_at": "2023-01-12T13:38:45Z",
      "author_association": "MEMBER",
      "body": "> I think [this comment](https://github.com/bitcoin/bitcoin/pull/26695/files#r1048480684) can be resolved in a follow-up if preferable but I'd prefer the [`gArgs` parameter be renamed](https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1054562437) in this PR already since it's quite confusing.\r\n\r\nFollow-ups in https://github.com/bitcoin/bitcoin/pull/26883",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#issuecomment-1380370462",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26695"
    },
    {
      "event": "referenced",
      "id": 8216116998,
      "node_id": "REFE_lADOABII585ZFrR2zwAAAAHpt_8G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8216116998",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b974575c374cf5ed8230d949547ebd6058795148",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/b974575c374cf5ed8230d949547ebd6058795148",
      "created_at": "2023-01-12T23:38:30Z"
    },
    {
      "event": "referenced",
      "id": 8560635714,
      "node_id": "REFE_lADOABII585ZFrR2zwAAAAH-QO9C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8560635714",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "08b65df1bb5c8d20f24cf079240dfd6826ed416e",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/08b65df1bb5c8d20f24cf079240dfd6826ed416e",
      "created_at": "2023-02-20T11:33:05Z"
    },
    {
      "event": "referenced",
      "id": 8608348890,
      "node_id": "REFE_lADOABII585ZFrR2zwAAAAIBGPra",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8608348890",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "40eec9149b95e05f5d8372a96b29e78cdb47ba5b",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/40eec9149b95e05f5d8372a96b29e78cdb47ba5b",
      "created_at": "2023-02-25T19:13:16Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047752243",
      "pull_request_review_id": 1216424439,
      "id": 1047752243,
      "node_id": "PRRC_kwDOABII584-c24z",
      "diff_hunk": "@@ -24,7 +24,7 @@ std::vector<std::shared_ptr<CBlock>> CreateBlockChain(size_t total_height, const\n CTxIn MineBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n \n /** Prepare a block to be mined */\n-std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n+std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey, bool check);",
      "path": "src/test/util/mining.h",
      "position": null,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "3f550b0887db0007633a26aac1dd80ec4723be55",
      "in_reply_to_id": null,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/26695/commits/3f550b0887db0007633a26aac1dd80ec4723be55\r\n\r\nCommit doesn't compile; looks like the `PrepareBlock()` call in `block_assemble.cpp` needs to be updated:\r\n```cpp\r\nbench/block_assemble.cpp:45:9: error: no matching function for call to 'PrepareBlock'\r\n        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\r\n        ^~~~~~~~~~~~\r\n./test/util/mining.h:27:25: note: candidate function not viable: requires 3 arguments, but 2 were provided\r\nstd::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey, bool check);\r\n                        ^\r\n1 error generated.\r\n```",
      "created_at": "2022-12-13T21:08:24Z",
      "updated_at": "2022-12-13T21:11:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1047752243",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047752243"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048263365",
      "pull_request_review_id": 1217163576,
      "id": 1048263365,
      "node_id": "PRRC_kwDOABII584-ezrF",
      "diff_hunk": "@@ -24,7 +24,7 @@ std::vector<std::shared_ptr<CBlock>> CreateBlockChain(size_t total_height, const\n CTxIn MineBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n \n /** Prepare a block to be mined */\n-std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n+std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey, bool check);",
      "path": "src/test/util/mining.h",
      "position": null,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "3f550b0887db0007633a26aac1dd80ec4723be55",
      "in_reply_to_id": 1047752243,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2022-12-14T10:15:15Z",
      "updated_at": "2022-12-14T10:15:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048263365",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048263365"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048445309",
      "pull_request_review_id": 1217424049,
      "id": 1048445309,
      "node_id": "PRRC_kwDOABII584-fgF9",
      "diff_hunk": "@@ -74,10 +74,12 @@ CTxIn MineBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n     return CTxIn{block->vtx[0]->GetHash(), 0};\n }\n \n-std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n+std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey, bool check)\n {\n+    BlockAssembler::Options options;",
      "path": "src/test/util/mining.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b42cd786d01838ad979f00fff5f49f9fe67b14d5",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "not sure if it matters, but previously this was (implicitly) calling `DefaultOptions`, now it calls `Options`.",
      "created_at": "2022-12-14T13:05:50Z",
      "updated_at": "2022-12-14T13:18:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048445309",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048445309"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048454257",
      "pull_request_review_id": 1217424049,
      "id": 1048454257,
      "node_id": "PRRC_kwDOABII584-fiRx",
      "diff_hunk": "@@ -74,10 +74,12 @@ CTxIn MineBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n     return CTxIn{block->vtx[0]->GetHash(), 0};\n }\n \n-std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n+std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey, bool check)",
      "path": "src/test/util/mining.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b42cd786d01838ad979f00fff5f49f9fe67b14d5",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Could pass in the options struct to avoid having to change this again if another option is added?\r\nCould also add a redirect function without the argument, similar to BlockAssembler, to avoid having to change existing call sites?\r\n\r\nFeel free to ignore, but then you could use clang-tidy named-args to at least document the bool literals.",
      "created_at": "2022-12-14T13:14:38Z",
      "updated_at": "2022-12-14T13:18:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048454257",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048454257"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048455993",
      "pull_request_review_id": 1217424049,
      "id": 1048455993,
      "node_id": "PRRC_kwDOABII584-fis5",
      "diff_hunk": "@@ -45,5 +45,18 @@ static void AssembleBlock(benchmark::Bench& bench)\n         PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n     });\n }\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: could use clang-tidy named args?",
      "created_at": "2022-12-14T13:16:24Z",
      "updated_at": "2022-12-14T13:18:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048455993",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048455993"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048457824",
      "pull_request_review_id": 1217424049,
      "id": 1048457824,
      "node_id": "PRRC_kwDOABII584-fjJg",
      "diff_hunk": "@@ -45,5 +45,18 @@ static void AssembleBlock(benchmark::Bench& bench)\n         PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n     });\n }\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: why?",
      "created_at": "2022-12-14T13:18:12Z",
      "updated_at": "2022-12-14T13:18:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048457824",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048457824"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048475222",
      "pull_request_review_id": 1217468000,
      "id": 1048475222,
      "node_id": "PRRC_kwDOABII584-fnZW",
      "diff_hunk": "@@ -61,7 +61,7 @@ std::vector<std::shared_ptr<CBlock>> CreateBlockChain(size_t total_height, const\n \n CTxIn MineBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n {\n-    auto block = PrepareBlock(node, coinbase_scriptPubKey);\n+    auto block = PrepareBlock(node, coinbase_scriptPubKey, true);",
      "path": "src/test/util/mining.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    auto block{PrepareBlock(node, coinbase_scriptPubKey, /*check=*/true)};\r\n```",
      "created_at": "2022-12-14T13:33:36Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048475222",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048475222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048477980",
      "pull_request_review_id": 1217468000,
      "id": 1048477980,
      "node_id": "PRRC_kwDOABII584-foEc",
      "diff_hunk": "@@ -24,7 +24,7 @@ std::vector<std::shared_ptr<CBlock>> CreateBlockChain(size_t total_height, const\n CTxIn MineBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n \n /** Prepare a block to be mined */\n-std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n+std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey, bool check);",
      "path": "src/test/util/mining.h",
      "position": null,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`check` is kinda vague, what about`test_validity`? Also, default `true` seems appropriate?\r\n```suggestion\r\nstd::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey, bool test_validity);\r\n```",
      "created_at": "2022-12-14T13:36:15Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048477980",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048477980"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048480684",
      "pull_request_review_id": 1217468000,
      "id": 1048480684,
      "node_id": "PRRC_kwDOABII584-fous",
      "diff_hunk": "@@ -135,6 +135,9 @@ class BlockAssembler\n     unsigned int nBlockMaxWeight;\n     CFeeRate blockMinFeeRate;\n \n+    // Whether to call TestBlockValidity() at the end of CreateNewBlock().\n+    const bool test_block_validity;",
      "path": "src/node/miner.h",
      "position": 13,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps out of scope for this PR but... We could avoid this duplication by just adding `Options` as a member to `BlockAssembler`?",
      "created_at": "2022-12-14T13:38:50Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048480684",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048480684"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 140,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048484165",
      "pull_request_review_id": 1217468000,
      "id": 1048484165,
      "node_id": "PRRC_kwDOABII584-fplF",
      "diff_hunk": "@@ -170,7 +173,7 @@ std::unique_ptr<CBlockTemplate> BlockAssembler::CreateNewBlock(const CScript& sc\n     pblocktemplate->vTxSigOpsCost[0] = WITNESS_SCALE_FACTOR * GetLegacySigOpCount(*pblock->vtx[0]);\n \n     BlockValidationState state;\n-    if (!TestBlockValidity(state, chainparams, m_chainstate, *pblock, pindexPrev, GetAdjustedTime, false, false)) {\n+    if (test_block_validity && !TestBlockValidity(state, chainparams, m_chainstate, *pblock, pindexPrev, GetAdjustedTime, false, false)) {",
      "path": "src/node/miner.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: while touching, would be nice to add parameter hints\r\n```suggestion\r\n    if (test_block_validity && !TestBlockValidity(state, chainparams, m_chainstate, *pblock, pindexPrev, GetAdjustedTime, /*fCheckPOW=*/false, /*fCheckMerkleRoot=*/false)) {\r\n```",
      "created_at": "2022-12-14T13:42:05Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048484165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048484165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048491782",
      "pull_request_review_id": 1217468000,
      "id": 1048491782,
      "node_id": "PRRC_kwDOABII584-frcG",
      "diff_hunk": "@@ -397,15 +397,15 @@ std::vector<CTransactionRef> TestChain100Setup::PopulateMempool(FastRandomContex\n             unspent_prevouts.pop_front();\n         }\n         const size_t num_outputs = det_rand.randrange(24) + 1;\n-        // Approximately 1000sat \"fee,\" equal output amounts.\n-        const CAmount amount_per_output = (total_in - 1000) / num_outputs;\n+        const CAmount fee = 100 * det_rand.randrange(30);",
      "path": "src/test/util/setup_common.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n        const CAmount fee{100 * det_rand.randrange(30)};\r\n```",
      "created_at": "2022-12-14T13:49:02Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048491782",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048491782"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 400,
      "original_line": 400,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048528548",
      "pull_request_review_id": 1217468000,
      "id": 1048528548,
      "node_id": "PRRC_kwDOABII584-f0ak",
      "diff_hunk": "@@ -397,15 +397,15 @@ std::vector<CTransactionRef> TestChain100Setup::PopulateMempool(FastRandomContex\n             unspent_prevouts.pop_front();\n         }\n         const size_t num_outputs = det_rand.randrange(24) + 1;\n-        // Approximately 1000sat \"fee,\" equal output amounts.\n-        const CAmount amount_per_output = (total_in - 1000) / num_outputs;\n+        const CAmount fee = 100 * det_rand.randrange(30);",
      "path": "src/test/util/setup_common.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048491782,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "it's not immediately obvious to me what the benefit is of randomizing the fee, perhaps useful to add rationale to the commit msg?",
      "created_at": "2022-12-14T14:20:10Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048528548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048528548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 400,
      "original_line": 400,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048530799",
      "pull_request_review_id": 1217468000,
      "id": 1048530799,
      "node_id": "PRRC_kwDOABII584-f09v",
      "diff_hunk": "@@ -42,8 +42,21 @@ static void AssembleBlock(benchmark::Bench& bench)\n     }\n \n     bench.run([&] {\n-        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n+        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n+    });\n+}\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n    auto testing_setup{MakeNoLogFileContext<TestChain100Setup>()};\r\n    CTxMemPool& pool{*testing_setup.get()->m_node.mempool};\r\n    LOCK2(cs_main, pool.cs);\r\n    const auto transactions{testing_setup->PopulateMempool(det_rand, 1000, true)};\r\n```",
      "created_at": "2022-12-14T14:22:05Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048530799",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048530799"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": 51,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048576364",
      "pull_request_review_id": 1217468000,
      "id": 1048576364,
      "node_id": "PRRC_kwDOABII584-gAFs",
      "diff_hunk": "@@ -42,8 +42,21 @@ static void AssembleBlock(benchmark::Bench& bench)\n     }\n \n     bench.run([&] {\n-        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n+        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n+    });\n+}\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);\n+\n+    bench.run([&] {\n+        PrepareBlock(testing_setup->m_node, P2WSH_OP_TRUE, false);\n     });\n }\n \n BENCHMARK(AssembleBlock, benchmark::PriorityLevel::HIGH);\n+BENCHMARK(BlockAssemblerAddPackageTxns, benchmark::PriorityLevel::HIGH);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is among the slowest benchmarks in the suite atm. On my machine, `--sanity-check` takes ~1.2s. I think that's an acceptable additional slowdown for `make check`, but perhaps we should consider downgrading this to `PriorityLevel::MEDIUM`?",
      "created_at": "2022-12-14T14:57:47Z",
      "updated_at": "2022-12-15T11:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1048576364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1048576364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049558698",
      "pull_request_review_id": 1219088870,
      "id": 1049558698,
      "node_id": "PRRC_kwDOABII584-jv6q",
      "diff_hunk": "@@ -74,10 +74,12 @@ CTxIn MineBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n     return CTxIn{block->vtx[0]->GetHash(), 0};\n }\n \n-std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n+std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey, bool check)\n {\n+    BlockAssembler::Options options;",
      "path": "src/test/util/mining.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b42cd786d01838ad979f00fff5f49f9fe67b14d5",
      "in_reply_to_id": 1048445309,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "True, there's no difference here but it means the testing setup ignores `-blockmintxfee` and `-blockmaxweight` options when calling `PrepareBlock()`.",
      "created_at": "2022-12-15T12:05:18Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049558698",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049558698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049561790",
      "pull_request_review_id": 1219088870,
      "id": 1049561790,
      "node_id": "PRRC_kwDOABII584-jwq-",
      "diff_hunk": "@@ -135,6 +135,9 @@ class BlockAssembler\n     unsigned int nBlockMaxWeight;\n     CFeeRate blockMinFeeRate;\n \n+    // Whether to call TestBlockValidity() at the end of CreateNewBlock().\n+    const bool test_block_validity;",
      "path": "src/node/miner.h",
      "position": 13,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048480684,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "~Fwiw since you brought it up - I think it's better to keep `Options` as an argument for ctoring `BlockAssembler` rather than a member, as I think it would be the best way to decouple `BlockAssembler` from `ArgsManager` (e.g. something like https://github.com/bitcoin/bitcoin/pull/25290/commits/f1941e8bfd2eecc478c7660434b1ebf6a64095a0).~\r\n\r\n~Looking back to when they were first separated in #9868, it seems not accessing `gArgs` from the `BlockAssembler` ctor was a motivation there as well.~\r\n\r\nAh I misunderstood and thought you were suggesting we remove the struct entirely, apologies!",
      "created_at": "2022-12-15T12:08:56Z",
      "updated_at": "2022-12-21T17:08:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049561790",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049561790"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 140,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049698151",
      "pull_request_review_id": 1219088870,
      "id": 1049698151,
      "node_id": "PRRC_kwDOABII584-kR9n",
      "diff_hunk": "@@ -24,7 +24,7 @@ std::vector<std::shared_ptr<CBlock>> CreateBlockChain(size_t total_height, const\n CTxIn MineBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n \n /** Prepare a block to be mined */\n-std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey);\n+std::shared_ptr<CBlock> PrepareBlock(const node::NodeContext&, const CScript& coinbase_scriptPubKey, bool check);",
      "path": "src/test/util/mining.h",
      "position": null,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048477980,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is no longer a bool, so resolving",
      "created_at": "2022-12-15T14:20:28Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049698151",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049698151"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049811800",
      "pull_request_review_id": 1219088870,
      "id": 1049811800,
      "node_id": "PRRC_kwDOABII584-kttY",
      "diff_hunk": "@@ -45,5 +45,18 @@ static void AssembleBlock(benchmark::Bench& bench)\n         PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n     });\n }\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048457824,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed, thanks",
      "created_at": "2022-12-15T15:50:01Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049811800",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049811800"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049811956",
      "pull_request_review_id": 1219088870,
      "id": 1049811956,
      "node_id": "PRRC_kwDOABII584-ktv0",
      "diff_hunk": "@@ -45,5 +45,18 @@ static void AssembleBlock(benchmark::Bench& bench)\n         PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n     });\n }\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048455993,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added",
      "created_at": "2022-12-15T15:50:05Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049811956",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049811956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049812519",
      "pull_request_review_id": 1219088870,
      "id": 1049812519,
      "node_id": "PRRC_kwDOABII584-kt4n",
      "diff_hunk": "@@ -42,8 +42,21 @@ static void AssembleBlock(benchmark::Bench& bench)\n     }\n \n     bench.run([&] {\n-        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n+        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n+    });\n+}\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048530799,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Some taken, most lines deleted",
      "created_at": "2022-12-15T15:50:24Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049812519",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049812519"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": 51,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049813788",
      "pull_request_review_id": 1219088870,
      "id": 1049813788,
      "node_id": "PRRC_kwDOABII584-kuMc",
      "diff_hunk": "@@ -61,7 +61,7 @@ std::vector<std::shared_ptr<CBlock>> CreateBlockChain(size_t total_height, const\n \n CTxIn MineBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n {\n-    auto block = PrepareBlock(node, coinbase_scriptPubKey);\n+    auto block = PrepareBlock(node, coinbase_scriptPubKey, true);",
      "path": "src/test/util/mining.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048475222,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Line is removed now",
      "created_at": "2022-12-15T15:51:08Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049813788",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049813788"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049814927",
      "pull_request_review_id": 1219088870,
      "id": 1049814927,
      "node_id": "PRRC_kwDOABII584-kueP",
      "diff_hunk": "@@ -74,10 +74,12 @@ CTxIn MineBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n     return CTxIn{block->vtx[0]->GetHash(), 0};\n }\n \n-std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n+std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey, bool check)",
      "path": "src/test/util/mining.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b42cd786d01838ad979f00fff5f49f9fe67b14d5",
      "in_reply_to_id": 1048454257,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good idea, did this instead of the bool",
      "created_at": "2022-12-15T15:51:45Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049814927",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049814927"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049816842",
      "pull_request_review_id": 1219088870,
      "id": 1049816842,
      "node_id": "PRRC_kwDOABII584-ku8K",
      "diff_hunk": "@@ -397,15 +397,15 @@ std::vector<CTransactionRef> TestChain100Setup::PopulateMempool(FastRandomContex\n             unspent_prevouts.pop_front();\n         }\n         const size_t num_outputs = det_rand.randrange(24) + 1;\n-        // Approximately 1000sat \"fee,\" equal output amounts.\n-        const CAmount amount_per_output = (total_in - 1000) / num_outputs;\n+        const CAmount fee = 100 * det_rand.randrange(30);",
      "path": "src/test/util/setup_common.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048491782,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated commit message.\r\nThis is a narrowing conversion - randrange returns uint64_t, CAmount is a 32.",
      "created_at": "2022-12-15T15:52:53Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049816842",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049816842"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 400,
      "original_line": 400,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049820168",
      "pull_request_review_id": 1219088870,
      "id": 1049820168,
      "node_id": "PRRC_kwDOABII584-kvwI",
      "diff_hunk": "@@ -74,10 +74,12 @@ CTxIn MineBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n     return CTxIn{block->vtx[0]->GetHash(), 0};\n }\n \n-std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey)\n+std::shared_ptr<CBlock> PrepareBlock(const NodeContext& node, const CScript& coinbase_scriptPubKey, bool check)\n {\n+    BlockAssembler::Options options;",
      "path": "src/test/util/mining.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b42cd786d01838ad979f00fff5f49f9fe67b14d5",
      "in_reply_to_id": 1048445309,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added an `ApplyArgsManOptions` so we can both manually manipulate the options and get the config from `ArgsManager`.",
      "created_at": "2022-12-15T15:54:57Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049820168",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049820168"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049828447",
      "pull_request_review_id": 1219088870,
      "id": 1049828447,
      "node_id": "PRRC_kwDOABII584-kxxf",
      "diff_hunk": "@@ -170,7 +173,7 @@ std::unique_ptr<CBlockTemplate> BlockAssembler::CreateNewBlock(const CScript& sc\n     pblocktemplate->vTxSigOpsCost[0] = WITNESS_SCALE_FACTOR * GetLegacySigOpCount(*pblock->vtx[0]);\n \n     BlockValidationState state;\n-    if (!TestBlockValidity(state, chainparams, m_chainstate, *pblock, pindexPrev, GetAdjustedTime, false, false)) {\n+    if (test_block_validity && !TestBlockValidity(state, chainparams, m_chainstate, *pblock, pindexPrev, GetAdjustedTime, false, false)) {",
      "path": "src/node/miner.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048484165,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-12-15T15:59:37Z",
      "updated_at": "2022-12-15T16:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1049828447",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049828447"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1051998403",
      "pull_request_review_id": 1222585757,
      "id": 1051998403,
      "node_id": "PRRC_kwDOABII584-tDjD",
      "diff_hunk": "@@ -45,5 +46,18 @@ static void AssembleBlock(benchmark::Bench& bench)\n         PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n     });\n }\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup{MakeNoLogFileContext<TestChain100Setup>()};\n+    testing_setup->PopulateMempool(det_rand, /*num_transactions=*/1000, /*submit=*/true);\n+    node::BlockAssembler::Options assembler_options;\n+    assembler_options.test_block_validity = false;",
      "path": "src/bench/block_assemble.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there any value in disabling it? Sure, the benchmark will be less \"micro\", but at the same time it would be missing if a \"package\" block is slowing down CNB via TBV. Or is taking TBV a lot longer than the remainder of CNB, which would make this benchmark ineffective?",
      "created_at": "2022-12-19T09:46:50Z",
      "updated_at": "2022-12-19T09:47:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1051998403",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1051998403"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 55,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1052022902",
      "pull_request_review_id": 1222619833,
      "id": 1052022902,
      "node_id": "PRRC_kwDOABII584-tJh2",
      "diff_hunk": "@@ -45,5 +46,18 @@ static void AssembleBlock(benchmark::Bench& bench)\n         PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n     });\n }\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup{MakeNoLogFileContext<TestChain100Setup>()};\n+    testing_setup->PopulateMempool(det_rand, /*num_transactions=*/1000, /*submit=*/true);\n+    node::BlockAssembler::Options assembler_options;\n+    assembler_options.test_block_validity = false;",
      "path": "src/bench/block_assemble.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "in_reply_to_id": 1051998403,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "One reason is TBV taking time, another is TBV would fail because `PopulateMempool()` doesn't sign the txns and spends immature coinbases. I can change it to generate keys and mine 100 blocks in between creating and submitting the transactions if people want.",
      "created_at": "2022-12-19T10:10:33Z",
      "updated_at": "2022-12-19T10:10:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1052022902",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1052022902"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 55,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1053907539",
      "pull_request_review_id": 1225358212,
      "id": 1053907539,
      "node_id": "PRRC_kwDOABII584-0VpT",
      "diff_hunk": "@@ -42,8 +42,21 @@ static void AssembleBlock(benchmark::Bench& bench)\n     }\n \n     bench.run([&] {\n-        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n+        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n+    });\n+}\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);\n+\n+    bench.run([&] {\n+        PrepareBlock(testing_setup->m_node, P2WSH_OP_TRUE, false);\n     });\n }\n \n BENCHMARK(AssembleBlock, benchmark::PriorityLevel::HIGH);\n+BENCHMARK(BlockAssemblerAddPackageTxns, benchmark::PriorityLevel::HIGH);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048576364,
      "user": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this is what I get when trying to run the `BlockAssemblerAddPackageTxns` benchmark\r\n\r\nSpecs:\r\n```\r\nmac book pro 2019\r\n2.3 GHz 8-Core Intel Core i9\r\n16 GB 2667 MHz DDR4\r\nAMD Radeon Pro 5500M 4 GB\r\n```\r\n\r\nResults:\r\n```\r\n./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns --sanity-check\r\nRunning with --sanity-check option, benchmark results will be useless.\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|      813,714,108.00 |                1.23 |    0.0% |      0.81 | `BlockAssemblerAddPackageTxns`\r\n```\r\n\r\nWithout `--sanity-check`:\r\n```\r\n./src/bench/bench_bitcoin -filter=BlockAssemblerAddPackageTxns\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|      830,079,779.00 |                1.20 |    1.4% |      9.16 | `BlockAssemblerAddPackageTxns`\r\n```",
      "created_at": "2022-12-21T02:02:14Z",
      "updated_at": "2022-12-21T02:02:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1053907539",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1053907539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1054562437",
      "pull_request_review_id": 1226360773,
      "id": 1054562437,
      "node_id": "PRRC_kwDOABII584-21iF",
      "diff_hunk": "@@ -72,18 +74,22 @@ BlockAssembler::BlockAssembler(Chainstate& chainstate, const CTxMemPool* mempool\n     nBlockMaxWeight = std::max<size_t>(4000, std::min<size_t>(MAX_BLOCK_WEIGHT - 4000, options.nBlockMaxWeight));\n }\n \n-static BlockAssembler::Options DefaultOptions()\n+void ApplyArgsManOptions(const ArgsManager& gArgs, BlockAssembler::Options& options)",
      "path": "src/node/miner.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\nvoid ApplyArgsManOptions(const ArgsManager& args, BlockAssembler::Options& options)\r\n```",
      "created_at": "2022-12-21T16:06:56Z",
      "updated_at": "2022-12-22T15:27:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1054562437",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1054562437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1054725954",
      "pull_request_review_id": 1226612496,
      "id": 1054725954,
      "node_id": "PRRC_kwDOABII584-3ddC",
      "diff_hunk": "@@ -72,18 +74,22 @@ BlockAssembler::BlockAssembler(Chainstate& chainstate, const CTxMemPool* mempool\n     nBlockMaxWeight = std::max<size_t>(4000, std::min<size_t>(MAX_BLOCK_WEIGHT - 4000, options.nBlockMaxWeight));\n }\n \n-static BlockAssembler::Options DefaultOptions()\n+void ApplyArgsManOptions(const ArgsManager& gArgs, BlockAssembler::Options& options)\n {\n     // Block resource limits\n     // If -blockmaxweight is not given, limit to DEFAULT_BLOCK_MAX_WEIGHT\n-    BlockAssembler::Options options;\n     options.nBlockMaxWeight = gArgs.GetIntArg(\"-blockmaxweight\", DEFAULT_BLOCK_MAX_WEIGHT);\n     if (gArgs.IsArgSet(\"-blockmintxfee\")) {\n         std::optional<CAmount> parsed = ParseMoney(gArgs.GetArg(\"-blockmintxfee\", \"\"));\n         options.blockMinFeeRate = CFeeRate{parsed.value_or(DEFAULT_BLOCK_MIN_TX_FEE)};\n     } else {\n         options.blockMinFeeRate = CFeeRate{DEFAULT_BLOCK_MIN_TX_FEE};\n     }\n+}\n+static BlockAssembler::Options DefaultOptions()",
      "path": "src/node/miner.cpp",
      "position": null,
      "original_position": 32,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "in_reply_to_id": null,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\nstatic BlockAssembler::Options CustomOptions()\r\n```\r\nnit: as discussed on the [PR review club](https://bitcoincore.reviews/26695), perhaps the `\"DefaultOptions\"` could be renamed to avoid confusion (`\"CustomOptions\"` could be an alternative), unless there's a reason for not doing it.\r\n",
      "created_at": "2022-12-21T19:00:10Z",
      "updated_at": "2022-12-21T19:00:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1054725954",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1054725954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1054935498",
      "pull_request_review_id": 1226893952,
      "id": 1054935498,
      "node_id": "PRRC_kwDOABII584-4QnK",
      "diff_hunk": "@@ -42,8 +42,21 @@ static void AssembleBlock(benchmark::Bench& bench)\n     }\n \n     bench.run([&] {\n-        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n+        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n+    });\n+}\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);\n+\n+    bench.run([&] {\n+        PrepareBlock(testing_setup->m_node, P2WSH_OP_TRUE, false);\n     });\n }\n \n BENCHMARK(AssembleBlock, benchmark::PriorityLevel::HIGH);\n+BENCHMARK(BlockAssemblerAddPackageTxns, benchmark::PriorityLevel::HIGH);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048576364,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "When compiled with `--enable-debug`, this slows down `make check` by ~30s for me. When run without `--sanity-check`, it takes ~280s. I think this needs to be a low priority benchmark.",
      "created_at": "2022-12-21T23:31:17Z",
      "updated_at": "2022-12-21T23:31:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1054935498",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1054935498"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055369895",
      "pull_request_review_id": 1227532907,
      "id": 1055369895,
      "node_id": "PRRC_kwDOABII584-56qn",
      "diff_hunk": "@@ -72,18 +74,22 @@ BlockAssembler::BlockAssembler(Chainstate& chainstate, const CTxMemPool* mempool\n     nBlockMaxWeight = std::max<size_t>(4000, std::min<size_t>(MAX_BLOCK_WEIGHT - 4000, options.nBlockMaxWeight));\n }\n \n-static BlockAssembler::Options DefaultOptions()\n+void ApplyArgsManOptions(const ArgsManager& gArgs, BlockAssembler::Options& options)\n {\n     // Block resource limits\n     // If -blockmaxweight is not given, limit to DEFAULT_BLOCK_MAX_WEIGHT\n-    BlockAssembler::Options options;\n     options.nBlockMaxWeight = gArgs.GetIntArg(\"-blockmaxweight\", DEFAULT_BLOCK_MAX_WEIGHT);\n     if (gArgs.IsArgSet(\"-blockmintxfee\")) {\n         std::optional<CAmount> parsed = ParseMoney(gArgs.GetArg(\"-blockmintxfee\", \"\"));\n         options.blockMinFeeRate = CFeeRate{parsed.value_or(DEFAULT_BLOCK_MIN_TX_FEE)};\n     } else {\n         options.blockMinFeeRate = CFeeRate{DEFAULT_BLOCK_MIN_TX_FEE};\n     }\n+}\n+static BlockAssembler::Options DefaultOptions()",
      "path": "src/node/miner.cpp",
      "position": null,
      "original_position": 32,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "in_reply_to_id": 1054725954,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Renamed to `ConfiguredOptions`",
      "created_at": "2022-12-22T11:35:12Z",
      "updated_at": "2022-12-22T12:01:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1055369895",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055369895"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055385621",
      "pull_request_review_id": 1227532907,
      "id": 1055385621,
      "node_id": "PRRC_kwDOABII584-5-gV",
      "diff_hunk": "@@ -42,8 +42,21 @@ static void AssembleBlock(benchmark::Bench& bench)\n     }\n \n     bench.run([&] {\n-        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n+        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n+    });\n+}\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);\n+\n+    bench.run([&] {\n+        PrepareBlock(testing_setup->m_node, P2WSH_OP_TRUE, false);\n     });\n }\n \n BENCHMARK(AssembleBlock, benchmark::PriorityLevel::HIGH);\n+BENCHMARK(BlockAssemblerAddPackageTxns, benchmark::PriorityLevel::HIGH);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048576364,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed to low, I think we don't have medium? Is priority based on time only, and if so at what time threshold would we want to knock the priority down?",
      "created_at": "2022-12-22T11:56:46Z",
      "updated_at": "2022-12-22T12:01:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1055385621",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055385621"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055535942",
      "pull_request_review_id": 1226360773,
      "id": 1055535942,
      "node_id": "PRRC_kwDOABII584-6jNG",
      "diff_hunk": "@@ -45,5 +46,18 @@ static void AssembleBlock(benchmark::Bench& bench)\n         PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n     });\n }\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup{MakeNoLogFileContext<TestChain100Setup>()};\n+    testing_setup->PopulateMempool(det_rand, /*num_transactions=*/1000, /*submit=*/true);\n+    node::BlockAssembler::Options assembler_options;\n+    assembler_options.test_block_validity = false;",
      "path": "src/bench/block_assemble.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "b05347204d2d1cad030fc794aae2b0d29c35db7d",
      "in_reply_to_id": 1051998403,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think I'd prefer keeping TBV disabled here. Block validation is important to benchmark too, but since this scales linearly with the amount of transactions selected - I think the current `AssembleBlock` benchmark suffices there? Narrower benchmarks help more easily pinpoint where performance issues are.",
      "created_at": "2022-12-22T14:45:34Z",
      "updated_at": "2022-12-22T15:27:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1055535942",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055535942"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 55,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055570462",
      "pull_request_review_id": 1226360773,
      "id": 1055570462,
      "node_id": "PRRC_kwDOABII584-6roe",
      "diff_hunk": "@@ -42,8 +42,21 @@ static void AssembleBlock(benchmark::Bench& bench)\n     }\n \n     bench.run([&] {\n-        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE);\n+        PrepareBlock(test_setup->m_node, P2WSH_OP_TRUE, true);\n+    });\n+}\n+static void BlockAssemblerAddPackageTxns(benchmark::Bench& bench)\n+{\n+    FastRandomContext det_rand{true};\n+    auto testing_setup = MakeNoLogFileContext<TestChain100Setup>();\n+    CTxMemPool& pool = *testing_setup.get()->m_node.mempool;\n+    LOCK2(cs_main, pool.cs);\n+    const auto transactions = testing_setup->PopulateMempool(det_rand, 1000, true);\n+\n+    bench.run([&] {\n+        PrepareBlock(testing_setup->m_node, P2WSH_OP_TRUE, false);\n     });\n }\n \n BENCHMARK(AssembleBlock, benchmark::PriorityLevel::HIGH);\n+BENCHMARK(BlockAssemblerAddPackageTxns, benchmark::PriorityLevel::HIGH);",
      "path": "src/bench/block_assemble.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "04528054fcde61aa00e009dbbe1ac350ca1cf748",
      "original_commit_id": "4c20bee65009bd2c95c2a3426030b042f55007ad",
      "in_reply_to_id": 1048576364,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah sorry, we had medium in the initial PR but it was removed later on, so agreed with changing it to low. We haven't defined any guidelines on when to downgrade to low afaik, but since devs run `make check` often, I think adding benches with meaningful (e.g. >1s?) `--sanity-check` overhead should run in low priority - unless their complexity/importance warrants otherwise.",
      "created_at": "2022-12-22T15:20:06Z",
      "updated_at": "2022-12-22T15:27:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26695#discussion_r1055570462",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1055570462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26695"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    }
  ]
}