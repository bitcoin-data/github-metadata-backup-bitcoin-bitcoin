{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967",
    "id": 2090857916,
    "node_id": "PR_kwDOABII5858n_W8",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30967",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30967.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30967.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
    "number": 30967,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "refactor: Replace g_genesis_wait_cv with m_tip_block_cv",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`g_genesis_wait_cv` is similar to `m_tip_block_cv` but shuffling everything through a redundant `boost::signals2`.\r\n\r\nSo remove it, along with some other dead code, as well as minor fixups.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2024-09-25T08:54:01Z",
    "updated_at": "2024-10-09T12:57:42Z",
    "closed_at": "2024-10-08T16:01:20Z",
    "mergeable_state": "unknown",
    "merged_at": "2024-10-08T16:01:20Z",
    "merge_commit_sha": "5837e3463fe188a65d67f96e84cbcca674d61d9e",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "maflcko:2409-less-boost",
      "ref": "2409-less-boost",
      "sha": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "bitcoin-core",
        "full_name": "maflcko/bitcoin-core",
        "owner": {
          "login": "maflcko",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maflcko",
          "html_url": "https://github.com/maflcko",
          "followers_url": "https://api.github.com/users/maflcko/followers",
          "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
          "organizations_url": "https://api.github.com/users/maflcko/orgs",
          "repos_url": "https://api.github.com/users/maflcko/repos",
          "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/maflcko/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/maflcko/bitcoin-core",
        "fork": true,
        "url": "https://api.github.com/repos/maflcko/bitcoin-core",
        "archive_url": "https://api.github.com/repos/maflcko/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/maflcko/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/maflcko/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/maflcko/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/maflcko/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/maflcko/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/maflcko/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/maflcko/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/maflcko/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/maflcko/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/maflcko/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/maflcko/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/maflcko/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/maflcko/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/maflcko/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/maflcko/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/maflcko/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/maflcko/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/maflcko/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/maflcko/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/maflcko/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:maflcko/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/maflcko/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/maflcko/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/maflcko/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/maflcko/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/maflcko/bitcoin-core/hooks",
        "svn_url": "https://github.com/maflcko/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 12,
        "stargazers_count": 26,
        "watchers_count": 26,
        "size": 238062,
        "default_branch": "master",
        "open_issues_count": 18,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-10-09T12:57:42Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2024-09-23T23:48:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "fc642c33ef28829eda0119a0fe39fd9bc4b84051",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36235,
        "stargazers_count": 78756,
        "watchers_count": 78756,
        "size": 269548,
        "default_branch": "master",
        "open_issues_count": 682,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-10-09T09:08:54Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-10-09T12:58:51Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 87,
    "deletions": 114,
    "changed_files": 20,
    "commits": 7,
    "review_comments": 39,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 2373470556,
      "node_id": "IC_kwDOABII586NeElc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2373470556",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T08:54:05Z",
      "updated_at": "2024-10-07T16:24:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30967).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2340047317), [Sjors](https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2347659011), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2352371969) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30965](https://github.com/bitcoin/bitcoin/pull/30965) (kernel: Move block tree db open to block manager by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#issuecomment-2373470556",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967"
    },
    {
      "event": "renamed",
      "id": 14395367277,
      "node_id": "RTE_lADOABII586X1f5OzwAAAANaB99t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14395367277",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T08:54:07Z",
      "rename": {
        "from": " refactor: Replace g_genesis_wait_cv with m_tip_block_cv",
        "to": "refactor: Replace g_genesis_wait_cv with m_tip_block_cv"
      }
    },
    {
      "event": "labeled",
      "id": 14395367461,
      "node_id": "LE_lADOABII586X1f5OzwAAAANaB-Al",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14395367461",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T08:54:08Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14396123002,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaE2d6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14396123002",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T09:44:09Z"
    },
    {
      "event": "labeled",
      "id": 14396124776,
      "node_id": "LE_lADOABII586X1f5OzwAAAANaE25o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14396124776",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T09:44:17Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2373601290,
      "node_id": "IC_kwDOABII586NekgK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2373601290",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T09:48:02Z",
      "updated_at": "2024-09-25T09:48:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Nice, Concept ACK",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#issuecomment-2373601290",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14396968282,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaIE1a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14396968282",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T10:46:38Z"
    },
    {
      "event": "reviewed",
      "id": 2327893660,
      "node_id": "PRR_kwDOABII586KwNac",
      "url": null,
      "actor": null,
      "commit_id": "fa964f82c52a7d0fd40c5133cf5fc18ef13819e5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK fa964f82c52a7d0fd40c5133cf5fc18ef13819e5\r\n\r\nDropping `g_genesis_wait_cv` is a nice simplification.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2327893660",
      "submitted_at": "2024-09-25T10:50:57Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "review_requested",
      "id": 14397024185,
      "node_id": "RRE_lADOABII586X1f5OzwAAAANaISe5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14397024185",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T10:51:00Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "unlabeled",
      "id": 14397932375,
      "node_id": "UNLE_lADOABII586X1f5OzwAAAANaLwNX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14397932375",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T12:00:57Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2328151516,
      "node_id": "PRR_kwDOABII586KxMXc",
      "url": null,
      "actor": null,
      "commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2328151516",
      "submitted_at": "2024-09-25T12:46:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "reviewed",
      "id": 2328154570,
      "node_id": "PRR_kwDOABII586KxNHK",
      "url": null,
      "actor": null,
      "commit_id": "fa964f82c52a7d0fd40c5133cf5fc18ef13819e5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Nice improvements, lgtm.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2328154570",
      "submitted_at": "2024-09-25T12:47:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14399061799,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaQD8n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14399061799",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T13:15:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14399094820,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaQMAk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14399094820",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T13:18:00Z"
    },
    {
      "event": "reviewed",
      "id": 2328408540,
      "node_id": "PRR_kwDOABII586KyLHc",
      "url": null,
      "actor": null,
      "commit_id": "fa61644768c3f6932860d1c5e2c6c0a38d5257e5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa61644768c3f6932860d1c5e2c6c0a38d5257e5.\r\n\r\nOverall very nice changes, but I think the first commit fa5ac85d19a387c2e12fc0833368e1240a3dcf51 has a drawback because it adds a `NodeContext` argument to `RPCStop` when ideally RPC code should be agnostic to node initialization and not depend on node types. Would suggest following change to clean it up, which could be squashed into the first commit:\r\n\r\n- ef271bc75e7bea8c82ce8667fb22e9b25dca5712 refactor: Split up NodeContext shutdown_signal and shutdown_request\r\n\r\nThis would also enable additional simplification in AppInitMain which could be squashed into commit faaf888eb275cecc2d2803c5756afac633e0e2a4:\r\n\r\n- 35d0986f43264da69384208701d659990f50dbd6 refactor: Simplify AppInitMain genesis block wait loop\r\n\r\n(Suggested commits are from branch https://github.com/ryanofsky/bitcoin/tree/review.30967.2-edit based on this PR)",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2328408540",
      "submitted_at": "2024-09-25T14:30:41Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "review_requested",
      "id": 14400327669,
      "node_id": "RRE_lADOABII586X1f5OzwAAAANaU4_1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14400327669",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T14:30:44Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2328454931,
      "node_id": "PRR_kwDOABII586KyWcT",
      "url": null,
      "actor": null,
      "commit_id": "fa61644768c3f6932860d1c5e2c6c0a38d5257e5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK fa61644768c3f6932860d1c5e2c6c0a38d5257e5",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2328454931",
      "submitted_at": "2024-09-25T14:32:32Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "convert_to_draft",
      "id": 14400832263,
      "node_id": "CTDE_lADOABII586X1f5OzwAAAANaW0MH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14400832263",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:00:34Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14401230139,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaYVU7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14401230139",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:26:51Z"
    },
    {
      "event": "ready_for_review",
      "id": 14401238506,
      "node_id": "RFRE_lADOABII586X1f5OzwAAAANaYXXq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14401238506",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:27:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14401338951,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaYv5H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14401338951",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:34:21Z"
    },
    {
      "event": "commented",
      "id": 2374434291,
      "node_id": "IC_kwDOABII586Nhv3z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2374434291",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:34:26Z",
      "updated_at": "2024-09-25T15:34:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/30654153102</sub>\n\n<details><summary>Hints</summary>\n\nMake sure to run all tests locally, according to the documentation.\n\nThe failure may happen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#issuecomment-2374434291",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967"
    },
    {
      "event": "labeled",
      "id": 14401340093,
      "node_id": "LE_lADOABII586X1f5OzwAAAANaYwK9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14401340093",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:34:26Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14401411111,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaZBgn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14401411111",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:39:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14401481697,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANaZSvh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14401481697",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T15:44:08Z"
    },
    {
      "event": "reviewed",
      "id": 2328742682,
      "node_id": "PRR_kwDOABII586Kzcsa",
      "url": null,
      "actor": null,
      "commit_id": "fa7c2c9f18f5468baf81c04177b75e2b684a327a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa7c2c9f18f5468baf81c04177b75e2b684a327a\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2328742682",
      "submitted_at": "2024-09-25T16:09:37Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "review_requested",
      "id": 14401844020,
      "node_id": "RRE_lADOABII586X1f5OzwAAAANaarM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14401844020",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T16:09:41Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "unlabeled",
      "id": 14402550471,
      "node_id": "UNLE_lADOABII586X1f5OzwAAAANadXrH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14402550471",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T16:54:46Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2330342919,
      "node_id": "PRR_kwDOABII586K5jYH",
      "url": null,
      "actor": null,
      "commit_id": "86bddb439bff846630b1efdea777119439ba56b2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2330342919",
      "submitted_at": "2024-09-26T07:36:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "review_requested",
      "id": 14411203919,
      "node_id": "RRE_lADOABII586X1f5OzwAAAANa-YVP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14411203919",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-26T07:36:06Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 2376175429,
      "node_id": "IC_kwDOABII586NoY9F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2376175429",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-26T07:45:23Z",
      "updated_at": "2024-09-26T07:46:00Z",
      "author_association": "MEMBER",
      "body": "Commit 86bddb439bff846630b1efdea777119439ba56b2 is a bit over my head, but seems like a good idea.\r\n\r\nLight code review ACK fa7c2c9f18f5468baf81c04177b75e2b684a327a.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#issuecomment-2376175429",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967"
    },
    {
      "event": "reviewed",
      "id": 2331887884,
      "node_id": "PRR_kwDOABII586K_ckM",
      "url": null,
      "actor": null,
      "commit_id": "fa877f4c5f9abb057f1476f21a063e0f687d0ad1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa877f4c5f9abb057f1476f21a063e0f687d0ad1. Since last review, just added new commit with another simplification.\r\n\r\n---\r\n\r\nCould consider squashing the new commit:\r\n\r\n-  \"refactor: Use wait_for predicate to check for interrupt\" (fa877f4c5f9abb057f1476f21a063e0f687d0ad1)\r\n\r\ninto earlier commit:\r\n\r\n-  \"refactor: Remove dead code in waitTipChanged\" (fafffc8b5cc25adf278031561f060023a14e4387)\r\n\r\nsince they are touching same code, and there should be no need to have one commit simplifying some arithmetic followed by another commit removing the arithmetic.\r\n\r\nCould also consider moving the doc commit:\r\n\r\n- \"doc: Clarify waitTipChanged docs\" (fae9bd8dd919b55faf3e31371d3e1100f2ab704f)\r\n\r\nto be first, so it's clear the documentation fixes in it apply to current code, not just new code.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2331887884",
      "submitted_at": "2024-09-26T17:00:47Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "labeled",
      "id": 14420824101,
      "node_id": "LE_lADOABII586X1f5OzwAAAANbjFAl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14420824101",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-26T18:18:26Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14421141593,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANbkShZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14421141593",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-26T18:46:55Z"
    },
    {
      "event": "reviewed",
      "id": 2332196385,
      "node_id": "PRR_kwDOABII586LAn4h",
      "url": null,
      "actor": null,
      "commit_id": "cccc5b19fba6d04e586f59bff5f5b2cdef3dffba",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa24d8dbddebd61b9c418bd6773c333ad72bed67. Fixed wait_for overflow bug since last review",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2332196385",
      "submitted_at": "2024-09-26T19:37:00Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14421934055,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANbnT_n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14421934055",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-26T19:58:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14425642004,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANb1dQU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14425642004",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-27T05:35:06Z"
    },
    {
      "event": "unlabeled",
      "id": 14426257555,
      "node_id": "UNLE_lADOABII586X1f5OzwAAAANb3ziT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14426257555",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-27T06:47:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2332900706,
      "node_id": "PRR_kwDOABII586LDT1i",
      "url": null,
      "actor": null,
      "commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2332900706",
      "submitted_at": "2024-09-27T07:00:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "reviewed",
      "id": 2332988514,
      "node_id": "PRR_kwDOABII586LDpRi",
      "url": null,
      "actor": null,
      "commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2332988514",
      "submitted_at": "2024-09-27T07:36:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "commented",
      "id": 2378614029,
      "node_id": "IC_kwDOABII586NxsUN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2378614029",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-27T07:37:56Z",
      "updated_at": "2024-09-27T07:37:56Z",
      "author_association": "MEMBER",
      "body": "re-utACK cccc5b19fba6d04e586f59bff5f5b2cdef3dffba\r\n\r\nThe main change since my last review is in 444424b96deef72780f617d1dbab844a2c9d72ab, which is a nice simplification.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#issuecomment-2378614029",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967"
    },
    {
      "event": "review_requested",
      "id": 14426818514,
      "node_id": "RRE_lADOABII586X1f5OzwAAAANb58fS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14426818514",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-27T07:38:01Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2334204252,
      "node_id": "PRR_kwDOABII586LISFc",
      "url": null,
      "actor": null,
      "commit_id": "cccc5b19fba6d04e586f59bff5f5b2cdef3dffba",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2334204252",
      "submitted_at": "2024-09-27T16:47:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "referenced",
      "id": 14453227672,
      "node_id": "REFE_lADOABII586X1f5OzwAAAANdesCY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14453227672",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "fa3ad1da70a762eb2f92344105126730d57d418d",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fa3ad1da70a762eb2f92344105126730d57d418d",
      "created_at": "2024-09-30T10:06:27Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14453228161,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANdesKB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14453228161",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-30T10:06:29Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14453381158,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANdfRgm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14453381158",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-30T10:17:19Z"
    },
    {
      "event": "reviewed",
      "id": 2337359384,
      "node_id": "PRR_kwDOABII586LUUYY",
      "url": null,
      "actor": null,
      "commit_id": "fa73a1d45d91fe289554e1f9f572917af5ba9d91",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa73a1d45d91fe289554e1f9f572917af5ba9d91, adding fix for potential log wakeup bug and some new comments.\r\n\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2337359384",
      "submitted_at": "2024-09-30T12:28:19Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "review_requested",
      "id": 14455238633,
      "node_id": "RRE_lADOABII586X1f5OzwAAAANdmW_p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14455238633",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-30T12:28:23Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "labeled",
      "id": 14463558016,
      "node_id": "LE_lADOABII586X1f5OzwAAAANeGGGA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14463558016",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-30T23:20:50Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNGMwNzUwMzMxZjM2MTIxYmE5MmJiYzJmMjJjNjE1Yjc5MzRlNTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa4c0750331f36121ba92bbc2f22c615b7934e52",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa4c0750331f36121ba92bbc2f22c615b7934e52",
      "tree": {
        "sha": "1e679a0a2d6ea0c7a176994bc6c78ae30b6def84",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e679a0a2d6ea0c7a176994bc6c78ae30b6def84"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 1e679a0a2d6ea0c7a176994bc6c78ae30b6def84\nparent fc642c33ef28829eda0119a0fe39fd9bc4b84051\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727251145 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727766517 +0200\n\ndoc: Clarify waitTipChanged docs\n\nIt should be obvious that a wait is not needed if the tip does not\nmatch.\n\nAlso, remove a comment that the blockTip notification was only meant for\nthe \"UI\". (It is used by other stuff for a long time)\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQHIBN+znKwNjhKg4Y2E8bqwUj8GLCzlgS7U66JB6jsF9g18KTuc/T48UJp6z9m23Bp\n2SO0AN53RJhKNZLuCtPQc=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc642c33ef28829eda0119a0fe39fd9bc4b84051",
          "sha": "fc642c33ef28829eda0119a0fe39fd9bc4b84051",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fc642c33ef28829eda0119a0fe39fd9bc4b84051"
        }
      ],
      "message": "doc: Clarify waitTipChanged docs\n\nIt should be obvious that a wait is not needed if the tip does not\nmatch.\n\nAlso, remove a comment that the blockTip notification was only meant for\nthe \"UI\". (It is used by other stuff for a long time)",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-10-01T07:08:37Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-09-25T07:59:05Z"
      },
      "sha": "fa4c0750331f36121ba92bbc2f22c615b7934e52"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMTg1ODZjMjlkNGZhYmEzZDNmNDc4ZWFhYmY5YzRjYmMxYTE2ZTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa18586c29d4faba3d3f478eaabf9c4cbc1a16e2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa18586c29d4faba3d3f478eaabf9c4cbc1a16e2",
      "tree": {
        "sha": "f243bd9487d5d8eba3503f4df971e767462c4a76",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f243bd9487d5d8eba3503f4df971e767462c4a76"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree f243bd9487d5d8eba3503f4df971e767462c4a76\nparent fa4c0750331f36121ba92bbc2f22c615b7934e52\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727253315 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727766601 +0200\n\nrefactor: Add missing GUARDED_BY(m_tip_block_mutex)\n\nFound by Cory Fields in\nhttps://github.com/bitcoin/bitcoin/pull/30409#discussion_r1774001261\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQHA1h6vjDaiwTrI/L7VZffsgfcprCrDlO8yXeDj3IQ0tf62zRPe5ydJdBWUIhSOWJa\na8VYpAVGZ5aqJKq4tcXgY=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa4c0750331f36121ba92bbc2f22c615b7934e52",
          "sha": "fa4c0750331f36121ba92bbc2f22c615b7934e52",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa4c0750331f36121ba92bbc2f22c615b7934e52"
        }
      ],
      "message": "refactor: Add missing GUARDED_BY(m_tip_block_mutex)\n\nFound by Cory Fields in\nhttps://github.com/bitcoin/bitcoin/pull/30409#discussion_r1774001261",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-10-01T07:10:01Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-09-25T08:35:15Z"
      },
      "sha": "fa18586c29d4faba3d3f478eaabf9c4cbc1a16e2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhZDhlN2ZiYTdiZjJjNTIzYTE5MTMwOWQzOTJjYWI3OTY2ODI2NGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad8e7fba7bf2c523a191309d392cab79668264b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fad8e7fba7bf2c523a191309d392cab79668264b",
      "tree": {
        "sha": "23d91e58e658137f62029ddb4481833b89abb9fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/23d91e58e658137f62029ddb4481833b89abb9fd"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 23d91e58e658137f62029ddb4481833b89abb9fd\nparent fa18586c29d4faba3d3f478eaabf9c4cbc1a16e2\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727689985 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727766654 +0200\n\nbugfix: Mark m_tip_block_cv as guarded by m_tip_block_mutex\n\nThis is not strictly required, but all places using m_tip_block_cv\n(except shutdown) already take the lock. The annotation makes it easier\nto catch potential deadlocks before review.\n\nAdding the missing lock to the shutdown sequence is a bugfix.\n\nAn alternative would be to take the lock and release it before\nnotifying, see\nhttps://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778899716\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQNt1UI+zuD6TVJUBeA+TXeZKBfruZkybJB8MBRnJYsAxzqpcXz1ETtaZfoxWMSkETz\nxtZARJ9y94uy67kikkAw4=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa18586c29d4faba3d3f478eaabf9c4cbc1a16e2",
          "sha": "fa18586c29d4faba3d3f478eaabf9c4cbc1a16e2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa18586c29d4faba3d3f478eaabf9c4cbc1a16e2"
        }
      ],
      "message": "bugfix: Mark m_tip_block_cv as guarded by m_tip_block_mutex\n\nThis is not strictly required, but all places using m_tip_block_cv\n(except shutdown) already take the lock. The annotation makes it easier\nto catch potential deadlocks before review.\n\nAdding the missing lock to the shutdown sequence is a bugfix.\n\nAn alternative would be to take the lock and release it before\nnotifying, see\nhttps://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778899716",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-10-01T07:10:54Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-09-30T09:53:05Z"
      },
      "sha": "fad8e7fba7bf2c523a191309d392cab79668264b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVjYTI4ZWYyOGJjY2ExNzc1ZmY0OTkyMWZjMjUyOGQ5NDM5YjcxYWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ca28ef28bcca1775ff49921fc2528d9439b71ab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5ca28ef28bcca1775ff49921fc2528d9439b71ab",
      "tree": {
        "sha": "7a865789490603907cfa72e1462aa2a10569c54e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7a865789490603907cfa72e1462aa2a10569c54e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad8e7fba7bf2c523a191309d392cab79668264b",
          "sha": "fad8e7fba7bf2c523a191309d392cab79668264b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fad8e7fba7bf2c523a191309d392cab79668264b"
        }
      ],
      "message": "refactor: Split up NodeContext shutdown_signal and shutdown_request\n\nInstead of having a single NodeContext::shutdown member that is used both to\nrequest shutdowns and check if they have been requested, use separate members\nfor each. Benefits of this change:\n\n1. Should make code a little clearer and easier to search because it is easier\n   to see which parts of code are triggering shutdowns and which parts are just\n   checking to see if they were triggered.\n\n2. Makes it possible for init.cpp to specify additional code to run when a\n   shutdown is requested, like signalling the m_tip_block_cv condition variable.\n\nMotivation for this change was to remove hacky NodeContext argument and\nm_tip_block_cv access from the StopRPC function, so StopRPC can just be\nconcerned with RPC functionality, not other node functionality.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-10-01T07:10:54Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-09-25T08:45:34Z"
      },
      "sha": "5ca28ef28bcca1775ff49921fc2528d9439b71ab"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhN2Y1MmFmMWE0N2ViZTNkMWJjMDBlM2JhYzcwYmY5ZjZmYTc2OWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b",
      "tree": {
        "sha": "331023d454235e3679731d554bafb02aeacdfd68",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/331023d454235e3679731d554bafb02aeacdfd68"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 331023d454235e3679731d554bafb02aeacdfd68\nparent 5ca28ef28bcca1775ff49921fc2528d9439b71ab\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727251702 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727766668 +0200\n\nrefactor: Use wait_for predicate to check for interrupt\n\nAlso use uint256::ZERO where appropriate for self-documenting code.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQGHgw25LSrydwHV4eFaS6KLFJWdXPBCiSHw77PkXDEV2LYlWmbmLUYa+1IL5i5GGKX\nJuhX3Ko9rAAjLmxDPwsQc=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ca28ef28bcca1775ff49921fc2528d9439b71ab",
          "sha": "5ca28ef28bcca1775ff49921fc2528d9439b71ab",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5ca28ef28bcca1775ff49921fc2528d9439b71ab"
        }
      ],
      "message": "refactor: Use wait_for predicate to check for interrupt\n\nAlso use uint256::ZERO where appropriate for self-documenting code.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-10-01T07:11:08Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-09-25T08:08:22Z"
      },
      "sha": "fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMmU0NDM5NjUyMTcyZGYyN2YxNDUwOGVlZjA3OGJkMGVlMmZjYTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2e4439652172df27f14508eef078bd0ee2fca5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2e4439652172df27f14508eef078bd0ee2fca5",
      "tree": {
        "sha": "599d82c275cfdc9f3bfb5d653fcad33ca58856cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/599d82c275cfdc9f3bfb5d653fcad33ca58856cc"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 599d82c275cfdc9f3bfb5d653fcad33ca58856cc\nparent fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727258237 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727766725 +0200\n\nrefactor: Replace g_genesis_wait_cv with m_tip_block_cv\n\nThey achieve the same, but the extra indirection over boost::signals2 is\nnot needed.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQGu+Id8oXnnyY1/PsYt7e4CmkjXbBkYR3ymDHdibdUDzetpB/Biw7jD/vN2G2KVHLI\nDHw+W6B/M5F/UA8eA0bww=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b",
          "sha": "fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b"
        }
      ],
      "message": "refactor: Replace g_genesis_wait_cv with m_tip_block_cv\n\nThey achieve the same, but the extra indirection over boost::signals2 is\nnot needed.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-10-01T07:12:05Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-09-25T09:57:17Z"
      },
      "sha": "fa2e4439652172df27f14508eef078bd0ee2fca5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMjJlNWM0MzBhY2FlZjk3MTNkOWE0YjRiOTdiYjNmNDg3NmY4MTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "tree": {
        "sha": "c3439083b00d24d6ccd89e7f8e5be02036b9d391",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c3439083b00d24d6ccd89e7f8e5be02036b9d391"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree c3439083b00d24d6ccd89e7f8e5be02036b9d391\nparent fa2e4439652172df27f14508eef078bd0ee2fca5\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727271771 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1727766752 +0200\n\nrefactor: Remove dead code that assumed tip == nullptr\n\nThe tip is set after waiting for the genesis block.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQJl8qf1unBymyXAnmL6UQ5zKgIsXBzkI5T2DFTICElb5F+K3/GkxFNsNaXwtXKFTAT\naDvKJozBH6qKZgCIKXHgo=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2e4439652172df27f14508eef078bd0ee2fca5",
          "sha": "fa2e4439652172df27f14508eef078bd0ee2fca5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2e4439652172df27f14508eef078bd0ee2fca5"
        }
      ],
      "message": "refactor: Remove dead code that assumed tip == nullptr\n\nThe tip is set after waiting for the genesis block.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-10-01T07:12:32Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-09-25T13:42:51Z"
      },
      "sha": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14467131922,
      "node_id": "HRFPE_lADOABII586X1f5OzwAAAANeTuoS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14467131922",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-01T07:13:22Z"
    },
    {
      "event": "unlabeled",
      "id": 14467427384,
      "node_id": "UNLE_lADOABII586X1f5OzwAAAANeU2w4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14467427384",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-01T07:36:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2385303342,
      "node_id": "IC_kwDOABII586OLNcu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2385303342",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-01T09:39:33Z",
      "updated_at": "2024-10-01T09:39:33Z",
      "author_association": "MEMBER",
      "body": "(rebased)",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#issuecomment-2385303342",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30967"
    },
    {
      "event": "reviewed",
      "id": 2340047317,
      "node_id": "PRR_kwDOABII586LeknV",
      "url": null,
      "actor": null,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa22e5c430acaef9713d9a4b4b97bb3f4876f816 (just rebased since last review)",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2340047317",
      "submitted_at": "2024-10-01T12:25:06Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "reviewed",
      "id": 2347659011,
      "node_id": "PRR_kwDOABII586L7m8D",
      "url": null,
      "actor": null,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK fa22e5c430acaef9713d9a4b4b97bb3f4876f816\r\n\r\nManually tested `-stopatheight`, a fatal indexer error (by breaking some code), calling `bitcoin-cli stop`, manually quitting qt, calling `stop` form the GUI console.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2347659011",
      "submitted_at": "2024-10-04T10:00:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "review_request_removed",
      "id": 14539287531,
      "node_id": "RRRE_lADOABII586X1f5OzwAAAANim-vr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14539287531",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T11:55:46Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 14539288554,
      "node_id": "RRE_lADOABII586X1f5OzwAAAANim-_q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14539288554",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T11:55:51Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2352371969,
      "node_id": "PRR_kwDOABII586MNlkB",
      "url": null,
      "actor": null,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK fa22e5c430acaef9713d9a4b4b97bb3f4876f816\r\n\r\nNice improvements to the shutdown handling since I last reviewed. The nits can be ignored.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#pullrequestreview-2352371969",
      "submitted_at": "2024-10-07T16:23:56Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
    },
    {
      "event": "merged",
      "id": 14559417506,
      "node_id": "ME_lADOABII586X1f5OzwAAAANjzxSi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14559417506",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5837e3463fe188a65d67f96e84cbcca674d61d9e",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5837e3463fe188a65d67f96e84cbcca674d61d9e",
      "created_at": "2024-10-08T16:01:20Z"
    },
    {
      "event": "closed",
      "id": 14559417541,
      "node_id": "CE_lADOABII586X1f5OzwAAAANjzxTF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14559417541",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-08T16:01:20Z"
    },
    {
      "event": "comment_deleted",
      "id": 14564305882,
      "node_id": "CDE_lADOABII586X1f5OzwAAAANkGava",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14564305882",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T00:41:02Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 14572567191,
      "node_id": "HRDE_lADOABII586X1f5OzwAAAANkl7qX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14572567191",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T12:57:42Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775007062",
      "pull_request_review_id": 2327893660,
      "id": 1775007062,
      "node_id": "PRRC_kwDOABII585pzHVW",
      "diff_hunk": "@@ -1822,17 +1798,17 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     // ********************************************************* Step 12: start node\n \n-    //// debug print",
      "path": "src/init.cpp",
      "position": 154,
      "original_position": 77,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa964f82c52a7d0fd40c5133cf5fc18ef13819e5",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "fa964f82c52a7d0fd40c5133cf5fc18ef13819e5 nit: seems everything below here could be its own commit",
      "created_at": "2024-09-25T10:49:25Z",
      "updated_at": "2024-09-25T10:50:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775007062",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775007062"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1834,
      "original_line": 1834,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775163810",
      "pull_request_review_id": 2328151516,
      "id": 1775163810,
      "node_id": "PRRC_kwDOABII585pztmi",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "While you're at it, it'd be more idiomatic to use the `wait_for` that takes a predicate, rather than wrapping a `wait_until` in a `while()`.",
      "created_at": "2024-09-25T12:46:25Z",
      "updated_at": "2024-09-25T12:46:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775163810",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775163810"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775211951",
      "pull_request_review_id": 2328230241,
      "id": 1775211951,
      "node_id": "PRRC_kwDOABII585pz5Wv",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think this is possible in a refactor, because the code was written to ignore system-time adjustments and always ensure the wait is measured on the steady clock. (No idea if this matters or even was intentional)\r\n\r\nIf you disagree, I am happy to take and push any diff that is a refactor or a behavior change.",
      "created_at": "2024-09-25T13:15:51Z",
      "updated_at": "2024-09-25T13:15:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775211951",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775211951"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775212650",
      "pull_request_review_id": 2328231424,
      "id": 1775212650,
      "node_id": "PRRC_kwDOABII585pz5hq",
      "diff_hunk": "@@ -1822,17 +1798,17 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     // ********************************************************* Step 12: start node\n \n-    //// debug print",
      "path": "src/init.cpp",
      "position": 154,
      "original_position": 77,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa964f82c52a7d0fd40c5133cf5fc18ef13819e5",
      "in_reply_to_id": 1775007062,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure, done",
      "created_at": "2024-09-25T13:16:16Z",
      "updated_at": "2024-09-25T13:16:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775212650",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775212650"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1834,
      "original_line": 1834,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775316336",
      "pull_request_review_id": 2328408540,
      "id": 1775316336,
      "node_id": "PRRC_kwDOABII585p0S1w",
      "diff_hunk": "@@ -1805,15 +1782,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     });\n \n     // Wait for genesis block to be processed\n-    {\n-        WAIT_LOCK(g_genesis_wait_mutex, lock);\n+    if (WITH_LOCK(chainman.GetMutex(), return chainman.ActiveTip() == nullptr)) {\n+        WAIT_LOCK(kernel_notifications.m_tip_block_mutex, lock);\n         // We previously could hang here if shutdown was requested prior to\n         // ImportBlocks getting started, so instead we just wait on a timer to\n         // check ShutdownRequested() regularly.\n-        while (!fHaveGenesis && !ShutdownRequested(node)) {\n-            g_genesis_wait_cv.wait_for(lock, std::chrono::milliseconds(500));\n+        while (kernel_notifications.m_tip_block.IsNull() && !ShutdownRequested(node)) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 66,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "faaf888eb275cecc2d2803c5756afac633e0e2a4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Replace g_genesis_wait_cv with m_tip_block_cv\" (faaf888eb275cecc2d2803c5756afac633e0e2a4)\r\n\r\nThis code is waiting for `m_tip_block` to be non-null, but then code below will be assuming that `chainman.ActiveTip()` will be non-null. These are similar conditions but not exactly the same, so I think it would be good to add an assert below the if statement like `assert(WITH_LOCK(chainman.GetMutex(), return chainman.ActiveChain().Tip() != nullptr));` to make sure this code is functioning as expected.",
      "created_at": "2024-09-25T14:13:57Z",
      "updated_at": "2024-09-25T14:30:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775316336",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775316336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1790,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775328397",
      "pull_request_review_id": 2328408540,
      "id": 1775328397,
      "node_id": "PRRC_kwDOABII585p0VyN",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775211951\r\n\r\nI'm not sure about the steady clock thing, but I think the reason this code is written to use a while loop is because it wants to wake up every 1000ms to check m_interrupt in case `m_interrupt` was signaled without `m_tip_block_cv` being signalled. I posted another change above to ensure that signalling `m_interrupt` will reliably signal `m_tip_block_cv`, After that, I think this code could be changed to use a simple wait predicate and drop the 1000ms polling.",
      "created_at": "2024-09-25T14:20:45Z",
      "updated_at": "2024-09-25T14:34:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775328397",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775328397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775344259",
      "pull_request_review_id": 2328454931,
      "id": 1775344259,
      "node_id": "PRRC_kwDOABII585p0ZqD",
      "diff_hunk": "@@ -9,7 +9,6 @@\n #include <rpc/request.h>\n #include <rpc/util.h>\n \n-#include <any>",
      "path": "src/rpc/server.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa5ac85d19a387c2e12fc0833368e1240a3dcf51",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: Could forward-declare `NodeContext` here instead.",
      "created_at": "2024-09-25T14:29:33Z",
      "updated_at": "2024-09-25T14:32:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775344259",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775344259"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 12,
      "original_line": 12,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775409498",
      "pull_request_review_id": 2328566200,
      "id": 1775409498,
      "node_id": "PRRC_kwDOABII585p0pla",
      "diff_hunk": "@@ -1805,15 +1782,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     });\n \n     // Wait for genesis block to be processed\n-    {\n-        WAIT_LOCK(g_genesis_wait_mutex, lock);\n+    if (WITH_LOCK(chainman.GetMutex(), return chainman.ActiveTip() == nullptr)) {\n+        WAIT_LOCK(kernel_notifications.m_tip_block_mutex, lock);\n         // We previously could hang here if shutdown was requested prior to\n         // ImportBlocks getting started, so instead we just wait on a timer to\n         // check ShutdownRequested() regularly.\n-        while (!fHaveGenesis && !ShutdownRequested(node)) {\n-            g_genesis_wait_cv.wait_for(lock, std::chrono::milliseconds(500));\n+        while (kernel_notifications.m_tip_block.IsNull() && !ShutdownRequested(node)) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 66,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "faaf888eb275cecc2d2803c5756afac633e0e2a4",
      "in_reply_to_id": 1775316336,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> These are similar conditions but not exactly the same\r\n\r\nThe `m_tip_block` condition implies the `Tip()` condition, because `SetTip()` happens before `blockTip()`.\r\n\r\nAn assert (`Assert`) is already present in the next commit, which was asked to be split up: https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775007062",
      "created_at": "2024-09-25T15:00:07Z",
      "updated_at": "2024-09-25T15:00:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775409498",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775409498"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1790,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775481467",
      "pull_request_review_id": 2328687293,
      "id": 1775481467,
      "node_id": "PRRC_kwDOABII585p07J7",
      "diff_hunk": "@@ -9,7 +9,6 @@\n #include <rpc/request.h>\n #include <rpc/util.h>\n \n-#include <any>",
      "path": "src/rpc/server.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa5ac85d19a387c2e12fc0833368e1240a3dcf51",
      "in_reply_to_id": 1775344259,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, but closing as no longer relevant. I'll follow-up with iwyu at some point, which should fix all of this either way.",
      "created_at": "2024-09-25T15:45:20Z",
      "updated_at": "2024-09-25T15:45:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775481467",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775481467"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 12,
      "original_line": 12,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775489809",
      "pull_request_review_id": 2328700997,
      "id": 1775489809,
      "node_id": "PRRC_kwDOABII585p09MR",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I'm not sure about the steady clock thing\r\n\r\nI was referring to https://en.cppreference.com/w/cpp/thread/condition_variable/wait_until#Notes, but it can probably be dropped. I just wanted to mention that it may not be a refactor in a strict sense.",
      "created_at": "2024-09-25T15:50:49Z",
      "updated_at": "2024-09-25T15:50:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775489809",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775489809"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775515667",
      "pull_request_review_id": 2328742682,
      "id": 1775515667,
      "node_id": "PRRC_kwDOABII585p1DgT",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775163810\r\n\r\nI think Cory's suggestion could be implemented here with:\r\n\r\n```diff\r\n--- a/src/node/interfaces.cpp\r\n+++ b/src/node/interfaces.cpp\r\n@@ -940,17 +940,11 @@ public:\r\n \r\n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\r\n     {\r\n-        // Interrupt check interval\r\n-        const MillisecondsDouble tick{1000};\r\n-        auto now{std::chrono::steady_clock::now()};\r\n-        const auto deadline{now + timeout};\r\n         {\r\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\r\n-            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\r\n-                now = std::chrono::steady_clock::now();\r\n-                if (now >= deadline) break;\r\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));\r\n-            }\r\n+            notifications().m_tip_block_cv.wait_for(lock, timeout, [&] {\r\n+                return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;\r\n+            });\r\n         }\r\n         // Must release m_tip_block_mutex before locking cs_main, to avoid deadlocks.\r\n         LOCK(::cs_main);\r\n```",
      "created_at": "2024-09-25T16:07:21Z",
      "updated_at": "2024-09-25T16:09:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1775515667",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775515667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776524682",
      "pull_request_review_id": 2330342919,
      "id": 1776524682,
      "node_id": "PRRC_kwDOABII585p452K",
      "diff_hunk": "@@ -303,9 +303,6 @@ void StopRPC(const std::any& context)\n         LogDebug(BCLog::RPC, \"Stopping RPC\\n\");\n         WITH_LOCK(g_deadline_timers_mutex, deadlineTimers.clear());\n         DeleteAuthCookie();\n-        node::NodeContext& node = EnsureAnyNodeContext(context);\n-        // The notifications interface doesn't exist between initialization step 4a and 7.",
      "path": "src/rpc/server.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "86bddb439bff846630b1efdea777119439ba56b2",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "86bddb439bff846630b1efdea777119439ba56b2: did you mean to drop this comment? (the ` if (node.notifications)` check is still there)",
      "created_at": "2024-09-26T07:26:07Z",
      "updated_at": "2024-09-26T07:36:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1776524682",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776524682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 307,
      "original_line": 307,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776538036",
      "pull_request_review_id": 2330342919,
      "id": 1776538036,
      "node_id": "PRRC_kwDOABII585p49G0",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I think the reason this code is written to use a while loop is because it wants to wake up every 1000ms to check m_interrupt in case `m_interrupt` was signaled without `m_tip_block_cv` being signalled\r\n\r\nIIRC that's indeed why.\r\n\r\n> the code was written to ignore system-time adjustments and always ensure the wait is measured on the steady clock\r\n\r\nThe Sv2 TemplateProvider [unit tests](https://github.com/Sjors/bitcoin/pull/49/files#diff-0b261406dffd8331375311b40acbd01627b150bc7b1167cd3db6be3e1114b395) rely on `SetMockTime`, though I think they mostly care about `timeout`, not the `1000ms` shutdown ticker. In any case I can adjust those tests if needed to simplify this code.",
      "created_at": "2024-09-26T07:36:03Z",
      "updated_at": "2024-09-26T07:41:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1776538036",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776538036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776548257",
      "pull_request_review_id": 2330381008,
      "id": 1776548257,
      "node_id": "PRRC_kwDOABII585p4_mh",
      "diff_hunk": "@@ -303,9 +303,6 @@ void StopRPC(const std::any& context)\n         LogDebug(BCLog::RPC, \"Stopping RPC\\n\");\n         WITH_LOCK(g_deadline_timers_mutex, deadlineTimers.clear());\n         DeleteAuthCookie();\n-        node::NodeContext& node = EnsureAnyNodeContext(context);\n-        // The notifications interface doesn't exist between initialization step 4a and 7.",
      "path": "src/rpc/server.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "86bddb439bff846630b1efdea777119439ba56b2",
      "in_reply_to_id": 1776524682,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I didn't author the commit, but I don't think it matters. In any case the comment was wrong anyway, because it seems odd to say \"between 4a and 7\", which implies that it exists before 4a, which would be wrong.",
      "created_at": "2024-09-26T07:43:34Z",
      "updated_at": "2024-09-26T07:43:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1776548257",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776548257"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 307,
      "original_line": 307,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776550909",
      "pull_request_review_id": 2330385223,
      "id": 1776550909,
      "node_id": "PRRC_kwDOABII585p5AP9",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> The Sv2 TemplateProvider unit tests rely on `SetMockTime`\r\n\r\nmocktime only affects the `NodeClock`, neither the system clock, nor the steady clock (obviously), so I don't think this will affect your unit tests and you don't have to change anything.",
      "created_at": "2024-09-26T07:45:35Z",
      "updated_at": "2024-09-26T07:45:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1776550909",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776550909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777377093",
      "pull_request_review_id": 2331758532,
      "id": 1777377093,
      "node_id": "PRRC_kwDOABII585p8J9F",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I think Cory's suggestion could be implemented here with:\r\n\r\nThanks, pushed the diff as a new commit on top, with added clang-threadsafety annotations.",
      "created_at": "2024-09-26T16:04:18Z",
      "updated_at": "2024-09-26T16:04:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1777377093",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777377093"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777476826",
      "pull_request_review_id": 2331923194,
      "id": 1777476826,
      "node_id": "PRRC_kwDOABII585p8iTa",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually it uncovered a bug in GCC:\r\n\r\n\r\n```\r\nnode1 stderr /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:8: runtime error: inf is outside the range of representable values of type 'long'\r\n    #0 0x55c8ba4a1562 in std::chrono::duration<long, std::ratio<1l, 1000000000l>> std::chrono::__duration_cast_impl<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, std::ratio<1000000l, 1l>, double, false, true>::__cast<double, std::ratio<1l, 1000l>>(std::chrono::duration<double, std::ratio<1l, 1000l>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:8\r\n    #1 0x55c8ba4a1562 in std::enable_if<__is_duration<std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::value, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::type std::chrono::duration_cast<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, double, std::ratio<1l, 1000l>>(std::chrono::duration<double, std::ratio<1l, 1000l>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:287:11\r\n    #2 0x55c8ba4a1562 in std::enable_if<__is_duration<std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::value, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::type std::chrono::ceil<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, double, std::ratio<1l, 1000l>>(std::chrono::duration<double, std::ratio<1l, 1000l>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:410:14\r\n    #3 0x55c8ba4a1562 in bool std::condition_variable::wait_for<double, std::ratio<1l, 1000l>, node::(anonymous namespace)::MinerImpl::waitTipChanged(uint256, std::chrono::duration<double, std::ratio<1l, 1000l>>)::'lambda'()>(std::unique_lock<std::mutex>&, std::chrono::duration<double, std::ratio<1l, 1000l>> const&, node::(anonymous namespace)::MinerImpl::waitTipChanged(uint256, std::chrono::duration<double, std::ratio<1l, 1000l>>)::'lambda'()) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/condition_variable:179:6\r\n    #4 0x55c8ba4a1562 in node::(anonymous namespace)::MinerImpl::waitTipChanged(uint256, std::chrono::duration<double, std::ratio<1l, 1000l>>) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/node/interfaces.cpp:945:44\r\n    #5 0x55c8ba635ae9 in waitforblockheight()::$_0::operator()(RPCHelpMan const&, JSONRPCRequest const&) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/blockchain.cpp:397:27\r\n    #6 0x55c8ba635ae9 in UniValue std::__invoke_impl<UniValue, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&>(std::__invoke_other, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:61:14\r\n    #7 0x55c8ba635ae9 in std::enable_if<is_invocable_r_v<UniValue, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&>, UniValue>::type std::__invoke_r<UniValue, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&>(waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:114:9\r\n    #8 0x55c8ba635ae9 in std::_Function_handler<UniValue (RPCHelpMan const&, JSONRPCRequest const&), waitforblockheight()::$_0>::_M_invoke(std::_Any_data const&, RPCHelpMan const&, JSONRPCRequest const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:290:9\r\n    #9 0x55c8bb3491fd in std::function<UniValue (RPCHelpMan const&, JSONRPCRequest const&)>::operator()(RPCHelpMan const&, JSONRPCRequest const&) const /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n    #10 0x55c8bb3491fd in RPCHelpMan::HandleRequest(JSONRPCRequest const&) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/util.cpp:667:20\r\n    #11 0x55c8ba650ee1 in CRPCCommand::CRPCCommand(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>, RPCHelpMan (*)())::'lambda'(JSONRPCRequest const&, UniValue&, bool)::operator()(JSONRPCRequest const&, UniValue&, bool) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.h:101:91\r\n    #12 0x55c8ba85576c in std::function<bool (JSONRPCRequest const&, UniValue&, bool)>::operator()(JSONRPCRequest const&, UniValue&, bool) const /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n    #13 0x55c8ba85576c in ExecuteCommand(CRPCCommand const&, JSONRPCRequest const&, UniValue&, bool) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:512:20\r\n    #14 0x55c8ba85576c in ExecuteCommands(std::vector<CRPCCommand const*, std::allocator<CRPCCommand const*>> const&, JSONRPCRequest const&, UniValue&) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:477:13\r\n    #15 0x55c8ba8531b2 in CRPCTable::execute(JSONRPCRequest const&) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:497:13\r\n    #16 0x55c8ba852455 in JSONRPCExec(JSONRPCRequest const&, bool) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:353:31\r\n    #17 0x55c8baad4b11 in HTTPReq_JSONRPC(std::any const&, HTTPRequest*) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httprpc.cpp:218:21\r\n    #18 0x55c8baaf1ad0 in std::function<bool (HTTPRequest*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)>::operator()(HTTPRequest*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) const /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n    #19 0x55c8baaf1ad0 in HTTPWorkItem::operator()() ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httpserver.cpp:62:9\r\n    #20 0x55c8baaf76b3 in WorkQueue<HTTPClosure>::Run() ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httpserver.cpp:117:13\r\n    #21 0x55c8baae4031 in HTTPWorkQueueRun(WorkQueue<HTTPClosure>*, int) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httpserver.cpp:415:12\r\n    #22 0x7f71e9fa5bb3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xeabb3) (BuildId: 40b9b0d17fdeebfb57331304da2b7f85e1396ef2)\r\n    #23 0x55c8ba0d69fc in asan_thread_start(void*) asan_interceptors.cpp.o\r\n    #24 0x7f71e9c1ca93  (/lib/x86_64-linux-gnu/libc.so.6+0x9ca93) (BuildId: 6d64b17fbac799e68da7ebd9985ddf9b5cb375e6)\r\n    #25 0x7f71e9ca9c3b  (/lib/x86_64-linux-gnu/libc.so.6+0x129c3b) (BuildId: 6d64b17fbac799e68da7ebd9985ddf9b5cb375e6)\r\n\r\nSUMMARY: UndefinedBehaviorSanitizer: float-cast-overflow /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:8 \r\n",
      "created_at": "2024-09-26T17:19:41Z",
      "updated_at": "2024-09-26T17:19:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1777476826",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777476826"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777501331",
      "pull_request_review_id": 2331963245,
      "id": 1777501331,
      "node_id": "PRRC_kwDOABII585p8oST",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I guess the bug is in stdlibc++ as well: https://godbolt.org/z/3az431Gdn\r\n\r\nRef: https://eel.is/c++draft/time.duration.cast",
      "created_at": "2024-09-26T17:38:23Z",
      "updated_at": "2024-09-26T17:42:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1777501331",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777501331"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777515026",
      "pull_request_review_id": 2331984759,
      "id": 1777515026,
      "node_id": "PRRC_kwDOABII585p8roS",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Smells familiar. I wonder if it's the same root issue as this: https://github.com/bitcoin/bitcoin/pull/30462#discussion_r1679972352",
      "created_at": "2024-09-26T17:47:59Z",
      "updated_at": "2024-09-26T17:47:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1777515026",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777515026"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777583955",
      "pull_request_review_id": 2332097880,
      "id": 1777583955,
      "node_id": "PRRC_kwDOABII585p88dT",
      "diff_hunk": "@@ -945,7 +945,7 @@ class MinerImpl : public Mining\n         const auto deadline{now + timeout};\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa9d74cc9bbe1aaf65a8effc4b1ce3aa0551f8f7",
      "in_reply_to_id": 1775163810,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah I guess values too large or too small are unsupported in the stdlibs for now and have to be avoided before passing them in.\r\n\r\nI've capped at 100 years for now.",
      "created_at": "2024-09-26T18:45:46Z",
      "updated_at": "2024-09-26T18:45:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1777583955",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777583955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777641007",
      "pull_request_review_id": 2332196385,
      "id": 1777641007,
      "node_id": "PRRC_kwDOABII585p9KYv",
      "diff_hunk": "@@ -948,7 +948,7 @@ class MinerImpl : public Mining\n         if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n+            while ((notifications().m_tip_block == uint256::ZERO || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa47d893acdd18132204810dd95880ab21abf415",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Add missing GUARDED_BY(m_tip_block_mutex)\" (fa47d893acdd18132204810dd95880ab21abf415)\r\n\r\nIt seems like it would be a little better to make this change in the next commit \"refactor: Use wait_for predicate to check for interrupt\" (faa3f411f6842bf1201b25d6391b1913e1b72439) instead of this one so this code is not changing more than once.",
      "created_at": "2024-09-26T19:34:46Z",
      "updated_at": "2024-09-26T19:37:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1777641007",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777641007"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 951,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777642365",
      "pull_request_review_id": 2332196385,
      "id": 1777642365,
      "node_id": "PRRC_kwDOABII585p9Kt9",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono",
      "path": "src/node/interfaces.cpp",
      "position": 28,
      "original_position": 10,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "faa3f411f6842bf1201b25d6391b1913e1b72439",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Use wait_for predicate to check for interrupt\" (faa3f411f6842bf1201b25d6391b1913e1b72439)\r\n\r\nMight be better to avoid the 100 year hack by switching to wait_until\r\n\r\n```diff\r\n--- a/src/node/interfaces.cpp\r\n+++ b/src/node/interfaces.cpp\r\n@@ -940,10 +940,10 @@ public:\r\n \r\n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\r\n     {\r\n-        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\r\n         {\r\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\r\n-            notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\r\n+            const auto deadline{std::chrono::steady_clock::now() + timeout};\r\n+            notifications().m_tip_block_cv.wait_until(lock, deadline, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\r\n                 return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;\r\n             });\r\n         }\r\n```",
      "created_at": "2024-09-26T19:36:11Z",
      "updated_at": "2024-09-26T19:37:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1777642365",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777642365"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 943,
      "original_line": 943,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778028934",
      "pull_request_review_id": 2332779137,
      "id": 1778028934,
      "node_id": "PRRC_kwDOABII585p-pGG",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono",
      "path": "src/node/interfaces.cpp",
      "position": 28,
      "original_position": 10,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "faa3f411f6842bf1201b25d6391b1913e1b72439",
      "in_reply_to_id": 1777642365,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This fails with the same error. It would have also surprised me if a float-cast UB was hit in one code path, but not in an equivalent one.\r\n\r\n```\r\nnode1 stderr /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:212:8: runtime error: inf is outside the range of representable values of type 'long'\r\n    #0 0x55cbcf9b4fb3 in std::chrono::duration<long, std::ratio<1l, 1l>> std::chrono::__duration_cast_impl<std::chrono::duration<long, std::ratio<1l, 1l>>, std::ratio<1l, 1000000000l>, double, true, false>::__cast<double, std::ratio<1l, 1000000000l>>(std::chrono::duration<double, std::ratio<1l, 1000000000l>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:212:8\r\n    #1 0x55cbcf9b4fb3 in std::enable_if<__is_duration<std::chrono::duration<long, std::ratio<1l, 1l>>>::value, std::chrono::duration<long, std::ratio<1l, 1l>>>::type std::chrono::duration_cast<std::chrono::duration<long, std::ratio<1l, 1l>>, double, std::ratio<1l, 1000000000l>>(std::chrono::duration<double, std::ratio<1l, 1000000000l>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:287:11\r\n    #2 0x55cbcf9b4fb3 in std::enable_if<__is_duration<std::chrono::duration<long, std::ratio<1l, 1l>>>::value, std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1l>>>>::type std::chrono::time_point_cast<std::chrono::duration<long, std::ratio<1l, 1l>>, std::chrono::_V2::steady_clock, std::chrono::duration<double, std::ratio<1l, 1000000000l>>>(std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<double, std::ratio<1l, 1000000000l>>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:1022:22\r\n    #3 0x55cbcf9b4fb3 in std::cv_status std::condition_variable::__wait_until_impl<std::chrono::duration<double, std::ratio<1l, 1000000000l>>>(std::unique_lock<std::mutex>&, std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<double, std::ratio<1l, 1000000000l>>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/condition_variable:194:13\r\n    #4 0x55cbcf99f119 in std::cv_status std::condition_variable::wait_until<std::chrono::duration<double, std::ratio<1l, 1000000000l>>>(std::unique_lock<std::mutex>&, std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<double, std::ratio<1l, 1000000000l>>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/condition_variable:113:16\r\n    #5 0x55cbcf99f119 in bool std::condition_variable::wait_until<std::chrono::_V2::steady_clock, std::chrono::duration<double, std::ratio<1l, 1000000000l>>, node::(anonymous namespace)::MinerImpl::waitTipChanged(uint256, std::chrono::duration<double, std::ratio<1l, 1000l>>)::'lambda'()>(std::unique_lock<std::mutex>&, std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<double, std::ratio<1l, 1000000000l>>> const&, node::(anonymous namespace)::MinerImpl::waitTipChanged(uint256, std::chrono::duration<double, std::ratio<1l, 1000l>>)::'lambda'()) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/condition_variable:154:8\r\n    #6 0x55cbcf99f119 in node::(anonymous namespace)::MinerImpl::waitTipChanged(uint256, std::chrono::duration<double, std::ratio<1l, 1000l>>) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/node/interfaces.cpp:945:44\r\n    #7 0x55cbcfb33ca9 in waitforblockheight()::$_0::operator()(RPCHelpMan const&, JSONRPCRequest const&) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/blockchain.cpp:397:27\r\n    #8 0x55cbcfb33ca9 in UniValue std::__invoke_impl<UniValue, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&>(std::__invoke_other, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:61:14\r\n    #9 0x55cbcfb33ca9 in std::enable_if<is_invocable_r_v<UniValue, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&>, UniValue>::type std::__invoke_r<UniValue, waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&>(waitforblockheight()::$_0&, RPCHelpMan const&, JSONRPCRequest const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:114:9\r\n    #10 0x55cbcfb33ca9 in std::_Function_handler<UniValue (RPCHelpMan const&, JSONRPCRequest const&), waitforblockheight()::$_0>::_M_invoke(std::_Any_data const&, RPCHelpMan const&, JSONRPCRequest const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:290:9\r\n    #11 0x55cbd08473bd in std::function<UniValue (RPCHelpMan const&, JSONRPCRequest const&)>::operator()(RPCHelpMan const&, JSONRPCRequest const&) const /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n    #12 0x55cbd08473bd in RPCHelpMan::HandleRequest(JSONRPCRequest const&) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/util.cpp:667:20\r\n    #13 0x55cbcfb4f0a1 in CRPCCommand::CRPCCommand(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>, RPCHelpMan (*)())::'lambda'(JSONRPCRequest const&, UniValue&, bool)::operator()(JSONRPCRequest const&, UniValue&, bool) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.h:101:91\r\n    #14 0x55cbcfd5392c in std::function<bool (JSONRPCRequest const&, UniValue&, bool)>::operator()(JSONRPCRequest const&, UniValue&, bool) const /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n    #15 0x55cbcfd5392c in ExecuteCommand(CRPCCommand const&, JSONRPCRequest const&, UniValue&, bool) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:512:20\r\n    #16 0x55cbcfd5392c in ExecuteCommands(std::vector<CRPCCommand const*, std::allocator<CRPCCommand const*>> const&, JSONRPCRequest const&, UniValue&) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:477:13\r\n    #17 0x55cbcfd51372 in CRPCTable::execute(JSONRPCRequest const&) const ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:497:13\r\n    #18 0x55cbcfd50615 in JSONRPCExec(JSONRPCRequest const&, bool) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/rpc/server.cpp:353:31\r\n    #19 0x55cbcffd2cd1 in HTTPReq_JSONRPC(std::any const&, HTTPRequest*) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httprpc.cpp:218:21\r\n    #20 0x55cbcffefc90 in std::function<bool (HTTPRequest*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)>::operator()(HTTPRequest*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) const /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n    #21 0x55cbcffefc90 in HTTPWorkItem::operator()() ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httpserver.cpp:62:9\r\n    #22 0x55cbcfff5873 in WorkQueue<HTTPClosure>::Run() ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httpserver.cpp:117:13\r\n    #23 0x55cbcffe21f1 in HTTPWorkQueueRun(WorkQueue<HTTPClosure>*, int) ci/scratch/build-x86_64-pc-linux-gnu/src/./src/httpserver.cpp:415:12\r\n    #24 0x7fb54623cbb3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xeabb3) (BuildId: 40b9b0d17fdeebfb57331304da2b7f85e1396ef2)\r\n    #25 0x55cbcf5d49fc in asan_thread_start(void*) asan_interceptors.cpp.o\r\n    #26 0x7fb545eb3a93  (/lib/x86_64-linux-gnu/libc.so.6+0x9ca93) (BuildId: 6d64b17fbac799e68da7ebd9985ddf9b5cb375e6)\r\n    #27 0x7fb545f40c3b  (/lib/x86_64-linux-gnu/libc.so.6+0x129c3b) (BuildId: 6d64b17fbac799e68da7ebd9985ddf9b5cb375e6)\r\n\r\nSUMMARY: UndefinedBehaviorSanitizer: float-cast-overflow /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:212:8 \r\n",
      "created_at": "2024-09-27T05:31:21Z",
      "updated_at": "2024-09-27T05:31:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778028934",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778028934"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 943,
      "original_line": 943,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778105580",
      "pull_request_review_id": 2332900706,
      "id": 1778105580,
      "node_id": "PRRC_kwDOABII585p-7zs",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n-                now = std::chrono::steady_clock::now();\n-                if (now >= deadline) break;\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));",
      "path": "src/node/interfaces.cpp",
      "position": 34,
      "original_position": 16,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "444424b96deef72780f617d1dbab844a2c9d72ab: In case anyone is wondering: https://stackoverflow.com/questions/13142255/what-is-the-difference-between-stdcondition-variablewait-for-and-stdcondit",
      "created_at": "2024-09-27T07:00:10Z",
      "updated_at": "2024-09-27T07:00:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778105580",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778105580"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 952,
      "original_line": 952,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778162781",
      "pull_request_review_id": 2332988514,
      "id": 1778162781,
      "node_id": "PRRC_kwDOABII585p_Jxd",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n-                now = std::chrono::steady_clock::now();\n-                if (now >= deadline) break;\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));\n-            }\n+            notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\n+                return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;",
      "path": "src/node/interfaces.cpp",
      "position": 37,
      "original_position": 19,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "444424b96deef72780f617d1dbab844a2c9d72ab  I think that since `waitTipChanged` takes a `current_tip` argument the `m_tip_block != uint256::ZERO` check is no longer needed. Though it seems fine to keep it.\r\n\r\nIIRC the reason I added it was in case `waitTipChanged` was called during early node initialization, before `m_tip_block` is set to the genesis block.\r\n\r\nThat scenario is now handled by `m_tip_block != current_tip`.\r\n\r\nIn terms of how the Template Provider works, it used to rely on this check, but now it just waits for `getTip()` to return a value before calling `waitTipChanged()`. .\r\n\r\nWhen implemented as part of Bitcoin Core, as in #29432, it can't call `waitTipChanged()` earlier, because it has no way of knowing what to set for `current_tip`.\r\n\r\nWhen implemented as an external application (e.g. https://github.com/Sjors/bitcoin/pull/48) it might know the tip from some other source before `m_tip_block` is set. So it could call `waitTipChanged()` very early in node initialization, but that still doesn't require the `m_tip_block != uint256::ZERO` check.",
      "created_at": "2024-09-27T07:36:27Z",
      "updated_at": "2024-09-27T07:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778162781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778162781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 947,
      "original_line": 947,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778217444",
      "pull_request_review_id": 2333077650,
      "id": 1778217444,
      "node_id": "PRRC_kwDOABII585p_XHk",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n-                now = std::chrono::steady_clock::now();\n-                if (now >= deadline) break;\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));\n-            }\n+            notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\n+                return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;",
      "path": "src/node/interfaces.cpp",
      "position": 37,
      "original_position": 19,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "in_reply_to_id": 1778162781,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The `m_tip_block.IsNull()` is used in fa05721cbc622b9b044af920f63312a5e407a022, but that doesn't matter here, so I am happy to drop it. (In theory it should be `std::optional`, instead of encoding nullopt as zero, but that may be overkill)\r\n\r\n> IIRC the reason I added it was in case `waitTipChanged` was called during early node initialization, before `m_tip_block` is set to the genesis block.\r\n\r\nI don't think this is true. `m_tip_block` may never be set to the genesis block, and stay zero forever if no block is ever connected and state is just initialized from persisted storage.\r\n\r\nYou can test this by calling `waitfornewblock 11 0000000000000000000000000000000000000000000000000000000000000000 ` and observing the stdout `1`, indicating that the block tip is null, using the following diff:\r\n\r\n```diff\r\ndiff --git a/src/node/interfaces.cpp b/src/node/interfaces.cpp\r\nindex cbbe86d669..122e0020fc 100644\r\n--- a/src/node/interfaces.cpp\r\n+++ b/src/node/interfaces.cpp\r\n@@ -943,6 +943,7 @@ public:\r\n         if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\r\n         {\r\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\r\n+            std::cout << notifications().m_tip_block.IsNull() << std::endl;\r\n             notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\r\n                 return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;\r\n             });\r\ndiff --git a/src/rpc/blockchain.cpp b/src/rpc/blockchain.cpp\r\nindex 683a9dae88..2b47c3327d 100644\r\n--- a/src/rpc/blockchain.cpp\r\n+++ b/src/rpc/blockchain.cpp\r\n@@ -262,6 +262,7 @@ static RPCHelpMan waitfornewblock()\r\n                 \"\\nMake sure to use no RPC timeout (bitcoin-cli -rpcclienttimeout=0)\",\r\n                 {\r\n                     {\"timeout\", RPCArg::Type::NUM, RPCArg::Default{0}, \"Time in milliseconds to wait for a response. 0 indicates no timeout.\"},\r\n+                    {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Optional::OMITTED, \"Last known block hash. Returns immediately if the tip is different.\"},\r\n                 },\r\n                 RPCResult{\r\n                     RPCResult::Type::OBJ, \"\", \"\",\r\n@@ -284,6 +285,10 @@ static RPCHelpMan waitfornewblock()\r\n     Mining& miner = EnsureMining(node);\r\n \r\n     auto block{CHECK_NONFATAL(miner.getTip()).value()};\r\n+    if (!request.params[1].isNull()) {\r\n+        block.hash=(ParseHashV(request.params[1], \"blockhash\"));\r\n+    }\r\n+\r\n     if (IsRPCRunning()) {\r\n         block = timeout ? miner.waitTipChanged(block.hash, std::chrono::milliseconds(timeout)) : miner.waitTipChanged(block.hash);\r\n     }\r\n",
      "created_at": "2024-09-27T08:14:32Z",
      "updated_at": "2024-09-27T08:14:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778217444",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778217444"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 947,
      "original_line": 947,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778899716",
      "pull_request_review_id": 2334204252,
      "id": 1778899716,
      "node_id": "PRRC_kwDOABII585qB9sE",
      "diff_hunk": "@@ -205,7 +205,14 @@ void InitContext(NodeContext& node)\n     g_shutdown.emplace();\n \n     node.args = &gArgs;\n-    node.shutdown = &*g_shutdown;\n+    node.shutdown_signal = &*g_shutdown;\n+    node.shutdown_request = [&node] {\n+        assert(node.shutdown_signal);\n+        if (!(*node.shutdown_signal)()) return false;\n+        // Wake any threads that may be waiting for the tip to change.",
      "path": "src/init.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "cccc5b19fba6d04e586f59bff5f5b2cdef3dffba",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To avoid a race, this needs to lock `node.notifications->m_tip_block_mutex` before calling notify. `(*node.shutdown_signal)()` doesn't necessarily need to happen under the lock, but a lock is required after the signal in order to synchronize. Otherwise the update could be missed and we could potentially wait forever.\r\n\r\nThis is currently an example of [this trap](https://www.modernescpp.com/index.php/c-core-guidelines-be-aware-of-the-traps-of-condition-variables/) (see the \"An atomic predicate\" example).\r\n\r\nSee another example (and solution) [here](https://developers.redhat.com/articles/2022/12/06/implementing-c20-atomic-waiting-libstdc#handling_the_various_type_and_platform_choices) (ctrl+f for \"acquisition above is significant\").\r\n\r\nSo this would become:\r\n```c++\r\nif (!(*node.shutdown_signal)()) return false;\r\n// Wake any threads that may be waiting for the tip to change.\r\nif (node.notifications) {\r\n    {\r\n        // synchronize the shutdown state\r\n        LOCK(node.notifications->m_tip_block_mutex);\r\n    }\r\n    node.notifications->m_tip_block_cv.notify_all();\r\n}\r\n```",
      "created_at": "2024-09-27T16:47:35Z",
      "updated_at": "2024-09-27T16:48:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778899716",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778899716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 214,
      "original_line": 214,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779015530",
      "pull_request_review_id": 2334403626,
      "id": 1779015530,
      "node_id": "PRRC_kwDOABII585qCZ9q",
      "diff_hunk": "@@ -205,7 +205,14 @@ void InitContext(NodeContext& node)\n     g_shutdown.emplace();\n \n     node.args = &gArgs;\n-    node.shutdown = &*g_shutdown;\n+    node.shutdown_signal = &*g_shutdown;\n+    node.shutdown_request = [&node] {\n+        assert(node.shutdown_signal);\n+        if (!(*node.shutdown_signal)()) return false;\n+        // Wake any threads that may be waiting for the tip to change.",
      "path": "src/init.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "cccc5b19fba6d04e586f59bff5f5b2cdef3dffba",
      "in_reply_to_id": 1778899716,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, good catch. I knew that pthreads required the lock to be held while notifying to avoid the lost wakeup bug ([\"if predictable scheduling behavior is required\"](https://linux.die.net/man/3/pthread_cond_broadcast)), and that c++ dropped this requirement, even recommending against it saying [\"Doing so may be a pessimization...\"](https://en.cppreference.com/w/cpp/thread/condition_variable/notify_all).\r\n\r\nBut I didn't know that c++ still requires the lock to be held *before* notifying, even though it now recommends against holding the lock *while* notifying.\r\n\r\nIt does make sense that after the notifying thread updates the shutdown state, some extra synchronization is needed to make sure the notification is not sent too early, before the waiting thread is actually waiting.\r\n\r\nSuggested fix looks right to me. And it looks like this bug might have been present even before this commit, though was much less likely to happen since notify_all call was happening long after the shutdown flag was set, not immediately after.",
      "created_at": "2024-09-27T18:43:12Z",
      "updated_at": "2024-09-27T18:43:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1779015530",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779015530"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 214,
      "original_line": 214,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779026190",
      "pull_request_review_id": 2334421454,
      "id": 1779026190,
      "node_id": "PRRC_kwDOABII585qCckO",
      "diff_hunk": "@@ -205,7 +205,14 @@ void InitContext(NodeContext& node)\n     g_shutdown.emplace();\n \n     node.args = &gArgs;\n-    node.shutdown = &*g_shutdown;\n+    node.shutdown_signal = &*g_shutdown;\n+    node.shutdown_request = [&node] {\n+        assert(node.shutdown_signal);\n+        if (!(*node.shutdown_signal)()) return false;\n+        // Wake any threads that may be waiting for the tip to change.",
      "path": "src/init.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "cccc5b19fba6d04e586f59bff5f5b2cdef3dffba",
      "in_reply_to_id": 1778899716,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, I think the \"Doing so may be a pessimization...\" language encourages this footgun, sadly.\r\n\r\nSee [here](https://github.com/isocpp/CppCoreGuidelines/issues/1272) for a discussion about inverting the language.\r\n\r\n",
      "created_at": "2024-09-27T18:54:25Z",
      "updated_at": "2024-09-27T18:54:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1779026190",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779026190"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 214,
      "original_line": 214,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779040288",
      "pull_request_review_id": 2334447782,
      "id": 1779040288,
      "node_id": "PRRC_kwDOABII585qCgAg",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n-                now = std::chrono::steady_clock::now();\n-                if (now >= deadline) break;\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));\n-            }\n+            notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\n+                return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;",
      "path": "src/node/interfaces.cpp",
      "position": 37,
      "original_position": 19,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "in_reply_to_id": 1778162781,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Either approach seems ok. I probably wouldn't have added the null check, but it does a provide a small convenience if miner is running while the node is restarted, since waitTipChanged will patiently wait for startup to complete and a new block to be connected, instead of returning 0 on the first waitTipChanged call and requiring the miner to make a second call.\r\n\r\nWhether we keep this check or drop it, it would probably be good to update the `waitTipChanged` documentation for the method to say that it either returns 0 on startup (if null check is dropped) or waits for the first block to be connected on startup (if null check is kept).",
      "created_at": "2024-09-27T19:05:10Z",
      "updated_at": "2024-09-27T19:05:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1779040288",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779040288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 947,
      "original_line": 947,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779056857",
      "pull_request_review_id": 2334477045,
      "id": 1779056857,
      "node_id": "PRRC_kwDOABII585qCkDZ",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n-                now = std::chrono::steady_clock::now();\n-                if (now >= deadline) break;\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));\n-            }\n+            notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\n+                return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;",
      "path": "src/node/interfaces.cpp",
      "position": 37,
      "original_position": 19,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "in_reply_to_id": 1778162781,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1778162781\r\n\r\n> In terms of how the Template Provider works, it used to rely on this check, but now it just waits for `getTip()` to return a value before calling `waitTipChanged()`. .\r\n> \r\n> When implemented as part of Bitcoin Core, as in #29432, it can't call `waitTipChanged()` earlier, because it has no way of knowing what to set for `current_tip`.\r\n\r\nI may be misunderstanding, but this doesn't seem right to me. If a caller just wants to know when a new block is connected it shouldn't need to call  `getTip()` in a loop until it returns non-null before calling `waitTipChanged()`, if that is what this comment is saying. The code should just be able to call `waitTipChanged()` with the zero value, which will return as soon as node is started and it knows what the tip is. (But I do agree with Marco it might be better to make let waitTipChanged() take a std::optional hash and not treat 0 as special). If this doesn't work, it suggests there could be a bug and code is not setting `m_tip_block` reliably.\r\n",
      "created_at": "2024-09-27T19:18:29Z",
      "updated_at": "2024-09-27T19:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1779056857",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1779056857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 947,
      "original_line": 947,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1780728018",
      "pull_request_review_id": 2336863288,
      "id": 1780728018,
      "node_id": "PRRC_kwDOABII585qI8DS",
      "diff_hunk": "@@ -205,7 +205,14 @@ void InitContext(NodeContext& node)\n     g_shutdown.emplace();\n \n     node.args = &gArgs;\n-    node.shutdown = &*g_shutdown;\n+    node.shutdown_signal = &*g_shutdown;\n+    node.shutdown_request = [&node] {\n+        assert(node.shutdown_signal);\n+        if (!(*node.shutdown_signal)()) return false;\n+        // Wake any threads that may be waiting for the tip to change.",
      "path": "src/init.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "cccc5b19fba6d04e586f59bff5f5b2cdef3dffba",
      "in_reply_to_id": 1778899716,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wonder if there is any value in premature optimization. I agree the above suggested patch is correct and required. However, just taking the condition variable under the same mutex and keeping the lock while notifying seems easier to enforce with clang thread safety annotations than manual review. The only other place that notifies is already taking the lock on *every* block-connect to `notify_all`, so doing it here *once* more during shutdown shouldn't be noticeable either way.",
      "created_at": "2024-09-30T09:15:55Z",
      "updated_at": "2024-09-30T09:15:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1780728018",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1780728018"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 214,
      "original_line": 214,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1780802968",
      "pull_request_review_id": 2336987068,
      "id": 1780802968,
      "node_id": "PRRC_kwDOABII585qJOWY",
      "diff_hunk": "@@ -205,7 +205,14 @@ void InitContext(NodeContext& node)\n     g_shutdown.emplace();\n \n     node.args = &gArgs;\n-    node.shutdown = &*g_shutdown;\n+    node.shutdown_signal = &*g_shutdown;\n+    node.shutdown_request = [&node] {\n+        assert(node.shutdown_signal);\n+        if (!(*node.shutdown_signal)()) return false;\n+        // Wake any threads that may be waiting for the tip to change.",
      "path": "src/init.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "cccc5b19fba6d04e586f59bff5f5b2cdef3dffba",
      "in_reply_to_id": 1778899716,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added commit fa3ad1da70 bugfix: Mark m_tip_block_cv as guarded by m_tip_block_mutex\r\n\r\n\r\n<!-- https://godbolt.org/z/4cEKh3qb8",
      "created_at": "2024-09-30T10:07:59Z",
      "updated_at": "2024-09-30T10:16:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1780802968",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1780802968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 214,
      "original_line": 214,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1780804362",
      "pull_request_review_id": 2336989070,
      "id": 1780804362,
      "node_id": "PRRC_kwDOABII585qJOsK",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n-                now = std::chrono::steady_clock::now();\n-                if (now >= deadline) break;\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));\n-            }\n+            notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\n+                return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;",
      "path": "src/node/interfaces.cpp",
      "position": 37,
      "original_position": 19,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "in_reply_to_id": 1778162781,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> documentation\r\n\r\nUpdated the `m_tip_block` and `waitTipChanged` docs.",
      "created_at": "2024-09-30T10:08:57Z",
      "updated_at": "2024-09-30T10:13:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1780804362",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1780804362"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 947,
      "original_line": 947,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787471881",
      "pull_request_review_id": 2347646936,
      "id": 1787471881,
      "node_id": "PRRC_kwDOABII585qiqgJ",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono\n         {\n             WAIT_LOCK(notifications().m_tip_block_mutex, lock);\n-            while ((notifications().m_tip_block == uint256() || notifications().m_tip_block == current_tip) && !chainman().m_interrupt) {\n-                now = std::chrono::steady_clock::now();\n-                if (now >= deadline) break;\n-                notifications().m_tip_block_cv.wait_until(lock, std::min(deadline, now + tick));\n-            }\n+            notifications().m_tip_block_cv.wait_for(lock, timeout, [&]() EXCLUSIVE_LOCKS_REQUIRED(notifications().m_tip_block_mutex) {\n+                return (notifications().m_tip_block != current_tip && notifications().m_tip_block != uint256::ZERO) || chainman().m_interrupt;",
      "path": "src/node/interfaces.cpp",
      "position": 37,
      "original_position": 19,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "444424b96deef72780f617d1dbab844a2c9d72ab",
      "in_reply_to_id": 1778162781,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> The code should just be able to call `waitTipChanged()` with the zero value, which will return as soon as node is started and it knows what the tip is.\r\n\r\nThat indeed seems like a better approach, will change that for the TP.",
      "created_at": "2024-10-04T09:54:38Z",
      "updated_at": "2024-10-04T09:54:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1787471881",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787471881"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 947,
      "original_line": 947,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1790497695",
      "pull_request_review_id": 2352371969,
      "id": 1790497695,
      "node_id": "PRRC_kwDOABII585quNOf",
      "diff_hunk": "@@ -35,8 +32,8 @@ static constexpr int DEFAULT_STOPATHEIGHT{0};\n class KernelNotifications : public kernel::Notifications\n {\n public:\n-    KernelNotifications(util::SignalInterrupt& shutdown, std::atomic<int>& exit_status, node::Warnings& warnings)\n-        : m_shutdown(shutdown), m_exit_status{exit_status}, m_warnings{warnings} {}\n+    KernelNotifications(const std::function<bool()>& shutdown_request, std::atomic<int>& exit_status, node::Warnings& warnings)\n+        : m_shutdown_request(shutdown_request), m_exit_status{exit_status}, m_warnings{warnings} {}",
      "path": "src/node/kernel_notifications.h",
      "position": 26,
      "original_position": 26,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "5ca28ef28bcca1775ff49921fc2528d9439b71ab",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: The other arguments are using curly braces, is this using parentheses on purpose?",
      "created_at": "2024-10-07T16:01:54Z",
      "updated_at": "2024-10-07T16:23:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1790497695",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1790497695"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1790519737",
      "pull_request_review_id": 2352371969,
      "id": 1790519737,
      "node_id": "PRRC_kwDOABII585quSm5",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono",
      "path": "src/node/interfaces.cpp",
      "position": 28,
      "original_position": 10,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: This `if` statement is a bit tricky to read, because of the open braces on the next line. How about adding whitespace, or adding braces to the if statement?",
      "created_at": "2024-10-07T16:13:28Z",
      "updated_at": "2024-10-07T16:23:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1790519737",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1790519737"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 943,
      "original_line": 943,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1791551628",
      "pull_request_review_id": 2353965870,
      "id": 1791551628,
      "node_id": "PRRC_kwDOABII585qyOiM",
      "diff_hunk": "@@ -35,8 +32,8 @@ static constexpr int DEFAULT_STOPATHEIGHT{0};\n class KernelNotifications : public kernel::Notifications\n {\n public:\n-    KernelNotifications(util::SignalInterrupt& shutdown, std::atomic<int>& exit_status, node::Warnings& warnings)\n-        : m_shutdown(shutdown), m_exit_status{exit_status}, m_warnings{warnings} {}\n+    KernelNotifications(const std::function<bool()>& shutdown_request, std::atomic<int>& exit_status, node::Warnings& warnings)\n+        : m_shutdown_request(shutdown_request), m_exit_status{exit_status}, m_warnings{warnings} {}",
      "path": "src/node/kernel_notifications.h",
      "position": 26,
      "original_position": 26,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "5ca28ef28bcca1775ff49921fc2528d9439b71ab",
      "in_reply_to_id": 1790497695,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will change if I have to re-touch",
      "created_at": "2024-10-08T09:39:34Z",
      "updated_at": "2024-10-08T09:39:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1791551628",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1791551628"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1791551736",
      "pull_request_review_id": 2353966024,
      "id": 1791551736,
      "node_id": "PRRC_kwDOABII585qyOj4",
      "diff_hunk": "@@ -940,19 +940,12 @@ class MinerImpl : public Mining\n \n     BlockRef waitTipChanged(uint256 current_tip, MillisecondsDouble timeout) override\n     {\n-        // Interrupt check interval\n-        const MillisecondsDouble tick{1000};\n-        auto now{std::chrono::steady_clock::now()};\n-        auto deadline = now + timeout;\n-        // std::chrono does not check against overflow\n-        if (deadline < now) deadline = std::chrono::steady_clock::time_point::max();\n+        if (timeout > std::chrono::years{100}) timeout = std::chrono::years{100}; // Upper bound to avoid UB in std::chrono",
      "path": "src/node/interfaces.cpp",
      "position": 28,
      "original_position": 10,
      "commit_id": "fa22e5c430acaef9713d9a4b4b97bb3f4876f816",
      "original_commit_id": "fa7f52af1a47ebe3d1bc00e3bac70bf9f6fa769b",
      "in_reply_to_id": 1790519737,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will change if I have to re-touch",
      "created_at": "2024-10-08T09:39:38Z",
      "updated_at": "2024-10-08T09:39:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30967#discussion_r1791551736",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1791551736"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30967"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 943,
      "original_line": 943,
      "side": "RIGHT"
    }
  ]
}