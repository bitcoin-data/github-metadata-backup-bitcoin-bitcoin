{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32326",
    "id": 2473809437,
    "node_id": "PR_kwDOABII586Tc1Yd",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32326",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32326.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32326.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32326",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32326/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32326/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32326/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/1e415d2cb703fcd1b622e5343fa264425601c8df",
    "number": 32326,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "net: improve the interface around FindNode() and avoid a recursive mutex lock",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "`CConnman::FindNode()` would lock `m_nodes_mutex`, find the node in `m_nodes`, release the mutex and return the node. The current code is safe but it is a dangerous interface where a caller may end up using the node returned from `FindNode()` without owning `m_nodes_mutex` and without having that node's reference count incremented.\r\n\r\nChange `FindNode()` to return a boolean since all but one of its callers used its return value to check whether a node exists and did not do anything else with the return value.\r\n\r\nRemove a recursive lock on `m_nodes_mutex`.\r\n\r\nRename `FindNode()` to better describe what it does.\r\n\r\n",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2025-04-22T14:36:28Z",
    "updated_at": "2025-04-22T14:59:35Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "436b52e939a992a0131c15d742aba3744e6c67b5",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "vasild:findnode",
      "ref": "findnode",
      "sha": "1e415d2cb703fcd1b622e5343fa264425601c8df",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 6,
        "watchers_count": 6,
        "size": 255748,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-22T14:09:34Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2025-04-22T08:55:13Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "96a5cd8000d2b500585834277cc5f5e23181a6f3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37098,
        "stargazers_count": 83001,
        "watchers_count": 83001,
        "size": 280225,
        "default_branch": "master",
        "open_issues_count": 705,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-22T12:16:11Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-04-22T14:12:06Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32326"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 36,
    "deletions": 38,
    "changed_files": 2,
    "commits": 3,
    "review_comments": 1,
    "comments": 2
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDllNjU3MzU4MjcxZTdhMDQ1Y2U3ZmZlYWVmMDUwYzY2ZGRlMTc1MGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e657358271e7a045ce7ffeaef050c66dde1750b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9e657358271e7a045ce7ffeaef050c66dde1750b",
      "tree": {
        "sha": "25bd7a21ef9ce23823e5d0752b7f21fc8a5f3067",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/25bd7a21ef9ce23823e5d0752b7f21fc8a5f3067"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 25bd7a21ef9ce23823e5d0752b7f21fc8a5f3067\nparent 06439a14c884d7f81f331646ad361e88b3037a51\nauthor Vasil Dimov <vd@FreeBSD.org> 1745316932 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1745328570 +0200\n\nnet: get AlreadyConnectedToAddress() to iterate the nodes itself\n\nPreviously `CConnman::AlreadyConnectedToAddress()` used two calls to\n`CConnman::FindNode()`. However that iterates the nodes two times which\nis inefficient and this was the only caller of\n`CConnman::FindNode(const CNetAddr&)`.\n\nSo, drop that `FindNode()` method and iterate the nodes inside\n`CConnman::AlreadyConnectedToAddress()`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmgHmbwACgkQVN8G9ktV\ny7+rsR//V3mhO+RKG6+zxsOYpueEbbq0POTwrU0xXCK2eHS8I4pJzeTWCv0pZCRP\nbhK3hw9vxbqV7LtThHrAziKSVvzp+iyr8mD09bycH6psUQbj51vkOrHiwkpqagGT\n/qE0yjMbX65etV6PH9hwgcismvqbUgxl1AGXHU7ICo6o8d0NtbCAG8SfRQWTnALa\ncJWYjFkcSRAOFLrJIHBxZkar+rf705t2OWNgA0ur4ZqpeSj55ssgNrEh3Q3j4Ssh\nQvNeKTR9ctKyXIRAEXhBH5Y6lQE819b5JweidYvdTdT1atb5cmBWjKUnZLtaSUUd\noIFiTElS6lxMmHQ5xMEnrk/w3ykRw0pcIxnapJNssZ4uIMAKXSYlLYA2qlkAddiB\ne29SrwT6b+pDu7yCcX7wdMkFakBfyNDBa1LOllwjCrRsl63loBEO4LuWVhfAxjTt\nhg3BfAZrTLA+4J9n3PlXJ2niSUP2jbFhvjpGryWS3vBG8V2GG9qZEIeu0UZ3AUX4\nQoJ7/c+ZpzvH0MFkRzdXPKjYdGDnW4OuSikSknBT2fqAPnFj65asUSO8clSLWvRC\nk7NqxoJtTK2yF773mr9b/TZ8gavostmsyRt0m7TfS55LL1P491XcrGJ3C2unhMRE\nGl6RfAHT+mbWuQmcM6lpIly5GKYK5rBLVz7Jm/sZ37wxKcTL5kgMptLUEeIs9sw7\nq/5Sk9Oi5AcRNrnEx6j++4pNgq8w+f/axdZp55NMMPSL3Ubs9gEdRhQkRj1DObNY\nvi90/n68WZOjN9JwqdwNRSHVg3lT2biGXJMAchWQgCnwKySTcB411ghuReE14n1l\nJwhj0DydQbNa/un81qGSQmFWcSYmp+d0SfIVjMVILZeNN4PtDDmiNg8f3k5cwQ+X\nwApTjFGxCzOx4wlwr53q2E0vx4H8k1KTcc+Oh8safvIm+JTufGScFYenk7Gw2/Br\nSeaY/+FRfNy4cta78xL8OyM8BQuzT2d1W7TcEUWXk/M64CzcREOqKmjj/syF/vuI\nffevbiNFelnBwnQUFgQqNnQrskR9m6Z2M5K7ztO5jDAezB1P8S8WDFg6YEVtPkkQ\n0MOuV8gKnNYjN0/of/L+mHAO6hPv7qDaSpI4yWjh0HJBvuYAA+r1uKhIH/mL6mjM\nmENGYOdIVN7fORbnQ+/GQazhnALZ2PFUjjXie8rP/Kwv0n+n6XDzTXxKs6CEzOyY\nxjLusLoJUoA65iv3w/2rN8lK0h4yaSanYsNrHkfqo2Q4KzNH0V1oHDGyPjrktwIN\nJ8NughpbyAn3ZRY3jt0kveSaz+8twYfl40HR0ucjKq55ONhl8/4GG5+VSQuKqs13\nl8IUW4Art6DVUmCxu1Q8ktF4jW7vyg==\n=NMx2\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06439a14c884d7f81f331646ad361e88b3037a51",
          "sha": "06439a14c884d7f81f331646ad361e88b3037a51",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/06439a14c884d7f81f331646ad361e88b3037a51"
        }
      ],
      "message": "net: get AlreadyConnectedToAddress() to iterate the nodes itself\n\nPreviously `CConnman::AlreadyConnectedToAddress()` used two calls to\n`CConnman::FindNode()`. However that iterates the nodes two times which\nis inefficient and this was the only caller of\n`CConnman::FindNode(const CNetAddr&)`.\n\nSo, drop that `FindNode()` method and iterate the nodes inside\n`CConnman::AlreadyConnectedToAddress()`.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-04-22T13:29:30Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-04-22T10:15:32Z"
      },
      "sha": "9e657358271e7a045ce7ffeaef050c66dde1750b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQwNDI3YzJmZmYzYjNjMjhjMjRmZjA4OGNmNzI0MmUzMTdlZTlhNzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d0427c2fff3b3c28c24ff088cf7242e317ee9a74",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d0427c2fff3b3c28c24ff088cf7242e317ee9a74",
      "tree": {
        "sha": "259dcac2f4fd48abe01588dc84d5e2b86e24cb6a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/259dcac2f4fd48abe01588dc84d5e2b86e24cb6a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 259dcac2f4fd48abe01588dc84d5e2b86e24cb6a\nparent 9e657358271e7a045ce7ffeaef050c66dde1750b\nauthor Vasil Dimov <vd@FreeBSD.org> 1745317954 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1745330421 +0200\n\nnet: avoid recursive m_nodes_mutex lock in DisconnectNode()\n\nHave `CConnman::DisconnectNode()` iterate `m_nodes` itself instead of\nusing `FindNode()`. This avoids recursive mutex lock and drops the only\ncaller of `FindNode()` which used the return value for something else\nthan a boolean found/notfound.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmgHoPYACgkQVN8G9ktV\ny78BbR/+Lj9by0GtY3ED6XWArPeIdPNxZrtU89N7nIpah4ILWmWkLjPJy6EyPkVn\nWe+gnYBVtrMDQ/VCfVJW0r4fpB9/bVADLrTCq3N+sWO2IsJiVpvgajr+bZudE0VZ\nkshMkfwvi+QZ+XigqTBBjmzv9eI9DuPguopVuBj5uhCh/0DxGWUpbExrkbKoBknW\ndjcu61EYp8zLcUphDwTrV+Xf9tgI44a1o/zHBqfLeaA+A82eGKzsAn3zeNGm3lyY\nC0lus2n4NhC0iSbBaT/gTCDUJ35eUrju+sUe2X0B+7MOpdtzXU03kLw+fvL15m6q\nVl3pKk3DElBjwIWFuIth4F6XKkUGi3d2HIJIR6E0N9Pe7+Qfr9rOHb4A91AeG7Zq\n7KdkqiuSfOXKknLYxD+oRVem/VPcNbOMzZWhD6xCI+QkaAMp09wpfxj3mMvXujF4\n58p/cb0r3H+pu3zbc07fyvxa0bCEuahnsrqigrG6hDPTEHpt1SyeQSlBnjKqr3zX\n6c7peWYYXxt3MiyKhdcnwkWgb+9rveDdV8hCTta69x5WzZioJJdgp1gagGI4PjAw\nKtv7e8MBMJSXyBW3dJsR7gTxxGhvL3g0vjyUqcwb5LeFCK/AyPE8XmBAjBYmU6/e\nHFI8Qymiq24RYYaOInKQ/Xh+q9qlC75S2xenRqqbGwYBT9915Y/59Y1t063Fb8sh\nUJRpOmlm0MD5eWUrF/RevrGhccyCp+uPt97VcuqRe47Uqz3r1t2UwATAJm8P7Kgl\nBqd+1jAMq2Sa/1yLUZdLkw/VJso59GZFX5A8oUfSm9i9eRoZicIL8feKijqf/wPD\nzCNpn7U1ieO4PzEXchhTQq2IFAeskz/gT3/DG7Js1JXdSkmQX1HLz2hAMisdrnDo\nuUjjzPj3+Pfjo0vMbNh0dKpfZUuI3EtDk9/cV/jIxj5IZ7x1NuWH+OTIEZrbs1RN\nrjm6ggSXvGSrpmtjEqCaTggQDNthKM0iuKyfBa1prC5c2v3zGASeB8u77WnwBcFi\nS1o1M7a7VbW4vdNj7/uqoyFml+SRHN6uKopwt5XRdkRO4/UQcikp8XjSQMTgOQGB\nft5xalLSwziv6ueinblCmbZd/efOnhTQgIWmiR7frZOXPHJOUtsv6yruE0jET1vl\nsBvuYfuEhcP7W3Hw+4MOyb0R2Qn0sHpxzUKmAoQ4GxGadIqeMqSNKGV530X/tQbI\nHfjvHHrlMuo1Vyf3TmSVpfb4g2xSzw8rhAx8NowdHRRAKTqfKOxaAXkvnWaWMtug\nv5Tz8UijPpo/f1IdUz/+yKN2ZEe74rcKDhoVjP4AjS0jROM2os9Sq3/Oso4oshtn\nCWF9D2N1KWmMQNDQpjzNdI0svgvUlw==\n=7HJi\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e657358271e7a045ce7ffeaef050c66dde1750b",
          "sha": "9e657358271e7a045ce7ffeaef050c66dde1750b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9e657358271e7a045ce7ffeaef050c66dde1750b"
        }
      ],
      "message": "net: avoid recursive m_nodes_mutex lock in DisconnectNode()\n\nHave `CConnman::DisconnectNode()` iterate `m_nodes` itself instead of\nusing `FindNode()`. This avoids recursive mutex lock and drops the only\ncaller of `FindNode()` which used the return value for something else\nthan a boolean found/notfound.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-04-22T14:00:21Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-04-22T10:32:34Z"
      },
      "sha": "d0427c2fff3b3c28c24ff088cf7242e317ee9a74"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlNDE1ZDJjYjcwM2ZjZDFiNjIyZTUzNDNmYTI2NDQyNTYwMWM4ZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e415d2cb703fcd1b622e5343fa264425601c8df",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1e415d2cb703fcd1b622e5343fa264425601c8df",
      "tree": {
        "sha": "b514a5bad2b4ac4facc207f40d3e43757f1c14e9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b514a5bad2b4ac4facc207f40d3e43757f1c14e9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b514a5bad2b4ac4facc207f40d3e43757f1c14e9\nparent d0427c2fff3b3c28c24ff088cf7242e317ee9a74\nauthor Vasil Dimov <vd@FreeBSD.org> 1745327856 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1745330911 +0200\n\nnet: change FindNode() to not return a node and rename it\n\nAll callers of `CConnman::FindNode()` use its return value `CNode*` only\nas a boolean null/notnull. So change that method to return `bool`.\n\nThis removes the dangerous pattern of handling a `CNode` object (the\nreturn value of `FindNode()`) without holding `CConnman::m_nodes_mutex`\nand without having that object's reference count incremented for the\nduration of the usage.\n\nAlso rename the method to better describe what it does.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmgHoxsACgkQVN8G9ktV\ny7/XnR//Qc0xrjyu904LRBvIusz180r8xgm4JyuwJozF4kCwlNAgvpkxBHBwpAyv\nUZDAQhBWDRzTeZPmEoFFpAWcaqiycAVV4WPkc5oyCT+jW0NEN5BadZmLBgxcABuN\nUk6rVZpQ6vV/BWIZe1E5DoklcWaXkQi/51/OwsWS6NsZ/gG8+INY0zyK+3DWuat7\nyBO3wvrD989ahQ0wS8Jgix368SvpREq0SRCbaNUYfXLpbe8vbnC31OIR+pQpQtV9\n4/vPe12nb6jkZzIGhglJQL9Hpkm+NHszL74F8cm0cDZ8iWb1Q36t0SuhpNlsLNMV\nklQCLgSJx19in5zguoHYx5Hvba6Pv0UD+KlBQIiuw+hv3atLDNBxEtdhRDyJ7iCt\nbUwhqWcwQoGt5rTN8lNWEqiSvuQaG4NrrfEua/Z/nX01/2K6dGRO4aWnKCIGpFaN\nVdff6sQq+bn/20O5OL8cw0VRBrmIN4hzeUIzw3qFgU19romzt0WbLXAVk6cwTbUi\nYE8EQx61k6e/DzvmMhj6rGkiXSMr75pMgDaBduVRLndwyee/e+u0CyptW7mubpi+\nQatGEY9o4iZAs/igjF92qEGoVukPL63ArYVdeYxCQImVaAuq+kiudoJK/kAiYY1y\nP7q2gUi0piyFLSzMTYpoZvsYnDw6grHHs7OMqJmCFEUi0Td1C1MZHyV8jT1EN1QU\nnw4olyyjwEt7VD+Whby4tF3dRK7O2pFfYW+B0HQNtvK0S3jM4ndjilfcwpWuAsCa\nU2hjvHgpKu2d25M4CRc+NaTWUnJJr7PUkFcDEuWUM8MjmVhsMQoJZ1+AiVa2in3a\nViN/0pgsDTIdnMG08dul+HpreWDNWhj6twTCFaIeQHZXOk/rgBLFMbx+vwQGzHji\nMC/uoG2UrOBmS/ZU7hbhL1bFyMXOFb6aM0IE3X0vylQ/4u7NO40I8s+fq7vg+IPa\nZLizaSqz2kPAEMAhomHS9aZ9Xw+qa542uvxT6kNP3yf3dFE0NDGagSqEVgtDLhKI\nyzBgn5vIHtXCrzRsPHbWelnPT94vlHetxyycmeQ6RhD3UkcBlFo6Q+Pa4ZWnU4uW\nE3HbjqOtO+J+eWusBllxbcRCL/nnVUubt2L819r6SRtQ4lAygCSIRIguwvkot0IM\nrJsnssQWXND3Z1qAIPix3XWOC9p6fctkkQtVekkTFDVfVYRQZ/S6Fo1J0GDy5J6L\ntQTDo5Im8adZAvJAKPivedgloO05FxaJjuOYK35Tn0UvcqL07TGL4SjssiGoQwVY\nHUJmveUMHd5SN0MxPMQ47OT+vX9dFoILZ0D/BhYbnNrpnHnKBo4FqiTiMK4/BSYP\nCCGFQnEedHcuR1CK04A0kX5giFKQDw==\n=wD6g\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d0427c2fff3b3c28c24ff088cf7242e317ee9a74",
          "sha": "d0427c2fff3b3c28c24ff088cf7242e317ee9a74",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d0427c2fff3b3c28c24ff088cf7242e317ee9a74"
        }
      ],
      "message": "net: change FindNode() to not return a node and rename it\n\nAll callers of `CConnman::FindNode()` use its return value `CNode*` only\nas a boolean null/notnull. So change that method to return `bool`.\n\nThis removes the dangerous pattern of handling a `CNode` object (the\nreturn value of `FindNode()`) without holding `CConnman::m_nodes_mutex`\nand without having that object's reference count incremented for the\nduration of the usage.\n\nAlso rename the method to better describe what it does.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-04-22T14:08:31Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-04-22T13:17:36Z"
      },
      "sha": "1e415d2cb703fcd1b622e5343fa264425601c8df"
    },
    {
      "event": "commented",
      "id": 2821549480,
      "node_id": "IC_kwDOABII586oLW2o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2821549480",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-22T14:36:32Z",
      "updated_at": "2025-04-22T14:36:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32326.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32326#issuecomment-2821549480",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32326"
    },
    {
      "event": "labeled",
      "id": 17355212893,
      "node_id": "LE_lADOABII586zfK20zwAAAAQKc4hd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17355212893",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-22T14:36:43Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "labeled",
      "id": 17355559777,
      "node_id": "LE_lADOABII586zfK20zwAAAAQKeNNh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17355559777",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-22T14:57:02Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2821611865,
      "node_id": "IC_kwDOABII586oLmFZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2821611865",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-22T14:57:03Z",
      "updated_at": "2025-04-22T14:57:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/40947126551</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32326#issuecomment-2821611865",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32326"
    },
    {
      "event": "reviewed",
      "id": 2784433178,
      "node_id": "PRR_kwDOABII586l9xQa",
      "url": null,
      "actor": null,
      "commit_id": "1e415d2cb703fcd1b622e5343fa264425601c8df",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32326#pullrequestreview-2784433178",
      "submitted_at": "2025-04-22T14:59:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32326"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2054309204",
      "pull_request_review_id": 2784433178,
      "id": 2054309204,
      "node_id": "PRRC_kwDOABII5856ckVU",
      "diff_hunk": "@@ -404,10 +389,8 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n             return nullptr;\n \n         // Look for an existing connection\n-        CNode* pnode = FindNode(static_cast<CService>(addrConnect));\n-        if (pnode)\n-        {\n-            LogPrintf(\"Failed to open new connection, already connected\\n\");\n+        if (OutboundConnectedToService(addrConnect)) {",
      "path": "src/net.cpp",
      "position": 62,
      "original_position": 62,
      "commit_id": "1e415d2cb703fcd1b622e5343fa264425601c8df",
      "original_commit_id": "1e415d2cb703fcd1b622e5343fa264425601c8df",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This rename makes obvious that maybe something is wrong in the current code in `master`. Is the intention really to ignore inbound connections when, according to the comment we intent to \"Look for an existing connection\"?\r\n\r\nFor example, if `1.1.1.1` connects to `2.2.2.2:8333`, then the TCP connection will look like:\r\n`1.1.1.1:53481 <-> 2.2.2.2:8333` where `53481` is a random port picked by the initiator's OS. Now, if `2.2.2.2` intends to connect to `1.1.1.1:8333` then this check will return false because `1.1.1.1:53481` is not `1.1.1.1:8333` and the code will proceed with connecting.\r\n\r\nIs this really the intention? Shouldn't this check ignore the port?",
      "created_at": "2025-04-22T14:59:28Z",
      "updated_at": "2025-04-22T14:59:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32326#discussion_r2054309204",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2054309204"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32326"
        }
      },
      "start_line": 391,
      "original_start_line": 391,
      "start_side": "RIGHT",
      "line": 392,
      "original_line": 392,
      "side": "RIGHT"
    }
  ]
}