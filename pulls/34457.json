{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457",
    "id": 3226824452,
    "node_id": "PR_kwDOABII587AVW8E",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34457",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34457.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34457.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/3645cccf8ade879381bd3c9f2f5196e66510006e",
    "number": 34457,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: add private broadcast support for wallet transactions",
    "user": {
      "login": "w0xlt",
      "id": 94266259,
      "node_id": "U_kgDOBZ5jkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/w0xlt",
      "html_url": "https://github.com/w0xlt",
      "followers_url": "https://api.github.com/users/w0xlt/followers",
      "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
      "organizations_url": "https://api.github.com/users/w0xlt/orgs",
      "repos_url": "https://api.github.com/users/w0xlt/repos",
      "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/w0xlt/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "## Summary\r\n\r\nExtends the private broadcast feature (#29415) to wallet transactions. When `-privatebroadcast=1` is enabled, wallet RPCs (`sendtoaddress`, `send`, `sendall`, `sendmany`) now broadcast transactions through short-lived Tor/I2P connections instead of announcing to all connected peers.\r\n\r\n## Key Changes\r\n\r\n**Centralized availability check** (commit 1)\r\n- Moves the Tor/I2P reachability check from `sendrawtransaction` RPC to `BroadcastTransaction()`\r\n- All broadcast callers now get consistent error handling\r\n\r\n**Wallet integration** (commit 2)\r\n- `CommitTransaction()`: Uses private broadcast when enabled, fails loudly if Tor/I2P unavailable\r\n- `ResubmitWalletTransactions()`: Rebroadcasts using the original broadcast method\r\n- Persists a `private_broadcast` flag in the wallet transaction's `mapValue`\r\n\r\n**Functional tests** (commits 3-4)\r\n- Tests wallet send via SOCKS5 proxy\r\n- Tests flag persistence across restarts\r\n- Tests error handling when Tor/I2P unavailable\r\n\r\n## Behavior Matrix\r\n\r\n| Scenario | TX Flag | Node Setting | Expected Behavior | Tested |\r\n|----------|---------------|--------------|-------------------|--------|\r\n| New tx | Private | - | Via SOCKS5, flag set | Test 1 ✓ |\r\n| Resubmit | Private | Public | Skip | Test 2 ✓ |\r\n| Resubmit | Public | Private | Skip | Test 3 ✓ |\r\n| Resubmit | Private | Private | Rebroadcast | Test 3 ✓ |\r\n| New tx | Private | - (no Tor) | RPC error | Test 4 ✓ |\r\n| Resubmit | Private | Private (no Tor) | Log error | Test 4 ✓ |\r\n\r\n**Why skip on mode mismatch?** Rebroadcasting via a different method than originally used may allow correlation of transaction to origin, or may indicate origin has `-privatebroadcast` enabled.\r\n",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2026-01-30T08:06:34Z",
    "updated_at": "2026-02-12T10:13:58Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "b71558a4f8ba5697ed1021b1b059f19b4986a1cf",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "w0xlt:wprv_29012",
      "ref": "wprv_29012",
      "sha": "3645cccf8ade879381bd3c9f2f5196e66510006e",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 427811926,
        "node_id": "R_kgDOGX_kVg",
        "name": "bitcoin",
        "full_name": "w0xlt/bitcoin",
        "owner": {
          "login": "w0xlt",
          "id": 94266259,
          "node_id": "U_kgDOBZ5jkw",
          "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/w0xlt",
          "html_url": "https://github.com/w0xlt",
          "followers_url": "https://api.github.com/users/w0xlt/followers",
          "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
          "organizations_url": "https://api.github.com/users/w0xlt/orgs",
          "repos_url": "https://api.github.com/users/w0xlt/repos",
          "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/w0xlt/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/w0xlt/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/w0xlt/bitcoin",
        "archive_url": "https://api.github.com/repos/w0xlt/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/w0xlt/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/w0xlt/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/w0xlt/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/w0xlt/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/w0xlt/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/w0xlt/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/w0xlt/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/w0xlt/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/w0xlt/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/w0xlt/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/w0xlt/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/w0xlt/bitcoin/events",
        "forks_url": "https://api.github.com/repos/w0xlt/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/w0xlt/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/w0xlt/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/w0xlt/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/w0xlt/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/w0xlt/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/w0xlt/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/w0xlt/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/w0xlt/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/w0xlt/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/w0xlt/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/w0xlt/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/w0xlt/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/w0xlt/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/w0xlt/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/w0xlt/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:w0xlt/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/w0xlt/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/w0xlt/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/w0xlt/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/w0xlt/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/w0xlt/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/w0xlt/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/w0xlt/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/w0xlt/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/w0xlt/bitcoin/hooks",
        "svn_url": "https://github.com/w0xlt/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 6,
        "watchers_count": 6,
        "size": 294681,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-11T02:04:51Z",
        "created_at": "2021-11-14T01:34:01Z",
        "updated_at": "2026-01-15T17:28:29Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "b2805eec35ce9fdb69892e864556be4ae057ce6a",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38902,
        "stargazers_count": 88084,
        "watchers_count": 88084,
        "size": 303642,
        "default_branch": "master",
        "open_issues_count": 729,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-12T09:43:32Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-02-12T10:44:33Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 666,
    "deletions": 47,
    "changed_files": 12,
    "commits": 4,
    "review_comments": 2,
    "comments": 10
  },
  "events": [
    {
      "event": "labeled",
      "id": 22400339766,
      "node_id": "LE_lADOABII587m8MPMzwAAAAU3Kg82",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22400339766",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T08:06:37Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 3822404956,
      "node_id": "IC_kwDOABII587j1UVc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3822404956",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T08:07:27Z",
      "updated_at": "2026-02-12T10:13:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [andrewtoth](https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3825847879), [Bicaru20](https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3886940981) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34533](https://github.com/bitcoin/bitcoin/pull/34533) (wallet: resubmit transactions with private broadcast if enabled by vasild)\n* [#34410](https://github.com/bitcoin/bitcoin/pull/34410) (test: let connections happen in any order in p2p_private_broadcast.py by vasild)\n* [#34038](https://github.com/bitcoin/bitcoin/pull/34038) (logging: replace -loglevel with -trace, various API improvements by ajtowns)\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n* [#32763](https://github.com/bitcoin/bitcoin/pull/32763) (wallet: Replace CWalletTx::mapValue and vOrderForm with explicit class members by achow101)\n* [#30343](https://github.com/bitcoin/bitcoin/pull/30343) (wallet, logging: Replace WalletLogPrintf() with LogInfo() by ryanofsky)\n* [#29278](https://github.com/bitcoin/bitcoin/pull/29278) (Wallet:  Add `maxfeerate` wallet startup option by ismaelsadeeq)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (✨ experimental)\n\n\n\nPossible places where named args for integral literals may be used (e.g. `func(x, /*named_arg=*/0)` in C++, and `func(x, named_arg=0)` in Python):\n\n- assert_raises_rpc_error(-1, \"none of the Tor or I2P networks is reachable\", self.sender_wallet.sendtoaddress, dest, 0.1) in test/functional/wallet_private_broadcast.py\n\n\n\n<sup>2026-02-07 18:54:56</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3822404956",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "labeled",
      "id": 22401260333,
      "node_id": "LE_lADOABII587m8MPMzwAAAAU3OBst",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22401260333",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T08:48:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3825847879,
      "node_id": "IC_kwDOABII587kCc5H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3825847879",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T21:29:38Z",
      "updated_at": "2026-01-30T21:29:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI don't think we need to skip rebroadcast if we initially created the transaction with private broadcast disabled. This is only important the other way - if we initially broadcast via private broadcast, but then restart with private broadcast disabled.\r\n\r\n> may indicate origin has -privatebroadcast enabled.\r\n\r\nIdeally every node has this enabled in the future. But also, one cannot conclude this if they receive a tx both from a persistently connected node and then later via a private broadcast. This would actually make the original broadcast more private, since this would indicate that perhaps the originator is not actually the originator.\r\n\r\nSending decoys will also help here.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3825847879",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22423576437,
      "node_id": "HRFPE_lADOABII587m8MPMzwAAAAU4jJ91",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22423576437",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d9debb3348ad7d7950ff466167e4d471c392fa78",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/d9debb3348ad7d7950ff466167e4d471c392fa78",
      "created_at": "2026-01-31T03:20:44Z"
    },
    {
      "event": "commented",
      "id": 3827341681,
      "node_id": "IC_kwDOABII587kIJlx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3827341681",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-31T03:26:39Z",
      "updated_at": "2026-01-31T03:26:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "@andrewtoth  Thanks for the insight about plausible deniability.\r\n\r\nUpdated to only skip private→public (the other direction is now allowed):\r\n\r\n| Scenario | TX Flag | Node Setting | Behavior |\r\n|----------|---------|--------------|----------|\r\n| Resubmit | Private | Public | Skip |\r\n| Resubmit | Public | Private | Rebroadcast privately |\r\n| Resubmit | Private | Private | Rebroadcast privately |\r\n\r\n- **Private→Public: Skip** - Protects origin from being correlated\r\n- **Public→Private: Allow** - Provides plausible deniability \r\n",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3827341681",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "mentioned",
      "id": 22423613796,
      "node_id": "MEE_lADOABII587m8MPMzwAAAAU4jTFk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22423613796",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-31T03:26:40Z"
    },
    {
      "event": "subscribed",
      "id": 22423613807,
      "node_id": "SE_lADOABII587m8MPMzwAAAAU4jTFv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22423613807",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-31T03:26:40Z"
    },
    {
      "event": "unlabeled",
      "id": 22424753811,
      "node_id": "UNLE_lADOABII587m8MPMzwAAAAU4npaT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22424753811",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-31T05:41:11Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3740398677,
      "node_id": "PRR_kwDOABII587e8fRV",
      "url": null,
      "actor": null,
      "commit_id": "d9debb3348ad7d7950ff466167e4d471c392fa78",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-02T16:01:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Some conceptual thoughts:\n- The rebroadcasting behavior will probably lead to frequent 3 minute timeouts. If the tx didn't get mined within ~24 hours due to insufficient fees, but remains in our and our peer's mempools during this time, the peers wont's send us a GETDATA to our repeated submission. However, I think that this would not be a huge problem because after 3 attempts, we'd abort during the retry because we check there if the tx is already in the mempool. \n- while this improves the rebroadcast behavior, there is still the issue that transactions relevant for the wallet but submitted via RPC (`sendrawtransaction`) will be received back from the network, added to `mapWallet`, and then rebroadcast over clearnet if the user restarted without `-privatebroadcast`. In master, these txns would be rebroadcast normally over clearnet even without a restart.\n- should something be done about feebumping behavior? I think a user sending via private broadcast, restarting without the flag and then bumping a tx would lead to the tx being sent via clearnet.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#pullrequestreview-3740398677",
      "submitted_at": "2026-02-02T16:01:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22607732808,
      "node_id": "HRFPE_lADOABII587m8MPMzwAAAAVDhqBI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22607732808",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e22c7744253da44d16ea876ea949e1113cd54706",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/e22c7744253da44d16ea876ea949e1113cd54706",
      "created_at": "2026-02-07T09:49:45Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22607841219,
      "node_id": "HRFPE_lADOABII587m8MPMzwAAAAVDiEfD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22607841219",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "da2282182dc57ced5742badecff9380c1de09109",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/da2282182dc57ced5742badecff9380c1de09109",
      "created_at": "2026-02-07T09:59:56Z"
    },
    {
      "event": "labeled",
      "id": 22607848537,
      "node_id": "LE_lADOABII587m8MPMzwAAAAVDiGRZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22607848537",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-07T10:00:37Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3864072641,
      "node_id": "IC_kwDOABII587mURHB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3864072641",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-07T10:00:46Z",
      "updated_at": "2026-02-07T10:00:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/actions/runs/21778174634/job/62838065557</sub>\n<sub>LLM reason (✨ experimental): Lint failure: trailing whitespace detected in Python code (ruff/trailing_whitespace).</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3864072641",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "commented",
      "id": 3864095203,
      "node_id": "IC_kwDOABII587mUWnj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3864095203",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-07T10:13:18Z",
      "updated_at": "2026-02-07T10:13:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think that this would not be a huge problem because after 3 attempts, we'd abort during the retry\r\n\r\nAgreed.\r\n\r\n> there is still the issue that transactions relevant for the wallet but submitted via RPC (sendrawtransaction) will be received back from the network\r\n\r\nAs far as I can see there is no simple solution to this scenario. Even if we have a persistent database of privately broadcast transactions (like proposed in #34322) and the wallet could query it when a relevant transaction is received, the user can submit the transaction from a different node than the wallet's node. One approach would be for the wallet to mark all `IsFromMe()` transactions not originated through `CommitTransaction()` as private. Not sure if that is an acceptable solution but it would cover this case unless I am missing something.\r\n\r\n> should something be done about feebumping behavior?\r\n\r\nAdded a solution and a functional test for this case. Thanks for raising it.",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3864095203",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "commented",
      "id": 3864096978,
      "node_id": "IC_kwDOABII587mUXDS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3864096978",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-07T10:15:01Z",
      "updated_at": "2026-02-07T10:15:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "CI error is unrelated",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3864096978",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22613171804,
      "node_id": "HRFPE_lADOABII587m8MPMzwAAAAVD2Z5c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22613171804",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "331996f8589ba4cd00800d8d3d5502b8f47389a2",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/331996f8589ba4cd00800d8d3d5502b8f47389a2",
      "created_at": "2026-02-07T18:27:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22613296628,
      "node_id": "HRFPE_lADOABII587m8MPMzwAAAAVD24X0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22613296628",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "dcc3070a24ec39f3b5746c2b6f18dc8396d9aaa2",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/dcc3070a24ec39f3b5746c2b6f18dc8396d9aaa2",
      "created_at": "2026-02-07T18:42:42Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22613341339,
      "node_id": "HRFPE_lADOABII587m8MPMzwAAAAVD3DSb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22613341339",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "caad89cb6c960384f1f45095910f8e6efc9131bf",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/caad89cb6c960384f1f45095910f8e6efc9131bf",
      "created_at": "2026-02-07T18:47:41Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdhZDc3MWIzNjNhNWU4ZmE4MzZmYTg5MTJjMmNjNmViNGZmNDcwY2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ad771b363a5e8fa836fa8912c2cc6eb4ff470cc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7ad771b363a5e8fa836fa8912c2cc6eb4ff470cc",
      "tree": {
        "sha": "602241fdfbb1a50a0cacb87f8f91614520b74e31",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/602241fdfbb1a50a0cacb87f8f91614520b74e31"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/705705e5b195d4d3d7abfca8baabf966b0b74e42",
          "sha": "705705e5b195d4d3d7abfca8baabf966b0b74e42",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/705705e5b195d4d3d7abfca8baabf966b0b74e42"
        }
      ],
      "message": "node: move private broadcast availability check to BroadcastTransaction()\n\nMove the Tor/I2P network reachability check from the sendrawtransaction RPC\nto BroadcastTransaction(). This centralizes the check so that all callers\n(including wallet RPCs) get consistent behavior when using private broadcast.\n\nChanges:\n- Add TransactionError::PRIVATE_BROADCAST_UNAVAILABLE enum value\n- Add corresponding error message in common/messages.cpp\n- Add RPC error code mapping in rpc/util.cpp\n- Move the check from rpc/mempool.cpp to node/transaction.cpp\n- Set err_string when the error occurs for proper error propagation",
      "committer": {
        "name": "woltx",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-02-07T18:50:37Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-01-24T01:38:36Z"
      },
      "sha": "7ad771b363a5e8fa836fa8912c2cc6eb4ff470cc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI1OGQwYzMzN2IzYzYzMDY0ZDkzYTA1YzBhZDc2MjNkYTcwMzZjNDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b58d0c337b3c63064d93a05c0ad7623da7036c40",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b58d0c337b3c63064d93a05c0ad7623da7036c40",
      "tree": {
        "sha": "4ef0730819894451a6af5dfcf4d99da8b025a943",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ef0730819894451a6af5dfcf4d99da8b025a943"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ad771b363a5e8fa836fa8912c2cc6eb4ff470cc",
          "sha": "7ad771b363a5e8fa836fa8912c2cc6eb4ff470cc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7ad771b363a5e8fa836fa8912c2cc6eb4ff470cc"
        }
      ],
      "message": "wallet: integrate private broadcast for wallet transactions\n\nEnable private broadcast for wallet transaction submission when\n-privatebroadcast is set. This includes both initial sends and\nrebroadcasts, with persistent tracking to prevent privacy leaks.\n\nChanges to CommitTransaction():\n- Use NO_MEMPOOL_PRIVATE_BROADCAST method when -privatebroadcast enabled\n- Store \"private_broadcast\" flag in wallet transaction mapValue\n- Throw on broadcast failures (e.g., Tor/I2P not reachable) instead of\n  silently continuing\n\nChanges to ResubmitWalletTransactions():\n- Use private broadcast for resubmission when -privatebroadcast enabled\n- Skip privately-sent txs when node has public setting (prevents IP leak)\n- Allow publicly-sent txs to rebroadcast privately (provides plausible deniability)\n- Log errors when rebroadcast fails due to Tor/I2P unavailability\n\nChanges to feebumper::CommitTransaction():\n- Refuse to fee-bump a privately-broadcast tx when -privatebroadcast is\n  off. The replacement spends the same inputs, so broadcasting it over\n  clearnet would link this node's IP to the original private transaction.\n\nThe persistence logic is essential for privacy: without it, a node\nrestart with -privatebroadcast disabled could cause private transactions\nto be rebroadcast publicly, leaking information about the transaction\norigin.",
      "committer": {
        "name": "woltx",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-02-07T18:51:58Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-01-24T01:39:05Z"
      },
      "sha": "b58d0c337b3c63064d93a05c0ad7623da7036c40"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU3Y2JkMjMyODYwNzQzYWM0MDk0MzA5MzAyNjUwODdiNGE2OTAzNzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57cbd232860743ac409430930265087b4a690378",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/57cbd232860743ac409430930265087b4a690378",
      "tree": {
        "sha": "1c4b88e5694cd5c1ff67ae23fef6548044647dff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c4b88e5694cd5c1ff67ae23fef6548044647dff"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b58d0c337b3c63064d93a05c0ad7623da7036c40",
          "sha": "b58d0c337b3c63064d93a05c0ad7623da7036c40",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b58d0c337b3c63064d93a05c0ad7623da7036c40"
        }
      ],
      "message": "test: add Socks5ProxyHelper and add_addresses_to_addrman helpers\n\nAdd helper utilities to test_framework/socks5.py to reduce code duplication\nin private broadcast tests:\n\n- Socks5ProxyHelper: Simplifies SOCKS5 proxy setup with ephemeral ports,\n  thread-safe destination tracking, and simple redirect factory\n- add_addresses_to_addrman(): Helper to populate a node's addrman with\n  test addresses\n- FAKE_ONION_ADDRESSES: Shared list of fake .onion addresses for tests\n\nUpdate p2p_private_broadcast.py to use ephemeral ports and the new\nadd_addresses_to_addrman helper.",
      "committer": {
        "name": "woltx",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-02-07T18:52:04Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-01-29T23:07:30Z"
      },
      "sha": "57cbd232860743ac409430930265087b4a690378"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM2NDVjY2NmOGFkZTg3OTM4MWJkM2M5ZjJmNTE5NmU2NjUxMDAwNmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3645cccf8ade879381bd3c9f2f5196e66510006e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3645cccf8ade879381bd3c9f2f5196e66510006e",
      "tree": {
        "sha": "511a841b38fea03057bf756e461f4d464d44e97c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/511a841b38fea03057bf756e461f4d464d44e97c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57cbd232860743ac409430930265087b4a690378",
          "sha": "57cbd232860743ac409430930265087b4a690378",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57cbd232860743ac409430930265087b4a690378"
        }
      ],
      "message": "test: add wallet_private_broadcast.py functional test\n\nAdd a functional test for wallet-specific private broadcast behavior:\n\n- Test 1: sendtoaddress with -privatebroadcast sends via SOCKS5 proxy\n- Test 2: private_broadcast flag persists and prevents public rebroadcast\n- Test 3: Public txs rebroadcast privately (provides plausible deniability)\n- Test 4: Error when Tor/I2P not reachable\n- Test 5: Fee bump refused when -privatebroadcast is off (prevents clearnet leak)\n- Test 6: Fee bump succeeds and broadcasts privately when -privatebroadcast is on\n\nUses Socks5ProxyHelper for simplified proxy setup and connection tracking.",
      "committer": {
        "name": "woltx",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-02-07T18:52:36Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "94266259+w0xlt@users.noreply.github.com",
        "date": "2026-01-29T23:08:02Z"
      },
      "sha": "3645cccf8ade879381bd3c9f2f5196e66510006e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22613406705,
      "node_id": "HRFPE_lADOABII587m8MPMzwAAAAVD3TPx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22613406705",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "3645cccf8ade879381bd3c9f2f5196e66510006e",
      "commit_url": "https://api.github.com/repos/w0xlt/bitcoin/commits/3645cccf8ade879381bd3c9f2f5196e66510006e",
      "created_at": "2026-02-07T18:54:18Z"
    },
    {
      "event": "unlabeled",
      "id": 22614130948,
      "node_id": "UNLE_lADOABII587m8MPMzwAAAAVD6EEE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22614130948",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-07T20:11:38Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3886940981,
      "node_id": "IC_kwDOABII587nrgM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3886940981",
      "actor": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T20:22:45Z",
      "updated_at": "2026-02-11T20:22:45Z",
      "author_association": "NONE",
      "body": "Concept ACK\r\n\r\n> One approach would be for the wallet to mark all IsFromMe() transactions not originated through CommitTransaction() as private\r\n\r\nI was worried about using this approach for one case: \r\n* If a user imports a wallet into another node (let's call it _new node_) from which the transaction was originated (_original node_), the new wallet would not know if the transaction was originated through `CommitTransaction()` or not.\r\n\r\nBuut I modified the `wallet_private_broadcast.py` to test if that happened, but when you import the wallet to another node (the _new node_ ), the information about whether if an unconfirmed transaction it is using a private broadcast or not is kept if the transaction was sent  (from the _original node_) before importing the wallet to the _new node_ .  \r\n\r\nThe only case where it might cause trouble is if a user already has the same wallet in both the _original node_ and _new node_ and then sends a private transaction from one of them. Then the other one will not know whether the transaction is private or not. It is a weird case, and I am not even sure it would behave like this (I have not tested it).\r\n\r\nI also left some comments in `wallet_private_breadcast.py` about an error I encountered.",
      "user": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3886940981",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "reviewed",
      "id": 3787141048,
      "node_id": "PRR_kwDOABII587huy-4",
      "url": null,
      "actor": null,
      "commit_id": "3645cccf8ade879381bd3c9f2f5196e66510006e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-11T20:22:52Z",
      "author_association": "NONE",
      "user": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#pullrequestreview-3787141048",
      "submitted_at": "2026-02-11T20:22:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457"
    },
    {
      "event": "commented",
      "id": 3887030433,
      "node_id": "IC_kwDOABII587nr2Ch",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3887030433",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T20:35:24Z",
      "updated_at": "2026-02-11T20:35:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "@Bicaru20 Thanks for the review.\r\n\r\nRegarding the wallet import, I believe there shouldn’t be any issues since the private flag persists.\r\nAs for the test error, it appears to be the same as in #34387. A solution was provided in #34410.\r\nI’ll update the PR with the same solution shortly.",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3887030433",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "mentioned",
      "id": 22715910816,
      "node_id": "MEE_lADOABII587m8MPMzwAAAAVJ-Uqg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22715910816",
      "actor": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T20:35:25Z"
    },
    {
      "event": "subscribed",
      "id": 22715910846,
      "node_id": "SE_lADOABII587m8MPMzwAAAAVJ-Uq-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22715910846",
      "actor": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T20:35:25Z"
    },
    {
      "event": "commented",
      "id": 3887109993,
      "node_id": "IC_kwDOABII587nsJdp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3887109993",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T20:48:21Z",
      "updated_at": "2026-02-11T20:48:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "> The only case where it might cause trouble is if a user already has the same wallet in both the original node and new node and then sends a private transaction from one of them. \r\n\r\n@Bicaru20 Yes, in this case, the wallet that didn’t originate the transaction has no way of knowing how it was broadcast after receiving it through the mempool. That’s why I suggested that such a wallet, for example, should treat any transaction received via the mempool with owned inputs as private.\r\n\r\nRegarding the import, I assumed you were backing up the wallet file and restoring it. If you restore the wallet using `importdescriptors`, there’s no way to determine how the unconfirmed transactions were originally broadcast.",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3887109993",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    },
    {
      "event": "mentioned",
      "id": 22716218027,
      "node_id": "MEE_lADOABII587m8MPMzwAAAAVJ_fqr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22716218027",
      "actor": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T20:48:23Z"
    },
    {
      "event": "subscribed",
      "id": 22716218062,
      "node_id": "SE_lADOABII587m8MPMzwAAAAVJ_frO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22716218062",
      "actor": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T20:48:23Z"
    },
    {
      "event": "commented",
      "id": 3887470143,
      "node_id": "IC_kwDOABII587nthY_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3887470143",
      "actor": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T22:03:47Z",
      "updated_at": "2026-02-11T22:03:47Z",
      "author_association": "NONE",
      "body": "> That’s why I suggested that such a wallet, for example, should treat any transaction received via the mempool with owned inputs as private.\r\n\r\nOkay. I don't know why I understood another thing, my bad. Thanks for the clarification. I agree with your approach, then. It’s better to be much too private than too little.\r\n\r\n> Regarding the import, I assumed you were backing up the wallet file and restoring it\r\n\r\nYes, I just did a quick test to see the behavior in this case.",
      "user": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#issuecomment-3887470143",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34457"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2795266489",
      "pull_request_review_id": 3787141048,
      "id": 2795266489,
      "node_id": "PRRC_kwDOABII586mnGG5",
      "diff_hunk": "@@ -0,0 +1,448 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2026-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test wallet transaction broadcast when -privatebroadcast is enabled.\n+\n+When -privatebroadcast is enabled, wallet transactions (sendtoaddress, sendmany,\n+send, etc.) should be broadcast privately through Tor/I2P networks instead of\n+being announced to all connected peers.\n+\n+Test coverage:\n+- test_sendtoaddress_private_broadcast: New tx broadcasts via SOCKS5 proxy\n+- test_private_flag_prevents_public_rebroadcast: Flag persists and prevents leaks\n+- test_public_tx_rebroadcast_privately: Public txs rebroadcast privately (plausible deniability)\n+- test_error_when_tor_i2p_unavailable: Proper error when no anonymous network\n+- test_bumpfee_refused_without_private_broadcast: Fee bump refused when -privatebroadcast off\n+- test_bumpfee_with_private_broadcast: Fee bump succeeds and broadcasts privately\n+\n+Note: P2P-level private broadcast behavior (transaction returning from network,\n+rebroadcast timing, etc.) is tested in p2p_private_broadcast.py.\n+\"\"\"\n+\n+import time\n+\n+from test_framework.blocktools import create_block, create_coinbase\n+from test_framework.p2p import P2PInterface\n+from test_framework.socks5 import (\n+    FAKE_ONION_ADDRESSES,\n+    Socks5ProxyHelper,\n+    add_addresses_to_addrman,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_greater_than,\n+    assert_raises_rpc_error,\n+    tor_port,\n+)\n+\n+\n+class WalletPrivateBroadcastTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.disable_autoconnect = False\n+        self.extra_args = [[], []]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_nodes(self):\n+        \"\"\"Set up SOCKS5 proxy and configure nodes for private broadcast testing.\"\"\"\n+        self.proxy = Socks5ProxyHelper(self.log)\n+        self.proxy.start_simple_redirect(\"127.0.0.1\", tor_port(1))\n+\n+        self.extra_args = [\n+            [\n+                \"-privatebroadcast=1\",\n+                f\"-proxy=127.0.0.1:{self.proxy.port}\",\n+                \"-cjdnsreachable\",\n+                \"-v2transport=0\",\n+                \"-test=addrman\",\n+                \"-debug=privatebroadcast\",\n+                \"-debug=mempool\",\n+            ],\n+            [\n+                \"-connect=0\",\n+                f\"-bind=127.0.0.1:{tor_port(1)}=onion\",\n+                \"-v2transport=0\",\n+                \"-debug=mempool\",\n+            ],\n+        ]\n+        super().setup_nodes()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        # Don't connect nodes - private broadcast goes through SOCKS5\n+\n+    # =========================================================================\n+    # Helper methods\n+    # =========================================================================\n+\n+    def create_and_fund_wallets(self):\n+        \"\"\"Create wallets on both nodes and fund the sender.\"\"\"\n+        self.log.info(\"Creating and funding wallets\")\n+\n+        self.nodes[0].createwallet(wallet_name=\"sender_wallet\")\n+        self.sender_wallet = self.nodes[0].get_wallet_rpc(\"sender_wallet\")\n+\n+        self.nodes[1].createwallet(wallet_name=\"receiver_wallet\")\n+        self.receiver_wallet = self.nodes[1].get_wallet_rpc(\"receiver_wallet\")\n+\n+        address = self.sender_wallet.getnewaddress()\n+        self.generatetoaddress(self.nodes[0], 101, address, sync_fun=self.no_op)\n+\n+        balance = self.sender_wallet.getbalance()\n+        assert_greater_than(balance, 0)\n+        self.log.info(f\"Sender wallet funded with {balance} BTC\")\n+\n+    def reload_sender_wallet(self):\n+        \"\"\"Load the sender wallet and return its RPC interface.\"\"\"\n+        self.nodes[0].loadwallet(\"sender_wallet\")\n+        self.sender_wallet = self.nodes[0].get_wallet_rpc(\"sender_wallet\")\n+\n+    def get_private_broadcast_args(self):\n+        \"\"\"Return node args for private broadcast mode with current proxy.\"\"\"\n+        return [\n+            \"-privatebroadcast=1\",\n+            f\"-proxy=127.0.0.1:{self.proxy.port}\",\n+            \"-cjdnsreachable\",\n+            \"-v2transport=0\",\n+            \"-test=addrman\",\n+            \"-debug=privatebroadcast\",\n+            \"-debug=mempool\",\n+        ]\n+\n+    def trigger_wallet_resubmit(self, node):\n+        \"\"\"Trigger MaybeResendWalletTxs by advancing time and mining a block.\n+\n+        Wallet resubmission requires:\n+        1. A block at least 5 minutes newer than the transaction\n+        2. Sufficient time passed (12-36 hours) for the resubmit timer\n+        \"\"\"\n+        block_time = int(time.time()) + 6 * 60  # 6 minutes in the future\n+        node.setmocktime(block_time)\n+\n+        best_block_hash = int(node.getbestblockhash(), 16)\n+        block = create_block(best_block_hash, create_coinbase(node.getblockcount() + 1), block_time)\n+        block.solve()\n+        node.submitblock(block.serialize().hex())\n+        node.syncwithvalidationinterfacequeue()\n+\n+        # Advance 36 hours to exceed maximum resubmit interval\n+        node.setmocktime(block_time + 36 * 60 * 60)\n+        node.mockscheduler(60)\n+\n+    def assert_tx_unconfirmed(self, txid, context=\"\"):\n+        \"\"\"Assert that a transaction has 0 confirmations.\"\"\"\n+        tx_info = self.sender_wallet.gettransaction(txid)\n+        assert_equal(tx_info[\"confirmations\"], 0)\n+\n+    def get_log_pos(self, node):\n+        \"\"\"Get current position in node's debug.log for tracking new messages.\"\"\"\n+        try:\n+            with open(node.debug_log_path, 'r', encoding='utf-8') as f:\n+                f.seek(0, 2)\n+                return f.tell()\n+        except FileNotFoundError:\n+            return 0\n+\n+    def wait_for_log_message(self, node, message, start_pos=0, timeout=30):\n+        \"\"\"Wait for a message to appear in the node's debug.log.\"\"\"\n+        def check():\n+            try:\n+                with open(node.debug_log_path, 'r', encoding='utf-8') as f:\n+                    if start_pos > 0:\n+                        f.seek(start_pos)\n+                    return message in f.read()\n+            except FileNotFoundError:\n+                return False\n+        self.wait_until(check, timeout=timeout)\n+\n+    def saturate_reachable_networks(self, node):\n+        \"\"\"Establish connections to all reachable networks to prevent race conditions.\n+\n+        Bitcoin Core's network-specific connection logic tries to maintain at least\n+        one connection to each reachable network. This can race with private broadcast\n+        connections through the SOCKS5 proxy. By pre-establishing connections to all\n+        networks, we prevent unpredictable network-specific connections.\n+        See https://github.com/bitcoin/bitcoin/issues/34387\n+        \"\"\"\n+        node.addnode(node=\"20.0.0.1:8333\", command=\"onetry\")  # IPv4\n+        node.addnode(node=\"[20::1]:8333\", command=\"onetry\")  # IPv6\n+        node.addnode(node=\"testonlyp7jkg2rwd3gfdo7ptme3puk2xfvd3hka6qdnypf4gqy3jahid.onion:8333\", command=\"onetry\")  # Tor\n+        node.addnode(node=\"[fc00::1]:8333\", command=\"onetry\")  # CJDNS\n+\n+    # =========================================================================\n+    # Test methods\n+    # =========================================================================\n+\n+    def test_sendtoaddress_private_broadcast(self):\n+        \"\"\"Test that sendtoaddress broadcasts via SOCKS5 proxy when -privatebroadcast enabled.\"\"\"\n+        self.log.info(\"Testing sendtoaddress with private broadcast...\")\n+\n+        sender = self.nodes[0]\n+        receiver = self.nodes[1]\n+        dest = self.receiver_wallet.getnewaddress()\n+        initial_destinations = len(self.proxy.destinations)\n+\n+        # Send transaction\n+        self.txid_private = self.sender_wallet.sendtoaddress(dest, 1.0)\n+        self.log.info(f\"Sent transaction: {self.txid_private}\")\n+\n+        # Verify NOT in sender's mempool (private broadcast skips local mempool)\n+        assert_equal(len(sender.getrawmempool()), 0)\n+        self.log.info(\"Transaction not in sender's mempool (expected)\")\n+\n+        # Verify SOCKS5 connection established\n+        self.wait_until(lambda: len(self.proxy.destinations) > initial_destinations)\n+        self.log.info(\"SOCKS5 connection established\")\n+\n+        # Verify private broadcast: INV sent via proxy (this is THE key verification)\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={self.txid_private}\")\n+        self.log.info(\"Private broadcast INV sent via SOCKS5\")\n+\n+        # Verify PONG received (confirms peer received the tx and it will propagate)\n+        self.wait_for_log_message(sender, \"Got a PONG (the transaction will probably reach the network)\")\n+        self.log.info(\"PONG received - delivery confirmed\")\n+\n+        # Verify transaction reached receiver and was accepted to mempool\n+        self.wait_until(lambda: self.txid_private in receiver.getrawmempool(), timeout=30)\n+        self.wait_for_log_message(receiver, f\"accepted {self.txid_private}\")\n+        self.log.info(\"Transaction accepted by receiver node\")\n+\n+        # Verify observer sees the relayed transaction\n+        self.observer.wait_for_tx(self.txid_private)\n+        self.log.info(\"Transaction relayed to observer\")\n+\n+        # Verify transaction received back from network (round-trip complete)\n+        self.wait_for_log_message(sender, f\"Received our privately broadcast transaction (txid={self.txid_private})\")\n+        self.log.info(\"Transaction received back from network\")\n+\n+    def test_private_flag_prevents_public_rebroadcast(self):\n+        \"\"\"Test that private_broadcast flag prevents rebroadcast when -privatebroadcast disabled.\"\"\"\n+        self.log.info(\"Testing that private_broadcast flag prevents public rebroadcast...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Stop proxy and restart without -privatebroadcast\n+        self.proxy.stop()\n+        self.restart_node(0, extra_args=[\"-v2transport=0\"])\n+        self.reload_sender_wallet()\n+\n+        # Verify transaction still unconfirmed (precondition)\n+        self.assert_tx_unconfirmed(self.txid_private, \"rebroadcast test\")\n+\n+        # Trigger resubmission and verify tx is skipped\n+        skip_msg = f\"skipping tx {self.txid_private} originally sent via private broadcast\"\n+        with sender.assert_debug_log(expected_msgs=[skip_msg]):\n+            self.trigger_wallet_resubmit(sender)\n+\n+        self.log.info(\"Transaction with private_broadcast flag was skipped\")\n+\n+    def test_public_tx_rebroadcast_privately(self):\n+        \"\"\"Test that publicly-sent txs can be rebroadcast privately (adds plausible deniability).\"\"\"\n+        self.log.info(\"Testing that public txs are rebroadcast privately...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Reset mocktime and create a public transaction (node currently has no -privatebroadcast)\n+        sender.setmocktime(0)\n+        dest = self.receiver_wallet.getnewaddress()\n+        self.txid_public = self.sender_wallet.sendtoaddress(dest, 0.5)\n+        self.log.info(f\"Created public transaction: {self.txid_public}\")\n+\n+        # Verify public tx is in mempool (normal behavior)\n+        assert self.txid_public in sender.getrawmempool()\n+\n+        # Start new proxy and restart with -privatebroadcast\n+        self.proxy = Socks5ProxyHelper(self.log)\n+        self.proxy.start_simple_redirect(\"127.0.0.1\", tor_port(1))\n+\n+        self.restart_node(0, extra_args=self.get_private_broadcast_args())\n+        self.reload_sender_wallet()\n+\n+        # Verify both transactions still unconfirmed\n+        self.assert_tx_unconfirmed(self.txid_private, \"Test 3\")\n+        self.assert_tx_unconfirmed(self.txid_public, \"Test 3\")\n+\n+        # Saturate network-specific connection logic before populating addrman\n+        self.saturate_reachable_networks(self.nodes[0])\n+        # Re-populate addrman for private broadcast\n+        add_addresses_to_addrman(self.nodes[0], FAKE_ONION_ADDRESSES[:5], self.log)\n+\n+        # Track log position to verify NEW messages (not from earlier tests)\n+        log_pos = self.get_log_pos(sender)\n+\n+        # Trigger resubmission and verify:\n+        # - txid_private (has flag): resubmitted via private broadcast\n+        # - txid_public (no flag): also resubmitted privately (adds plausible deniability)\n+        skip_private_msg = f\"skipping tx {self.txid_private} originally sent via private broadcast\"\n+\n+        with sender.assert_debug_log(expected_msgs=[], unexpected_msgs=[skip_private_msg]):\n+            self.trigger_wallet_resubmit(sender)\n+\n+        # Verify both transactions triggered private broadcast\n+        self.wait_for_log_message(sender, f\"Requesting 3 new connections due to txid={self.txid_private}\", log_pos)\n+        self.wait_for_log_message(sender, f\"Requesting 3 new connections due to txid={self.txid_public}\", log_pos)\n+        self.wait_until(lambda: len(self.proxy.destinations) >= 1)\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={self.txid_private}\", log_pos)\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={self.txid_public}\", log_pos)\n+\n+        self.log.info(\"Both transactions rebroadcast via private broadcast\")\n+\n+        # Cleanup\n+        self.proxy.stop()\n+\n+    def test_bumpfee_refused_without_private_broadcast(self):\n+        \"\"\"Test that fee-bumping a private tx is refused when -privatebroadcast is off.\n+\n+        Scenario: user sends privately, restarts without -privatebroadcast, then bumps the fee.\n+        The bumped tx spends the same inputs as the original — broadcasting it over clearnet would\n+        link this node's IP to the original privately-broadcast transaction, defeating its purpose.\n+        \"\"\"\n+        self.log.info(\"Testing bumpfee is refused for private tx when -privatebroadcast is off...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Restart without -privatebroadcast\n+        self.restart_node(0, extra_args=[\"-v2transport=0\", \"-fallbackfee=0.00001\"])\n+        self.reload_sender_wallet()\n+        sender.setmocktime(0)\n+\n+        # Verify original tx has private_broadcast flag\n+        tx_info = self.sender_wallet.gettransaction(self.txid_private)\n+        assert_equal(tx_info[\"private_broadcast\"], \"1\")\n+\n+        # Verify original tx is in mempool (loaded on startup by postInitProcess)\n+        assert self.txid_private in sender.getrawmempool()\n+\n+        # Bump should be REFUSED: broadcasting the replacement over clearnet would\n+        # link this node's IP to the same inputs as the privately-broadcast original.\n+        tx_count_before = self.sender_wallet.getwalletinfo()[\"txcount\"]\n+        assert_raises_rpc_error(\n+            -4,\n+            \"replacement of a privately broadcast transaction\",\n+            self.sender_wallet.bumpfee, self.txid_private\n+        )\n+\n+        # Verify no replacement tx was added to the wallet\n+        assert_equal(self.sender_wallet.getwalletinfo()[\"txcount\"], tx_count_before)\n+\n+        self.log.info(\"Bumpfee correctly refused for privately-broadcast tx\")\n+\n+    def test_bumpfee_with_private_broadcast(self):\n+        \"\"\"Test that fee-bumping a private tx succeeds when -privatebroadcast is on.\n+\n+        Scenario: user sends privately, restarts with -privatebroadcast, then bumps\n+        the fee. The bumped tx should be sent via private broadcast and inherit the\n+        private_broadcast flag.\n+        \"\"\"\n+        self.log.info(\"Testing bumpfee with -privatebroadcast enabled...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Start new proxy and restart with -privatebroadcast\n+        self.proxy = Socks5ProxyHelper(self.log)\n+        self.proxy.start_simple_redirect(\"127.0.0.1\", tor_port(1))\n+\n+        self.restart_node(0, extra_args=self.get_private_broadcast_args() + [\"-fallbackfee=0.00001\"])\n+        self.reload_sender_wallet()\n+        sender.setmocktime(0)\n+\n+        # Populate addrman and saturate reachable networks for private broadcast\n+        self.saturate_reachable_networks(sender)\n+        add_addresses_to_addrman(sender, FAKE_ONION_ADDRESSES[:5], self.log)\n+\n+        # Verify original tx has private_broadcast flag and is in mempool\n+        tx_info = self.sender_wallet.gettransaction(self.txid_private)\n+        assert_equal(tx_info[\"private_broadcast\"], \"1\")\n+        assert self.txid_private in sender.getrawmempool()\n+\n+        # Bump the fee — should succeed since -privatebroadcast is enabled\n+        initial_destinations = len(self.proxy.destinations)\n+        result = self.sender_wallet.bumpfee(self.txid_private)\n+        bumped_txid = result[\"txid\"]\n+        self.log.info(f\"Bumped tx {self.txid_private} -> {bumped_txid}\")\n+\n+        # Verify bumped tx has private_broadcast flag\n+        bumped_info = self.sender_wallet.gettransaction(bumped_txid)\n+        assert_equal(bumped_info[\"private_broadcast\"], \"1\")\n+        self.log.info(\"Bumped tx correctly has private_broadcast flag\")\n+\n+        # Verify private broadcast: connections through SOCKS5 proxy\n+        self.wait_until(lambda: len(self.proxy.destinations) > initial_destinations)\n+        self.log.info(\"SOCKS5 connections established for bumped tx\")\n+\n+        # Verify INV sent via private broadcast\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={bumped_txid}\")\n+        self.log.info(\"Private broadcast INV sent for bumped tx\")\n+\n+        # Cleanup\n+        self.proxy.stop()\n+\n+    def test_error_when_tor_i2p_unavailable(self):\n+        \"\"\"Test that wallet RPCs fail gracefully when Tor/I2P is not reachable.\"\"\"\n+        self.log.info(\"Testing error when Tor/I2P unavailable...\")\n+\n+        # Restart with -privatebroadcast but broken Tor setup:\n+        # - -listenonion allows startup (expects to get proxy from Tor later)\n+        # - -torcontrol=127.0.0.1:1 fails (port 1 is privileged, nothing listens)\n+        # - Result: No working Tor proxy, no I2P, private broadcast unavailable\n+        self.restart_node(0, extra_args=[\n+            \"-privatebroadcast=1\",\n+            \"-v2transport=0\",\n+            \"-listenonion\",\n+            \"-torcontrol=127.0.0.1:1\",\n+        ])",
      "path": "test/functional/wallet_private_broadcast.py",
      "position": 398,
      "original_position": 398,
      "commit_id": "3645cccf8ade879381bd3c9f2f5196e66510006e",
      "original_commit_id": "3645cccf8ade879381bd3c9f2f5196e66510006e",
      "in_reply_to_id": null,
      "user": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\n        time.wait(0.1)\n        self.restart_node(0, extra_args=[\n            \"-privatebroadcast=1\",\n            \"-v2transport=0\",\n            \"-listenonion\",\n            \"-torcontrol=127.0.0.1:1\",\n        ])\n```\nI had this error: \n```  \n    TestFramework.socks5 (ERROR): socks5 request handling failed.\n    Traceback (most recent call last):\n    File \"/home/bitcoin/test/functional/test_framework/socks5.py\", line 185, in handle\n    forward_sockets(self.conn, conn_to)\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n    File \"/home/bitcoin/test/functional/test_framework/socks5.py\", line 68, in forward_sockets\n    data = s.recv(4096)\n  ConnectionResetError: [Errno 104] Connection reset by peer\n```\nAfter investigating, by putting the time.sleep(0.1) I was able to solve it. I believe the error is because the proxy does not have enough time to create the connexion.\n\nPS: I am not sure if putting a `time.sleep` is the best approach.",
      "created_at": "2026-02-11T20:08:59Z",
      "updated_at": "2026-02-11T20:22:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#discussion_r2795266489",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2795266489"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457"
        }
      },
      "start_line": 393,
      "original_start_line": 393,
      "start_side": "RIGHT",
      "line": 398,
      "original_line": 398,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2795285188",
      "pull_request_review_id": 3787141048,
      "id": 2795285188,
      "node_id": "PRRC_kwDOABII586mnKrE",
      "diff_hunk": "@@ -0,0 +1,448 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2026-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test wallet transaction broadcast when -privatebroadcast is enabled.\n+\n+When -privatebroadcast is enabled, wallet transactions (sendtoaddress, sendmany,\n+send, etc.) should be broadcast privately through Tor/I2P networks instead of\n+being announced to all connected peers.\n+\n+Test coverage:\n+- test_sendtoaddress_private_broadcast: New tx broadcasts via SOCKS5 proxy\n+- test_private_flag_prevents_public_rebroadcast: Flag persists and prevents leaks\n+- test_public_tx_rebroadcast_privately: Public txs rebroadcast privately (plausible deniability)\n+- test_error_when_tor_i2p_unavailable: Proper error when no anonymous network\n+- test_bumpfee_refused_without_private_broadcast: Fee bump refused when -privatebroadcast off\n+- test_bumpfee_with_private_broadcast: Fee bump succeeds and broadcasts privately\n+\n+Note: P2P-level private broadcast behavior (transaction returning from network,\n+rebroadcast timing, etc.) is tested in p2p_private_broadcast.py.\n+\"\"\"\n+\n+import time\n+\n+from test_framework.blocktools import create_block, create_coinbase\n+from test_framework.p2p import P2PInterface\n+from test_framework.socks5 import (\n+    FAKE_ONION_ADDRESSES,\n+    Socks5ProxyHelper,\n+    add_addresses_to_addrman,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_greater_than,\n+    assert_raises_rpc_error,\n+    tor_port,\n+)\n+\n+\n+class WalletPrivateBroadcastTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.disable_autoconnect = False\n+        self.extra_args = [[], []]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_nodes(self):\n+        \"\"\"Set up SOCKS5 proxy and configure nodes for private broadcast testing.\"\"\"\n+        self.proxy = Socks5ProxyHelper(self.log)\n+        self.proxy.start_simple_redirect(\"127.0.0.1\", tor_port(1))\n+\n+        self.extra_args = [\n+            [\n+                \"-privatebroadcast=1\",\n+                f\"-proxy=127.0.0.1:{self.proxy.port}\",\n+                \"-cjdnsreachable\",\n+                \"-v2transport=0\",\n+                \"-test=addrman\",\n+                \"-debug=privatebroadcast\",\n+                \"-debug=mempool\",\n+            ],\n+            [\n+                \"-connect=0\",\n+                f\"-bind=127.0.0.1:{tor_port(1)}=onion\",\n+                \"-v2transport=0\",\n+                \"-debug=mempool\",\n+            ],\n+        ]\n+        super().setup_nodes()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        # Don't connect nodes - private broadcast goes through SOCKS5\n+\n+    # =========================================================================\n+    # Helper methods\n+    # =========================================================================\n+\n+    def create_and_fund_wallets(self):\n+        \"\"\"Create wallets on both nodes and fund the sender.\"\"\"\n+        self.log.info(\"Creating and funding wallets\")\n+\n+        self.nodes[0].createwallet(wallet_name=\"sender_wallet\")\n+        self.sender_wallet = self.nodes[0].get_wallet_rpc(\"sender_wallet\")\n+\n+        self.nodes[1].createwallet(wallet_name=\"receiver_wallet\")\n+        self.receiver_wallet = self.nodes[1].get_wallet_rpc(\"receiver_wallet\")\n+\n+        address = self.sender_wallet.getnewaddress()\n+        self.generatetoaddress(self.nodes[0], 101, address, sync_fun=self.no_op)\n+\n+        balance = self.sender_wallet.getbalance()\n+        assert_greater_than(balance, 0)\n+        self.log.info(f\"Sender wallet funded with {balance} BTC\")\n+\n+    def reload_sender_wallet(self):\n+        \"\"\"Load the sender wallet and return its RPC interface.\"\"\"\n+        self.nodes[0].loadwallet(\"sender_wallet\")\n+        self.sender_wallet = self.nodes[0].get_wallet_rpc(\"sender_wallet\")\n+\n+    def get_private_broadcast_args(self):\n+        \"\"\"Return node args for private broadcast mode with current proxy.\"\"\"\n+        return [\n+            \"-privatebroadcast=1\",\n+            f\"-proxy=127.0.0.1:{self.proxy.port}\",\n+            \"-cjdnsreachable\",\n+            \"-v2transport=0\",\n+            \"-test=addrman\",\n+            \"-debug=privatebroadcast\",\n+            \"-debug=mempool\",\n+        ]\n+\n+    def trigger_wallet_resubmit(self, node):\n+        \"\"\"Trigger MaybeResendWalletTxs by advancing time and mining a block.\n+\n+        Wallet resubmission requires:\n+        1. A block at least 5 minutes newer than the transaction\n+        2. Sufficient time passed (12-36 hours) for the resubmit timer\n+        \"\"\"\n+        block_time = int(time.time()) + 6 * 60  # 6 minutes in the future\n+        node.setmocktime(block_time)\n+\n+        best_block_hash = int(node.getbestblockhash(), 16)\n+        block = create_block(best_block_hash, create_coinbase(node.getblockcount() + 1), block_time)\n+        block.solve()\n+        node.submitblock(block.serialize().hex())\n+        node.syncwithvalidationinterfacequeue()\n+\n+        # Advance 36 hours to exceed maximum resubmit interval\n+        node.setmocktime(block_time + 36 * 60 * 60)\n+        node.mockscheduler(60)\n+\n+    def assert_tx_unconfirmed(self, txid, context=\"\"):\n+        \"\"\"Assert that a transaction has 0 confirmations.\"\"\"\n+        tx_info = self.sender_wallet.gettransaction(txid)\n+        assert_equal(tx_info[\"confirmations\"], 0)\n+\n+    def get_log_pos(self, node):\n+        \"\"\"Get current position in node's debug.log for tracking new messages.\"\"\"\n+        try:\n+            with open(node.debug_log_path, 'r', encoding='utf-8') as f:\n+                f.seek(0, 2)\n+                return f.tell()\n+        except FileNotFoundError:\n+            return 0\n+\n+    def wait_for_log_message(self, node, message, start_pos=0, timeout=30):\n+        \"\"\"Wait for a message to appear in the node's debug.log.\"\"\"\n+        def check():\n+            try:\n+                with open(node.debug_log_path, 'r', encoding='utf-8') as f:\n+                    if start_pos > 0:\n+                        f.seek(start_pos)\n+                    return message in f.read()\n+            except FileNotFoundError:\n+                return False\n+        self.wait_until(check, timeout=timeout)\n+\n+    def saturate_reachable_networks(self, node):\n+        \"\"\"Establish connections to all reachable networks to prevent race conditions.\n+\n+        Bitcoin Core's network-specific connection logic tries to maintain at least\n+        one connection to each reachable network. This can race with private broadcast\n+        connections through the SOCKS5 proxy. By pre-establishing connections to all\n+        networks, we prevent unpredictable network-specific connections.\n+        See https://github.com/bitcoin/bitcoin/issues/34387\n+        \"\"\"\n+        node.addnode(node=\"20.0.0.1:8333\", command=\"onetry\")  # IPv4\n+        node.addnode(node=\"[20::1]:8333\", command=\"onetry\")  # IPv6\n+        node.addnode(node=\"testonlyp7jkg2rwd3gfdo7ptme3puk2xfvd3hka6qdnypf4gqy3jahid.onion:8333\", command=\"onetry\")  # Tor\n+        node.addnode(node=\"[fc00::1]:8333\", command=\"onetry\")  # CJDNS\n+\n+    # =========================================================================\n+    # Test methods\n+    # =========================================================================\n+\n+    def test_sendtoaddress_private_broadcast(self):\n+        \"\"\"Test that sendtoaddress broadcasts via SOCKS5 proxy when -privatebroadcast enabled.\"\"\"\n+        self.log.info(\"Testing sendtoaddress with private broadcast...\")\n+\n+        sender = self.nodes[0]\n+        receiver = self.nodes[1]\n+        dest = self.receiver_wallet.getnewaddress()\n+        initial_destinations = len(self.proxy.destinations)\n+\n+        # Send transaction\n+        self.txid_private = self.sender_wallet.sendtoaddress(dest, 1.0)\n+        self.log.info(f\"Sent transaction: {self.txid_private}\")\n+\n+        # Verify NOT in sender's mempool (private broadcast skips local mempool)\n+        assert_equal(len(sender.getrawmempool()), 0)\n+        self.log.info(\"Transaction not in sender's mempool (expected)\")\n+\n+        # Verify SOCKS5 connection established\n+        self.wait_until(lambda: len(self.proxy.destinations) > initial_destinations)\n+        self.log.info(\"SOCKS5 connection established\")\n+\n+        # Verify private broadcast: INV sent via proxy (this is THE key verification)\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={self.txid_private}\")\n+        self.log.info(\"Private broadcast INV sent via SOCKS5\")\n+\n+        # Verify PONG received (confirms peer received the tx and it will propagate)\n+        self.wait_for_log_message(sender, \"Got a PONG (the transaction will probably reach the network)\")\n+        self.log.info(\"PONG received - delivery confirmed\")\n+\n+        # Verify transaction reached receiver and was accepted to mempool\n+        self.wait_until(lambda: self.txid_private in receiver.getrawmempool(), timeout=30)\n+        self.wait_for_log_message(receiver, f\"accepted {self.txid_private}\")\n+        self.log.info(\"Transaction accepted by receiver node\")\n+\n+        # Verify observer sees the relayed transaction\n+        self.observer.wait_for_tx(self.txid_private)\n+        self.log.info(\"Transaction relayed to observer\")\n+\n+        # Verify transaction received back from network (round-trip complete)\n+        self.wait_for_log_message(sender, f\"Received our privately broadcast transaction (txid={self.txid_private})\")\n+        self.log.info(\"Transaction received back from network\")\n+\n+    def test_private_flag_prevents_public_rebroadcast(self):\n+        \"\"\"Test that private_broadcast flag prevents rebroadcast when -privatebroadcast disabled.\"\"\"\n+        self.log.info(\"Testing that private_broadcast flag prevents public rebroadcast...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Stop proxy and restart without -privatebroadcast\n+        self.proxy.stop()\n+        self.restart_node(0, extra_args=[\"-v2transport=0\"])\n+        self.reload_sender_wallet()\n+\n+        # Verify transaction still unconfirmed (precondition)\n+        self.assert_tx_unconfirmed(self.txid_private, \"rebroadcast test\")\n+\n+        # Trigger resubmission and verify tx is skipped\n+        skip_msg = f\"skipping tx {self.txid_private} originally sent via private broadcast\"\n+        with sender.assert_debug_log(expected_msgs=[skip_msg]):\n+            self.trigger_wallet_resubmit(sender)\n+\n+        self.log.info(\"Transaction with private_broadcast flag was skipped\")\n+\n+    def test_public_tx_rebroadcast_privately(self):\n+        \"\"\"Test that publicly-sent txs can be rebroadcast privately (adds plausible deniability).\"\"\"\n+        self.log.info(\"Testing that public txs are rebroadcast privately...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Reset mocktime and create a public transaction (node currently has no -privatebroadcast)\n+        sender.setmocktime(0)\n+        dest = self.receiver_wallet.getnewaddress()\n+        self.txid_public = self.sender_wallet.sendtoaddress(dest, 0.5)\n+        self.log.info(f\"Created public transaction: {self.txid_public}\")\n+\n+        # Verify public tx is in mempool (normal behavior)\n+        assert self.txid_public in sender.getrawmempool()\n+\n+        # Start new proxy and restart with -privatebroadcast\n+        self.proxy = Socks5ProxyHelper(self.log)\n+        self.proxy.start_simple_redirect(\"127.0.0.1\", tor_port(1))\n+\n+        self.restart_node(0, extra_args=self.get_private_broadcast_args())\n+        self.reload_sender_wallet()\n+\n+        # Verify both transactions still unconfirmed\n+        self.assert_tx_unconfirmed(self.txid_private, \"Test 3\")\n+        self.assert_tx_unconfirmed(self.txid_public, \"Test 3\")\n+\n+        # Saturate network-specific connection logic before populating addrman\n+        self.saturate_reachable_networks(self.nodes[0])\n+        # Re-populate addrman for private broadcast\n+        add_addresses_to_addrman(self.nodes[0], FAKE_ONION_ADDRESSES[:5], self.log)\n+\n+        # Track log position to verify NEW messages (not from earlier tests)\n+        log_pos = self.get_log_pos(sender)\n+\n+        # Trigger resubmission and verify:\n+        # - txid_private (has flag): resubmitted via private broadcast\n+        # - txid_public (no flag): also resubmitted privately (adds plausible deniability)\n+        skip_private_msg = f\"skipping tx {self.txid_private} originally sent via private broadcast\"\n+\n+        with sender.assert_debug_log(expected_msgs=[], unexpected_msgs=[skip_private_msg]):\n+            self.trigger_wallet_resubmit(sender)\n+\n+        # Verify both transactions triggered private broadcast\n+        self.wait_for_log_message(sender, f\"Requesting 3 new connections due to txid={self.txid_private}\", log_pos)\n+        self.wait_for_log_message(sender, f\"Requesting 3 new connections due to txid={self.txid_public}\", log_pos)\n+        self.wait_until(lambda: len(self.proxy.destinations) >= 1)\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={self.txid_private}\", log_pos)\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={self.txid_public}\", log_pos)\n+\n+        self.log.info(\"Both transactions rebroadcast via private broadcast\")\n+\n+        # Cleanup\n+        self.proxy.stop()\n+\n+    def test_bumpfee_refused_without_private_broadcast(self):\n+        \"\"\"Test that fee-bumping a private tx is refused when -privatebroadcast is off.\n+\n+        Scenario: user sends privately, restarts without -privatebroadcast, then bumps the fee.\n+        The bumped tx spends the same inputs as the original — broadcasting it over clearnet would\n+        link this node's IP to the original privately-broadcast transaction, defeating its purpose.\n+        \"\"\"\n+        self.log.info(\"Testing bumpfee is refused for private tx when -privatebroadcast is off...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Restart without -privatebroadcast\n+        self.restart_node(0, extra_args=[\"-v2transport=0\", \"-fallbackfee=0.00001\"])\n+        self.reload_sender_wallet()\n+        sender.setmocktime(0)\n+\n+        # Verify original tx has private_broadcast flag\n+        tx_info = self.sender_wallet.gettransaction(self.txid_private)\n+        assert_equal(tx_info[\"private_broadcast\"], \"1\")\n+\n+        # Verify original tx is in mempool (loaded on startup by postInitProcess)\n+        assert self.txid_private in sender.getrawmempool()\n+\n+        # Bump should be REFUSED: broadcasting the replacement over clearnet would\n+        # link this node's IP to the same inputs as the privately-broadcast original.\n+        tx_count_before = self.sender_wallet.getwalletinfo()[\"txcount\"]\n+        assert_raises_rpc_error(\n+            -4,\n+            \"replacement of a privately broadcast transaction\",\n+            self.sender_wallet.bumpfee, self.txid_private\n+        )\n+\n+        # Verify no replacement tx was added to the wallet\n+        assert_equal(self.sender_wallet.getwalletinfo()[\"txcount\"], tx_count_before)\n+\n+        self.log.info(\"Bumpfee correctly refused for privately-broadcast tx\")\n+\n+    def test_bumpfee_with_private_broadcast(self):\n+        \"\"\"Test that fee-bumping a private tx succeeds when -privatebroadcast is on.\n+\n+        Scenario: user sends privately, restarts with -privatebroadcast, then bumps\n+        the fee. The bumped tx should be sent via private broadcast and inherit the\n+        private_broadcast flag.\n+        \"\"\"\n+        self.log.info(\"Testing bumpfee with -privatebroadcast enabled...\")\n+\n+        sender = self.nodes[0]\n+\n+        # Start new proxy and restart with -privatebroadcast\n+        self.proxy = Socks5ProxyHelper(self.log)\n+        self.proxy.start_simple_redirect(\"127.0.0.1\", tor_port(1))\n+\n+        self.restart_node(0, extra_args=self.get_private_broadcast_args() + [\"-fallbackfee=0.00001\"])\n+        self.reload_sender_wallet()\n+        sender.setmocktime(0)\n+\n+        # Populate addrman and saturate reachable networks for private broadcast\n+        self.saturate_reachable_networks(sender)\n+        add_addresses_to_addrman(sender, FAKE_ONION_ADDRESSES[:5], self.log)\n+\n+        # Verify original tx has private_broadcast flag and is in mempool\n+        tx_info = self.sender_wallet.gettransaction(self.txid_private)\n+        assert_equal(tx_info[\"private_broadcast\"], \"1\")\n+        assert self.txid_private in sender.getrawmempool()\n+\n+        # Bump the fee — should succeed since -privatebroadcast is enabled\n+        initial_destinations = len(self.proxy.destinations)\n+        result = self.sender_wallet.bumpfee(self.txid_private)\n+        bumped_txid = result[\"txid\"]\n+        self.log.info(f\"Bumped tx {self.txid_private} -> {bumped_txid}\")\n+\n+        # Verify bumped tx has private_broadcast flag\n+        bumped_info = self.sender_wallet.gettransaction(bumped_txid)\n+        assert_equal(bumped_info[\"private_broadcast\"], \"1\")\n+        self.log.info(\"Bumped tx correctly has private_broadcast flag\")\n+\n+        # Verify private broadcast: connections through SOCKS5 proxy\n+        self.wait_until(lambda: len(self.proxy.destinations) > initial_destinations)\n+        self.log.info(\"SOCKS5 connections established for bumped tx\")\n+\n+        # Verify INV sent via private broadcast\n+        self.wait_for_log_message(sender, f\"P2P handshake completed, sending INV for txid={bumped_txid}\")\n+        self.log.info(\"Private broadcast INV sent for bumped tx\")\n+\n+        # Cleanup\n+        self.proxy.stop()\n+\n+    def test_error_when_tor_i2p_unavailable(self):\n+        \"\"\"Test that wallet RPCs fail gracefully when Tor/I2P is not reachable.\"\"\"\n+        self.log.info(\"Testing error when Tor/I2P unavailable...\")\n+\n+        # Restart with -privatebroadcast but broken Tor setup:\n+        # - -listenonion allows startup (expects to get proxy from Tor later)\n+        # - -torcontrol=127.0.0.1:1 fails (port 1 is privileged, nothing listens)\n+        # - Result: No working Tor proxy, no I2P, private broadcast unavailable\n+        self.restart_node(0, extra_args=[\n+            \"-privatebroadcast=1\",\n+            \"-v2transport=0\",\n+            \"-listenonion\",\n+            \"-torcontrol=127.0.0.1:1\",\n+        ])\n+        self.reload_sender_wallet()\n+\n+        dest = self.receiver_wallet.getnewaddress()\n+\n+        assert_raises_rpc_error(\n+            -1,\n+            \"none of the Tor or I2P networks is reachable\",\n+            self.sender_wallet.sendtoaddress, dest, 0.1\n+        )\n+        self.log.info(\"sendtoaddress correctly rejected\")\n+\n+        # Also test that rebroadcast logs the error (not silently fails)\n+        # txid_private still has private_broadcast=1 flag and should attempt rebroadcast\n+        self.assert_tx_unconfirmed(self.txid_private, \"rebroadcast error test\")\n+\n+        error_msg = f\"failed to resubmit {self.txid_private}\"\n+        with self.nodes[0].assert_debug_log(expected_msgs=[error_msg, \"Tor or I2P networks is reachable\"]):\n+            self.trigger_wallet_resubmit(self.nodes[0])\n+\n+        self.log.info(\"Rebroadcast failure correctly logged\")\n+\n+    # =========================================================================\n+    # Main test execution\n+    # =========================================================================\n+\n+    def run_test(self):\n+        # Setup: Add observer and populate addrman\n+        self.observer = self.nodes[1].add_p2p_connection(P2PInterface())\n+        self.observer.wait_for_verack()\n+\n+        # Saturate network-specific connection logic before populating addrman\n+        self.saturate_reachable_networks(self.nodes[0])\n+        add_addresses_to_addrman(self.nodes[0], FAKE_ONION_ADDRESSES[:5], self.log)\n+        self.create_and_fund_wallets()\n+\n+        # Run tests in sequence (they share state).\n+        # test_bumpfee_with_private_broadcast must be last because it\n+        # replaces txid_private, which earlier tests depend on.\n+        self.test_sendtoaddress_private_broadcast()\n+        self.test_private_flag_prevents_public_rebroadcast()\n+        self.test_public_tx_rebroadcast_privately()\n+        self.test_error_when_tor_i2p_unavailable()\n+        self.test_bumpfee_refused_without_private_broadcast()\n+        self.test_bumpfee_with_private_broadcast()\n+\n+        self.log.info(\"All wallet private broadcast tests passed!\")\n+",
      "path": "test/functional/wallet_private_broadcast.py",
      "position": 445,
      "original_position": 445,
      "commit_id": "3645cccf8ade879381bd3c9f2f5196e66510006e",
      "original_commit_id": "3645cccf8ade879381bd3c9f2f5196e66510006e",
      "in_reply_to_id": null,
      "user": {
        "login": "Bicaru20",
        "id": 91594426,
        "node_id": "U_kgDOBXWeug",
        "avatar_url": "https://avatars.githubusercontent.com/u/91594426?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bicaru20",
        "html_url": "https://github.com/Bicaru20",
        "followers_url": "https://api.github.com/users/Bicaru20/followers",
        "following_url": "https://api.github.com/users/Bicaru20/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bicaru20/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bicaru20/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bicaru20/subscriptions",
        "organizations_url": "https://api.github.com/users/Bicaru20/orgs",
        "repos_url": "https://api.github.com/users/Bicaru20/repos",
        "events_url": "https://api.github.com/users/Bicaru20/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bicaru20/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I had the same error after the log message `Stopping nodes`. I've solved it doing the same.\n```suggestion\n        self.log.info(\"All wallet private broadcast tests passed!\")\n        time.sleep(0.1)\n```",
      "created_at": "2026-02-11T20:12:52Z",
      "updated_at": "2026-02-11T20:22:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34457#discussion_r2795285188",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2795285188"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34457"
        }
      },
      "start_line": 444,
      "original_start_line": 444,
      "start_side": "RIGHT",
      "line": 445,
      "original_line": 445,
      "side": "RIGHT"
    }
  ]
}