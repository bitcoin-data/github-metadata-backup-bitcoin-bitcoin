{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374",
    "id": 2822409784,
    "node_id": "PR_kwDOABII586oOo44",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33374",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33374.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33374.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33374",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33374/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e3f0686baaf78a82b6330741596af237de6f2b58",
    "number": 33374,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "mining: add applySolution() to interface",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Unlike the `submitblock` RPC which takes a fully serialized block, when a block solution is received via IPC the client only provides the nonce, coinbase and a few other fields. It may not have all the information it needs to reconstruct the block. This makes debugging difficult when the block is invalid.\r\n\r\nThis commit adds `applySolution()` which returns the reconstructed block and can be used by the client for debugging. It's assigned `@11` in the `.cap` file, and will not break existing client software.\r\n\r\nIt can also be used by the client for an alternative broadcast mechanism.\r\n\r\nThis is alternative or complimentary approach to:\r\n- #33372 \r\n\r\nBased on:\r\n- #33380\r\n",
    "labels": [
      {
        "id": 118378960,
        "node_id": "MDU6TGFiZWwxMTgzNzg5NjA=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mining",
        "name": "Mining",
        "color": "c7def8",
        "default": false
      }
    ],
    "created_at": "2025-09-12T11:48:32Z",
    "updated_at": "2025-09-16T16:38:31Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "505985ee5c0fce35d32175b457b239c4b606f11b",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "Sjors:2025/08/applySolution",
      "ref": "2025/08/applySolution",
      "sha": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 92390696,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjM5MDY5Ng==",
        "name": "bitcoin",
        "full_name": "Sjors/bitcoin",
        "owner": {
          "login": "Sjors",
          "id": 10217,
          "node_id": "MDQ6VXNlcjEwMjE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Sjors",
          "html_url": "https://github.com/Sjors",
          "followers_url": "https://api.github.com/users/Sjors/followers",
          "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
          "organizations_url": "https://api.github.com/users/Sjors/orgs",
          "repos_url": "https://api.github.com/users/Sjors/repos",
          "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Sjors/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/Sjors/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Sjors/bitcoin",
        "archive_url": "https://api.github.com/repos/Sjors/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Sjors/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Sjors/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Sjors/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Sjors/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Sjors/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Sjors/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Sjors/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Sjors/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Sjors/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Sjors/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Sjors/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Sjors/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Sjors/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Sjors/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Sjors/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Sjors/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Sjors/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Sjors/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Sjors/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Sjors/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Sjors/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Sjors/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Sjors/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Sjors/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Sjors/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Sjors/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Sjors/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Sjors/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Sjors/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Sjors/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Sjors/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Sjors/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Sjors/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Sjors/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Sjors/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Sjors/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Sjors/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Sjors/bitcoin/hooks",
        "svn_url": "https://github.com/Sjors/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 11,
        "stargazers_count": 14,
        "watchers_count": 14,
        "size": 275195,
        "default_branch": "2025/06/musig2-power",
        "open_issues_count": 6,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-09-16T14:49:24Z",
        "created_at": "2017-05-25T10:05:54Z",
        "updated_at": "2025-07-13T19:52:25Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "c4adfbf70626d34c23b338f4d6af5a6835f9c9bb",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37793,
        "stargazers_count": 85534,
        "watchers_count": 85534,
        "size": 293569,
        "default_branch": "master",
        "open_issues_count": 787,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-09-16T16:45:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-09-16T16:45:08Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 85,
    "deletions": 3,
    "changed_files": 5,
    "commits": 3,
    "review_comments": 10,
    "comments": 5
  },
  "events": [
    {
      "event": "labeled",
      "id": 19659025286,
      "node_id": "LE_lADOABII587LQtSyzwAAAASTxOuG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19659025286",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-12T11:48:35Z",
      "label": {
        "name": "Mining",
        "color": "c7def8"
      }
    },
    {
      "event": "commented",
      "id": 3284965890,
      "node_id": "IC_kwDOABII587DzJoC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3284965890",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-12T11:48:37Z",
      "updated_at": "2025-09-16T14:50:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33374.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/33374#pullrequestreview-3224409033) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\nPossible typos and grammar issues:\n\n- @param[in] version version block header field -> @param[in] version block header field [duplicate word \"version\" makes the phrase awkward/confusing]\n- @param[in] timestamp time block header field (unix timestamp) -> @param[in] timestamp block header field (unix timestamp) [extra word \"time\" makes the parameter name/description redundant/confusing]\n- @param[in] nonce nonce block header field -> @param[in] nonce block header field [duplicate word \"nonce\" makes the phrase awkward/confusing]\n\n<sup>drahtbot_id_5_m</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#issuecomment-3284965890",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33374"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19665490935,
      "node_id": "HRFPE_lADOABII587LQtSyzwAAAASUJ5P3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19665490935",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "created_at": "2025-09-12T17:05:06Z"
    },
    {
      "event": "commented",
      "id": 3286123576,
      "node_id": "IC_kwDOABII587D3kQ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3286123576",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-12T17:05:16Z",
      "updated_at": "2025-09-12T17:05:16Z",
      "author_association": "MEMBER",
      "body": "Fixed typo.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#issuecomment-3286123576",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33374"
    },
    {
      "event": "reviewed",
      "id": 3223123539,
      "node_id": "PRR_kwDOABII587AHPZT",
      "url": null,
      "actor": null,
      "commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-09-15T07:29:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "I like this better than just logging stuff, for whatever that's worth.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#pullrequestreview-3223123539",
      "submitted_at": "2025-09-15T07:29:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBhMjY3MzFjNGNjMTgyZTg4N2NlOTU5Y2RkMzAxMjI3Y2RjNzUyZDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0a26731c4cc182e887ce959cdd301227cdc752d7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0a26731c4cc182e887ce959cdd301227cdc752d7",
      "tree": {
        "sha": "4d957088e9c5e69d4173f0bd433d6ecefd19bd6f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4d957088e9c5e69d4173f0bd433d6ecefd19bd6f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4d957088e9c5e69d4173f0bd433d6ecefd19bd6f\nparent 853f0d881142ca175717b8492ce27f7387d92369\nauthor TheCharlatan <seb.kung@gmail.com> 1757686974 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1757931943 +0200\n\ntest: Add submitblock test in interface_ipc\n\nCo-Authored-By: Sjors Provoost <sjors@sprovoost.nl>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmjH6awACgkQm3m0VpHb\nQXPZzw/+LvLLZVBEOYI7Z6BH5wsTBUVftdgqEZRMxVUs9QPfOl+pQxVX9c4YVdQs\nZTGYD+poEIu8bzR+vZOqddNrT7X39SpxFxFsG6rcSl3vg0L5kFYQGOBYI3xILXVo\nDVzQhy6n8GMEY3mo9r9te/rM4IjUy/OU4UWdM/48rAX/7v9IMzPREn4n4E9FgvWM\nhRS1P+eDCcD1hFVUQtHeh2S7ShdFaW+luPyn2RilW8KSBwykJUkgyov9y7lvYind\nXwYDfd/mWtHkXFs6VJ5qIYk43sl8oYkOdjSlM2dOA/ZImOxoUeHnTdIMQVwySDHV\nChqe6mz3eUUJ3yywiuk6FJoWZBEuMzAJ5CKXBbd//E0ealdfNF4AUGZqlxe3ZPKR\nqtjZRk7LKeDEOpFIJx5fkzoH4JTPrGcopN8Fd8eKfEZrftWEBgBOAg1VP19EnQnz\nW0dz+vyRUFSz4Ys8CXY3Ke69jTeHm4ACEDELXKvbjO1C75Ubavjo2eXMK0sUcTQH\nQDjGE3LHjLpRGf/tDqSHgjE2fh2lODi43NfY5Dbzt9vuoHEFW+4GNsX/bE7mgvM/\nl63LTxIXr9AgtFNWCcQXOj6ubAm9ZduIoHep35j9M7Dnylv8eaYys1j68grNqhoj\nWcGXOLmoeTLCyO3SYJx5VN8ExxvT47va+tGIY3nHzpIwighzaXI=\n=1aIy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/853f0d881142ca175717b8492ce27f7387d92369",
          "sha": "853f0d881142ca175717b8492ce27f7387d92369",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/853f0d881142ca175717b8492ce27f7387d92369"
        }
      ],
      "message": "test: Add submitblock test in interface_ipc\n\nCo-Authored-By: Sjors Provoost <sjors@sprovoost.nl>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-09-15T10:25:43Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-09-12T14:22:54Z"
      },
      "sha": "0a26731c4cc182e887ce959cdd301227cdc752d7"
    },
    {
      "event": "reviewed",
      "id": 3224409033,
      "node_id": "PRR_kwDOABII587AMJPJ",
      "url": null,
      "actor": null,
      "commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-09-15T13:09:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, this does seem like a more general solution than 33372.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#pullrequestreview-3224409033",
      "submitted_at": "2025-09-15T13:09:31Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
    },
    {
      "event": "convert_to_draft",
      "id": 19727251377,
      "node_id": "CTDE_lADOABII587LQtSyzwAAAASX1fex",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19727251377",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T13:41:10Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY2Zjg2MzNjZTQzZDg3NTk4NGEzNzJmNWJiNzczNDk2YWRmZTlhNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6f8633ce43d875984a372f5bb773496adfe9a72",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f6f8633ce43d875984a372f5bb773496adfe9a72",
      "tree": {
        "sha": "e6270f3cd930e4439a541ce2fba5db6a427062fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e6270f3cd930e4439a541ce2fba5db6a427062fe"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e6270f3cd930e4439a541ce2fba5db6a427062fe\nparent 0a26731c4cc182e887ce959cdd301227cdc752d7\nauthor Sjors Provoost <sjors@sprovoost.nl> 1757678615 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1758034003 +0200\n\nmining: add applySolution() to interface\n\nUnlike the submitblock RPC which takes a fully serialized block,\nwhen a block solution is received via IPC the client only provides\nthe nonce, coinbase and a few other fields. It may not have all\nthe information it needs to reconstruct the block. This makes\ndebugging difficult when the block is invalid.\n\nThis commit adds applySolution() which returns the reconstructed block\nand can be used by the client for debugging.\n\nIt can also be used by the client for an alternative broadcast mechanism.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmjJeFMACgkQV/+b28ww\nEAmX5A//YANFPaH9w6EkkRTaTQxBZxIFyoKvZra+AJJ475lwtsJuBOop70Yeve9a\nFByjBF0t+8XGV/vQ+Mh4B93FNojvbojxu3+VQRa9E9Ts/LWX8P6PWFKxIOnQIEl7\nmX1gFpuQ7CkuQxsrn1iS9UbLSpmdxGEZqMcUvwQyJJh81ZxYVsDvmCHtiWxzlFWr\n9Vm/EHj+WMdAm0JijQJ2k3snvpnRpyd+Ub/pRE/jG6WomzL2TFyuz4Q6/AAfOS5c\ndrzpzrEdmikyzkuBlQ/Q34ckGSSJ2X82WBBpa8fnv4vQ5AAJPa95ZwOyYfHuzlWk\n2w2C/D7nceKO8BI8jbahgHAMonqC4jWO4YT8RHTubE5Gb6Lj96PqfMdZDXPPqpHd\nKKDPhfrU+PHSy7wh5RsTYKtNec1a2Czg+ERpqHpFRyufwHT/pSn0voSht1rqW1gc\nsIDNg+r31pNvvgeKjhuglXgTn7B0jmxLEOYdOkoJCgcehQJr+nmmCsxBm0bd9lxd\n+WRO7ZcpTWV/x/0Bpgn/3VHOhR+gyaQ1Y18SolgXjghJL3S9j9A4JKBxgTR33BsI\nE2oDRjhSWZVFvdqMao8XrD9r2JA7SZFu0d+wRuf7QTQfNwdb2GRilcEHnIupmvxS\nIzuUTvVcPYyx3RGwarKF2sSvpzAHnUuUBmt9qq2YS0LssGqVLLE=\n=hsdj\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0a26731c4cc182e887ce959cdd301227cdc752d7",
          "sha": "0a26731c4cc182e887ce959cdd301227cdc752d7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0a26731c4cc182e887ce959cdd301227cdc752d7"
        }
      ],
      "message": "mining: add applySolution() to interface\n\nUnlike the submitblock RPC which takes a fully serialized block,\nwhen a block solution is received via IPC the client only provides\nthe nonce, coinbase and a few other fields. It may not have all\nthe information it needs to reconstruct the block. This makes\ndebugging difficult when the block is invalid.\n\nThis commit adds applySolution() which returns the reconstructed block\nand can be used by the client for debugging.\n\nIt can also be used by the client for an alternative broadcast mechanism.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2025-09-16T14:46:43Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2025-09-12T12:03:35Z"
      },
      "sha": "f6f8633ce43d875984a372f5bb773496adfe9a72"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUzZjA2ODZiYWFmNzhhODJiNjMzMDc0MTU5NmFmMjM3ZGU2ZjJiNTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e3f0686baaf78a82b6330741596af237de6f2b58",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e3f0686baaf78a82b6330741596af237de6f2b58",
      "tree": {
        "sha": "bda351ec17a661de5376a2179a6f97fb577424eb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bda351ec17a661de5376a2179a6f97fb577424eb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree bda351ec17a661de5376a2179a6f97fb577424eb\nparent f6f8633ce43d875984a372f5bb773496adfe9a72\nauthor Sjors Provoost <sjors@sprovoost.nl> 1758033863 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1758034003 +0200\n\ndoc: submitSolution doesn't add a witness\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmjJeFMACgkQV/+b28ww\nEAl16w//d2GDMQSX6/KjhDXrN/Zjbp4lNQsMFRQy10IEiC7CrqBt/lDzIwlzSZ7f\nEF+IvH/BSeFdx/e6X9r7ugECFeqtZu72FIS1SYHq9D6iNYQUgeUxpDKDOwVWVl01\nyci36oo/iCWO2nSSR7u6GeV0D3bvXOJ0PUFFi07e06qnFQY2VduUbmH4dFV+EaZH\nPnwAxoct2jgw5IgObp+fP1oJ8uhW0MCHWbdGAHUx+AvbQhbSWxMgO7U60/oRYBdC\no/2YkNcieoLUm8JSLmcblcqcyi+xE6omijxa94RkeQDncXqOFOL4uYVgMZo2tOz4\nIFVb4ohY63VyQjc3fHO8Cr+Fz2+wggUl20hM/GDLIfc/qxshXmF0QNEm6veHEvR+\nSm/dQd0f6aGDJNopAsjzctfy8oqC5+KjX8mt77/0eU8Kx6FuhqAFUsz+25CPaQ9z\n7u7TGB42slwkmH0N3idOF3/JxrdqC8COVoY0lN6kF7elFh23VbYlv4lfAsBS1gaj\n5wmTtpVrEY22pZQnMLjiwNg6MoV2u/5KE5hJUHz2EhYIQyKtHVeUm8dtOVg9rfrQ\nNu+5crtei505BFbjnvEGQrDAT7v5luEUZ7ER9rYYiJtOKQwXXZR4++JnOv7ye9HW\nPfHREaGe0RDpq++PHqrAUXe/wE3o6O9iUl27Epn5ufYpOaSjo/Y=\n=Tk2N\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6f8633ce43d875984a372f5bb773496adfe9a72",
          "sha": "f6f8633ce43d875984a372f5bb773496adfe9a72",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f6f8633ce43d875984a372f5bb773496adfe9a72"
        }
      ],
      "message": "doc: submitSolution doesn't add a witness",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2025-09-16T14:46:43Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2025-09-16T14:44:23Z"
      },
      "sha": "e3f0686baaf78a82b6330741596af237de6f2b58"
    },
    {
      "event": "commented",
      "id": 3299129244,
      "node_id": "IC_kwDOABII587EpLec",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3299129244",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T14:49:27Z",
      "updated_at": "2025-09-16T14:54:16Z",
      "author_association": "MEMBER",
      "body": "On second thought I don't think mutating the block is a problem.\r\n\r\n> I think this assumes that the provided coinbase tx includes the coinbase witness, which is different to how `submitblock` behaves. (In particular `submitblock` includes a call to `chainman.UpdateUncommittedBlockStructures`, whereas `AddMerkleRootAndCoinbase` doesn't) That seems like it might be a source of bugs -- might at least be worth adding a check and having an explicit log message if the coinbase requires a witness but doesn't have it?\r\n\r\nIIUC only the `submitblock` **RPC** adds the coinbase witness, whereas `submitSolution()` and `applySolution()` IPC calls both don't.\r\n\r\nThis has been a source of confusion:\r\n- https://github.com/stratum-mining/sv2-spec/discussions/156\r\n- https://github.com/Sjors/sv2-tp/pull/10\r\n\r\nSo far the SRI software has been giving us a complete coinbase, including the coinbase witness. But this involved a hardcoded assumption about its value. The current ambition is to have the Template Provider communicate this value (eventually, no rush).\r\n\r\nBut it seems the approach in RPC land was different: we don't communicate the coinbase witness to pool software and just fix it when they submit the solution. The description of says \"This is safe for submitted blocks.\", but that's only true if the pool took our SegWit `OP_RETURN`.\r\n\r\nThe latter is not unreasonable, but I would prefer that we pick one approach:\r\n1. Give pools both the `OP_RETURN` and coinbase witness; or\r\n2. The pool figures out both values\r\n\r\nI prefer (1).\r\n\r\ncc @plebhash.\r\n\r\n> FWIW I think `miner_tests` is being run against mainnet params for ~100 blocks, which means that segwit is never active (it activates at block 481824), so the witness-specific code isn't being tested there.\r\n\r\nI rebased this on #33380 and added a test on regtest. This checks that dropping the coinbase witness has an effect. You can verify this test by modifying `applySolution()`:\r\n\r\n```cpp\r\nAddMerkleRootAndCoinbase(m_block_template->block, std::move(coinbase), version, timestamp, nonce);\r\nLOCK(cs_main);\r\n# yolo\r\nchainman().UpdateUncommittedBlockStructures(m_block_template->block, chainman().ActiveTip());\r\nreturn m_block_template->block;\r\n```\r\n",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#issuecomment-3299129244",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33374"
    },
    {
      "event": "mentioned",
      "id": 19728839330,
      "node_id": "MEE_lADOABII587LQtSyzwAAAASX7jKi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19728839330",
      "actor": {
        "login": "plebhash",
        "id": 147345153,
        "node_id": "U_kgDOCMhPAQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/147345153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/plebhash",
        "html_url": "https://github.com/plebhash",
        "followers_url": "https://api.github.com/users/plebhash/followers",
        "following_url": "https://api.github.com/users/plebhash/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/plebhash/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/plebhash/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/plebhash/subscriptions",
        "organizations_url": "https://api.github.com/users/plebhash/orgs",
        "repos_url": "https://api.github.com/users/plebhash/repos",
        "events_url": "https://api.github.com/users/plebhash/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/plebhash/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T14:49:28Z"
    },
    {
      "event": "subscribed",
      "id": 19728839383,
      "node_id": "SE_lADOABII587LQtSyzwAAAASX7jLX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19728839383",
      "actor": {
        "login": "plebhash",
        "id": 147345153,
        "node_id": "U_kgDOCMhPAQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/147345153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/plebhash",
        "html_url": "https://github.com/plebhash",
        "followers_url": "https://api.github.com/users/plebhash/followers",
        "following_url": "https://api.github.com/users/plebhash/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/plebhash/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/plebhash/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/plebhash/subscriptions",
        "organizations_url": "https://api.github.com/users/plebhash/orgs",
        "repos_url": "https://api.github.com/users/plebhash/repos",
        "events_url": "https://api.github.com/users/plebhash/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/plebhash/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T14:49:29Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19728849500,
      "node_id": "HRFPE_lADOABII587LQtSyzwAAAASX7lpc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19728849500",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/e3f0686baaf78a82b6330741596af237de6f2b58",
      "created_at": "2025-09-16T14:49:53Z"
    },
    {
      "event": "mentioned",
      "id": 19728873083,
      "node_id": "MEE_lADOABII587LQtSyzwAAAASX7rZ7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19728873083",
      "actor": {
        "login": "param",
        "id": 88536923,
        "node_id": "MDQ6VXNlcjg4NTM2OTIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/88536923?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/param",
        "html_url": "https://github.com/param",
        "followers_url": "https://api.github.com/users/param/followers",
        "following_url": "https://api.github.com/users/param/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/param/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/param/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/param/subscriptions",
        "organizations_url": "https://api.github.com/users/param/orgs",
        "repos_url": "https://api.github.com/users/param/repos",
        "events_url": "https://api.github.com/users/param/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/param/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T14:50:53Z"
    },
    {
      "event": "subscribed",
      "id": 19728873117,
      "node_id": "SE_lADOABII587LQtSyzwAAAASX7rad",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19728873117",
      "actor": {
        "login": "param",
        "id": 88536923,
        "node_id": "MDQ6VXNlcjg4NTM2OTIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/88536923?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/param",
        "html_url": "https://github.com/param",
        "followers_url": "https://api.github.com/users/param/followers",
        "following_url": "https://api.github.com/users/param/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/param/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/param/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/param/subscriptions",
        "organizations_url": "https://api.github.com/users/param/orgs",
        "repos_url": "https://api.github.com/users/param/repos",
        "events_url": "https://api.github.com/users/param/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/param/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T14:50:53Z"
    },
    {
      "event": "commented",
      "id": 3299309843,
      "node_id": "IC_kwDOABII587Ep3kT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3299309843",
      "actor": {
        "login": "plebhash",
        "id": 147345153,
        "node_id": "U_kgDOCMhPAQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/147345153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/plebhash",
        "html_url": "https://github.com/plebhash",
        "followers_url": "https://api.github.com/users/plebhash/followers",
        "following_url": "https://api.github.com/users/plebhash/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/plebhash/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/plebhash/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/plebhash/subscriptions",
        "organizations_url": "https://api.github.com/users/plebhash/orgs",
        "repos_url": "https://api.github.com/users/plebhash/repos",
        "events_url": "https://api.github.com/users/plebhash/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/plebhash/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T15:32:19Z",
      "updated_at": "2025-09-16T15:32:19Z",
      "author_association": "NONE",
      "body": "> The current ambition is to have the Template Provider communicate this value (eventually, no rush).\r\n\r\nthis would require a change to the Sv2 spec so that `NewTemplate` message carries a new field called `coinbase_witness `. \r\n\r\nbut unfortunately, changing Sv2 spec is usually received with resistance from the current players.\r\n\r\nif/when a softfork happens and we start committing stuff to the coinbases' `witness reserved value`, that could be stronger motivation.\r\n\r\nbut until that day comes, this spec change would be merely motivated for making Sv2 \"future-proof\" with regards to this hypothetical soft fork.\r\n\r\nso this is all to put some extra emphasis on the **(eventually, no rush)** quoted above.\r\n\r\n---\r\n\r\n> 1. Give pools both the OP_RETURN and coinbase witness; or\r\n> 2. The pool figures out both values\r\n>\r\n> I prefer (1).\r\n\r\nIn Sv2 terms, option 2. would incur in extra round trips (`RequestTransactionData/.Success`) and computation of witness root, which would translate into undesired delays.\r\n\r\nSo I'd prefer 1 as well. Even if Bitcoin Core continues to redundantly provide `0x000...000` as coinbase witness and Sv2 spec continues sticking to the assumption that coinbase witness always has this same value.\r\n\r\nSo whenever we get consensus a Sv2 spec change (either preemptively or forced by a soft-fork), the Sv2 TP would already have means to fill `NewTemplate.coinbase_witness` with appropriate values coming from Bitcoin Core via IPC.\r\n\r\n---\r\n\r\nBut AFAIU, that's somewhat different from the proposal on this PR, right?\r\n\r\nIIUC this PR is only adding a new `applySolution`, and the discussion point now is simply the assumptions about how such solution would be crafted by Sv2 software.",
      "user": {
        "login": "plebhash",
        "id": 147345153,
        "node_id": "U_kgDOCMhPAQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/147345153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/plebhash",
        "html_url": "https://github.com/plebhash",
        "followers_url": "https://api.github.com/users/plebhash/followers",
        "following_url": "https://api.github.com/users/plebhash/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/plebhash/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/plebhash/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/plebhash/subscriptions",
        "organizations_url": "https://api.github.com/users/plebhash/orgs",
        "repos_url": "https://api.github.com/users/plebhash/repos",
        "events_url": "https://api.github.com/users/plebhash/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/plebhash/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#issuecomment-3299309843",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33374"
    },
    {
      "event": "commented",
      "id": 3299548132,
      "node_id": "IC_kwDOABII587Eqxvk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3299548132",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T16:38:31Z",
      "updated_at": "2025-09-16T16:38:31Z",
      "author_association": "MEMBER",
      "body": "@plebhash indeed this PR just introduces the extra method and clarifies in the documentation that `submitSolution` and `applySolution` are slightly different from the `submitsolution` RPC.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#issuecomment-3299548132",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33374"
    },
    {
      "event": "mentioned",
      "id": 19731269966,
      "node_id": "MEE_lADOABII587LQtSyzwAAAASYE0lO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19731269966",
      "actor": {
        "login": "plebhash",
        "id": 147345153,
        "node_id": "U_kgDOCMhPAQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/147345153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/plebhash",
        "html_url": "https://github.com/plebhash",
        "followers_url": "https://api.github.com/users/plebhash/followers",
        "following_url": "https://api.github.com/users/plebhash/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/plebhash/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/plebhash/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/plebhash/subscriptions",
        "organizations_url": "https://api.github.com/users/plebhash/orgs",
        "repos_url": "https://api.github.com/users/plebhash/repos",
        "events_url": "https://api.github.com/users/plebhash/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/plebhash/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T16:38:33Z"
    },
    {
      "event": "subscribed",
      "id": 19731270002,
      "node_id": "SE_lADOABII587LQtSyzwAAAASYE0ly",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19731270002",
      "actor": {
        "login": "plebhash",
        "id": 147345153,
        "node_id": "U_kgDOCMhPAQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/147345153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/plebhash",
        "html_url": "https://github.com/plebhash",
        "followers_url": "https://api.github.com/users/plebhash/followers",
        "following_url": "https://api.github.com/users/plebhash/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/plebhash/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/plebhash/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/plebhash/subscriptions",
        "organizations_url": "https://api.github.com/users/plebhash/orgs",
        "repos_url": "https://api.github.com/users/plebhash/repos",
        "events_url": "https://api.github.com/users/plebhash/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/plebhash/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T16:38:33Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348023413",
      "pull_request_review_id": 3223123539,
      "id": 2348023413,
      "node_id": "PRRC_kwDOABII586L8_51",
      "diff_hunk": "@@ -32,6 +32,7 @@ interface BlockTemplate $Proxy.wrap(\"interfaces::BlockTemplate\") {\n     getWitnessCommitmentIndex @7 (context: Proxy.Context) -> (result: Int32);\n     getCoinbaseMerklePath @8 (context: Proxy.Context) -> (result: List(Data));\n     submitSolution @9 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Bool);\n+    applySolution @11 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Data);",
      "path": "src/ipc/capnp/mining.capnp",
      "position": 4,
      "original_position": 4,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The existing entries seem to be in order of the `@n` value rather than alphabetically.",
      "created_at": "2025-09-15T06:46:14Z",
      "updated_at": "2025-09-15T07:29:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348023413",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348023413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348048893",
      "pull_request_review_id": 3223123539,
      "id": 2348048893,
      "node_id": "PRRC_kwDOABII586L9GH9",
      "diff_hunk": "@@ -916,6 +916,12 @@ class BlockTemplateImpl : public BlockTemplate\n         return chainman().ProcessNewBlock(std::make_shared<const CBlock>(m_block_template->block), /*force_processing=*/true, /*min_pow_checked=*/true, /*new_block=*/nullptr);\n     }\n \n+    CBlock applySolution(uint32_t version, uint32_t timestamp, uint32_t nonce, CTransactionRef coinbase) override\n+    {\n+        AddMerkleRootAndCoinbase(m_block_template->block, std::move(coinbase), version, timestamp, nonce);",
      "path": "src/node/interfaces.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think this assumes that the provided coinbase tx includes the coinbase witness, which is different to how `submitblock` behaves. (In particular `submitblock` includes a call to `chainman.UpdateUncommittedBlockStructures`, whereas `AddMerkleRootAndCoinbase` doesn't) That seems like it might be a source of bugs -- might at least be worth adding a check and having an explicit log message if the coinbase requires a witness but doesn't have it?\r\n\r\nFWIW I think `miner_tests` is being run against mainnet params for ~100 blocks, which means that segwit is never active (it activates at block 481824), so the witness-specific code isn't being tested there.",
      "created_at": "2025-09-15T07:00:18Z",
      "updated_at": "2025-09-15T07:29:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348048893",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348048893"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 921,
      "original_line": 921,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348144204",
      "pull_request_review_id": 3223305842,
      "id": 2348144204,
      "node_id": "PRRC_kwDOABII586L9dZM",
      "diff_hunk": "@@ -32,6 +32,7 @@ interface BlockTemplate $Proxy.wrap(\"interfaces::BlockTemplate\") {\n     getWitnessCommitmentIndex @7 (context: Proxy.Context) -> (result: Int32);\n     getCoinbaseMerklePath @8 (context: Proxy.Context) -> (result: List(Data));\n     submitSolution @9 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Bool);\n+    applySolution @11 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Data);",
      "path": "src/ipc/capnp/mining.capnp",
      "position": 4,
      "original_position": 4,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348023413,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Before now* we were able to make breaking changes such as renumbering easily, which is why they were numbered this way.\r\n\r\nWe could order them alphabetically, thematically or based on when they were introduced. I think the first two are better, but no strong preference.\r\n\r\n@ryanofsky what do you think is better?\r\n\r\n* = it's still not a big deal at this stage to break clients ",
      "created_at": "2025-09-15T07:48:21Z",
      "updated_at": "2025-09-15T07:50:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348144204",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348144204"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348155638",
      "pull_request_review_id": 3223322350,
      "id": 2348155638,
      "node_id": "PRRC_kwDOABII586L9gL2",
      "diff_hunk": "@@ -916,6 +916,12 @@ class BlockTemplateImpl : public BlockTemplate\n         return chainman().ProcessNewBlock(std::make_shared<const CBlock>(m_block_template->block), /*force_processing=*/true, /*min_pow_checked=*/true, /*new_block=*/nullptr);\n     }\n \n+    CBlock applySolution(uint32_t version, uint32_t timestamp, uint32_t nonce, CTransactionRef coinbase) override\n+    {\n+        AddMerkleRootAndCoinbase(m_block_template->block, std::move(coinbase), version, timestamp, nonce);",
      "path": "src/node/interfaces.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348048893,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "That could be a problem indeed.\r\n\r\nAnother thing that's not great here is that `m_block_template->block` is mutated. Will look into it. My assumption is that in general a client will call `submitSolution` first, since it's time sensitive, and then this method. So it should be fine if it copies to block rather than mutates the original even if that's marginally slower.\r\n\r\nWill look into this.",
      "created_at": "2025-09-15T07:53:17Z",
      "updated_at": "2025-09-15T07:53:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348155638",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348155638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 921,
      "original_line": 921,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348160819",
      "pull_request_review_id": 3223329857,
      "id": 2348160819,
      "node_id": "PRRC_kwDOABII586L9hcz",
      "diff_hunk": "@@ -916,6 +916,12 @@ class BlockTemplateImpl : public BlockTemplate\n         return chainman().ProcessNewBlock(std::make_shared<const CBlock>(m_block_template->block), /*force_processing=*/true, /*min_pow_checked=*/true, /*new_block=*/nullptr);\n     }\n \n+    CBlock applySolution(uint32_t version, uint32_t timestamp, uint32_t nonce, CTransactionRef coinbase) override\n+    {\n+        AddMerkleRootAndCoinbase(m_block_template->block, std::move(coinbase), version, timestamp, nonce);",
      "path": "src/node/interfaces.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348048893,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> is being run against mainnet params for ~100 blocks\r\n\r\nIt uses mainnet in order to have difficulty adjustment, but we should probably _also_ run against regtest for segwit coverage.",
      "created_at": "2025-09-15T07:55:42Z",
      "updated_at": "2025-09-15T07:55:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348160819",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348160819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 921,
      "original_line": 921,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348345510",
      "pull_request_review_id": 3223608643,
      "id": 2348345510,
      "node_id": "PRRC_kwDOABII586L-Oim",
      "diff_hunk": "@@ -916,6 +916,12 @@ class BlockTemplateImpl : public BlockTemplate\n         return chainman().ProcessNewBlock(std::make_shared<const CBlock>(m_block_template->block), /*force_processing=*/true, /*min_pow_checked=*/true, /*new_block=*/nullptr);\n     }\n \n+    CBlock applySolution(uint32_t version, uint32_t timestamp, uint32_t nonce, CTransactionRef coinbase) override\n+    {\n+        AddMerkleRootAndCoinbase(m_block_template->block, std::move(coinbase), version, timestamp, nonce);",
      "path": "src/node/interfaces.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348048893,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "An OP_TRUE signet would presumably get both for whatever that's worth",
      "created_at": "2025-09-15T09:08:36Z",
      "updated_at": "2025-09-15T09:08:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348345510",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348345510"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 921,
      "original_line": 921,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348807001",
      "pull_request_review_id": 3224321120,
      "id": 2348807001,
      "node_id": "PRRC_kwDOABII586L__NZ",
      "diff_hunk": "@@ -32,6 +32,7 @@ interface BlockTemplate $Proxy.wrap(\"interfaces::BlockTemplate\") {\n     getWitnessCommitmentIndex @7 (context: Proxy.Context) -> (result: Int32);\n     getCoinbaseMerklePath @8 (context: Proxy.Context) -> (result: List(Data));\n     submitSolution @9 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Bool);\n+    applySolution @11 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Data);",
      "path": "src/ipc/capnp/mining.capnp",
      "position": 4,
      "original_position": 4,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348023413,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348144204\r\n\r\nI think it makes sense if method order order in `.capnp` files just matches the method order in `.h` files so the declarations are easy to compare.\r\n\r\nSince we haven't needed binary compatibility before, we've just renumbered when making any changes, so numbers have been in order up to this point. But if we want to start having binary compatibility, we won't be able to reassign numbers anymore, and it'll be normal for them not to be in order in the file.\r\n\r\n> * = it's still not a big deal at this stage to break clients\r\n\r\nMakes sense, but to be sure, there are different ways of breaking ciients. For example if we just make changes like renumbering mining methods, or fields, or changing default values, results could be a little chaotic if an old client connects to a new node or vice versa, because client IPC calls could appear to work but invoke the wrong methods and send invalid parameter values.\r\n\r\nA way to make cleaner breaks is to update the `Init.makeMining` method. Give it a new number so only new clients will be able to call it, and add a `Init.makeMiningRemoved` or `init.makeMiningV1` method with the old number that returns null or triggers an error. This way an old client connecting to a new node, or new cient connecting to an old node will fail early instead of sending requests later that would not be interpreted correctly:\r\n\r\n```diff\r\n--- a/src/ipc/capnp/init.capnp\r\n+++ b/src/ipc/capnp/init.capnp\r\n@@ -19,5 +19,8 @@ using Mining = import \"mining.capnp\";\r\n interface Init $Proxy.wrap(\"interfaces::Init\") {\r\n     construct @0 (threadMap: Proxy.ThreadMap) -> (threadMap :Proxy.ThreadMap);\r\n     makeEcho @1 (context :Proxy.Context) -> (result :Echo.Echo);\r\n-    makeMining @2 (context :Proxy.Context) -> (result :Mining.Mining);\r\n+    makeMining @3 (context :Proxy.Context) -> (result :Mining.Mining);\r\n+\r\n+    # Previous declarations for binary compatibility, no longer supported.\r\n+    makeMiningV1 @2 (context :Proxy.Context) -> (result :Mining.Mining);\r\n }\r\n--- a/src/interfaces/init.h\r\n+++ b/src/interfaces/init.h\r\n@@ -38,6 +38,9 @@ public:\r\n     virtual std::unique_ptr<Echo> makeEcho() { return nullptr; }\r\n     virtual Ipc* ipc() { return nullptr; }\r\n     virtual bool canListenIpc() { return false; }\r\n+\r\n+    // For IPC compatibility, no longer supported.\r\n+    virtual std::unique_ptr<Mining> makeMiningV1() { return nullptr; }\r\n };\r\n \r\n //! Return implementation of Init interface for the node process. If the argv\r\n```",
      "created_at": "2025-09-15T12:16:09Z",
      "updated_at": "2025-09-15T12:16:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348807001",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348807001"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348861453",
      "pull_request_review_id": 3224409033,
      "id": 2348861453,
      "node_id": "PRRC_kwDOABII586MAMgN",
      "diff_hunk": "@@ -32,6 +32,7 @@ interface BlockTemplate $Proxy.wrap(\"interfaces::BlockTemplate\") {\n     getWitnessCommitmentIndex @7 (context: Proxy.Context) -> (result: Int32);\n     getCoinbaseMerklePath @8 (context: Proxy.Context) -> (result: List(Data));\n     submitSolution @9 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Bool);\n+    applySolution @11 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data) -> (result: Data);",
      "path": "src/ipc/capnp/mining.capnp",
      "position": 4,
      "original_position": 4,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348023413,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> re: [#33374 (comment)](https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348144204)\r\n\r\nLooking at the PR more, since this is just adding a new method and should be backwards compatible, probably nothing in my comment above applies here, other than that I think it's reasonable for applySolution to follow submitSolution in the .capnp file like it does in the .h file, and for the methods to not be renumbered or sorted by number.",
      "created_at": "2025-09-15T12:36:35Z",
      "updated_at": "2025-09-15T13:09:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348861453",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348861453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348937808",
      "pull_request_review_id": 3224409033,
      "id": 2348937808,
      "node_id": "PRRC_kwDOABII586MAfJQ",
      "diff_hunk": "@@ -916,6 +916,12 @@ class BlockTemplateImpl : public BlockTemplate\n         return chainman().ProcessNewBlock(std::make_shared<const CBlock>(m_block_template->block), /*force_processing=*/true, /*min_pow_checked=*/true, /*new_block=*/nullptr);\n     }\n \n+    CBlock applySolution(uint32_t version, uint32_t timestamp, uint32_t nonce, CTransactionRef coinbase) override\n+    {\n+        AddMerkleRootAndCoinbase(m_block_template->block, std::move(coinbase), version, timestamp, nonce);",
      "path": "src/node/interfaces.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348048893,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Another thing that's not great here is that `m_block_template->block` is mutated.\r\n\r\nIt does seem nicer to not to mutate the block template. And as long as entire block is being serialized and sent over the socket anyway, probably the cost of copying it is not significant.\r\n\r\nBut one thought is that maybe serializing whole block is not necessary, and this could just return CBlockHeader?\r\n\r\nAnother idea is that this could be changed to use output parameters, and the client could decide what information it wants returned. For example:\r\n\r\n```c++\r\nvirtual void applySolution(\r\n    uint32_t version, uint32_t timestamp, uint32_t nonce, CTransactionRef coinbase,\r\n    CBlockHeader* out_header=nullptr, CBlock* out_block=nullptr, std::string* out_invalid_reason=nullptr) = 0;\r\n```\r\n\r\nThe cap'n proto declaration corresponding to this would look like:\r\n\r\n```capnp\r\napplySolution @11 (context: Proxy.Context, version: UInt32, timestamp: UInt32, nonce: UInt32, coinbase :Data, wantHeader: Bool, wantBlock :Bool, wantInvalidReason :Bool) \r\n    -> (header: Data, block: Data, invalidReason: Text);\r\n```\r\n\r\n(libmultimultiprocess uses `wantFoo` parameters and `foo` return values to support c++ methods with optional output parameters.)\r\n\r\nThe idea with the `out_invalid_reason` parameter would be to provide the debug information #33372 was previously logging.\r\n\r\nNot sure if this interface would actually be more useful in practice, but wanted to point out it is possible to return information selectively like this.",
      "created_at": "2025-09-15T13:05:48Z",
      "updated_at": "2025-09-15T13:09:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2348937808",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2348937808"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 921,
      "original_line": 921,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2349501608",
      "pull_request_review_id": 3225401005,
      "id": 2349501608,
      "node_id": "PRRC_kwDOABII586MCoyo",
      "diff_hunk": "@@ -916,6 +916,12 @@ class BlockTemplateImpl : public BlockTemplate\n         return chainman().ProcessNewBlock(std::make_shared<const CBlock>(m_block_template->block), /*force_processing=*/true, /*min_pow_checked=*/true, /*new_block=*/nullptr);\n     }\n \n+    CBlock applySolution(uint32_t version, uint32_t timestamp, uint32_t nonce, CTransactionRef coinbase) override\n+    {\n+        AddMerkleRootAndCoinbase(m_block_template->block, std::move(coinbase), version, timestamp, nonce);",
      "path": "src/node/interfaces.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "e3f0686baaf78a82b6330741596af237de6f2b58",
      "original_commit_id": "9b8d95f0e3adeb3e95bb7783403c99160997b968",
      "in_reply_to_id": 2348048893,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> But one thought is that maybe serializing whole block is not necessary, and this could just return `CBlockHeader`?\r\n\r\nI think it's easier to use if we just return the block. Otherwise a client has the call `getBlock()`, then `applySolution()` and then swap out the header in the block they got. In which case they might as well call `getBlock()` just apply the solution themselves.\r\n\r\nI think the two main use cases for this are:\r\n1. Testing mining (pool) software, which doesn't need to be performant\r\n2. Debugging an invalid mainnet block\r\n\r\nThe alternative approach of having `applySolution()` optionally return the block itself seems fine too, but then maybe we should just make a breaking change to `submitSolution`.\r\n\r\nThough in terms of performance vs simplicity, I image the client has a single thread that wants to get a new template ASAP after `submitSolution()`, and then has a separate lower priority thread that calls `applySolution()` and archives that. That's an argument in favour of having two separate methods.",
      "created_at": "2025-09-15T16:18:08Z",
      "updated_at": "2025-09-15T16:20:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33374#discussion_r2349501608",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2349501608"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33374"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 921,
      "original_line": 921,
      "side": "RIGHT"
    }
  ]
}