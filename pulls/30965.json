{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965",
    "id": 2089972848,
    "node_id": "PR_kwDOABII5858knRw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30965",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30965.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30965.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
    "number": 30965,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: Move block tree db open to block manager",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Before this change the block tree db was needlessly re-opened during startup when loading a completed snapshot. Improve this by letting the block manager open it on construction. This also simplifies the test code a bit.\r\n\r\nThe change was initially motivated to make it easier for users of the kernel library to instantiate a BlockManager that may be used to read data from disk without loading the block index into a cache.",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2024-09-24T21:03:14Z",
    "updated_at": "2025-01-20T20:35:01Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "0b0b545f5ccbf11263b2252360fc782d4c95a141",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TheCharlatan:blockmanDB",
      "ref": "blockmanDB",
      "sha": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 5,
        "watchers_count": 5,
        "size": 253993,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-01-20T20:59:38Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2025-01-20T20:59:51Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "4601b7ca6111fc17a1fea1bff228afd17e237276",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36577,
        "stargazers_count": 81524,
        "watchers_count": 81524,
        "size": 274415,
        "default_branch": "master",
        "open_issues_count": 693,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-01-20T16:25:42Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-01-20T20:25:56Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 70,
    "deletions": 58,
    "changed_files": 12,
    "commits": 3,
    "review_comments": 29,
    "comments": 15
  },
  "events": [
    {
      "event": "commented",
      "id": 2372381978,
      "node_id": "IC_kwDOABII586NZ60a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2372381978",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-24T21:03:17Z",
      "updated_at": "2025-01-20T20:34:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/30965.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [josibake](https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2396604314), [mzumsande](https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2540983303), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2547308805), [maflcko](https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2562705180) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2372381978",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "labeled",
      "id": 14388695406,
      "node_id": "LE_lADOABII586Xxth0zwAAAANZohFu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14388695406",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-24T21:03:19Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "reviewed",
      "id": 2330478429,
      "node_id": "PRR_kwDOABII586K6Edd",
      "url": null,
      "actor": null,
      "commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nConceptually, this makes a lot more sense and makes the code much easier to understand, IMO. Left some comments while doing an initial pass, more questions than concrete suggestions. I did find it a bit hard to parse what was going with a lot of the code being move-only, but from across different files. Not sure if much can be done here, but it would make this easier to follow if you could separate as much of the move-only code changes into their own commit(s)? Specifically, I'm thinking of two instances where the option setting code is moved up a few lines so the cache size option can be passed through.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2330478429",
      "submitted_at": "2024-09-26T08:53:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "reviewed",
      "id": 2332298896,
      "node_id": "PRR_kwDOABII586LBA6Q",
      "url": null,
      "actor": null,
      "commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2332298896",
      "submitted_at": "2024-09-26T20:36:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "labeled",
      "id": 14463558137,
      "node_id": "LE_lADOABII586Xxth0zwAAAANeGGH5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14463558137",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-30T23:20:51Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14536310956,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAANiboCs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14536310956",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "63dfc6067bd7fe06e5a440c229cca030bba6d53a",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/63dfc6067bd7fe06e5a440c229cca030bba6d53a",
      "created_at": "2024-10-07T08:30:08Z"
    },
    {
      "event": "commented",
      "id": 2396295598,
      "node_id": "IC_kwDOABII586O1JGu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2396295598",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T08:44:37Z",
      "updated_at": "2024-10-07T08:44:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 63dfc6067bd7fe06e5a440c229cca030bba6d53a -> 63dfc6067bd7fe06e5a440c229cca030bba6d53a ([blockmanDB](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB) -> [blockmanDB](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB..blockmanDB))\r\n\r\n* Fixed conflict with #30968",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2396295598",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "reviewed",
      "id": 2351445021,
      "node_id": "PRR_kwDOABII586MKDQd",
      "url": null,
      "actor": null,
      "commit_id": "63dfc6067bd7fe06e5a440c229cca030bba6d53a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2351445021",
      "submitted_at": "2024-10-07T09:45:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "unlabeled",
      "id": 14537575142,
      "node_id": "UNLE_lADOABII586Xxth0zwAAAANigcrm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14537575142",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T09:53:11Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14537966174,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAANih8Je",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14537966174",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "60ade81516d42d275c1143f49f47e142d32c45fc",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/60ade81516d42d275c1143f49f47e142d32c45fc",
      "created_at": "2024-10-07T10:19:47Z"
    },
    {
      "event": "commented",
      "id": 2396520302,
      "node_id": "IC_kwDOABII586O1_9u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2396520302",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T10:21:21Z",
      "updated_at": "2024-10-07T10:21:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 63dfc6067bd7fe06e5a440c229cca030bba6d53a -> 60ade81516d42d275c1143f49f47e142d32c45fc ([blockmanDB_1](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_1) -> [blockmanDB_2](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_2), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_1..blockmanDB_2))\r\n\r\n* Addressed @josibake's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1789888213), reusing a option value in `bitcoin-chainstate`\r\n* Exchanged use of `Untranslated` with `_`, since the string in question is displayed to GUI users.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2396520302",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "mentioned",
      "id": 14537988478,
      "node_id": "MEE_lADOABII586Xxth0zwAAAANiiBl-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14537988478",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T10:21:23Z"
    },
    {
      "event": "subscribed",
      "id": 14537988494,
      "node_id": "SE_lADOABII586Xxth0zwAAAANiiBmO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14537988494",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T10:21:23Z"
    },
    {
      "event": "commented",
      "id": 2396604314,
      "node_id": "IC_kwDOABII586O2Uea",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2396604314",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T11:02:23Z",
      "updated_at": "2024-10-07T11:02:23Z",
      "author_association": "MEMBER",
      "body": "crACK https://github.com/bitcoin/bitcoin/commit/60ade81516d42d275c1143f49f47e142d32c45fc\r\n\r\nVerified that the change is mostly move-only. Makes the code much more clear and cleanly separates initialising / opening the database from loading the database contents into the in memory cache.\r\n\r\n> The change was initially motivated to make it easier for users of the kernel library to instantiate a BlockManager that may be used to read data from disk without loading the block index into a cache.\r\n\r\nWill test this and report back if I find anything unexpected!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2396604314",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "review_requested",
      "id": 14538549738,
      "node_id": "RRE_lADOABII586Xxth0zwAAAANikKnq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14538549738",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T11:02:27Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2352892509,
      "node_id": "PRR_kwDOABII586MPkpd",
      "url": null,
      "actor": null,
      "commit_id": "60ade81516d42d275c1143f49f47e142d32c45fc",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Conceptual question:\r\n\r\nI think that just the goal of not loading the blocktreedb twice could have been achieved easier by simply moving the code from `CompleteChainstateInitialization` into `LoadChainstate()`.\r\n\r\nYou also list other motivations, but I don't completely get these:\r\nIt seems a little bit non-intuitive to me to have things like Cleanup of blk / rev files (`CleanupBlockRevFiles`) done in the constructor, instead of having a separate call for this.\r\nIt also doesn't feel consistent if the blocktreedb is loaded automatically when creating a `ChainstateManager`, but the coinsb of the chainstates aren't - I would have expected both or neither. \r\n\r\nSo can you explain a bit more in detail how this helps kernel?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2352892509",
      "submitted_at": "2024-10-07T20:39:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "review_requested",
      "id": 14546571877,
      "node_id": "RRE_lADOABII586Xxth0zwAAAANjCxJl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14546571877",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T20:39:14Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2397922175,
      "node_id": "IC_kwDOABII586O7WN_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2397922175",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T21:22:02Z",
      "updated_at": "2024-10-07T21:22:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2352892509\r\n\r\nThank you for the questions @mzumsande!\r\n\r\n> So can you explain a bit more in detail how this helps kernel?\r\n\r\nI will try to give a thought-dump of what I am attempting to achieve here. As said in the title description, the kernel-motivated goal of this PR is to allow users of the library to instantiate the block tree db in the block manager in the same way we would currently in the chainstate load routines without having to load everything into the cache or having to load a chainstate. This allows a potential user to immediately use the block tree db, for example to recurse through it and read ordered blocks from disk.\r\n\r\nAs an alternative to the approach here, opening the database could happen in a separate routine, outside of the `BlockManager` constructor, but from my current mental model, this would then require our current code to either check if this routine was called before, or force the user to close it again before doing other tasks. I would consider this a less elegant solution.\r\n\r\n>  It seems a little bit non-intuitive to me to have things like Cleanup of blk / rev files (CleanupBlockRevFiles) done in the constructor, instead of having a separate call for this.\r\n\r\nMy thinking here is that since this is always the correct thing to do if the corresponding options are set, having a separate call is not really useful. If certain options are set and I instantiate a `BlockManager` I would expect it to be in the state I configured it with, without having the call additional functions.\r\n\r\n> It also doesn't feel consistent if the blocktreedb is loaded automatically when creating a ChainstateManager, but the coinsb of the chainstates aren't - I would have expected both or neither.\r\n\r\nYes, my eventual goal was to move calling `InitializeChainstate` for the fully validated chainstate into the `ChainstateManager` constructor as well as calling `InitCoinsDB` for it. I wanted to do this in a future pull request if this change is accepted.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2397922175",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "mentioned",
      "id": 14546995667,
      "node_id": "MEE_lADOABII586Xxth0zwAAAANjEYnT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14546995667",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T21:22:03Z"
    },
    {
      "event": "subscribed",
      "id": 14546995675,
      "node_id": "SE_lADOABII586Xxth0zwAAAANjEYnb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14546995675",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T21:22:03Z"
    },
    {
      "event": "labeled",
      "id": 14560761982,
      "node_id": "LE_lADOABII586Xxth0zwAAAANj45h-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14560761982",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-08T17:49:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14562438257,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAANj_Sxx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14562438257",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1c1df66cebbe825a24cb2f66a24aab78709db7db",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/1c1df66cebbe825a24cb2f66a24aab78709db7db",
      "created_at": "2024-10-08T20:20:47Z"
    },
    {
      "event": "commented",
      "id": 2400748950,
      "node_id": "IC_kwDOABII586PGIWW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2400748950",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-08T20:20:52Z",
      "updated_at": "2024-10-08T20:20:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 60ade81516d42d275c1143f49f47e142d32c45fc -> 1c1df66cebbe825a24cb2f66a24aab78709db7db ([blockmanDB_2](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_2) -> [blockmanDB_3](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_3), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_2..blockmanDB_3))\r\n\r\n* Fixed conflict with #30967",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2400748950",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "unlabeled",
      "id": 14563404390,
      "node_id": "UNLE_lADOABII586Xxth0zwAAAANkC-pm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14563404390",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-08T22:09:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 14835082896,
      "node_id": "LE_lADOABII586Xxth0zwAAAAN0PWaQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14835082896",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-24T00:49:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14970032197,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAAN8SJBF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14970032197",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06",
      "created_at": "2024-10-28T21:50:44Z"
    },
    {
      "event": "commented",
      "id": 2442701324,
      "node_id": "IC_kwDOABII586RmKoM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2442701324",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-28T21:51:15Z",
      "updated_at": "2024-10-28T21:51:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06 -> f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06 ([blockmanDB](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB) -> [blockmanDB](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB..blockmanDB))\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2442701324",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "unlabeled",
      "id": 14970232882,
      "node_id": "UNLE_lADOABII586Xxth0zwAAAAN8S6Ay",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14970232882",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-28T22:08:41Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2521245377,
      "node_id": "PRR_kwDOABII586WRybB",
      "url": null,
      "actor": null,
      "commit_id": "f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks - your explanation makes sense - I did a bit of research on how much logic and I/O in constructors are considered to be \"good style\", and there doesn't really seem to be a clear consensus to me.\r\n\r\nFor me the main downside would be that some of the things the ctor does may be unexpected, hence below suggestion to add some documentation.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2521245377",
      "submitted_at": "2025-01-02T20:25:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15811295416,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAAOubTi4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15811295416",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/182945e946ac6a92daad012d6579e5441b9641cc",
      "created_at": "2025-01-03T22:03:00Z"
    },
    {
      "event": "commented",
      "id": 2569873452,
      "node_id": "IC_kwDOABII586ZLSgs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2569873452",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-03T22:03:07Z",
      "updated_at": "2025-01-03T22:03:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the review @mzumsande,\r\n\r\nUpdated f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06 -> 182945e946ac6a92daad012d6579e5441b9641cc ([blockmanDB_4](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_4) -> [blockmanDB_5](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_5), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_4..blockmanDB_5))\r\n\r\n* Addressed @mzumsande's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1901165977), added documentation to chainman creation specifying what the constructor does.\r\n* Addressed @mzumsande's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1901166334), removed now unused `cache_sizes` param in `CompleteChainstateInitialization`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2569873452",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "mentioned",
      "id": 15811296034,
      "node_id": "MEE_lADOABII586Xxth0zwAAAAOubTsi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15811296034",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-03T22:03:08Z"
    },
    {
      "event": "subscribed",
      "id": 15811296046,
      "node_id": "SE_lADOABII586Xxth0zwAAAAOubTsu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15811296046",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-03T22:03:08Z"
    },
    {
      "event": "commented",
      "id": 2569874763,
      "node_id": "IC_kwDOABII586ZLS1L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2569874763",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-03T22:04:35Z",
      "updated_at": "2025-01-03T22:04:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2521245377\r\n\r\n>  I did a bit of research on how much logic and I/O in constructors are considered to be \"good style\", and there doesn't really seem to be a clear consensus to me.\r\n\r\nI wish there would be better consensus on what the best practices are. If somebody has reasoning for doing things differently, do share!",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2569874763",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "reviewed",
      "id": 2535388835,
      "node_id": "PRR_kwDOABII586XHvaj",
      "url": null,
      "actor": null,
      "commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 182945e946ac6a92daad012d6579e5441b9641cc. I think a number of improvements are possible here (see comments below) but it does make sense to move block database initialization out of `src/node/chainstate.cpp` and into the `BlockManager` class, and move its options out of `ChainstateManager::Options` and into `BlockManager::Options`.\r\n\r\nOn constructor initialization question I do think it's often useful if lightweight construction with delayed initialization or lazy initialization is possible, but it should be very easy to support these things if needed by just splitting the constructor up and overloading it.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2535388835",
      "submitted_at": "2025-01-07T22:30:04Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "review_requested",
      "id": 15845001214,
      "node_id": "RRE_lADOABII586Xxth0zwAAAAOwb4f-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15845001214",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-07T22:30:08Z",
      "requested_reviewer": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 15845001300,
      "node_id": "RRE_lADOABII586Xxth0zwAAAAOwb4hU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15845001300",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-07T22:30:09Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15868122631,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAAOx0FYH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15868122631",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "384c73d4fcda4af7c2b4bfb945a248cb93dba47d",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/384c73d4fcda4af7c2b4bfb945a248cb93dba47d",
      "created_at": "2025-01-09T13:39:47Z"
    },
    {
      "event": "commented",
      "id": 2580192438,
      "node_id": "IC_kwDOABII586Zypy2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2580192438",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T13:39:51Z",
      "updated_at": "2025-01-09T13:39:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 182945e946ac6a92daad012d6579e5441b9641cc -> 384c73d4fcda4af7c2b4bfb945a248cb93dba47d ([blockmanDB_5](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_5) -> [blockmanDB_6](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_6), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_5..blockmanDB_6))\r\n\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1906052767), added back interrupt check.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1906064655), added a commit for dropping the if statement in question.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1906073567), consolidated individual fields into a single DBParams field.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2580192438",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "mentioned",
      "id": 15868123962,
      "node_id": "MEE_lADOABII586Xxth0zwAAAAOx0Fs6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15868123962",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T13:39:53Z"
    },
    {
      "event": "subscribed",
      "id": 15868123984,
      "node_id": "SE_lADOABII586Xxth0zwAAAAOx0FtQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15868123984",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T13:39:53Z"
    },
    {
      "event": "labeled",
      "id": 15869945084,
      "node_id": "LE_lADOABII586Xxth0zwAAAAOx7CT8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15869945084",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T15:47:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2540386980,
      "node_id": "PRR_kwDOABII586Xazqk",
      "url": null,
      "actor": null,
      "commit_id": "384c73d4fcda4af7c2b4bfb945a248cb93dba47d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 384c73d4fcda4af7c2b4bfb945a248cb93dba47d but it seems like a fuzz check is failing in CI. Since last review, BlockManagerOpts uses DBParams, so no longer needs to duplicate most of its fields, and blockstorage m_opts no longer need to be public so some other changes could be reverted. One other set of changes that were reverted had do to with `m_block_tree_db_in_memory` / `opts.block_tree_db_in_memory` in tests, and seem more correct now.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2540386980",
      "submitted_at": "2025-01-09T16:47:27Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "commented",
      "id": 2580871894,
      "node_id": "IC_kwDOABII586Z1PrW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2580871894",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T17:25:42Z",
      "updated_at": "2025-01-09T17:25:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 384c73d4fcda4af7c2b4bfb945a248cb93dba47d -> b776e40554c8a315d832f3996d14ff2e3ae7b8cb ([blockmanDB_6](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_6) -> [blockmanDB_7](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_7), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_6..blockmanDB_7))\r\n\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1909124834), ran clang-format over commits.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2580871894",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15871179535,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAAOx_vsP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15871179535",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b776e40554c8a315d832f3996d14ff2e3ae7b8cb",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/b776e40554c8a315d832f3996d14ff2e3ae7b8cb",
      "created_at": "2025-01-09T17:25:42Z"
    },
    {
      "event": "mentioned",
      "id": 15871179906,
      "node_id": "MEE_lADOABII586Xxth0zwAAAAOx_vyC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15871179906",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T17:25:44Z"
    },
    {
      "event": "subscribed",
      "id": 15871179924,
      "node_id": "SE_lADOABII586Xxth0zwAAAAOx_vyU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15871179924",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T17:25:44Z"
    },
    {
      "event": "unlabeled",
      "id": 15872633387,
      "node_id": "UNLE_lADOABII586Xxth0zwAAAAOyFSor",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15872633387",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T19:30:54Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2540983303,
      "node_id": "PRR_kwDOABII586XdFQH",
      "url": null,
      "actor": null,
      "commit_id": "b776e40554c8a315d832f3996d14ff2e3ae7b8cb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code Review ACK b776e40554c8a315d832f3996d14ff2e3ae7b8cb",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2540983303",
      "submitted_at": "2025-01-09T21:43:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "review_requested",
      "id": 15873933087,
      "node_id": "RRE_lADOABII586Xxth0zwAAAAOyKP8f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15873933087",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T21:43:20Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2547308805,
      "node_id": "PRR_kwDOABII586X1NkF",
      "url": null,
      "actor": null,
      "commit_id": "b776e40554c8a315d832f3996d14ff2e3ae7b8cb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK b776e40554c8a315d832f3996d14ff2e3ae7b8cb. Just whitespace changes since last review",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2547308805",
      "submitted_at": "2025-01-13T17:25:11Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "labeled",
      "id": 15963463494,
      "node_id": "LE_lADOABII586Xxth0zwAAAAO3fx9G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15963463494",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-16T15:21:24Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU3YmE1OWMwY2RmMjBkZTMyMmFmYWJlNGExMzJhZDE3ZTQ4M2NlNzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57ba59c0cdf20de322afabe4a132ad17e483ce77",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/57ba59c0cdf20de322afabe4a132ad17e483ce77",
      "tree": {
        "sha": "5ed22a26bf505bcdf091f43edd1112a671132ef2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ed22a26bf505bcdf091f43edd1112a671132ef2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5ed22a26bf505bcdf091f43edd1112a671132ef2\nparent df8bf657450d5383870d40790ea9f4fdb03c360d\nauthor TheCharlatan <seb.kung@gmail.com> 1736343604 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1737041738 +0100\n\nrefactor: Remove redundant reindex check\n\nThe check for whether the block tree db has been wiped before calling\nNeedsRedownload() is confusing. The boolean is set in case of a reindex.\nIt was originally introduced to guard NeedsRedownload in case of a\nreindex in #21009. However NeedsRedownload already returns early if the\nchain's tip is not loaded. Since that is the case during a reindex, the\npre-check is redundant.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmeJJ0oACgkQm3m0VpHb\nQXMvQxAAmBWA/3ygSMhGM6BaRzCTDTPwkGfM75L96JW1uaTMzODQUplV5PMbxuk2\nryU2qPc6oq1H7dFL0Qw5mBH8yQ2RMpnpidWvb+2V0e47s16a1pEbCf9YDQZEH0lt\nhZUXKZURvXRy3cH+HT8vRT5Sk6a6JigApTNkC7v0OYDB6el+FJSbQI+ZvLecztnZ\nwoXuYfbHGHcXyBaV5tAQY/7rZ31KDQ69odFI2NbxznIKIUt0Pl9LFtQtXQeU4G+a\nINs0Ffs4TEdyIgJfbQ44YcIt/PaIl82WdnL13YTJgZ47DJnkBPE8EbJbtILiKUzv\n/g5pcXBNMyzd0Ej0Cu8+fn5M6Xli/FoN8WsVE9WkGRnT1TdbRoYatbcRD/rUv7ZR\ngilWTiZ5AyVcmCSS2w3DKuoeUw+cDe+v/OOckHerSY3QYvOaQpuj3vh55QAyMlnp\nh0eYpnBTn4c5v2BUxBallilbY55i+wYjj5JD8BR7+yi/yEc7vzP09nOPlyLcIUl7\nq3mlWONp1nZQZ4KMiQ4tzy7+IIlqGyynMyRWcQz/ZYS8utpjjg8Ih7EMUQZytLor\n5K1BNR4vgMHpmZGvuJAmDb/gGbt3uexVmsjkKmArGj3uBx6bTxZFhoSzt76Ym1S8\nR5RUWpB+C/leS8Ygi2euyAoa6813732awCH8TnJ5cRxh+1qb3UM=\n=wANR\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/df8bf657450d5383870d40790ea9f4fdb03c360d",
          "sha": "df8bf657450d5383870d40790ea9f4fdb03c360d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/df8bf657450d5383870d40790ea9f4fdb03c360d"
        }
      ],
      "message": "refactor: Remove redundant reindex check\n\nThe check for whether the block tree db has been wiped before calling\nNeedsRedownload() is confusing. The boolean is set in case of a reindex.\nIt was originally introduced to guard NeedsRedownload in case of a\nreindex in #21009. However NeedsRedownload already returns early if the\nchain's tip is not loaded. Since that is the case during a reindex, the\npre-check is redundant.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-01-16T15:35:38Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-01-08T13:40:04Z"
      },
      "sha": "57ba59c0cdf20de322afabe4a132ad17e483ce77"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15973002686,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAAO4EK2-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15973002686",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7f484b319bdc9e646e270b6d6d9a1c7e52296dc0",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/7f484b319bdc9e646e270b6d6d9a1c7e52296dc0",
      "created_at": "2025-01-17T07:45:26Z"
    },
    {
      "event": "commented",
      "id": 2597622776,
      "node_id": "IC_kwDOABII586a1JP4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2597622776",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-17T07:45:34Z",
      "updated_at": "2025-01-17T07:45:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased b776e40554c8a315d832f3996d14ff2e3ae7b8cb -> 7f484b319bdc9e646e270b6d6d9a1c7e52296dc0 ([blockmanDB_7](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_7) -> [blockmanDB_8](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_8), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_7..blockmanDB_8))\r\n\r\n* Resolved conflict with #31483",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2597622776",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "unlabeled",
      "id": 15977351130,
      "node_id": "UNLE_lADOABII586Xxth0zwAAAAO4Uwfa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15977351130",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-17T13:15:40Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2562365614,
      "node_id": "PRR_kwDOABII586Yupiu",
      "url": null,
      "actor": null,
      "commit_id": "7f484b319bdc9e646e270b6d6d9a1c7e52296dc0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2562365614",
      "submitted_at": "2025-01-20T13:14:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15999386946,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAAO5o0VC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15999386946",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f3cfdf2b511776211a0399510ced735e556d510d",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/f3cfdf2b511776211a0399510ced735e556d510d",
      "created_at": "2025-01-20T13:59:39Z"
    },
    {
      "event": "commented",
      "id": 2602500903,
      "node_id": "IC_kwDOABII586bHwMn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2602500903",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T13:59:51Z",
      "updated_at": "2025-01-20T13:59:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 7f484b319bdc9e646e270b6d6d9a1c7e52296dc0 -> f3cfdf2b511776211a0399510ced735e556d510d ([blockmanDB_8](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_8) -> [blockmanDB_9](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_9), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_8..blockmanDB_9))\r\n\r\n* Drop `static_casts` as pointed out by @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1922387437).",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2602500903",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "mentioned",
      "id": 15999390183,
      "node_id": "MEE_lADOABII586Xxth0zwAAAAO5o1Hn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15999390183",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T13:59:53Z"
    },
    {
      "event": "subscribed",
      "id": 15999390215,
      "node_id": "SE_lADOABII586Xxth0zwAAAAO5o1IH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15999390215",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T13:59:53Z"
    },
    {
      "event": "commented",
      "id": 2602793391,
      "node_id": "IC_kwDOABII586bI3mv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2602793391",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T16:05:13Z",
      "updated_at": "2025-01-20T16:05:13Z",
      "author_association": "MEMBER",
      "body": "Personally, I found this a bit easier to review by having the stuff that simply moves the fields from one struct to another in one commit and the remaining changes in another commit. This means the second commit would contain the following diff (and the third commit would contain whatever remains to restore an empty diff to the `HEAD` of this pull):\r\n\r\n\r\n<details><summary>a diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/bitcoin-chainstate.cpp b/src/bitcoin-chainstate.cpp\r\nindex 51c482607a..e657f01871 100644\r\n--- a/src/bitcoin-chainstate.cpp\r\n+++ b/src/bitcoin-chainstate.cpp\r\n@@ -106,6 +106,7 @@ int main(int argc, char* argv[])\r\n     };\r\n     auto notifications = std::make_unique<KernelNotifications>();\r\n \r\n+    kernel::CacheSizes cache_sizes{DEFAULT_KERNEL_CACHE};\r\n \r\n     // SETUP: Chainstate\r\n     auto chainparams = CChainParams::Main();\r\n@@ -119,11 +120,14 @@ int main(int argc, char* argv[])\r\n         .chainparams = chainman_opts.chainparams,\r\n         .blocks_dir = abs_datadir / \"blocks\",\r\n         .notifications = chainman_opts.notifications,\r\n+        .block_tree_db_params = DBParams{\r\n+            .path = abs_datadir / \"blocks\" / \"index\",\r\n+            .cache_bytes = cache_sizes.block_tree_db,\r\n+        },\r\n     };\r\n     util::SignalInterrupt interrupt;\r\n     ChainstateManager chainman{interrupt, chainman_opts, blockman_opts};\r\n \r\n-    kernel::CacheSizes cache_sizes{DEFAULT_KERNEL_CACHE};\r\n     node::ChainstateLoadOptions options;\r\n     auto [status, error] = node::LoadChainstate(chainman, cache_sizes, options);\r\n     if (status != node::ChainstateLoadStatus::SUCCESS) {\r\ndiff --git a/src/init.cpp b/src/init.cpp\r\nindex 116823c36f..a306449dbd 100644\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -1057,6 +1057,10 @@ bool AppInitParameterInteraction(const ArgsManager& args)\r\n             .chainparams = chainman_opts_dummy.chainparams,\r\n             .blocks_dir = args.GetBlocksDirPath(),\r\n             .notifications = chainman_opts_dummy.notifications,\r\n+            .block_tree_db_params = DBParams{\r\n+                .path = args.GetDataDirNet() / \"blocks\" / \"index\",\r\n+                .cache_bytes = 0,\r\n+            },\r\n         };\r\n         auto blockman_result{ApplyArgsManOptions(args, blockman_opts_dummy)};\r\n         if (!blockman_result) {\r\n@@ -1199,10 +1203,16 @@ static ChainstateLoadResult InitAndLoadChainstate(\r\n         .signals = node.validation_signals.get(),\r\n     };\r\n     Assert(ApplyArgsManOptions(args, chainman_opts)); // no error can happen, already checked in AppInitParameterInteraction\r\n+\r\n     BlockManager::Options blockman_opts{\r\n         .chainparams = chainman_opts.chainparams,\r\n         .blocks_dir = args.GetBlocksDirPath(),\r\n         .notifications = chainman_opts.notifications,\r\n+        .block_tree_db_params = DBParams{\r\n+            .path = args.GetDataDirNet() / \"blocks\" / \"index\",\r\n+            .cache_bytes = cache_sizes.block_tree_db,\r\n+            .wipe_data = do_reindex,\r\n+        },\r\n     };\r\n     Assert(ApplyArgsManOptions(args, blockman_opts)); // no error can happen, already checked in AppInitParameterInteraction\r\n     try {\r\n@@ -1233,7 +1243,6 @@ static ChainstateLoadResult InitAndLoadChainstate(\r\n     };\r\n     node::ChainstateLoadOptions options;\r\n     options.mempool = Assert(node.mempool.get());\r\n-    options.wipe_block_tree_db = do_reindex;\r\n     options.wipe_chainstate_db = do_reindex || do_reindex_chainstate;\r\n     options.prune = chainman.m_blockman.IsPruneMode();\r\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\r\ndiff --git a/src/kernel/blockmanager_opts.h b/src/kernel/blockmanager_opts.h\r\nindex 261ec3be58..5c7b24d717 100644\r\n--- a/src/kernel/blockmanager_opts.h\r\n+++ b/src/kernel/blockmanager_opts.h\r\n@@ -5,6 +5,7 @@\r\n #ifndef BITCOIN_KERNEL_BLOCKMANAGER_OPTS_H\r\n #define BITCOIN_KERNEL_BLOCKMANAGER_OPTS_H\r\n \r\n+#include <dbwrapper.h>\r\n #include <kernel/notifications_interface.h>\r\n #include <util/fs.h>\r\n \r\n@@ -27,6 +28,7 @@ struct BlockManagerOpts {\r\n     bool fast_prune{false};\r\n     const fs::path blocks_dir;\r\n     Notifications& notifications;\r\n+    DBParams block_tree_db_params;\r\n };\r\n \r\n } // namespace kernel\r\ndiff --git a/src/kernel/chainstatemanager_opts.h b/src/kernel/chainstatemanager_opts.h\r\nindex 1b605f3d55..15a8fbec61 100644\r\n--- a/src/kernel/chainstatemanager_opts.h\r\n+++ b/src/kernel/chainstatemanager_opts.h\r\n@@ -42,7 +42,6 @@ struct ChainstateManagerOpts {\r\n     std::optional<uint256> assumed_valid_block{};\r\n     //! If the tip is older than this, the node is considered to be in initial block download.\r\n     std::chrono::seconds max_tip_age{DEFAULT_MAX_TIP_AGE};\r\n-    DBOptions block_tree_db{};\r\n     DBOptions coins_db{};\r\n     CoinsViewOptions coins_view{};\r\n     Notifications& notifications;\r\ndiff --git a/src/node/blockmanager_args.cpp b/src/node/blockmanager_args.cpp\r\nindex 0fc4e1646a..5186b65546 100644\r\n--- a/src/node/blockmanager_args.cpp\r\n+++ b/src/node/blockmanager_args.cpp\r\n@@ -6,6 +6,7 @@\r\n \r\n #include <common/args.h>\r\n #include <node/blockstorage.h>\r\n+#include <node/database_args.h>\r\n #include <tinyformat.h>\r\n #include <util/result.h>\r\n #include <util/translation.h>\r\n@@ -34,6 +35,8 @@ util::Result<void> ApplyArgsManOptions(const ArgsManager& args, BlockManager::Op\r\n \r\n     if (auto value{args.GetBoolArg(\"-fastprune\")}) opts.fast_prune = *value;\r\n \r\n+    ReadDatabaseArgs(args, opts.block_tree_db_params.options);\r\n+\r\n     return {};\r\n }\r\n } // namespace node\r\ndiff --git a/src/node/blockstorage.h b/src/node/blockstorage.h\r\nindex ac6db0558d..9db80c26c5 100644\r\n--- a/src/node/blockstorage.h\r\n+++ b/src/node/blockstorage.h\r\n@@ -268,6 +268,8 @@ public:\r\n     using Options = kernel::BlockManagerOpts;\r\n \r\n     explicit BlockManager(const util::SignalInterrupt& interrupt, Options opts);\r\n+    auto MakeBlockTreeDb() { return std::make_unique<BlockTreeDB>(m_opts.block_tree_db_params); }\r\n+    auto OptsWipeBlockTreeDb() { return m_opts.block_tree_db_params.wipe_data; }\r\n \r\n     const util::SignalInterrupt& m_interrupt;\r\n     std::atomic<bool> m_importing{false};\r\ndiff --git a/src/node/chainstate.cpp b/src/node/chainstate.cpp\r\nindex 10b6e52c78..4fc7a851cd 100644\r\n--- a/src/node/chainstate.cpp\r\n+++ b/src/node/chainstate.cpp\r\n@@ -36,7 +36,6 @@ namespace node {\r\n // to ChainstateManager::InitializeChainstate().\r\n static ChainstateLoadResult CompleteChainstateInitialization(\r\n     ChainstateManager& chainman,\r\n-    const CacheSizes& cache_sizes,\r\n     const ChainstateLoadOptions& options) EXCLUSIVE_LOCKS_REQUIRED(::cs_main)\r\n {\r\n     auto& pblocktree{chainman.m_blockman.m_block_tree_db};\r\n@@ -44,18 +43,13 @@ static ChainstateLoadResult CompleteChainstateInitialization(\r\n     // fails if it's still open from the previous loop. Close it first:\r\n     pblocktree.reset();\r\n     try {\r\n-        pblocktree = std::make_unique<BlockTreeDB>(DBParams{\r\n-            .path = chainman.m_options.datadir / \"blocks\" / \"index\",\r\n-            .cache_bytes = cache_sizes.block_tree_db,\r\n-            .memory_only = options.block_tree_db_in_memory,\r\n-            .wipe_data = options.wipe_block_tree_db,\r\n-            .options = chainman.m_options.block_tree_db});\r\n+        pblocktree = chainman.m_blockman.MakeBlockTreeDb();\r\n     } catch (dbwrapper_error& err) {\r\n         LogError(\"%s\\n\", err.what());\r\n         return {ChainstateLoadStatus::FAILURE, _(\"Error opening block database\")};\r\n     }\r\n \r\n-    if (options.wipe_block_tree_db) {\r\n+    if (chainman.m_blockman.OptsWipeBlockTreeDb()) {\r\n         pblocktree->WriteReindexing(true);\r\n         chainman.m_blockman.m_blockfiles_indexed = false;\r\n         //If we're reindexing in prune mode, wipe away unusable block files and all undo data files\r\n@@ -206,7 +200,7 @@ ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const CacheSize\r\n         }\r\n     }\r\n \r\n-    auto [init_status, init_error] = CompleteChainstateInitialization(chainman, cache_sizes, options);\r\n+    auto [init_status, init_error] = CompleteChainstateInitialization(chainman, options);\r\n     if (init_status != ChainstateLoadStatus::SUCCESS) {\r\n         return {init_status, init_error};\r\n     }\r\n@@ -242,7 +236,7 @@ ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const CacheSize\r\n         // for the fully validated chainstate.\r\n         chainman.ActiveChainstate().ClearBlockIndexCandidates();\r\n \r\n-        auto [init_status, init_error] = CompleteChainstateInitialization(chainman, cache_sizes, options);\r\n+        auto [init_status, init_error] = CompleteChainstateInitialization(chainman, options);\r\n         if (init_status != ChainstateLoadStatus::SUCCESS) {\r\n             return {init_status, init_error};\r\n         }\r\ndiff --git a/src/node/chainstate.h b/src/node/chainstate.h\r\nindex ce414fa043..843e8e09a6 100644\r\n--- a/src/node/chainstate.h\r\n+++ b/src/node/chainstate.h\r\n@@ -22,12 +22,7 @@ namespace node {\r\n \r\n struct ChainstateLoadOptions {\r\n     CTxMemPool* mempool{nullptr};\r\n-    bool block_tree_db_in_memory{false};\r\n     bool coins_db_in_memory{false};\r\n-    // Whether to wipe the block tree database when loading it. If set, this\r\n-    // will also set a reindexing flag so any existing block data files will be\r\n-    // scanned and added to the database.\r\n-    bool wipe_block_tree_db{false};\r\n     // Whether to wipe the chainstate database when loading it. If set, this\r\n     // will cause the chainstate database to be rebuilt starting from genesis.\r\n     bool wipe_chainstate_db{false};\r\ndiff --git a/src/node/chainstatemanager_args.cpp b/src/node/chainstatemanager_args.cpp\r\nindex 0ac96c5514..db36d03fd5 100644\r\n--- a/src/node/chainstatemanager_args.cpp\r\n+++ b/src/node/chainstatemanager_args.cpp\r\n@@ -49,7 +49,6 @@ util::Result<void> ApplyArgsManOptions(const ArgsManager& args, ChainstateManage\r\n \r\n     if (auto value{args.GetIntArg(\"-maxtipage\")}) opts.max_tip_age = std::chrono::seconds{*value};\r\n \r\n-    ReadDatabaseArgs(args, opts.block_tree_db);\r\n     ReadDatabaseArgs(args, opts.coins_db);\r\n     ReadCoinsViewArgs(args, opts.coins_view);\r\n \r\ndiff --git a/src/test/blockmanager_tests.cpp b/src/test/blockmanager_tests.cpp\r\nindex c2b95dd861..ec91f2b276 100644\r\n--- a/src/test/blockmanager_tests.cpp\r\n+++ b/src/test/blockmanager_tests.cpp\r\n@@ -33,6 +33,10 @@ BOOST_AUTO_TEST_CASE(blockmanager_find_block_pos)\r\n         .chainparams = *params,\r\n         .blocks_dir = m_args.GetBlocksDirPath(),\r\n         .notifications = notifications,\r\n+        .block_tree_db_params = DBParams{\r\n+            .path = m_args.GetDataDirNet() / \"blocks\" / \"index\",\r\n+            .cache_bytes = 0,\r\n+        },\r\n     };\r\n     BlockManager blockman{*Assert(m_node.shutdown_signal), blockman_opts};\r\n     // simulate adding a genesis block normally\r\n@@ -140,6 +144,10 @@ BOOST_AUTO_TEST_CASE(blockmanager_flush_block_file)\r\n         .chainparams = Params(),\r\n         .blocks_dir = m_args.GetBlocksDirPath(),\r\n         .notifications = notifications,\r\n+        .block_tree_db_params = DBParams{\r\n+            .path = m_args.GetDataDirNet() / \"blocks\" / \"index\",\r\n+            .cache_bytes = 0,\r\n+        },\r\n     };\r\n     BlockManager blockman{*Assert(m_node.shutdown_signal), blockman_opts};\r\n \r\ndiff --git a/src/test/util/setup_common.cpp b/src/test/util/setup_common.cpp\r\nindex 2cf25c4a2a..83b78d7b5a 100644\r\n--- a/src/test/util/setup_common.cpp\r\n+++ b/src/test/util/setup_common.cpp\r\n@@ -62,7 +62,6 @@\r\n #include <stdexcept>\r\n \r\n using namespace util::hex_literals;\r\n-using kernel::BlockTreeDB;\r\n using node::ApplyArgsManOptions;\r\n using node::BlockAssembler;\r\n using node::BlockManager;\r\n@@ -250,14 +249,16 @@ ChainTestingSetup::ChainTestingSetup(const ChainType chainType, TestOpts opts)\r\n             .chainparams = chainman_opts.chainparams,\r\n             .blocks_dir = m_args.GetBlocksDirPath(),\r\n             .notifications = chainman_opts.notifications,\r\n+            .block_tree_db_params = DBParams{\r\n+                .path = m_args.GetDataDirNet() / \"blocks\" / \"index\",\r\n+                .cache_bytes = m_kernel_cache_sizes.block_tree_db,\r\n+                .memory_only = opts.block_tree_db_in_memory,\r\n+                .wipe_data = m_args.GetBoolArg(\"-reindex\", false),\r\n+            },\r\n         };\r\n         m_node.chainman = std::make_unique<ChainstateManager>(*Assert(m_node.shutdown_signal), chainman_opts, blockman_opts);\r\n         LOCK(m_node.chainman->GetMutex());\r\n-        m_node.chainman->m_blockman.m_block_tree_db = std::make_unique<BlockTreeDB>(DBParams{\r\n-            .path = m_args.GetDataDirNet() / \"blocks\" / \"index\",\r\n-            .cache_bytes = m_kernel_cache_sizes.block_tree_db,\r\n-            .memory_only = true,\r\n-        });\r\n+        m_node.chainman->m_blockman.m_block_tree_db = m_node.chainman->m_blockman.MakeBlockTreeDb();\r\n     };\r\n     m_make_chainman();\r\n }\r\n@@ -283,9 +284,7 @@ void ChainTestingSetup::LoadVerifyActivateChainstate()\r\n     auto& chainman{*Assert(m_node.chainman)};\r\n     node::ChainstateLoadOptions options;\r\n     options.mempool = Assert(m_node.mempool.get());\r\n-    options.block_tree_db_in_memory = m_block_tree_db_in_memory;\r\n     options.coins_db_in_memory = m_coins_db_in_memory;\r\n-    options.wipe_block_tree_db = m_args.GetBoolArg(\"-reindex\", false);\r\n     options.wipe_chainstate_db = m_args.GetBoolArg(\"-reindex\", false) || m_args.GetBoolArg(\"-reindex-chainstate\", false);\r\n     options.prune = chainman.m_blockman.IsPruneMode();\r\n     options.check_blocks = m_args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\r\ndiff --git a/src/test/validation_chainstatemanager_tests.cpp b/src/test/validation_chainstatemanager_tests.cpp\r\nindex 6c2a825e64..bf440ca639 100644\r\n--- a/src/test/validation_chainstatemanager_tests.cpp\r\n+++ b/src/test/validation_chainstatemanager_tests.cpp\r\n@@ -393,6 +393,11 @@ struct SnapshotTestSetup : TestChain100Setup {\r\n                 .chainparams = chainman_opts.chainparams,\r\n                 .blocks_dir = m_args.GetBlocksDirPath(),\r\n                 .notifications = chainman_opts.notifications,\r\n+                .block_tree_db_params = DBParams{\r\n+                    .path = chainman.m_options.datadir / \"blocks\" / \"index\",\r\n+                    .cache_bytes = m_kernel_cache_sizes.block_tree_db,\r\n+                    .memory_only = m_block_tree_db_in_memory,\r\n+                },\r\n             };\r\n             // For robustness, ensure the old manager is destroyed before creating a\r\n             // new one.\r\n```\r\n\r\n</details>\r\n\r\nBut just my personal impression, no strong opinion.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2602793391",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "reviewed",
      "id": 2562705180,
      "node_id": "PRR_kwDOABII586Yv8cc",
      "url": null,
      "actor": null,
      "commit_id": "f3cfdf2b511776211a0399510ced735e556d510d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "left some style-nits (only if you re-touch)\r\n\r\nreview ACK f3cfdf2b511776211a0399510ced735e556d510d ðŸ¥ƒ\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK f3cfdf2b511776211a0399510ced735e556d510d ðŸ¥ƒ\r\nB0REdECuAQLOEWL1/F7/sHyOzZiaGn5sptzUNU7w1dEMjVCfDkqW5G60UcFwChqEIxDmcB0qfNeBXz1nC0DlDw==\r\n```\r\n\r\n</details>\r\n\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#pullrequestreview-2562705180",
      "submitted_at": "2025-01-20T16:05:16Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
    },
    {
      "event": "review_requested",
      "id": 16001349606,
      "node_id": "RRE_lADOABII586Xxth0zwAAAAO5wTfm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16001349606",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T16:05:19Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 16001349831,
      "node_id": "RRE_lADOABII586Xxth0zwAAAAO5wTjH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16001349831",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T16:05:20Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdmYmIxYmM0NGIxNDYxZjAwODI4NDUzM2YxNjY3Njc3ZTcyOWYwYzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7fbb1bc44b1461f008284533f1667677e729f0c0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7fbb1bc44b1461f008284533f1667677e729f0c0",
      "tree": {
        "sha": "6c9e29cbd95280adbc7e390be3cb4c54bee48c00",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c9e29cbd95280adbc7e390be3cb4c54bee48c00"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6c9e29cbd95280adbc7e390be3cb4c54bee48c00\nparent 57ba59c0cdf20de322afabe4a132ad17e483ce77\nauthor TheCharlatan <seb.kung@gmail.com> 1737391221 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1737404379 +0100\n\nkernel: Move block tree db open to block manager\n\nThis commit is done in preparation for the next commit. Here, the block\ntree options are moved to the blockmanager options and the block tree is\ninstantiated through a helper method of the BlockManager, which is\nremoved again in the next commit.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmeOscMACgkQm3m0VpHb\nQXM0KRAApUzkYP7ruzdOTrPtQDy9F3zvuzzb8zSAGDkQpQ4lMdElccaEmroD76ef\nMlrOXsLL5AO6Lu1kK1E0ClsxL8+/0WAv9rIdqqcO/QSPIYvvxXg5PUAiSSGATqfJ\nFOs66AqkuXpVyEgLVFXXdxSUdVAKMJtQMOJaGJrh2DVvSSdrArZC26s/OkSB3/og\nCZ6ADvqm05uH4u1g8gpSN1mQzprKsoC2Ok7AFn+he07bM5JtYJaw9taON6j/eTOT\nfUyqjSf2ewfe5BirUBrGRFLw8YQypRPXWoHc9jUDv94yQCZc896pcvxMfP9R4e0c\nClHtHfiM+YRVlbYMxhN/S5Yyzq5LUwMPURdhtvQT9hgKVL9vkUEdWJ5Kk4RWa4b3\n4aC5t8sOryiGux6RLBHzgZ5GwKzd6lqPaAIRlcT+goS1tUmGnxlR5oQSyrZANl4J\niFsGUCz0bBpevwYQznI7UNM2e413fiLaKboVyFUfN6RyEHa4O5+3Rj658QXUmony\n5vOMpR8xndrACn5mlk1xdlP4Tje2rjhBIp0xWN4aS5+X6rD9amO09YaHlGRjitB7\n/2sRpYdWA0fkGMtRIL7KDkYU7Ppvm1wgv5YGX5IWaH+RnJXjEyPPXPujvYUu9RHD\n/9yXTL7ZmZNocR6IGU2l9u8pp8CQHIFP44OipjmbYctCKmcn0Q0=\n=1P9r\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57ba59c0cdf20de322afabe4a132ad17e483ce77",
          "sha": "57ba59c0cdf20de322afabe4a132ad17e483ce77",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57ba59c0cdf20de322afabe4a132ad17e483ce77"
        }
      ],
      "message": "kernel: Move block tree db open to block manager\n\nThis commit is done in preparation for the next commit. Here, the block\ntree options are moved to the blockmanager options and the block tree is\ninstantiated through a helper method of the BlockManager, which is\nremoved again in the next commit.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-01-20T20:19:39Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-01-20T16:40:21Z"
      },
      "sha": "7fbb1bc44b1461f008284533f1667677e729f0c0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBjZGRkZWIyMjQwZDFmMzNjOGIyZGQyOGJiMGM5ZDg0ZDk0MjBlM2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "tree": {
        "sha": "31568eed93b1bcf6629c9f349de774dc35a3ec39",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/31568eed93b1bcf6629c9f349de774dc35a3ec39"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 31568eed93b1bcf6629c9f349de774dc35a3ec39\nparent 7fbb1bc44b1461f008284533f1667677e729f0c0\nauthor TheCharlatan <seb.kung@gmail.com> 1727043703 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1737404870 +0100\n\nkernel: Move block tree db open to BlockManager constructor\n\nMake the block db open RAII style by calling it in the BlockManager\nconstructor.\n\nBefore this change the block tree db was needlessly re-opened during\nstartup when loading a completed snapshot. Improve this by letting the\nblock manager open it on construction. This also simplifies the test\ncode a bit.\n\nThe change was initially motivated to make it easier for users of the\nkernel library to instantiate a BlockManager that may be used to read\ndata from disk without loading the block index into a cache.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmeOseAACgkQm3m0VpHb\nQXPVGBAAsQO3TcQEOz87V07N5VXkpTcbV1hZIA0bZoTQD8uyDvRdJFrX+KC250CO\n1/2+88Ajj+S7WR/CgbfWIPyTz1wmP4B8BrRDeulN5n65O/exVIP1+XuMuJ9vMBm3\nE292CFe4Rr3+e3geszBkLQ5UIQ9+a4dERbyIygdVHx9TyzhBuIjMuO4xShq0CRfl\nfW4QNc3nwouoSnPUqaxfJSWbmSoMn1UJbxni/CqFpJt/Qdc8FXBdEsapxB4iQrt4\nFq/lobqt5uuGx8K+0aB/GNZVJEm4Nb2Z2u7CaACOzMkL/+SVoOVdUW+PuydkE/i/\nYf8VCae65NruL1BphFbrLgwh/CILm+NPSDMQpX7nw2CTY7oOr4+0d3/U3wIkF42O\npPdzQuIDILlkc3EdLEyg2at1eRIJhWA7p3kUdkz0XJ3BtbPzItSZOjE3hORu0zkr\nKeV8sym/CjT12uz2ds63pyiUeC7waqu8LNj1c6iJol3dY4JMnjLb7wTidZO2KVkH\n0dBKTeKDJhgB87ZDZCgBl660dM20UJn8F3x40xj0xYppKwfEl7P5nqL4FrWi1DzU\n/d4cTCrCQFHf4T+b9NlARswm6lsLtOAtSS+XbCS8d93ztkrTbrogDdF/bmPZ6XHz\nLsrp63TU2Chj0vd4zs2JI0Q0U0AU2og/YFQTNOoxH5VkANb8620=\n=MuMK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7fbb1bc44b1461f008284533f1667677e729f0c0",
          "sha": "7fbb1bc44b1461f008284533f1667677e729f0c0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7fbb1bc44b1461f008284533f1667677e729f0c0"
        }
      ],
      "message": "kernel: Move block tree db open to BlockManager constructor\n\nMake the block db open RAII style by calling it in the BlockManager\nconstructor.\n\nBefore this change the block tree db was needlessly re-opened during\nstartup when loading a completed snapshot. Improve this by letting the\nblock manager open it on construction. This also simplifies the test\ncode a bit.\n\nThe change was initially motivated to make it easier for users of the\nkernel library to instantiate a BlockManager that may be used to read\ndata from disk without loading the block index into a cache.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-01-20T20:27:50Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-09-22T22:21:43Z"
      },
      "sha": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16004352777,
      "node_id": "HRFPE_lADOABII586Xxth0zwAAAAO57wsJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16004352777",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "created_at": "2025-01-20T20:34:55Z"
    },
    {
      "event": "commented",
      "id": 2603194974,
      "node_id": "IC_kwDOABII586bKZpe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2603194974",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T20:34:59Z",
      "updated_at": "2025-01-20T20:34:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated f3cfdf2b511776211a0399510ced735e556d510d -> 0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d ([blockmanDB_9](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_9) -> [blockmanDB_10](https://github.com/TheCharlatan/bitcoin/tree/blockmanDB_10), [compare](https://github.com/TheCharlatan/bitcoin/compare/blockmanDB_9..blockmanDB_10))\r\n\r\n* Took @maflcko's [suggestion](https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2602793391), for splitting move-only changes into a separate commit.\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1922589316), remove no-op lock.\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1922596559), remove newline on touched `LogError`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2603194974",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30965"
    },
    {
      "event": "mentioned",
      "id": 16004353481,
      "node_id": "MEE_lADOABII586Xxth0zwAAAAO57w3J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16004353481",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T20:35:01Z"
    },
    {
      "event": "subscribed",
      "id": 16004353489,
      "node_id": "SE_lADOABII586Xxth0zwAAAAO57w3R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16004353489",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-20T20:35:01Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776602376",
      "pull_request_review_id": 2330478429,
      "id": 1776602376,
      "node_id": "PRRC_kwDOABII585p5M0I",
      "diff_hunk": "@@ -119,14 +123,12 @@ int main(int argc, char* argv[])\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = abs_datadir / \"blocks\",\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_dir = abs_datadir / \"blocks\" / \"index\",\n+        .block_tree_db_cache_size = 2 << 20,",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm guessing you moved the values up from below (L109-L112) so that you could set the value once and use `cache_sizes.block_tree_db` to set `block_tree_db_cache_size` on L127? Otherwise it's not clear to me why those values were moved.",
      "created_at": "2024-09-26T08:20:22Z",
      "updated_at": "2024-09-26T08:53:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1776602376",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776602376"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776620730",
      "pull_request_review_id": 2330478429,
      "id": 1776620730,
      "node_id": "PRRC_kwDOABII585p5RS6",
      "diff_hunk": "@@ -1536,6 +1531,15 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n     LogPrintf(\"* Using %.1f MiB for chain state database\\n\", cache_sizes.coins_db * (1.0 / 1024 / 1024));\n \n+    BlockManager::Options blockman_opts{\n+        .chainparams = chainman_opts.chainparams,\n+        .blocks_dir = args.GetBlocksDirPath(),\n+        .notifications = chainman_opts.notifications,\n+        .block_tree_db_dir = args.GetDataDirNet() / \"blocks\" / \"index\",\n+        .block_tree_db_cache_size = cache_sizes.block_tree_db,\n+    };\n+    Assert(ApplyArgsManOptions(args, blockman_opts)); // no error can happen, already checked in AppInitParameterInteraction",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Note to self (and other reviewers): this move wasn't immediately obvious to me, until I noticed `CacheSizes` is set on L1521, and then the value `cache_sizes.block_tree_db` is used when creating the `BlockManager::Options`. As a nice side effect, it seems better to have the logs for cache configuration first, and then proceed with setting and creating the `BlockManager`.",
      "created_at": "2024-09-26T08:29:18Z",
      "updated_at": "2024-09-26T08:53:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1776620730",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776620730"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 1534,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1541,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776630244",
      "pull_request_review_id": 2330478429,
      "id": 1776630244,
      "node_id": "PRRC_kwDOABII585p5Tnk",
      "diff_hunk": "@@ -1559,8 +1563,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         }\n         LogPrintf(\"* Using %.1f MiB for in-memory UTXO set (plus up to %.1f MiB of unused mempool space)\\n\", cache_sizes.coins * (1.0 / 1024 / 1024), mempool_opts.max_size_bytes * (1.0 / 1024 / 1024));\n \n+        blockman_opts.wipe_block_tree_db = do_reindex;\n+\n         try {\n             node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown), chainman_opts, blockman_opts);\n+        } catch (dbwrapper_error&) {\n+            return InitError(Untranslated(\"Error opening block database.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Might be premature at this stage, but in theory we could be opening both the block database and txdb at this stage. I haven't looked at `dbwrapper_error` yet so not sure if this is possible, but perhaps we could bubble up the actual db name that failed to open instead of assuming it's always the block database?",
      "created_at": "2024-09-26T08:35:46Z",
      "updated_at": "2024-09-26T08:53:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1776630244",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776630244"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776635876",
      "pull_request_review_id": 2330478429,
      "id": 1776635876,
      "node_id": "PRRC_kwDOABII585p5U_k",
      "diff_hunk": "@@ -27,6 +28,14 @@ struct BlockManagerOpts {\n     bool fast_prune{false};\n     const fs::path blocks_dir;\n     Notifications& notifications;\n+    const fs::path block_tree_db_dir;\n+    // Whether to wipe the block tree database when loading it. If set, this\n+    // will also set a reindexing flag so any existing block data files will be\n+    // scanned and added to the database.\n+    bool wipe_block_tree_db{false};",
      "path": "src/kernel/blockmanager_opts.h",
      "position": null,
      "original_position": 16,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Assuming this is just a comment explaining what was already happening and documenting a behaviour change introduced in this PR? (note to self to test this).",
      "created_at": "2024-09-26T08:38:48Z",
      "updated_at": "2024-09-26T08:53:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1776635876",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776635876"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 32,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776638088",
      "pull_request_review_id": 2330478429,
      "id": 1776638088,
      "node_id": "PRRC_kwDOABII585p5ViI",
      "diff_hunk": "@@ -42,7 +42,6 @@ struct ChainstateManagerOpts {\n     std::optional<uint256> assumed_valid_block{};\n     //! If the tip is older than this, the node is considered to be in initial block download.\n     std::chrono::seconds max_tip_age{DEFAULT_MAX_TIP_AGE};\n-    DBOptions block_tree_db{};",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nice! Makes a lot more sense to me to have block tree database options in the `BlockManagerOptions`",
      "created_at": "2024-09-26T08:40:14Z",
      "updated_at": "2024-09-26T08:53:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1776638088",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776638088"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 45,
      "original_line": 45,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776649353",
      "pull_request_review_id": 2330478429,
      "id": 1776649353,
      "node_id": "PRRC_kwDOABII585p5YSJ",
      "diff_hunk": "@@ -37,26 +37,6 @@ static ChainstateLoadResult CompleteChainstateInitialization(\n     const CacheSizes& cache_sizes,\n     const ChainstateLoadOptions& options) EXCLUSIVE_LOCKS_REQUIRED(::cs_main)\n {\n-    auto& pblocktree{chainman.m_blockman.m_block_tree_db};\n-    // new BlockTreeDB tries to delete the existing file, which\n-    // fails if it's still open from the previous loop. Close it first:\n-    pblocktree.reset();",
      "path": "src/node/chainstate.cpp",
      "position": 21,
      "original_position": 7,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This code feels a bit smelly, so nice to see you are dropping it by moving the database initialisation into the `BlockManager`. Will need to look at the old code more closely to understand what \"previous loop\" this comment is referring to.",
      "created_at": "2024-09-26T08:47:29Z",
      "updated_at": "2024-09-26T08:53:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1776649353",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776649353"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": 42,
      "original_start_line": 40,
      "start_side": "LEFT",
      "line": 45,
      "original_line": 45,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776651167",
      "pull_request_review_id": 2330478429,
      "id": 1776651167,
      "node_id": "PRRC_kwDOABII585p5Yuf",
      "diff_hunk": "@@ -27,6 +28,14 @@ struct BlockManagerOpts {\n     bool fast_prune{false};\n     const fs::path blocks_dir;\n     Notifications& notifications;\n+    const fs::path block_tree_db_dir;\n+    // Whether to wipe the block tree database when loading it. If set, this\n+    // will also set a reindexing flag so any existing block data files will be\n+    // scanned and added to the database.\n+    bool wipe_block_tree_db{false};",
      "path": "src/kernel/blockmanager_opts.h",
      "position": null,
      "original_position": 16,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": 1776635876,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nevermind, I can see this a move only from `src/chainstate.h`",
      "created_at": "2024-09-26T08:48:37Z",
      "updated_at": "2024-09-26T08:53:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1776651167",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776651167"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 32,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777432701",
      "pull_request_review_id": 2331850749,
      "id": 1777432701,
      "node_id": "PRRC_kwDOABII585p8Xh9",
      "diff_hunk": "@@ -37,26 +37,6 @@ static ChainstateLoadResult CompleteChainstateInitialization(\n     const CacheSizes& cache_sizes,\n     const ChainstateLoadOptions& options) EXCLUSIVE_LOCKS_REQUIRED(::cs_main)\n {\n-    auto& pblocktree{chainman.m_blockman.m_block_tree_db};\n-    // new BlockTreeDB tries to delete the existing file, which\n-    // fails if it's still open from the previous loop. Close it first:\n-    pblocktree.reset();",
      "path": "src/node/chainstate.cpp",
      "position": 21,
      "original_position": 7,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": 1776649353,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The previous loop this refers to is the initialization retry loop that I am getting rid of in  #30968.",
      "created_at": "2024-09-26T16:43:04Z",
      "updated_at": "2024-09-26T16:43:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1777432701",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777432701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": 42,
      "original_start_line": 40,
      "start_side": "LEFT",
      "line": 45,
      "original_line": 45,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777703574",
      "pull_request_review_id": 2332298896,
      "id": 1777703574,
      "node_id": "PRRC_kwDOABII585p9ZqW",
      "diff_hunk": "@@ -1559,8 +1563,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         }\n         LogPrintf(\"* Using %.1f MiB for in-memory UTXO set (plus up to %.1f MiB of unused mempool space)\\n\", cache_sizes.coins * (1.0 / 1024 / 1024), mempool_opts.max_size_bytes * (1.0 / 1024 / 1024));\n \n+        blockman_opts.wipe_block_tree_db = do_reindex;\n+\n         try {\n             node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown), chainman_opts, blockman_opts);\n+        } catch (dbwrapper_error&) {\n+            return InitError(Untranslated(\"Error opening block database.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This changes the error handling if the block tree db is corrupted as a side effect. Before, we'd get the advice \"Please restart with -reindex or -reindex-chainstate to recover.\" on the console, and, if using the GUI, the option to reindex by clicking a button. Now we just get an \"Error opening block database\" error on both without any advice how to fix it.\r\n\r\nI'm not sure if the GUI one-click reindex option is totally essential, but in my opinion we should at least keep the advice to reindex, and also show it in the GUI.",
      "created_at": "2024-09-26T20:35:04Z",
      "updated_at": "2024-09-26T20:37:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1777703574",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777703574"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778621747",
      "pull_request_review_id": 2333732434,
      "id": 1778621747,
      "node_id": "PRRC_kwDOABII585qA50z",
      "diff_hunk": "@@ -1559,8 +1563,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         }\n         LogPrintf(\"* Using %.1f MiB for in-memory UTXO set (plus up to %.1f MiB of unused mempool space)\\n\", cache_sizes.coins * (1.0 / 1024 / 1024), mempool_opts.max_size_bytes * (1.0 / 1024 / 1024));\n \n+        blockman_opts.wipe_block_tree_db = do_reindex;\n+\n         try {\n             node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown), chainman_opts, blockman_opts);\n+        } catch (dbwrapper_error&) {\n+            return InitError(Untranslated(\"Error opening block database.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": 1777703574,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think this error handling makes more sense post #30968.\r\n\r\nI rebased this commit on top of #30968 and was able to get the same error handling behavior as before: https://github.com/josibake/bitcoin/commit/85895b870d669175f42d0730d58930bea169e221, was quite happy with the result!",
      "created_at": "2024-09-27T13:20:16Z",
      "updated_at": "2024-09-27T13:20:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1778621747",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1778621747"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1789755698",
      "pull_request_review_id": 2351252927,
      "id": 1789755698,
      "node_id": "PRRC_kwDOABII585qrYEy",
      "diff_hunk": "@@ -1559,8 +1563,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         }\n         LogPrintf(\"* Using %.1f MiB for in-memory UTXO set (plus up to %.1f MiB of unused mempool space)\\n\", cache_sizes.coins * (1.0 / 1024 / 1024), mempool_opts.max_size_bytes * (1.0 / 1024 / 1024));\n \n+        blockman_opts.wipe_block_tree_db = do_reindex;\n+\n         try {\n             node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown), chainman_opts, blockman_opts);\n+        } catch (dbwrapper_error&) {\n+            return InitError(Untranslated(\"Error opening block database.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": 1776630244,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Heh, we currently always inform the user with \"Error opening block database.\" even if there is an error with the chainstate. I think I am going to leave this as is here, so not to scope creep this PR and will address this in another PR.",
      "created_at": "2024-10-07T08:24:34Z",
      "updated_at": "2024-10-07T08:24:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1789755698",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1789755698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1789788111",
      "pull_request_review_id": 2351301515,
      "id": 1789788111,
      "node_id": "PRRC_kwDOABII585qrf_P",
      "diff_hunk": "@@ -1559,8 +1563,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         }\n         LogPrintf(\"* Using %.1f MiB for in-memory UTXO set (plus up to %.1f MiB of unused mempool space)\\n\", cache_sizes.coins * (1.0 / 1024 / 1024), mempool_opts.max_size_bytes * (1.0 / 1024 / 1024));\n \n+        blockman_opts.wipe_block_tree_db = do_reindex;\n+\n         try {\n             node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown), chainman_opts, blockman_opts);\n+        } catch (dbwrapper_error&) {\n+            return InitError(Untranslated(\"Error opening block database.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": 1777703574,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ugh, I should have drafted this PR once I opened #30968 , since I opened it after being fed up with the init logic in this change. The error handling introduced there forces you to do the right thing in this change now. Sorry for the churn!",
      "created_at": "2024-10-07T08:44:34Z",
      "updated_at": "2024-10-07T08:44:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1789788111",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1789788111"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1789888213",
      "pull_request_review_id": 2351445021,
      "id": 1789888213,
      "node_id": "PRRC_kwDOABII585qr4bV",
      "diff_hunk": "@@ -119,14 +123,12 @@ int main(int argc, char* argv[])\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = abs_datadir / \"blocks\",\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_dir = abs_datadir / \"blocks\" / \"index\",\n+        .block_tree_db_cache_size = 2 << 20,",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "63dfc6067bd7fe06e5a440c229cca030bba6d53a",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Sorry, I don't think my last comment on this was very clear. Lines L109-L112 are moved up from below, and `cache_sizes.block_tree_db` is set. So I think L127 should be:\r\n\r\n```suggestion\r\n        .block_tree_db_cache_size = cache_sizes.block_tree_db,\r\n```\r\n\r\nunless I'm missing something? ",
      "created_at": "2024-10-07T09:45:19Z",
      "updated_at": "2024-10-07T09:45:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1789888213",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1789888213"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1790201191",
      "pull_request_review_id": 2351913537,
      "id": 1790201191,
      "node_id": "PRRC_kwDOABII585qtE1n",
      "diff_hunk": "@@ -1559,8 +1563,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         }\n         LogPrintf(\"* Using %.1f MiB for in-memory UTXO set (plus up to %.1f MiB of unused mempool space)\\n\", cache_sizes.coins * (1.0 / 1024 / 1024), mempool_opts.max_size_bytes * (1.0 / 1024 / 1024));\n \n+        blockman_opts.wipe_block_tree_db = do_reindex;\n+\n         try {\n             node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown), chainman_opts, blockman_opts);\n+        } catch (dbwrapper_error&) {\n+            return InitError(Untranslated(\"Error opening block database.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "40aa407a64346751d83f0edfb6a84ef3a5856fc0",
      "in_reply_to_id": 1776630244,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "See #31046",
      "created_at": "2024-10-07T13:12:18Z",
      "updated_at": "2024-10-07T13:12:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1790201191",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1790201191"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1901165977",
      "pull_request_review_id": 2521245377,
      "id": 1901165977,
      "node_id": "PRRC_kwDOABII585xUX2Z",
      "diff_hunk": "@@ -1198,18 +1200,27 @@ static ChainstateLoadResult InitAndLoadChainstate(\n         .signals = node.validation_signals.get(),\n     };\n     Assert(ApplyArgsManOptions(args, chainman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n     BlockManager::Options blockman_opts{\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = args.GetBlocksDirPath(),\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_dir = args.GetDataDirNet() / \"blocks\" / \"index\",\n+        .wipe_block_tree_db = do_reindex,\n+        .block_tree_db_cache_size = cache_sizes.block_tree_db,\n     };\n     Assert(ApplyArgsManOptions(args, blockman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n     try {\n         node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown_signal), chainman_opts, blockman_opts);",
      "path": "src/init.cpp",
      "position": 32,
      "original_position": 24,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "How about a comment here to document the non-trivial things this does (creating blockman, opening blocksdb, cleaning up old block files in case of pruning) and doesn't (opening coins db)? I think this would help understanding the sequence better. ",
      "created_at": "2025-01-02T18:47:44Z",
      "updated_at": "2025-01-02T20:25:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1901165977",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1901165977"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1223,
      "original_line": 1223,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1901166334",
      "pull_request_review_id": 2521245377,
      "id": 1901166334,
      "node_id": "PRRC_kwDOABII585xUX7-",
      "diff_hunk": "@@ -37,33 +37,6 @@ static ChainstateLoadResult CompleteChainstateInitialization(\n     const CacheSizes& cache_sizes,",
      "path": "src/node/chainstate.cpp",
      "position": null,
      "original_position": 1,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "f55d36a19c61e0ec8c06a6e5a0bbae455c8a1d06",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`cache_sizes` is no longer used and can be removed from `CompleteChainstateInitialization()`",
      "created_at": "2025-01-02T18:48:16Z",
      "updated_at": "2025-01-02T20:25:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1901166334",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1901166334"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906052767",
      "pull_request_review_id": 2535388835,
      "id": 1906052767,
      "node_id": "PRRC_kwDOABII585xnA6f",
      "diff_hunk": "@@ -34,36 +34,8 @@ namespace node {\n // to ChainstateManager::InitializeChainstate().\n static ChainstateLoadResult CompleteChainstateInitialization(\n     ChainstateManager& chainman,\n-    const CacheSizes& cache_sizes,\n     const ChainstateLoadOptions& options) EXCLUSIVE_LOCKS_REQUIRED(::cs_main)\n {\n-    auto& pblocktree{chainman.m_blockman.m_block_tree_db};\n-    // new BlockTreeDB tries to delete the existing file, which\n-    // fails if it's still open from the previous loop. Close it first:\n-    pblocktree.reset();\n-    try {\n-        pblocktree = std::make_unique<BlockTreeDB>(DBParams{\n-            .path = chainman.m_options.datadir / \"blocks\" / \"index\",\n-            .cache_bytes = static_cast<size_t>(cache_sizes.block_tree_db),\n-            .memory_only = options.block_tree_db_in_memory,\n-            .wipe_data = options.wipe_block_tree_db,\n-            .options = chainman.m_options.block_tree_db});\n-    } catch (dbwrapper_error& err) {\n-        LogError(\"%s\\n\", err.what());\n-        return {ChainstateLoadStatus::FAILURE, _(\"Error opening block database\")};\n-    }\n-\n-    if (options.wipe_block_tree_db) {\n-        pblocktree->WriteReindexing(true);\n-        chainman.m_blockman.m_blockfiles_indexed = false;\n-        //If we're reindexing in prune mode, wipe away unusable block files and all undo data files\n-        if (options.prune) {\n-            chainman.m_blockman.CleanupBlockRevFiles();\n-        }\n-    }\n-\n-    if (chainman.m_interrupt) return {ChainstateLoadStatus::INTERRUPTED, {}};",
      "path": "src/node/chainstate.cpp",
      "position": 43,
      "original_position": 32,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"kernel: Move block tree db open to block manager\" (182945e946ac6a92daad012d6579e5441b9641cc)\r\n\r\nI don't think this line should be dropped. It seems like potentially slow loading steps do happen before this `CompleteChainstateInitialization` call, so it's good to check if a shutdown was requested before proceeding.",
      "created_at": "2025-01-07T21:20:21Z",
      "updated_at": "2025-01-07T22:30:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1906052767",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906052767"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906064655",
      "pull_request_review_id": 2535388835,
      "id": 1906064655,
      "node_id": "PRRC_kwDOABII585xnD0P",
      "diff_hunk": "@@ -152,7 +124,7 @@ static ChainstateLoadResult CompleteChainstateInitialization(\n         }\n     }\n \n-    if (!options.wipe_block_tree_db) {\n+    if (!chainman.m_blockman.m_opts.wipe_block_tree_db) {",
      "path": "src/node/chainstate.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"kernel: Move block tree db open to block manager\" (182945e946ac6a92daad012d6579e5441b9641cc)\r\n\r\nI don't actually see why this check (introduced in #21009) is necessary, and think it would be better to drop. Looking at NeedsRedownload() definition it seems like it will already return false if chainstates are empty, so it should be ok to skip.\r\n\r\nIf this check can be dropped it looks like a number of other simplifications are possible: BlockManager::m_opts would not need to be public, so its declaration would not have to move and m_block_file_seq / m_undo_file_seq initializations would not need to change because `m_opts` would not be moving.",
      "created_at": "2025-01-07T21:31:02Z",
      "updated_at": "2025-01-07T22:30:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1906064655",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906064655"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906073567",
      "pull_request_review_id": 2535388835,
      "id": 1906073567,
      "node_id": "PRRC_kwDOABII585xnF_f",
      "diff_hunk": "@@ -27,6 +28,14 @@ struct BlockManagerOpts {\n     bool fast_prune{false};\n     const fs::path blocks_dir;\n     Notifications& notifications;\n+    const fs::path block_tree_db_dir;\n+    // Whether to wipe the block tree database when loading it. If set, this\n+    // will also set a reindexing flag so any existing block data files will be\n+    // scanned and added to the database.\n+    bool wipe_block_tree_db{false};\n+    bool block_tree_db_in_memory{false};\n+    DBOptions block_tree_db_options{};\n+    int64_t block_tree_db_cache_size;",
      "path": "src/kernel/blockmanager_opts.h",
      "position": null,
      "original_position": 19,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"kernel: Move block tree db open to block manager\" (182945e946ac6a92daad012d6579e5441b9641cc)\r\n\r\nAll of these new fields are just duplicating the fields of the existing `DBParams struct`, except for adding a `block_tree` to the name. Would be nice to replace them all with a single `DBParams block_db_params` field.",
      "created_at": "2025-01-07T21:39:28Z",
      "updated_at": "2025-01-07T22:30:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1906073567",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906073567"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 31,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906102143",
      "pull_request_review_id": 2535388835,
      "id": 1906102143,
      "node_id": "PRRC_kwDOABII585xnM9_",
      "diff_hunk": "@@ -119,14 +123,12 @@ int main(int argc, char* argv[])\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = abs_datadir / \"blocks\",\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_dir = abs_datadir / \"blocks\" / \"index\",\n+        .block_tree_db_cache_size = cache_sizes.block_tree_db,",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"kernel: Move block tree db open to block manager\" (182945e946ac6a92daad012d6579e5441b9641cc)\r\n\r\nIt seems far from ideal for bitcoin-chainstate and other kernel library users (not to mention our own test code) to need to hardcode the \"blocks/index\" path and to manually copy the cache size from one struct to another. I think a better API would allow these option fields to be unset and internally use a `Flatten` method similar to the ones in `validation.cpp` and `txmempool.cpp` to set appropriate default values when the fields are unset.",
      "created_at": "2025-01-07T22:12:55Z",
      "updated_at": "2025-01-07T22:30:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1906102143",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1906102143"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 126,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1907957838",
      "pull_request_review_id": 2538442316,
      "id": 1907957838,
      "node_id": "PRRC_kwDOABII585xuSBO",
      "diff_hunk": "@@ -152,7 +124,7 @@ static ChainstateLoadResult CompleteChainstateInitialization(\n         }\n     }\n \n-    if (!options.wipe_block_tree_db) {\n+    if (!chainman.m_blockman.m_opts.wipe_block_tree_db) {",
      "path": "src/node/chainstate.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "in_reply_to_id": 1906064655,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I agree that it should be possible to drop the check.\r\n\r\nThis is a off-topic here, but maybe the entire `NeedsRedownload()` Â check could be removed at some point, or  simplified to just check block one after segwit, instead over iterating over 400k indexes each startup? Segwit activation is now almost 8 years in the past after all...",
      "created_at": "2025-01-08T23:02:35Z",
      "updated_at": "2025-01-09T18:27:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1907957838",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1907957838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909120127",
      "pull_request_review_id": 2540386980,
      "id": 1909120127,
      "node_id": "PRRC_kwDOABII585xytx_",
      "diff_hunk": "@@ -1198,18 +1202,33 @@ static ChainstateLoadResult InitAndLoadChainstate(\n         .signals = node.validation_signals.get(),\n     };\n     Assert(ApplyArgsManOptions(args, chainman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n     BlockManager::Options blockman_opts{\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = args.GetBlocksDirPath(),\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_params = DBParams {\n+            .path = args.GetDataDirNet()  / \"blocks\" / \"index\",\n+            .cache_bytes = static_cast<size_t>(cache_sizes.block_tree_db),\n+            .wipe_data = do_reindex,\n+        },\n     };\n     Assert(ApplyArgsManOptions(args, blockman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n+    // Creating the chainstate manager internally creates a BlockManager, opens\n+    // the blocks tree db, and wipes existing block files in case of a reindex.\n+    // The coinsdb is opened at a later point on LoadChainstate.\n     try {\n         node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown_signal), chainman_opts, blockman_opts);\n+    } catch (dbwrapper_error& e) {\n+        LogError(\"%s\\n\", e.what());\n+        return {ChainstateLoadStatus::FAILURE, _(\"Error opening block database\")};",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "384c73d4fcda4af7c2b4bfb945a248cb93dba47d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"refactor: Remove redundant reindex check\" (fd590d5ca1cfb6c2525b7755edb6a3a2cf16c856)\r\n\r\nCurious about something: In https://github.com/bitcoin/bitcoin/pull/30965#issuecomment-2397922175 you wrote,\r\n\r\n> Yes, my eventual goal was to move calling `InitializeChainstate` for the fully validated chainstate into the `ChainstateManager` constructor as well as calling `InitCoinsDB` for it. I wanted to do this in a future pull request if this change is accepted.\r\n\r\nSo if coins db were intialized in the chainstate constructor, then this dbwrapper_error exception could mean there is an error either from the coins db or the blocks db, not just the blocks db as stated in the current error message.\r\n\r\nFor this reason, and in any case, it seems fragile for this code to have to know what ChainstateManager constructor is doing internally and what exceptions that code might throw. I think it might be better if instead of letting dbwrapper_error be thrown from the ChainstateManager constructor, code in that constructor or code in the BlockStorage constructor would catch that exception and throw a more generic exception that this code could handle without needing to know about ChainstateManager internals.\r\n\r\nMaybe a good candidate for a generic exception type could be the existing `ChainstateLoadResult` type since it can hold an error message and also indicate whether the error is fatal or not (i.e. whether a reindex should be attempted or not).",
      "created_at": "2025-01-09T16:25:03Z",
      "updated_at": "2025-01-09T16:47:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1909120127",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909120127"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 1223,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909124834",
      "pull_request_review_id": 2540386980,
      "id": 1909124834,
      "node_id": "PRRC_kwDOABII585xyu7i",
      "diff_hunk": "@@ -34,35 +34,9 @@ namespace node {\n // to ChainstateManager::InitializeChainstate().\n static ChainstateLoadResult CompleteChainstateInitialization(\n     ChainstateManager& chainman,\n-    const CacheSizes& cache_sizes,\n     const ChainstateLoadOptions& options) EXCLUSIVE_LOCKS_REQUIRED(::cs_main)\n {\n-    auto& pblocktree{chainman.m_blockman.m_block_tree_db};\n-    // new BlockTreeDB tries to delete the existing file, which\n-    // fails if it's still open from the previous loop. Close it first:\n-    pblocktree.reset();\n-    try {\n-        pblocktree = std::make_unique<BlockTreeDB>(DBParams{\n-            .path = chainman.m_options.datadir / \"blocks\" / \"index\",\n-            .cache_bytes = static_cast<size_t>(cache_sizes.block_tree_db),\n-            .memory_only = options.block_tree_db_in_memory,\n-            .wipe_data = options.wipe_block_tree_db,\n-            .options = chainman.m_options.block_tree_db});\n-    } catch (dbwrapper_error& err) {\n-        LogError(\"%s\\n\", err.what());\n-        return {ChainstateLoadStatus::FAILURE, _(\"Error opening block database\")};\n-    }\n-\n-    if (options.wipe_block_tree_db) {\n-        pblocktree->WriteReindexing(true);\n-        chainman.m_blockman.m_blockfiles_indexed = false;\n-        //If we're reindexing in prune mode, wipe away unusable block files and all undo data files\n-        if (options.prune) {\n-            chainman.m_blockman.CleanupBlockRevFiles();\n-        }\n-    }\n-\n-    if (chainman.m_interrupt) return {ChainstateLoadStatus::INTERRUPTED, {}};\n+   if (chainman.m_interrupt) return {ChainstateLoadStatus::INTERRUPTED, {}};",
      "path": "src/node/chainstate.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "384c73d4fcda4af7c2b4bfb945a248cb93dba47d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"kernel: Move block tree db open to block manager\" (384c73d4fcda4af7c2b4bfb945a248cb93dba47d)\r\n\r\nLooks like indentation unintentionally changed here",
      "created_at": "2025-01-09T16:28:31Z",
      "updated_at": "2025-01-09T16:47:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1909124834",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909124834"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909184706",
      "pull_request_review_id": 2540497523,
      "id": 1909184706,
      "node_id": "PRRC_kwDOABII585xy9jC",
      "diff_hunk": "@@ -119,14 +123,12 @@ int main(int argc, char* argv[])\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = abs_datadir / \"blocks\",\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_dir = abs_datadir / \"blocks\" / \"index\",\n+        .block_tree_db_cache_size = cache_sizes.block_tree_db,",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "182945e946ac6a92daad012d6579e5441b9641cc",
      "in_reply_to_id": 1906102143,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I like the suggestion, but after implementing it still does not seem entirely ideal. I just made the entire `DBParams` field an optional, so it's not easily possible to set only the cache size, but not the path. It is also annoying that the current behaviour with the path is that it is dependent on the data dir path, not the blocks dir path.",
      "created_at": "2025-01-09T17:13:25Z",
      "updated_at": "2025-01-09T17:13:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1909184706",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909184706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 126,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909193453",
      "pull_request_review_id": 2540512751,
      "id": 1909193453,
      "node_id": "PRRC_kwDOABII585xy_rt",
      "diff_hunk": "@@ -1198,18 +1202,33 @@ static ChainstateLoadResult InitAndLoadChainstate(\n         .signals = node.validation_signals.get(),\n     };\n     Assert(ApplyArgsManOptions(args, chainman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n     BlockManager::Options blockman_opts{\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = args.GetBlocksDirPath(),\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_params = DBParams {\n+            .path = args.GetDataDirNet()  / \"blocks\" / \"index\",\n+            .cache_bytes = static_cast<size_t>(cache_sizes.block_tree_db),\n+            .wipe_data = do_reindex,\n+        },\n     };\n     Assert(ApplyArgsManOptions(args, blockman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n+    // Creating the chainstate manager internally creates a BlockManager, opens\n+    // the blocks tree db, and wipes existing block files in case of a reindex.\n+    // The coinsdb is opened at a later point on LoadChainstate.\n     try {\n         node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown_signal), chainman_opts, blockman_opts);\n+    } catch (dbwrapper_error& e) {\n+        LogError(\"%s\\n\", e.what());\n+        return {ChainstateLoadStatus::FAILURE, _(\"Error opening block database\")};",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "384c73d4fcda4af7c2b4bfb945a248cb93dba47d",
      "in_reply_to_id": 1909120127,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good thinking ahead! Yeah, my idea was to use something along those lines too. Maybe we could start annotating some of the functions here to make it easier for the developer to see which exceptions it throws? Though my understanding is that such annotations have been deliberately left out of the code so far (https://stackoverflow.com/questions/1055387/throw-keyword-in-functions-signature).\r\n\r\nOn the other hand it would be nice if we could agree on more coherent error handling for constructors, be it with factory functions, error out params, or exceptions. I am starting to like exceptions for these cases though, and combining them with `ChainstateLoadResult` would make responding to them fairly straight forward in our init code.",
      "created_at": "2025-01-09T17:20:59Z",
      "updated_at": "2025-01-09T17:21:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1909193453",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909193453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": 1223,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922387437",
      "pull_request_review_id": 2562365614,
      "id": 1922387437,
      "node_id": "PRRC_kwDOABII585ylU3t",
      "diff_hunk": "@@ -1199,18 +1203,33 @@ static ChainstateLoadResult InitAndLoadChainstate(\n         .signals = node.validation_signals.get(),\n     };\n     Assert(ApplyArgsManOptions(args, chainman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n     BlockManager::Options blockman_opts{\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = args.GetBlocksDirPath(),\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_params = DBParams{\n+            .path = args.GetDataDirNet() / \"blocks\" / \"index\",\n+            .cache_bytes = static_cast<size_t>(cache_sizes.block_tree_db),",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "7f484b319bdc9e646e270b6d6d9a1c7e52296dc0",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Forgot to drop the casts in the rebase?",
      "created_at": "2025-01-20T13:14:25Z",
      "updated_at": "2025-01-20T13:14:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1922387437",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922387437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1213,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922402772",
      "pull_request_review_id": 2562391270,
      "id": 1922402772,
      "node_id": "PRRC_kwDOABII585ylYnU",
      "diff_hunk": "@@ -1199,18 +1203,33 @@ static ChainstateLoadResult InitAndLoadChainstate(\n         .signals = node.validation_signals.get(),\n     };\n     Assert(ApplyArgsManOptions(args, chainman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n     BlockManager::Options blockman_opts{\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = args.GetBlocksDirPath(),\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_params = DBParams{\n+            .path = args.GetDataDirNet() / \"blocks\" / \"index\",\n+            .cache_bytes = static_cast<size_t>(cache_sizes.block_tree_db),",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "7f484b319bdc9e646e270b6d6d9a1c7e52296dc0",
      "in_reply_to_id": 1922387437,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "yes -_-",
      "created_at": "2025-01-20T13:26:11Z",
      "updated_at": "2025-01-20T13:26:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1922402772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922402772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1213,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922589316",
      "pull_request_review_id": 2562705180,
      "id": 1922589316,
      "node_id": "PRRC_kwDOABII585ymGKE",
      "diff_hunk": "@@ -250,14 +249,15 @@ ChainTestingSetup::ChainTestingSetup(const ChainType chainType, TestOpts opts)\n             .chainparams = chainman_opts.chainparams,\n             .blocks_dir = m_args.GetBlocksDirPath(),\n             .notifications = chainman_opts.notifications,\n+            .block_tree_db_params = DBParams{\n+                .path = m_args.GetDataDirNet() / \"blocks\" / \"index\",\n+                .cache_bytes = m_kernel_cache_sizes.block_tree_db,\n+                .memory_only = opts.block_tree_db_in_memory,\n+                .wipe_data = m_args.GetBoolArg(\"-reindex\", false),\n+            },\n         };\n         m_node.chainman = std::make_unique<ChainstateManager>(*Assert(m_node.shutdown_signal), chainman_opts, blockman_opts);\n         LOCK(m_node.chainman->GetMutex());",
      "path": "src/test/util/setup_common.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "f3cfdf2b511776211a0399510ced735e556d510d",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "not sure if this was ever needed (maybe `m_blockman` is supposed to be under the chainman mutex?), but this is now a no-op, as the scope ends in the next line.",
      "created_at": "2025-01-20T15:43:48Z",
      "updated_at": "2025-01-20T16:05:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1922589316",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922589316"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 260,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922596559",
      "pull_request_review_id": 2562705180,
      "id": 1922596559,
      "node_id": "PRRC_kwDOABII585ymH7P",
      "diff_hunk": "@@ -1199,18 +1203,33 @@ static ChainstateLoadResult InitAndLoadChainstate(\n         .signals = node.validation_signals.get(),\n     };\n     Assert(ApplyArgsManOptions(args, chainman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n     BlockManager::Options blockman_opts{\n         .chainparams = chainman_opts.chainparams,\n         .blocks_dir = args.GetBlocksDirPath(),\n         .notifications = chainman_opts.notifications,\n+        .block_tree_db_params = DBParams{\n+            .path = args.GetDataDirNet() / \"blocks\" / \"index\",\n+            .cache_bytes = cache_sizes.block_tree_db,\n+            .wipe_data = do_reindex,\n+        },\n     };\n     Assert(ApplyArgsManOptions(args, blockman_opts)); // no error can happen, already checked in AppInitParameterInteraction\n+\n+    // Creating the chainstate manager internally creates a BlockManager, opens\n+    // the blocks tree db, and wipes existing block files in case of a reindex.\n+    // The coinsdb is opened at a later point on LoadChainstate.\n     try {\n         node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown_signal), chainman_opts, blockman_opts);\n+    } catch (dbwrapper_error& e) {\n+        LogError(\"%s\\n\", e.what());",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "0cdddeb2240d1f33c8b2dd28bb0c9d84d9420e3d",
      "original_commit_id": "f3cfdf2b511776211a0399510ced735e556d510d",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n        LogError(\"%s\", e.what());\r\n```\r\n\r\nstyle-nit: Newline not needed. Alternatively, if you want to keep it move-only, I'd suggest to keep the name of `err` as `err`, instead of `e`.",
      "created_at": "2025-01-20T15:49:46Z",
      "updated_at": "2025-01-20T16:05:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30965#discussion_r1922596559",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1922596559"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30965"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1225,
      "side": "RIGHT"
    }
  ]
}