{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807",
    "id": 2052252939,
    "node_id": "PR_kwDOABII5856UuUL",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30807",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30807.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30807.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
    "number": 30807,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Fix peers abruptly disconnecting from AssumeUTXO nodes during IBD",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Because AssumeUTXO nodes prioritize tip synchronization, they relay their local\r\naddress through the network before completing the background chain sync.\r\nThis, combined with the advertising of full-node service (`NODE_NETWORK`), can\r\nresult in an honest peer in IBD connecting to the AssumeUTXO node (while syncing)\r\nand requesting an historical block the node does not have. This behavior leads to\r\nan abrupt disconnection due to perceived unresponsiveness from the AssumeUTXO\r\nnode.\r\n\r\nThis lack of response occurs because nodes ignore `getdata` requests when they do\r\nnot have the block data available (further discussion can be found in #30385).\r\n\r\nFix this by refraining from signaling full-node service support while the\r\nbackground chain is being synced. During this period, the node will only\r\nsignal `NODE_NETWORK_LIMITED` support. Then, full-node (`NODE_NETWORK`)\r\nsupport will be re-enabled once the background chain sync is completed.\r\n\r\nThanks mzumsande for a post-#30385 convo too.\r\n\r\nTesting notes:\r\nJust cherry-pick the second commit (bb08c22) on master.\r\nIt will fail there, due to the IBD node requesting historical blocks to the snapshot\r\nnode - which is bad because the snapshot node will ignore the requests and\r\nstall + disconnect after some time.",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/66",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66/labels",
      "id": 10314936,
      "node_id": "MI_kwDOABII584AnWS4",
      "number": 66,
      "state": "open",
      "title": "28.0",
      "creator": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 4,
      "closed_issues": 85,
      "created_at": "2023-12-15T12:08:23Z",
      "updated_at": "2024-09-11T17:37:50Z"
    },
    "created_at": "2024-09-03T23:37:43Z",
    "updated_at": "2024-09-12T11:58:49Z",
    "closed_at": "2024-09-11T17:37:50Z",
    "mergeable_state": "unknown",
    "merged_at": "2024-09-11T17:37:50Z",
    "merge_commit_sha": "349632e022da22a457a85650360b5be41fa500dc",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "furszy:2024_net_assumeUTXO_service",
      "ref": "2024_net_assumeUTXO_service",
      "sha": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 4,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 412938,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-09-11T19:12:48Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2024-09-08T14:28:11Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "c66c68345efb0bb3d5613ebac703cde779fa0f01",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36155,
        "stargazers_count": 78350,
        "watchers_count": 78350,
        "size": 268258,
        "default_branch": "master",
        "open_issues_count": 660,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-09-12T11:17:11Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-09-12T11:47:21Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 147,
    "deletions": 11,
    "changed_files": 7,
    "commits": 2,
    "review_comments": 14,
    "comments": 10
  },
  "events": [
    {
      "event": "commented",
      "id": 2327630235,
      "node_id": "IC_kwDOABII586KvNGb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2327630235",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-03T23:37:45Z",
      "updated_at": "2024-09-11T17:22:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30807).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [naumenkogs](https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2296198023), [mzumsande](https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2298031257), [achow101](https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2344266604) |\n| Concept ACK | [tdb3](https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2288434916) |\n| Stale ACK | [fjahr](https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2288547896) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2327630235",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "labeled",
      "id": 14123762889,
      "node_id": "LE_lADOABII586VP_ctzwAAAANJ14TJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14123762889",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-04T03:51:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2329225316,
      "node_id": "IC_kwDOABII586K1Shk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2329225316",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-04T14:29:22Z",
      "updated_at": "2024-09-04T14:29:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI've read through https://github.com/bitcoin/bitcoin/pull/30385 and this seems like a good change.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2329225316",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "commented",
      "id": 2329230808,
      "node_id": "IC_kwDOABII586K1T3Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2329230808",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-04T14:31:35Z",
      "updated_at": "2024-09-04T14:31:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "CI doesn't seem happy though. Kind of weird, the logs don't load for me.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2329230808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "commented",
      "id": 2329262030,
      "node_id": "IC_kwDOABII586K1bfO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2329262030",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-04T14:43:19Z",
      "updated_at": "2024-09-04T14:43:19Z",
      "author_association": "MEMBER",
      "body": "> CI doesn't seem happy though. Kind of weird, the logs don't load for me.\r\n\r\nYeah, working on it. Almost there.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2329262030",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14137876969,
      "node_id": "HRFPE_lADOABII586VP_ctzwAAAANKruHp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14137876969",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-04T21:41:55Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14137907724,
      "node_id": "HRFPE_lADOABII586VP_ctzwAAAANKr1oM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14137907724",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-04T21:45:57Z"
    },
    {
      "event": "reviewed",
      "id": 2281468112,
      "node_id": "PRR_kwDOABII586H_HDQ",
      "url": null,
      "actor": null,
      "commit_id": "dd45ee23a04ec2dbffc12624f2334eec90cd5bad",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Updated and rebased due to conflicts with a recently merged PR. The CI shouldn't complain now.\r\n\r\nOn a side note:\r\nIt took me longer to place my test code inside `feature_assumeutxo.py` than to fix the issue. I think it would be good to reorganize this file a bit and make the assumeUTXO params configurable at startup or runtime for tests. This would allow us to split tests into different files for each of the products we provide: network/p2p, local node, and wallet.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2281468112",
      "submitted_at": "2024-09-04T21:54:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
    },
    {
      "event": "milestoned",
      "id": 14147961243,
      "node_id": "MIE_lADOABII586VP_ctzwAAAANLSMGb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14147961243",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T14:03:19Z",
      "milestone": {
        "title": "28.0"
      }
    },
    {
      "event": "labeled",
      "id": 14148421068,
      "node_id": "LE_lADOABII586VP_ctzwAAAANLT8XM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14148421068",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T14:29:25Z",
      "label": {
        "name": "Needs backport (28.x)",
        "color": "dd7200"
      }
    },
    {
      "event": "unlabeled",
      "id": 14150989047,
      "node_id": "UNLE_lADOABII586VP_ctzwAAAANLdvT3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14150989047",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T17:43:00Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2332722279,
      "node_id": "IC_kwDOABII586LCoRn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2332722279",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T22:15:48Z",
      "updated_at": "2024-09-05T22:15:48Z",
      "author_association": "MEMBER",
      "body": "ACK bb08c227de158dbd88a80d904edb209e1734ab91",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2332722279",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "review_requested",
      "id": 14153608822,
      "node_id": "RRE_lADOABII586VP_ctzwAAAANLnu52",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14153608822",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T22:15:51Z",
      "requested_reviewer": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2288434916,
      "node_id": "PRR_kwDOABII586IZr7k",
      "url": null,
      "actor": null,
      "commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nBrief code review.\r\nLooks good.  Planning to review in more detail.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2288434916",
      "submitted_at": "2024-09-08T01:25:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
    },
    {
      "event": "reviewed",
      "id": 2288547896,
      "node_id": "PRR_kwDOABII586IaHg4",
      "url": null,
      "actor": null,
      "commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK bb08c227de158dbd88a80d904edb209e1734ab91\r\n\r\nIf we are in a hurry for v28 this is fine to merge as is, my comments can be kept for a follow-up.\r\n\r\nAside from the inline comments I would suggest to modernize the naming of `nLocalServices`. I prepared a scripted-diff commit to cherry-pick or I can open the follow-up: https://github.com/fjahr/bitcoin/commit/6cc25ffb1411285d8191bc932eb37b96348f022c",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2288547896",
      "submitted_at": "2024-09-08T23:04:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
    },
    {
      "event": "review_requested",
      "id": 14175271920,
      "node_id": "RRE_lADOABII586VP_ctzwAAAANM6Xvw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14175271920",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-08T23:04:58Z",
      "requested_reviewer": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 2338236543,
      "node_id": "IC_kwDOABII586LXqh_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2338236543",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-09T14:10:59Z",
      "updated_at": "2024-09-09T14:10:59Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review fjahr!, it seems that your scripted-diff commit  https://github.com/fjahr/bitcoin/commit/6cc25ffb1411285d8191bc932eb37b96348f022c makes CI unhappy. I haven't checked the reason but we could leave it for a follow-up to move forward with the fix for v28. Happy to check it.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2338236543",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "reviewed",
      "id": 2290116946,
      "node_id": "PRR_kwDOABII586IgGlS",
      "url": null,
      "actor": null,
      "commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI think the description of the first commit could be improved:\r\n> AssumeUTXO nodes prioritize tip synchronization first, meaning they advertise\r\n    knowledge of all blocks posterior to the snapshot base block hash. \r\n\r\nThis is confusing to me - nodes advertise `NODE_NETWORK` (all historical blocks prior to tip) or `NODE_NETWORK_LIMITED` (last 288 from tip). They also communicate their current tip with peers, but it's not part of the advertisement. So this includes (amongst others) blocks **prior** to the snapshot block hash, not posterior.\r\n\r\n> while the AssumeUTXO node is synchronizing the tip chain or the background chain.\r\n\r\nOnly the latter is a problem: while synchronzing the tip chain `IsInitialBlockDownload` is false and the node doesn't self-advertise, and therefore wouldn't receive inbound peers normally. Otherwise we'd have (at least in theory) a similar problem right after the snapshot was loaded, when also `NODE_NETWORK_LIMITED` would be incorrect because we don't have the last 288 blocks on disk. But this shouldn't be a problem in practice.\r\n\r\n> after stalling for ~10 minutes\r\n\r\nThis could be much less, due to the stalling detection (`m_stalling_since`), I wouldn't mention it.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2290116946",
      "submitted_at": "2024-09-09T15:49:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14205251574,
      "node_id": "HRFPE_lADOABII586VP_ctzwAAAANOsu_2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14205251574",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-10T20:21:29Z"
    },
    {
      "event": "reviewed",
      "id": 2293758551,
      "node_id": "PRR_kwDOABII586It_pX",
      "url": null,
      "actor": null,
      "commit_id": "a322da368468136c7b0beeb44ef60e008cc1acf9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> > AssumeUTXO nodes prioritize tip synchronization first, meaning they advertise\r\n> > knowledge of all blocks posterior to the snapshot base block hash.\r\n> \r\n> This is confusing to me - nodes advertise `NODE_NETWORK` (all historical blocks prior to tip) or `NODE_NETWORK_LIMITED` (last 288 from tip). They also communicate their current tip with peers, but it's not part of the advertisement. So this includes (amongst others) blocks **prior** to the snapshot block hash, not posterior.\r\n\r\nYeah ok. Changed it. Thanks!\r\n\r\n> > while the AssumeUTXO node is synchronizing the tip chain or the background chain.\r\n>\r\n> Only the latter is a problem: while synchronzing the tip chain IsInitialBlockDownload is false and the node doesn't self-advertise, and therefore wouldn't receive inbound peers normally. Otherwise we'd have (at least in theory) a similar problem right after the snapshot was loaded, when also NODE_NETWORK_LIMITED would be incorrect because we don't have the last 288 blocks on disk. But this shouldn't be a problem in practice.\r\n\r\nWhat about us connecting to a synced limited peer, during tip sync, who tries to fetch historical blocks due to the `NODE_NETWORK` service, like #29183.\r\nAlso, manual connections are also affected if the other peer is in IBD. But.. this is something the node operator would hopefully be aware of before connecting peers.\r\n\r\nAside from this two nuances, thanks for the feedback!\r\nUpdated the commit description. Let me know if further updates are needed.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2293758551",
      "submitted_at": "2024-09-10T20:59:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkNTgxMmU1Yzg1MmMyMzNiZDdlYWQyY2VlZjA1MWY4NTY3NjE5ZWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d5812e5c852c233bd7ead2ceef051f8567619ed",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6d5812e5c852c233bd7ead2ceef051f8567619ed",
      "tree": {
        "sha": "7885e5694b443fcabefee92aea2e8a7e94410eac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7885e5694b443fcabefee92aea2e8a7e94410eac"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7885e5694b443fcabefee92aea2e8a7e94410eac\nparent 93e48240bfdc25c2760d33da69e739ba1f92da9b\nauthor furszy <matiasfurszyfer@protonmail.com> 1725372055 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1726002512 -0300\n\nassumeUTXO: fix peers disconnection during sync\n\nBecause AssumeUTXO nodes prioritize tip synchronization, they relay their local\naddress through the network before completing the background chain sync.\nThis, combined with the advertising of full-node service (NODE_NETWORK), can\nresult in an honest peer in IBD connecting to the AssumeUTXO node (while syncing)\nand requesting an historical block the node does not have. This behavior leads to\nan abrupt disconnection due to perceived unresponsiveness (lack of response)\nfrom the AssumeUTXO node.\n\nThis lack of response occurs because nodes ignore getdata requests when they do\nnot have the block data available (further discussion can be found in PR 30385).\n\nFix this by refraining from signaling full-node service support while the\nbackground chain is being synced. During this period, the node will only\nsignal 'NODE_NETWORK_LIMITED' support. Then, full-node ('NODE_NETWORK')\nsupport will be re-enabled once the background chain sync is completed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmbgtVAACgkQXdI8zGhq\npiNONQ/9GXWcRpHSVR///M5jlmZF9H9vE6qNtz7a0SBhbyaJ4Iwr3w1AW4JQeKqR\nrfcafDB2biAYBput7obWc0SCxZoJeu83s6c2VQuAj0GilhYLaLJN97XchGFEqHTf\nXVmq2OYkQryIiFqYQx56yvR+2Ze7HhESv6tmMQmPQXK+Uh31mbt9U9aYmcRxFkDR\nIrxSdu3HGzA2195AaCMzggiHk/t8bq+emB9ESgPbbB9j048quX42U0CFQPx9tg4P\noFMhSsl6zh782QR7zQ/Zlh4arnmhCRectJ8I4aTbMeq345ew1urn+bnrOxp1WWal\nDB66iIXYc8KxM139E5N3C288T/H6AUoH/ZO/gmSBTJwcJuPXCuY0+ld0bluBzxqh\njWHt0SFV28i6golxSqSGVY2jf3IO0VeDCVI9xe26m0xQOp+OkF8I5BOdCtnFM/0N\nM3uoLwEZEiwbDqEP6Lzx0AZb2vtu0abV68xkSvIeiAEnS7x0CtjizFLcK22jTzYb\np0KqWVZN4OqlW/eb5q2OhDwu8TyTrmgagct0rnzeH10bhdyRmJHU1rivwfBFenK1\nfVwIGZmbk8PKN0aiUjlz78sWZ3EihfDlL8Es3XvSQT0LXNs/yguKW2A+tvE5gXbJ\nKV/hP+8E24QsSaoiYuaHOVIpi7VRX7SfSn70XsUGmZ6k+n558Jo=\n=yzYr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/93e48240bfdc25c2760d33da69e739ba1f92da9b",
          "sha": "93e48240bfdc25c2760d33da69e739ba1f92da9b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/93e48240bfdc25c2760d33da69e739ba1f92da9b"
        }
      ],
      "message": "assumeUTXO: fix peers disconnection during sync\n\nBecause AssumeUTXO nodes prioritize tip synchronization, they relay their local\naddress through the network before completing the background chain sync.\nThis, combined with the advertising of full-node service (NODE_NETWORK), can\nresult in an honest peer in IBD connecting to the AssumeUTXO node (while syncing)\nand requesting an historical block the node does not have. This behavior leads to\nan abrupt disconnection due to perceived unresponsiveness (lack of response)\nfrom the AssumeUTXO node.\n\nThis lack of response occurs because nodes ignore getdata requests when they do\nnot have the block data available (further discussion can be found in PR 30385).\n\nFix this by refraining from signaling full-node service support while the\nbackground chain is being synced. During this period, the node will only\nsignal 'NODE_NETWORK_LIMITED' support. Then, full-node ('NODE_NETWORK')\nsupport will be re-enabled once the background chain sync is completed.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-09-10T21:08:32Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-09-03T14:00:55Z"
      },
      "sha": "6d5812e5c852c233bd7ead2ceef051f8567619ed"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5MmY4M2JiNmY0YjI5YjQ0ZjRlYWFjZTFkMWEyYzAwMDFkNDNjYWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "tree": {
        "sha": "d21893474fdfec11910efeea48bf15d668d6dc3f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d21893474fdfec11910efeea48bf15d668d6dc3f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d21893474fdfec11910efeea48bf15d668d6dc3f\nparent 6d5812e5c852c233bd7ead2ceef051f8567619ed\nauthor furszy <matiasfurszyfer@protonmail.com> 1720534049 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1726002513 -0300\n\ntest: add coverage for assumeUTXO honest peers disconnection\n\nExercising and verifying the following points:\n\n1. An IBD node can sync headers from an AssumeUTXO node at\n   any time.\n\n2. IBD nodes do not request historical blocks from AssumeUTXO\n   nodes while they are syncing the background-chain.\n\n3. The assumeUTXO node dynamically adjusts the network services\n   it offers according to its state.\n\n4. IBD nodes can fully sync from AssumeUTXO nodes after they\n   finish the background-chain sync.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmbgtVEACgkQXdI8zGhq\npiPgKxAAk7eW8793cwjvCe/CmKAxDbeeMdyY3r6mLzXGHP9ZlfcS1yVNUQNXkKaj\nYv+8iFZPf+RJLbTOfeiscagbYHmMyv1y+TFGfsFwKSAQefpchWFh/I/88038esIQ\nIKUvmNGi7ZOrk6KOiCXSn9UqCBU3TM2je3STDGO+V+ClVJ+yfw2w33t7oqlCJ4Pz\nab/VW7x0rhhSfguk0HMAW9EdQPBXOidWVzdDDs5agJv/fG27tXKRvUKr9H2Fr+DK\n28BJN5qRtxhKxrWSXlSWp16w2G5/53UPaL9MIq23DeuDDK6WiyKsczrfd8Ujpec2\nJnOm9zeM3nfmpqejkRbzA9mEkZxl14N7HT/ncl6T7T+F703HBKf1ylt5/8w7Htua\nZxVzoa8NfCpSPto42QKmyOFSn4UsMB/pe1dXzR8lRY4jecNWsCT//76wO5jFrR7d\nWmhEKDxEulMNFyIYPuLRWizgy9FoS2BmmWQN/aoTsUElEKTPUPsMUIBMQGSLm6fE\nRA/ZpfuHkxXswBlEvMtpfNLXTCA9Ez8Oyt6WSmxgKXOwv1pKlpmBSHBAZB44Bi97\nc2GJOiJFjQWMCQDuDuUOX1j2Hu80y2+W78+g1iD6OFMZCj1Bs5XognHW+l8S+gxu\nqcVmA/YLeb2MVjAVtMbhjrQKaOSByNg791fRZ6sB6eN//aBw0JQ=\n=ffp+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d5812e5c852c233bd7ead2ceef051f8567619ed",
          "sha": "6d5812e5c852c233bd7ead2ceef051f8567619ed",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6d5812e5c852c233bd7ead2ceef051f8567619ed"
        }
      ],
      "message": "test: add coverage for assumeUTXO honest peers disconnection\n\nExercising and verifying the following points:\n\n1. An IBD node can sync headers from an AssumeUTXO node at\n   any time.\n\n2. IBD nodes do not request historical blocks from AssumeUTXO\n   nodes while they are syncing the background-chain.\n\n3. The assumeUTXO node dynamically adjusts the network services\n   it offers according to its state.\n\n4. IBD nodes can fully sync from AssumeUTXO nodes after they\n   finish the background-chain sync.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-09-10T21:08:33Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-07-09T14:07:29Z"
      },
      "sha": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14205705604,
      "node_id": "HRFPE_lADOABII586VP_ctzwAAAANOud2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14205705604",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-10T21:08:42Z"
    },
    {
      "event": "reviewed",
      "id": 2296198023,
      "node_id": "PRR_kwDOABII586I3TOH",
      "url": null,
      "actor": null,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2296198023",
      "submitted_at": "2024-09-11T09:28:46Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
    },
    {
      "event": "review_requested",
      "id": 14212794775,
      "node_id": "RRE_lADOABII586VP_ctzwAAAANPJgmX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14212794775",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T09:28:49Z",
      "requested_reviewer": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 14212795055,
      "node_id": "RRE_lADOABII586VP_ctzwAAAANPJgqv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14212795055",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T09:28:50Z",
      "requested_reviewer": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 14212795282,
      "node_id": "RRE_lADOABII586VP_ctzwAAAANPJguS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14212795282",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T09:28:51Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "labeled",
      "id": 14215195714,
      "node_id": "LE_lADOABII586VP_ctzwAAAANPSqxC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14215195714",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T12:17:11Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2298031257,
      "node_id": "PRR_kwDOABII586I-SyZ",
      "url": null,
      "actor": null,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 992f83bb6f4b29b44f4eaace1d1a2c0001d43cac\r\n\r\n> Updated the commit description. Let me know if further updates are needed.\r\n\r\nLooks good to me!\r\n> What about us connecting to a synced limited peer, during tip sync, who tries to fetch historical blocks due to the NODE_NETWORK service, like https://github.com/bitcoin/bitcoin/issues/29183.\r\n\r\nI think we just wouldn't connect to limited peers during tip sync - only when we are very close to the global tip we accept those as outbound peers (`GetDesirableServiceFlags`).\r\n\r\n",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2298031257",
      "submitted_at": "2024-09-11T17:17:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
    },
    {
      "event": "commented",
      "id": 2344266604,
      "node_id": "IC_kwDOABII586Luqts",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2344266604",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T17:22:43Z",
      "updated_at": "2024-09-11T17:22:43Z",
      "author_association": "MEMBER",
      "body": "ACK 992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2344266604",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "merged",
      "id": 14220272808,
      "node_id": "ME_lADOABII586VP_ctzwAAAANPmCSo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14220272808",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "349632e022da22a457a85650360b5be41fa500dc",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/349632e022da22a457a85650360b5be41fa500dc",
      "created_at": "2024-09-11T17:37:50Z"
    },
    {
      "event": "closed",
      "id": 14220272990,
      "node_id": "CE_lADOABII586VP_ctzwAAAANPmCVe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14220272990",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T17:37:50Z"
    },
    {
      "event": "referenced",
      "id": 14220366601,
      "node_id": "REFE_lADOABII586VP_ctzwAAAANPmZMJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14220366601",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c6b5db1d591f0984cd0e6918970a9e4fc32595d3",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/c6b5db1d591f0984cd0e6918970a9e4fc32595d3",
      "created_at": "2024-09-11T17:43:05Z"
    },
    {
      "event": "referenced",
      "id": 14220366623,
      "node_id": "REFE_lADOABII586VP_ctzwAAAANPmZMf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14220366623",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b329ed739b7311b3b47cae1ef8d576a90e0a36a1",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/b329ed739b7311b3b47cae1ef8d576a90e0a36a1",
      "created_at": "2024-09-11T17:43:05Z"
    },
    {
      "event": "commented",
      "id": 2344308159,
      "node_id": "IC_kwDOABII586Lu02_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2344308159",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T17:43:56Z",
      "updated_at": "2024-09-11T17:43:56Z",
      "author_association": "MEMBER",
      "body": "Backported to 28.x in #30827",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2344308159",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "unlabeled",
      "id": 14220379561,
      "node_id": "UNLE_lADOABII586VP_ctzwAAAANPmcWp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14220379561",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T17:44:02Z",
      "label": {
        "name": "Needs backport (28.x)",
        "color": "dd7200"
      }
    },
    {
      "event": "head_ref_deleted",
      "id": 14221626388,
      "node_id": "HRDE_lADOABII586VP_ctzwAAAANPrMwU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14221626388",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T19:12:48Z"
    },
    {
      "event": "commented",
      "id": 2344526070,
      "node_id": "IC_kwDOABII586LvqD2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2344526070",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T19:20:56Z",
      "updated_at": "2024-09-11T19:20:56Z",
      "author_association": "MEMBER",
      "body": "> I think we just wouldn't connect to limited peers during tip sync - only when we are very close to the global tip we accept those as outbound peers (GetDesirableServiceFlags).\r\n\r\nha.. and I fixed an issue exactly there in the past.. (#28170). What a good memory I have..",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2344526070",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    },
    {
      "event": "commented",
      "id": 2346092294,
      "node_id": "IC_kwDOABII586L1ocG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2346092294",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-12T11:58:47Z",
      "updated_at": "2024-09-12T11:58:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "post-merge utACK 992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#issuecomment-2346092294",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30807"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749251951",
      "pull_request_review_id": 2288547896,
      "id": 1749251951,
      "node_id": "PRRC_kwDOABII585oQ3dv",
      "diff_hunk": "@@ -555,12 +580,20 @@ def check_tx_counts(final: bool) -> None:\n \n         self.log.info(\"-- Testing all indexes + reindex\")\n         assert_equal(n2.getblockcount(), START_HEIGHT)\n+        assert 'NETWORK' in n2.getnetworkinfo()['localservicesnames']  # sanity check\n \n         self.log.info(f\"Loading snapshot into third node from {dump_output['path']}\")\n         loaded = n2.loadtxoutset(dump_output['path'])\n         assert_equal(loaded['coins_loaded'], SNAPSHOT_BASE_HEIGHT)\n         assert_equal(loaded['base_height'], SNAPSHOT_BASE_HEIGHT)\n \n+        # Since n2 is a full node, it will unset the 'NETWORK' service flag during snapshot loading.",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 71,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        # Even though n2 is a full node, it will unset the 'NETWORK' service flag during snapshot loading.\r\n```",
      "created_at": "2024-09-08T14:28:17Z",
      "updated_at": "2024-09-08T23:04:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1749251951",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749251951"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 590,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749253132",
      "pull_request_review_id": 2288547896,
      "id": 1749253132,
      "node_id": "PRRC_kwDOABII585oQ3wM",
      "diff_hunk": "@@ -381,13 +381,22 @@ def check_dump_output(output):\n         self.test_snapshot_block_invalidated(dump_output['path'])\n         self.test_snapshot_not_on_most_work_chain(dump_output['path'])\n \n+        # Prune-node sanity check\n+        assert 'NETWORK' not in n1.getnetworkinfo()['localservicesnames']\n+\n         self.log.info(f\"Loading snapshot into second node from {dump_output['path']}\")\n         # This node's tip is on an ancestor block of the snapshot, which should\n         # be the normal case\n         loaded = n1.loadtxoutset(dump_output['path'])\n         assert_equal(loaded['coins_loaded'], SNAPSHOT_BASE_HEIGHT)\n         assert_equal(loaded['base_height'], SNAPSHOT_BASE_HEIGHT)\n \n+        self.log.info(\"Confirm that local services remain unchanged\")\n+        # Since n1 is a pruned node, the 'NETWORK' service flag must always be unset.\n+        prune_node_services = n1.getnetworkinfo()['localservicesnames']",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 16,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since this check is repeated six times it could be a reusable function\r\n\r\n```python\r\ndef check_network_limited(node):\r\n    node_services = node.getnetworkinfo()['localservicesnames']\r\n    assert 'NETWORK' not in node_services\r\n    assert 'NETWORK_LIMITED' in node_services\r\n```",
      "created_at": "2024-09-08T14:33:27Z",
      "updated_at": "2024-09-08T23:04:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1749253132",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749253132"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 396,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749254225",
      "pull_request_review_id": 2288547896,
      "id": 1749254225,
      "node_id": "PRRC_kwDOABII585oQ4BR",
      "diff_hunk": "@@ -1791,7 +1791,8 @@ void CConnman::CreateNodeFromAcceptedSocket(std::unique_ptr<Sock>&& sock,\n     const bool inbound_onion = std::find(m_onion_binds.begin(), m_onion_binds.end(), addr_bind) != m_onion_binds.end();\n     // The V2Transport transparently falls back to V1 behavior when an incoming V1 connection is\n     // detected, so use it whenever we signal NODE_P2P_V2.\n-    const bool use_v2transport(nLocalServices & NODE_P2P_V2);\n+    ServiceFlags local_services = GetLocalServices();",
      "path": "src/net.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Seems like this isn't needed so I would have preferred if that was left out or a separate commit because the file isn't touched at all otherwise.",
      "created_at": "2024-09-08T14:37:54Z",
      "updated_at": "2024-09-08T23:04:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1749254225",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749254225"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1794,
      "original_line": 1794,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749268034",
      "pull_request_review_id": 2288547896,
      "id": 1749268034,
      "node_id": "PRRC_kwDOABII585oQ7ZC",
      "diff_hunk": "@@ -248,6 +258,69 @@ def test_snapshot_not_on_most_work_chain(self, dump_output_path):\n         node1.submitheader(main_block1)\n         node1.submitheader(main_block2)\n \n+    def test_sync_from_assumeutxo_node(self, snapshot):\n+        \"\"\"\n+        This test verifies that:\n+        1. An IBD node can sync headers from an AssumeUTXO node at any time.\n+        2. IBD nodes do not request historical blocks from AssumeUTXO nodes while they are syncing the background-chain.\n+        3. The assumeUTXO node dynamically adjusts the network services it offers according to its state.\n+        4. IBD nodes can fully sync from AssumeUTXO nodes after they finish the background-chain sync.\n+        \"\"\"\n+        self.log.info(\"Testing IBD-sync from assumeUTXO node\")\n+        # Node2 starts clean and loads the snapshot.\n+        # Node3 starts clean and seeks to sync-up from snapshot_node.\n+        miner = self.nodes[0]\n+        snapshot_node = self.nodes[2]\n+        ibd_node = self.nodes[3]\n+\n+        # Start test fresh by cleaning up node directories\n+        for node in (snapshot_node, ibd_node):\n+            self.stop_node(node.index)\n+            rmtree(node.chain_path)\n+            self.start_node(node.index, extra_args=self.extra_args[node.index])\n+\n+        # Sync-up headers chain on snapshot_node to load snapshot\n+        headers_provider_conn = snapshot_node.add_p2p_connection(P2PInterface())\n+        headers_provider_conn.wait_for_getheaders()\n+        msg = msg_headers()\n+        for block_num in range(1, miner.getblockcount()+1):\n+            msg.headers.append(from_hex(CBlockHeader(), miner.getblockheader(miner.getblockhash(block_num), verbose=False)))\n+        headers_provider_conn.send_message(msg)\n+\n+        # Ensure headers arrived\n+        default_value = {'status': ''}  # No status\n+        headers_tip_hash = miner.getbestblockhash()\n+        self.wait_until(lambda: next(filter(lambda x: x['hash'] == headers_tip_hash, snapshot_node.getchaintips()), default_value)['status'] == \"headers-only\")",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 68,
      "original_position": 68,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think this does the same and is a bit simpler? Allows to get rid of the `default_value` when applied to the `ibd_node` line below as well.\r\n\r\n```suggestion\r\n        self.wait_until(lambda: any(tip['hash'] == headers_tip_hash and tip['status'] == \"headers-only\" for tip in snapshot_node.getchaintips()))\r\n```",
      "created_at": "2024-09-08T15:25:32Z",
      "updated_at": "2024-09-08T23:04:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1749268034",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749268034"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 293,
      "original_line": 293,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749385549",
      "pull_request_review_id": 2288547896,
      "id": 1749385549,
      "node_id": "PRRC_kwDOABII585oRYFN",
      "diff_hunk": "@@ -248,6 +258,69 @@ def test_snapshot_not_on_most_work_chain(self, dump_output_path):\n         node1.submitheader(main_block1)\n         node1.submitheader(main_block2)\n \n+    def test_sync_from_assumeutxo_node(self, snapshot):\n+        \"\"\"\n+        This test verifies that:\n+        1. An IBD node can sync headers from an AssumeUTXO node at any time.\n+        2. IBD nodes do not request historical blocks from AssumeUTXO nodes while they are syncing the background-chain.\n+        3. The assumeUTXO node dynamically adjusts the network services it offers according to its state.\n+        4. IBD nodes can fully sync from AssumeUTXO nodes after they finish the background-chain sync.\n+        \"\"\"\n+        self.log.info(\"Testing IBD-sync from assumeUTXO node\")\n+        # Node2 starts clean and loads the snapshot.\n+        # Node3 starts clean and seeks to sync-up from snapshot_node.\n+        miner = self.nodes[0]\n+        snapshot_node = self.nodes[2]\n+        ibd_node = self.nodes[3]\n+\n+        # Start test fresh by cleaning up node directories\n+        for node in (snapshot_node, ibd_node):\n+            self.stop_node(node.index)\n+            rmtree(node.chain_path)\n+            self.start_node(node.index, extra_args=self.extra_args[node.index])\n+\n+        # Sync-up headers chain on snapshot_node to load snapshot\n+        headers_provider_conn = snapshot_node.add_p2p_connection(P2PInterface())\n+        headers_provider_conn.wait_for_getheaders()\n+        msg = msg_headers()\n+        for block_num in range(1, miner.getblockcount()+1):\n+            msg.headers.append(from_hex(CBlockHeader(), miner.getblockheader(miner.getblockhash(block_num), verbose=False)))\n+        headers_provider_conn.send_message(msg)\n+\n+        # Ensure headers arrived\n+        default_value = {'status': ''}  # No status\n+        headers_tip_hash = miner.getbestblockhash()\n+        self.wait_until(lambda: next(filter(lambda x: x['hash'] == headers_tip_hash, snapshot_node.getchaintips()), default_value)['status'] == \"headers-only\")\n+        snapshot_node.disconnect_p2ps()\n+\n+        # Load snapshot\n+        snapshot_node.loadtxoutset(snapshot['path'])\n+\n+        # Connect nodes and verify the ibd_node can sync-up the headers-chain from the snapshot_node\n+        self.connect_nodes(ibd_node.index, snapshot_node.index)\n+        snapshot_block_hash = snapshot['base_hash']\n+        self.wait_until(lambda: next(filter(lambda x: x['hash'] == snapshot_block_hash, ibd_node.getchaintips()), default_value)['status'] == \"headers-only\")",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "see above\r\n\r\n```suggestion\r\n        self.wait_until(lambda: any(tip['hash'] == snapshot_block_hash and tip['status'] == \"headers-only\" for tip in ibd_node.getchaintips()))\r\n```",
      "created_at": "2024-09-08T22:55:07Z",
      "updated_at": "2024-09-08T23:04:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1749385549",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749385549"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 302,
      "original_line": 302,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749385939",
      "pull_request_review_id": 2288547896,
      "id": 1749385939,
      "node_id": "PRRC_kwDOABII585oRYLT",
      "diff_hunk": "@@ -248,6 +258,69 @@ def test_snapshot_not_on_most_work_chain(self, dump_output_path):\n         node1.submitheader(main_block1)\n         node1.submitheader(main_block2)\n \n+    def test_sync_from_assumeutxo_node(self, snapshot):\n+        \"\"\"\n+        This test verifies that:\n+        1. An IBD node can sync headers from an AssumeUTXO node at any time.\n+        2. IBD nodes do not request historical blocks from AssumeUTXO nodes while they are syncing the background-chain.\n+        3. The assumeUTXO node dynamically adjusts the network services it offers according to its state.\n+        4. IBD nodes can fully sync from AssumeUTXO nodes after they finish the background-chain sync.\n+        \"\"\"\n+        self.log.info(\"Testing IBD-sync from assumeUTXO node\")\n+        # Node2 starts clean and loads the snapshot.\n+        # Node3 starts clean and seeks to sync-up from snapshot_node.\n+        miner = self.nodes[0]\n+        snapshot_node = self.nodes[2]\n+        ibd_node = self.nodes[3]\n+\n+        # Start test fresh by cleaning up node directories",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 51,
      "original_position": 51,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If this is self-contained and you need to wipe everything this could have been done in a separate test line  `p2p_assumeutxo.py` for example and you copy over the setup from this file here but it seems like there isn't much needed.",
      "created_at": "2024-09-08T22:56:24Z",
      "updated_at": "2024-09-08T23:04:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1749385939",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749385939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 276,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750286691",
      "pull_request_review_id": 2289954830,
      "id": 1750286691,
      "node_id": "PRRC_kwDOABII585oU0Fj",
      "diff_hunk": "@@ -1791,7 +1791,8 @@ void CConnman::CreateNodeFromAcceptedSocket(std::unique_ptr<Sock>&& sock,\n     const bool inbound_onion = std::find(m_onion_binds.begin(), m_onion_binds.end(), addr_bind) != m_onion_binds.end();\n     // The V2Transport transparently falls back to V1 behavior when an incoming V1 connection is\n     // detected, so use it whenever we signal NODE_P2P_V2.\n-    const bool use_v2transport(nLocalServices & NODE_P2P_V2);\n+    ServiceFlags local_services = GetLocalServices();",
      "path": "src/net.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": 1749254225,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> nit: Seems like this isn't needed so I would have preferred if that was left out or a separate commit because the file isn't touched at all otherwise.\r\n\r\nThis is needed to prevent a race condition. Since fafc73bc036792923ca64a112684abaf78f3b48e, `nLocalServices` can be accessed from different threads. So, we need to store the value once it's read and use it here and few lines below (in the `InitializeNode` call), to maintain consistency in this flow. Otherwise, `use_v2transport` could have been calculated with a different `nLocalServices` value than the one used in `InitializeNode`.\r\n",
      "created_at": "2024-09-09T13:38:40Z",
      "updated_at": "2024-09-09T13:56:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1750286691",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750286691"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1794,
      "original_line": 1794,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750305246",
      "pull_request_review_id": 2289984502,
      "id": 1750305246,
      "node_id": "PRRC_kwDOABII585oU4ne",
      "diff_hunk": "@@ -248,6 +258,69 @@ def test_snapshot_not_on_most_work_chain(self, dump_output_path):\n         node1.submitheader(main_block1)\n         node1.submitheader(main_block2)\n \n+    def test_sync_from_assumeutxo_node(self, snapshot):\n+        \"\"\"\n+        This test verifies that:\n+        1. An IBD node can sync headers from an AssumeUTXO node at any time.\n+        2. IBD nodes do not request historical blocks from AssumeUTXO nodes while they are syncing the background-chain.\n+        3. The assumeUTXO node dynamically adjusts the network services it offers according to its state.\n+        4. IBD nodes can fully sync from AssumeUTXO nodes after they finish the background-chain sync.\n+        \"\"\"\n+        self.log.info(\"Testing IBD-sync from assumeUTXO node\")\n+        # Node2 starts clean and loads the snapshot.\n+        # Node3 starts clean and seeks to sync-up from snapshot_node.\n+        miner = self.nodes[0]\n+        snapshot_node = self.nodes[2]\n+        ibd_node = self.nodes[3]\n+\n+        # Start test fresh by cleaning up node directories",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 51,
      "original_position": 51,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "in_reply_to_id": 1749385939,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> If this is self-contained and you need to wipe everything this could have been done in a separate test line `p2p_assumeutxo.py` for example and you copy over the setup from this file here but it seems like there isn't much needed.\r\n\r\nI started there (see me crying about the `feature_assumeutxo.py`  code organization here https://github.com/bitcoin/bitcoin/pull/30807#pullrequestreview-2281468112), but ended up moving it inside this all-in-one file because I wasn't happy copy pasting the costly snapshot setup into another test file (this test case doesn't need all of that).\r\nI think we should allow assumeUTXO snapshot customization on regtest. It would make testing much simpler and self-contained. We would be able to subdivide it on network/p2p, local node, and wallet test files.\r\nBut still, if you don't mind, let's leave this convo for a follow-up so we can fix this bug for v28. I would be happy to tackle if we reach consensus over it.",
      "created_at": "2024-09-09T13:49:03Z",
      "updated_at": "2024-09-09T13:49:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1750305246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750305246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 276,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750343042",
      "pull_request_review_id": 2290046069,
      "id": 1750343042,
      "node_id": "PRRC_kwDOABII585oVB2C",
      "diff_hunk": "@@ -248,6 +258,69 @@ def test_snapshot_not_on_most_work_chain(self, dump_output_path):\n         node1.submitheader(main_block1)\n         node1.submitheader(main_block2)\n \n+    def test_sync_from_assumeutxo_node(self, snapshot):\n+        \"\"\"\n+        This test verifies that:\n+        1. An IBD node can sync headers from an AssumeUTXO node at any time.\n+        2. IBD nodes do not request historical blocks from AssumeUTXO nodes while they are syncing the background-chain.\n+        3. The assumeUTXO node dynamically adjusts the network services it offers according to its state.\n+        4. IBD nodes can fully sync from AssumeUTXO nodes after they finish the background-chain sync.\n+        \"\"\"\n+        self.log.info(\"Testing IBD-sync from assumeUTXO node\")\n+        # Node2 starts clean and loads the snapshot.\n+        # Node3 starts clean and seeks to sync-up from snapshot_node.\n+        miner = self.nodes[0]\n+        snapshot_node = self.nodes[2]\n+        ibd_node = self.nodes[3]\n+\n+        # Start test fresh by cleaning up node directories",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 51,
      "original_position": 51,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "in_reply_to_id": 1749385939,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I think we should allow assumeUTXO snapshot customization on regtest. It would make testing much simpler and self-contained.\r\n\r\nHow would it make it simpler? It's another thing to keep track of in the test code and the implementation code. If we need more snapshot heights we can always add them but I haven't felt the need for it so far when I have added new coverage.",
      "created_at": "2024-09-09T14:07:38Z",
      "updated_at": "2024-09-09T14:07:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1750343042",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750343042"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 276,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750378079",
      "pull_request_review_id": 2290102516,
      "id": 1750378079,
      "node_id": "PRRC_kwDOABII585oVKZf",
      "diff_hunk": "@@ -248,6 +258,69 @@ def test_snapshot_not_on_most_work_chain(self, dump_output_path):\n         node1.submitheader(main_block1)\n         node1.submitheader(main_block2)\n \n+    def test_sync_from_assumeutxo_node(self, snapshot):\n+        \"\"\"\n+        This test verifies that:\n+        1. An IBD node can sync headers from an AssumeUTXO node at any time.\n+        2. IBD nodes do not request historical blocks from AssumeUTXO nodes while they are syncing the background-chain.\n+        3. The assumeUTXO node dynamically adjusts the network services it offers according to its state.\n+        4. IBD nodes can fully sync from AssumeUTXO nodes after they finish the background-chain sync.\n+        \"\"\"\n+        self.log.info(\"Testing IBD-sync from assumeUTXO node\")\n+        # Node2 starts clean and loads the snapshot.\n+        # Node3 starts clean and seeks to sync-up from snapshot_node.\n+        miner = self.nodes[0]\n+        snapshot_node = self.nodes[2]\n+        ibd_node = self.nodes[3]\n+\n+        # Start test fresh by cleaning up node directories",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 51,
      "original_position": 51,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "bb08c227de158dbd88a80d904edb209e1734ab91",
      "in_reply_to_id": 1749385939,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> > I think we should allow assumeUTXO snapshot customization on regtest. It would make testing much simpler and self-contained.\r\n> \r\n> How would it make it simpler? It's another thing to keep track of in the test code and the implementation code.\r\n\r\nThe custom snapshot feature shouldn't take more than few lines at `init.cpp`. And for the test side, it would be an extra argument during init. I believe we will sooner or later need different snapshot for further wallet tests, maybe more than one in order to cover different self-contained test scenarios. I think it worth splitting `feature_assumeutxo.py` in `rpc_assumeutxo.py`, `p2p_assumeutxo.py`, `wallet_assumeutxo.py`, `validation_assumeutxo.py` etc.. for maintenance reasons.\r\n\r\n>  If we need more snapshot heights we can always add them but I haven't felt the need for it so far when I have added new coverage.\r\n\r\nThis is simpler in the sense of not requiring to add new hardcoded values at chainparams.cpp every time we need to test something different. For example, this p2p test case just need a snapshot, it can be a very simple one. It does not require all the extra txs setup time.",
      "created_at": "2024-09-09T14:28:10Z",
      "updated_at": "2024-09-09T14:29:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1750378079",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750378079"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 276,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750386961",
      "pull_request_review_id": 2290116946,
      "id": 1750386961,
      "node_id": "PRRC_kwDOABII585oVMkR",
      "diff_hunk": "@@ -1221,6 +1221,11 @@ class CConnman\n     //! that peer during `net_processing.cpp:PushNodeVersion()`.\n     ServiceFlags GetLocalServices() const;\n \n+    //! Updates the local services that this node advertises to other peers\n+    //! during connection handshake.\n+    void AddLocalServices(ServiceFlags services) { nLocalServices = ServiceFlags(nLocalServices | services); };\n+    void RemoveLocalServices(ServiceFlags services) { nLocalServices = ServiceFlags(nLocalServices &~ services); }",
      "path": "src/net.h",
      "position": null,
      "original_position": 7,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "whitespace nit: `& ~services` makes more sense to me, and clang-format agrees.",
      "created_at": "2024-09-09T14:33:26Z",
      "updated_at": "2024-09-09T15:49:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1750386961",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750386961"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1227,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1752677734",
      "pull_request_review_id": 2293700490,
      "id": 1752677734,
      "node_id": "PRRC_kwDOABII585od71m",
      "diff_hunk": "@@ -1221,6 +1221,11 @@ class CConnman\n     //! that peer during `net_processing.cpp:PushNodeVersion()`.\n     ServiceFlags GetLocalServices() const;\n \n+    //! Updates the local services that this node advertises to other peers\n+    //! during connection handshake.\n+    void AddLocalServices(ServiceFlags services) { nLocalServices = ServiceFlags(nLocalServices | services); };\n+    void RemoveLocalServices(ServiceFlags services) { nLocalServices = ServiceFlags(nLocalServices &~ services); }",
      "path": "src/net.h",
      "position": null,
      "original_position": 7,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": 1750386961,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done. Updated.",
      "created_at": "2024-09-10T20:24:24Z",
      "updated_at": "2024-09-10T20:24:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1752677734",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1752677734"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1227,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1752677951",
      "pull_request_review_id": 2293700839,
      "id": 1752677951,
      "node_id": "PRRC_kwDOABII585od74_",
      "diff_hunk": "@@ -381,13 +381,22 @@ def check_dump_output(output):\n         self.test_snapshot_block_invalidated(dump_output['path'])\n         self.test_snapshot_not_on_most_work_chain(dump_output['path'])\n \n+        # Prune-node sanity check\n+        assert 'NETWORK' not in n1.getnetworkinfo()['localservicesnames']\n+\n         self.log.info(f\"Loading snapshot into second node from {dump_output['path']}\")\n         # This node's tip is on an ancestor block of the snapshot, which should\n         # be the normal case\n         loaded = n1.loadtxoutset(dump_output['path'])\n         assert_equal(loaded['coins_loaded'], SNAPSHOT_BASE_HEIGHT)\n         assert_equal(loaded['base_height'], SNAPSHOT_BASE_HEIGHT)\n \n+        self.log.info(\"Confirm that local services remain unchanged\")\n+        # Since n1 is a pruned node, the 'NETWORK' service flag must always be unset.\n+        prune_node_services = n1.getnetworkinfo()['localservicesnames']",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 16,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": 1749253132,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done. Updated.",
      "created_at": "2024-09-10T20:24:36Z",
      "updated_at": "2024-09-10T20:24:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1752677951",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1752677951"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 396,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1752678000",
      "pull_request_review_id": 2293700940,
      "id": 1752678000,
      "node_id": "PRRC_kwDOABII585od75w",
      "diff_hunk": "@@ -555,12 +580,20 @@ def check_tx_counts(final: bool) -> None:\n \n         self.log.info(\"-- Testing all indexes + reindex\")\n         assert_equal(n2.getblockcount(), START_HEIGHT)\n+        assert 'NETWORK' in n2.getnetworkinfo()['localservicesnames']  # sanity check\n \n         self.log.info(f\"Loading snapshot into third node from {dump_output['path']}\")\n         loaded = n2.loadtxoutset(dump_output['path'])\n         assert_equal(loaded['coins_loaded'], SNAPSHOT_BASE_HEIGHT)\n         assert_equal(loaded['base_height'], SNAPSHOT_BASE_HEIGHT)\n \n+        # Since n2 is a full node, it will unset the 'NETWORK' service flag during snapshot loading.",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 71,
      "commit_id": "992f83bb6f4b29b44f4eaace1d1a2c0001d43cac",
      "original_commit_id": "fafc73bc036792923ca64a112684abaf78f3b48e",
      "in_reply_to_id": 1749251951,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done. Updated.",
      "created_at": "2024-09-10T20:24:40Z",
      "updated_at": "2024-09-10T20:24:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30807#discussion_r1752678000",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1752678000"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30807"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 590,
      "side": "RIGHT"
    }
  ]
}