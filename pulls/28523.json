{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523",
    "id": 1527476981,
    "node_id": "PR_kwDOABII585bC3L1",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28523",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28523.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28523.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/584e12d977b5c7dd57f4aafd984e38e64e85916a",
    "number": 28523,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "rpc: add hidden getrawaddrman RPC to list addrman table entries",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Inspired by `getaddrmaninfo` (#27511), this adds a hidden/test-only `getrawaddrman` RPC. The RPC returns information on all addresses in the address manager new and tried tables. Addrman table contents can be used in tests and during development. \r\n\r\nThe RPC result encodes the `bucket` and `position`, the internal location of addresses in the tables, in the address object's string key. This allows users to choose to consume or to ignore the location information. If the internals of the address manager implementation change, the location encoding might change too.  \r\n\r\n```\r\ngetrawaddrman\r\n\r\nEXPERIMENTAL warning: this call may be changed in future releases.\r\n\r\nReturns information on all address manager entries for the new and tried tables.\r\n\r\nResult:\r\n{                                  (json object)\r\n  \"table\" : {                      (json object) buckets with addresses in the address manager table ( new, tried )\r\n    \"bucket/position\" : {          (json object) the location in the address manager table (<bucket>/<position>)\r\n      \"address\" : \"str\",           (string) The address of the node\r\n      \"port\" : n,                  (numeric) The port number of the node\r\n      \"network\" : \"str\",           (string) The network (ipv4, ipv6, onion, i2p, cjdns) of the address\r\n      \"services\" : n,              (numeric) The services offered by the node\r\n      \"time\" : xxx,                (numeric) The UNIX epoch time when the node was last seen\r\n      \"source\" : \"str\",            (string) The address that relayed the address to us\r\n      \"source_network\" : \"str\"     (string) The network (ipv4, ipv6, onion, i2p, cjdns) of the source address\r\n    },\r\n    ...\r\n  },\r\n  ...\r\n}\r\n\r\nExamples:\r\n> bitcoin-cli getrawaddrman\r\n> curl --user myusername --data-binary '{\"jsonrpc\": \"1.0\", \"id\": \"curltest\", \"method\": \"getrawaddrman\", \"params\": []}' -H 'content-type: text/plain;' http://127.0.0.1:8332/\r\n```\r\n",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-09-23T17:48:13Z",
    "updated_at": "2023-10-01T06:44:18Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "0d8fa476ba3c212adc6698d745b7866e3f0ef5af",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "0xB10C:2023-09-verbose-getaddrmaninfo",
      "ref": "2023-09-verbose-getaddrmaninfo",
      "sha": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 184896538,
        "node_id": "MDEwOlJlcG9zaXRvcnkxODQ4OTY1Mzg=",
        "name": "bitcoin",
        "full_name": "0xB10C/bitcoin",
        "owner": {
          "login": "0xB10C",
          "id": 19157360,
          "node_id": "MDQ6VXNlcjE5MTU3MzYw",
          "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/0xB10C",
          "html_url": "https://github.com/0xB10C",
          "followers_url": "https://api.github.com/users/0xB10C/followers",
          "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
          "organizations_url": "https://api.github.com/users/0xB10C/orgs",
          "repos_url": "https://api.github.com/users/0xB10C/repos",
          "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/0xB10C/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/0xB10C/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/0xB10C/bitcoin",
        "archive_url": "https://api.github.com/repos/0xB10C/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/0xB10C/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/0xB10C/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/0xB10C/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/0xB10C/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/0xB10C/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/0xB10C/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/0xB10C/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/0xB10C/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/0xB10C/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/0xB10C/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/0xB10C/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/0xB10C/bitcoin/events",
        "forks_url": "https://api.github.com/repos/0xB10C/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/0xB10C/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/0xB10C/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/0xB10C/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/0xB10C/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/0xB10C/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/0xB10C/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/0xB10C/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/0xB10C/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/0xB10C/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/0xB10C/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/0xB10C/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/0xB10C/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/0xB10C/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/0xB10C/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/0xB10C/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:0xB10C/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/0xB10C/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/0xB10C/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/0xB10C/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/0xB10C/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/0xB10C/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/0xB10C/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/0xB10C/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/0xB10C/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/0xB10C/bitcoin/hooks",
        "svn_url": "https://github.com/0xB10C/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 227757,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-29T22:02:59Z",
        "created_at": "2019-05-04T13:11:05Z",
        "updated_at": "2022-08-30T07:36:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "5bbf735defac20f58133bea95226e13a5d8209bc",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35783,
        "stargazers_count": 71559,
        "watchers_count": 71559,
        "size": 240227,
        "default_branch": "master",
        "open_issues_count": 637,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-10-01T02:55:57Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-10-01T06:58:59Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 240,
    "deletions": 1,
    "changed_files": 6,
    "commits": 2,
    "review_comments": 29,
    "comments": 8
  },
  "events": [
    {
      "event": "commented",
      "id": 1732374516,
      "node_id": "IC_kwDOABII585nQe_0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1732374516",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-23T17:48:15Z",
      "updated_at": "2023-10-01T05:51:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [amitiuttarwar](https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1741838253), [stratospher](https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1741968748) |\n| Concept ACK | [ajtowns](https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1647790432) |\n| Stale ACK | [brunoerg](https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1644458046) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1732374516",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "labeled",
      "id": 10453724785,
      "node_id": "LE_lADOABII585x14OhzwAAAAJvFy5x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10453724785",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-23T17:48:17Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 1732390179,
      "node_id": "IC_kwDOABII585nQi0j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1732390179",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-23T19:10:37Z",
      "updated_at": "2023-09-23T19:10:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "concept ACK. I think it makes sense to expose more info about the addrman internals to allow for better observations & tooling ",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1732390179",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-24T00:46:09Z",
      "updated_at": "2023-09-24T00:46:09Z",
      "source": {
        "issue": {
          "id": 1678790809,
          "node_id": "PR_kwDOABII585O4GIc",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27511",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27511/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27511/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27511/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27511",
          "number": 27511,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: Add test-only RPC getaddrmaninfo for new/tried table address count",
          "body": "implements https://github.com/bitcoin/bitcoin/issues/26907. split off from #26988 to keep RPC, CLI discussions separate.\r\n\r\nThis PR introduces a new RPC `getaddrmaninfo`which returns the count of addresses in the new/tried table of a node's addrman broken down by network type. This would be useful for users who want to see the distribution of addresses from different networks across new/tried table in the addrman.\r\n\r\n```jsx\r\n$ getaddrmaninfo\r\n\r\nResult:\r\n{                   (json object) json object with network type as keys\r\n  \"network\" : {     (json object) The network (ipv4, ipv6, onion, i2p, cjdns)\r\n    \"new\" : n,      (numeric) number of addresses in new table\r\n    \"tried\" : n,    (numeric) number of addresses in tried table\r\n    \"total\" : n     (numeric) total number of addresses in both new/tried tables from a network\r\n  },\r\n  ...\r\n}\r\n```\r\n\r\n### additional context from [original PR](https://github.com/bitcoin/bitcoin/pull/26988)\r\n\r\n1. network coverage tests were skipped because thereâ€™s a small chance that addresses from different networks could hash to the same bucket and cause count of different network addresses in the tests to fail. see https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137596851.\r\n2. #26988 uses this RPC in -addrinfo CLI. Slight preference for keeping the RPC hidden since this info will mostly be useful to only super users. see https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173964808.",
          "user": {
            "login": "stratospher",
            "id": 44024636,
            "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
            "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stratospher",
            "html_url": "https://github.com/stratospher",
            "followers_url": "https://api.github.com/users/stratospher/followers",
            "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
            "organizations_url": "https://api.github.com/users/stratospher/orgs",
            "repos_url": "https://api.github.com/users/stratospher/repos",
            "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stratospher/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 24,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27511",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27511",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27511.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27511.patch"
          },
          "closed_at": "2023-09-20T12:25:37Z",
          "created_at": "2023-04-21T16:28:48Z",
          "updated_at": "2023-09-28T12:00:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1732532598,
      "node_id": "IC_kwDOABII585nRFl2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1732532598",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-24T09:43:15Z",
      "updated_at": "2023-09-24T09:43:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1732532598",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "reviewed",
      "id": 1641031644,
      "node_id": "PRR_kwDOABII585h0Cfc",
      "url": null,
      "actor": null,
      "commit_id": "48dfc81e7e1e6ecdccb4a165a292bb4c8cf96fbd",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1641031644",
      "submitted_at": "2023-09-24T10:06:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "reviewed",
      "id": 1641040890,
      "node_id": "PRR_kwDOABII585h0Ev6",
      "url": null,
      "actor": null,
      "commit_id": "48dfc81e7e1e6ecdccb4a165a292bb4c8cf96fbd",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1641040890",
      "submitted_at": "2023-09-24T11:41:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10461849132,
      "node_id": "HRFPE_lADOABII585x14OhzwAAAAJvkyYs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10461849132",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-25T12:17:03Z"
    },
    {
      "event": "commented",
      "id": 1733608639,
      "node_id": "IC_kwDOABII585nVMS_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1733608639",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-25T12:24:46Z",
      "updated_at": "2023-09-25T12:24:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "- addressed @brunoerg's review\r\n- included  https://github.com/bitcoin/bitcoin/pull/27511#discussion_r1335084087 as I'm touching the line anyway\r\n\r\n\r\nI've also been hacking on a tool that visualizes addrman tables from the getaddrmaninfo verbose output in the browser. A wip version is on https://0xb10c.github.io/addrman-observer ([github.com/0xB10C/addrman-observer](https://github.com/0xB10C/addrman-observer)). You can load dumps produced with `bitcoin-cli getaddrmaninfo true > getaddrmaninfo.json` (all processing happens locally).\r\n\r\n",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1733608639",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "mentioned",
      "id": 10461945642,
      "node_id": "MEE_lADOABII585x14OhzwAAAAJvlJ8q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10461945642",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-25T12:24:46Z"
    },
    {
      "event": "subscribed",
      "id": 10461945658,
      "node_id": "SE_lADOABII585x14OhzwAAAAJvlJ86",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10461945658",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-25T12:24:46Z"
    },
    {
      "event": "reviewed",
      "id": 1644341592,
      "node_id": "PRR_kwDOABII585iAqlY",
      "url": null,
      "actor": null,
      "commit_id": "da44fd3e499ca53242332ef9cb2907ec31fce1e3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1644341592",
      "submitted_at": "2023-09-26T13:55:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "reviewed",
      "id": 1644458046,
      "node_id": "PRR_kwDOABII585iBHA-",
      "url": null,
      "actor": null,
      "commit_id": "da44fd3e499ca53242332ef9cb2907ec31fce1e3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "light ACK da44fd3e499ca53242332ef9cb2907ec31fce1e3\r\n\r\nI intend to do more tests soon. Just tested it on a recent clearnet node and worked as expected.\r\nOutputs: https://gist.github.com/brunoerg/e3643337b4c16923ee0e0f7e66bec4d9",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1644458046",
      "submitted_at": "2023-09-26T14:37:07Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "reviewed",
      "id": 1644463026,
      "node_id": "PRR_kwDOABII585iBIOy",
      "url": null,
      "actor": null,
      "commit_id": "da44fd3e499ca53242332ef9cb2907ec31fce1e3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1644463026",
      "submitted_at": "2023-09-26T14:39:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10490199730,
      "node_id": "HRFPE_lADOABII585x14OhzwAAAAJxQ76y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10490199730",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-27T17:07:16Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10490269028,
      "node_id": "HRFPE_lADOABII585x14OhzwAAAAJxRM1k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10490269028",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-27T17:15:05Z"
    },
    {
      "event": "reviewed",
      "id": 1647790432,
      "node_id": "PRR_kwDOABII585iN0lg",
      "url": null,
      "actor": null,
      "commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1647790432",
      "submitted_at": "2023-09-28T02:52:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "reviewed",
      "id": 1648439139,
      "node_id": "PRR_kwDOABII585iQS9j",
      "url": null,
      "actor": null,
      "commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1648439139",
      "submitted_at": "2023-09-28T10:39:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T15:26:19Z",
      "updated_at": "2023-09-28T15:26:19Z",
      "source": {
        "issue": {
          "id": 1851853129,
          "node_id": "I_kwDOKHeBS85uYQlJ",
          "url": "https://api.github.com/repos/bitcoin-dev-project/warnet/issues/2",
          "repository_url": "https://api.github.com/repos/bitcoin-dev-project/warnet",
          "labels_url": "https://api.github.com/repos/bitcoin-dev-project/warnet/issues/2/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-dev-project/warnet/issues/2/comments",
          "events_url": "https://api.github.com/repos/bitcoin-dev-project/warnet/issues/2/events",
          "html_url": "https://github.com/bitcoin-dev-project/warnet/issues/2",
          "number": 2,
          "state": "open",
          "state_reason": null,
          "title": "Add log aggregation",
          "body": "For a running warnet, ship debug logs back to a central server. This should include:\r\n\r\n* Debug logs\r\n* bonus: USDT tracepoints per node, all aggregated back to the logging server\r\n  * this gives us data on p2p messages",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5855422959,
              "node_id": "LA_kwDOKHeBS88AAAABXQKp7w",
              "url": "https://api.github.com/repos/bitcoin-dev-project/warnet/labels/backlog",
              "name": "backlog",
              "description": "feature backlog",
              "color": "bfdadc",
              "default": false
            }
          ],
          "assignee": {
            "login": "willcl-ark",
            "id": 6606587,
            "node_id": "MDQ6VXNlcjY2MDY1ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willcl-ark",
            "html_url": "https://github.com/willcl-ark",
            "followers_url": "https://api.github.com/users/willcl-ark/followers",
            "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
            "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
            "repos_url": "https://api.github.com/users/willcl-ark/repos",
            "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "willcl-ark",
              "id": 6606587,
              "node_id": "MDQ6VXNlcjY2MDY1ODc=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/willcl-ark",
              "html_url": "https://github.com/willcl-ark",
              "followers_url": "https://api.github.com/users/willcl-ark/followers",
              "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
              "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
              "repos_url": "https://api.github.com/users/willcl-ark/repos",
              "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
              "type": "User",
              "site_admin": false
            },
            {
              "login": "josibake",
              "id": 7444140,
              "node_id": "MDQ6VXNlcjc0NDQxNDA=",
              "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/josibake",
              "html_url": "https://github.com/josibake",
              "followers_url": "https://api.github.com/users/josibake/followers",
              "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
              "organizations_url": "https://api.github.com/users/josibake/orgs",
              "repos_url": "https://api.github.com/users/josibake/repos",
              "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/josibake/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "created_at": "2023-08-15T17:39:33Z",
          "updated_at": "2023-09-29T11:06:34Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:49:41Z",
      "updated_at": "2023-09-29T09:49:41Z",
      "source": {
        "issue": {
          "id": 1918930679,
          "node_id": "PR_kwDOKXeXq85bhPLM",
          "url": "https://api.github.com/repos/0xB10C/addrman-observer/issues/1",
          "repository_url": "https://api.github.com/repos/0xB10C/addrman-observer",
          "labels_url": "https://api.github.com/repos/0xB10C/addrman-observer/issues/1/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/0xB10C/addrman-observer/issues/1/comments",
          "events_url": "https://api.github.com/repos/0xB10C/addrman-observer/issues/1/events",
          "html_url": "https://github.com/0xB10C/addrman-observer/pull/1",
          "number": 1,
          "state": "closed",
          "state_reason": null,
          "title": "Switch to new getrawaddrman format",
          "body": "See https://github.com/bitcoin/bitcoin/pull/28523\r\n\r\nNew format: \r\n```\r\n{                                  (json object)\r\n  \"table\" : {                      (json object) buckets with addresses in the address manager table ( new, tried )\r\n    \"bucket/position\" : {          (json object) the location in the address manager table (<bucket>/<position>)\r\n      \"address\" : \"str\",           (string) The address of the node\r\n      \"port\" : n,                  (numeric) The port number of the node\r\n      \"network\" : \"str\",           (string) The network (ipv4, ipv6, onion, i2p, cjdns) of the address\r\n      \"services\" : n,              (numeric) The services offered by the node\r\n      \"time\" : xxx,                (numeric) The UNIX epoch time when the node was last seen\r\n      \"source\" : \"str\",            (string) The address that relayed the address to us\r\n      \"source_network\" : \"str\"     (string) The network (ipv4, ipv6, onion, i2p, cjdns) of the source address\r\n    },\r\n    ...\r\n  },\r\n  ...\r\n}\r\n```",
          "user": {
            "login": "0xB10C",
            "id": 19157360,
            "node_id": "MDQ6VXNlcjE5MTU3MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/0xB10C",
            "html_url": "https://github.com/0xB10C",
            "followers_url": "https://api.github.com/users/0xB10C/followers",
            "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
            "organizations_url": "https://api.github.com/users/0xB10C/orgs",
            "repos_url": "https://api.github.com/users/0xB10C/repos",
            "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/0xB10C/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "OWNER",
          "locked": false,
          "comments": 0,
          "pull_request": {
            "url": "https://api.github.com/repos/0xB10C/addrman-observer/pulls/1",
            "html_url": "https://github.com/0xB10C/addrman-observer/pull/1",
            "diff_url": "https://github.com/0xB10C/addrman-observer/pull/1.diff",
            "patch_url": "https://github.com/0xB10C/addrman-observer/pull/1.patch"
          },
          "closed_at": "2023-09-29T10:02:02Z",
          "created_at": "2023-09-29T09:34:20Z",
          "updated_at": "2023-09-29T10:02:06Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10509376339,
      "node_id": "HRFPE_lADOABII585x14OhzwAAAAJyaFtT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509376339",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:54:27Z"
    },
    {
      "event": "commented",
      "id": 1740626821,
      "node_id": "IC_kwDOABII585nv9uF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1740626821",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:05Z",
      "updated_at": "2023-09-29T09:56:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the helpful review comments @brunoerg @ajtowns @amitiuttarwar. I think I have addressed them all in the most recent push:\r\n\r\n- https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1337326653: I'm now adding an `onion` and an `ipv6` address (instead of two `ipv4`) to the addrman tables. There are already two IPv4 addresses in the addrman during the test.\r\n- https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339430595: Inspired by `getnodeaddresses` I added a `time`, `port`, `network`, and `source_network` field. This increases the response size. However, this is highly compressible if someone wants to store or serve it.\r\n- https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339444441: adopted the `<bucket>/<position>` key. I've implemented both discussed approaches and found `<bucket>/<position>` to be better. See commit message for details.\r\n- https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339454178: moved this out of `getaddrmaninfo verbose` and into a separate, hidden `getrawaddrman` RPC. This also means https://github.com/bitcoin/bitcoin/pull/27511#discussion_r1335084087 is not included anymore.\r\n- https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339908447: using `AddressPosition` in a `std::pair<AddrInfo, AddressPosition>` now. This should be easier to reason about than a `std::tuple<int, int, AddrInfo>`.\r\n\r\nI've also updated OP and the tool on https://0xb10c.github.io/addrman-observer.\r\n",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1740626821",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "mentioned",
      "id": 10509392056,
      "node_id": "MEE_lADOABII585x14OhzwAAAAJyaJi4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509392056",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:05Z"
    },
    {
      "event": "subscribed",
      "id": 10509392066,
      "node_id": "SE_lADOABII585x14OhzwAAAAJyaJjC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509392066",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:05Z"
    },
    {
      "event": "mentioned",
      "id": 10509392081,
      "node_id": "MEE_lADOABII585x14OhzwAAAAJyaJjR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509392081",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:05Z"
    },
    {
      "event": "subscribed",
      "id": 10509392090,
      "node_id": "SE_lADOABII585x14OhzwAAAAJyaJja",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509392090",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:05Z"
    },
    {
      "event": "mentioned",
      "id": 10509392105,
      "node_id": "MEE_lADOABII585x14OhzwAAAAJyaJjp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509392105",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:05Z"
    },
    {
      "event": "subscribed",
      "id": 10509392120,
      "node_id": "SE_lADOABII585x14OhzwAAAAJyaJj4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509392120",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:05Z"
    },
    {
      "event": "renamed",
      "id": 10509395769,
      "node_id": "RTE_lADOABII585x14OhzwAAAAJyaKc5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509395769",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T09:56:29Z",
      "rename": {
        "from": "rpc: add getaddrmaninfo verbose to list addrman table entries",
        "to": "rpc: add hidden getrawaddrman RPC to list addrman table entries"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10509609832,
      "node_id": "HRFPE_lADOABII585x14OhzwAAAAJya-to",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509609832",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T10:18:57Z"
    },
    {
      "event": "labeled",
      "id": 10509610696,
      "node_id": "LE_lADOABII585x14OhzwAAAAJya-7I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10509610696",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T10:19:02Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10510449685,
      "node_id": "UNLE_lADOABII585x14OhzwAAAAJyeLwV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10510449685",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T11:42:45Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1650820049,
      "node_id": "PRR_kwDOABII585iZYPR",
      "url": null,
      "actor": null,
      "commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "tested ACK 45a84d1. Very cool to have!",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1650820049",
      "submitted_at": "2023-09-29T15:30:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "review_requested",
      "id": 10512775763,
      "node_id": "RRE_lADOABII585x14OhzwAAAAJynDpT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10512775763",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T15:30:31Z",
      "requested_reviewer": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T16:24:06Z",
      "updated_at": "2023-09-29T16:24:06Z",
      "source": {
        "issue": {
          "id": 1825685854,
          "node_id": "PR_kwDOABII585WnbQ4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28176",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28176/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28176/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28176/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28176",
          "number": 28176,
          "state": "open",
          "state_reason": null,
          "title": "tests: add coverage to feature_addrman.py",
          "body": "I added two new tests that will cover the nNew and nTried tests which add coverage to the if block by checking values larger than our range since we only check for negative values now\r\n\r\nadding coverage to these lines\r\nhttps://github.com/bitcoin/bitcoin/blob/master/src/addrman.cpp#L273\r\nhttps://github.com/bitcoin/bitcoin/blob/master/src/addrman.cpp#L280\r\n\r\nour test seem to only cover the `nTried < 0` and `nNew < 0` scenarios\r\n<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
          "user": {
            "login": "kevkevinpal",
            "id": 15950706,
            "node_id": "MDQ6VXNlcjE1OTUwNzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kevkevinpal",
            "html_url": "https://github.com/kevkevinpal",
            "followers_url": "https://api.github.com/users/kevkevinpal/followers",
            "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
            "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
            "repos_url": "https://api.github.com/users/kevkevinpal/repos",
            "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28176",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28176",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28176.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28176.patch"
          },
          "created_at": "2023-07-28T04:35:33Z",
          "updated_at": "2023-09-30T20:54:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1651208768,
      "node_id": "PRR_kwDOABII585ia3JA",
      "url": null,
      "actor": null,
      "commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "tested ACK 45a84d19dec. All the review comments are small style/doc things. The functionality looks good. ",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#pullrequestreview-1651208768",
      "submitted_at": "2023-09-29T18:14:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg1OGQxY2M1NzAwY2Q0ZWU4ZGY2MDRjNjYzM2MzYmY0Y2JmZTQyY2Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/858d1cc5700cd4ee8df604c6633c3bf4cbfe42cf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/858d1cc5700cd4ee8df604c6633c3bf4cbfe42cf",
      "tree": {
        "sha": "7d8bc69e0824357df12b2f5aeeb8a58585442e33",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7d8bc69e0824357df12b2f5aeeb8a58585442e33"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7d8bc69e0824357df12b2f5aeeb8a58585442e33\nparent 719cb301e69fa15ceed61d6f0fbaebc5eb5c04a9\nauthor 0xb10c <b10c@b10c.me> 1695231465 +0200\ncommitter 0xb10c <b10c@b10c.me> 1696024398 +0200\n\nrpc: getrawaddrman for addrman entries\n\nExposing address manager table entries in a hidden RPC allows to introspect\naddrman tables in tests and during development.\n\nAs response JSON object the following FORMAT1 is choosen:\n{\n  \"table\": {\n    \"<bucket>/<position>\": { \"address\": \"..\", \"port\": .., ... },\n    \"<bucket>/<position>\": { \"address\": \"..\", \"port\": .., ... },\n    \"<bucket>/<position>\": { \"address\": \"..\", \"port\": .., ... },\n    ...\n  }\n}\n\nAn alternative would be FORMAT2\n{\n  \"table\": {\n    \"bucket\": {\n      \"position\": { \"address\": \"..\", \"port\": .., ... },\n      \"position\": { \"address\": \"..\", \"port\": .., ... },\n      ..\n    },\n    \"bucket\": {\n      \"position\": { \"address\": \"..\", \"port\": .., ... },\n      ..\n    },\n  }\n}\n\nFORMAT1 and FORMAT2 have different encodings for the location of the\naddress in the address manager. While FORMAT2 might be easier to process\nfor downstream tools, it also mimics internal addrman mappings, which\nmight change at some point. Users not interested in the address location\ncan ignore the location key. They don't have to adapt to a new RPC\nresponse format, when the internal addrman layout changes. Additionally,\nFORMAT1 is also slightly easier to to iterate in downstream tools. The\nRPC response-building implemenation complexcity is lower with FORMAT1\nas we can more easily build a \"<bucket>/<position>\" key than a multiple\n\"bucket\" objects with multiple \"position\" objects (FORMAT2).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmUXR04ACgkQ4v/VsdiM\nqX3JyA//TjcHFHG1+RHZt++vK3C5+ftw8vSilqf7GqfJd46lPxNmXL1xakPz3kGa\nIjg7r++tVN6BvoISIUS51VO541jTyYM5yVgzqzWwj5P+mCHbGifOL6tLbD/E2w+Z\ngzhBAc6DR2f3+u+Ty/RPup4UFDC6X7AsyCHlCnIwHE4V5z3Z530kMry467h7ouBt\ndKaTlRR+i7mnxTpHh+gTX7bO1DrtGHpkDPVtU/8h/oCIvTGMdwl2Zucw6aLQ6Oy6\nRx01nAdne8gdeVROuDI/EYVCc8+SYrSdvJiyTqXLk3owXan/FFsFud667rl1Y08I\nfH4hjToKWe11pZejb4Q8MOLpVAKzF/Yaty3NXGzlZpIEc0ur9K8Q1hVpybe5PY8Z\ntj1p4FOqakYI7b0iNFrF7tdBcDHf94GGlsYFjVKC/KRI1AsMl5lZ2xyVjmSisSG5\nUIcMHHWj2P+VBBmrWiJXrFE4so9QmYhnO7fOv3ax/cpHMGVst/E8vdtiI3dlo2kx\nmK8pJJgoLTAvwc3do72tC7mzbNVDVX5LY3tACG4MMWPvRJKyYePx+kCt7CT4Gq9N\nzjRjJSzMz3RjRG791a6O+gYUdiucphSSDTyHq/TNlyo5hU+9LofpjzKwdPEImluA\n29CoAYDdZYQs4PvB/M2JsrouWO4GjFbWgS/l07anD7A/w8Mfx24=\n=3WKf\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIM/tp7++O43CnmtdpChndQueHTc5jy3WKUs1vAEWVgnjCP/wEC/luUURc1+7\npfpUPhyiQbgI8CAJbxZBdSk9e6qx7U+tgRAooIjfF5Q6OSvD7VGv7l8v8QjwIE0e\nDEd0jmMAuJ1NS2UQ0n/W8Zu1+6H5Qe4AtUUzxhYuCPAgkNlUDNKL6v5NQOClmFBF\nipv3dnFo6bWBwm6Hx+eNrmgI8QRlF0dQ8AiD2UlhHMjbyQCD3+MNLvkMjiMiaHR0\ncHM6Ly9idGMuY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wEDlhrkHwL0FdXQLTqLeb\n+4UI8CAv0ld866VNTs0nzVRTK8FWoSzUlITOKoDg8Kn1WHmQ1AjxBGUXR1DwCEEI\n1CKHAS3ZAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIub3BlbnRp\nbWVzdGFtcHMub3Jn//AQUCIa76wGNZzImmOVCM1rAwjwIMCFR/WCIwo6lFK3ZByf\n8+uuxeHDt6RV0dysmzXK9db6CPAgTVmp1E4/E5iNMQYdUPBqf9/VkfZt0u9rZHd7\npf7jmtAI8QRlF0dQ8AjgQ6WDiWI26QCD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXku\nY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbfAQ+f0K/HHHf4sek1fstUoBrQjwIJm6\nrM2sPULo3rHvAKt70hr/bCSoC9C3YOmCTkfgFLwQCPEEZRdHUPAI6bB3YpST2ksA\ng9/jDS75DI4uLWh0dHBzOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3Rh\nbXBzLm9yZw==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/719cb301e69fa15ceed61d6f0fbaebc5eb5c04a9",
          "sha": "719cb301e69fa15ceed61d6f0fbaebc5eb5c04a9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/719cb301e69fa15ceed61d6f0fbaebc5eb5c04a9"
        }
      ],
      "message": "rpc: getrawaddrman for addrman entries\n\nExposing address manager table entries in a hidden RPC allows to introspect\naddrman tables in tests and during development.\n\nAs response JSON object the following FORMAT1 is choosen:\n{\n  \"table\": {\n    \"<bucket>/<position>\": { \"address\": \"..\", \"port\": .., ... },\n    \"<bucket>/<position>\": { \"address\": \"..\", \"port\": .., ... },\n    \"<bucket>/<position>\": { \"address\": \"..\", \"port\": .., ... },\n    ...\n  }\n}\n\nAn alternative would be FORMAT2\n{\n  \"table\": {\n    \"bucket\": {\n      \"position\": { \"address\": \"..\", \"port\": .., ... },\n      \"position\": { \"address\": \"..\", \"port\": .., ... },\n      ..\n    },\n    \"bucket\": {\n      \"position\": { \"address\": \"..\", \"port\": .., ... },\n      ..\n    },\n  }\n}\n\nFORMAT1 and FORMAT2 have different encodings for the location of the\naddress in the address manager. While FORMAT2 might be easier to process\nfor downstream tools, it also mimics internal addrman mappings, which\nmight change at some point. Users not interested in the address location\ncan ignore the location key. They don't have to adapt to a new RPC\nresponse format, when the internal addrman layout changes. Additionally,\nFORMAT1 is also slightly easier to to iterate in downstream tools. The\nRPC response-building implemenation complexcity is lower with FORMAT1\nas we can more easily build a \"<bucket>/<position>\" key than a multiple\n\"bucket\" objects with multiple \"position\" objects (FORMAT2).",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-09-29T21:53:18Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-09-20T17:37:45Z"
      },
      "sha": "858d1cc5700cd4ee8df604c6633c3bf4cbfe42cf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU4NGUxMmQ5NzdiNWM3ZGQ1N2Y0YWFmZDk4NGUzOGU2NGU4NTkxNmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "tree": {
        "sha": "cc8ec5cf8d218303436841773c18775e3893d3b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cc8ec5cf8d218303436841773c18775e3893d3b5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cc8ec5cf8d218303436841773c18775e3893d3b5\nparent 858d1cc5700cd4ee8df604c6633c3bf4cbfe42cf\nauthor 0xb10c <b10c@b10c.me> 1695480877 +0200\ncommitter 0xb10c <b10c@b10c.me> 1696024959 +0200\n\ntest: getrawaddrman RPC\n\nTest that the getrawaddrman returns the addresses in the new and tried\ntables. We can't check the buckets and positions as these are not\ndeterministic (yet).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmUXSYMACgkQ4v/VsdiM\nqX1bIg//bcWQ0Ql5/PsJ76ZX4F3rcTDqtRcGv/3GXKNzml2QW4tAB6oShpFh0YRO\nVMYyq/cG/ERh89TndFKEwkBHDJxwTMzBtB4c05ifEkEGUk1cFFq4E607FWauujre\n1ULwQpOpPCon5JqpNHn0obLqzgqqjoQdKinZfV0uDwj1++K00SRtcFA9+f6BrPOg\nTATf9jMwefzYHNRjUYLIT7cpCc7IcTcwj5RG/6FdYAGgi7zQ2p0T4OtBMwJy7Mg2\nW9aCO7Aj/XpoOoc2D36l8GfccumBKoz+NbYs7aCLA0vsS2U9sEn8b4zRIKTvHfaK\nfpoGuECwXCucafKNdvkkdCEWQrQiSt7Ljx41UA6tr0SZ9dQofpIVLjp+adC3NR3l\nRQbkTknwCnbDO0QiA3UrlXNVVm9mQ4Uwe9GRWIID4xXLBVNMbZUDU5rGgw4VKVch\nRfK3tZcAWK7Uqzv4rsCnmReZHUGBTDr9QSx38UVaE0EI2nqUhobqR317Qxu21/zP\n1vgGo/RgWpn4vvhcGXPdmTegZAJ43VWW5WSrgirfN72il4zaDnz7MeiC9lzpb842\nQbTQ+1mfEFM+1AqmFpbxt2J8QIELURgj81D7ytNbdJKwBA1Illjq5d5BHdZoAV/6\nJreO3cZbS50QIl4fyk/6bBTrVSuqN6EPpiCgyuODFuKfAIAJdmw=\n=ZNrE\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIJifzwupOv/mxUqq1ZNrp7SBpVFfdIc8XKLXtPywUZufCP/wEEnYJ+BiMAdE\n1wBTuti06iAI8SCG6cos3sm8LYidNTobVAwUbW2uvs+/W46GqKM8C9zEZgjxBGUX\nSYfwCOXYIHNOLZHOAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5l\ndGVybml0eXdhbGwuY29t//AQrPsTxLur36n1d1l33Y2M7gjxBGUXSYfwCEaDmNIq\n5P2yAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIub3BlbnRpbWVz\ndGFtcHMub3Jn//AQ8dGLJ5ZsuHySFFgU+MnaYAjxBGUXSYfwCDo4qJozD5srAIPf\n4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRhbGxheHkuY29t8BDzWZ1p\nksS7gYVAgG6n9DAhCPEgWPiJfbJJAKke+k9A66Toj7cn7utQ7bQcu4NBoT8GSh0I\n8QRlF0mH8Ahfey0mHtv8CwCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2Fs\nZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/858d1cc5700cd4ee8df604c6633c3bf4cbfe42cf",
          "sha": "858d1cc5700cd4ee8df604c6633c3bf4cbfe42cf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/858d1cc5700cd4ee8df604c6633c3bf4cbfe42cf"
        }
      ],
      "message": "test: getrawaddrman RPC\n\nTest that the getrawaddrman returns the addresses in the new and tried\ntables. We can't check the buckets and positions as these are not\ndeterministic (yet).",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-09-29T22:02:39Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-09-23T14:54:37Z"
      },
      "sha": "584e12d977b5c7dd57f4aafd984e38e64e85916a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10515675588,
      "node_id": "HRFPE_lADOABII585x14OhzwAAAAJyyHnE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10515675588",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:03:04Z"
    },
    {
      "event": "commented",
      "id": 1741533993,
      "node_id": "IC_kwDOABII585nzbMp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1741533993",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:04:14Z",
      "updated_at": "2023-09-29T22:04:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addresses the comments and nits. Thanks @amitiuttarwar, @stratospher, and @ajtowns.",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1741533993",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "mentioned",
      "id": 10515680484,
      "node_id": "MEE_lADOABII585x14OhzwAAAAJyyIzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10515680484",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:04:14Z"
    },
    {
      "event": "subscribed",
      "id": 10515680489,
      "node_id": "SE_lADOABII585x14OhzwAAAAJyyIzp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10515680489",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:04:14Z"
    },
    {
      "event": "mentioned",
      "id": 10515680494,
      "node_id": "MEE_lADOABII585x14OhzwAAAAJyyIzu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10515680494",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:04:14Z"
    },
    {
      "event": "subscribed",
      "id": 10515680507,
      "node_id": "SE_lADOABII585x14OhzwAAAAJyyIz7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10515680507",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:04:14Z"
    },
    {
      "event": "mentioned",
      "id": 10515680513,
      "node_id": "MEE_lADOABII585x14OhzwAAAAJyyI0B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10515680513",
      "actor": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:04:15Z"
    },
    {
      "event": "subscribed",
      "id": 10515680520,
      "node_id": "SE_lADOABII585x14OhzwAAAAJyyI0I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10515680520",
      "actor": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T22:04:15Z"
    },
    {
      "event": "commented",
      "id": 1741838253,
      "node_id": "IC_kwDOABII585n0let",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1741838253",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T19:04:52Z",
      "updated_at": "2023-09-30T19:04:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "reACK 584e12d977b5c7dd57f4aafd984e38e64e85916a ",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1741838253",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "review_requested",
      "id": 10517853760,
      "node_id": "RRE_lADOABII585x14OhzwAAAAJy6bZA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10517853760",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T19:04:56Z",
      "requested_reviewer": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1741968748,
      "node_id": "IC_kwDOABII585n1FVs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1741968748",
      "actor": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-01T05:51:17Z",
      "updated_at": "2023-10-01T05:51:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "reACK 584e12d.",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#issuecomment-1741968748",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28523"
    },
    {
      "event": "review_request_removed",
      "id": 10518810271,
      "node_id": "RRRE_lADOABII585x14OhzwAAAAJy-E6f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10518810271",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-01T05:51:20Z",
      "requested_reviewer": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "labeled",
      "id": 10518894743,
      "node_id": "LE_lADOABII585x14OhzwAAAAJy-ZiX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10518894743",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-01T06:44:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335156026",
      "pull_request_review_id": 1641031644,
      "id": 1335156026,
      "node_id": "PRRC_kwDOABII585PlN06",
      "diff_hunk": "@@ -838,6 +838,25 @@ std::vector<CAddress> AddrManImpl::GetAddr_(size_t max_addresses, size_t max_pct\n     return addresses;\n }\n \n+std::vector<std::tuple<int, int, AddrInfo>> AddrManImpl::GetEntries_(bool from_tried) const\n+{\n+    AssertLockHeld(cs);\n+\n+    const int bucket_count = (from_tried) ? ADDRMAN_TRIED_BUCKET_COUNT : ADDRMAN_NEW_BUCKET_COUNT;",
      "path": "src/addrman.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "48dfc81e7e1e6ecdccb4a165a292bb4c8cf96fbd",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:\r\n```suggestion\r\n    const int bucket_count = from_tried ? ADDRMAN_TRIED_BUCKET_COUNT : ADDRMAN_NEW_BUCKET_COUNT;\r\n```",
      "created_at": "2023-09-24T10:06:28Z",
      "updated_at": "2023-09-24T10:06:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1335156026",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335156026"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 845,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335166553",
      "pull_request_review_id": 1641040890,
      "id": 1335166553,
      "node_id": "PRRC_kwDOABII585PlQZZ",
      "diff_hunk": "@@ -1014,52 +1015,105 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in a address manager table ( new_table, tried_table )\",",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 91,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "48dfc81e7e1e6ecdccb4a165a292bb4c8cf96fbd",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\r\n```",
      "created_at": "2023-09-24T11:41:37Z",
      "updated_at": "2023-09-24T11:41:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1335166553",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335166553"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1054,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337253953",
      "pull_request_review_id": 1644341592,
      "id": 1337253953,
      "node_id": "PRRC_kwDOABII585PtOBB",
      "diff_hunk": "@@ -1014,52 +1015,105 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},\n+                                {RPCResult::Type::STR, \"source\", \"the address that relayed the address to us\"},\n+                            }},\n+                        },\n+                    },\n+                },\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"getaddrmaninfo\", \"\")\n+            + HelpExampleCli(\"getaddrmaninfo\", \"true\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"\")},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 108,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "da44fd3e499ca53242332ef9cb2907ec31fce1e3",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 56adcf42805b3007b66396754a9e5dcd0968d027: We could add the 'verbose' example for the RPC.\r\n```suggestion\r\n            + HelpExampleRpc(\"getaddrmaninfo\", \"\")},\r\n            + HelpExampleRpc(\"getaddrmaninfo\", \"true\")}\r\n```",
      "created_at": "2023-09-26T13:55:01Z",
      "updated_at": "2023-09-26T13:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1337253953",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337253953"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1071,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337326653",
      "pull_request_review_id": 1644463026,
      "id": 1337326653,
      "node_id": "PRRC_kwDOABII585Ptfw9",
      "diff_hunk": "@@ -386,5 +391,70 @@ def test_getaddrmaninfo(self):\n             assert_equal(res[net][\"tried\"], 0)\n             assert_equal(res[net][\"total\"], 0)\n \n+        self.log.debug(\n+            \"Test that verbose keys are not in the default getaddrmaninfo\")\n+        assert \"new_table\" not in res\n+        assert \"tried_table\" not in res\n+\n+        self.log.info(\"Test getaddrmaninfo verbose = True\")\n+        res = node.getaddrmaninfo(verbose=True)\n+\n+        # we expect one addrman new table entry added in a previous test\n+        assert_equal(len(res[\"new_table\"]), 1)\n+        assert_equal(len(res[\"new_table\"]), res[\"all_networks\"][\"new\"])\n+        assert_equal(res[\"new_table\"][0][\"address\"], \"2.0.0.0:8333\")\n+        assert_equal(res[\"new_table\"][0][\"services\"], 9)\n+        assert_equal(res[\"new_table\"][0][\"source\"], \"2.0.0.0\")\n+        assert 0 <= res[\"new_table\"][0][\"bucket\"] < ADDRMAN_NEW_BUCKET_COUNT\n+        assert 0 <= res[\"new_table\"][0][\"position\"] < ADDRMAN_BUCKET_SIZE\n+\n+        # we expect one addrman tried table entry added in a previous test\n+        assert_equal(len(res[\"tried_table\"]), 1)\n+        assert_equal(len(res[\"tried_table\"]), res[\"all_networks\"][\"tried\"])\n+        assert_equal(res[\"tried_table\"][0][\"address\"], \"1.2.3.4:8333\")\n+        assert_equal(res[\"tried_table\"][0][\"services\"], 9)\n+        assert_equal(res[\"tried_table\"][0][\"source\"], \"1.2.3.4\")\n+        assert 0 <= res[\"tried_table\"][0][\"bucket\"] < ADDRMAN_TRIED_BUCKET_COUNT\n+        assert 0 <= res[\"tried_table\"][0][\"position\"] < ADDRMAN_BUCKET_SIZE\n+\n+        self.log.debug(\"Add one new address to each addrman table\")",
      "path": "test/functional/rpc_net.py",
      "position": 98,
      "original_position": 42,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "da44fd3e499ca53242332ef9cb2907ec31fce1e3",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In da44fd3e499ca53242332ef9cb2907ec31fce1e3: I think we could addresses from other networks (e.g tor) to test it as well.",
      "created_at": "2023-09-26T14:39:12Z",
      "updated_at": "2023-09-26T14:39:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1337326653",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337326653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 469,
      "original_line": 469,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338934464",
      "pull_request_review_id": 1647192779,
      "id": 1338934464,
      "node_id": "PRRC_kwDOABII585PzoTA",
      "diff_hunk": "@@ -1014,52 +1015,105 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},\n+                                {RPCResult::Type::STR, \"source\", \"the address that relayed the address to us\"},\n+                            }},\n+                        },\n+                    },\n+                },\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"getaddrmaninfo\", \"\")\n+            + HelpExampleCli(\"getaddrmaninfo\", \"true\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"\")},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 108,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "da44fd3e499ca53242332ef9cb2907ec31fce1e3",
      "in_reply_to_id": 1337253953,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done!",
      "created_at": "2023-09-27T17:03:52Z",
      "updated_at": "2023-09-27T17:03:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1338934464",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338934464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1071,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338939771",
      "pull_request_review_id": 1647199802,
      "id": 1338939771,
      "node_id": "PRRC_kwDOABII585Pzpl7",
      "diff_hunk": "@@ -386,5 +391,70 @@ def test_getaddrmaninfo(self):\n             assert_equal(res[net][\"tried\"], 0)\n             assert_equal(res[net][\"total\"], 0)\n \n+        self.log.debug(\n+            \"Test that verbose keys are not in the default getaddrmaninfo\")\n+        assert \"new_table\" not in res\n+        assert \"tried_table\" not in res\n+\n+        self.log.info(\"Test getaddrmaninfo verbose = True\")\n+        res = node.getaddrmaninfo(verbose=True)\n+\n+        # we expect one addrman new table entry added in a previous test\n+        assert_equal(len(res[\"new_table\"]), 1)\n+        assert_equal(len(res[\"new_table\"]), res[\"all_networks\"][\"new\"])\n+        assert_equal(res[\"new_table\"][0][\"address\"], \"2.0.0.0:8333\")\n+        assert_equal(res[\"new_table\"][0][\"services\"], 9)\n+        assert_equal(res[\"new_table\"][0][\"source\"], \"2.0.0.0\")\n+        assert 0 <= res[\"new_table\"][0][\"bucket\"] < ADDRMAN_NEW_BUCKET_COUNT\n+        assert 0 <= res[\"new_table\"][0][\"position\"] < ADDRMAN_BUCKET_SIZE\n+\n+        # we expect one addrman tried table entry added in a previous test\n+        assert_equal(len(res[\"tried_table\"]), 1)\n+        assert_equal(len(res[\"tried_table\"]), res[\"all_networks\"][\"tried\"])\n+        assert_equal(res[\"tried_table\"][0][\"address\"], \"1.2.3.4:8333\")\n+        assert_equal(res[\"tried_table\"][0][\"services\"], 9)\n+        assert_equal(res[\"tried_table\"][0][\"source\"], \"1.2.3.4\")\n+        assert 0 <= res[\"tried_table\"][0][\"bucket\"] < ADDRMAN_TRIED_BUCKET_COUNT\n+        assert 0 <= res[\"tried_table\"][0][\"position\"] < ADDRMAN_BUCKET_SIZE\n+\n+        self.log.debug(\"Add one new address to each addrman table\")",
      "path": "test/functional/rpc_net.py",
      "position": 98,
      "original_position": 42,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "da44fd3e499ca53242332ef9cb2907ec31fce1e3",
      "in_reply_to_id": 1337326653,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "will do if I re-touch the tests",
      "created_at": "2023-09-27T17:08:25Z",
      "updated_at": "2023-09-27T17:08:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1338939771",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338939771"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 469,
      "original_line": 469,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339430595",
      "pull_request_review_id": 1647790432,
      "id": 1339430595,
      "node_id": "PRRC_kwDOABII585P1hbD",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 94,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`getnodeaddresses` separates this into `address` and `port`; does it make sense to be different here?\r\n\r\n`getnodeaddresses` also includes the last seen time which seems like it might be useful?",
      "created_at": "2023-09-28T02:09:31Z",
      "updated_at": "2023-09-28T02:52:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339430595",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339430595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1057,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339444441",
      "pull_request_review_id": 1647790432,
      "id": 1339444441,
      "node_id": "PRRC_kwDOABII585P1kzZ",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could substantially reduce the size of the json output (by about 20%) by changing this to:\r\n\r\n```json\r\n{\r\n  \"new_table\": {\r\n    \"0/2\": {\r\n      \"address\": \"89.78.111.197:8333\",\r\n      \"services\": 1037,\r\n      \"source\": \"34.126.67.135\"\r\n    },\r\n    \"0/5\": {\r\n      \"address\": \"13.228.211.83:8333\",\r\n      \"services\": 1033,\r\n      \"source\": \"34.126.67.135\"\r\n    }\r\n}\r\n```",
      "created_at": "2023-09-28T02:33:38Z",
      "updated_at": "2023-09-28T02:52:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339444441",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339444441"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1060,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339450561",
      "pull_request_review_id": 1647790432,
      "id": 1339450561,
      "node_id": "PRRC_kwDOABII585P1mTB",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},\n+                                {RPCResult::Type::STR, \"source\", \"the address that relayed the address to us\"},\n+                            }},\n+                        },\n+                    },\n+                },\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"getaddrmaninfo\", \"\")\n+            + HelpExampleCli(\"getaddrmaninfo\", \"true\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"true\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            NodeContext& node = EnsureAnyNodeContext(request.context);\n+            if (!node.addrman) {\n+                throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n+            }\n+\n+            bool verbose = false;\n+            if (!request.params[0].isNull()) {\n+                verbose = request.params[0].get_bool();\n+            }",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 120,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Add\r\n\r\n```c++\r\nTMPL_INST(CheckRequiredOrDefault, bool, CHECK_NONFATAL(maybe_arg)->get_bool(););\r\n```\r\n\r\nin rpc/util.cpp and this becomes `const bool verbose = self.Arg<bool>(0);`  (see #28230)",
      "created_at": "2023-09-28T02:44:32Z",
      "updated_at": "2023-09-28T02:52:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339450561",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339450561"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1083,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339454178",
      "pull_request_review_id": 1647790432,
      "id": 1339454178,
      "node_id": "PRRC_kwDOABII585P1nLi",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},\n+                                {RPCResult::Type::STR, \"source\", \"the address that relayed the address to us\"},\n+                            }},\n+                        },\n+                    },\n+                },\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"getaddrmaninfo\", \"\")\n+            + HelpExampleCli(\"getaddrmaninfo\", \"true\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"true\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            NodeContext& node = EnsureAnyNodeContext(request.context);\n+            if (!node.addrman) {\n+                throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n+            }\n+\n+            bool verbose = false;\n+            if (!request.params[0].isNull()) {\n+                verbose = request.params[0].get_bool();\n+            }\n+\n+            UniValue ret(UniValue::VOBJ);\n+            for (int n = 0; n < NET_MAX; ++n) {\n+                enum Network network = static_cast<enum Network>(n);\n+                if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n+                UniValue obj(UniValue::VOBJ);\n+                obj.pushKV(\"new\", node.addrman->Size(network, true));\n+                obj.pushKV(\"tried\", node.addrman->Size(network, false));\n+                obj.pushKV(\"total\", node.addrman->Size(network));\n+                ret.pushKV(GetNetworkName(network), obj);\n+            }\n+            UniValue obj(UniValue::VOBJ);\n+            obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n+            obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n+            obj.pushKV(\"total\", node.addrman->Size());\n+            ret.pushKV(\"all_networks\", obj);\n+\n+            if (verbose) {",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 138,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We have `getmempoolinfo` that gives statistics about the mempool and `getrawmempool` that gives the contents of the mempool; wouldn't it make more sense to mirror that arrangement and have two separate RPCs here as well?",
      "created_at": "2023-09-28T02:50:50Z",
      "updated_at": "2023-09-28T02:52:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339454178",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339454178"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339867604",
      "pull_request_review_id": 1648384145,
      "id": 1339867604,
      "node_id": "PRRC_kwDOABII585P3MHU",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": 1339444441,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not a fan of representing two integers as string in JSON key and having downstream figure out how to parse it. However, why not do\r\n\r\n```\r\n\"table\": {\r\n  bucket: {\r\n    position: {\r\n      \"address\": \"13.228.211.83:8333\",\r\n      \"services\": 1033,\r\n      \"source\": \"34.126.67.135\"\r\n    },\r\n  }\r\n}\r\n```\r\nwhere `bucket` and `position` are integer keys.\r\n\r\n ",
      "created_at": "2023-09-28T10:06:59Z",
      "updated_at": "2023-09-28T10:06:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339867604",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339867604"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1060,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339908447",
      "pull_request_review_id": 1648439139,
      "id": 1339908447,
      "node_id": "PRRC_kwDOABII585P3WFf",
      "diff_hunk": "@@ -1199,6 +1218,15 @@ std::vector<CAddress> AddrManImpl::GetAddr(size_t max_addresses, size_t max_pct,\n     return addresses;\n }\n \n+std::vector<std::tuple<int, int, AddrInfo>> AddrManImpl::GetEntries(bool from_tried) const",
      "path": "src/addrman.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it'd be nice to have some sort of named struct instead of using `std::vector<std::tuple<int, int, AddrInfo>>` several times, including from the callers. Especially since having two `int` fields means it's easy for callers to mix up. \r\n\r\nI wonder if it could make sense to use the `AddressPosition` struct defined in `addrman.h`. It's not a perfect mapping, but it's currently only used in the tests, and it seems fine to add the additional info from `AddrInfo` to it to pass to the RPC. that could generally be cleaner, but might be overkill. \r\n\r\nAlternatively just the bucket & position could be pulled out into a small struct (similar to `NewTriedCount`), and that can be used in this tuple. ",
      "created_at": "2023-09-28T10:39:25Z",
      "updated_at": "2023-09-28T10:39:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339908447",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1339908447"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340008020",
      "pull_request_review_id": 1648607970,
      "id": 1340008020,
      "node_id": "PRRC_kwDOABII585P3uZU",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": 1339444441,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "TIL UniValue doesn't support integer keys - only string keys. Still going with this as it's about a 15% size reduction with somewhat empty addrman tables. I assume even more space savings on a full addrman tables, as the `getaddrmaninfo verbose` output would contain more `bucket` keys.\r\n\r\n```\r\n$ ll getrawaddrman.json getaddrmaninfo_verbose.json -h\r\n-rw-r--r-- 1 user group 761K Sep 28 13:37 getrawaddrman.json\r\n-rw-r--r-- 1 user group 881K Sep 28 13:37 getaddrmaninfo_verbose.json\r\n```\r\n",
      "created_at": "2023-09-28T11:53:49Z",
      "updated_at": "2023-09-28T11:54:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1340008020",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340008020"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1060,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340186430",
      "pull_request_review_id": 1648919768,
      "id": 1340186430,
      "node_id": "PRRC_kwDOABII585P4Z8-",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": 1339444441,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "JSON in general  doesn't support integer keys.\r\n\r\nNot a strong opinion, but there's two advantages of `\"0/5\":` vs `\"0\": {\"5\":` -- one is that if you don't care about the bucket/position, you can just skip through the values directly (`x.values()` vs `sum(x2.values() for x2 in x.values())`), the other is that bucket+position are pretty internal arrangements; if we end up with a different layout in the future, we can just map that to a different string template (eg \"0/5/2\") and only the people who care about the internals have to even notice the change.",
      "created_at": "2023-09-28T13:47:42Z",
      "updated_at": "2023-09-28T13:47:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1340186430",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340186430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1060,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341159511",
      "pull_request_review_id": 1650463340,
      "id": 1341159511,
      "node_id": "PRRC_kwDOABII585P8HhX",
      "diff_hunk": "@@ -1014,52 +1015,107 @@ static RPCHelpMan sendmsgtopeer()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(unsigned int bucket, unsigned int position, const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddrPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"bucket\", bucket);\n+    ret.pushKV(\"position\", position);\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    return ret;\n+}\n+\n static RPCHelpMan getaddrmaninfo()\n {\n     return RPCHelpMan{\"getaddrmaninfo\",\n-                      \"\\nProvides information about the node's address manager by returning the number of \"\n-                      \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n-                      \"This RPC is for testing only.\\n\",\n-                      {},\n-                      RPCResult{\n-                              RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n-                              {\n-                                      {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \")\",\n-                                       {\n-                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n-                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n-                                               {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n-                                       }},\n-                              }\n-                      },\n-                      RPCExamples{\n-                              HelpExampleCli(\"getaddrmaninfo\", \"\")\n-                              + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n-                      },\n-                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-                      {\n-                          NodeContext& node = EnsureAnyNodeContext(request.context);\n-                          if (!node.addrman) {\n-                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n-                          }\n-\n-                          UniValue ret(UniValue::VOBJ);\n-                          for (int n = 0; n < NET_MAX; ++n) {\n-                              enum Network network = static_cast<enum Network>(n);\n-                              if (network == NET_UNROUTABLE || network == NET_INTERNAL) continue;\n-                              UniValue obj(UniValue::VOBJ);\n-                              obj.pushKV(\"new\", node.addrman->Size(network, true));\n-                              obj.pushKV(\"tried\", node.addrman->Size(network, false));\n-                              obj.pushKV(\"total\", node.addrman->Size(network));\n-                              ret.pushKV(GetNetworkName(network), obj);\n-                          }\n-                          UniValue obj(UniValue::VOBJ);\n-                          obj.pushKV(\"new\", node.addrman->Size(std::nullopt, true));\n-                          obj.pushKV(\"tried\", node.addrman->Size(std::nullopt, false));\n-                          obj.pushKV(\"total\", node.addrman->Size());\n-                          ret.pushKV(\"all_networks\", obj);\n-                          return ret;\n-                      },\n+        \"\\nProvides information about the node's address manager by returning the number of \"\n+        \"addresses in the `new` and `tried` tables and their sum for all networks.\\n\"\n+        \"When setting the verbose flag, the address manager entries for the new \"\n+        \"and tried table are also returned.\\n\"\n+        \"This RPC is for testing only.\\n\",\n+        {\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a list of address manager entries by table, false for address counts only\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type as keys\",\n+                {\n+                    {RPCResult::Type::OBJ, \"network\", \"the network (\" + Join(GetNetworkNames(), \", \") + \", all_networks )\", {\n+                        {RPCResult::Type::NUM, \"new\", \"number of addresses in the new table, which represent potential peers the node has discovered but hasn't yet successfully connected to.\"},\n+                        {RPCResult::Type::NUM, \"tried\", \"number of addresses in the tried table, which represent peers the node has successfully connected to in the past.\"},\n+                        {RPCResult::Type::NUM, \"total\", \"total number of addresses in both new/tried tables\"},\n+                    }},\n+                },\n+            },\n+            RPCResult{\"for verbose = true\", RPCResult::Type::OBJ_DYN, \"\", \"json object with network type, new_table and tried_table as keys\",\n+                {\n+                    {RPCResult::Type::ELISION, \"\", \"The same output as verbose = false\"},\n+                    {\n+                        RPCResult::Type::ARR, \"table\", \"list of addresses in the address manager table ( new_table, tried_table )\",\n+                        {\n+                            {RPCResult::Type::OBJ, \"\", \"an address manager table entry\", {\n+                                {RPCResult::Type::STR, \"address\", \"the address\"},\n+                                {RPCResult::Type::NUM, \"services\", \"the services the node might support\"},\n+                                {RPCResult::Type::NUM, \"bucket\", \"the address manager bucket the address is placed in\"},\n+                                {RPCResult::Type::NUM, \"position\", \"the bucket position the address is placed in\"},\n+                                {RPCResult::Type::STR, \"source\", \"the address that relayed the address to us\"},\n+                            }},\n+                        },\n+                    },\n+                },\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"getaddrmaninfo\", \"\")\n+            + HelpExampleCli(\"getaddrmaninfo\", \"true\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"\")\n+            + HelpExampleRpc(\"getaddrmaninfo\", \"true\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            NodeContext& node = EnsureAnyNodeContext(request.context);\n+            if (!node.addrman) {\n+                throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n+            }\n+\n+            bool verbose = false;\n+            if (!request.params[0].isNull()) {\n+                verbose = request.params[0].get_bool();\n+            }",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 120,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "4307c8c90b5deb282ffa1b8f899f7638b1a9c989",
      "in_reply_to_id": 1339450561,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I choose to move to `getrawaddrman` instead of extending `getaddrmaninfo` with a verbose flag. https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1339454178. Resolving this as there's no need for it anymore.",
      "created_at": "2023-09-29T09:59:43Z",
      "updated_at": "2023-09-29T09:59:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341159511",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341159511"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1083,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341389523",
      "pull_request_review_id": 1650820049,
      "id": 1341389523,
      "node_id": "PRRC_kwDOABII585P8_rT",
      "diff_hunk": "@@ -838,6 +838,30 @@ std::vector<CAddress> AddrManImpl::GetAddr_(size_t max_addresses, size_t max_pct\n     return addresses;\n }\n \n+std::vector<std::pair<AddrInfo, AddressPosition>> AddrManImpl::GetEntries_(bool from_tried) const\n+{\n+    AssertLockHeld(cs);\n+\n+    const int bucket_count = from_tried ? ADDRMAN_TRIED_BUCKET_COUNT : ADDRMAN_NEW_BUCKET_COUNT;\n+    std::vector<std::pair<AddrInfo, AddressPosition>> infos;\n+    for (int bucket = 0; bucket < bucket_count; ++bucket) {\n+        for (int position = 0; position < ADDRMAN_BUCKET_SIZE; position++) {",
      "path": "src/addrman.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "b7407bb7758089dea32acc9e94f31562b936e4e7",
      "in_reply_to_id": null,
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "b7407bb: micro style nit, only if you retouch this commit for some reason - `s/position++/++position`\r\n",
      "created_at": "2023-09-29T13:48:53Z",
      "updated_at": "2023-09-29T15:30:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341389523",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341389523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 848,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341443044",
      "pull_request_review_id": 1650820049,
      "id": 1341443044,
      "node_id": "PRRC_kwDOABII585P9Mvk",
      "diff_hunk": "@@ -386,5 +392,115 @@ def test_getaddrmaninfo(self):\n             assert_equal(res[net][\"tried\"], 0)\n             assert_equal(res[net][\"total\"], 0)\n \n+    def test_getrawaddrman(self):\n+        self.log.info(\"Test getrawaddrman\")\n+        node = self.nodes[1]\n+\n+        self.log.debug(\"Test that getrawaddrman is a hidden RPC\")\n+        # It is hidden from general help, but its detailed help may be called directly.\n+        assert \"getrawaddrman\" not in node.help()\n+        assert \"getrawaddrman\" in node.help(\"getrawaddrman\")\n+\n+        def check_addr_information(result, expected):\n+            \"\"\"Utillity to compare an getrawaddrman result entry to a expected entry\"\"\"",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 34,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "in_reply_to_id": null,
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "45a84d1:\r\n```suggestion\r\n            \"\"\"Utility to compare a getrawaddrman result entry with an expected entry\"\"\"\r\n```\r\nsame suggestion for [L416](https://github.com/bitcoin/bitcoin/blob/45a84d19dec4953a71a744de0c1aac4a3a51c685/test/functional/rpc_net.py#L416) too.",
      "created_at": "2023-09-29T14:33:15Z",
      "updated_at": "2023-09-29T15:30:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341443044",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341443044"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 405,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341628296",
      "pull_request_review_id": 1651208768,
      "id": 1341628296,
      "node_id": "PRRC_kwDOABII585P95-I",
      "diff_hunk": "@@ -260,6 +263,8 @@ class AddrManImpl\n \n     std::vector<CAddress> GetAddr_(size_t max_addresses, size_t max_pct, std::optional<Network> network) const EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n+    std::vector<std::pair<AddrInfo, AddressPosition>> GetEntries_(bool use_tried) const EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "path": "src/addrman_impl.h",
      "position": null,
      "original_position": 14,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "b7407bb7758089dea32acc9e94f31562b936e4e7",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "any reason `from_tried` became `use_tried`? I'm guessing to keep consistent with the param to `GetEntry`, but then could it make sense to just rename the param in the newly introduced `GetEntries`? ",
      "created_at": "2023-09-29T17:18:48Z",
      "updated_at": "2023-09-29T18:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341628296",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341628296"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341643952",
      "pull_request_review_id": 1651208768,
      "id": 1341643952,
      "node_id": "PRRC_kwDOABII585P99yw",
      "diff_hunk": "@@ -1063,6 +1064,72 @@ static RPCHelpMan getaddrmaninfo()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddr());\n+    ret.pushKV(\"port\", info.GetPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"time\", int64_t{TicksSinceEpoch<std::chrono::seconds>(info.nTime)});\n+    ret.pushKV(\"network\", GetNetworkName(info.GetNetClass()));\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    ret.pushKV(\"source_network\", GetNetworkName(info.source.GetNetClass()));\n+    return ret;\n+}\n+\n+UniValue AddrmanTableToJSON(const std::vector<std::pair<AddrInfo, AddressPosition>>& tableInfos)\n+{\n+    UniValue table(UniValue::VOBJ);\n+    for (const auto& e : tableInfos) {\n+        AddrInfo info = e.first;\n+        AddressPosition location = e.second;\n+        std::ostringstream key;\n+        key << location.bucket << \"/\" << location.position;\n+        table.pushKV(key.str(), AddrmanEntryToJSON(info));\n+    }\n+    return table;\n+}\n+\n+static RPCHelpMan getrawaddrman()\n+{\n+    return RPCHelpMan{\n+        \"getrawaddrman\",\n+        \"\\nReturns information on all address manager entries for the new and tried tables.\\n\"\n+        \"This RPC is for testing only.\\n\",",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "b7407bb7758089dea32acc9e94f31562b936e4e7",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "is it? ðŸ‘€ ",
      "created_at": "2023-09-29T17:37:19Z",
      "updated_at": "2023-09-29T18:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341643952",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341643952"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341659454",
      "pull_request_review_id": 1651208768,
      "id": 1341659454,
      "node_id": "PRRC_kwDOABII585P-Bk-",
      "diff_hunk": "@@ -386,5 +392,115 @@ def test_getaddrmaninfo(self):\n             assert_equal(res[net][\"tried\"], 0)\n             assert_equal(res[net][\"total\"], 0)\n \n+    def test_getrawaddrman(self):\n+        self.log.info(\"Test getrawaddrman\")\n+        node = self.nodes[1]\n+\n+        self.log.debug(\"Test that getrawaddrman is a hidden RPC\")\n+        # It is hidden from general help, but its detailed help may be called directly.\n+        assert \"getrawaddrman\" not in node.help()\n+        assert \"getrawaddrman\" in node.help(\"getrawaddrman\")\n+\n+        def check_addr_information(result, expected):\n+            \"\"\"Utillity to compare an getrawaddrman result entry to a expected entry\"\"\"\n+            assert_equal(result[\"address\"], expected[\"address\"])\n+            assert_equal(result[\"port\"], expected[\"port\"])\n+            assert_equal(result[\"services\"], expected[\"services\"])\n+            assert_equal(result[\"network\"], expected[\"network\"])\n+            assert_equal(result[\"source\"], expected[\"source\"])\n+            assert_equal(result[\"source_network\"], expected[\"source_network\"])\n+            # To avoid failing on slow test runners, use a 10s vspan here.\n+            assert_approx(result[\"time\"], time.time(), vspan=10)\n+\n+        def check_getrawaddrman_entries(expected):\n+            \"\"\"Utillity to compare an getrawaddrman result to expected addrman contents\"\"\"\n+            getrawaddrman = node.getrawaddrman()\n+            getaddrmaninfo = node.getaddrmaninfo()\n+            for (table_name, table_info) in expected.items():\n+                assert_equal(len(getrawaddrman[table_name]), len(table_info[\"entries\"]))\n+                assert_equal(len(getrawaddrman[table_name]), getaddrmaninfo[\"all_networks\"][table_name])\n+\n+                for bucket_position in getrawaddrman[table_name].keys():\n+                    bucket = int(bucket_position.split(\"/\")[0])\n+                    position = int(bucket_position.split(\"/\")[1])\n+\n+                    # bucket and position only be sanity checked here as the\n+                    # test-addrman isn't deterministic\n+                    assert 0 <= int(bucket) < table_info[\"bucket_count\"]\n+                    assert 0 <= int(position) < ADDRMAN_BUCKET_SIZE\n+\n+                    entry = getrawaddrman[table_name][bucket_position]\n+                    expected_entry = list(filter(lambda e: e[\"address\"] == entry[\"address\"], table_info[\"entries\"]))[0]\n+                    check_addr_information(entry, expected_entry)\n+\n+        # we expect one addrman new and tried table entry, which were added in a previous test\n+        expected = {\n+            \"new\": {\n+                \"bucket_count\": ADDRMAN_NEW_BUCKET_COUNT,\n+                \"entries\": [\n+                    {\n+                        \"address\": \"2.0.0.0\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"ipv4\",\n+                        \"source\": \"2.0.0.0\",\n+                        \"source_network\": \"ipv4\",\n+                    }\n+                ]\n+            },\n+            \"tried\": {\n+                \"bucket_count\": ADDRMAN_TRIED_BUCKET_COUNT,\n+                \"entries\": [\n+                    {\n+                        \"address\": \"1.2.3.4\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"ipv4\",\n+                        \"source\": \"1.2.3.4\",\n+                        \"source_network\": \"ipv4\",\n+                    }\n+                ]\n+            }\n+        }\n+\n+        self.log.debug(\"Test that the getrawaddrman contains information about the addresses added in a previous test\")\n+        check_getrawaddrman_entries(expected)\n+\n+        self.log.debug(\"Add one new address to each addrman table\")\n+        expected[\"new\"][\"entries\"].append({\n+            \"address\": \"2803:0:1234:abcd::1\",\n+            \"services\": 9,\n+            \"network\": \"ipv6\",\n+            \"source\": \"2803:0:1234:abcd::1\",\n+            \"source_network\": \"ipv6\",\n+            \"port\": -1, # set once addpeeraddress is successful",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 105,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "flake8 complains: `E261 at least two spaces before inline comment` (here and below)",
      "created_at": "2023-09-29T17:57:31Z",
      "updated_at": "2023-09-29T18:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341659454",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341659454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 476,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341660051",
      "pull_request_review_id": 1651208768,
      "id": 1341660051,
      "node_id": "PRRC_kwDOABII585P-BuT",
      "diff_hunk": "@@ -386,5 +392,115 @@ def test_getaddrmaninfo(self):\n             assert_equal(res[net][\"tried\"], 0)\n             assert_equal(res[net][\"total\"], 0)\n \n+    def test_getrawaddrman(self):\n+        self.log.info(\"Test getrawaddrman\")\n+        node = self.nodes[1]\n+\n+        self.log.debug(\"Test that getrawaddrman is a hidden RPC\")\n+        # It is hidden from general help, but its detailed help may be called directly.\n+        assert \"getrawaddrman\" not in node.help()\n+        assert \"getrawaddrman\" in node.help(\"getrawaddrman\")\n+\n+        def check_addr_information(result, expected):\n+            \"\"\"Utillity to compare an getrawaddrman result entry to a expected entry\"\"\"\n+            assert_equal(result[\"address\"], expected[\"address\"])\n+            assert_equal(result[\"port\"], expected[\"port\"])\n+            assert_equal(result[\"services\"], expected[\"services\"])\n+            assert_equal(result[\"network\"], expected[\"network\"])\n+            assert_equal(result[\"source\"], expected[\"source\"])\n+            assert_equal(result[\"source_network\"], expected[\"source_network\"])\n+            # To avoid failing on slow test runners, use a 10s vspan here.\n+            assert_approx(result[\"time\"], time.time(), vspan=10)\n+\n+        def check_getrawaddrman_entries(expected):\n+            \"\"\"Utillity to compare an getrawaddrman result to expected addrman contents\"\"\"\n+            getrawaddrman = node.getrawaddrman()\n+            getaddrmaninfo = node.getaddrmaninfo()\n+            for (table_name, table_info) in expected.items():\n+                assert_equal(len(getrawaddrman[table_name]), len(table_info[\"entries\"]))\n+                assert_equal(len(getrawaddrman[table_name]), getaddrmaninfo[\"all_networks\"][table_name])\n+\n+                for bucket_position in getrawaddrman[table_name].keys():\n+                    bucket = int(bucket_position.split(\"/\")[0])\n+                    position = int(bucket_position.split(\"/\")[1])\n+\n+                    # bucket and position only be sanity checked here as the\n+                    # test-addrman isn't deterministic\n+                    assert 0 <= int(bucket) < table_info[\"bucket_count\"]\n+                    assert 0 <= int(position) < ADDRMAN_BUCKET_SIZE\n+\n+                    entry = getrawaddrman[table_name][bucket_position]\n+                    expected_entry = list(filter(lambda e: e[\"address\"] == entry[\"address\"], table_info[\"entries\"]))[0]\n+                    check_addr_information(entry, expected_entry)\n+\n+        # we expect one addrman new and tried table entry, which were added in a previous test\n+        expected = {\n+            \"new\": {\n+                \"bucket_count\": ADDRMAN_NEW_BUCKET_COUNT,\n+                \"entries\": [\n+                    {\n+                        \"address\": \"2.0.0.0\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"ipv4\",\n+                        \"source\": \"2.0.0.0\",\n+                        \"source_network\": \"ipv4\",\n+                    }\n+                ]\n+            },\n+            \"tried\": {\n+                \"bucket_count\": ADDRMAN_TRIED_BUCKET_COUNT,\n+                \"entries\": [\n+                    {\n+                        \"address\": \"1.2.3.4\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"ipv4\",\n+                        \"source\": \"1.2.3.4\",\n+                        \"source_network\": \"ipv4\",\n+                    }\n+                ]\n+            }\n+        }\n+\n+        self.log.debug(\"Test that the getrawaddrman contains information about the addresses added in a previous test\")\n+        check_getrawaddrman_entries(expected)\n+\n+        self.log.debug(\"Add one new address to each addrman table\")\n+        expected[\"new\"][\"entries\"].append({\n+            \"address\": \"2803:0:1234:abcd::1\",\n+            \"services\": 9,\n+            \"network\": \"ipv6\",\n+            \"source\": \"2803:0:1234:abcd::1\",\n+            \"source_network\": \"ipv6\",\n+            \"port\": -1, # set once addpeeraddress is successful\n+        })\n+        expected[\"tried\"][\"entries\"].append({\n+            \"address\": \"nrfj6inpyf73gpkyool35hcmne5zwfmse3jl3aw23vk7chdemalyaqad.onion\",\n+            \"services\": 9,\n+            \"network\": \"onion\",\n+            \"source\": \"nrfj6inpyf73gpkyool35hcmne5zwfmse3jl3aw23vk7chdemalyaqad.onion\",\n+            \"source_network\": \"onion\",\n+            \"port\": -1, # set once addpeeraddress is successful\n+        })\n+\n+        port = 0\n+        for (table_name, table_info) in expected.items():\n+            # There's a slight chance that the to-be-added address collides with an already\n+            # present table entry. To avoid this, we increment the port until an address has been\n+            # added. Incrementing the port changes the position in the new table bucket (bucket\n+            # stays the same) and changes both the bucket and the position in the tried table.\n+            while True:\n+                if node.addpeeraddress(address=table_info[\"entries\"][1][\"address\"], port=port, tried=table_name==\"tried\")[\"success\"]:",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 123,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "flake8 complains: `E225 missing whitespace around operator` (for `table_name==\"tried\"` part)",
      "created_at": "2023-09-29T17:58:19Z",
      "updated_at": "2023-09-29T18:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341660051",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341660051"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 494,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341660556",
      "pull_request_review_id": 1651208768,
      "id": 1341660556,
      "node_id": "PRRC_kwDOABII585P-B2M",
      "diff_hunk": "@@ -386,5 +392,115 @@ def test_getaddrmaninfo(self):\n             assert_equal(res[net][\"tried\"], 0)\n             assert_equal(res[net][\"total\"], 0)\n \n+    def test_getrawaddrman(self):\n+        self.log.info(\"Test getrawaddrman\")\n+        node = self.nodes[1]\n+\n+        self.log.debug(\"Test that getrawaddrman is a hidden RPC\")\n+        # It is hidden from general help, but its detailed help may be called directly.\n+        assert \"getrawaddrman\" not in node.help()\n+        assert \"getrawaddrman\" in node.help(\"getrawaddrman\")\n+\n+        def check_addr_information(result, expected):\n+            \"\"\"Utillity to compare an getrawaddrman result entry to a expected entry\"\"\"\n+            assert_equal(result[\"address\"], expected[\"address\"])\n+            assert_equal(result[\"port\"], expected[\"port\"])\n+            assert_equal(result[\"services\"], expected[\"services\"])\n+            assert_equal(result[\"network\"], expected[\"network\"])\n+            assert_equal(result[\"source\"], expected[\"source\"])\n+            assert_equal(result[\"source_network\"], expected[\"source_network\"])\n+            # To avoid failing on slow test runners, use a 10s vspan here.\n+            assert_approx(result[\"time\"], time.time(), vspan=10)\n+\n+        def check_getrawaddrman_entries(expected):\n+            \"\"\"Utillity to compare an getrawaddrman result to expected addrman contents\"\"\"\n+            getrawaddrman = node.getrawaddrman()\n+            getaddrmaninfo = node.getaddrmaninfo()\n+            for (table_name, table_info) in expected.items():\n+                assert_equal(len(getrawaddrman[table_name]), len(table_info[\"entries\"]))\n+                assert_equal(len(getrawaddrman[table_name]), getaddrmaninfo[\"all_networks\"][table_name])\n+\n+                for bucket_position in getrawaddrman[table_name].keys():\n+                    bucket = int(bucket_position.split(\"/\")[0])\n+                    position = int(bucket_position.split(\"/\")[1])\n+\n+                    # bucket and position only be sanity checked here as the\n+                    # test-addrman isn't deterministic\n+                    assert 0 <= int(bucket) < table_info[\"bucket_count\"]\n+                    assert 0 <= int(position) < ADDRMAN_BUCKET_SIZE\n+\n+                    entry = getrawaddrman[table_name][bucket_position]\n+                    expected_entry = list(filter(lambda e: e[\"address\"] == entry[\"address\"], table_info[\"entries\"]))[0]\n+                    check_addr_information(entry, expected_entry)\n+\n+        # we expect one addrman new and tried table entry, which were added in a previous test\n+        expected = {\n+            \"new\": {\n+                \"bucket_count\": ADDRMAN_NEW_BUCKET_COUNT,\n+                \"entries\": [\n+                    {\n+                        \"address\": \"2.0.0.0\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"ipv4\",\n+                        \"source\": \"2.0.0.0\",\n+                        \"source_network\": \"ipv4\",\n+                    }\n+                ]\n+            },\n+            \"tried\": {\n+                \"bucket_count\": ADDRMAN_TRIED_BUCKET_COUNT,\n+                \"entries\": [\n+                    {\n+                        \"address\": \"1.2.3.4\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"ipv4\",\n+                        \"source\": \"1.2.3.4\",\n+                        \"source_network\": \"ipv4\",\n+                    }\n+                ]\n+            }\n+        }\n+\n+        self.log.debug(\"Test that the getrawaddrman contains information about the addresses added in a previous test\")\n+        check_getrawaddrman_entries(expected)\n+\n+        self.log.debug(\"Add one new address to each addrman table\")\n+        expected[\"new\"][\"entries\"].append({\n+            \"address\": \"2803:0:1234:abcd::1\",\n+            \"services\": 9,\n+            \"network\": \"ipv6\",\n+            \"source\": \"2803:0:1234:abcd::1\",\n+            \"source_network\": \"ipv6\",\n+            \"port\": -1, # set once addpeeraddress is successful\n+        })\n+        expected[\"tried\"][\"entries\"].append({\n+            \"address\": \"nrfj6inpyf73gpkyool35hcmne5zwfmse3jl3aw23vk7chdemalyaqad.onion\",\n+            \"services\": 9,\n+            \"network\": \"onion\",\n+            \"source\": \"nrfj6inpyf73gpkyool35hcmne5zwfmse3jl3aw23vk7chdemalyaqad.onion\",\n+            \"source_network\": \"onion\",\n+            \"port\": -1, # set once addpeeraddress is successful\n+        })\n+\n+        port = 0\n+        for (table_name, table_info) in expected.items():\n+            # There's a slight chance that the to-be-added address collides with an already\n+            # present table entry. To avoid this, we increment the port until an address has been\n+            # added. Incrementing the port changes the position in the new table bucket (bucket\n+            # stays the same) and changes both the bucket and the position in the tried table.\n+            while True:",
      "path": "test/functional/rpc_net.py",
      "position": 122,
      "original_position": 122,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "good solution for the addrman collisions issue :) ",
      "created_at": "2023-09-29T17:58:59Z",
      "updated_at": "2023-09-29T18:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341660556",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341660556"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 493,
      "original_line": 493,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341665166",
      "pull_request_review_id": 1651208768,
      "id": 1341665166,
      "node_id": "PRRC_kwDOABII585P-C-O",
      "diff_hunk": "@@ -168,6 +169,15 @@ class AddrMan\n      */\n     std::vector<CAddress> GetAddr(size_t max_addresses, size_t max_pct, std::optional<Network> network) const;\n \n+    /**\n+     * Returns a information-location pair for all addresses in an addrman table.\n+     *\n+     * @param[in] from_tried     If tried table entries should be returned. Otherwise, new table entries are returned.",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 21,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n     * @param[in] from_tried     Which table to return entries from (only selects from one). \r\n```\r\n\r\nnot sure if that's the best wording, but when I initially read this I was uncertain if true would be (new & tried) or just tried. ",
      "created_at": "2023-09-29T18:04:51Z",
      "updated_at": "2023-09-29T18:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341665166",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341665166"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 175,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341669391",
      "pull_request_review_id": 1651208768,
      "id": 1341669391,
      "node_id": "PRRC_kwDOABII585P-EAP",
      "diff_hunk": "@@ -168,6 +169,15 @@ class AddrMan\n      */\n     std::vector<CAddress> GetAddr(size_t max_addresses, size_t max_pct, std::optional<Network> network) const;\n \n+    /**\n+     * Returns a information-location pair for all addresses in an addrman table.\n+     *\n+     * @param[in] from_tried     If tried table entries should be returned. Otherwise, new table entries are returned.\n+     *\n+     * @return                   A vector consisting of pairs of AddrInfo and AddressPosition.",
      "path": "src/addrman.h",
      "position": 25,
      "original_position": 23,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "45a84d19dec4953a71a744de0c1aac4a3a51c685",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe if an addr has multiplicity > 1 (aka shows up on the new table multiple times), that this function will return it multiple times. Could consider adding to this documentation. ",
      "created_at": "2023-09-29T18:10:44Z",
      "updated_at": "2023-09-29T18:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341669391",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341669391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 179,
      "original_line": 179,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341709939",
      "pull_request_review_id": 1651342258,
      "id": 1341709939,
      "node_id": "PRRC_kwDOABII585P-N5z",
      "diff_hunk": "@@ -1063,6 +1064,72 @@ static RPCHelpMan getaddrmaninfo()\n     };\n }\n \n+UniValue AddrmanEntryToJSON(const AddrInfo& info)\n+{\n+    UniValue ret(UniValue::VOBJ);\n+    ret.pushKV(\"address\", info.ToStringAddr());\n+    ret.pushKV(\"port\", info.GetPort());\n+    ret.pushKV(\"services\", (uint64_t)info.nServices);\n+    ret.pushKV(\"time\", int64_t{TicksSinceEpoch<std::chrono::seconds>(info.nTime)});\n+    ret.pushKV(\"network\", GetNetworkName(info.GetNetClass()));\n+    ret.pushKV(\"source\", info.source.ToStringAddr());\n+    ret.pushKV(\"source_network\", GetNetworkName(info.source.GetNetClass()));\n+    return ret;\n+}\n+\n+UniValue AddrmanTableToJSON(const std::vector<std::pair<AddrInfo, AddressPosition>>& tableInfos)\n+{\n+    UniValue table(UniValue::VOBJ);\n+    for (const auto& e : tableInfos) {\n+        AddrInfo info = e.first;\n+        AddressPosition location = e.second;\n+        std::ostringstream key;\n+        key << location.bucket << \"/\" << location.position;\n+        table.pushKV(key.str(), AddrmanEntryToJSON(info));\n+    }\n+    return table;\n+}\n+\n+static RPCHelpMan getrawaddrman()\n+{\n+    return RPCHelpMan{\n+        \"getrawaddrman\",\n+        \"\\nReturns information on all address manager entries for the new and tried tables.\\n\"\n+        \"This RPC is for testing only.\\n\",",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "584e12d977b5c7dd57f4aafd984e38e64e85916a",
      "original_commit_id": "b7407bb7758089dea32acc9e94f31562b936e4e7",
      "in_reply_to_id": 1341643952,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps it would be better to describe it as \"EXPERIMENTAL warning: this call may be changed in future releases.\" like `sendall` ?",
      "created_at": "2023-09-29T19:03:28Z",
      "updated_at": "2023-09-29T19:03:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28523#discussion_r1341709939",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341709939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1098,
      "side": "RIGHT"
    }
  ]
}