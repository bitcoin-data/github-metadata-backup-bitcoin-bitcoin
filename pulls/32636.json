{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636",
    "id": 2550873429,
    "node_id": "PR_kwDOABII586YCz1V",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32636",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32636.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32636.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/b29d22a3d8395865a0a79daf16d44b4eb98f571e",
    "number": 32636,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Split `CWallet::Create()` into `CreateNew` and `LoadExisting`",
    "user": {
      "login": "davidgumberg",
      "id": 2257631,
      "node_id": "MDQ6VXNlcjIyNTc2MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidgumberg",
      "html_url": "https://github.com/davidgumberg",
      "followers_url": "https://api.github.com/users/davidgumberg/followers",
      "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
      "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
      "repos_url": "https://api.github.com/users/davidgumberg/repos",
      "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This PR is mostly a refactor which splits out logic used for creating wallets and for loading wallets, both of which are presently contained in `CWallet::Create()` into `CWallet::CreateNew()` and `CWallet::LoadExisting()`\r\n\r\nThe real win of this PR is that `CWallet::Create()` uses a very bad heuristic for trying to guess whether or not it is supposed to be creating a new wallet or loading an existing wallet:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/370c59261269fd9043674e0f4fd782a89e724473/src/wallet/wallet.cpp#L2882-L2885\r\n\r\nThis heuristic assumes that wallets with no `ScriptPubKeyMans` are being created, which sounds reasonable, but as demonstrated in #32112 and #32111, this can happen when the user tries to load a wallet file that is corrupted, both issues are fixed by this PR and any other misbehavior for wallet files which succeeded the broken heuristic's sniff test for new wallets.\r\n\r\nIt was already the case that every caller of `CWallet::Create()` knows whether it is creating a wallet or loading one, so we can avoid replacing this bad heuristic with another one, and just shift the burden to the caller.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2025-05-29T00:37:09Z",
    "updated_at": "2025-10-23T13:58:55Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "c2457867a03d054620a402b86b609aaf36f6591a",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "davidgumberg:5-27-2025-create-refactor",
      "ref": "5-27-2025-create-refactor",
      "sha": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 529442895,
        "node_id": "R_kgDOH46oTw",
        "name": "bitcoin",
        "full_name": "davidgumberg/bitcoin",
        "owner": {
          "login": "davidgumberg",
          "id": 2257631,
          "node_id": "MDQ6VXNlcjIyNTc2MzE=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/davidgumberg",
          "html_url": "https://github.com/davidgumberg",
          "followers_url": "https://api.github.com/users/davidgumberg/followers",
          "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
          "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
          "repos_url": "https://api.github.com/users/davidgumberg/repos",
          "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/davidgumberg/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/davidgumberg/bitcoin",
        "archive_url": "https://api.github.com/repos/davidgumberg/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/davidgumberg/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/davidgumberg/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/davidgumberg/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/davidgumberg/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/davidgumberg/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/davidgumberg/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/davidgumberg/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/davidgumberg/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/davidgumberg/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/davidgumberg/bitcoin/events",
        "forks_url": "https://api.github.com/repos/davidgumberg/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/davidgumberg/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/davidgumberg/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/davidgumberg/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/davidgumberg/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/davidgumberg/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/davidgumberg/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/davidgumberg/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/davidgumberg/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/davidgumberg/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/davidgumberg/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/davidgumberg/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/davidgumberg/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:davidgumberg/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/davidgumberg/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/davidgumberg/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/davidgumberg/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/davidgumberg/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/davidgumberg/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/davidgumberg/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/davidgumberg/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/davidgumberg/bitcoin/hooks",
        "svn_url": "https://github.com/davidgumberg/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 253492,
        "default_branch": "master",
        "open_issues_count": 8,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-08T18:53:20Z",
        "created_at": "2022-08-27T00:44:27Z",
        "updated_at": "2025-09-24T21:57:40Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "75353a016357f3ed0d2178f8432dfe495df4aa62",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38073,
        "stargazers_count": 86374,
        "watchers_count": 86374,
        "size": 295158,
        "default_branch": "master",
        "open_issues_count": 746,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-23T10:19:58Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-10-23T13:42:44Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 248,
    "deletions": 172,
    "changed_files": 16,
    "commits": 15,
    "review_comments": 24,
    "comments": 10
  },
  "events": [
    {
      "event": "commented",
      "id": 2917916095,
      "node_id": "IC_kwDOABII586t692_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2917916095",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-29T00:37:13Z",
      "updated_at": "2025-10-23T02:17:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32636.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2928917813), [rkrux](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2932150392), [enirox001](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3235533295) |\n| Approach ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2879497779) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n* [#32895](https://github.com/bitcoin/bitcoin/pull/32895) (wallet: Prepare for future upgrades by recording versions of last client to open and decrypt by achow101)\n* [#32685](https://github.com/bitcoin/bitcoin/pull/32685) (wallet: Allow read-only database access for info and dump commands by PeterWrighten)\n* [#32138](https://github.com/bitcoin/bitcoin/pull/32138) (wallet, rpc: remove settxfee and paytxfee by polespinasa)\n* [#31260](https://github.com/bitcoin/bitcoin/pull/31260) (scripted-diff: Type-safe settings retrieval by ryanofsky)\n* [#30343](https://github.com/bitcoin/bitcoin/pull/30343) (wallet, logging: Replace WalletLogPrintf() with LogInfo() by ryanofsky)\n* [#29278](https://github.com/bitcoin/bitcoin/pull/29278) (Wallet:  Add `maxfeerate` wallet startup option by ismaelsadeeq)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n* [#19461](https://github.com/bitcoin/bitcoin/pull/19461) (multiprocess: Add bitcoin-gui -ipcconnect option by ryanofsky)\n* [#19460](https://github.com/bitcoin/bitcoin/pull/19460) (multiprocess: Add bitcoin-wallet -ipcconnect option by ryanofsky)\n* [#10102](https://github.com/bitcoin/bitcoin/pull/10102) (Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2917916095",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "reviewed",
      "id": 2879497779,
      "node_id": "PRR_kwDOABII586roaYz",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-29T20:14:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2879497779",
      "submitted_at": "2025-05-29T20:14:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "commented",
      "id": 2920676506,
      "node_id": "IC_kwDOABII586uFfya",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2920676506",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-29T21:56:47Z",
      "updated_at": "2025-05-29T21:56:47Z",
      "author_association": "MEMBER",
      "body": "`PopulateWalletFromDB` inside of `CreateNew` should no longer be necessary.\r\n\r\nIt'd be nice if the load or create intention could be propagated down to the DB level as well. In `SQLiteDatabase::Open`, we pass the flags `SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE` which does both load and create. I think ideally it would be just `SQLITE_OPEN_READWRITE` for loading, and `SQLITE_OPEN_CREATE` for creating to further enforce that we expect a file to already exist for loading, and for no files to exist when creating. Similarly, we could avoid calling `TryCreateDirectories` when loading.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2920676506",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "labeled",
      "id": 17990518732,
      "node_id": "LE_lADOABII5864tMDzzwAAAAQwUYfM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17990518732",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T22:57:39Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 2950796348,
      "node_id": "IC_kwDOABII586v4ZQ8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2950796348",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-06T21:05:51Z",
      "updated_at": "2025-06-06T21:05:51Z",
      "author_association": "MEMBER",
      "body": "Any reason not to just pass a parameter to CWallet::Create, just to fix the bug in the simplest manner? Refactoring should ideally be separate from fixing.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2950796348",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "commented",
      "id": 2950807203,
      "node_id": "IC_kwDOABII586v4b6j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2950807203",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-06T21:11:27Z",
      "updated_at": "2025-06-06T21:11:27Z",
      "author_association": "MEMBER",
      "body": "> Any reason not to just pass a parameter to CWallet::Create, just to fix the bug in the simplest manner? Refactoring should ideally be separate from fixing.\r\n\r\nBecause doing the bare minimum to fix a bug that is unreachable in production is how we end up with technical debt.\r\n\r\nIMO, this PR is primarily a refactor to split these 2 actions that should not be combined. The fact that it fixes those bugs, which are a result of the combining, is a bonus.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2950807203",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "reviewed",
      "id": 2928917813,
      "node_id": "PRR_kwDOABII586uk701",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-06-15T00:48:03Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nThe current state of this code in `master` adds [confusion](https://github.com/bitcoin/bitcoin/pull/32481#discussion_r2147385870) to flows like the legacy to descriptor wallet migration that's why I think it's an important work to be done.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2928917813",
      "submitted_at": "2025-06-15T00:47:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "reviewed",
      "id": 2932150392,
      "node_id": "PRR_kwDOABII586uxRB4",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-06-16T14:40:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK 0f82224d3937db3f60cfaec249ac5fe3264dc3d5\r\nI want to share my initial thoughts before I invest more time reviewing this.\r\n\r\n---------\r\nI am in favour of such a refactor because from a reviewing POV I lose mental cycles every time I end up going through `CWallet:Create` function that requires me to keep a mental context of whether this function was called from the creation flow or the load flow. Also, I feel this is a good time to get this done now that legacy wallets are no longer there.\r\n\r\nHowever, I am slightly less inclined to review this PR in its current format because there are a few moving pieces here, and I'm afraid reviewing it thoroughly might be more time consuming and would induce less confidence in me finally a-c-king it. \r\n\r\nMoreover, I feel the benefits of such a refactor would be more highlighted and appreciated if this can be broken down into smaller PRs in addition to ensuring data-correctness. Couple reasons I'm suggesting a breakdown are:\r\n1. I would like to give more attention to each of the commits by trying to understand their consequences on the wallet as a whole.\r\n2. I don't suppose all the commits are required to be present sequentially in a single PR based on my initial look, please feel free to correct me if I'm mistaken about their ability to be present in parallel.\r\n\r\n<details open>\r\n<summary>PR breakdown suggestion</summary>\r\n\r\nThe first 3 can be done in parallel & the last one might be dependent on the previous ones:\r\n\r\n1. The `PopulateWalletFromDB` related changes can be 1 PR - the first 2 commits.\r\n3. The `fBroadcastTransactions` change is independent, can be clubbed with the birth-time-update-removal optimisation - 3rd, 6th commits.\r\n4. The argument parsing changes also seem independent to me and can be another PR - 4th, 5th commits.\r\n5. No strong opinion on the wallet stats logging commit, can go anywhere.\r\n6. The last 5 commits can be 1 PR that introduces and uses the `LoadExisting` & `CreateNew` functions.\r\n</details>\r\n\r\n\r\nAlso, I believe [this is a good suggestion](https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2920676506) that might give dividends in the future and breaking down into smaller PRs might make it easy to incorporate it.\r\n\r\nHaving suggested all this, if you think the reward for breaking down the PR is not enough because the smaller refactoring PRs might not attract reviewers or might add rebase churn, I would still review this PR later but some kind of breakdown would aid review if not the one that I suggested.\r\n\r\nSorry if this got too long.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2932150392",
      "submitted_at": "2025-06-16T14:38:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "reviewed",
      "id": 3049387603,
      "node_id": "PRR_kwDOABII5861wfZT",
      "url": null,
      "actor": null,
      "commit_id": "f26bf5fd24ffed501dfdb3528c56cfaee0203a72",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-23T23:05:54Z",
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3049387603",
      "submitted_at": "2025-07-23T23:05:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "reviewed",
      "id": 3053393595,
      "node_id": "PRR_kwDOABII5861_xa7",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-24T21:26:02Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3053393595",
      "submitted_at": "2025-07-24T21:26:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "labeled",
      "id": 18822335177,
      "node_id": "LE_lADOABII5864tMDzzwAAAARh5grJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18822335177",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-25T21:53:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3080566499,
      "node_id": "PRR_kwDOABII5863nbbj",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-01T21:06:45Z",
      "author_association": "MEMBER",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3080566499",
      "submitted_at": "2025-08-01T21:06:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "reviewed",
      "id": 3080568575,
      "node_id": "PRR_kwDOABII5863nb7_",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-01T21:07:49Z",
      "author_association": "MEMBER",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3080568575",
      "submitted_at": "2025-08-01T21:07:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "commented",
      "id": 3145863988,
      "node_id": "IC_kwDOABII5867ghM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3145863988",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T21:54:32Z",
      "updated_at": "2025-08-01T21:54:32Z",
      "author_association": "MEMBER",
      "body": "Shouldn't `src/wallet/walletdb.cpp` be part of this PR? `DBErrors WalletBatch::LoadWallet(CWallet* pwallet)` is being called during wallet creation I think. If so, please also consider the **note** at #33082's description.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-3145863988",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19297949421,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAAR-P1bt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19297949421",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "349c9bce5fccb4a7b1b99565a8fe64040e3e16d6",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/349c9bce5fccb4a7b1b99565a8fe64040e3e16d6",
      "created_at": "2025-08-23T02:07:27Z"
    },
    {
      "event": "unlabeled",
      "id": 19298341005,
      "node_id": "UNLE_lADOABII5864tMDzzwAAAAR-RVCN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19298341005",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T03:02:11Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19298987380,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAAR-Ty10",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19298987380",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "353cfdde95fe82e6821ac5901c90c6254ff3e1f3",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/353cfdde95fe82e6821ac5901c90c6254ff3e1f3",
      "created_at": "2025-08-23T05:09:18Z"
    },
    {
      "event": "labeled",
      "id": 19299422080,
      "node_id": "LE_lADOABII5864tMDzzwAAAAR-Vc-A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19299422080",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T05:46:27Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3216321172,
      "node_id": "IC_kwDOABII586_tSqU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3216321172",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T05:46:29Z",
      "updated_at": "2025-08-23T05:46:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/48721895167</sub>\n<sub>LLM reason (✨ experimental): The CI failure is caused by a linting error detected by `ruff` due to an unused import in the test file, preventing successful completion of the lint check.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-3216321172",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "referenced",
      "id": 19299634962,
      "node_id": "REFE_lADOABII5864tMDzzwAAAAR-WQ8S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19299634962",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c3e500127cccfc24fc0b6654f28707e92adfc9fa",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/c3e500127cccfc24fc0b6654f28707e92adfc9fa",
      "created_at": "2025-08-23T06:01:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19299634976,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAAR-WQ8g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19299634976",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "05cbadfb7d3383c00ad5449c93ad8a4e479e1039",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/05cbadfb7d3383c00ad5449c93ad8a4e479e1039",
      "created_at": "2025-08-23T06:01:47Z"
    },
    {
      "event": "referenced",
      "id": 19299669819,
      "node_id": "REFE_lADOABII5864tMDzzwAAAAR-WZc7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19299669819",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2826ccd38a56ef6f6a6dde0830c5e0ad3bd40ebb",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/2826ccd38a56ef6f6a6dde0830c5e0ad3bd40ebb",
      "created_at": "2025-08-23T06:05:09Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19299669855,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAAR-WZdf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19299669855",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4ff5310d7f938b425076cc2115874a84ccde019d",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/4ff5310d7f938b425076cc2115874a84ccde019d",
      "created_at": "2025-08-23T06:05:09Z"
    },
    {
      "event": "referenced",
      "id": 19299700985,
      "node_id": "REFE_lADOABII5864tMDzzwAAAAR-WhD5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19299700985",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "84541793dafffde284f1fa0241c10d5dc646ca66",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/84541793dafffde284f1fa0241c10d5dc646ca66",
      "created_at": "2025-08-23T06:08:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19299701004,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAAR-WhEM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19299701004",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5c33e058ee192f992fe99f43de845bbcfb2ac4c2",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/5c33e058ee192f992fe99f43de845bbcfb2ac4c2",
      "created_at": "2025-08-23T06:08:02Z"
    },
    {
      "event": "referenced",
      "id": 19300010872,
      "node_id": "REFE_lADOABII5864tMDzzwAAAAR-Xst4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300010872",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9de86da65e3dffb8e9c3dbd9771258f0924db798",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/9de86da65e3dffb8e9c3dbd9771258f0924db798",
      "created_at": "2025-08-23T06:31:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19300010973,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAAR-Xsvd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300010973",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a374f51d9f7f08297781cccadd0b0c0108a5dcf5",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/a374f51d9f7f08297781cccadd0b0c0108a5dcf5",
      "created_at": "2025-08-23T06:31:11Z"
    },
    {
      "event": "commented",
      "id": 3216443821,
      "node_id": "IC_kwDOABII586_twmt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3216443821",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T06:42:28Z",
      "updated_at": "2025-08-23T06:46:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "@achow101 \r\n> `PopulateWalletFromDB` inside of `CreateNew` should no longer be necessary.\r\n\r\n@pablomartin4btc \r\n> DBErrors WalletBatch::LoadWallet(CWallet* pwallet) is being called during wallet creation I think.\r\n\r\nThanks for catching this, fixed in https://github.com/bitcoin/bitcoin/pull/32636/commits/acc0d3b7d4e8b26e1dc5832497b2b47047b6a453\r\n\r\n> It'd be nice if the load or create intention could be propagated down to the DB level as well. In `SQLiteDatabase::Open`, we pass the flags `SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE` which does both load and create. I think ideally it would be just `SQLITE_OPEN_READWRITE` for loading, and `SQLITE_OPEN_CREATE` for creating to further enforce that we expect a file to already exist for loading, and for no files to exist when creating. Similarly, we could avoid calling `TryCreateDirectories` when loading.\r\n\r\nAgreed, I think it might be better to fix this in a follow-up as this PR is already quite large.\r\n\r\n----\r\n\r\n@rkrux \r\n\r\n> I feel the benefits of such a refactor would be more highlighted and appreciated if this can be broken down into smaller PRs\r\n\r\nThanks for the suggestion, despite the large number of commits in this PR, I've tried my best to make each one atomic and readable. I would prefer to not split into multiple PR's since most of the commits here are refactors that are setting-up for splitting wallet creation and loading, the first PR(s) in the series would have very little motivation, but if you insist I am open to splitting it up. Is there a particular commit or group of commits that are difficult to review?",
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-3216443821",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "mentioned",
      "id": 19300179277,
      "node_id": "MEE_lADOABII5864tMDzzwAAAAR-YV1N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300179277",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T06:42:29Z"
    },
    {
      "event": "subscribed",
      "id": 19300179398,
      "node_id": "SE_lADOABII5864tMDzzwAAAAR-YV3G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300179398",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T06:42:29Z"
    },
    {
      "event": "mentioned",
      "id": 19300179500,
      "node_id": "MEE_lADOABII5864tMDzzwAAAAR-YV4s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300179500",
      "actor": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T06:42:29Z"
    },
    {
      "event": "subscribed",
      "id": 19300179575,
      "node_id": "SE_lADOABII5864tMDzzwAAAAR-YV53",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300179575",
      "actor": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T06:42:29Z"
    },
    {
      "event": "mentioned",
      "id": 19300179696,
      "node_id": "MEE_lADOABII5864tMDzzwAAAAR-YV7w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300179696",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T06:42:29Z"
    },
    {
      "event": "subscribed",
      "id": 19300179780,
      "node_id": "SE_lADOABII5864tMDzzwAAAAR-YV9E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300179780",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T06:42:30Z"
    },
    {
      "event": "unlabeled",
      "id": 19300788005,
      "node_id": "UNLE_lADOABII5864tMDzzwAAAAR-aqcl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19300788005",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-23T07:45:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3219290236,
      "node_id": "IC_kwDOABII586_4nh8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3219290236",
      "actor": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-25T08:19:14Z",
      "updated_at": "2025-08-25T08:19:14Z",
      "author_association": "CONTRIBUTOR",
      "body": ">  I would prefer to not split into multiple PR's since most of the commits here are refactors that are setting-up for splitting wallet creation and loading, the first PR(s) in the series would have very little motivation, but if you insist I am open to splitting it up.\r\n\r\nNo insistence at the moment, I will do a full review of the PR soon.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-3219290236",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "reviewed",
      "id": 3162067831,
      "node_id": "PRR_kwDOABII5868eVN3",
      "url": null,
      "actor": null,
      "commit_id": "a374f51d9f7f08297781cccadd0b0c0108a5dcf5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-27T23:13:00Z",
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3162067831",
      "submitted_at": "2025-08-27T23:13:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "referenced",
      "id": 19379832303,
      "node_id": "REFE_lADOABII5864tMDzzwAAAASDIMXv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19379832303",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1eb926d35a7177b9637312b062c13161b46277e3",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/1eb926d35a7177b9637312b062c13161b46277e3",
      "created_at": "2025-08-28T00:18:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19379832428,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAASDIMZs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19379832428",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7b5fcb7be5ebb004751da422b3197cec30e3af6f",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/7b5fcb7be5ebb004751da422b3197cec30e3af6f",
      "created_at": "2025-08-28T00:18:20Z"
    },
    {
      "event": "labeled",
      "id": 19380111799,
      "node_id": "LE_lADOABII5864tMDzzwAAAASDJQm3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19380111799",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-28T00:41:46Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3230523895,
      "node_id": "IC_kwDOABII587AjeH3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3230523895",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-28T00:41:49Z",
      "updated_at": "2025-08-28T00:41:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `TSan, depends, no gui`: https://github.com/bitcoin/bitcoin/runs/49052123167</sub>\n<sub>LLM reason (✨ experimental): Compilation failed in wallet tests: LoadExisting is called with six arguments, but its declaration only takes five.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-3230523895",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "referenced",
      "id": 19382046410,
      "node_id": "REFE_lADOABII5864tMDzzwAAAASDQo7K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19382046410",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8022e04ccfd7a521376525826d700461a6f29c09",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/8022e04ccfd7a521376525826d700461a6f29c09",
      "created_at": "2025-08-28T03:42:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19382046452,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAASDQo70",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19382046452",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/a6b43fa17356d5cc114e39f396008eb6b480660a",
      "created_at": "2025-08-28T03:42:37Z"
    },
    {
      "event": "unlabeled",
      "id": 19382619404,
      "node_id": "UNLE_lADOABII5864tMDzzwAAAASDS00M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19382619404",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-28T04:40:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 19599356596,
      "node_id": "REFE_lADOABII5864tMDzzwAAAASQNnK0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19599356596",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "591eea7b5ac5ba011d58713b58f98747a10af852",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/591eea7b5ac5ba011d58713b58f98747a10af852",
      "created_at": "2025-09-09T21:37:07Z"
    },
    {
      "event": "labeled",
      "id": 19600946542,
      "node_id": "LE_lADOABII5864tMDzzwAAAASQTrVu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19600946542",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-09T23:48:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3235533295,
      "node_id": "PRR_kwDOABII587A2lHv",
      "url": null,
      "actor": null,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-09-17T18:08:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, overall the refactor is a good attempt, and would modularize the code better. Here are review comments on a commit by commit basis. The commits are self contained and atomic, which I commend, makes review very efficient.\r\n\r\nf92031e3b0: Good rename from LoadWallet() to PopulateWalletFromDB() with proper scripted-diff.\r\n8b6a8a04f9: Good separation of error handling logic into PopulateWalletFromDB() with overloaded method for detailed error reporting.\r\nf6c4454b87: Good conversion from if-else to switch statement, adds missing LOAD_FAIL case.\r\n3a29186688: Minor optimization moving -walletbroadcast init outside locked section.\r\nd9a3af962a: Excellent extraction of argument parsing into LoadWalletArgs() method.\r\n347834e41b: Necessary fix moving LoadWalletArgs() before PopulateWalletFromDB() for proper init order.\r\n39503c4667: Good cleanup removing redundant birth time update logic.\r\ncf59f05485: Solid extraction of stats logging into LogStats() method.\r\n29c624ad9e: Well-executed separation creating LoadExisting() method.\r\n7f7dc32765: Completes refactoring by updating callers to use LoadExisting().\r\ndd720fe5bd: Properly updates test infrastructure with separate create/load functions.\r\n62e0721cae: Good extraction of version writing into WriteVersion() method for reusability. \r\n8ef5c41445: Successfully removes loading logic from Create(), now creation-only.\r\n8022e04ccf: Fixes bug where encrypted wallets showed incorrect keypool size.\r\na6b43fa173: Good final rename from Create() to CreateNew() for clarity.\r\n\r\nMade a few minor observations that might need attention:",
      "user": {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3235533295",
      "submitted_at": "2025-09-17T18:08:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc5YWRmMjE2MzEzOGNkMWUzMDYzNzkwNDI0Mzk0NWYxOTFkYzcyMWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/79adf2163138cd1e30637904243945f191dc721d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/79adf2163138cd1e30637904243945f191dc721d",
      "tree": {
        "sha": "e985392d7cc7d5940624f46231a3788b48a54a05",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e985392d7cc7d5940624f46231a3788b48a54a05"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/acc7f2a433b131597124ba0fbbe9952c4d36a872",
          "sha": "acc7f2a433b131597124ba0fbbe9952c4d36a872",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/acc7f2a433b131597124ba0fbbe9952c4d36a872"
        }
      ],
      "message": "scripted-diff: refactor: rename CWallet::LoadWallet\n\nThere are too many functions in CWallet with names like \"Load\" and\n\"Create\", disambiguate what CWallet::LoadWallet does by renaming it to\nPopulateWalletFromDB.\n\n-BEGIN VERIFY SCRIPT-\nsed -i 's|\\bLoadWallet()|PopulateWalletFromDB()|g' $(git grep -l 'LoadWallet()' -- ':(exclude)src/wallet/walletdb.cpp')\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:43Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-23T00:38:18Z"
      },
      "sha": "79adf2163138cd1e30637904243945f191dc721d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhjZjM4M2Q2YzgzOGU2M2I2YzI0MDNjM2Q1MWQ0ZGZkZGE3ODc0MjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8cf383d6c838e63b6c2403c3d51d4dfdda787421",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8cf383d6c838e63b6c2403c3d51d4dfdda787421",
      "tree": {
        "sha": "77e697b8375ac2e9c9dd0e455444670f6cc3b6ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/77e697b8375ac2e9c9dd0e455444670f6cc3b6ce"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/79adf2163138cd1e30637904243945f191dc721d",
          "sha": "79adf2163138cd1e30637904243945f191dc721d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/79adf2163138cd1e30637904243945f191dc721d"
        }
      ],
      "message": "refactor: wallet: move error handling to PopulateWalletFromDB()",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-23T02:40:20Z"
      },
      "sha": "8cf383d6c838e63b6c2403c3d51d4dfdda787421"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI1NTFiZDYxMmE1M2ExN2FkYWVlNmE3Y2JmZGE3MjUzZjZjNTdmY2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2551bd612a53a17adaee6a7cbfda7253f6c57fce",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2551bd612a53a17adaee6a7cbfda7253f6c57fce",
      "tree": {
        "sha": "6d42cc021238f36f294bfd17c05a4954eaf4c383",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6d42cc021238f36f294bfd17c05a4954eaf4c383"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8cf383d6c838e63b6c2403c3d51d4dfdda787421",
          "sha": "8cf383d6c838e63b6c2403c3d51d4dfdda787421",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8cf383d6c838e63b6c2403c3d51d4dfdda787421"
        }
      ],
      "message": "wallet: refactor: PopulateWalletFromDB use switch statement.\n\nCo-authored-by: @w0xlt <w0xlt@users.noreply.github.com>",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-08-23T01:58:54Z"
      },
      "sha": "2551bd612a53a17adaee6a7cbfda7253f6c57fce"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMwNDhhN2EzNzUzZDhjODAxYTcyZmQzNWI1NDllMDQ5NzRiY2QxZDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c048a7a3753d8c801a72fd35b549e04974bcd1d2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c048a7a3753d8c801a72fd35b549e04974bcd1d2",
      "tree": {
        "sha": "23a06cde00aaabfd9364f99f55825b313090ce6e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/23a06cde00aaabfd9364f99f55825b313090ce6e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2551bd612a53a17adaee6a7cbfda7253f6c57fce",
          "sha": "2551bd612a53a17adaee6a7cbfda7253f6c57fce",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2551bd612a53a17adaee6a7cbfda7253f6c57fce"
        }
      ],
      "message": "refactor: Move -walletbroadcast setting init\n\nModifying `fBroadcastTransactions` does not require any locks,\ninitialization of this wallet parameter can be relocated with all of the\nother argument parsing in this function.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T22:20:55Z"
      },
      "sha": "c048a7a3753d8c801a72fd35b549e04974bcd1d2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMwY2IxYTI2ZTkxOTA5ZWViMTdjYzg3ZjYxZTkxMzM0YjI3YTE2YWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/30cb1a26e91909eeb17cc87f61e91334b27a16af",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/30cb1a26e91909eeb17cc87f61e91334b27a16af",
      "tree": {
        "sha": "7a3b81310d4cfca9530ea6c70a10391074267f86",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7a3b81310d4cfca9530ea6c70a10391074267f86"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c048a7a3753d8c801a72fd35b549e04974bcd1d2",
          "sha": "c048a7a3753d8c801a72fd35b549e04974bcd1d2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c048a7a3753d8c801a72fd35b549e04974bcd1d2"
        }
      ],
      "message": "refactor: Split out wallet argument loading\n\nThis section is necessarily repetitive, makes CWallet::Create() easier\nto read, and splits out functionality that will be useful when wallet\ncreation and loading are separated.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-23T01:49:00Z"
      },
      "sha": "30cb1a26e91909eeb17cc87f61e91334b27a16af"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlhZTM0YjM2YTQ1MWM0MTMxNDBjOTAzMWMxMmJkODU1Y2IxM2E1NDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9ae34b36a451c413140c9031c12bd855cb13a547",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9ae34b36a451c413140c9031c12bd855cb13a547",
      "tree": {
        "sha": "0fc4dda17309d21d874b68051a58a038200ed03c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0fc4dda17309d21d874b68051a58a038200ed03c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/30cb1a26e91909eeb17cc87f61e91334b27a16af",
          "sha": "30cb1a26e91909eeb17cc87f61e91334b27a16af",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/30cb1a26e91909eeb17cc87f61e91334b27a16af"
        }
      ],
      "message": "wallet: Move argument parsing to before DB load\n\n`m_keypool_size` must be set before `CWallet::PopulateWalletFromDB()`,\nin order to move parsing of `-keypool` into `CWallet::LoadWalletArgs`,\n`LoadWalletArgs()` invocation in `CWallet::Create()` must be moved\nbefore `PopulateWalletFromDB()` is called.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T22:32:22Z"
      },
      "sha": "9ae34b36a451c413140c9031c12bd855cb13a547"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJiNDQ1MjNiYmQ0MDA0NjE5ODJkMTI3OTNlN2JlZjlkMDQ0NTBjYWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2b44523bbd400461982d12793e7bef9d04450cad",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2b44523bbd400461982d12793e7bef9d04450cad",
      "tree": {
        "sha": "d22a31102389a99cae62093ebba60b416c23768c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d22a31102389a99cae62093ebba60b416c23768c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9ae34b36a451c413140c9031c12bd855cb13a547",
          "sha": "9ae34b36a451c413140c9031c12bd855cb13a547",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9ae34b36a451c413140c9031c12bd855cb13a547"
        }
      ],
      "message": "wallet: Remove redundant birth time update\n\nChecking every SPKM in `CWallet::Create()` is not necessary, since the\nonly way presently for an SPKM to get added to `m_spk_managers` (the\nreturn value of `GetAllScriptPubKeyMans()`) is through\n`AddScriptPubKeyMan()`, which already invokes `MaybeUpdateBirthTime()`.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T23:07:42Z"
      },
      "sha": "2b44523bbd400461982d12793e7bef9d04450cad"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMxZTM2NDQ3Y2ViM2M4Zjg5OWRjYzAxMjMxZmIxNGRkYTAyMTQzODk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/31e36447ceb3c8f899dcc01231fb14dda0214389",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/31e36447ceb3c8f899dcc01231fb14dda0214389",
      "tree": {
        "sha": "8bdebeb2f2d86ce843b0001db274bbbd2114c9a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8bdebeb2f2d86ce843b0001db274bbbd2114c9a6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2b44523bbd400461982d12793e7bef9d04450cad",
          "sha": "2b44523bbd400461982d12793e7bef9d04450cad",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2b44523bbd400461982d12793e7bef9d04450cad"
        }
      ],
      "message": "refactor: Wallet stats logging in its own function\n\nThis will avoid repetition when wallet creation and loading are\nseparated.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T23:46:00Z"
      },
      "sha": "31e36447ceb3c8f899dcc01231fb14dda0214389"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk0ZGNkMTBjNjYwOTUxOTY4ZWQyMzUyMjExNGEwMTUzMjljMzVhOTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94dcd10c660951968ed23522114a015329c35a92",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/94dcd10c660951968ed23522114a015329c35a92",
      "tree": {
        "sha": "809d1e72acdfd77c8e283eaaadcc6d3e0c7856f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/809d1e72acdfd77c8e283eaaadcc6d3e0c7856f0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/31e36447ceb3c8f899dcc01231fb14dda0214389",
          "sha": "31e36447ceb3c8f899dcc01231fb14dda0214389",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/31e36447ceb3c8f899dcc01231fb14dda0214389"
        }
      ],
      "message": "wallet: Create separate function for wallet load\n\nSplits out logic relevant only to existing wallets in\n`CWallet::Create()` into `CWallet::LoadExisting()`",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T00:32:51Z"
      },
      "sha": "94dcd10c660951968ed23522114a015329c35a92"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkYTZhZjc3MmFiZDM4NzU0YzFlYmI4NDZmY2EyYThiYTljOTkwN2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6da6af772abd38754c1ebb846fca2a8ba9c9907a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6da6af772abd38754c1ebb846fca2a8ba9c9907a",
      "tree": {
        "sha": "a540f305a2d624a848500ae70da7cd7a8e5743b1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a540f305a2d624a848500ae70da7cd7a8e5743b1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94dcd10c660951968ed23522114a015329c35a92",
          "sha": "94dcd10c660951968ed23522114a015329c35a92",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/94dcd10c660951968ed23522114a015329c35a92"
        }
      ],
      "message": "wallet: Use CWallet::LoadExisting() for loading existing wallets.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T19:02:45Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T01:18:50Z"
      },
      "sha": "6da6af772abd38754c1ebb846fca2a8ba9c9907a"
    },
    {
      "event": "commented",
      "id": 3357753607,
      "node_id": "IC_kwDOABII587II0EH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3357753607",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-01T19:05:49Z",
      "updated_at": "2025-10-01T19:05:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased to address a small merge conflict, since some instances of `LoadWallet()` (renamed PopulateWalletFromDB in this branch) were removed in #33082.",
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-3357753607",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "referenced",
      "id": 20041791547,
      "node_id": "REFE_lADOABII5864tMDzzwAAAASqlXg7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20041791547",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4622c7a439a80bd626a2c722fb73db1245a475c5",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/4622c7a439a80bd626a2c722fb73db1245a475c5",
      "created_at": "2025-10-01T19:06:23Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20041792104,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAASqlXpo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20041792104",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "371b43bd2cc4d0c2b2423d64bd48aa2fe16d61b1",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/371b43bd2cc4d0c2b2423d64bd48aa2fe16d61b1",
      "created_at": "2025-10-01T19:06:24Z"
    },
    {
      "event": "unlabeled",
      "id": 20042063788,
      "node_id": "UNLE_lADOABII5864tMDzzwAAAASqmZ-s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20042063788",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-01T19:18:22Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVkMWJjOTgwMGNlODljOTlhNzdiZGY1MzU0YmZkYTE1YTFkODQwMTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed1bc9800ce89c99a77bdf5354bfda15a1d84016",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ed1bc9800ce89c99a77bdf5354bfda15a1d84016",
      "tree": {
        "sha": "82e71d98c19f84b30e01189c9a7f32307e9ea838",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82e71d98c19f84b30e01189c9a7f32307e9ea838"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6da6af772abd38754c1ebb846fca2a8ba9c9907a",
          "sha": "6da6af772abd38754c1ebb846fca2a8ba9c9907a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6da6af772abd38754c1ebb846fca2a8ba9c9907a"
        }
      ],
      "message": "test: wallet: Split create and load",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T23:15:25Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T02:05:54Z"
      },
      "sha": "ed1bc9800ce89c99a77bdf5354bfda15a1d84016"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgzNWRlMjQ5MGVkOTI1ZGE4ZGY3NzgxNWU4ZTFhNjQ1N2JmMWRjMWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/835de2490ed925da8df77815e8e1a6457bf1dc1e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/835de2490ed925da8df77815e8e1a6457bf1dc1e",
      "tree": {
        "sha": "cb7a2d58131e73375ee342e934e037d425a52f1d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cb7a2d58131e73375ee342e934e037d425a52f1d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed1bc9800ce89c99a77bdf5354bfda15a1d84016",
          "sha": "ed1bc9800ce89c99a77bdf5354bfda15a1d84016",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ed1bc9800ce89c99a77bdf5354bfda15a1d84016"
        }
      ],
      "message": "refactor: wallet: Add `WriteVersion()`\n\nWriting the wallet version needs to be done on wallet creation, but\nWalletBatch::LoadWallet() does not, so factor this functionality out.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T23:15:25Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-08-23T04:34:46Z"
      },
      "sha": "835de2490ed925da8df77815e8e1a6457bf1dc1e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdkYjljZmY0YWQ1MjA0OGYwN2E4YzY3NjYzODJjYjEwMDBmNWE5YjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7db9cff4ad52048f07a8c6766382cb1000f5a9b4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7db9cff4ad52048f07a8c6766382cb1000f5a9b4",
      "tree": {
        "sha": "8a7e1da4aa5d07ac76e28bc12e8f9983ce5b568c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8a7e1da4aa5d07ac76e28bc12e8f9983ce5b568c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/835de2490ed925da8df77815e8e1a6457bf1dc1e",
          "sha": "835de2490ed925da8df77815e8e1a6457bf1dc1e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/835de2490ed925da8df77815e8e1a6457bf1dc1e"
        }
      ],
      "message": "wallet: remove loading logic from CWallet::Create",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T23:15:25Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-08-23T06:22:48Z"
      },
      "sha": "7db9cff4ad52048f07a8c6766382cb1000f5a9b4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM4ODBhNTAyMjMyOTY0OGUwNmRmYTMyNmY0NTVkNDQxODBjYWVjZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c880a5022329648e06dfa326f455d44180caeceb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c880a5022329648e06dfa326f455d44180caeceb",
      "tree": {
        "sha": "09e484da7fed41dffa6f09e5b054a54deaf17254",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/09e484da7fed41dffa6f09e5b054a54deaf17254"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7db9cff4ad52048f07a8c6766382cb1000f5a9b4",
          "sha": "7db9cff4ad52048f07a8c6766382cb1000f5a9b4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7db9cff4ad52048f07a8c6766382cb1000f5a9b4"
        }
      ],
      "message": "wallet: Correctly log stats for encrypted messages.\n\nPreviously creating an encrypted wallet would result in the keypool size\nincorrectly being reported as 0.\n\nSee: https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2150021064",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T23:15:25Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-08-23T06:22:58Z"
      },
      "sha": "c880a5022329648e06dfa326f455d44180caeceb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIyOWQyMmEzZDgzOTU4NjVhMGE3OWRhZjE2ZDQ0YjRlYjk4ZjU3MWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "tree": {
        "sha": "3209a4331fd1dd2bc6b54e5e1b11a142955fac69",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3209a4331fd1dd2bc6b54e5e1b11a142955fac69"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c880a5022329648e06dfa326f455d44180caeceb",
          "sha": "c880a5022329648e06dfa326f455d44180caeceb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c880a5022329648e06dfa326f455d44180caeceb"
        }
      ],
      "message": "scripted-diff: refactor: CWallet::Create() -> CreateNew()\n\nAside from being more legible, changing the name of `CWallet::Create()`\nalso validates that every instance where a new wallet is `Create()`'ed\nis handled in this branch.\n\n-BEGIN VERIFY SCRIPT-\nsed -i 's|\\bCreate(|CreateNew(|g' src/wallet/wallet.cpp  src/wallet/wallet.h  src/wallet/test/util.cpp src/wallet/test/wallet_tests.cpp\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-10-01T23:15:25Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T23:23:35Z"
      },
      "sha": "b29d22a3d8395865a0a79daf16d44b4eb98f571e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20046225962,
      "node_id": "HRFPE_lADOABII5864tMDzzwAAAASq2SIq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20046225962",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "created_at": "2025-10-01T23:15:32Z"
    },
    {
      "event": "referenced",
      "id": 20048129949,
      "node_id": "REFE_lADOABII5864tMDzzwAAAASq9i-d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20048129949",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "161a553b682604889dacb91e543a99fa4f37ef9a",
      "commit_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits/161a553b682604889dacb91e543a99fa4f37ef9a",
      "created_at": "2025-10-02T02:23:09Z"
    },
    {
      "event": "reviewed",
      "id": 3369787513,
      "node_id": "PRR_kwDOABII587I2uB5",
      "url": null,
      "actor": null,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-23T13:58:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review b29d22a3d8395865a0a79daf16d44b4eb98f571e\r\n\r\nLooks pretty neat to me, the refactor clearly differentiates between the wallet creation & load, and makes it easy to navigate this areas of the codebase. The usage of `PopulateWalletFromDB` function in `LoadExisting` and not in `CreateNew` is also helpful in maintaining the reading flow.\r\n+1 on also fixing the encrypted wallet logging bug.\r\n\r\nI believe this refactor is worth checking in the master branch.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3369787513",
      "submitted_at": "2025-10-23T13:58:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150021064",
      "pull_request_review_id": 2932150392,
      "id": 2150021064,
      "node_id": "PRRC_kwDOABII586AJrfI",
      "diff_hunk": "@@ -3081,12 +3081,7 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n         return nullptr;\n     }\n \n-    {\n-        LOCK(walletInstance->cs_wallet);\n-        walletInstance->WalletLogPrintf(\"setKeyPool.size() = %u\\n\",      walletInstance->GetKeyPoolSize());\n-        walletInstance->WalletLogPrintf(\"mapWallet.size() = %u\\n\",       walletInstance->mapWallet.size());\n-        walletInstance->WalletLogPrintf(\"m_address_book.size() = %u\\n\",  walletInstance->m_address_book.size());\n-    }\n+    WITH_LOCK(walletInstance->cs_wallet, walletInstance->LogStats());",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 10,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "744ebdc18556223b8749a7fed420c9ae95be418e",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 744ebdc18556223b8749a7fed420c9ae95be418e:\r\n\r\nSometime back I noted that during the creation of encrypted wallets, the wallet metrics are not correctly logged after the SPKMs have been created. This is unlike the creation of non-encrypted wallets where the correct metrics are logged because they are done so after the setup of SPKMS. PFB a sample from my node.\r\n\r\n```bash\r\n^[[C=2025-05-27T15:19:21Z Using SQLite Version 3.43.2\r\n2025-05-27T15:19:21Z Using wallet /Users/rkrux/Library/ApplicationSupport/Bitcoin/regtest/wallets/encryptedtest\r\n2025-05-27T15:19:21Z init message: Loading wallet…\r\n2025-05-27T15:19:21Z [encryptedtest] Legacy Wallet Keys: 0 plaintext, 0 encrypted, 0 w/ metadata, 0 total.\r\n2025-05-27T15:19:21Z [encryptedtest] Descriptors: 0, Descriptor Keys: 0 plaintext, 0 encrypted, 0 total.\r\n2025-05-27T15:19:21Z [encryptedtest] Setting minversion to 169900\r\n2025-05-27T15:19:21Z [encryptedtest] Wallet completed loading in              12ms\r\n2025-05-27T15:19:21Z [encryptedtest] setKeyPool.size() = 0\r\n2025-05-27T15:19:21Z [encryptedtest] mapWallet.size() = 0\r\n2025-05-27T15:19:21Z [encryptedtest] m_address_book.size() = 0\r\n2025-05-27T15:19:22Z [encryptedtest] Encrypting Wallet with an nDeriveIterations of 251048\r\n2025-05-27T15:19:22Z [encryptedtest] Setting spkMan to active: id = a8af620b202a2542a6b4575578133499397089fa67110b27dffced31b3e6ccbd, type = legacy, internal = false\r\n2025-05-27T15:19:22Z [encryptedtest] Setting spkMan to active: id = b389c6313cd85b907990fd2c57a87db230fa0dad1c94c929dd0e010e036d802e, type = p2sh-segwit, internal = false\r\n2025-05-27T15:19:22Z [encryptedtest] Setting spkMan to active: id = 727d3e57942f107c713932ccf8aec8f6968ee76b98f8787802afc62cbaa13d38, type = bech32, internal = false\r\n```\r\n\r\nI was not sure if a PR just for this would garner review but now that the code touching these metrics is being updated anyway, might as well fix this issue. I have not checked if this PR already fixes it, great if it does!",
      "created_at": "2025-06-16T13:31:53Z",
      "updated_at": "2025-06-16T14:38:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2150021064",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150021064"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": 3091,
      "original_start_line": 3084,
      "start_side": "LEFT",
      "line": 3127,
      "original_line": 3127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150072960",
      "pull_request_review_id": 2932150392,
      "id": 2150072960,
      "node_id": "PRRC_kwDOABII586AJ4KA",
      "diff_hunk": "@@ -3021,11 +3021,6 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n         return nullptr;\n     }\n \n-    // This wallet is in its first run if there are no ScriptPubKeyMans and it isn't blank or no privkeys\n-    const bool fFirstRun = walletInstance->m_spk_managers.empty() &&\n-                     !walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) &&\n-                     !walletInstance->IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET);",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 7,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "d5d55b3554ddce4a476ea849b81aaa433fe5008c",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> The real win of this PR is that CWallet::Create() uses a very bad heuristic for trying to guess whether or not it is supposed to be creating a new wallet or loading an existing wallet\r\n\r\nAgree that this is not a good heuristic but the PR description doesn't seem to explain or summarise why it's a bad heuristic. Maybe add few points from the findings of the linked issues? ",
      "created_at": "2025-06-16T13:54:12Z",
      "updated_at": "2025-06-16T14:38:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2150072960",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150072960"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3024,
      "start_side": "LEFT",
      "line": null,
      "original_line": 3027,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2226917021",
      "pull_request_review_id": 3049387603,
      "id": 2226917021,
      "node_id": "PRRC_kwDOABII586EvA6d",
      "diff_hunk": "@@ -77,7 +77,7 @@ void TestAddAddressesToSendBook(interfaces::Node& node)\n     test.m_node.wallet_loader = wallet_loader.get();\n     node.setContext(&test.m_node);\n     const std::shared_ptr<CWallet> wallet = std::make_shared<CWallet>(node.context()->chain.get(), \"\", CreateMockableWalletDatabase());\n-    wallet->LoadWallet();\n+    wallet->PopulateWalletFromDB();",
      "path": "src/qt/test/addressbooktests.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "f26bf5fd24ffed501dfdb3528c56cfaee0203a72",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In f26bf5fd24ffed501dfdb3528c56cfaee0203a72 \"scripted-diff: refactor: rename CWallet::LoadWallet\"\r\n\r\nI think we could actually drop the `PopulateWalletFromDB` here and in other test setups that call it immediately after some kind of `Create*WalletDatabase()` since there's nothing in the databases anyways to load. These calls should be no-ops.",
      "created_at": "2025-07-23T23:05:53Z",
      "updated_at": "2025-07-23T23:07:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2226917021",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2226917021"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 80,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2229614994",
      "pull_request_review_id": 3053393595,
      "id": 2229614994,
      "node_id": "PRRC_kwDOABII586E5TmS",
      "diff_hunk": "@@ -2304,6 +2312,36 @@ DBErrors CWallet::LoadWallet()\n         assert(m_internal_spk_managers.empty());\n     }\n \n+    if (nLoadWalletRet != DBErrors::LOAD_OK) {\n+        const auto wallet_file = m_database->Filename();\n+        if (nLoadWalletRet == DBErrors::CORRUPT) {\n+            error = strprintf(_(\"Error loading %s: Wallet corrupted\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::NONCRITICAL_ERROR) {\n+            warnings.push_back(strprintf(_(\"Error reading %s! All keys read correctly, but transaction data\"\n+                                           \" or address metadata may be missing or incorrect.\"),\n+                wallet_file));\n+        } else if (nLoadWalletRet == DBErrors::TOO_NEW) {\n+            error = strprintf(_(\"Error loading %s: Wallet requires newer version of %s\"), wallet_file, CLIENT_NAME);\n+        } else if (nLoadWalletRet == DBErrors::EXTERNAL_SIGNER_SUPPORT_REQUIRED) {\n+            error = strprintf(_(\"Error loading %s: External signer wallet being loaded without external signer support compiled\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::NEED_REWRITE) {\n+            error = strprintf(_(\"Wallet needed to be rewritten: restart %s to complete\"), CLIENT_NAME);\n+        } else if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+            warnings.push_back(strprintf(_(\"Error reading %s! Transaction data may be missing or incorrect.\"\n+                                           \" Rescanning wallet.\"), wallet_file));\n+        } else if (nLoadWalletRet == DBErrors::UNKNOWN_DESCRIPTOR) {\n+            error = strprintf(_(\"Unrecognized descriptor found. Loading wallet %s\\n\\n\"\n+                                \"The wallet might had been created on a newer version.\\n\"\n+                                \"Please try running the latest software version.\\n\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::UNEXPECTED_LEGACY_ENTRY) {\n+            error = strprintf(_(\"Unexpected legacy entry in descriptor wallet found. Loading wallet %s\\n\\n\"\n+                                \"The wallet might have been tampered with or created with malicious intent.\\n\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::LEGACY_WALLET) {\n+            error = strprintf(_(\"Error loading %s: Wallet is a legacy wallet. Please migrate to a descriptor wallet using the migration tool (migratewallet RPC).\"), wallet_file);\n+        } else {\n+            error = strprintf(_(\"Error loading %s\"), wallet_file);\n+        }\n+    }",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 68,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "in_reply_to_id": null,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n    if (nLoadWalletRet != DBErrors::LOAD_OK) {\r\n        const auto wallet_file = m_database->Filename();\r\n        \r\n        switch (nLoadWalletRet) {\r\n            case DBErrors::CORRUPT:\r\n                error = strprintf(_(\"Error loading %s: Wallet corrupted\"), wallet_file);\r\n                break;\r\n            case DBErrors::NONCRITICAL_ERROR:\r\n                warnings.push_back(strprintf(_(\"Error reading %s! All keys read correctly, but transaction data\"\r\n                                           \" or address metadata may be missing or incorrect.\"), wallet_file));\r\n                break;\r\n            case DBErrors::TOO_NEW:\r\n                error = strprintf(_(\"Error loading %s: Wallet requires newer version of %s\"), wallet_file, CLIENT_NAME);\r\n                break;\r\n            case DBErrors::EXTERNAL_SIGNER_SUPPORT_REQUIRED:\r\n                error = strprintf(_(\"Error loading %s: External signer wallet being loaded without external signer support compiled\"), wallet_file);\r\n                break;\r\n            case DBErrors::NEED_REWRITE:\r\n                error = strprintf(_(\"Wallet needed to be rewritten: restart %s to complete\"), CLIENT_NAME);\r\n                break;\r\n            case DBErrors::NEED_RESCAN:\r\n                warnings.push_back(strprintf(_(\"Error reading %s! Transaction data may be missing or incorrect.\"\r\n                                           \" Rescanning wallet.\"), wallet_file));\r\n                break;\r\n            case DBErrors::UNKNOWN_DESCRIPTOR:\r\n                error = strprintf(_(\"Unrecognized descriptor found. Loading wallet %s\\n\\n\"\r\n                                \"The wallet might had been created on a newer version.\\n\"\r\n                                \"Please try running the latest software version.\\n\"), wallet_file);\r\n                break;\r\n            case DBErrors::UNEXPECTED_LEGACY_ENTRY:\r\n                error = strprintf(_(\"Unexpected legacy entry in descriptor wallet found. Loading wallet %s\\n\\n\"\r\n                                \"The wallet might have been tampered with or created with malicious intent.\\n\"), wallet_file);\r\n                break;\r\n            case DBErrors::LEGACY_WALLET:\r\n                error = strprintf(_(\"Error loading %s: Wallet is a legacy wallet. Please migrate to a descriptor wallet using the migration tool (migratewallet RPC).\"), wallet_file);\r\n                break;\r\n            default:\r\n                error = strprintf(_(\"Error loading %s\"), wallet_file);\r\n                break;\r\n        }\r\n    }\r\n```",
      "created_at": "2025-07-24T21:25:57Z",
      "updated_at": "2025-07-24T21:26:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2229614994",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2229614994"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 2315,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2360,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2248869900",
      "pull_request_review_id": 3080566499,
      "id": 2248869900,
      "node_id": "PRRC_kwDOABII586GCwgM",
      "diff_hunk": "@@ -3056,39 +2987,139 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n                            _(\"The wallet will avoid paying less than the minimum relay fee.\"));\n     }\n \n-    walletInstance->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n-    walletInstance->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n-    walletInstance->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+    wallet->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n+    wallet->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n+    wallet->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+\n+    wallet->m_keypool_size = std::max(args.GetIntArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), int64_t{1});\n+    wallet->m_notify_tx_changed_script = args.GetArg(\"-walletnotify\", \"\");\n+    wallet->SetBroadcastTransactions(args.GetBoolArg(\"-walletbroadcast\", DEFAULT_WALLETBROADCAST));\n+\n+    return true;\n+}\n+\n+std::shared_ptr<CWallet> CWallet::CreateNew(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)\n+{\n+    interfaces::Chain* chain = context.chain;\n+    const std::string& walletFile = database->Filename();\n+\n+    const auto start{SteadyClock::now()};\n+    // TODO: Can't use std::make_shared because we need a custom deleter but\n+    // should be possible to use std::allocate_shared.\n+    std::shared_ptr<CWallet> walletInstance(new CWallet(chain, name, std::move(database)), FlushAndDeleteWallet);\n+\n+    if (!LoadWalletArgs(walletInstance, context, error, warnings)) {\n+        return nullptr;\n+    }\n+\n+    // Load wallet\n+    bool rescan_required = false;\n+    auto nLoadWalletRet = walletInstance->PopulateWalletFromDB(error, warnings);\n+    if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+        rescan_required = true;\n+    } else if (nLoadWalletRet != DBErrors::LOAD_OK && nLoadWalletRet != DBErrors::NONCRITICAL_ERROR) {\n+        return nullptr;\n+    }\n+\n+    {\n+        LOCK(walletInstance->cs_wallet);\n+\n+        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n+        walletInstance->SetMinVersion(FEATURE_LATEST);\n+\n+        walletInstance->InitWalletFlags(wallet_creation_flags);\n+\n+        // Only descriptor wallets can be created\n+        assert(walletInstance->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+\n+        if ((wallet_creation_flags & WALLET_FLAG_EXTERNAL_SIGNER) || !(wallet_creation_flags & (WALLET_FLAG_DISABLE_PRIVATE_KEYS | WALLET_FLAG_BLANK_WALLET))) {\n+            if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+                walletInstance->SetupDescriptorScriptPubKeyMans();\n+                // SetupDescriptorScriptPubKeyMans already calls SetupGeneration for us so we don't need to call SetupGeneration separately\n+            } else {\n+                // Legacy wallets need SetupGeneration here.\n+                for (auto spk_man : walletInstance->GetActiveScriptPubKeyMans()) {\n+                    if (!spk_man->SetupGeneration()) {\n+                        error = _(\"Unable to generate initial keys\");\n+                        return nullptr;\n+                    }\n+                }\n+            }",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 398,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "in_reply_to_id": null,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "We have the assert above so we don't need to check if it's a descriptor and legacy can't be created anymore.\r\n```suggestion\r\n            walletInstance->SetupDescriptorScriptPubKeyMans();\r\n```",
      "created_at": "2025-08-01T21:06:45Z",
      "updated_at": "2025-08-01T21:06:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2248869900",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2248869900"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3036,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 3047,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2248871373",
      "pull_request_review_id": 3080568575,
      "id": 2248871373,
      "node_id": "PRRC_kwDOABII586GCw3N",
      "diff_hunk": "@@ -3056,39 +2987,139 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n                            _(\"The wallet will avoid paying less than the minimum relay fee.\"));\n     }\n \n-    walletInstance->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n-    walletInstance->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n-    walletInstance->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+    wallet->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n+    wallet->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n+    wallet->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+\n+    wallet->m_keypool_size = std::max(args.GetIntArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), int64_t{1});\n+    wallet->m_notify_tx_changed_script = args.GetArg(\"-walletnotify\", \"\");\n+    wallet->SetBroadcastTransactions(args.GetBoolArg(\"-walletbroadcast\", DEFAULT_WALLETBROADCAST));\n+\n+    return true;\n+}\n+\n+std::shared_ptr<CWallet> CWallet::CreateNew(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)\n+{\n+    interfaces::Chain* chain = context.chain;\n+    const std::string& walletFile = database->Filename();\n+\n+    const auto start{SteadyClock::now()};\n+    // TODO: Can't use std::make_shared because we need a custom deleter but\n+    // should be possible to use std::allocate_shared.\n+    std::shared_ptr<CWallet> walletInstance(new CWallet(chain, name, std::move(database)), FlushAndDeleteWallet);\n+\n+    if (!LoadWalletArgs(walletInstance, context, error, warnings)) {\n+        return nullptr;\n+    }\n+\n+    // Load wallet\n+    bool rescan_required = false;\n+    auto nLoadWalletRet = walletInstance->PopulateWalletFromDB(error, warnings);\n+    if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+        rescan_required = true;\n+    } else if (nLoadWalletRet != DBErrors::LOAD_OK && nLoadWalletRet != DBErrors::NONCRITICAL_ERROR) {\n+        return nullptr;\n+    }\n+\n+    {\n+        LOCK(walletInstance->cs_wallet);\n+\n+        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n+        walletInstance->SetMinVersion(FEATURE_LATEST);",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 379,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "in_reply_to_id": null,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Please consider #32977",
      "created_at": "2025-08-01T21:07:48Z",
      "updated_at": "2025-08-01T21:07:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2248871373",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2248871373"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3028,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2294992281",
      "pull_request_review_id": 3146631833,
      "id": 2294992281,
      "node_id": "PRRC_kwDOABII586Iys2Z",
      "diff_hunk": "@@ -77,7 +77,7 @@ void TestAddAddressesToSendBook(interfaces::Node& node)\n     test.m_node.wallet_loader = wallet_loader.get();\n     node.setContext(&test.m_node);\n     const std::shared_ptr<CWallet> wallet = std::make_shared<CWallet>(node.context()->chain.get(), \"\", CreateMockableWalletDatabase());\n-    wallet->LoadWallet();\n+    wallet->PopulateWalletFromDB();",
      "path": "src/qt/test/addressbooktests.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "f26bf5fd24ffed501dfdb3528c56cfaee0203a72",
      "in_reply_to_id": 2226917021,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is done in #33082: https://github.com/bitcoin/bitcoin/pull/33082/commits/30c6f64eed304560464f9601b80c811c186db20a",
      "created_at": "2025-08-23T01:08:02Z",
      "updated_at": "2025-08-23T01:08:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2294992281",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2294992281"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 80,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2294992891",
      "pull_request_review_id": 3146633148,
      "id": 2294992891,
      "node_id": "PRRC_kwDOABII586Iys_7",
      "diff_hunk": "@@ -3056,39 +2987,139 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n                            _(\"The wallet will avoid paying less than the minimum relay fee.\"));\n     }\n \n-    walletInstance->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n-    walletInstance->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n-    walletInstance->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+    wallet->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n+    wallet->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n+    wallet->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+\n+    wallet->m_keypool_size = std::max(args.GetIntArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), int64_t{1});\n+    wallet->m_notify_tx_changed_script = args.GetArg(\"-walletnotify\", \"\");\n+    wallet->SetBroadcastTransactions(args.GetBoolArg(\"-walletbroadcast\", DEFAULT_WALLETBROADCAST));\n+\n+    return true;\n+}\n+\n+std::shared_ptr<CWallet> CWallet::CreateNew(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)\n+{\n+    interfaces::Chain* chain = context.chain;\n+    const std::string& walletFile = database->Filename();\n+\n+    const auto start{SteadyClock::now()};\n+    // TODO: Can't use std::make_shared because we need a custom deleter but\n+    // should be possible to use std::allocate_shared.\n+    std::shared_ptr<CWallet> walletInstance(new CWallet(chain, name, std::move(database)), FlushAndDeleteWallet);\n+\n+    if (!LoadWalletArgs(walletInstance, context, error, warnings)) {\n+        return nullptr;\n+    }\n+\n+    // Load wallet\n+    bool rescan_required = false;\n+    auto nLoadWalletRet = walletInstance->PopulateWalletFromDB(error, warnings);\n+    if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+        rescan_required = true;\n+    } else if (nLoadWalletRet != DBErrors::LOAD_OK && nLoadWalletRet != DBErrors::NONCRITICAL_ERROR) {\n+        return nullptr;\n+    }\n+\n+    {\n+        LOCK(walletInstance->cs_wallet);\n+\n+        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n+        walletInstance->SetMinVersion(FEATURE_LATEST);",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 379,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "in_reply_to_id": 2248871373,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nice find, sorry I missed this.",
      "created_at": "2025-08-23T01:09:06Z",
      "updated_at": "2025-08-23T01:09:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2294992891",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2294992891"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3028,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295019319",
      "pull_request_review_id": 3146711395,
      "id": 2295019319,
      "node_id": "PRRC_kwDOABII586Iyzc3",
      "diff_hunk": "@@ -3056,39 +2987,139 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n                            _(\"The wallet will avoid paying less than the minimum relay fee.\"));\n     }\n \n-    walletInstance->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n-    walletInstance->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n-    walletInstance->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+    wallet->m_confirm_target = args.GetIntArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n+    wallet->m_spend_zero_conf_change = args.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n+    wallet->m_signal_rbf = args.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+\n+    wallet->m_keypool_size = std::max(args.GetIntArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), int64_t{1});\n+    wallet->m_notify_tx_changed_script = args.GetArg(\"-walletnotify\", \"\");\n+    wallet->SetBroadcastTransactions(args.GetBoolArg(\"-walletbroadcast\", DEFAULT_WALLETBROADCAST));\n+\n+    return true;\n+}\n+\n+std::shared_ptr<CWallet> CWallet::CreateNew(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)\n+{\n+    interfaces::Chain* chain = context.chain;\n+    const std::string& walletFile = database->Filename();\n+\n+    const auto start{SteadyClock::now()};\n+    // TODO: Can't use std::make_shared because we need a custom deleter but\n+    // should be possible to use std::allocate_shared.\n+    std::shared_ptr<CWallet> walletInstance(new CWallet(chain, name, std::move(database)), FlushAndDeleteWallet);\n+\n+    if (!LoadWalletArgs(walletInstance, context, error, warnings)) {\n+        return nullptr;\n+    }\n+\n+    // Load wallet\n+    bool rescan_required = false;\n+    auto nLoadWalletRet = walletInstance->PopulateWalletFromDB(error, warnings);\n+    if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+        rescan_required = true;\n+    } else if (nLoadWalletRet != DBErrors::LOAD_OK && nLoadWalletRet != DBErrors::NONCRITICAL_ERROR) {\n+        return nullptr;\n+    }\n+\n+    {\n+        LOCK(walletInstance->cs_wallet);\n+\n+        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n+        walletInstance->SetMinVersion(FEATURE_LATEST);\n+\n+        walletInstance->InitWalletFlags(wallet_creation_flags);\n+\n+        // Only descriptor wallets can be created\n+        assert(walletInstance->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+\n+        if ((wallet_creation_flags & WALLET_FLAG_EXTERNAL_SIGNER) || !(wallet_creation_flags & (WALLET_FLAG_DISABLE_PRIVATE_KEYS | WALLET_FLAG_BLANK_WALLET))) {\n+            if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+                walletInstance->SetupDescriptorScriptPubKeyMans();\n+                // SetupDescriptorScriptPubKeyMans already calls SetupGeneration for us so we don't need to call SetupGeneration separately\n+            } else {\n+                // Legacy wallets need SetupGeneration here.\n+                for (auto spk_man : walletInstance->GetActiveScriptPubKeyMans()) {\n+                    if (!spk_man->SetupGeneration()) {\n+                        error = _(\"Unable to generate initial keys\");\n+                        return nullptr;\n+                    }\n+                }\n+            }",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 398,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "in_reply_to_id": 2248869900,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This was fixed in https://github.com/bitcoin/bitcoin/pull/32481/commits/5431f2dc2159f55e0fbe89d07deb97fe2a73fb43 (nice!), fixed on this branch by rebasing.",
      "created_at": "2025-08-23T02:11:10Z",
      "updated_at": "2025-08-23T02:11:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2295019319",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295019319"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3036,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 3047,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295121329",
      "pull_request_review_id": 3146882050,
      "id": 2295121329,
      "node_id": "PRRC_kwDOABII586IzMWx",
      "diff_hunk": "@@ -3021,11 +3021,6 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n         return nullptr;\n     }\n \n-    // This wallet is in its first run if there are no ScriptPubKeyMans and it isn't blank or no privkeys\n-    const bool fFirstRun = walletInstance->m_spk_managers.empty() &&\n-                     !walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) &&\n-                     !walletInstance->IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET);",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 7,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "d5d55b3554ddce4a476ea849b81aaa433fe5008c",
      "in_reply_to_id": 2150072960,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for pointing this out, I've updated the PR description to address this.",
      "created_at": "2025-08-23T05:12:17Z",
      "updated_at": "2025-08-23T05:12:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2295121329",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295121329"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3024,
      "start_side": "LEFT",
      "line": null,
      "original_line": 3027,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295237186",
      "pull_request_review_id": 3147037006,
      "id": 2295237186,
      "node_id": "PRRC_kwDOABII586IzopC",
      "diff_hunk": "@@ -3081,12 +3081,7 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n         return nullptr;\n     }\n \n-    {\n-        LOCK(walletInstance->cs_wallet);\n-        walletInstance->WalletLogPrintf(\"setKeyPool.size() = %u\\n\",      walletInstance->GetKeyPoolSize());\n-        walletInstance->WalletLogPrintf(\"mapWallet.size() = %u\\n\",       walletInstance->mapWallet.size());\n-        walletInstance->WalletLogPrintf(\"m_address_book.size() = %u\\n\",  walletInstance->m_address_book.size());\n-    }\n+    WITH_LOCK(walletInstance->cs_wallet, walletInstance->LogStats());",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 10,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "744ebdc18556223b8749a7fed420c9ae95be418e",
      "in_reply_to_id": 2150021064,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for pointing this out, I've fixed this issue in https://github.com/bitcoin/bitcoin/pull/32636/commits/9de86da65e3dffb8e9c3dbd9771258f0924db798.",
      "created_at": "2025-08-23T06:05:46Z",
      "updated_at": "2025-08-23T06:43:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2295237186",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295237186"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": 3091,
      "original_start_line": 3084,
      "start_side": "LEFT",
      "line": 3127,
      "original_line": 3127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295238189",
      "pull_request_review_id": 3147038305,
      "id": 2295238189,
      "node_id": "PRRC_kwDOABII586Izo4t",
      "diff_hunk": "@@ -2304,6 +2312,36 @@ DBErrors CWallet::LoadWallet()\n         assert(m_internal_spk_managers.empty());\n     }\n \n+    if (nLoadWalletRet != DBErrors::LOAD_OK) {\n+        const auto wallet_file = m_database->Filename();\n+        if (nLoadWalletRet == DBErrors::CORRUPT) {\n+            error = strprintf(_(\"Error loading %s: Wallet corrupted\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::NONCRITICAL_ERROR) {\n+            warnings.push_back(strprintf(_(\"Error reading %s! All keys read correctly, but transaction data\"\n+                                           \" or address metadata may be missing or incorrect.\"),\n+                wallet_file));\n+        } else if (nLoadWalletRet == DBErrors::TOO_NEW) {\n+            error = strprintf(_(\"Error loading %s: Wallet requires newer version of %s\"), wallet_file, CLIENT_NAME);\n+        } else if (nLoadWalletRet == DBErrors::EXTERNAL_SIGNER_SUPPORT_REQUIRED) {\n+            error = strprintf(_(\"Error loading %s: External signer wallet being loaded without external signer support compiled\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::NEED_REWRITE) {\n+            error = strprintf(_(\"Wallet needed to be rewritten: restart %s to complete\"), CLIENT_NAME);\n+        } else if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+            warnings.push_back(strprintf(_(\"Error reading %s! Transaction data may be missing or incorrect.\"\n+                                           \" Rescanning wallet.\"), wallet_file));\n+        } else if (nLoadWalletRet == DBErrors::UNKNOWN_DESCRIPTOR) {\n+            error = strprintf(_(\"Unrecognized descriptor found. Loading wallet %s\\n\\n\"\n+                                \"The wallet might had been created on a newer version.\\n\"\n+                                \"Please try running the latest software version.\\n\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::UNEXPECTED_LEGACY_ENTRY) {\n+            error = strprintf(_(\"Unexpected legacy entry in descriptor wallet found. Loading wallet %s\\n\\n\"\n+                                \"The wallet might have been tampered with or created with malicious intent.\\n\"), wallet_file);\n+        } else if (nLoadWalletRet == DBErrors::LEGACY_WALLET) {\n+            error = strprintf(_(\"Error loading %s: Wallet is a legacy wallet. Please migrate to a descriptor wallet using the migration tool (migratewallet RPC).\"), wallet_file);\n+        } else {\n+            error = strprintf(_(\"Error loading %s\"), wallet_file);\n+        }\n+    }",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 68,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "in_reply_to_id": 2229614994,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for the suggestion, fixed in https://github.com/bitcoin/bitcoin/pull/32636/commits/da4579d97863924272eab2246c45a0802b226cf8.",
      "created_at": "2025-08-23T06:06:41Z",
      "updated_at": "2025-08-23T06:43:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2295238189",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2295238189"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 2315,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2360,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305511879",
      "pull_request_review_id": 3162067831,
      "id": 2305511879,
      "node_id": "PRRC_kwDOABII586Ja1HH",
      "diff_hunk": "@@ -3104,6 +3104,56 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n     return walletInstance;\n }\n \n+std::shared_ptr<CWallet> CWallet::LoadExisting(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)\n+{\n+    interfaces::Chain* chain = context.chain;\n+    const std::string& walletFile = database->Filename();\n+\n+    const auto start{SteadyClock::now()};\n+    std::shared_ptr<CWallet> walletInstance(new CWallet(chain, name, std::move(database)), FlushAndDeleteWallet);\n+\n+    if (!LoadWalletArgs(walletInstance, context, error, warnings)) {\n+        return nullptr;\n+    }\n+\n+    // Load wallet\n+    bool rescan_required = false;\n+    auto nLoadWalletRet = walletInstance->PopulateWalletFromDB(error, warnings);\n+    if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+        rescan_required = true;\n+    } else if (nLoadWalletRet != DBErrors::LOAD_OK && nLoadWalletRet != DBErrors::NONCRITICAL_ERROR) {\n+        return nullptr;\n+    }",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 23,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "4c6890cdae77ca0d230227530b000f4b3c6fd77a",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 4c6890cdae77ca0d230227530b000f4b3c6fd77a \"wallet: Create separate function for wallet load\"\r\n\r\nI think this can be simplified:\r\n\r\n```suggestion\r\n    auto nLoadWalletRet = walletInstance->PopulateWalletFromDB(error, warnings);\r\n    bool rescan_required = nLoadWalletRet == DBErrors::NEED_RESCAN;\r\n    if (nLoadWalletRet != DBErrors::LOAD_OK && nLoadWalletRet != DBErrors::NONCRITICAL_ERROR && !rescan_required) {\r\n        return nullptr;\r\n    }\r\n```",
      "created_at": "2025-08-27T23:07:08Z",
      "updated_at": "2025-08-27T23:13:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2305511879",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305511879"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3120,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 3102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305515236",
      "pull_request_review_id": 3162067831,
      "id": 2305515236,
      "node_id": "PRRC_kwDOABII586Ja17k",
      "diff_hunk": "@@ -3104,6 +3104,56 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n     return walletInstance;\n }\n \n+std::shared_ptr<CWallet> CWallet::LoadExisting(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "4c6890cdae77ca0d230227530b000f4b3c6fd77a",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 4c6890cdae77ca0d230227530b000f4b3c6fd77a \"wallet: Create separate function for wallet load\"\r\n\r\nWhen loading, `wallet_creation_flags` is unnecessary. Flags cannot be updated when loading a wallet, and having a specific warning for `WALLET_FLAG_DISABLE_PRIVATE_KEYS` seems entirely unnecessary.",
      "created_at": "2025-08-27T23:09:00Z",
      "updated_at": "2025-08-27T23:13:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2305515236",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305515236"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305675757",
      "pull_request_review_id": 3162359535,
      "id": 2305675757,
      "node_id": "PRRC_kwDOABII586JbdHt",
      "diff_hunk": "@@ -3104,6 +3104,56 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n     return walletInstance;\n }\n \n+std::shared_ptr<CWallet> CWallet::LoadExisting(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "4c6890cdae77ca0d230227530b000f4b3c6fd77a",
      "in_reply_to_id": 2305515236,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Is the the check for the presence of private keys in a wallet where `WALLET_FLAG_DISABLE_PRIVATE_KEYS` is set also unnecessary?",
      "created_at": "2025-08-28T00:11:31Z",
      "updated_at": "2025-08-28T00:11:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2305675757",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305675757"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305694612",
      "pull_request_review_id": 3162391285,
      "id": 2305694612,
      "node_id": "PRRC_kwDOABII586JbhuU",
      "diff_hunk": "@@ -3104,6 +3104,56 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n     return walletInstance;\n }\n \n+std::shared_ptr<CWallet> CWallet::LoadExisting(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "4c6890cdae77ca0d230227530b000f4b3c6fd77a",
      "in_reply_to_id": 2305515236,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed the suggestion as I understood it, thanks for catching this.",
      "created_at": "2025-08-28T00:18:41Z",
      "updated_at": "2025-08-28T00:18:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2305694612",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305694612"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305695062",
      "pull_request_review_id": 3162391849,
      "id": 2305695062,
      "node_id": "PRRC_kwDOABII586Jbh1W",
      "diff_hunk": "@@ -3104,6 +3104,56 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n     return walletInstance;\n }\n \n+std::shared_ptr<CWallet> CWallet::LoadExisting(WalletContext& context, const std::string& name, std::unique_ptr<WalletDatabase> database, uint64_t wallet_creation_flags, bilingual_str& error, std::vector<bilingual_str>& warnings)\n+{\n+    interfaces::Chain* chain = context.chain;\n+    const std::string& walletFile = database->Filename();\n+\n+    const auto start{SteadyClock::now()};\n+    std::shared_ptr<CWallet> walletInstance(new CWallet(chain, name, std::move(database)), FlushAndDeleteWallet);\n+\n+    if (!LoadWalletArgs(walletInstance, context, error, warnings)) {\n+        return nullptr;\n+    }\n+\n+    // Load wallet\n+    bool rescan_required = false;\n+    auto nLoadWalletRet = walletInstance->PopulateWalletFromDB(error, warnings);\n+    if (nLoadWalletRet == DBErrors::NEED_RESCAN) {\n+        rescan_required = true;\n+    } else if (nLoadWalletRet != DBErrors::LOAD_OK && nLoadWalletRet != DBErrors::NONCRITICAL_ERROR) {\n+        return nullptr;\n+    }",
      "path": "src/wallet/wallet.cpp",
      "position": 1,
      "original_position": 23,
      "commit_id": "a6b43fa17356d5cc114e39f396008eb6b480660a",
      "original_commit_id": "4c6890cdae77ca0d230227530b000f4b3c6fd77a",
      "in_reply_to_id": 2305511879,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for catching this, fixed.",
      "created_at": "2025-08-28T00:18:52Z",
      "updated_at": "2025-08-28T00:18:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2305695062",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2305695062"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3120,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 3102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2356250657",
      "pull_request_review_id": 3235533295,
      "id": 2356250657,
      "node_id": "PRRC_kwDOABII586McYgh",
      "diff_hunk": "@@ -199,8 +199,7 @@ bool CreateFromDump(const ArgsManager& args, const std::string& name, const fs::\n     std::shared_ptr<CWallet> wallet(new CWallet(/*chain=*/nullptr, name, std::move(database)), WalletToolReleaseWallet);\n     {\n         LOCK(wallet->cs_wallet);\n-        DBErrors load_wallet_ret = wallet->PopulateWalletFromDB();\n-        if (load_wallet_ret != DBErrors::LOAD_OK) {\n+        if (wallet->PopulateWalletFromDB() != DBErrors::LOAD_OK) {",
      "path": "src/wallet/dump.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "8b6a8a04f986d95a32c7b7d38c8935d79b536512",
      "in_reply_to_id": null,
      "user": {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The current error handling only checks for `LOAD_OK` and ignores the error string provided by the new overload. This may result in losing useful error details. It might be worth updating the handling to make use of the message",
      "created_at": "2025-09-17T17:35:58Z",
      "updated_at": "2025-09-17T18:08:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2356250657",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2356250657"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 202,
      "original_line": 202,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2356299627",
      "pull_request_review_id": 3235533295,
      "id": 2356299627,
      "node_id": "PRRC_kwDOABII586Mckdr",
      "diff_hunk": "@@ -262,6 +262,9 @@ class WalletBatch\n \n     DBErrors LoadWallet(CWallet* pwallet);\n \n+    //! Write the given client_version.\n+    bool WriteVersion(int client_version) { return m_batch->Write(DBKeys::VERSION, CLIENT_VERSION); }",
      "path": "src/wallet/walletdb.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "62e0721caed31559f511581bbcef9fe99913fc60",
      "in_reply_to_id": null,
      "user": {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 8b6a8a0  it seems the `WriteVersion` method uses  `CLIENT_VERSION` instead of the `client_version` parameter",
      "created_at": "2025-09-17T17:52:20Z",
      "updated_at": "2025-09-17T18:08:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2356299627",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2356299627"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 269,
      "original_line": 269,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2395570236",
      "pull_request_review_id": 3290623616,
      "id": 2395570236,
      "node_id": "PRRC_kwDOABII586OyYA8",
      "diff_hunk": "@@ -262,6 +262,9 @@ class WalletBatch\n \n     DBErrors LoadWallet(CWallet* pwallet);\n \n+    //! Write the given client_version.\n+    bool WriteVersion(int client_version) { return m_batch->Write(DBKeys::VERSION, CLIENT_VERSION); }",
      "path": "src/wallet/walletdb.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "62e0721caed31559f511581bbcef9fe99913fc60",
      "in_reply_to_id": 2356299627,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is out of scope, but I can address this in a follow-up.",
      "created_at": "2025-10-01T19:00:08Z",
      "updated_at": "2025-10-01T19:00:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2395570236",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2395570236"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 269,
      "original_line": 269,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2395573945",
      "pull_request_review_id": 3290629359,
      "id": 2395573945,
      "node_id": "PRRC_kwDOABII586OyY65",
      "diff_hunk": "@@ -199,8 +199,7 @@ bool CreateFromDump(const ArgsManager& args, const std::string& name, const fs::\n     std::shared_ptr<CWallet> wallet(new CWallet(/*chain=*/nullptr, name, std::move(database)), WalletToolReleaseWallet);\n     {\n         LOCK(wallet->cs_wallet);\n-        DBErrors load_wallet_ret = wallet->PopulateWalletFromDB();\n-        if (load_wallet_ret != DBErrors::LOAD_OK) {\n+        if (wallet->PopulateWalletFromDB() != DBErrors::LOAD_OK) {",
      "path": "src/wallet/dump.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "8b6a8a04f986d95a32c7b7d38c8935d79b536512",
      "in_reply_to_id": 2356250657,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This PR does not change the error handling here, but I can address this in a follow-up.",
      "created_at": "2025-10-01T19:01:08Z",
      "updated_at": "2025-10-01T19:01:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2395573945",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2395573945"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 202,
      "original_line": 202,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2455027884",
      "pull_request_review_id": 3369787513,
      "id": 2455027884,
      "node_id": "PRRC_kwDOABII586SVMCs",
      "diff_hunk": "",
      "path": "src/wallet/walletdb.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "835de2490ed925da8df77815e8e1a6457bf1dc1e",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 835de2490ed925da8df77815e8e1a6457bf1dc1e \"refactor: wallet: Add `WriteVersion()`\"\r\n\r\n> Writing the wallet version needs to be done on wallet creation, but\r\nWalletBatch::LoadWallet() does not, so factor this functionality out.\r\n\r\nNote for the commit message: I had a tough time trying to parse this text and don't fully understand what it's supposed to say. As per code, ISTM that the wallet version is written unconditionally on creation and conditionally on load.",
      "created_at": "2025-10-23T12:51:38Z",
      "updated_at": "2025-10-23T13:58:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2455027884",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2455027884"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2455069780",
      "pull_request_review_id": 3369787513,
      "id": 2455069780,
      "node_id": "PRRC_kwDOABII586SVWRU",
      "diff_hunk": "@@ -1175,7 +1175,7 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n         return result;\n \n     if (!has_last_client || last_client != CLIENT_VERSION) // Update\n-        m_batch->Write(DBKeys::VERSION, CLIENT_VERSION);\n+        WriteVersion(CLIENT_VERSION);",
      "path": "src/wallet/walletdb.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "835de2490ed925da8df77815e8e1a6457bf1dc1e",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In https://github.com/bitcoin/bitcoin/commit/835de2490ed925da8df77815e8e1a6457bf1dc1e \"refactor: wallet: Add WriteVersion()\"\r\n\r\nNit to differentiate this call from the other functions called above because this function is this class's member:\r\n\r\n```diff\r\ndiff --git a/src/wallet/walletdb.cpp b/src/wallet/walletdb.cpp\r\nindex 41855b4154..387568282d 100644\r\n--- a/src/wallet/walletdb.cpp\r\n+++ b/src/wallet/walletdb.cpp\r\n@@ -1175,7 +1175,7 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\r\n         return result;\r\n \r\n     if (!has_last_client || last_client != CLIENT_VERSION) // Update\r\n-        WriteVersion(CLIENT_VERSION);\r\n+        this->WriteVersion(CLIENT_VERSION);\r\n \r\n     if (any_unordered)\r\n         result = pwallet->ReorderTransactions();\r\n```",
      "created_at": "2025-10-23T13:05:01Z",
      "updated_at": "2025-10-23T13:58:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2455069780",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2455069780"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1178,
      "original_line": 1178,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2455240608",
      "pull_request_review_id": 3369787513,
      "id": 2455240608,
      "node_id": "PRRC_kwDOABII586SV_-g",
      "diff_hunk": "@@ -797,7 +797,7 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     bool IsFromMe(const CTransaction& tx) const;\n     CAmount GetDebit(const CTransaction& tx) const;\n \n-    DBErrors LoadWallet();\n+    DBErrors PopulateWalletFromDB();",
      "path": "src/wallet/wallet.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "b29d22a3d8395865a0a79daf16d44b4eb98f571e",
      "original_commit_id": "79adf2163138cd1e30637904243945f191dc721d",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 79adf2163138cd1e30637904243945f191dc721d \"scripted-diff: refactor: rename CWallet::LoadWallet\"\r\n\r\n`PopulateWalletFromDB` is a public function of class `CWallet` that is called by the outside modules such as tests and wallet-tool besides the static function `CWallet::LoadExisting`. As a reader going through these call sites does make me wonder for a bit what this function would be doing differently from the usual `Load` function, even though the name is quite self-explanatory to a large extent.\r\n\r\nMaybe add some documentation here for explicitness mentioning that this function has barebones functionality so that the caller has the right expectations? ",
      "created_at": "2025-10-23T13:57:53Z",
      "updated_at": "2025-10-23T13:58:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2455240608",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2455240608"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": 800,
      "original_start_line": 800,
      "start_side": "LEFT",
      "line": 800,
      "original_line": 800,
      "side": "RIGHT"
    }
  ]
}