{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636",
    "id": 2550873429,
    "node_id": "PR_kwDOABII586YCz1V",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32636",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32636.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32636.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
    "number": 32636,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Split `CWallet::Create()` into `CreateNew` and `LoadExisting`",
    "user": {
      "login": "davidgumberg",
      "id": 2257631,
      "node_id": "MDQ6VXNlcjIyNTc2MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidgumberg",
      "html_url": "https://github.com/davidgumberg",
      "followers_url": "https://api.github.com/users/davidgumberg/followers",
      "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
      "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
      "repos_url": "https://api.github.com/users/davidgumberg/repos",
      "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This PR is mostly a refactor which splits out logic used for creating wallets and for loading wallets, both of which are presently contained in `CWallet::Create()` into `CWallet::CreateNew()` and `CWallet::LoadExisting()`\r\n\r\nThe real win of this PR is that `CWallet::Create()` uses a very bad heuristic for trying to guess whether or not it is supposed to be creating a new wallet or loading an existing wallet:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/370c59261269fd9043674e0f4fd782a89e724473/src/wallet/wallet.cpp#L2882-L2885\r\n\r\nThis caused issues like #32112 and #32111 (both of which are fixed by this PR) and likely other related misbehavior for any existing wallet which succeeded the broken heuristic's sniff test for new wallets.\r\n\r\nIt was already the case that every caller of `CWallet::Create()` knows whether it is creating a wallet or loading one, so we can avoid replacing this bad heuristic with another one, and just shift the burden to the caller.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2025-05-29T00:37:09Z",
    "updated_at": "2025-06-16T14:40:20Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "741e9abb97dc8371272f43e6bc477c55f00ed041",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "davidgumberg:5-27-2025-create-refactor",
      "ref": "5-27-2025-create-refactor",
      "sha": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 529442895,
        "node_id": "R_kgDOH46oTw",
        "name": "bitcoin",
        "full_name": "davidgumberg/bitcoin",
        "owner": {
          "login": "davidgumberg",
          "id": 2257631,
          "node_id": "MDQ6VXNlcjIyNTc2MzE=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/davidgumberg",
          "html_url": "https://github.com/davidgumberg",
          "followers_url": "https://api.github.com/users/davidgumberg/followers",
          "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
          "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
          "repos_url": "https://api.github.com/users/davidgumberg/repos",
          "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/davidgumberg/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/davidgumberg/bitcoin",
        "archive_url": "https://api.github.com/repos/davidgumberg/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/davidgumberg/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/davidgumberg/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/davidgumberg/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/davidgumberg/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/davidgumberg/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/davidgumberg/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/davidgumberg/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/davidgumberg/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/davidgumberg/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/davidgumberg/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/davidgumberg/bitcoin/events",
        "forks_url": "https://api.github.com/repos/davidgumberg/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/davidgumberg/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/davidgumberg/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/davidgumberg/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/davidgumberg/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/davidgumberg/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/davidgumberg/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/davidgumberg/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/davidgumberg/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/davidgumberg/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/davidgumberg/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/davidgumberg/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/davidgumberg/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:davidgumberg/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/davidgumberg/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/davidgumberg/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/davidgumberg/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/davidgumberg/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/davidgumberg/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/davidgumberg/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/davidgumberg/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/davidgumberg/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/davidgumberg/bitcoin/hooks",
        "svn_url": "https://github.com/davidgumberg/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 242875,
        "default_branch": "master",
        "open_issues_count": 8,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-11T00:20:44Z",
        "created_at": "2022-08-27T00:44:27Z",
        "updated_at": "2025-05-29T00:22:15Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "370c59261269fd9043674e0f4fd782a89e724473",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37382,
        "stargazers_count": 84173,
        "watchers_count": 84173,
        "size": 283923,
        "default_branch": "master",
        "open_issues_count": 754,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-16T08:53:04Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-06-16T14:58:43Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 247,
    "deletions": 177,
    "changed_files": 16,
    "commits": 12,
    "review_comments": 2,
    "comments": 4
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYyNmJmNWZkMjRmZmVkNTAxZGZkYjM1MjhjNTZjZmFlZTAyMDNhNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f26bf5fd24ffed501dfdb3528c56cfaee0203a72",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f26bf5fd24ffed501dfdb3528c56cfaee0203a72",
      "tree": {
        "sha": "db96111028b06c05973761b5cc6056eba5736c74",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/db96111028b06c05973761b5cc6056eba5736c74"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/370c59261269fd9043674e0f4fd782a89e724473",
          "sha": "370c59261269fd9043674e0f4fd782a89e724473",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/370c59261269fd9043674e0f4fd782a89e724473"
        }
      ],
      "message": "scripted-diff: refactor: rename CWallet::LoadWallet\n\nThere are too many functions in CWallet with names like \"Load\" and\n\"Create\", disambiguate what CWallet::LoadWallet does by renaming it to\nPopulateWalletFromDB.\n\n-BEGIN VERIFY SCRIPT-\nsed -i 's|\\bLoadWallet()|PopulateWalletFromDB()|g' $(git grep -l 'LoadWallet()' -- ':(exclude)src/wallet/walletdb.cpp')\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-23T00:38:18Z"
      },
      "sha": "f26bf5fd24ffed501dfdb3528c56cfaee0203a72"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU1NjM0Y2Q4OTE2MjU4YWVmMzRjZTViM2Y2ZDgwZWRlNzczMGE3MDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5634cd8916258aef34ce5b3f6d80ede7730a709",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e5634cd8916258aef34ce5b3f6d80ede7730a709",
      "tree": {
        "sha": "97edba257a9365a5b1261f912e0c86a0813a1373",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/97edba257a9365a5b1261f912e0c86a0813a1373"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f26bf5fd24ffed501dfdb3528c56cfaee0203a72",
          "sha": "f26bf5fd24ffed501dfdb3528c56cfaee0203a72",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f26bf5fd24ffed501dfdb3528c56cfaee0203a72"
        }
      ],
      "message": "refactor: wallet: move error handling to PopulateWalletFromDB()",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-23T02:40:20Z"
      },
      "sha": "e5634cd8916258aef34ce5b3f6d80ede7730a709"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY3NGJmM2ZjYjk1Njc0ODc2MjJiODY1ZTg0YzQ4YzY3ODNmNmI0NDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f74bf3fcb9567487622b865e84c48c6783f6b447",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f74bf3fcb9567487622b865e84c48c6783f6b447",
      "tree": {
        "sha": "ebf0776a2bd786b7905fdadf15c816ff2eebcaa9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ebf0776a2bd786b7905fdadf15c816ff2eebcaa9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5634cd8916258aef34ce5b3f6d80ede7730a709",
          "sha": "e5634cd8916258aef34ce5b3f6d80ede7730a709",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e5634cd8916258aef34ce5b3f6d80ede7730a709"
        }
      ],
      "message": "refactor: Move -walletbroadcast setting init\n\nModifying `fBroadcastTransactions` does not require any locks,\ninitialization of this wallet parameter can be relocated with all of the\nother argument parsing in this function.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T22:20:55Z"
      },
      "sha": "f74bf3fcb9567487622b865e84c48c6783f6b447"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU2Y2ExODdhYmNkMzMzMDYxNmM5MmM1OTJiMzUyOTZjODg5ZGZhNGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/56ca187abcd3330616c92c592b35296c889dfa4d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/56ca187abcd3330616c92c592b35296c889dfa4d",
      "tree": {
        "sha": "c3827ba472ac7215f4265743f51f9f2054355b1a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c3827ba472ac7215f4265743f51f9f2054355b1a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f74bf3fcb9567487622b865e84c48c6783f6b447",
          "sha": "f74bf3fcb9567487622b865e84c48c6783f6b447",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f74bf3fcb9567487622b865e84c48c6783f6b447"
        }
      ],
      "message": "refactor: Split out wallet argument loading\n\nThis section is necessarily repetitive, makes CWallet::Create() easier\nto read, and splits out functionality that will be useful when wallet\ncreation and loading are separated.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-23T01:49:00Z"
      },
      "sha": "56ca187abcd3330616c92c592b35296c889dfa4d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYzZTI0MDAxNTlmYjE4OWZmMGQ0ODZlNTQ1ODczZmI2Y2E1YjdkMjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f3e2400159fb189ff0d486e545873fb6ca5b7d29",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f3e2400159fb189ff0d486e545873fb6ca5b7d29",
      "tree": {
        "sha": "fef68cc2e2f2b445e94705f7f0c828d159fc820e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fef68cc2e2f2b445e94705f7f0c828d159fc820e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/56ca187abcd3330616c92c592b35296c889dfa4d",
          "sha": "56ca187abcd3330616c92c592b35296c889dfa4d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/56ca187abcd3330616c92c592b35296c889dfa4d"
        }
      ],
      "message": "wallet: Move argument parsing to before DB load\n\n`m_keypool_size` must be set before `CWallet::PopulateWalletFromDB()`,\nin order to move parsing of `-keypool` into `CWallet::LoadWalletArgs`,\n`LoadWalletArgs()` invocation in `CWallet::Create()` must be moved\nbefore `PopulateWalletFromDB()` is called.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T22:32:22Z"
      },
      "sha": "f3e2400159fb189ff0d486e545873fb6ca5b7d29"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI5YWM0MWU2MWY1NGE2ZWNjOWY3ZjBiYzEwMjkwYmY4MTY3N2ViMmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9ac41e61f54a6ecc9f7f0bc10290bf81677eb2a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b9ac41e61f54a6ecc9f7f0bc10290bf81677eb2a",
      "tree": {
        "sha": "881def768e550f9240823b577d5ddb73731bc39c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/881def768e550f9240823b577d5ddb73731bc39c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f3e2400159fb189ff0d486e545873fb6ca5b7d29",
          "sha": "f3e2400159fb189ff0d486e545873fb6ca5b7d29",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f3e2400159fb189ff0d486e545873fb6ca5b7d29"
        }
      ],
      "message": "wallet: Remove redundant birth time update\n\nChecking every SPKM in `CWallet::Create()` is not necessary, since the\nonly way presently for an SPKM to get added to `m_spk_managers` (the\nreturn value of `GetAllScriptPubKeyMans()`) is through\n`AddScriptPubKeyMan()`, which already invokes `MaybeUpdateBirthTime()`.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T23:07:42Z"
      },
      "sha": "b9ac41e61f54a6ecc9f7f0bc10290bf81677eb2a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc0NGViZGMxODU1NjIyM2I4NzQ5YTdmZWQ0MjBjOWFlOTViZTQxOGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/744ebdc18556223b8749a7fed420c9ae95be418e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/744ebdc18556223b8749a7fed420c9ae95be418e",
      "tree": {
        "sha": "86731bae09ec552a5aa8894cc0663641c49e00ba",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/86731bae09ec552a5aa8894cc0663641c49e00ba"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9ac41e61f54a6ecc9f7f0bc10290bf81677eb2a",
          "sha": "b9ac41e61f54a6ecc9f7f0bc10290bf81677eb2a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b9ac41e61f54a6ecc9f7f0bc10290bf81677eb2a"
        }
      ],
      "message": "refactor: Wallet stats logging in its own function\n\nThis will avoid repetition when wallet creation and loading are\nseparated.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-27T23:46:00Z"
      },
      "sha": "744ebdc18556223b8749a7fed420c9ae95be418e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDczNTEwMGVkOGI2MjM5NTRmMTJjOTMzODIzOTEwYjE2ZTVmMDRhZTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/735100ed8b623954f12c933823910b16e5f04ae2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/735100ed8b623954f12c933823910b16e5f04ae2",
      "tree": {
        "sha": "4d5299a11716fdce70a0f91e71640a0ced1066ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4d5299a11716fdce70a0f91e71640a0ced1066ae"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/744ebdc18556223b8749a7fed420c9ae95be418e",
          "sha": "744ebdc18556223b8749a7fed420c9ae95be418e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/744ebdc18556223b8749a7fed420c9ae95be418e"
        }
      ],
      "message": "wallet: Create separate function for wallet load\n\nSplits out logic relevant only to existing wallets in\n`CWallet::Create()` into `CWallet::LoadExisting()`",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T00:32:51Z"
      },
      "sha": "735100ed8b623954f12c933823910b16e5f04ae2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI2ZjVlY2U0OGJhZTRkNTRjN2Q0NmRjYzMzYzhmMmEwOTViNGYyNGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/26f5ece48bae4d54c7d46dcc33c8f2a095b4f24c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/26f5ece48bae4d54c7d46dcc33c8f2a095b4f24c",
      "tree": {
        "sha": "ff12199d555b24f2c6c4ca2f5583c69e16cf0f0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ff12199d555b24f2c6c4ca2f5583c69e16cf0f0a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/735100ed8b623954f12c933823910b16e5f04ae2",
          "sha": "735100ed8b623954f12c933823910b16e5f04ae2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/735100ed8b623954f12c933823910b16e5f04ae2"
        }
      ],
      "message": "wallet: Use CWallet::LoadExisting() for loading existing wallets.",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T01:18:50Z"
      },
      "sha": "26f5ece48bae4d54c7d46dcc33c8f2a095b4f24c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlNjYyODhlZWQ3MzVjZTc5ZTE4NGM2ZWI4ODBiNWVhZWNiNzYzNDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e66288eed735ce79e184c6eb880b5eaecb76340",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1e66288eed735ce79e184c6eb880b5eaecb76340",
      "tree": {
        "sha": "915c0aa0de9a570907c0f041b5e927ed778ca258",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/915c0aa0de9a570907c0f041b5e927ed778ca258"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/26f5ece48bae4d54c7d46dcc33c8f2a095b4f24c",
          "sha": "26f5ece48bae4d54c7d46dcc33c8f2a095b4f24c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/26f5ece48bae4d54c7d46dcc33c8f2a095b4f24c"
        }
      ],
      "message": "test: wallet: Split create and load",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T02:05:54Z"
      },
      "sha": "1e66288eed735ce79e184c6eb880b5eaecb76340"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ1ZDU1YjM1NTRkZGNlNGE0NzZlYTg0OWI4MWFhYTQzM2ZlNTAwOGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d5d55b3554ddce4a476ea849b81aaa433fe5008c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d5d55b3554ddce4a476ea849b81aaa433fe5008c",
      "tree": {
        "sha": "bfe5e3e19c3318deafb2844cb525af6601bb9844",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bfe5e3e19c3318deafb2844cb525af6601bb9844"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e66288eed735ce79e184c6eb880b5eaecb76340",
          "sha": "1e66288eed735ce79e184c6eb880b5eaecb76340",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1e66288eed735ce79e184c6eb880b5eaecb76340"
        }
      ],
      "message": "wallet: remove loading logic from CWallet::Create",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T01:21:50Z"
      },
      "sha": "d5d55b3554ddce4a476ea849b81aaa433fe5008c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBmODIyMjRkMzkzN2RiM2Y2MGNmYWVjMjQ5YWM1ZmUzMjY0ZGMzZDU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "tree": {
        "sha": "10b194b15ab095b47cc77ebd0e0c077808233f23",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/10b194b15ab095b47cc77ebd0e0c077808233f23"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d5d55b3554ddce4a476ea849b81aaa433fe5008c",
          "sha": "d5d55b3554ddce4a476ea849b81aaa433fe5008c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d5d55b3554ddce4a476ea849b81aaa433fe5008c"
        }
      ],
      "message": "scripted-diff: refactor: CWallet::Create() -> CreateNew()\n\nAside from being more legible, changing the name of `CWallet::Create()`\nalso validates that every instance where a new wallet is `Create()`'ed\nis handled in this branch.\n\n-BEGIN VERIFY SCRIPT-\nsed -i 's|\\bCreate(|CreateNew(|g' src/wallet/wallet.cpp  src/wallet/wallet.h  src/wallet/test/util.cpp src/wallet/test/wallet_tests.cpp\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-29T00:22:39Z"
      },
      "author": {
        "name": "David Gumberg",
        "email": "davidzgumberg@gmail.com",
        "date": "2025-05-28T23:23:35Z"
      },
      "sha": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5"
    },
    {
      "event": "commented",
      "id": 2917916095,
      "node_id": "IC_kwDOABII586t692_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2917916095",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-29T00:37:13Z",
      "updated_at": "2025-06-16T14:38:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32636.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2928917813), [rkrux](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2932150392) |\n| Approach ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2879497779) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29278](https://github.com/bitcoin/bitcoin/pull/29278) (Wallet:  Add `maxfeerate` wallet startup option by ismaelsadeeq)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2917916095",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "reviewed",
      "id": 2879497779,
      "node_id": "PRR_kwDOABII586roaYz",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2879497779",
      "submitted_at": "2025-05-29T20:14:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "commented",
      "id": 2920676506,
      "node_id": "IC_kwDOABII586uFfya",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2920676506",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-29T21:56:47Z",
      "updated_at": "2025-05-29T21:56:47Z",
      "author_association": "MEMBER",
      "body": "`PopulateWalletFromDB` inside of `CreateNew` should no longer be necessary.\r\n\r\nIt'd be nice if the load or create intention could be propagated down to the DB level as well. In `SQLiteDatabase::Open`, we pass the flags `SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE` which does both load and create. I think ideally it would be just `SQLITE_OPEN_READWRITE` for loading, and `SQLITE_OPEN_CREATE` for creating to further enforce that we expect a file to already exist for loading, and for no files to exist when creating. Similarly, we could avoid calling `TryCreateDirectories` when loading.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2920676506",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "labeled",
      "id": 17990518732,
      "node_id": "LE_lADOABII5864tMDzzwAAAAQwUYfM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17990518732",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T22:57:39Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 2950796348,
      "node_id": "IC_kwDOABII586v4ZQ8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2950796348",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-06T21:05:51Z",
      "updated_at": "2025-06-06T21:05:51Z",
      "author_association": "MEMBER",
      "body": "Any reason not to just pass a parameter to CWallet::Create, just to fix the bug in the simplest manner? Refactoring should ideally be separate from fixing.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2950796348",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "commented",
      "id": 2950807203,
      "node_id": "IC_kwDOABII586v4b6j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2950807203",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-06T21:11:27Z",
      "updated_at": "2025-06-06T21:11:27Z",
      "author_association": "MEMBER",
      "body": "> Any reason not to just pass a parameter to CWallet::Create, just to fix the bug in the simplest manner? Refactoring should ideally be separate from fixing.\r\n\r\nBecause doing the bare minimum to fix a bug that is unreachable in production is how we end up with technical debt.\r\n\r\nIMO, this PR is primarily a refactor to split these 2 actions that should not be combined. The fact that it fixes those bugs, which are a result of the combining, is a bonus.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2950807203",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32636"
    },
    {
      "event": "reviewed",
      "id": 2928917813,
      "node_id": "PRR_kwDOABII586uk701",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nThe current state of this code in `master` adds [confusion](https://github.com/bitcoin/bitcoin/pull/32481#discussion_r2147385870) to flows like the legacy to descriptor wallet migration that's why I think it's an important work to be done.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2928917813",
      "submitted_at": "2025-06-15T00:47:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    },
    {
      "event": "reviewed",
      "id": 2932150392,
      "node_id": "PRR_kwDOABII586uxRB4",
      "url": null,
      "actor": null,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK 0f82224d3937db3f60cfaec249ac5fe3264dc3d5\r\nI want to share my initial thoughts before I invest more time reviewing this.\r\n\r\n---------\r\nI am in favour of such a refactor because from a reviewing POV I lose mental cycles every time I end up going through `CWallet:Create` function that requires me to keep a mental context of whether this function was called from the creation flow or the load flow. Also, I feel this is a good time to get this done now that legacy wallets are no longer there.\r\n\r\nHowever, I am slightly less inclined to review this PR in its current format because there are a few moving pieces here, and I'm afraid reviewing it thoroughly might be more time consuming and would induce less confidence in me finally a-c-king it. \r\n\r\nMoreover, I feel the benefits of such a refactor would be more highlighted and appreciated if this can be broken down into smaller PRs in addition to ensuring data-correctness. Couple reasons I'm suggesting a breakdown are:\r\n1. I would like to give more attention to each of the commits by trying to understand their consequences on the wallet as a whole.\r\n2. I don't suppose all the commits are required to be present sequentially in a single PR based on my initial look, please feel free to correct me if I'm mistaken about their ability to be present in parallel.\r\n\r\n<details open>\r\n<summary>PR breakdown suggestion</summary>\r\n\r\nThe first 3 can be done in parallel & the last one might be dependent on the previous ones:\r\n\r\n1. The `PopulateWalletFromDB` related changes can be 1 PR - the first 2 commits.\r\n3. The `fBroadcastTransactions` change is independent, can be clubbed with the birth-time-update-removal optimisation - 3rd, 6th commits.\r\n4. The argument parsing changes also seem independent to me and can be another PR - 4th, 5th commits.\r\n5. No strong opinion on the wallet stats logging commit, can go anywhere.\r\n6. The last 5 commits can be 1 PR that introduces and uses the `LoadExisting` & `CreateNew` functions.\r\n</details>\r\n\r\n\r\nAlso, I believe [this is a good suggestion](https://github.com/bitcoin/bitcoin/pull/32636#issuecomment-2920676506) that might give dividends in the future and breaking down into smaller PRs might make it easy to incorporate it.\r\n\r\nHaving suggested all this, if you think the reward for breaking down the PR is not enough because the smaller refactoring PRs might not attract reviewers or might add rebase churn, I would still review this PR later but some kind of breakdown would aid review if not the one that I suggested.\r\n\r\nSorry if this got too long.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2932150392",
      "submitted_at": "2025-06-16T14:38:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150021064",
      "pull_request_review_id": 2932150392,
      "id": 2150021064,
      "node_id": "PRRC_kwDOABII586AJrfI",
      "diff_hunk": "@@ -3081,12 +3081,7 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n         return nullptr;\n     }\n \n-    {\n-        LOCK(walletInstance->cs_wallet);\n-        walletInstance->WalletLogPrintf(\"setKeyPool.size() = %u\\n\",      walletInstance->GetKeyPoolSize());\n-        walletInstance->WalletLogPrintf(\"mapWallet.size() = %u\\n\",       walletInstance->mapWallet.size());\n-        walletInstance->WalletLogPrintf(\"m_address_book.size() = %u\\n\",  walletInstance->m_address_book.size());\n-    }\n+    WITH_LOCK(walletInstance->cs_wallet, walletInstance->LogStats());",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "original_commit_id": "744ebdc18556223b8749a7fed420c9ae95be418e",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 744ebdc18556223b8749a7fed420c9ae95be418e:\r\n\r\nSometime back I noted that during the creation of encrypted wallets, the wallet metrics are not correctly logged after the SPKMs have been created. This is unlike the creation of non-encrypted wallets where the correct metrics are logged because they are done so after the setup of SPKMS. PFB a sample from my node.\r\n\r\n```bash\r\n^[[C=2025-05-27T15:19:21Z Using SQLite Version 3.43.2\r\n2025-05-27T15:19:21Z Using wallet /Users/rkrux/Library/ApplicationSupport/Bitcoin/regtest/wallets/encryptedtest\r\n2025-05-27T15:19:21Z init message: Loading walletâ€¦\r\n2025-05-27T15:19:21Z [encryptedtest] Legacy Wallet Keys: 0 plaintext, 0 encrypted, 0 w/ metadata, 0 total.\r\n2025-05-27T15:19:21Z [encryptedtest] Descriptors: 0, Descriptor Keys: 0 plaintext, 0 encrypted, 0 total.\r\n2025-05-27T15:19:21Z [encryptedtest] Setting minversion to 169900\r\n2025-05-27T15:19:21Z [encryptedtest] Wallet completed loading in              12ms\r\n2025-05-27T15:19:21Z [encryptedtest] setKeyPool.size() = 0\r\n2025-05-27T15:19:21Z [encryptedtest] mapWallet.size() = 0\r\n2025-05-27T15:19:21Z [encryptedtest] m_address_book.size() = 0\r\n2025-05-27T15:19:22Z [encryptedtest] Encrypting Wallet with an nDeriveIterations of 251048\r\n2025-05-27T15:19:22Z [encryptedtest] Setting spkMan to active: id = a8af620b202a2542a6b4575578133499397089fa67110b27dffced31b3e6ccbd, type = legacy, internal = false\r\n2025-05-27T15:19:22Z [encryptedtest] Setting spkMan to active: id = b389c6313cd85b907990fd2c57a87db230fa0dad1c94c929dd0e010e036d802e, type = p2sh-segwit, internal = false\r\n2025-05-27T15:19:22Z [encryptedtest] Setting spkMan to active: id = 727d3e57942f107c713932ccf8aec8f6968ee76b98f8787802afc62cbaa13d38, type = bech32, internal = false\r\n```\r\n\r\nI was not sure if a PR just for this would garner review but now that the code touching these metrics is being updated anyway, might as well fix this issue. I have not checked if this PR already fixes it, great if it does!",
      "created_at": "2025-06-16T13:31:53Z",
      "updated_at": "2025-06-16T14:38:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2150021064",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150021064"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3084,
      "start_side": "LEFT",
      "line": null,
      "original_line": 3084,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150072960",
      "pull_request_review_id": 2932150392,
      "id": 2150072960,
      "node_id": "PRRC_kwDOABII586AJ4KA",
      "diff_hunk": "@@ -3021,11 +3021,6 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n         return nullptr;\n     }\n \n-    // This wallet is in its first run if there are no ScriptPubKeyMans and it isn't blank or no privkeys\n-    const bool fFirstRun = walletInstance->m_spk_managers.empty() &&\n-                     !walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) &&\n-                     !walletInstance->IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "0f82224d3937db3f60cfaec249ac5fe3264dc3d5",
      "original_commit_id": "d5d55b3554ddce4a476ea849b81aaa433fe5008c",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> The real win of this PR is that CWallet::Create() uses a very bad heuristic for trying to guess whether or not it is supposed to be creating a new wallet or loading an existing wallet\r\n\r\nAgree that this is not a good heuristic but the PR description doesn't seem to explain or summarise why it's a bad heuristic. Maybe add few points from the findings of the linked issues? ",
      "created_at": "2025-06-16T13:54:12Z",
      "updated_at": "2025-06-16T14:38:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32636#discussion_r2150072960",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2150072960"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32636"
        }
      },
      "start_line": null,
      "original_start_line": 3024,
      "start_side": "LEFT",
      "line": null,
      "original_line": 3027,
      "side": "LEFT"
    }
  ]
}