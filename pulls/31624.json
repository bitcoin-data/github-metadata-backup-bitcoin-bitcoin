{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624",
    "id": 2268115261,
    "node_id": "PR_kwDOABII586HMLE9",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31624",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31624.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31624.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31624",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31624/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a04f17a1882407db09b0a07338e12877ac1d9e92",
    "number": 31624,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "doc: warn that CheckBlock() underestimates sigops",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Counting sigops in the witness requires context that `CheckBlock()`  does not have, so it only counts sigops for non-segwit transactions.\r\n\r\nIt's useful to document, but it should not be a problem.\r\n\r\nThe commit message contains some historical context.",
    "labels": [
      {
        "id": 148216,
        "node_id": "MDU6TGFiZWwxNDgyMTY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Docs",
        "name": "Docs",
        "color": "02d7e1",
        "default": false
      }
    ],
    "created_at": "2025-01-09T11:08:18Z",
    "updated_at": "2025-05-13T16:20:54Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "a76810649b35560c82f59412d250ab2deb383439",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "Sjors:2025/01/doc-sigops",
      "ref": "2025/01/doc-sigops",
      "sha": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 92390696,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjM5MDY5Ng==",
        "name": "bitcoin",
        "full_name": "Sjors/bitcoin",
        "owner": {
          "login": "Sjors",
          "id": 10217,
          "node_id": "MDQ6VXNlcjEwMjE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Sjors",
          "html_url": "https://github.com/Sjors",
          "followers_url": "https://api.github.com/users/Sjors/followers",
          "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
          "organizations_url": "https://api.github.com/users/Sjors/orgs",
          "repos_url": "https://api.github.com/users/Sjors/repos",
          "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Sjors/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/Sjors/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Sjors/bitcoin",
        "archive_url": "https://api.github.com/repos/Sjors/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Sjors/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Sjors/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Sjors/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Sjors/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Sjors/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Sjors/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Sjors/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Sjors/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Sjors/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Sjors/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Sjors/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Sjors/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Sjors/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Sjors/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Sjors/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Sjors/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Sjors/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Sjors/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Sjors/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Sjors/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Sjors/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Sjors/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Sjors/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Sjors/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Sjors/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Sjors/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Sjors/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Sjors/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Sjors/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Sjors/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Sjors/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Sjors/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Sjors/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Sjors/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Sjors/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Sjors/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Sjors/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Sjors/bitcoin/hooks",
        "svn_url": "https://github.com/Sjors/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 14,
        "watchers_count": 14,
        "size": 262915,
        "default_branch": "sv2",
        "open_issues_count": 10,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-13T15:12:27Z",
        "created_at": "2017-05-25T10:05:54Z",
        "updated_at": "2025-04-24T20:23:36Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1b4ddb0c2d106605b731211d71f8cfe00f56596a",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37212,
        "stargazers_count": 83547,
        "watchers_count": 83547,
        "size": 281840,
        "default_branch": "master",
        "open_issues_count": 726,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-13T15:39:27Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-13T16:33:55Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 2,
    "deletions": 0,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 21,
    "comments": 4
  },
  "events": [
    {
      "event": "commented",
      "id": 2579863623,
      "node_id": "IC_kwDOABII586ZxZhH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2579863623",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T11:08:23Z",
      "updated_at": "2025-05-08T21:27:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31624.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/31624#pullrequestreview-2826075627), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/31624#pullrequestreview-2826389039) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#issuecomment-2579863623",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31624"
    },
    {
      "event": "labeled",
      "id": 15866364766,
      "node_id": "LE_lADOABII586ljZy0zwAAAAOxtYNe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15866364766",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T11:08:26Z",
      "label": {
        "name": "Docs",
        "color": "02d7e1"
      }
    },
    {
      "event": "reviewed",
      "id": 2781952277,
      "node_id": "PRR_kwDOABII586l0TkV",
      "url": null,
      "actor": null,
      "commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 0ac19a98f329fe8952f394509a7a29775ab805b0\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#pullrequestreview-2781952277",
      "submitted_at": "2025-04-21T18:23:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
    },
    {
      "event": "reviewed",
      "id": 2825308443,
      "node_id": "PRR_kwDOABII586oZskb",
      "url": null,
      "actor": null,
      "commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 0ac19a98f329fe8952f394509a7a29775ab805b0 with a nit and another suggestion\r\n\r\n\r\nThe size limit check above the sigops check also underestimates the block size because it does not include the witness.\r\n",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#pullrequestreview-2825308443",
      "submitted_at": "2025-05-08T15:05:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEwNGYxN2ExODgyNDA3ZGIwOWIwYTA3MzM4ZTEyODc3YWMxZDllOTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a04f17a1882407db09b0a07338e12877ac1d9e92",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a04f17a1882407db09b0a07338e12877ac1d9e92",
      "tree": {
        "sha": "849defdf21e4cfa2ad526faa21e79cd539f332f4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/849defdf21e4cfa2ad526faa21e79cd539f332f4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 849defdf21e4cfa2ad526faa21e79cd539f332f4\nparent 66aa6a47bd8efd7e0448319c74be3ee62caa777a\nauthor Sjors Provoost <sjors@sprovoost.nl> 1746722269 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1746722269 +0200\n\ndoc: warn that CheckBlock() underestimates sigops\n\nCounting sigops in the witness and for p2sh requires\ncontext that CheckBlock()  does not have, so it only\ncounts a subset of sigops.\n\nThe check here was introduced by Satoshi as a \"cleanup\" in\nf1e1fb4bdef878c8fc1564fa418d44e7541a7e83. With the attempted\nintroduction of OP_EVAL, it was replaced by the check in\nConnectBlock(). Commit e679ec969c8b22c676ebb10bea1038f6c8f13b33\nmarked this code as a placeholder for backward compatibility.\n\nThen when P2SH replaced OP_EVAL in 922e8e2929a2e78270868385aa46f96002fbcff3\nthe phrase \"compatibility-breaking\" was replaced by a simple\nobservation that before v0.6 this is how sigops were counted.\n\nIt's unclear why the check was kept and there were no review comments\nabout it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmgc3gQACgkQV/+b28ww\nEAkhog//XouonUJjiigNFLLz5dkGvciMa2O3CQ5PZnbLDTa87KChM8GjcqkwcSzO\n5BnA7ryMsAMBQZGxSMjRNbtMDSHDLaijzhmuWJxQR/81x6NGaV97bA0VlE5a6dd5\nD2F3Qr+02lVVPpLeBdfDZ3I2IaD4Cex5rhLVdP01a6gQNzLSR69zOGovry4Vyd/U\nbvYU6JGZlX4HbjKlC7WGz2BNoZf/LFqcgm8gRQHqckYVoBJ5DEupZwLIaKwnHMl0\n+Ty0oEdWiEBDUxyFwZQ8QN6FHi0fR32w8kbP4zWHVC0K9SCX0FzjnjmuJecjwvWG\nQ+hDo6ZtdCXzx9w9bqe82kxMHxeerAEdakxkd6ArIp9OBKRx39OYcXP+laBseGMt\nB0WcRjg/FA1/jblvY/PIqlmSq4p21ynrbgA5KOrxAMipGIcpNnZlevbNnIYs0dcQ\nsn1sPC9/KswGZNchE76WP2c3kkUuLSLWajHmf3PSMW0tPcUFB8JN0AXNUzYvBdW+\ngA2jjhUA37V4WF3HfBFjS5aurMy096xKp9Dt0XsO3mghL34qaV5faUFRlzz9XFV6\nVkK79tCb/s62CaEVVWla22eznbpAX3HhEy+2lRAKNm755uMwhQ57NtdafJnRTbAZ\n1CxWlgV8SzwlLq6ZrMG9lKBdz8hOKdbAvSVlACO+GrUZv3UYdJg=\n=aVUw\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/66aa6a47bd8efd7e0448319c74be3ee62caa777a",
          "sha": "66aa6a47bd8efd7e0448319c74be3ee62caa777a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/66aa6a47bd8efd7e0448319c74be3ee62caa777a"
        }
      ],
      "message": "doc: warn that CheckBlock() underestimates sigops\n\nCounting sigops in the witness and for p2sh requires\ncontext that CheckBlock()  does not have, so it only\ncounts a subset of sigops.\n\nThe check here was introduced by Satoshi as a \"cleanup\" in\nf1e1fb4bdef878c8fc1564fa418d44e7541a7e83. With the attempted\nintroduction of OP_EVAL, it was replaced by the check in\nConnectBlock(). Commit e679ec969c8b22c676ebb10bea1038f6c8f13b33\nmarked this code as a placeholder for backward compatibility.\n\nThen when P2SH replaced OP_EVAL in 922e8e2929a2e78270868385aa46f96002fbcff3\nthe phrase \"compatibility-breaking\" was replaced by a simple\nobservation that before v0.6 this is how sigops were counted.\n\nIt's unclear why the check was kept and there were no review comments\nabout it.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2025-05-08T16:37:49Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2025-05-08T16:37:49Z"
      },
      "sha": "a04f17a1882407db09b0a07338e12877ac1d9e92"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17577283811,
      "node_id": "HRFPE_lADOABII586ljZy0zwAAAAQXsBDj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17577283811",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/a04f17a1882407db09b0a07338e12877ac1d9e92",
      "created_at": "2025-05-08T16:39:12Z"
    },
    {
      "event": "commented",
      "id": 2863671202,
      "node_id": "IC_kwDOABII586qsCei",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2863671202",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-08T16:41:10Z",
      "updated_at": "2025-05-08T16:43:46Z",
      "author_association": "MEMBER",
      "body": "I expanded the comment to mention that p2sh isn't counted either.\r\n\r\nI also added some history to the commit message. This seems to be a case of: none of the reviewers of #748 brought it up, but there were no reviewers :-)\r\n\r\nAlso rebased.\r\n\r\n> The size limit check above the sigops check also underestimates the block size because it does not include the witness.\r\n\r\nWell that's weird. But better to tackle in a different PR.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#issuecomment-2863671202",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31624"
    },
    {
      "event": "reviewed",
      "id": 2826075627,
      "node_id": "PRR_kwDOABII586ocn3r",
      "url": null,
      "actor": null,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK a04f17a1882407db09b0a07338e12877ac1d9e92\r\n\r\nThanks for taking my suggestion and providing the context.\r\n\r\n----\r\nI will prefer if the size check is also clarified in same PR.\r\nCombining the two in same PR might be better to not miss writing the follow-up.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#pullrequestreview-2826075627",
      "submitted_at": "2025-05-08T18:45:45Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
    },
    {
      "event": "review_requested",
      "id": 17578927883,
      "node_id": "RRE_lADOABII586ljZy0zwAAAAQXyScL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17578927883",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-08T18:45:49Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2826389039,
      "node_id": "PRR_kwDOABII586od0Yv",
      "url": null,
      "actor": null,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK a04f17a1882407db09b0a07338e12877ac1d9e92\r\n\r\nThanks for digging up the history! At least it's clear how the check get here, though not exactly what it was trying to do.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#pullrequestreview-2826389039",
      "submitted_at": "2025-05-08T21:27:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
    },
    {
      "event": "commented",
      "id": 2865918066,
      "node_id": "IC_kwDOABII586q0nBy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2865918066",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-09T09:52:16Z",
      "updated_at": "2025-05-09T09:52:16Z",
      "author_association": "MEMBER",
      "body": "> Combining the two in same PR might be better to not miss writing the follow-up.\r\n\r\nCould just open an issue to track it?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#issuecomment-2865918066",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31624"
    },
    {
      "event": "reviewed",
      "id": 2827771860,
      "node_id": "PRR_kwDOABII586ojF_U",
      "url": null,
      "actor": null,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I happened to be working on a PR that's related to the exact same code path.\r\n\r\nI'm not sure whether the call is redundant or not, but I can understand why we want to avoid situations like https://github.com/bitcoin/bitcoin/pull/9049.\r\n\r\nI would prefer a more high-level explanation for the difference between the two calls - explained through code and tests preferably instead of comments - or maybe both.\r\n\r\nThere are a few minor typos in the commit message as well and it's a bit hand-wavy - can we find some answers here instead of just repeating the review questions in the commit message?",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#pullrequestreview-2827771860",
      "submitted_at": "2025-05-09T10:11:47Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
    },
    {
      "event": "commented",
      "id": 2866037471,
      "node_id": "IC_kwDOABII586q1ELf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2866037471",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-09T10:31:00Z",
      "updated_at": "2025-05-09T10:31:00Z",
      "author_association": "MEMBER",
      "body": "The purpose of this comment isn't to be throrough, it's there to:\r\n\r\n1. Warn callers to not rely _only_ on this check\r\n2. For anyone who wants to get rid of this check, point to the relevant context\r\n\r\nI think (2) can be achieved with just a commit message and the fact that our merge script points back to the original PR.\r\n\r\nI'm not opposed to writing a longer comment, but I suspect it would take a long time to find a text everyone agrees on. And by the time we do, we might as well change the code itself, which is what I wanted to avoid having to work on.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#issuecomment-2866037471",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31624"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052821662",
      "pull_request_review_id": 2781952277,
      "id": 2052821662,
      "node_id": "PRRC_kwDOABII5856W5Ke",
      "diff_hunk": "@@ -4094,6 +4094,7 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness:",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"doc: warn that CheckBlock() underestimates sigops\" (0ac19a98f329fe8952f394509a7a29775ab805b0)\r\n\r\nMight be good to say why this check is useful if it's not a problem for it to be inaccurate.\r\n\r\nMight also be good if PR description mentioned motivation for the change. This all looks ok but it's a bit confusing because it's not clear what the context is.",
      "created_at": "2025-04-21T18:22:46Z",
      "updated_at": "2025-04-21T18:23:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2052821662",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052821662"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2053597806",
      "pull_request_review_id": 2783262306,
      "id": 2053597806,
      "node_id": "PRRC_kwDOABII5856Z2pu",
      "diff_hunk": "@@ -4094,6 +4094,7 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness:",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "in_reply_to_id": 2052821662,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The original context was that a miner created an invalid block with too many sigops. I wanted to make sure that it was because they made an invalid patch, and not because our code is broken. I wrote this comment while trying to understand the behaviour better.\r\n\r\nIt may be a good idea to actually improve the check here, since it's relied on by `getblocktemplate` in proposal mode and by #31981. But that would be another PR imo.",
      "created_at": "2025-04-22T08:21:31Z",
      "updated_at": "2025-04-22T08:21:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2053597806",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2053597806"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2060159606",
      "pull_request_review_id": 2793981181,
      "id": 2060159606,
      "node_id": "PRRC_kwDOABII5856y4p2",
      "diff_hunk": "@@ -4094,6 +4094,7 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness:",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "in_reply_to_id": 2052821662,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "As explained in https://github.com/bitcoin/bitcoin/pull/31981#issuecomment-2830264751 this is fine. `TestBlockValidity` also calls the more thorough method.\r\n\r\nI don't know why this check is here, perhaps just a way to quickly reject a block with lots of sigops?",
      "created_at": "2025-04-25T12:34:10Z",
      "updated_at": "2025-04-25T12:34:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2060159606",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2060159606"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2079816983",
      "pull_request_review_id": 2825308443,
      "id": 2079816983,
      "node_id": "PRRC_kwDOABII5857930X",
      "diff_hunk": "@@ -4094,6 +4094,7 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness:",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: maybe be specific.\r\n```suggestion\r\n    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness sigops and p2sh sigops:\r\n\r\n```",
      "created_at": "2025-05-08T14:18:18Z",
      "updated_at": "2025-05-08T15:05:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2079816983",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2079816983"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2079904329",
      "pull_request_review_id": 2825308443,
      "id": 2079904329,
      "node_id": "PRRC_kwDOABII5857-NJJ",
      "diff_hunk": "@@ -4094,6 +4094,7 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness:",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "in_reply_to_id": 2052821662,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it's okay to have this check here to catch those violations early.  ",
      "created_at": "2025-05-08T15:01:56Z",
      "updated_at": "2025-05-08T15:05:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2079904329",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2079904329"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080055225",
      "pull_request_review_id": 2825704927,
      "id": 2080055225,
      "node_id": "PRRC_kwDOABII5857-x-5",
      "diff_hunk": "@@ -4094,6 +4094,7 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness:",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "in_reply_to_id": 2052821662,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It was introduced by e679ec969c8b22c676ebb10bea1038f6c8f13b33 in preparation for OP_EVAL (which was eventually replaced by P2SH). It seems the initial goal was to have a backward compatible sigop check:\r\n\r\n```cpp\r\n// This code should be removed when a compatibility-breaking block chain split has passed.\r\n// Compatibility check for old clients that counted sigops differently:\r\n```\r\n\r\nThe commit drops the `GetSigOpCount()` helper and copy-pasted its implementation into `CheckBlock()`, where it previously called this method. The same commit implements sigops checking in `ConnectBlock`.\r\n\r\nI still don't understand in what way this was supposed to help with backward compatibility.\r\n\r\nBut even if the original intention was for this code to be temporary, things have moved around so much that this would just have to rethought from scratch.\r\n\r\nI'll update the commit message to at least point to this historical commit.",
      "created_at": "2025-05-08T16:21:29Z",
      "updated_at": "2025-05-08T16:21:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2080055225",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080055225"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080084146",
      "pull_request_review_id": 2825755136,
      "id": 2080084146,
      "node_id": "PRRC_kwDOABII5857-5Cy",
      "diff_hunk": "@@ -4094,6 +4094,7 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it does not count the witness:",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "0ac19a98f329fe8952f394509a7a29775ab805b0",
      "in_reply_to_id": 2079816983,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good catch, and this was helpful in figuring out the history...",
      "created_at": "2025-05-08T16:39:44Z",
      "updated_at": "2025-05-08T16:39:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2080084146",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080084146"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080480454",
      "pull_request_review_id": 2826389039,
      "id": 2080480454,
      "node_id": "PRRC_kwDOABII5858AZzG",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"doc: warn that CheckBlock() underestimates sigops\" (a04f17a1882407db09b0a07338e12877ac1d9e92)\r\n\r\nThis comment is good to have but would be nice to clarify:\r\n\r\n1. Why it is not a problem to underestimate?\r\n2. What this check accomplishes if isn't accurate?\r\n3. If it might be better to remove the check or update it?\r\n\r\nMight suggest expanding comment to something like \"This check underestimates the number of sigops because it does not count witness and p2sh sigops. This is not a problem for validation because ConnectBlock will check them. Having the check here is useful for mining even though it isn't perfect, and it could be improved in the future.\"",
      "created_at": "2025-05-08T21:17:34Z",
      "updated_at": "2025-05-08T21:28:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2080480454",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080480454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081342307",
      "pull_request_review_id": 2827739282,
      "id": 2081342307,
      "node_id": "PRRC_kwDOABII5858DsNj",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think it's useful at all, given the historical context. But I don't feel confident enough about dropping it either. That's why I added the historical context in the commit message, so someone else in the future can try dropping it.",
      "created_at": "2025-05-09T09:51:06Z",
      "updated_at": "2025-05-09T09:51:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2081342307",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081342307"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081363131",
      "pull_request_review_id": 2827771860,
      "id": 2081363131,
      "node_id": "PRRC_kwDOABII5858DxS7",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it",
      "path": "src/validation.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> it does not count witness and p2sh sigops\r\n\r\nIsn't it obvious from the name `Get*Legacy*SigOpCount` and the parameter `GetSigOpCount(bool fAccurate)` called as `GetSigOpCount(false)` that new script types aren't covered and that it's not meant to be accurate but rather compatible with old behavior?\r\n\r\nInstead (or maybe next to) the comments, I'd find it more helpful if we documented what the `false` means in `GetLegacySigOpCount`:\r\n```C++\r\nunsigned int GetLegacySigOpCount(const CTransaction& tx)\r\n{\r\n    unsigned int nSigOps = 0;\r\n    for (const auto& txin : tx.vin) {\r\n        nSigOps += txin.scriptSig.GetSigOpCount(/*fAccurate*/false);\r\n    }\r\n    for (const auto& txout : tx.vout) {\r\n        nSigOps += txout.scriptPubKey.GetSigOpCount(/*fAccurate*/false);\r\n    }\r\n    return nSigOps;\r\n}\r\n```\r\n\r\nand maybe to obviate the `DecodeOP_N` vs `MAX_PUBKEYS_PER_MULTISIG` accuracy difference which isn't immediately obvious from the code.",
      "created_at": "2025-05-09T10:03:39Z",
      "updated_at": "2025-05-09T10:11:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2081363131",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081363131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4097,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081395687",
      "pull_request_review_id": 2827825804,
      "id": 2081395687,
      "node_id": "PRRC_kwDOABII5858D5Pn",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it",
      "path": "src/validation.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2081363131,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Isn't it obvious from the name\r\n\r\nGiven our history of bad function names, no :-)",
      "created_at": "2025-05-09T10:25:00Z",
      "updated_at": "2025-05-09T10:25:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2081395687",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081395687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4097,
      "original_line": 4097,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081485161",
      "pull_request_review_id": 2827974438,
      "id": 2081485161,
      "node_id": "PRRC_kwDOABII5858EPFp",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for clarifying. I got the impression that you did think it was useful from \"It may be a good idea to actually improve the check here, since it's relied on by `getblocktemplate` in proposal mode and by #31981\" (https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2053597806). But I guess you were saying it *could* be useful if it were improved, not that it is useful currently.\r\n\r\nAnyway I was mostly asking about this because I was confused. Assuming you are happy with PR in current form I will go ahead and merge this later today based on the two ACKs. Obviously there are more changes that could be made but this is a clear improvement over the status quo.",
      "created_at": "2025-05-09T11:31:46Z",
      "updated_at": "2025-05-09T11:31:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2081485161",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081485161"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081627012",
      "pull_request_review_id": 2828229561,
      "id": 2081627012,
      "node_id": "PRRC_kwDOABII5858ExuE",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": ">  since it's relied on by getblocktemplate in proposal mode\r\n\r\nThat was a mistake on my end, because `checkBlock` calls `connectBlock` which does the full check.",
      "created_at": "2025-05-09T13:05:19Z",
      "updated_at": "2025-05-09T13:05:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2081627012",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2081627012"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082406101",
      "pull_request_review_id": 2829512900,
      "id": 2082406101,
      "node_id": "PRRC_kwDOABII5858Hv7V",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm a bit hesitant, because this part of the code has more comments than usual, e.g.\r\n```C++\r\n/**\r\n * Pre-version-0.6, Bitcoin always counted CHECKMULTISIGs\r\n * as 20 sigops. With pay-to-script-hash, that changed:\r\n * CHECKMULTISIGs serialized in scriptSigs are\r\n * counted more accurately, assuming they are of the form\r\n *  ... OP_N CHECKMULTISIG ...\r\n */\r\nunsigned int GetSigOpCount(bool fAccurate) const;\r\n\r\n/**\r\n * Accurately count sigOps, including sigOps in\r\n * pay-to-script-hash transactions:\r\n */\r\nunsigned int GetSigOpCount(const CScript& scriptSig) const;\r\n```\r\n\r\nI'm not sure the ones in this PR add to this in a meaningful way.",
      "created_at": "2025-05-09T19:48:25Z",
      "updated_at": "2025-05-09T19:48:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2082406101",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082406101"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082414176",
      "pull_request_review_id": 2829524486,
      "id": 2082414176,
      "node_id": "PRRC_kwDOABII5858Hx5g",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This seems like a meaningful improvement to me because it clearly states that the check is inaccurate, but if there are downsides to merging this let me know!",
      "created_at": "2025-05-09T19:55:01Z",
      "updated_at": "2025-05-09T19:55:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2082414176",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082414176"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082422282",
      "pull_request_review_id": 2829537772,
      "id": 2082422282,
      "node_id": "PRRC_kwDOABII5858Hz4K",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> clearly states that the check is inaccurate\r\n\r\nIsn't that already clear from calling `bool fAccurate` with `false`? In a method called `GetLegacySigOpCount` with the doc:\r\n```C++\r\n * Count ECDSA signature operations the old-fashioned (pre-0.6) way\r\n ```\r\n ? Seems to me the warnings are already all over the place.\r\n \r\n If we need more warnings, can we improve the existing ones instead? Or improve the code to not need so many comments in the first place?",
      "created_at": "2025-05-09T20:01:45Z",
      "updated_at": "2025-05-09T20:06:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2082422282",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082422282"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082486420",
      "pull_request_review_id": 2829643817,
      "id": 2082486420,
      "node_id": "PRRC_kwDOABII5858IDiU",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Or improve the code to not need so many comments in the first place?\r\n\r\nSo IIUC having the comment itself is a downside? I think different people use comments differently. I like when comments are there to help me navigate code and call out things that are notable, even repeat things that are \"clear,\" because I find most comments easier to read than most code, and I like when I can get an overview of what is happening by just reading the comments and not even looking at the code. I think other people don't use comments like that and see them more like a red flag or tax that has to be paid when code isn't expressive enough to communicate what is doing.\r\n\r\nSo I think the disagreement here may mostly come down to personal preference, but this feedback is helpful, and I will hold off merging this to see if there will be another ack or nack.\r\n\r\nAlso if have a clear alternative you like better feel free to post or link!",
      "created_at": "2025-05-09T20:56:43Z",
      "updated_at": "2025-05-09T21:00:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2082486420",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082486420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082492235",
      "pull_request_review_id": 2829654019,
      "id": 2082492235,
      "node_id": "PRRC_kwDOABII5858IE9L",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, I usually treat comments as admitting defeat, since if we thought the code was obvious, we wouldn't feel the need to add more explanation to it. It's a repetition, a dead weight.\r\nBut here it's already over-explained, what's the exact reason for wanting even more comments (but not even considering code changes like `GetSigOpCount(/*fAccurate*/false)` - which isn't just a dead comment since linters are checking it)?",
      "created_at": "2025-05-09T21:00:54Z",
      "updated_at": "2025-05-09T21:01:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2082492235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082492235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082510695",
      "pull_request_review_id": 2829690131,
      "id": 2082510695,
      "node_id": "PRRC_kwDOABII5858IJdn",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> But here it's already over-explained, what's the exact reason for wanting even more comments\r\n\r\nI think we probably disagree that the current code is overexplained. At least 3 of us here think that current code is confusing and a04f17a1882407db09b0a07338e12877ac1d9e92 is an improvement.\r\n\r\n> (but not even considering code changes like `GetSigOpCount(/*fAccurate*/false)` - which isn't just a dead comment since linters are checking it)?\r\n\r\nI didn't consider this just because I didn't know it was the clear solution you preferred over this PR. It's easier to compare two compete alternatives than compare a complete proposal with a partial suggestion. If you can implement your preferred solution in a commit, I think that would be great. It looks like a good change.",
      "created_at": "2025-05-09T21:16:47Z",
      "updated_at": "2025-05-09T21:16:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2082510695",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082510695"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082514102",
      "pull_request_review_id": 2829695767,
      "id": 2082514102,
      "node_id": "PRRC_kwDOABII5858IKS2",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It was suggested in https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2081363131 already - but I can do it in a follow-up as well, since I'm working on optimizing these checks anyway - and if you think this comment helps, let's add it, I won't block.",
      "created_at": "2025-05-09T21:19:27Z",
      "updated_at": "2025-05-09T21:19:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2082514102",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2082514102"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087205482",
      "pull_request_review_id": 2837408256,
      "id": 2087205482,
      "node_id": "PRRC_kwDOABII5858aDpq",
      "diff_hunk": "@@ -4094,6 +4094,8 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), tx_state.GetDebugMessage()));\n         }\n     }\n+    // This underestimates the number of sigops, because unlike ConnectBlock it\n+    // does not count witness and p2sh sigops.",
      "path": "src/validation.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "original_commit_id": "a04f17a1882407db09b0a07338e12877ac1d9e92",
      "in_reply_to_id": 2080480454,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "For me, comments are most useful in the following cases:\r\n\r\n1. When the code is confusing or difficult to understand in such cases, a high-level overview is helpful, especially when the code cannot be simplified.\r\n2. To provide justification for a function call or explain the rationale behind a particular decision.\r\n3. To offer warnings, notes, or contextual insights for the reader  I actually enjoy reading these kinds of comments, and Iâ€™ve noticed this is done in some places in the codebase.\r\n4. For documenting APIs.\r\n\r\nI checked [developer-notes.md](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md), and it seems thereâ€™s no dedicated section on comments. It would be nice to have one.\r\n\r\nWhatâ€™s currently missing in this PR is a clear explanation of whether the check is redundant or necessary especially given that we already perform a full `sigops` count check in `ConnectBlock`. If that rationale were explicitly written, I believe it would be the most important part of the comment, similar to the size check above it.\r\n\r\nSo, I would categorize this PR as addressing point 3.\r\n\r\nEven without this PR, as @l0rinc mentioned, someone could dig into the code and eventually realize that itâ€™s an incomplete check. But I think having a short comment above the function call making it explicit is okay.\r\n\r\nThat said, I donâ€™t have a strong opinion on this. I just think the comment is correct and also gives an additional history of the check for who wants to work on 3 later hence my ACK.\r\n",
      "created_at": "2025-05-13T16:20:54Z",
      "updated_at": "2025-05-13T16:20:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31624#discussion_r2087205482",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087205482"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31624"
        }
      },
      "start_line": 4097,
      "original_start_line": 4097,
      "start_side": "RIGHT",
      "line": 4098,
      "original_line": 4098,
      "side": "RIGHT"
    }
  ]
}