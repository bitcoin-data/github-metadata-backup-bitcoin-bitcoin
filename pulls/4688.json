{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4688",
    "id": 19685555,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTk2ODU1NTU=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4688",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/4688.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/4688.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4688/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4688/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a7555d6f6430aa2ddc83404ae9b627d7d0dd1f6f",
    "number": 4688,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Improvement to the Test Framework in the processing of test blocks",
    "user": {
      "login": "SergioDemianLerner",
      "id": 1752347,
      "node_id": "MDQ6VXNlcjE3NTIzNDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SergioDemianLerner",
      "html_url": "https://github.com/SergioDemianLerner",
      "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
      "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
      "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
      "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
      "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For several reasons the current test framework does not allow to easily incorporate new unit tests that append specially crafted blocks to the blockchain using ProcessBlock(). \nThis was pointed out by Mike Hearn on the development list in the thread with subject \"[Bitcoin-development] Question on creating test cases for block.CheckBlock()\" (http://article.gmane.org/gmane.comp.bitcoin.devel/5939).\n\nAfter debugging the Bitcoin core, we found that this is because of three reasons:\n1. The miner_tests.cpp leaves the transaction pool in an invalid state and assumes the blockchain is empty on start. So other independent unit tests cannot be run before nor after (without proper cleaning) if they intend to use CreateNewBlock(), which collects transactions from the pool.\n2. Creating test blocks requires proof-of-work. Even if the starting difficulty is low (1) the required proof-of-work is still too high to allow for the dynamic creation of test blocks. Instead, unit test have to be \"pre-mined\". This makes the code more opaque and increases the effort of changing the code.\n3. Only the first unit test can start with an empty blockchain, all subsequent tests have to start with the blockchain in the state where the previous test left it. This has the following problematic consequences:\n   a. Each unit test makes the blockchain longer. This breaks the test sequence when a checkpoint is reached because a checkpoint requires a pre-determined hash digest. Moreover, there are exception cases for certain block heights (e.g. regarding allowing two transactions with the same hash) which could be violated.\n   b. Certain combinations of unit tests are inherently impossible to implement in a single block-chain if not run in an specific order.\n   Other combinations may cause unexpected consequences. For example, since version 1 blocks do not have the height field included in the coinbase field of the generation transaction, a unit test may create a coinbase tx with a future height in the height field and prevent a coinbase tx with the same hash to be used afterward when only blocks v2 are accepted (this happened to us while testing). \n   c. The standard unit testing policy that unit tests should be not depend on each other's output is violated.\n   This makes debugging more difficult.\n   d. \"Pre-mining\" unit tests is impossible unless all previous unit tests are known and never change. (However, we are proposing to eliminate the proof-of-work check regardless.) \n\nWe believe that testing the block acceptance rules is crucial for the safety of the application and so we wrote this patch.\nBy restarting the blockchain before every unit test that requires testing block acceptance we have the guarantee that all tests are independent, executed in a predefined reproducable environment, and don't unintentionally hit checkpoints or other exceptions. Nevertheless, each unit test decides whether to re-use or reset the block-chain. We haven't perceived any significant delay while performing the destruction and creation of the block-chain during the execution of the test application. This is because file space allocation functions are fast on modern filesystems. Nevertheless, UNDOFILE_CHUNK_SIZE/BLOCKFILE_CHUNK_SIZE can be reduced during test case execution if the block-chain is reset many times.\n\nIn detail, this patch solves 1.,2.,3. from above by:\n- Providing a method to reset the blockchain to the starting state (testingSetupManager.SetupGenesisBlockChain())\n- Allowing to dynamically skip the proof-of-work testing (supressCheckBlockWork = true)\n- Fixing the bug in miner_tests.cpp which leaves in the memory pool invalid transactions (mempool.clear() missing).\n\nWe've also found the exact procedure that can be used to programmatically destroy and re-create the blockchain correctly, which was not implemented and nor documented. Some cleanup methods existed but some other were added because they were missing.\n\nThis could be of great help to re-create completely the blockchain in case a severe damage has been detected, without restarting the application.\n\nAs a bonus, 7 unit tests have been added:\n- ToCheckBlockUpgradeMajority (untested before)\n- EnforceBlockUpgradeMajority (untested before)\n- RejectBlockOutdatedMajority (untested before)\n- \"bad-cb-height\"\n- \"bad-version\"\n- \"time-too-old\"\n- \"bad-txns-nonfinal\"\n\nLast, we added a way to leave the blockchain unaltered after the test suite is over to debug the unit tests themselves (testingSetupManager.keepTestEvidence = true)\n\nNote: The BerkeleyDB environment field was converted into a heap allocated object because BerkeleyDB handles are not meant to be re-used after close, and the block-chain environment can be closed and re-opened in the unit tests. This is explained in http://docs.oracle.com/cd/E17275_01/html/api_reference/CXX/envclose.html as\n\"After DbEnv::close() has been called, regardless of its return, the Berkeley DB environment handle may not be accessed again.\"\n\nSergio Demian Lerner & Timo Hanke\n",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2014-08-12T19:56:57Z",
    "updated_at": "2021-09-08T11:38:53Z",
    "closed_at": "2015-03-18T12:59:53Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "6cba81f9a3183ba449e495f59127c6a4f5b7146f",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "ForkingBitcoinTest:master",
      "ref": "master",
      "sha": "a7555d6f6430aa2ddc83404ae9b627d7d0dd1f6f",
      "user": {
        "login": "ForkingBitcoinTest",
        "id": 8356460,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjgzNTY0NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8356460?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ForkingBitcoinTest",
        "html_url": "https://github.com/ForkingBitcoinTest",
        "followers_url": "https://api.github.com/users/ForkingBitcoinTest/followers",
        "following_url": "https://api.github.com/users/ForkingBitcoinTest/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ForkingBitcoinTest/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ForkingBitcoinTest/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ForkingBitcoinTest/subscriptions",
        "organizations_url": "https://api.github.com/users/ForkingBitcoinTest/orgs",
        "repos_url": "https://api.github.com/users/ForkingBitcoinTest/repos",
        "events_url": "https://api.github.com/users/ForkingBitcoinTest/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ForkingBitcoinTest/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 22888396,
        "node_id": "MDEwOlJlcG9zaXRvcnkyMjg4ODM5Ng==",
        "name": "bitcoin",
        "full_name": "ForkingBitcoinTest/bitcoin",
        "owner": {
          "login": "ForkingBitcoinTest",
          "id": 8356460,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjgzNTY0NjA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8356460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ForkingBitcoinTest",
          "html_url": "https://github.com/ForkingBitcoinTest",
          "followers_url": "https://api.github.com/users/ForkingBitcoinTest/followers",
          "following_url": "https://api.github.com/users/ForkingBitcoinTest/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ForkingBitcoinTest/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ForkingBitcoinTest/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ForkingBitcoinTest/subscriptions",
          "organizations_url": "https://api.github.com/users/ForkingBitcoinTest/orgs",
          "repos_url": "https://api.github.com/users/ForkingBitcoinTest/repos",
          "events_url": "https://api.github.com/users/ForkingBitcoinTest/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ForkingBitcoinTest/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/ForkingBitcoinTest/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin",
        "archive_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ForkingBitcoinTest/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ForkingBitcoinTest/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ForkingBitcoinTest/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ForkingBitcoinTest/bitcoin/hooks",
        "svn_url": "https://github.com/ForkingBitcoinTest/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "TypeScript",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 34382,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2014-08-13T14:46:25Z",
        "created_at": "2014-08-12T18:46:48Z",
        "updated_at": "2018-08-21T19:00:40Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "84a05b843b8ab704266289de67c9779ad733a196",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35474,
        "stargazers_count": 70605,
        "watchers_count": 70605,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 667,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T12:42:51Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T13:04:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4688"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 391,
    "deletions": 90,
    "changed_files": 12,
    "commits": 5,
    "review_comments": 0,
    "comments": 25
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4MmQwMGM0MGRmOGNkNTJjMDM0NWViZGRmYzM0NWEyYTUxODZiNmQ2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/82d00c40df8cd52c0345ebddfc345a2a5186b6d6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/82d00c40df8cd52c0345ebddfc345a2a5186b6d6",
      "tree": {
        "sha": "143eac8c4e04e97a8a306e1609db7b355e35182c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/143eac8c4e04e97a8a306e1609db7b355e35182c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cdb4193a317e1360be806eed9838010e642b6388",
          "sha": "cdb4193a317e1360be806eed9838010e642b6388",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cdb4193a317e1360be806eed9838010e642b6388"
        }
      ],
      "message": "Improvement to the Test Framework in the processing of test blocks\n\nFor several reasons the current test framework does not allow to easily incorporate new unit tests that append specially crafted blocks to the blockchain using ProcessBlock().\nThis was pointed out by Mike Hearn on the development list in the thread with subject \"[Bitcoin-development] Question on creating test cases for block.CheckBlock()\" (http://article.gmane.org/gmane.comp.bitcoin.devel/5939).\n\nAfter debugging the Bitcoin core, we found that this is because of three reasons:\n\n1. The miner_tests.cpp leaves the transaction pool in an invalid state and assumes the blockchain is empty on start.\nSo other independent unit tests cannot be run before nor after (without proper cleaning) if they intend to use CreateNewBlock(), which collects transactions from the pool.\n\n2. Creating test blocks requires proof-of-work.\nEven if the starting difficulty is low (1) the required proof-of-work is still too high to allow for the dynamic creation of test blocks. Instead, unit test have to be \"pre-mined\".\nThis makes the code more opaque and increases the effort of changing the code.\n\n3. Only the first unit test can start with an empty blockchain, all subsequent tests have to start with the blockchain in the state where the previous test left it. This has the following problematic consequences:\na. Each unit test makes the blockchain longer. This breaks the test sequence when a checkpoint is reached because a checkpoint requires a pre-determined hash digest. Moreover, there are exception cases for certain block heights (e.g. regarding allowing two transactions with the same hash) which could be violated.\nb. Certain combinations of unit tests are inherently impossible to implement in a single block-chain if not run in an specific order.\nOther combinations may cause unexpected consequences. For example, since version 1 blocks do not have the height field included in the coinbase field of the generation transaction, a unit test may create a coinbase tx with a future height in the height field and prevent a coinbase tx with the same hash to be used afterward when only blocks v2 are accepted (this happened to us while testing).\nc. The standard unit testing policy that unit tests should be not depend on each other's output is violated.\nThis makes debugging more difficult.\nd. \"Pre-mining\" unit tests is impossible unless all previous unit tests are known and never change. (However, we are proposing to eliminate the proof-of-work check regardless.)\n\nWe believe that testing the block acceptance rules is crucial for the safety of the application and so we wrote this patch.\nBy restarting the blockchain before every unit test that requires testing block acceptance we have the guarantee that all tests are independent, executed in a predefined reproducable environment, and don't unintentionally hit checkpoints or other exceptions. Nevertheless, each unit test decides whether to re-use or\nreset the block-chain. We haven't perceived any significant delay while performing the destruction and creation of the block-chain during the execution of the test application. This is because file space allocation functions are fast on modern filesystems. Nevertheless, UNDOFILE_CHUNK_SIZE/BLOCKFILE_CHUNK_SIZE can be reduced during test case execution if the block-chain is reset many times.\n\nIn detail, this patch solves 1.,2.,3. from above by:\n- Providing a method to reset the blockchain to the starting state (testingSetupManager.SetupGenesisBlockChain())\n- Allowing to dynamically skip the proof-of-work testing (supressCheckBlockWork = true)\n- Fixing the bug in miner_tests.cpp which leaves in the memory pool invalid transactions (mempool.clear() missing).\n\nWe've also found the exact procedure that can be used to programmatically destroy and re-create the blockchain correctly, which was not implemented and nor documented. Some cleanup methods existed but some other were added because they were missing.\n\nThis could be of great help to re-create completely the blockchain in case a severe damage has been detected, without restarting the application.\n\nAs a bonus, 7 unit tests have been added:\n- ToCheckBlockUpgradeMajority (untested before)\n- EnforceBlockUpgradeMajority (untested before)\n- RejectBlockOutdatedMajority (untested before)\n- \"bad-cb-height\"\n- \"bad-version\"\n- \"time-too-old\"\n- \"bad-txns-nonfinal\"\n\nLast, we added a way to leave the blockchain unaltered after the test suite is over to debug the unit tests themselves (testingSetupManager.keepTestEvidence = true)\n\nNote: The BerkeleyDB environment field was converted into a heap allocated object because BerkeleyDB handles are not meant to be re-used after close, and the block-chain environment can be closed and re-opened in the unit tests. This is explained in http://docs.oracle.com/cd/E17275_01/html/api_reference/CXX/envclose.html as\n\"After DbEnv::close() has been called, regardless of its return, the Berkeley DB environment handle may not be accessed again.\"\n\nSergio Demian Lerner & Timo Hanke",
      "committer": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-12T19:24:16Z"
      },
      "author": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-12T19:24:16Z"
      },
      "sha": "82d00c40df8cd52c0345ebddfc345a2a5186b6d6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YWZjM2ZlMGE1YjMyNWM2ZWVlZmE1MmFhOWIwMzAwYjk0NWU2OGQ5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8afc3fe0a5b325c6eeefa52aa9b0300b945e68d9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8afc3fe0a5b325c6eeefa52aa9b0300b945e68d9",
      "tree": {
        "sha": "de55e69243b5537c92e30d8dac297e0775bed91e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/de55e69243b5537c92e30d8dac297e0775bed91e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/82d00c40df8cd52c0345ebddfc345a2a5186b6d6",
          "sha": "82d00c40df8cd52c0345ebddfc345a2a5186b6d6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/82d00c40df8cd52c0345ebddfc345a2a5186b6d6"
        }
      ],
      "message": "Bad ident. TAB -> space conversion made",
      "committer": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-12T19:33:33Z"
      },
      "author": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-12T19:33:33Z"
      },
      "sha": "8afc3fe0a5b325c6eeefa52aa9b0300b945e68d9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMmJiNDhlODYxMWZmNDk2YjNmYzBlZDU4OGRiOTk4ZjAyYTA4MTYw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/32bb48e8611ff496b3fc0ed588db998f02a08160",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/32bb48e8611ff496b3fc0ed588db998f02a08160",
      "tree": {
        "sha": "a823c9e44be34dbb6a65df85c600c634bad1a507",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a823c9e44be34dbb6a65df85c600c634bad1a507"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8afc3fe0a5b325c6eeefa52aa9b0300b945e68d9",
          "sha": "8afc3fe0a5b325c6eeefa52aa9b0300b945e68d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8afc3fe0a5b325c6eeefa52aa9b0300b945e68d9"
        }
      ],
      "message": "\"delete\" missing EnvShutdown()",
      "committer": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-12T19:51:57Z"
      },
      "author": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-12T19:51:57Z"
      },
      "sha": "32bb48e8611ff496b3fc0ed588db998f02a08160"
    },
    {
      "event": "commented",
      "id": 51972671,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTcyNjcx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51972671",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T20:31:58Z",
      "updated_at": "2014-08-12T20:31:58Z",
      "author_association": "MEMBER",
      "body": "You need to include test_bitcoin.h in BITCOIN_TESTS in Makefile.test.include.\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51972671",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51976183,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTc2MTgz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51976183",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T20:57:16Z",
      "updated_at": "2014-08-12T20:57:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "> 1. Creating test blocks requires proof-of-work.\n\nThis is what regtest mode is for. (The pull tester currently uses it for dynamically creating blocks to test)\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51976183",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51977653,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTc3NjUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51977653",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:07:49Z",
      "updated_at": "2014-08-12T21:07:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "@gmaxwell  Yes I know, but test_bitcoin is run in MainNet, so to test MainNet specific things (such as the majority rule) I need to create blocks and skip the PoW verification.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51977653",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "mentioned",
      "id": 152095756,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTUyMDk1NzU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/152095756",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:07:49Z"
    },
    {
      "event": "subscribed",
      "id": 152095757,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1MjA5NTc1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/152095757",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:07:49Z"
    },
    {
      "event": "commented",
      "id": 51977790,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTc3Nzkw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51977790",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:08:54Z",
      "updated_at": "2014-08-12T21:08:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "How can I update this pull request to add test_bitcoin.h into BITCOIN_TESTS in Makefile.test.include ?\nDo I have to create a new pull request ?\nIn that case, all current comments will be lost...\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51977790",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51979391,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTc5Mzkx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51979391",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:21:46Z",
      "updated_at": "2014-08-12T21:21:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "There should be no mainnet behavior which is not testable by regtest, if there is it should be fixed. The sole reason for regtest existing is exactly this case: regular mainnet blocks are too hard to create on the fly in tests.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51979391",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51980253,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgwMjUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51980253",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:28:44Z",
      "updated_at": "2014-08-12T21:28:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Regnet class inherits from TestNet, and not from MainNet. But that is is unimportant.\nOne difference is nSubsidyHalvingInterval = 150;\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51980253",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51980525,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgwNTI1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51980525",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:30:56Z",
      "updated_at": "2014-08-12T21:34:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yes, nSubsidyHalvingInterval = 150 is for exactly the same reason: otherwise the subsidy halving interval is not testable from the tests (well, without making 210000 blocks, of course). If some different number would be better for the tests it could be changed to that (obviously the blockchain tester would have to be updated).\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51980525",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51980939,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgwOTM5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51980939",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:34:27Z",
      "updated_at": "2014-08-12T21:37:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Even if there is another procedure to create block test cases using another language and another framework (Java, BitcoinJ), I found really useful to be create testcases in the same unit test framework, the same language and the same source tree. It's much easier.\n\nIn fact, in another pull request we're working on, we're proposing modifications and we wrote extensive test cases using the internal and more natural framework.\n\nBTW, where is the documentation about how to append testcases run by TheBlueMatt in his BitcoinJ node?\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51980939",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51981217,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgxMjE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51981217",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:36:39Z",
      "updated_at": "2014-08-12T21:36:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "You can test it in the MainNet with the current test framework improvement. You create 2017 blocks on-the-fly, you check. Very straightforward.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51981217",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51981581,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgxNTgx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51981581",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:39:54Z",
      "updated_at": "2014-08-12T21:39:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Creating an almost empty block on-the-fly currently takes a less than a few milliseconds. We could benchmark it.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51981581",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51981782,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgxNzgy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51981782",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:41:31Z",
      "updated_at": "2014-08-12T21:41:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Even if there were another thousands ways of testing bitcoind, improving the test framework and letting people add more test cases is a good thing.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51981782",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51982128,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgyMTI4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51982128",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:44:17Z",
      "updated_at": "2014-08-12T21:44:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "Internal testing of the blockchain behavior isn't all that fantastic generally, because most mistakes will agree with themselves. The idea of an external harness is that it can be a reference point for behavior.  I fully agree that more tests and more ways of testing is good.  What I am not happy with a extra POW bypass dropped into the consensus critical code, especially when the justification is redundant with existing infrastructure.\n\nThe subsidy halving interval in mainnet is 210000 blocks, you're confusing it with the retargeting interval. I suppose you could create 210000 blocks in a test but that would be needlessly slow.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51982128",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51982257,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgyMjU3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51982257",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:45:29Z",
      "updated_at": "2014-08-12T21:45:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "@gmaxwell Oops! yes. \n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51982257",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "mentioned",
      "id": 152112852,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTUyMTEyODUy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/152112852",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:45:29Z"
    },
    {
      "event": "subscribed",
      "id": 152112853,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1MjExMjg1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/152112853",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:45:29Z"
    },
    {
      "event": "commented",
      "id": 51982994,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgyOTk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51982994",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T21:52:09Z",
      "updated_at": "2014-08-12T21:52:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "If an attacker is able to change the value of supressCheckBlockWork at will when there is no compiled code to do it (in bitcoind), he is also probably able to read the process memory and extract the private keys.\nNevertheless I understand your concerns.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51982994",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51984611,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTg0NjEx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51984611",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T22:06:47Z",
      "updated_at": "2014-08-12T22:07:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "Another difference is that MainNet rejects forwarding non-standard transactions, and RegNet allows it.\nWe can switch to RegNet for test_bitcoin. Then we can omit the POW skip, and we get a better testing framework without any possible theoretical security implication. But I suppose that there are test cases testing non-standard tx rules, so we can't easily switch.\nAt the end, using supressCheckBlockWork in the MainNet is the closest to the \"real\" thing one can test dynamically.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51984611",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 51985074,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTg1MDc0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51985074",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-12T22:11:56Z",
      "updated_at": "2014-08-12T22:11:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "Again, regtest was created for this purpose. To the extent that regtest has shortcomings we should fix regtest.  The initial version of regtest was a set of patches that overlaid on top of bitcoin and changed mainnet rules.  When it was merged in as chain params it inhereted testnet but I think there is no reason regtest should be testnet based, IIRC the pull tester does no outside of block transactions, so IsStandard shouldn't be relevant... and I think it can just be switched.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-51985074",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "labeled",
      "id": 152332586,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE1MjMzMjU4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/152332586",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-13T12:18:36Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMTk3NzM0NDIxOWM2Y2EzMTg0N2IxZDU0MjQ4NzZhZmI1ZmYxYzJi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11977344219c6ca31847b1d5424876afb5ff1c2b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/11977344219c6ca31847b1d5424876afb5ff1c2b",
      "tree": {
        "sha": "be1687e43d240a27d970d84c8a510cab3a73355f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/be1687e43d240a27d970d84c8a510cab3a73355f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/32bb48e8611ff496b3fc0ed588db998f02a08160",
          "sha": "32bb48e8611ff496b3fc0ed588db998f02a08160",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/32bb48e8611ff496b3fc0ed588db998f02a08160"
        }
      ],
      "message": "Indentation corrected (TAB -> space)\ntest_bitcoin.h added to BITCOIN_TESTS in Makefile.test.include",
      "committer": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-13T14:37:31Z"
      },
      "author": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-13T14:37:31Z"
      },
      "sha": "11977344219c6ca31847b1d5424876afb5ff1c2b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphNzU1NWQ2ZjY0MzBhYTJkZGM4MzQwNGFlOWI2MjdkN2QwZGQxZjZm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a7555d6f6430aa2ddc83404ae9b627d7d0dd1f6f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a7555d6f6430aa2ddc83404ae9b627d7d0dd1f6f",
      "tree": {
        "sha": "ca3f351d83e709c2d774754ed77b5d35c800b232",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ca3f351d83e709c2d774754ed77b5d35c800b232"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11977344219c6ca31847b1d5424876afb5ff1c2b",
          "sha": "11977344219c6ca31847b1d5424876afb5ff1c2b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/11977344219c6ca31847b1d5424876afb5ff1c2b"
        }
      ],
      "message": "test_bitcoin.h added to BITCOIN_TESTS in Makefile.test.include",
      "committer": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-13T14:45:37Z"
      },
      "author": {
        "name": "SergioDemianLerner",
        "email": "Sergio.d.Lerner@gmail.com",
        "date": "2014-08-13T14:45:37Z"
      },
      "sha": "a7555d6f6430aa2ddc83404ae9b627d7d0dd1f6f"
    },
    {
      "event": "commented",
      "id": 52427893,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDI3ODkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52427893",
      "actor": {
        "login": "mikehearn",
        "id": 971089,
        "node_id": "MDQ6VXNlcjk3MTA4OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/971089?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mikehearn",
        "html_url": "https://github.com/mikehearn",
        "followers_url": "https://api.github.com/users/mikehearn/followers",
        "following_url": "https://api.github.com/users/mikehearn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mikehearn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mikehearn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mikehearn/subscriptions",
        "organizations_url": "https://api.github.com/users/mikehearn/orgs",
        "repos_url": "https://api.github.com/users/mikehearn/repos",
        "events_url": "https://api.github.com/users/mikehearn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mikehearn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-17T17:00:46Z",
      "updated_at": "2014-08-17T17:00:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Great work Sergio, I didn't review it yet but this has been a big need for a while now.\n\nThe pull tester does use various non-standard scripts but mostly because it's kind of lazy. It could be fixed.\n\nRe: adding tests to it. The current code is kind of gross and Matt talks about rewriting it quite often. I'd hope it'd get better documentation as part of that, if he does it. There is at least a documented build process now which is something. But having tests both in-tree and in the pull tester is not a bad thing.\n",
      "user": {
        "login": "mikehearn",
        "id": 971089,
        "node_id": "MDQ6VXNlcjk3MTA4OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/971089?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mikehearn",
        "html_url": "https://github.com/mikehearn",
        "followers_url": "https://api.github.com/users/mikehearn/followers",
        "following_url": "https://api.github.com/users/mikehearn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mikehearn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mikehearn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mikehearn/subscriptions",
        "organizations_url": "https://api.github.com/users/mikehearn/orgs",
        "repos_url": "https://api.github.com/users/mikehearn/repos",
        "events_url": "https://api.github.com/users/mikehearn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mikehearn/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-52427893",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 52479017,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDc5MDE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52479017",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T11:13:15Z",
      "updated_at": "2014-08-18T11:14:01Z",
      "author_association": "MEMBER",
      "body": "Why are the wallet-related changes in here? I mean dbenv/wallet/walletdb. As this tests block chain behavior, I'm not sure why those have to change.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-52479017",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 52479567,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDc5NTY3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52479567",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T11:18:45Z",
      "updated_at": "2014-08-18T11:18:45Z",
      "author_association": "MEMBER",
      "body": "Agree with @gmaxwell to prefer using regtest mode for these tests instead of adding a `supressCheckBlockWork` to main. I wouldn't want this flag to be ever toggled accidentally on mainnet, and regtest already offers this functionailty anyway.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-52479567",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "mentioned",
      "id": 153889145,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTUzODg5MTQ1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/153889145",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T11:18:45Z"
    },
    {
      "event": "subscribed",
      "id": 153889146,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1Mzg4OTE0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/153889146",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T11:18:45Z"
    },
    {
      "event": "commented",
      "id": 52530589,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTMwNTg5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52530589",
      "actor": {
        "login": "BitcoinPullTester",
        "id": 2110907,
        "node_id": "MDQ6VXNlcjIxMTA5MDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BitcoinPullTester",
        "html_url": "https://github.com/BitcoinPullTester",
        "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
        "following_url": "https://api.github.com/users/BitcoinPullTester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BitcoinPullTester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BitcoinPullTester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
        "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
        "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
        "events_url": "https://api.github.com/users/BitcoinPullTester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T18:03:47Z",
      "updated_at": "2014-08-18T18:03:47Z",
      "author_association": "NONE",
      "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4688_a7555d6f6430aa2ddc83404ae9b627d7d0dd1f6f/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
      "user": {
        "login": "BitcoinPullTester",
        "id": 2110907,
        "node_id": "MDQ6VXNlcjIxMTA5MDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BitcoinPullTester",
        "html_url": "https://github.com/BitcoinPullTester",
        "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
        "following_url": "https://api.github.com/users/BitcoinPullTester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BitcoinPullTester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BitcoinPullTester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
        "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
        "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
        "events_url": "https://api.github.com/users/BitcoinPullTester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-52530589",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 52559178,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTU5MTc4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52559178",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T21:39:03Z",
      "updated_at": "2014-08-18T21:39:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "@laanwj The wallet code required change in the way a BerkeleyDB handle was accessed: from direct access to the handle to indirect access though a pointer to a handle. This is because one of the objectives of this patch was to be able to destroy and re-create a block-chain programmaticaly.  BerkeleyDB handles do not allow to be re-opened after closing them, so was the necessity to delete the handle object and create a new one. The were other solutions: e.g. changing the bitdb global variable from an object to a pointer to an object, which is the same, and requires more updates in other parts of the codebase. \n\nRegarding the regtest mode, if you all agree I will update this pull request to:\n- Remove supressCheckBlockWork flag\n- Switch the test framework to regtest.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-52559178",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "mentioned",
      "id": 154183848,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTU0MTgzODQ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/154183848",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T21:39:03Z"
    },
    {
      "event": "subscribed",
      "id": 154183849,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1NDE4Mzg0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/154183849",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T21:39:03Z"
    },
    {
      "event": "commented",
      "id": 52605041,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjA1MDQx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52605041",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-19T08:38:35Z",
      "updated_at": "2014-08-19T08:38:35Z",
      "author_association": "MEMBER",
      "body": "@SergioDemianLerner Completely agree about programmatically destroying and re-creating block chains, but I'm still not sure how that relates to the wallet DB environment. Does the BDB environment need to be reinitialized every time you create a new block chain? I think this is just extra overhead - especially as you're not doing anything with the wallet in your tests.\n\nMaybe we could separate out the wallet testing so all that happens only once.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-52605041",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "mentioned",
      "id": 154353135,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTU0MzUzMTM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/154353135",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-19T08:38:35Z"
    },
    {
      "event": "subscribed",
      "id": 154353136,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1NDM1MzEzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/154353136",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-19T08:38:35Z"
    },
    {
      "event": "commented",
      "id": 52631166,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjMxMTY2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52631166",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-19T13:14:48Z",
      "updated_at": "2014-08-19T13:14:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "@laanwj There are several reasons why the wallet need to be re-created in test_bitcoin when the block-chain is re-created. First, all wallet-transactions will be invalid, since those transactions will be based on coinbases that do not exist anymore. Second, when the block-chain is destroyed in test_bitcoin, all temporary files are removed (the block-chain is stored in a temporary directory whose name depends on the current date-time). When a new block-chain is created, a new temporary directory is also created. Then, the previous BDB wallet files are deleted. The new wallet is stored on a new directory. That's the main reason.\n\nNevertheless, we could destroy the block-chain without destroying the wallet, and re-create the block-chain in the same temporary directory. But I don't know how the Bitcoin core will handle a wallet completely unsynchronized with the block-chain. The code should probably clear the wallet anyway. Does it have a way to clear all the keys? I must check.\n\nThe reasons given are only true for testing (test_bitcoin). For production (bitcoind) is probably wise to have methods to destruct/create the block-chain without altering the wallet and vice-versa. But still, to re-create the wallet (because of a corruption error, for example), one needs to destroy and create an new BDB handle, so the same code changes will be needed to repair a wallet programmaticaly and keep the node working.\n\nI will be sending another pull-request with just the new testcases and the change to the regtest without the block-chain re-creation code, while we discuss this.\n",
      "user": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-52631166",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "mentioned",
      "id": 154452185,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTU0NDUyMTg1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/154452185",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-19T13:14:48Z"
    },
    {
      "event": "subscribed",
      "id": 154452186,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1NDQ1MjE4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/154452186",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-19T13:14:48Z"
    },
    {
      "event": "referenced",
      "id": 154756708,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1NDc1NjcwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/154756708",
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "45cccb62a335303962763338d960ea25a73685c5",
      "commit_url": "https://api.github.com/repos/TestFramework/bitcoin/commits/45cccb62a335303962763338d960ea25a73685c5",
      "created_at": "2014-08-19T23:21:41Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-19T23:57:30Z",
      "updated_at": "2014-08-19T23:57:30Z",
      "source": {
        "issue": {
          "id": 40650455,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjAwMTc2MDI=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4732",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4732/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4732/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4732/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/4732",
          "number": 4732,
          "state": "closed",
          "state_reason": null,
          "title": "Switch of the test framework from MAIN to REGTEST",
          "body": "For several reasons the current test framework does not allow to easily incorporate new unit tests that append specially crafted blocks to the blockchain using ProcessBlock().\nIn the pull request https://github.com/bitcoin/bitcoin/pull/4688 we described the reasons and proposed a solution.\nWhile we think that is the optimum solution, @gmaxwell and @laanwj suggested not implementing the changes because many files not directly related to the testing framework were modified by the patch.\nIn this pull request we implement @gmaxwell suggestion that the test framework should run under the RegTest network parameters and not under the main network parameters. Allthough this seems to be a small change, it was not. First, the RegTest block solving probability was 1/2 which still requires \"mining\" during the test case validation in order to dynamically create a block, which adds unnecessary complications to simple testing code.\nTo overcome this problem, the RegTest difficulty was changed from 0x207fffff to 0x2100FFFF (in compact notation), which gives an approximate 1/2^16 probability not to solve a block. Happily there was no lucky test case.\nBecause the maximum possible target (0xff ... 0xff) cannot be multiplied by 4 without overflow, ComputeMinWork() had to be modified to always return ProofOfWorkLimit() for the RegTest.\n\nAlso we found that several test cases make explicit use of properties of the MainNet. Such test cases are:\n\nalert_tests.cpp\nrpc_wallet_tests.cpp\nmain_tests.cpp\nkey_tests.cpp\nDoS_tests.cpp\nCheckpoints_tests.cpp\nbase58_tests.cpp\nbloom_tests.cpp\nrpc_tests.cpp\nminer_tests.cpp\n\nAll these test cases were added a temporary switch from the RegTest network to the Main network in order to leave them working. Re-writting all of them for the RegTest probably requires more than 40 hours of work.\n\nThe alert_tests.cpp test case is special, because it requires the alert private key to generate inputs to the test cases. We suggest to switch this test case to the RegNet and replace the current RegTest alert private key with a published key-pair, so everyone can generate more test cases and there is no opaque data.\n\nAs the 4688  pull request, we've:\n\na. fixed the bug in miner_tests.cpp which leaves in the memory pool invalid transactions (mempool.clear() missing).\nb. Added 7 unit tests:\n\n```\nToCheckBlockUpgradeMajority (untested before)\nEnforceBlockUpgradeMajority (untested before)\nRejectBlockOutdatedMajority (untested before)\n\"bad-cb-height\"\n\"bad-version\"\n\"time-too-old\"\n\"bad-txns-nonfinal\"\n```\n\nNOTE: In the file rpc_wallet_tests.cpp, the TABs were removed and replaced with whitespace indentation. This is the standard in the rest of the code. A whitespace-ignoring compare will show no important differences.\n\nSergio Demian Lerner & Timo Hanke\n",
          "user": {
            "login": "SergioDemianLerner",
            "id": 1752347,
            "node_id": "MDQ6VXNlcjE3NTIzNDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SergioDemianLerner",
            "html_url": "https://github.com/SergioDemianLerner",
            "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
            "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
            "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
            "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
            "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4732",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/4732",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/4732.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/4732.patch"
          },
          "closed_at": "2015-03-20T10:59:58Z",
          "created_at": "2014-08-19T23:57:30Z",
          "updated_at": "2021-09-08T11:16:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "SergioDemianLerner",
        "id": 1752347,
        "node_id": "MDQ6VXNlcjE3NTIzNDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SergioDemianLerner",
        "html_url": "https://github.com/SergioDemianLerner",
        "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
        "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
        "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
        "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
        "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-09-04T19:46:54Z",
      "updated_at": "2014-09-04T19:46:54Z",
      "source": {
        "issue": {
          "id": 41977387,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjA3Njc5MjU=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4845",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4845/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4845/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4845/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/4845",
          "number": 4845,
          "state": "closed",
          "state_reason": null,
          "title": "Switch testing framework from MAIN to new UNITTEST network",
          "body": "This is our third attempt to improve the testing framework taking into account all previous comments and suggestions. The two previous attempts are: pull requests #4688 and #4732.\n\nSummary: For several reasons the current test framework does not allow to easily incorporate new unit tests that append specially crafted blocks to the blockchain using ProcessBlock().\nAfter we proposed a solution in #4688 @gmaxwell and @laanwj suggested not implementing the changes because many files not directly related to the testing framework were modified by the patch.\nIn the pull request #4732 we implement @gmaxwell suggestion that the test framework should run under the RegTest network parameters and not under the main network parameters. It was discovered that 10 unit cases are designed for the MAIN net, RegTest inherits from TestNet, which has many differences, so switching is not simple nor desired. @mikehearn and @laanwj proposed using a special new network called UNITTEST to be as similar to the real net as possible. We implemented this final suggestion.\n\nIn this pull request we implement UNITTEST. We reintroduced the criticized possibility to disable PoW check, but we did it under Params().SkipProofOfWorkCheck(). This method is a const virtual function that returns false for MAIN net, so there is no possibility that it is switched to true, under normal circumstances. This change does not extend the attack surface in any way.\n\nThe child network UNITTEST overrides SkipProofOfWorkCheck() to provide the skipping functionality.\nTo allow test cases to modify network parameters, we've added the ModifiableParams() global variable and associated abstract interface, with setters. These setters are only available if the current network is UNITTEST. Again, there is no way to modify the network parameters if the current network is not UNITTEST.\n\nAs in the previous pull requests, we've:\n\na. fixed the bug in miner_tests.cpp which leaves in the memory pool invalid transactions (mempool.clear() missing).\nb. Added 7 unit tests:\n\nToCheckBlockUpgradeMajority (untested before)\nEnforceBlockUpgradeMajority (untested before)\nRejectBlockOutdatedMajority (untested before)\n\"bad-cb-height\"\n\"bad-version\"\n\"time-too-old\"\n\"bad-txns-nonfinal\"\n\nSergio Demian Lerner & Timo Hanke\n",
          "user": {
            "login": "SergioDemianLerner",
            "id": 1752347,
            "node_id": "MDQ6VXNlcjE3NTIzNDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1752347?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SergioDemianLerner",
            "html_url": "https://github.com/SergioDemianLerner",
            "followers_url": "https://api.github.com/users/SergioDemianLerner/followers",
            "following_url": "https://api.github.com/users/SergioDemianLerner/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/SergioDemianLerner/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/SergioDemianLerner/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/SergioDemianLerner/subscriptions",
            "organizations_url": "https://api.github.com/users/SergioDemianLerner/orgs",
            "repos_url": "https://api.github.com/users/SergioDemianLerner/repos",
            "events_url": "https://api.github.com/users/SergioDemianLerner/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/SergioDemianLerner/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4845",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/4845",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/4845.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/4845.patch"
          },
          "closed_at": "2014-10-08T07:11:23Z",
          "created_at": "2014-09-04T19:46:54Z",
          "updated_at": "2021-09-08T10:41:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-09-10T11:58:49Z",
      "updated_at": "2014-09-10T11:58:49Z",
      "source": {
        "issue": {
          "id": 21453587,
          "node_id": "MDU6SXNzdWUyMTQ1MzU4Nw==",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3136",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3136/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3136/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3136/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/3136",
          "number": 3136,
          "state": "closed",
          "state_reason": "completed",
          "title": "[Qt] Do you want to rebuild the block database now? No -> crash",
          "body": "I'm using -txindex in my normal environment, when using payment requests without the client running, the client is started without any parameters and detects the missing -txindex and asks me `Do you want to rebuild the block database now?` answering no here crashes the client.\n\nhttps://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L834\n\n@sipa Can you check that part of the code, as most of it was done by you :).\n\nEdit: Error is on Win7 x64 and it's a BEX (Buffer Overflow Exception).\n",
          "user": {
            "login": "Diapolo",
            "id": 1419649,
            "node_id": "MDQ6VXNlcjE0MTk2NDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Diapolo",
            "html_url": "https://github.com/Diapolo",
            "followers_url": "https://api.github.com/users/Diapolo/followers",
            "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
            "organizations_url": "https://api.github.com/users/Diapolo/orgs",
            "repos_url": "https://api.github.com/users/Diapolo/repos",
            "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Diapolo/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 234877,
              "node_id": "MDU6TGFiZWwyMzQ4Nzc=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Windows",
              "name": "Windows",
              "color": "884400",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 15,
          "closed_at": "2015-03-24T07:32:50Z",
          "created_at": "2013-10-23T13:30:20Z",
          "updated_at": "2021-09-08T12:33:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-02T14:59:57Z",
      "updated_at": "2014-10-02T14:59:57Z",
      "source": {
        "issue": {
          "id": 44666161,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjIxMjg3OTA=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5030",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5030/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5030/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5030/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/5030",
          "number": 5030,
          "state": "closed",
          "state_reason": null,
          "title": "Switch testing framework from MAIN to new UNITTEST network (rebase)",
          "body": "See #4845.\nTrying to figure out why this breaks the tests now.\n",
          "user": {
            "login": "laanwj",
            "id": 126646,
            "node_id": "MDQ6VXNlcjEyNjY0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laanwj",
            "html_url": "https://github.com/laanwj",
            "followers_url": "https://api.github.com/users/laanwj/followers",
            "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
            "organizations_url": "https://api.github.com/users/laanwj/orgs",
            "repos_url": "https://api.github.com/users/laanwj/repos",
            "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/laanwj/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5030",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/5030",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/5030.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/5030.patch"
          },
          "closed_at": "2014-10-02T13:28:46Z",
          "created_at": "2014-10-02T09:25:30Z",
          "updated_at": "2021-09-08T10:41:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 60067838,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDY3ODM4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60067838",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-22T10:58:05Z",
      "updated_at": "2014-10-22T10:58:05Z",
      "author_association": "MEMBER",
      "body": "Needs rebase.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-60067838",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "commented",
      "id": 72185258,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTg1MjU4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72185258",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-01-30T11:01:04Z",
      "updated_at": "2015-01-30T11:01:04Z",
      "author_association": "MEMBER",
      "body": "I'm going to replace this by out-of-tree RPC tests. I've written weird block generation code in Python, so we can just test these things externally without having unit tests with side effects or a dependent order (or having to change a lot of nontest code).\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4688#issuecomment-72185258",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4688"
    },
    {
      "event": "closed",
      "id": 258115326,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjU4MTE1MzI2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/258115326",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-18T12:59:53Z"
    },
    {
      "event": "locked",
      "id": 5271729876,
      "node_id": "LOE_lADOABII584CY8QczwAAAAE6ODbU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271729876",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T11:38:53Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": []
}