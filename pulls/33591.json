{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591",
    "id": 2901746438,
    "node_id": "PR_kwDOABII586s9SMG",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33591",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33591.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33591.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/b8d279a81c16fe9f5b6d422e518c77344e217d4f",
    "number": 33591,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Cluster mempool followups",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "As suggested in the main cluster mempool PR (https://github.com/bitcoin/bitcoin/pull/28676#pullrequestreview-3177119367), I've pulled out some of the non-essential optimizations and cleanups into this separate PR.  \r\n\r\nWill continue to add more commits here to address non-blocking suggestions/improvements as they come up.",
    "labels": [
      {
        "id": 164208572,
        "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
        "name": "Mempool",
        "color": "fef2c0",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/74",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/74",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/74/labels",
      "id": 12610874,
      "node_id": "MI_kwDOABII584AwG06",
      "number": 74,
      "state": "open",
      "title": "31.0",
      "creator": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "open_issues": 11,
      "closed_issues": 14,
      "created_at": "2025-03-25T18:44:16Z",
      "updated_at": "2025-12-02T15:07:09Z"
    },
    "created_at": "2025-10-09T19:06:39Z",
    "updated_at": "2025-12-02T17:29:49Z",
    "closed_at": "2025-12-02T09:46:12Z",
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2025-12-02T09:46:12Z",
    "merged_by": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "merge_commit_sha": "e0ba6bbed97be45ba2902a5e1512c901a7329d9f",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "sdaftuar:2025-10-rebase-cluster-mempool",
      "ref": "2025-10-rebase-cluster-mempool",
      "sha": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 28761781,
        "node_id": "MDEwOlJlcG9zaXRvcnkyODc2MTc4MQ==",
        "name": "bitcoin",
        "full_name": "sdaftuar/bitcoin",
        "owner": {
          "login": "sdaftuar",
          "id": 7463573,
          "node_id": "MDQ6VXNlcjc0NjM1NzM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sdaftuar",
          "html_url": "https://github.com/sdaftuar",
          "followers_url": "https://api.github.com/users/sdaftuar/followers",
          "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
          "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
          "repos_url": "https://api.github.com/users/sdaftuar/repos",
          "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/sdaftuar/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sdaftuar/bitcoin",
        "archive_url": "https://api.github.com/repos/sdaftuar/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sdaftuar/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sdaftuar/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sdaftuar/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sdaftuar/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sdaftuar/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sdaftuar/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sdaftuar/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sdaftuar/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sdaftuar/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sdaftuar/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sdaftuar/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sdaftuar/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sdaftuar/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sdaftuar/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sdaftuar/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sdaftuar/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sdaftuar/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sdaftuar/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sdaftuar/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sdaftuar/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sdaftuar/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sdaftuar/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sdaftuar/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sdaftuar/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sdaftuar/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sdaftuar/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sdaftuar/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sdaftuar/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sdaftuar/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sdaftuar/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sdaftuar/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sdaftuar/bitcoin/hooks",
        "svn_url": "https://github.com/sdaftuar/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 309169,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-12-01T16:00:17Z",
        "created_at": "2015-01-04T02:52:13Z",
        "updated_at": "2024-02-09T22:47:48Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "6356041e58d1ba86695e2e7c219c68ee5abe583f",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38291,
        "stargazers_count": 87077,
        "watchers_count": 87077,
        "size": 299824,
        "default_branch": "master",
        "open_issues_count": 727,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-12-02T15:07:07Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-12-02T16:55:19Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 587,
    "deletions": 334,
    "changed_files": 41,
    "commits": 26,
    "review_comments": 72,
    "comments": 7
  },
  "events": [
    {
      "event": "commented",
      "id": 3387166986,
      "node_id": "IC_kwDOABII587J5BEK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3387166986",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-09T19:06:44Z",
      "updated_at": "2025-12-02T15:36:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33591.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [instagibbs](https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3525882615), [sipa](https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3525911467) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33993](https://github.com/bitcoin/bitcoin/pull/33993) (init: point out -stopatheight may be imprecise by brunoerg)\n* [#33966](https://github.com/bitcoin/bitcoin/pull/33966) (refactor: disentangle miner startup defaults from runtime options by Sjors)\n* [#32800](https://github.com/bitcoin/bitcoin/pull/32800) (rpc: Distinguish between vsize and sigop adjusted mempool vsize by musaHaruna)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#issuecomment-3387166986",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591"
    },
    {
      "event": "labeled",
      "id": 20192299245,
      "node_id": "LE_lADOABII587Qop6DzwAAAASzjgjt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20192299245",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-09T19:10:24Z",
      "label": {
        "name": "Mempool",
        "color": "fef2c0"
      }
    },
    {
      "event": "labeled",
      "id": 20275941641,
      "node_id": "LE_lADOABII587Qop6DzwAAAAS4ilEJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20275941641",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-14T17:45:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20276488165,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAAS4kqfl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20276488165",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "cb287cf5055c8970f3893889fda74408bcb8a54c",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/cb287cf5055c8970f3893889fda74408bcb8a54c",
      "created_at": "2025-10-14T18:14:20Z"
    },
    {
      "event": "unlabeled",
      "id": 20278652632,
      "node_id": "UNLE_lADOABII587Qop6DzwAAAAS4s67Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20278652632",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-14T20:13:30Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20317371405,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAAS7AnwN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20317371405",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "6881d21c57ce122f0c2f5900e6caab7ba806d279",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/6881d21c57ce122f0c2f5900e6caab7ba806d279",
      "created_at": "2025-10-16T12:14:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20644247348,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATOfjc0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20644247348",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "90c3ae341c17059f02cb493f4ea3aed0660a0096",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/90c3ae341c17059f02cb493f4ea3aed0660a0096",
      "created_at": "2025-10-31T21:53:16Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20849243648,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATatjYA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20849243648",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "7e715bc2749378f92284a1924f2079492adccf3f",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/7e715bc2749378f92284a1924f2079492adccf3f",
      "created_at": "2025-11-10T23:21:05Z"
    },
    {
      "event": "labeled",
      "id": 20893770227,
      "node_id": "LE_lADOABII587Qop6DzwAAAATdXaHz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20893770227",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-12T16:59:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20894805262,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATdbW0O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20894805262",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "created_at": "2025-11-12T17:46:25Z"
    },
    {
      "event": "reviewed",
      "id": 3455074304,
      "node_id": "PRR_kwDOABII587N8EAA",
      "url": null,
      "actor": null,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-11-21T00:37:33Z",
      "author_association": "MEMBER",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3455074304",
      "submitted_at": "2025-11-21T00:37:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "milestoned",
      "id": 21163327831,
      "node_id": "MIE_lADOABII587Qop6DzwAAAATtbsFX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21163327831",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T12:17:01Z",
      "milestone": {
        "title": "30.1"
      }
    },
    {
      "event": "demilestoned",
      "id": 21163328681,
      "node_id": "DEME_lADOABII587Qop6DzwAAAATtbsSp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21163328681",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T12:17:03Z",
      "milestone": {
        "title": "30.1"
      }
    },
    {
      "event": "milestoned",
      "id": 21163328688,
      "node_id": "MIE_lADOABII587Qop6DzwAAAATtbsSw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21163328688",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T12:17:03Z",
      "milestone": {
        "title": "31.0"
      }
    },
    {
      "event": "commented",
      "id": 3575461465,
      "node_id": "IC_kwDOABII587VHTZZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3575461465",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T12:41:23Z",
      "updated_at": "2025-11-25T12:41:23Z",
      "author_association": "MEMBER",
      "body": "Needs rebase!",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#issuecomment-3575461465",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21168075270,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATttzIG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21168075270",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "3101c91a057882ea8c074554e8e02d5a3e48f98a",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/3101c91a057882ea8c074554e8e02d5a3e48f98a",
      "created_at": "2025-11-25T15:46:00Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJjNjQwMTNlNmZhZDJkMDU0YmM1YTMxNjMwYzA5ZjMzYTYyYjhmNGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc64013e6fad2d054bc5a31630c09f33a62b8f4f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bc64013e6fad2d054bc5a31630c09f33a62b8f4f",
      "tree": {
        "sha": "93675edab7ab17b83a8d07a08a03791f8fefa6b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/93675edab7ab17b83a8d07a08a03791f8fefa6b9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5336bcd5784925cd722cff4b9c28e58c64c0b708",
          "sha": "5336bcd5784925cd722cff4b9c28e58c64c0b708",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5336bcd5784925cd722cff4b9c28e58c64c0b708"
        }
      ],
      "message": "Remove unused variable (cacheMap) in mempool",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T15:46:14Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-01-25T16:04:58Z"
      },
      "sha": "bc64013e6fad2d054bc5a31630c09f33a62b8f4f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21168082031,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATtt0xv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21168082031",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "486b441971912bdc63921425d5e40a8c168186ea",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/486b441971912bdc63921425d5e40a8c168186ea",
      "created_at": "2025-11-25T15:46:19Z"
    },
    {
      "event": "labeled",
      "id": 21168194781,
      "node_id": "LE_lADOABII587Qop6DzwAAAATtuQTd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21168194781",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T15:51:33Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 21169813048,
      "node_id": "UNLE_lADOABII587Qop6DzwAAAATt0bY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21169813048",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T17:06:01Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 21170489471,
      "node_id": "UNLE_lADOABII587Qop6DzwAAAATt3Ah_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21170489471",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T17:40:58Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21172981550,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATuAg8u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21172981550",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "created_at": "2025-11-25T19:56:29Z"
    },
    {
      "event": "labeled",
      "id": 21173001776,
      "node_id": "LE_lADOABII587Qop6DzwAAAATuAl4w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21173001776",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T19:57:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3506023834,
      "node_id": "PRR_kwDOABII587Q-a2a",
      "url": null,
      "actor": null,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-11-25T20:34:51Z",
      "author_association": "MEMBER",
      "body": "reviewed through 875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3506023834",
      "submitted_at": "2025-11-25T20:34:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "unlabeled",
      "id": 21174809615,
      "node_id": "UNLE_lADOABII587Qop6DzwAAAATuHfQP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21174809615",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-25T21:45:11Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3511053359,
      "node_id": "PRR_kwDOABII587RRmwv",
      "url": null,
      "actor": null,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-11-26T14:15:51Z",
      "author_association": "MEMBER",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3511053359",
      "submitted_at": "2025-11-26T14:15:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21249705307,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATylMVb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21249705307",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "70cb441930e7d869ae60e0d8982a56c3dae97424",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/70cb441930e7d869ae60e0d8982a56c3dae97424",
      "created_at": "2025-11-29T02:59:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21249744947,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATylWAz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21249744947",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "f6a1f0dc75f58f9e0d435957f2669e69526bc52d",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/f6a1f0dc75f58f9e0d435957f2669e69526bc52d",
      "created_at": "2025-11-29T03:09:30Z"
    },
    {
      "event": "labeled",
      "id": 21249747423,
      "node_id": "LE_lADOABII587Qop6DzwAAAATylWnf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21249747423",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-29T03:10:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3590939998,
      "node_id": "IC_kwDOABII587WCWVe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3590939998",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-29T03:10:30Z",
      "updated_at": "2025-11-29T03:10:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/actions/runs/19778009649/job/56673707344</sub>\n<sub>LLM reason ( experimental): Lint failure: Ruff found unused-variable errors in Python tests, causing the CI to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#issuecomment-3590939998",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21251776611,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATytGBj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21251776611",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "38b8a90000d9fd13f02e90ad03f0c3b38dc279f6",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/38b8a90000d9fd13f02e90ad03f0c3b38dc279f6",
      "created_at": "2025-11-29T13:09:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21252658185,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATywdQJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21252658185",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "created_at": "2025-11-29T17:24:24Z"
    },
    {
      "event": "unlabeled",
      "id": 21252907688,
      "node_id": "UNLE_lADOABII587Qop6DzwAAAATyxaKo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21252907688",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-29T18:39:45Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3592108964,
      "node_id": "IC_kwDOABII587WGzuk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3592108964",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-30T02:09:38Z",
      "updated_at": "2025-11-30T02:09:38Z",
      "author_association": "MEMBER",
      "body": "I believe I've responded to all the previous review comments, so this should be ready for re-review.\r\n\r\nAlso fyi, I do have some additional changes to propose beyond what's included here already, but I think I'll stop adding additional scope so that this PR can make forward progress with the improvements already suggested.",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#issuecomment-3592108964",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591"
    },
    {
      "event": "reviewed",
      "id": 3521302689,
      "node_id": "PRR_kwDOABII587R4tCh",
      "url": null,
      "actor": null,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-11-30T14:39:53Z",
      "author_association": "MEMBER",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3521302689",
      "submitted_at": "2025-11-30T14:39:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAxZDg1MjAwMzhlYWZhMGUwMGVlZGRjZWEyOWNiYTJiMWI4NzkxN2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01d8520038eafa0e00eeddcea29cba2b1b87917e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/01d8520038eafa0e00eeddcea29cba2b1b87917e",
      "tree": {
        "sha": "f09d59e815950996c02f557497177d0ed11985e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f09d59e815950996c02f557497177d0ed11985e6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc64013e6fad2d054bc5a31630c09f33a62b8f4f",
          "sha": "bc64013e6fad2d054bc5a31630c09f33a62b8f4f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bc64013e6fad2d054bc5a31630c09f33a62b8f4f"
        }
      ],
      "message": "Remove unused argument to RemoveStaged",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T15:57:15Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2024-04-16T17:37:46Z"
      },
      "sha": "01d8520038eafa0e00eeddcea29cba2b1b87917e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE1YTc5MDVkODNkZmE4YTUxNzNmODg2ZjcwMDcxMzJlMThiNTNlM2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a5a7905d83dfa8a5173f886f7007132e18b53e3a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a5a7905d83dfa8a5173f886f7007132e18b53e3a",
      "tree": {
        "sha": "06a961669aba69c1e52340f141a1768de2f94852",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/06a961669aba69c1e52340f141a1768de2f94852"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01d8520038eafa0e00eeddcea29cba2b1b87917e",
          "sha": "01d8520038eafa0e00eeddcea29cba2b1b87917e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/01d8520038eafa0e00eeddcea29cba2b1b87917e"
        }
      ],
      "message": "Simplify removeRecursive",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T15:57:48Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-02-05T14:11:40Z"
      },
      "sha": "a5a7905d83dfa8a5173f886f7007132e18b53e3a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEzYzMxZGZkNzFkZWY3Y2U0NDE0YzYyNzI2MWZhNDUxNmY5NDM1NDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a3c31dfd71def7ce4414c627261fa4516f943547",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a3c31dfd71def7ce4414c627261fa4516f943547",
      "tree": {
        "sha": "ce2c678148ba89a46258db3f5dbaa66f42ef32ff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ce2c678148ba89a46258db3f5dbaa66f42ef32ff"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a5a7905d83dfa8a5173f886f7007132e18b53e3a",
          "sha": "a5a7905d83dfa8a5173f886f7007132e18b53e3a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a5a7905d83dfa8a5173f886f7007132e18b53e3a"
        }
      ],
      "message": "scripted-diff: rename AddToMempool -> TryAddToMempool\n\n-BEGIN VERIFY SCRIPT-\nfind src/test -type f -exec sed -i 's/AddToMempool/TryAddToMempool/g' {} +\nfind src/bench -type f -exec sed -i 's/AddToMempool/TryAddToMempool/g' {} +\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T15:57:48Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-02-04T21:54:20Z"
      },
      "sha": "a3c31dfd71def7ce4414c627261fa4516f943547"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNlMzllYThjMzA3MDEwYmMwMTMyNjE1ZWNlZjU1YjM5ODUxZjc0Mzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3e39ea8c307010bc0132615ecef55b39851f7437",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3e39ea8c307010bc0132615ecef55b39851f7437",
      "tree": {
        "sha": "9e8969747695ed689e44d84a80298e54db1e4fc9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9e8969747695ed689e44d84a80298e54db1e4fc9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a3c31dfd71def7ce4414c627261fa4516f943547",
          "sha": "a3c31dfd71def7ce4414c627261fa4516f943547",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a3c31dfd71def7ce4414c627261fa4516f943547"
        }
      ],
      "message": "Rewrite removeForReorg to avoid using sets\n\nAlso improve test coverage for removeForReorg by creating a scenario where\nthere are in-mempool descendants that are only invalidated due to an in-mempool\nparent no longer spending a mature coin.",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T16:01:57Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-02-05T22:58:57Z"
      },
      "sha": "3e39ea8c307010bc0132615ecef55b39851f7437"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkyOTI1NzBmNGNiODVmYzY2OTBkZmVlYjU1ZWE4NjdkNTc1ZWJiYTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9292570f4cb85fc6690dfeeb55ea867d575ebba3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9292570f4cb85fc6690dfeeb55ea867d575ebba3",
      "tree": {
        "sha": "f000aca0d4fbce1219194eea9238e58656a9e065",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f000aca0d4fbce1219194eea9238e58656a9e065"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3e39ea8c307010bc0132615ecef55b39851f7437",
          "sha": "3e39ea8c307010bc0132615ecef55b39851f7437",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3e39ea8c307010bc0132615ecef55b39851f7437"
        }
      ],
      "message": "Rewrite GetChildren without sets",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T16:02:08Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-02-05T23:13:55Z"
      },
      "sha": "9292570f4cb85fc6690dfeeb55ea867d575ebba3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgwZDhkZjJkNDdjMjU4NTFiNTFmZTMzMTk2MDVmZTQxYzM0Y2E5Zjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80d8df2d47c25851b51fe3319605fe41c34ca9f8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/80d8df2d47c25851b51fe3319605fe41c34ca9f8",
      "tree": {
        "sha": "a8073b357ecdcccc8ec6459e7c9e3fa31a8cacca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a8073b357ecdcccc8ec6459e7c9e3fa31a8cacca"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9292570f4cb85fc6690dfeeb55ea867d575ebba3",
          "sha": "9292570f4cb85fc6690dfeeb55ea867d575ebba3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9292570f4cb85fc6690dfeeb55ea867d575ebba3"
        }
      ],
      "message": "Invoke removeUnchecked() directly in removeForBlock()",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T16:02:08Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-01-25T16:41:06Z"
      },
      "sha": "80d8df2d47c25851b51fe3319605fe41c34ca9f8"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21257805846,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATzEGAW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21257805846",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "006a380989fca0a07bdb1c3008af3cdcf3b03ae9",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/006a380989fca0a07bdb1c3008af3cdcf3b03ae9",
      "created_at": "2025-11-30T16:27:58Z"
    },
    {
      "event": "commented",
      "id": 3592811541,
      "node_id": "IC_kwDOABII587WJfQV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3592811541",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-30T16:41:44Z",
      "updated_at": "2025-11-30T16:41:44Z",
      "author_association": "MEMBER",
      "body": "@sipa Thanks for the review!\r\n\r\nI noticed a few things:\r\n1) `-limitclustercount` and `-limitclustersize` are both debug options at the moment. Is that the right place for them?  It seems slightly unusual to me that we'd reference command line options in our general docs that are hidden away like this...?\r\n\r\n2) While `-limitancestorsize` and `-limitdescendantsize` have nice warnings now, I don't think I've updated any of the help text for `-limitancestorcount` and `-limitdescendantcount`.  I believe those limits are now only used by the wallet for coin selection.  Guessing I should include something in the release notes and in the help text for those options to explain this?\r\n\r\n3) In the release notes, would it be worth mentioning the switch from vsize-accounting to weight-accounting in the mempool and block building logic?  Or is that too in the weeds?",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#issuecomment-3592811541",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591"
    },
    {
      "event": "mentioned",
      "id": 21257916506,
      "node_id": "MEE_lADOABII587Qop6DzwAAAATzEhBa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21257916506",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-30T16:41:46Z"
    },
    {
      "event": "subscribed",
      "id": 21257916509,
      "node_id": "SE_lADOABII587Qop6DzwAAAATzEhBd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21257916509",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-30T16:41:46Z"
    },
    {
      "event": "commented",
      "id": 3592957816,
      "node_id": "IC_kwDOABII587WKC94",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3592957816",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-30T17:52:05Z",
      "updated_at": "2025-11-30T17:52:05Z",
      "author_association": "MEMBER",
      "body": "1. Yeah, there is an inconsistency here. Either (1) we treat it as a debug-only option, and don't refer to it in documentation and help texts, or (2) we make it a fully fledged option that has a normal config category. I'd prefer (1).\r\n2. Worth mentioning in release notes at least that these options won't be updated until cluster mempool is well-deployed on the network.\r\n3. Too in the weeds, I think.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#issuecomment-3592957816",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591"
    },
    {
      "event": "commented",
      "id": 3593069665,
      "node_id": "IC_kwDOABII587WKeRh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3593069665",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-30T18:39:51Z",
      "updated_at": "2025-11-30T18:50:31Z",
      "author_association": "MEMBER",
      "body": "> Yeah, there is an inconsistency here. Either (1) we treat it as a debug-only option, and don't refer to it in documentation and help texts, or (2) we make it a fully fledged option that has a normal config category. I'd prefer (1).\r\n\r\nIn the release notes for 0.12.0, we referenced that there was a way to change the descendant limits without calling out what the command line argument was, and instead referred users to using `--help -help-debug` for more info.  I could do that in the release note snippet here as well, and perhaps leave the documentation in `doc/policy/mempool-design.md` as written, as that is more developer facing than user facing?\r\n\r\nAlso, I guess `-limitancestorcount` and `-limitdescendantcount` are both debug-only options anyway, so perhaps no need to mention their presence in the release notes either.  I'll update the help text for both to indicate the options are deprecated and only used by the wallet for coin selection.",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#issuecomment-3593069665",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33591"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVkOGU4MTkxMjFkNzA2NWM2ZTM0YTZhZTQyMjg0MjM2OWM0YTE2NTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed8e819121d7065c6e34a6ae422842369c4a1659",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ed8e819121d7065c6e34a6ae422842369c4a1659",
      "tree": {
        "sha": "cf544064d3676baa75551358a5725d16a2015330",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cf544064d3676baa75551358a5725d16a2015330"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80d8df2d47c25851b51fe3319605fe41c34ca9f8",
          "sha": "80d8df2d47c25851b51fe3319605fe41c34ca9f8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/80d8df2d47c25851b51fe3319605fe41c34ca9f8"
        }
      ],
      "message": "Warn user if using -limitancestorsize/-limitdescendantsize that the options have no effect\n\nAlso update the help text for -limitancestorcount/-limitdescendantcount to\nexplain they no longer affect the mempool, and are only used by the wallet for\ncoin selection.",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:00Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-10T00:20:35Z"
      },
      "sha": "ed8e819121d7065c6e34a6ae422842369c4a1659"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZjMThlZjFmM2YzMzNkZDI4ZDhjYzdlMzU3MWQ3NmE5ODVkOTAyNDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc18ef1f3f333dd28d8cc7e3571d76a985d90240",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fc18ef1f3f333dd28d8cc7e3571d76a985d90240",
      "tree": {
        "sha": "1d431b13ea7a0d9f18fe3d342b3c5d8d13fe1595",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1d431b13ea7a0d9f18fe3d342b3c5d8d13fe1595"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed8e819121d7065c6e34a6ae422842369c4a1659",
          "sha": "ed8e819121d7065c6e34a6ae422842369c4a1659",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ed8e819121d7065c6e34a6ae422842369c4a1659"
        }
      ],
      "message": "Remove ancestor and descendant vsize limits from MemPoolLimits",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:04Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-10T00:28:45Z"
      },
      "sha": "fc18ef1f3f333dd28d8cc7e3571d76a985d90240"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYzNDI5MWE3ZGM0NDg1OTQyY2M5Y2JkZTUxMGI5MmY5NTgwZDVjNWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/634291a7dc4485942cc9cbde510b92f9580d5c5e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/634291a7dc4485942cc9cbde510b92f9580d5c5e",
      "tree": {
        "sha": "26a9633f6973c8dc7ce504016be17358e83e24e3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/26a9633f6973c8dc7ce504016be17358e83e24e3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc18ef1f3f333dd28d8cc7e3571d76a985d90240",
          "sha": "fc18ef1f3f333dd28d8cc7e3571d76a985d90240",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fc18ef1f3f333dd28d8cc7e3571d76a985d90240"
        }
      ],
      "message": "Use cluster limits instead of ancestor/descendant limits when sanity checking package policy limits",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:04Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-10T00:32:46Z"
      },
      "sha": "634291a7dc4485942cc9cbde510b92f9580d5c5e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA0ZjY1NDg4Y2EzZThlOGViN2QyOTA5ODJlNTVlNzBiZTk2NDkxYmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04f65488ca3e8e8eb7d290982e55e70be96491bb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/04f65488ca3e8e8eb7d290982e55e70be96491bb",
      "tree": {
        "sha": "eb6864a499754b22640d63aa082bbd2f8c3579db",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/eb6864a499754b22640d63aa082bbd2f8c3579db"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/634291a7dc4485942cc9cbde510b92f9580d5c5e",
          "sha": "634291a7dc4485942cc9cbde510b92f9580d5c5e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/634291a7dc4485942cc9cbde510b92f9580d5c5e"
        }
      ],
      "message": "Use cluster size limit instead of ancestor/descendant size limits when sanity checking TRUC policy limits",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:04Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-10T00:34:36Z"
      },
      "sha": "04f65488ca3e8e8eb7d290982e55e70be96491bb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFkYWM1NGQ1MDZiNTc2NWYzZDg2YTZlZmMzMDUzODkzMTMwNWIwMDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1dac54d506b5765f3d86a6efc30538931305b000",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1dac54d506b5765f3d86a6efc30538931305b000",
      "tree": {
        "sha": "6e1906533d249a7fa94a99a1ea83ed128f88a247",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6e1906533d249a7fa94a99a1ea83ed128f88a247"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04f65488ca3e8e8eb7d290982e55e70be96491bb",
          "sha": "04f65488ca3e8e8eb7d290982e55e70be96491bb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/04f65488ca3e8e8eb7d290982e55e70be96491bb"
        }
      ],
      "message": "Use cluster size limit instead of ancestor size limit in txpackage unit test",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:04Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-10T00:36:39Z"
      },
      "sha": "1dac54d506b5765f3d86a6efc30538931305b000"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI1ZjI0NWY2ZjIxOTNhM2MxOWJlYTNlZWQ3Y2VkYTFlODBiODMxNjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b5f245f6f2193a3c19bea3eed7ceda1e80b83160",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b5f245f6f2193a3c19bea3eed7ceda1e80b83160",
      "tree": {
        "sha": "90d6da3268d8a071f4cc8909a586f02d873307a8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/90d6da3268d8a071f4cc8909a586f02d873307a8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1dac54d506b5765f3d86a6efc30538931305b000",
          "sha": "1dac54d506b5765f3d86a6efc30538931305b000",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1dac54d506b5765f3d86a6efc30538931305b000"
        }
      ],
      "message": "Remove unused DEFAULT_ANCESTOR_SIZE_LIMIT_KVB and DEFAULT_DESCENDANT_SIZE_LIMIT_KVB",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:04Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-10T00:40:04Z"
      },
      "sha": "b5f245f6f2193a3c19bea3eed7ceda1e80b83160"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZmM2U4ZWIzMDAxYTg3ZDBhNmQ5ZWM4NjYyZGRiNDBjZTdhNjczZjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f3e8eb3001a87d0a6d9ec8662ddb40ce7a673f4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6f3e8eb3001a87d0a6d9ec8662ddb40ce7a673f4",
      "tree": {
        "sha": "e1ea0e592908631b3da21270894de2add912afa5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1ea0e592908631b3da21270894de2add912afa5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b5f245f6f2193a3c19bea3eed7ceda1e80b83160",
          "sha": "b5f245f6f2193a3c19bea3eed7ceda1e80b83160",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b5f245f6f2193a3c19bea3eed7ceda1e80b83160"
        }
      ],
      "message": "Add a GetFeePerVSize() accessor to CFeeRate, and use it in the BlockAssembler",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:04Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-10T09:16:11Z"
      },
      "sha": "6f3e8eb3001a87d0a6d9ec8662ddb40ce7a673f4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJkODg5NjZlNDNjNmM2MzIzZDhhZjUyNzJhYjc4NDFmNWM4OTZmMTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d88966e43c6c6323d8af5272ab7841f5c896f12",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2d88966e43c6c6323d8af5272ab7841f5c896f12",
      "tree": {
        "sha": "90b7eaf26ccfc02463a277ad13b46fccbc8d3fe0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/90b7eaf26ccfc02463a277ad13b46fccbc8d3fe0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f3e8eb3001a87d0a6d9ec8662ddb40ce7a673f4",
          "sha": "6f3e8eb3001a87d0a6d9ec8662ddb40ce7a673f4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6f3e8eb3001a87d0a6d9ec8662ddb40ce7a673f4"
        }
      ],
      "message": "miner: replace \"package\" with \"chunk\"\n\nThis makes the terminology consistent with other parts of the codebase, as part\nof the cluster mempool implementation.",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-30T18:50:04Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-16T12:18:48Z"
      },
      "sha": "2d88966e43c6c6323d8af5272ab7841f5c896f12"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21259170294,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAATzJTH2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21259170294",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/48c29fbe0974664e28564af07fbfd753cf125c36",
      "created_at": "2025-11-30T19:04:10Z"
    },
    {
      "event": "reviewed",
      "id": 3525170884,
      "node_id": "PRR_kwDOABII587SHdbE",
      "url": null,
      "actor": null,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-01T14:15:23Z",
      "author_association": "MEMBER",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3525170884",
      "submitted_at": "2025-12-01T14:15:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "reviewed",
      "id": 3525225192,
      "node_id": "PRR_kwDOABII587SHqro",
      "url": null,
      "actor": null,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-01T14:17:29Z",
      "author_association": "MEMBER",
      "body": "ACK 48c29fbe0974664e28564af07fbfd753cf125c36\r\n\r\nSee nits above.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3525225192",
      "submitted_at": "2025-12-01T14:17:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIwNDE3YmE5NDQzN2Q4YmIyM2E3YjY2YTM2NDFlZThmMzY4MmEyZGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0417ba94437d8bb23a7b66a3641ee8f3682a2dc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b0417ba94437d8bb23a7b66a3641ee8f3682a2dc",
      "tree": {
        "sha": "8776e89519129c973bdf0cb88dcde3f16ee93c62",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8776e89519129c973bdf0cb88dcde3f16ee93c62"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d88966e43c6c6323d8af5272ab7841f5c896f12",
          "sha": "2d88966e43c6c6323d8af5272ab7841f5c896f12",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2d88966e43c6c6323d8af5272ab7841f5c896f12"
        }
      ],
      "message": "doc: Add design notes for cluster mempool and explain new mempool limits",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:42:39Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-31T18:37:56Z"
      },
      "sha": "b0417ba94437d8bb23a7b66a3641ee8f3682a2dc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ4NGZmYzI0ZDJkYzM1NjQyODY0OTI0YWFmNzQ2NmZhMTdhYzU4NzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d84ffc24d2dc35642864924aaf7466fa17ac5875",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d84ffc24d2dc35642864924aaf7466fa17ac5875",
      "tree": {
        "sha": "bc4f6d28f693e15e07cb4618e6e6e84efee1d644",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bc4f6d28f693e15e07cb4618e6e6e84efee1d644"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0417ba94437d8bb23a7b66a3641ee8f3682a2dc",
          "sha": "b0417ba94437d8bb23a7b66a3641ee8f3682a2dc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b0417ba94437d8bb23a7b66a3641ee8f3682a2dc"
        }
      ],
      "message": "doc: add release notes snippet for cluster mempool",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:49:38Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-10-31T21:52:33Z"
      },
      "sha": "d84ffc24d2dc35642864924aaf7466fa17ac5875"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQyZGNkMzdhYWMxZTcyM2E0MTAzZjJkNmZlZmFhNDkyMTQxZjVkNDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2dcd37aac1e723a4103f2d6fefaa492141f5d42",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d2dcd37aac1e723a4103f2d6fefaa492141f5d42",
      "tree": {
        "sha": "5b5aa2fc9b858ed65ae09aa2728fb13644df04c0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5b5aa2fc9b858ed65ae09aa2728fb13644df04c0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d84ffc24d2dc35642864924aaf7466fa17ac5875",
          "sha": "d84ffc24d2dc35642864924aaf7466fa17ac5875",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d84ffc24d2dc35642864924aaf7466fa17ac5875"
        }
      ],
      "message": "Avoid using mapTx.modify() to update modified fees\n\nNow that the mempool no longer keeps any feerate-based indices, we can modify\nfeerates in mempool entries directly.",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:50:05Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-10T23:19:18Z"
      },
      "sha": "d2dcd37aac1e723a4103f2d6fefaa492141f5d42"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIzZDZmNDU3YzRjMDZlNDA1NDY0NTk0YzdhMmJlMWExMWU5YmNjMWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/23d6f457c4c06e405464594c7a2be1a11e9bcc1b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/23d6f457c4c06e405464594c7a2be1a11e9bcc1b",
      "tree": {
        "sha": "dd7472456de5640a25c8d0123424e64135dbc4aa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd7472456de5640a25c8d0123424e64135dbc4aa"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2dcd37aac1e723a4103f2d6fefaa492141f5d42",
          "sha": "d2dcd37aac1e723a4103f2d6fefaa492141f5d42",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d2dcd37aac1e723a4103f2d6fefaa492141f5d42"
        }
      ],
      "message": "rpc: improve getmempoolcluster output",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:19Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-12T17:46:14Z"
      },
      "sha": "23d6f457c4c06e405464594c7a2be1a11e9bcc1b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGExYjM0MWVmOTg3NWE4YTE2MDQ2NGYzMjA4ODZmOGRhYzc0OTEyMzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a1b341ef9875a8a160464f320886f8dac7491237",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a1b341ef9875a8a160464f320886f8dac7491237",
      "tree": {
        "sha": "90b599c4ad805737542d12de423a8a86cb9135cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/90b599c4ad805737542d12de423a8a86cb9135cc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/23d6f457c4c06e405464594c7a2be1a11e9bcc1b",
          "sha": "23d6f457c4c06e405464594c7a2be1a11e9bcc1b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/23d6f457c4c06e405464594c7a2be1a11e9bcc1b"
        }
      ],
      "message": "Sanity check feerate diagram in CTxMemPool::check()\n\nAlso switch Assume()'s to assert()'s, so that failures in this function are\nalways caught.",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:22Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T17:54:50Z"
      },
      "sha": "a1b341ef9875a8a160464f320886f8dac7491237"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ5N2Q2MTk5Y2U1MDZjZGE4NThhZmE4NjdmMjU4MmM4MTM4OTUzYTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d97d6199ce506cda858afa867f2582c8138953a5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d97d6199ce506cda858afa867f2582c8138953a5",
      "tree": {
        "sha": "3965ea9dddbaa3fbcbb8dc0a0e728e818550dd63",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3965ea9dddbaa3fbcbb8dc0a0e728e818550dd63"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a1b341ef9875a8a160464f320886f8dac7491237",
          "sha": "a1b341ef9875a8a160464f320886f8dac7491237",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a1b341ef9875a8a160464f320886f8dac7491237"
        }
      ],
      "message": "Fix comment to reference cluster limits, not chain limits",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:22Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T17:55:32Z"
      },
      "sha": "d97d6199ce506cda858afa867f2582c8138953a5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk1N2FlMjMyNDE0YjM4YWRjZjkzNThlMTk4ZmRlZDQyZjdjMWZlZWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/957ae232414b38adcf9358e198fded42f7c1feea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/957ae232414b38adcf9358e198fded42f7c1feea",
      "tree": {
        "sha": "f2081e050fc25d7ca0614d63cdc6a8c40d5418ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f2081e050fc25d7ca0614d63cdc6a8c40d5418ee"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d97d6199ce506cda858afa867f2582c8138953a5",
          "sha": "d97d6199ce506cda858afa867f2582c8138953a5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d97d6199ce506cda858afa867f2582c8138953a5"
        }
      ],
      "message": "Improve comments for getTransactionAncestry to reference cluster counts instead of descendants",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:22Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T17:58:28Z"
      },
      "sha": "957ae232414b38adcf9358e198fded42f7c1feea"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJjMmViOTMxZGEzMGJkOTg2NzA1MjhjMGI5NmY2Y2EwNWYxNGY4Yjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc2eb931da30bd98670528c0b96f6ca05f14f8b9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bc2eb931da30bd98670528c0b96f6ca05f14f8b9",
      "tree": {
        "sha": "c159bec2c4c340fb9feb8f15f871568afc9cb181",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c159bec2c4c340fb9feb8f15f871568afc9cb181"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/957ae232414b38adcf9358e198fded42f7c1feea",
          "sha": "957ae232414b38adcf9358e198fded42f7c1feea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/957ae232414b38adcf9358e198fded42f7c1feea"
        }
      ],
      "message": "Require mempool lock to be held when invoking TRUC checks",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:22Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T18:03:46Z"
      },
      "sha": "bc2eb931da30bd98670528c0b96f6ca05f14f8b9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZjMTMyNWEwOTEzZTIyMjU4YWI2YjYyZjM4MWU1NmM3YmViYmQ0NjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6c1325a0913e22258ab6b62f381e56c7bebbd462",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6c1325a0913e22258ab6b62f381e56c7bebbd462",
      "tree": {
        "sha": "4e65603ec2df99f2eba85c0472174b86151d56a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4e65603ec2df99f2eba85c0472174b86151d56a9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc2eb931da30bd98670528c0b96f6ca05f14f8b9",
          "sha": "bc2eb931da30bd98670528c0b96f6ca05f14f8b9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bc2eb931da30bd98670528c0b96f6ca05f14f8b9"
        }
      ],
      "message": "Rename weight -> clusterweight in RPC output, and add doc explaining mempool terminology\n\nCo-authored-by: glozow <gloriajzhao@gmail.com>",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:22Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T19:20:47Z"
      },
      "sha": "6c1325a0913e22258ab6b62f381e56c7bebbd462"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFiYTc1MDBhMzBlZWNmNzQyYzU2ZTI5MmU5YTM4NWNhNTcwNjZhNmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aba7500a30eecf742c56e292e9a385ca57066a6c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aba7500a30eecf742c56e292e9a385ca57066a6c",
      "tree": {
        "sha": "78e457be99b638386158775d2c058ecc0900d62e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/78e457be99b638386158775d2c058ecc0900d62e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6c1325a0913e22258ab6b62f381e56c7bebbd462",
          "sha": "6c1325a0913e22258ab6b62f381e56c7bebbd462",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6c1325a0913e22258ab6b62f381e56c7bebbd462"
        }
      ],
      "message": "Fix parameter name in getmempoolcluster rpc",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:22Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T19:22:14Z"
      },
      "sha": "aba7500a30eecf742c56e292e9a385ca57066a6c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI4ZDI3OWE4MWMxNmZlOWY1YjZkNDIyZTUxOGM3NzM0NGUyMTdkNGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "tree": {
        "sha": "78a453634b1b8c47518526bf30966e794d5b0c00",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/78a453634b1b8c47518526bf30966e794d5b0c00"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aba7500a30eecf742c56e292e9a385ca57066a6c",
          "sha": "aba7500a30eecf742c56e292e9a385ca57066a6c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aba7500a30eecf742c56e292e9a385ca57066a6c"
        }
      ],
      "message": "doc: add comment to explain correctness of GatherClusters()",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-12-01T15:53:22Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@chaincode.com",
        "date": "2025-11-25T19:32:29Z"
      },
      "sha": "b8d279a81c16fe9f5b6d422e518c77344e217d4f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21280309721,
      "node_id": "HRFPE_lADOABII587Qop6DzwAAAAT0Z8HZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21280309721",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "commit_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits/b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "created_at": "2025-12-01T16:00:19Z"
    },
    {
      "event": "reviewed",
      "id": 3525882615,
      "node_id": "PRR_kwDOABII587SKLL3",
      "url": null,
      "actor": null,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-01T16:22:04Z",
      "author_association": "MEMBER",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/33591/commits/b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3525882615",
      "submitted_at": "2025-12-01T16:22:04Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "review_requested",
      "id": 21280851507,
      "node_id": "RRE_lADOABII587Qop6DzwAAAAT0cAYz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21280851507",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-01T16:22:10Z",
      "requested_reviewer": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3525911467,
      "node_id": "PRR_kwDOABII587SKSOr",
      "url": null,
      "actor": null,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-01T16:27:56Z",
      "author_association": "MEMBER",
      "body": "ACK b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#pullrequestreview-3525911467",
      "submitted_at": "2025-12-01T16:27:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
    },
    {
      "event": "merged",
      "id": 21301072755,
      "node_id": "ME_lADOABII587Qop6DzwAAAAT1pJNz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21301072755",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e0ba6bbed97be45ba2902a5e1512c901a7329d9f",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e0ba6bbed97be45ba2902a5e1512c901a7329d9f",
      "created_at": "2025-12-02T09:46:12Z"
    },
    {
      "event": "closed",
      "id": 21301072804,
      "node_id": "CE_lADOABII587Qop6DzwAAAAT1pJOk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21301072804",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-02T09:46:12Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519515632",
      "pull_request_review_id": 3455074304,
      "id": 2519515632,
      "node_id": "PRRC_kwDOABII586WLMHw",
      "diff_hunk": "@@ -1078,6 +1078,17 @@ void CTxMemPool::RemoveStaged(setEntries &stage, bool updateDescendants, MemPool\n     }\n }\n \n+bool CTxMemPool::CheckPolicyLimits(const CTransactionRef& tx)\n+{\n+    LOCK(cs);\n+    // Use ChangeSet interface to check whether the chain\n+    // limits would be violated. Note that the changeset will be destroyed\n+    // when it goes out of scope.",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 9,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "06b29ff2ee5b2e26fa669263db1b019c0f283413",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n    // Use ChangeSet interface to check whether the cluster count\r\n    // limits would be violated. Note that the changeset will be destroyed\r\n    // when it goes out of scope.\r\n```",
      "created_at": "2025-11-12T19:22:40Z",
      "updated_at": "2025-11-21T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2519515632",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519515632"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": 1084,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 781,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519646193",
      "pull_request_review_id": 3455074304,
      "id": 2519646193,
      "node_id": "PRRC_kwDOABII586WLr_x",
      "diff_hunk": "@@ -425,9 +425,15 @@ void CTxMemPool::check(const CCoinsViewCache& active_coins_tip, int64_t spendhei\n \n     CCoinsViewCache mempoolDuplicate(const_cast<CCoinsViewCache*>(&active_coins_tip));\n \n+    const auto score_with_topo{GetSortedScoreWithTopology()};\n+\n+    // Number of chunks is bounded by number of transactions.\n+    const auto diagram{GetFeerateDiagram()};\n+    Assume(diagram.size() <= score_with_topo.size() + 1);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 8,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "1d13468a8a022340b840aad9056ade280aaf9484",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Now that the feerate diagram outputs weight, the sanity check can be stronger:\r\n\r\n```diff\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 472ed581145..0be261ad964 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -418,6 +418,8 @@ void CTxMemPool::check(const CCoinsViewCache& active_coins_tip, int64_t spendhei\r\n \r\n     uint64_t checkTotal = 0;\r\n     CAmount check_total_fee{0};\r\n+    CAmount check_total_modified_fee{0};\r\n+    int32_t check_total_adjusted_weight{0};\r\n     uint64_t innerUsage = 0;\r\n \r\n     assert(!m_txgraph->IsOversized(TxGraph::Level::MAIN));\r\n@@ -430,12 +432,21 @@ void CTxMemPool::check(const CCoinsViewCache& active_coins_tip, int64_t spendhei\r\n     // Number of chunks is bounded by number of transactions.\r\n     const auto diagram{GetFeerateDiagram()};\r\n     Assume(diagram.size() <= score_with_topo.size() + 1);\r\n+    Assume(diagram.size() >= 1);\r\n \r\n     std::optional<Wtxid> last_wtxid = std::nullopt;\r\n+    auto diagram_iter = diagram.cbegin();\r\n \r\n     for (const auto& it : score_with_topo) {\r\n+        // GetSortedScoreWithTopology() contains the same chunks as the feerate diagram. We do not know where the chunk\r\n+        // boundaries are, but we can check that there are points at which they match the cumulative fee and weight.\r\n+        if (diagram_iter->fee == check_total_modified_fee && diagram_iter->size == check_total_adjusted_weight) {\r\n+            diagram_iter++;\r\n+        }\r\n         checkTotal += it->GetTxSize();\r\n+        check_total_adjusted_weight += it->GetAdjustedWeight();\r\n         check_total_fee += it->GetFee();\r\n+        check_total_modified_fee += it->GetModifiedFee();\r\n         innerUsage += it->DynamicMemoryUsage();\r\n         const CTransaction& tx = it->GetTx();\r\n \r\n@@ -502,8 +513,13 @@ void CTxMemPool::check(const CCoinsViewCache& active_coins_tip, int64_t spendhei\r\n         assert(it2 != mapTx.end());\r\n     }\r\n \r\n+    // If mempool is empty, we have the 1 diagram chunk of (0, 0).\r\n+    Assume(diagram_iter == diagram.cend());\r\n+\r\n     assert(totalTxSize == checkTotal);\r\n     assert(m_total_fee == check_total_fee);\r\n+    Assume(diagram.back().fee == check_total_modified_fee);\r\n+    Assume(diagram.back().size == check_total_adjusted_weight);\r\n     assert(innerUsage == cachedInnerUsage);\r\n }\r\n```\r\n\r\n\r\n",
      "created_at": "2025-11-12T20:04:28Z",
      "updated_at": "2025-11-21T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2519646193",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519646193"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519723491",
      "pull_request_review_id": 3455074304,
      "id": 2519723491,
      "node_id": "PRRC_kwDOABII586WL-3j",
      "diff_hunk": "@@ -678,11 +678,11 @@ class ChainImpl : public Chain\n         // that Chain clients do not need to know about.\n         return TransactionError::OK == err;\n     }\n-    void getTransactionAncestry(const Txid& txid, size_t& ancestors, size_t& descendants, size_t* ancestorsize, CAmount* ancestorfees) override\n+    void getTransactionAncestry(const Txid& txid, size_t& ancestors, size_t& cluster_count, size_t* ancestorsize, CAmount* ancestorfees) override",
      "path": "src/node/interfaces.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "cec26203732ce3883e7e014f954ccd73c3c0099d",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "cec26203732ce3883e7e014f954ccd73c3c0099d: The function signature in chain.h still calls this `descendants`",
      "created_at": "2025-11-12T20:29:42Z",
      "updated_at": "2025-11-21T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2519723491",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519723491"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 680,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519792868",
      "pull_request_review_id": 3455074304,
      "id": 2519792868,
      "node_id": "PRRC_kwDOABII586WMPzk",
      "diff_hunk": "@@ -166,6 +166,7 @@ std::optional<std::pair<std::string, CTransactionRef>> SingleTRUCChecks(const CT\n                                           const std::set<Txid>& direct_conflicts,\n                                           int64_t vsize)\n {\n+    LOCK(pool.cs);",
      "path": "src/policy/truc_policy.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "c26e796a1bbd86b9617b1e7d5752415442f4ffaa",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think these functions should actually require the lock to already be held. They are only called from `MemPoolAccept` so this is always true.",
      "created_at": "2025-11-12T20:54:22Z",
      "updated_at": "2025-11-21T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2519792868",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519792868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519835223",
      "pull_request_review_id": 3455074304,
      "id": 2519835223,
      "node_id": "PRRC_kwDOABII586WMaJX",
      "diff_hunk": "@@ -261,14 +261,14 @@ static RPCHelpMan testmempoolaccept()\n static std::vector<RPCResult> ClusterDescription()\n {\n     return {\n-        RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n+        RPCResult{RPCResult::Type::NUM, \"weight\", \"total sigops-adjusted weight (as defined in BIP 141 and modified by '-bytespersigop'\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "486b441971912bdc63921425d5e40a8c168186ea",
      "original_commit_id": "ccf7c5ac41722496de37756a91be25e6a0779374",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: missing parens\r\n\r\nAlso, I wonder if it would be confusing that an RPC result named \"weight\" is adjusted in some RPCs but not in others... should we be calling this \"adjusted_weight\" ? Or perhaps \"clusterweight\" and \"chunkweight\" are enough to indicate that this is in the mempool context and thus not just BIP 141 weight.",
      "created_at": "2025-11-12T21:11:54Z",
      "updated_at": "2025-11-21T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2519835223",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519835223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 270,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519846231",
      "pull_request_review_id": 3455074304,
      "id": 2519846231,
      "node_id": "PRRC_kwDOABII586WMc1X",
      "diff_hunk": "@@ -561,6 +647,35 @@ static RPCHelpMan getmempooldescendants()\n     };\n }\n \n+static RPCHelpMan getmempoolcluster()\n+{\n+    return RPCHelpMan{\"getmempoolcluster\",\n+        \"Returns mempool data for given cluster\\n\",\n+        {\n+            {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The txid of a transaction in the cluster\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\", ClusterDescription()},\n+        RPCExamples{\n+            HelpExampleCli(\"getmempoolcluster\", \"txid\")\n+            + HelpExampleRpc(\"getmempoolcluster\", \"txid\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+{\n+    uint256 hash = ParseHashV(request.params[0], \"parameter 1\");",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 153,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "14dcabb677907d6a6e04174ddee3eb666fd934f7",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is this supposed to be the name of the param?\r\n\r\n```suggestion\r\n    uint256 hash = ParseHashV(request.params[0], \"txid\");\r\n```",
      "created_at": "2025-11-12T21:16:52Z",
      "updated_at": "2025-11-21T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2519846231",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2519846231"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2535383593",
      "pull_request_review_id": 3455074304,
      "id": 2535383593,
      "node_id": "PRRC_kwDOABII586XHuIp",
      "diff_hunk": "@@ -977,28 +977,24 @@ void CTxMemPool::SetLoadTried(bool load_tried)\n std::vector<CTxMemPool::txiter> CTxMemPool::GatherClusters(const std::vector<Txid>& txids) const\n {\n     AssertLockHeld(cs);\n-    std::vector<txiter> clustered_txs{GetIterVec(txids)};\n-    // Use epoch: visiting an entry means we have added it to the clustered_txs vector. It does not\n-    // necessarily mean the entry has been processed.\n-    WITH_FRESH_EPOCH(m_epoch);\n-    for (const auto& it : clustered_txs) {\n-        visited(it);\n-    }\n-    // i = index of where the list of entries to process starts\n-    for (size_t i{0}; i < clustered_txs.size(); ++i) {\n-        // DoS protection: if there are 500 or more entries to process, just quit.\n-        if (clustered_txs.size() > 500) return {};\n-        const txiter& tx_iter = clustered_txs.at(i);\n-        for (const auto& entries : {tx_iter->GetMemPoolParentsConst(), tx_iter->GetMemPoolChildrenConst()}) {\n-            for (const CTxMemPoolEntry& entry : entries) {\n-                const auto entry_it = mapTx.iterator_to(entry);\n-                if (!visited(entry_it)) {\n-                    clustered_txs.push_back(entry_it);\n+\n+    std::vector<CTxMemPool::txiter> ret;\n+    std::set<const CTxMemPoolEntry*> unique_cluster_representatives;\n+    for (auto txid : txids) {\n+        auto it = mapTx.find(txid);\n+        if (it != mapTx.end()) {\n+            auto cluster = m_txgraph->GetCluster(*it, TxGraph::Level::MAIN);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 27,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "57cb99c82504693601709eeb47eba9cd7ab7e387",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "57cb99c82504693601709eeb47eba9cd7ab7e387 requires that `GetCluster` output txns in a deterministic order, which could be worth documenting.",
      "created_at": "2025-11-17T20:12:10Z",
      "updated_at": "2025-11-21T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2535383593",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2535383593"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 963,
      "original_line": 963,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2548163119",
      "pull_request_review_id": 3490680786,
      "id": 2548163119,
      "node_id": "PRRC_kwDOABII586X4eIv",
      "diff_hunk": "@@ -261,14 +261,14 @@ static RPCHelpMan testmempoolaccept()\n static std::vector<RPCResult> ClusterDescription()\n {\n     return {\n-        RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n+        RPCResult{RPCResult::Type::NUM, \"weight\", \"total sigops-adjusted weight (as defined in BIP 141 and modified by '-bytespersigop'\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "486b441971912bdc63921425d5e40a8c168186ea",
      "original_commit_id": "ccf7c5ac41722496de37756a91be25e6a0779374",
      "in_reply_to_id": 2519835223,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Some documentation that could be worth having in doc/policy/ ?\r\n\r\n### Fee and Size Terminology in Mempool Policy\r\n\r\n- Each transaction has a **weight** and virtual size as defined in BIP 141 (different from serialized size for witness transactions as witness data is discounted and virtual size is rounded up to the nearest integer).\r\n\r\n    - In the RPCs, \"weight\" refers to the weight as defined in BIP 141. (Not really true here since chunk weight is sigops-adjusted)\r\n\r\n- A transaction has a **sigops size**, defined as its sigop cost multiplied by the node's `-bytespersigop`, an adjustable policy.\r\n\r\n- A transaction's **virtual size (vsize)** refers to its **sigops-adjusted virtual size**: the maximum of its BIP 141 size and sigops size. This virtual size is used in order to simplify the process of building blocks that satisfy both the maximum weight limit and sigop limit.\r\n\r\n    - In the RPCs, \"vsize\" refers to sigops-adjusted virtual size.\r\n\r\n    - Mempool entry information with the suffix \"size\" (\"clustersize\") refer to the cumulative virtual size of the transactions in the group.\r\n\r\n- A transaction can also have a **sigops-adjusted weight**, defined similarly (using the BIP 141 weight without dividing by the witness scaling factor). This value is used in most internal processes because using virtual size can result in loss of precision.\r\n\r\n- A transaction's **base fee** is the difference between its input and output values.\r\n\r\n- A transaction's **modified fee** is its base fee added to any **fee delta** introduced using the `prioritisetransaction` RPC.\r\nModified fee is used internally for all fee-related mempool policies and block building.\r\n",
      "created_at": "2025-11-21T00:46:25Z",
      "updated_at": "2025-11-25T19:48:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2548163119",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2548163119"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 270,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560753152",
      "pull_request_review_id": 3506023834,
      "id": 2560753152,
      "node_id": "PRRC_kwDOABII586Yof4A",
      "diff_hunk": "@@ -320,6 +320,7 @@ class CTxMemPool\n      */\n     void check(const CCoinsViewCache& active_coins_tip, int64_t spendheight) const EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n \n+    void removeRecursive(txiter to_remove, MemPoolRemovalReason reason) EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "path": "src/txmempool.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2\r\n\r\nAre we using this elsewhere or could this be private?",
      "created_at": "2025-11-25T16:56:57Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2560753152",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560753152"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 323,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560767330",
      "pull_request_review_id": 3506023834,
      "id": 2560767330,
      "node_id": "PRRC_kwDOABII586YojVi",
      "diff_hunk": "@@ -308,35 +308,49 @@ CTxMemPool::txiter CTxMemPool::CalculateDescendants(const CTxMemPoolEntry& entry\n     return mapTx.iterator_to(entry);\n }\n \n+void CTxMemPool::removeRecursive(CTxMemPool::txiter to_remove, MemPoolRemovalReason reason)\n+{\n+    AssertLockHeld(cs);\n+    Assume(!m_have_changeset);\n+    auto descendants = m_txgraph->GetDescendants(*to_remove, TxGraph::Level::MAIN);\n+    for (auto tx: descendants) {\n+        removeUnchecked(mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*tx)), reason);\n+    }\n+}\n+\n void CTxMemPool::removeRecursive(const CTransaction &origTx, MemPoolRemovalReason reason)\n {\n     // Remove transaction from memory pool\n     AssertLockHeld(cs);\n     Assume(!m_have_changeset);\n-        setEntries txToRemove;\n-        txiter origit = mapTx.find(origTx.GetHash());\n-        if (origit != mapTx.end()) {\n-            txToRemove.insert(origit);\n-        } else {\n-            // When recursively removing but origTx isn't in the mempool\n-            // be sure to remove any children that are in the pool. This can\n-            // happen during chain re-orgs if origTx isn't re-accepted into\n-            // the mempool for any reason.\n-            for (unsigned int i = 0; i < origTx.vout.size(); i++) {\n-                auto it = mapNextTx.find(COutPoint(origTx.GetHash(), i));\n-                if (it == mapNextTx.end())\n-                    continue;\n-                txiter nextit = it->second;\n-                assert(nextit != mapTx.end());\n-                txToRemove.insert(nextit);\n+    txiter origit = mapTx.find(origTx.GetHash());\n+    if (origit != mapTx.end()) {\n+        removeRecursive(origit, reason);\n+    } else {\n+        // When recursively removing but origTx isn't in the mempool\n+        // be sure to remove any children that are in the pool. This can",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 40,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2\r\n\r\n```Suggestion\r\n        // be sure to remove any descendants that are in the pool. This can\r\n```",
      "created_at": "2025-11-25T17:01:21Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2560767330",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560767330"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560781764",
      "pull_request_review_id": 3506023834,
      "id": 2560781764,
      "node_id": "PRRC_kwDOABII586Yom3E",
      "diff_hunk": "@@ -308,35 +308,49 @@ CTxMemPool::txiter CTxMemPool::CalculateDescendants(const CTxMemPoolEntry& entry\n     return mapTx.iterator_to(entry);\n }\n \n+void CTxMemPool::removeRecursive(CTxMemPool::txiter to_remove, MemPoolRemovalReason reason)\n+{\n+    AssertLockHeld(cs);\n+    Assume(!m_have_changeset);\n+    auto descendants = m_txgraph->GetDescendants(*to_remove, TxGraph::Level::MAIN);\n+    for (auto tx: descendants) {\n+        removeUnchecked(mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*tx)), reason);\n+    }\n+}\n+\n void CTxMemPool::removeRecursive(const CTransaction &origTx, MemPoolRemovalReason reason)\n {\n     // Remove transaction from memory pool\n     AssertLockHeld(cs);\n     Assume(!m_have_changeset);\n-        setEntries txToRemove;\n-        txiter origit = mapTx.find(origTx.GetHash());\n-        if (origit != mapTx.end()) {\n-            txToRemove.insert(origit);\n-        } else {\n-            // When recursively removing but origTx isn't in the mempool\n-            // be sure to remove any children that are in the pool. This can\n-            // happen during chain re-orgs if origTx isn't re-accepted into\n-            // the mempool for any reason.\n-            for (unsigned int i = 0; i < origTx.vout.size(); i++) {\n-                auto it = mapNextTx.find(COutPoint(origTx.GetHash(), i));\n-                if (it == mapNextTx.end())\n-                    continue;\n-                txiter nextit = it->second;\n-                assert(nextit != mapTx.end());\n-                txToRemove.insert(nextit);\n+    txiter origit = mapTx.find(origTx.GetHash());\n+    if (origit != mapTx.end()) {\n+        removeRecursive(origit, reason);",
      "path": "src/txmempool.cpp",
      "position": 65,
      "original_position": 37,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2\r\n\r\nFrom a cursory glance I could not figure out when this happens. I believe behavior matches, but I'm still curious.",
      "created_at": "2025-11-25T17:06:03Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2560781764",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560781764"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 327,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560813764",
      "pull_request_review_id": 3506023834,
      "id": 2560813764,
      "node_id": "PRRC_kwDOABII586YourE",
      "diff_hunk": "@@ -360,15 +360,25 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<CTxMemPool::txiter> txToRemove;\n+    {\n+        WITH_FRESH_EPOCH(m_epoch);\n+        for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n+            if (check_final_and_mature(it) && !visited(it)) {\n+                txToRemove.emplace_back(it);\n+                auto descendants = m_txgraph->GetDescendants(*it, TxGraph::Level::MAIN);\n+                for (auto d: descendants) {\n+                    auto desc = mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*d));\n+                    if (!visited(desc)) {\n+                        txToRemove.emplace_back(desc);\n+                    }\n+                }\n+            }\n+        }\n     }\n-    setEntries setAllRemoves;\n     for (txiter it : txToRemove) {\n-        CalculateDescendants(it, setAllRemoves);\n+        removeUnchecked(it, MemPoolRemovalReason::REORG);\n     }\n-    RemoveStaged(setAllRemoves, MemPoolRemovalReason::REORG);\n     for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n         assert(TestLockPointValidity(chain, it->GetLockPoints()));",
      "path": "src/txmempool.cpp",
      "position": 116,
      "original_position": 30,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "05a7b963c93501939ec0523fe0182af87ee40056",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "05a7b963c93501939ec0523fe0182af87ee40056\r\n\r\nnot related to cluster mempool, but doesn't this seem pretty expensive, wondering if we can make this an `Assume()` instead",
      "created_at": "2025-11-25T17:16:48Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2560813764",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560813764"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 368,
      "original_line": 368,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560856387",
      "pull_request_review_id": 3506023834,
      "id": 2560856387,
      "node_id": "PRRC_kwDOABII586Yo5FD",
      "diff_hunk": "@@ -360,15 +360,25 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<CTxMemPool::txiter> txToRemove;\n+    {\n+        WITH_FRESH_EPOCH(m_epoch);\n+        for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n+            if (check_final_and_mature(it) && !visited(it)) {",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 11,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "05a7b963c93501939ec0523fe0182af87ee40056",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "05a7b963c93501939ec0523fe0182af87ee40056\r\n\r\nLight preference for splitting out the checks to make the `visited()` mutation more obvious\r\n\r\n```\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 5efdfbf133..7765f27b79 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -365,5 +365,6 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\r\n         WITH_FRESH_EPOCH(m_epoch);\r\n         for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\r\n-            if (check_final_and_mature(it) && !visited(it)) {\r\n+            if (check_final_and_mature(it)) {\r\n+                if (visited(it)) continue;\r\n                 txToRemove.emplace_back(it);\r\n                 auto descendants = m_txgraph->GetDescendants(*it, TxGraph::Level::MAIN);\r\n```",
      "created_at": "2025-11-25T17:31:11Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2560856387",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2560856387"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561106726",
      "pull_request_review_id": 3506023834,
      "id": 2561106726,
      "node_id": "PRRC_kwDOABII586Yp2Mm",
      "diff_hunk": "@@ -24,15 +24,10 @@ static constexpr uint32_t MAX_PACKAGE_COUNT{25};\n static constexpr uint32_t MAX_PACKAGE_WEIGHT = 404'000;\n static_assert(MAX_PACKAGE_WEIGHT >= MAX_STANDARD_TX_WEIGHT);\n \n-// If a package is to be evaluated, it must be at least as large as the mempool's ancestor/descendant limits,\n-// otherwise transactions that would be individually accepted may be rejected in a package erroneously.\n-// Since a submitted package must be child-with-parents (all of the transactions are a parent\n-// of the child), package limits are ultimately bounded by mempool package limits. Ensure that the\n-// defaults reflect this constraint.\n-static_assert(DEFAULT_DESCENDANT_LIMIT >= MAX_PACKAGE_COUNT);\n-static_assert(DEFAULT_ANCESTOR_LIMIT >= MAX_PACKAGE_COUNT);\n-static_assert(MAX_PACKAGE_WEIGHT >= DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * WITNESS_SCALE_FACTOR * 1000);\n-static_assert(MAX_PACKAGE_WEIGHT >= DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * WITNESS_SCALE_FACTOR * 1000);\n+// Packages are part of a single cluster, so ensure that the package limits are",
      "path": "src/policy/packages.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "d2b0872461158e69675985e8c9e2eb929d904683",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "d2b0872461158e69675985e8c9e2eb929d904683\r\n\r\nseems like  these checks are backwards now compared to before, but seems right after these changes...\r\n\r\n@glozow ?",
      "created_at": "2025-11-25T19:07:30Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561106726",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561106726"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 27,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561115129",
      "pull_request_review_id": 3506023834,
      "id": 2561115129,
      "node_id": "PRRC_kwDOABII586Yp4P5",
      "diff_hunk": "@@ -252,7 +252,7 @@ void BlockAssembler::addChunks()\n \n     while (selected_transactions.size() > 0) {\n         // Check to see if min fee rate is still respected.\n-        if (chunk_feerate.fee < m_options.blockMinFeeRate.GetFee(chunk_feerate_vsize.size)) {\n+        if (chunk_feerate_vsize < m_options.blockMinFeeRate.GetFeePerVSize()) {",
      "path": "src/node/miner.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "ff2a16af040ac0906b4ebd488b1125b6ea25fa14",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "ff2a16af040ac0906b4ebd488b1125b6ea25fa14\r\n\r\nI don't think we should be tie-breaking based on size here?\r\n\r\n```Suggestion\r\n        if (chunk_feerate_vsize << m_options.blockMinFeeRate.GetFeePerVSize()) {\r\n```",
      "created_at": "2025-11-25T19:11:11Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561115129",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561115129"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561149521",
      "pull_request_review_id": 3506023834,
      "id": 2561149521,
      "node_id": "PRRC_kwDOABII586YqApR",
      "diff_hunk": "@@ -8,58 +8,12 @@ Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n \n-A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n-its ancestor set, including itself.\n-A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n-its descendant set, including itself.\n+A transaction's *cluster* is the set of all transactions that can be reached\n+from that transaction by following all parent or child relationships. For\n+example, if Tx2 is also a child of Tx1, then Tx0, Tx1, and Tx2 are all in the\n+same cluster. Any other parents of Tx2 would also be in the same cluster.\n \n-A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n-transactions in its ancestor set, including itself.\n-A mempool entry's *descendant size* is the aggregated virtual size of in-mempool (unconfirmed)\n-transactions in its descendant set, including itself.\n+## Limits\n \n-Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n-mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n-`-limitdescendantcount`, `-limitdescendantsize`).\n-\n-## Exemptions\n-\n-### CPFP Carve Out\n-\n-**CPFP Carve Out** if a transaction candidate for submission to the\n-mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if all\n-of the following conditions are met:\n-\n-1. The candidate transaction is no more than 10,000 virtual bytes.\n-\n-2. The candidate transaction has an ancestor count of 2 (itself and exactly 1 ancestor).\n-\n-3. The in-mempool transaction's descendant count, including the candidate transaction, would only\n-   exceed the limit by 1.\n-\n-*Rationale*: this rule was introduced to prevent pinning by domination of a transaction's descendant\n-limits in two-party contract protocols such as LN.  Also see the [mailing list\n-post](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html).\n-\n-This rule was introduced in [PR #15681](https://github.com/bitcoin/bitcoin/pull/15681).\n-\n-### Single-Conflict RBF Carve Out\n-\n-When a candidate transaction for submission to the mempool would replace mempool entries, it may\n-also decrease the descendant count of other mempool entries. Since ancestor/descendant limits are\n-calculated prior to removing the would-be-replaced transactions, they may be overestimated.\n-\n-An exemption is given for a candidate transaction that would replace mempool transactions and meets\n-all of the following conditions:\n-\n-1. The candidate transaction has exactly 1 directly conflicting transaction.\n-\n-2. The candidate transaction does not spend any unconfirmed inputs that are not also spent by the\n-   directly conflicting transaction.\n-\n-The following discounts are given to account for the would-be-replaced transaction(s):\n-\n-1. The descendant count limit is temporarily increased by 1.\n-\n-2. The descendant size limit temporarily is increased by the virtual size of the to-be-replaced\n-   directly conflicting transaction.\n+Transactions submitted to the mempool must not exceed the cluster limits set by",
      "path": "doc/policy/mempool-limits.md",
      "position": 1,
      "original_position": 64,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "c11faf779a1c415f8a04463bfb3febc990eb297b",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "c11faf779a1c415f8a04463bfb3febc990eb297b\r\n\r\nmaybe:\r\n\r\n\"Transactions submitted to the mempol must not result in clusters which would exceed cluster limits set by\"",
      "created_at": "2025-11-25T19:24:41Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561149521",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561149521"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561218853",
      "pull_request_review_id": 3506591255,
      "id": 2561218853,
      "node_id": "PRRC_kwDOABII586YqRkl",
      "diff_hunk": "@@ -1078,6 +1078,17 @@ void CTxMemPool::RemoveStaged(setEntries &stage, bool updateDescendants, MemPool\n     }\n }\n \n+bool CTxMemPool::CheckPolicyLimits(const CTransactionRef& tx)\n+{\n+    LOCK(cs);\n+    // Use ChangeSet interface to check whether the chain\n+    // limits would be violated. Note that the changeset will be destroyed\n+    // when it goes out of scope.",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 9,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "06b29ff2ee5b2e26fa669263db1b019c0f283413",
      "in_reply_to_id": 2519515632,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed in 9e7410479.",
      "created_at": "2025-11-25T19:52:51Z",
      "updated_at": "2025-11-25T19:52:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561218853",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561218853"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": 1084,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 781,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561221040",
      "pull_request_review_id": 3506593876,
      "id": 2561221040,
      "node_id": "PRRC_kwDOABII586YqSGw",
      "diff_hunk": "@@ -425,9 +425,15 @@ void CTxMemPool::check(const CCoinsViewCache& active_coins_tip, int64_t spendhei\n \n     CCoinsViewCache mempoolDuplicate(const_cast<CCoinsViewCache*>(&active_coins_tip));\n \n+    const auto score_with_topo{GetSortedScoreWithTopology()};\n+\n+    // Number of chunks is bounded by number of transactions.\n+    const auto diagram{GetFeerateDiagram()};\n+    Assume(diagram.size() <= score_with_topo.size() + 1);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 8,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "1d13468a8a022340b840aad9056ade280aaf9484",
      "in_reply_to_id": 2519646193,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Took this (with one small fix) in 375682ec",
      "created_at": "2025-11-25T19:53:40Z",
      "updated_at": "2025-11-25T19:53:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561221040",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561221040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561222587",
      "pull_request_review_id": 3506595656,
      "id": 2561222587,
      "node_id": "PRRC_kwDOABII586YqSe7",
      "diff_hunk": "@@ -678,11 +678,11 @@ class ChainImpl : public Chain\n         // that Chain clients do not need to know about.\n         return TransactionError::OK == err;\n     }\n-    void getTransactionAncestry(const Txid& txid, size_t& ancestors, size_t& descendants, size_t* ancestorsize, CAmount* ancestorfees) override\n+    void getTransactionAncestry(const Txid& txid, size_t& ancestors, size_t& cluster_count, size_t* ancestorsize, CAmount* ancestorfees) override",
      "path": "src/node/interfaces.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "cec26203732ce3883e7e014f954ccd73c3c0099d",
      "in_reply_to_id": 2519723491,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed in 472e3e16",
      "created_at": "2025-11-25T19:54:13Z",
      "updated_at": "2025-11-25T19:54:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561222587",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561222587"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 680,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561225440",
      "pull_request_review_id": 3506598942,
      "id": 2561225440,
      "node_id": "PRRC_kwDOABII586YqTLg",
      "diff_hunk": "@@ -166,6 +166,7 @@ std::optional<std::pair<std::string, CTransactionRef>> SingleTRUCChecks(const CT\n                                           const std::set<Txid>& direct_conflicts,\n                                           int64_t vsize)\n {\n+    LOCK(pool.cs);",
      "path": "src/policy/truc_policy.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "c26e796a1bbd86b9617b1e7d5752415442f4ffaa",
      "in_reply_to_id": 2519792868,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Replaced this with AssertLockHeld(pool.cs), and added lock annotations to both the single and package TRUC checks in 70893b6b",
      "created_at": "2025-11-25T19:55:18Z",
      "updated_at": "2025-11-25T19:55:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561225440",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561225440"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561233005",
      "pull_request_review_id": 3506607351,
      "id": 2561233005,
      "node_id": "PRRC_kwDOABII586YqVBt",
      "diff_hunk": "@@ -261,14 +261,14 @@ static RPCHelpMan testmempoolaccept()\n static std::vector<RPCResult> ClusterDescription()\n {\n     return {\n-        RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n+        RPCResult{RPCResult::Type::NUM, \"weight\", \"total sigops-adjusted weight (as defined in BIP 141 and modified by '-bytespersigop'\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "486b441971912bdc63921425d5e40a8c168186ea",
      "original_commit_id": "ccf7c5ac41722496de37756a91be25e6a0779374",
      "in_reply_to_id": 2519835223,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I'm going with `chunkweight` and `clusterweight` for now. Not sure what to do for the output of `getmempoolfeeratediagram()` though?\r\n\r\nI also took your doc suggestion and created a new file in doc/policy/ that explains the terminology. Would it better to consolidate some of those files into one?",
      "created_at": "2025-11-25T19:58:00Z",
      "updated_at": "2025-11-25T19:58:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561233005",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561233005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 270,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561237544",
      "pull_request_review_id": 3506612567,
      "id": 2561237544,
      "node_id": "PRRC_kwDOABII586YqWIo",
      "diff_hunk": "@@ -561,6 +647,35 @@ static RPCHelpMan getmempooldescendants()\n     };\n }\n \n+static RPCHelpMan getmempoolcluster()\n+{\n+    return RPCHelpMan{\"getmempoolcluster\",\n+        \"Returns mempool data for given cluster\\n\",\n+        {\n+            {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The txid of a transaction in the cluster\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\", ClusterDescription()},\n+        RPCExamples{\n+            HelpExampleCli(\"getmempoolcluster\", \"txid\")\n+            + HelpExampleRpc(\"getmempoolcluster\", \"txid\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+{\n+    uint256 hash = ParseHashV(request.params[0], \"parameter 1\");",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 153,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "14dcabb677907d6a6e04174ddee3eb666fd934f7",
      "in_reply_to_id": 2519846231,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Oops, fixed in 62b2f2144",
      "created_at": "2025-11-25T19:59:32Z",
      "updated_at": "2025-11-25T19:59:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561237544",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561237544"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561239191",
      "pull_request_review_id": 3506614479,
      "id": 2561239191,
      "node_id": "PRRC_kwDOABII586YqWiX",
      "diff_hunk": "@@ -977,28 +977,24 @@ void CTxMemPool::SetLoadTried(bool load_tried)\n std::vector<CTxMemPool::txiter> CTxMemPool::GatherClusters(const std::vector<Txid>& txids) const\n {\n     AssertLockHeld(cs);\n-    std::vector<txiter> clustered_txs{GetIterVec(txids)};\n-    // Use epoch: visiting an entry means we have added it to the clustered_txs vector. It does not\n-    // necessarily mean the entry has been processed.\n-    WITH_FRESH_EPOCH(m_epoch);\n-    for (const auto& it : clustered_txs) {\n-        visited(it);\n-    }\n-    // i = index of where the list of entries to process starts\n-    for (size_t i{0}; i < clustered_txs.size(); ++i) {\n-        // DoS protection: if there are 500 or more entries to process, just quit.\n-        if (clustered_txs.size() > 500) return {};\n-        const txiter& tx_iter = clustered_txs.at(i);\n-        for (const auto& entries : {tx_iter->GetMemPoolParentsConst(), tx_iter->GetMemPoolChildrenConst()}) {\n-            for (const CTxMemPoolEntry& entry : entries) {\n-                const auto entry_it = mapTx.iterator_to(entry);\n-                if (!visited(entry_it)) {\n-                    clustered_txs.push_back(entry_it);\n+\n+    std::vector<CTxMemPool::txiter> ret;\n+    std::set<const CTxMemPoolEntry*> unique_cluster_representatives;\n+    for (auto txid : txids) {\n+        auto it = mapTx.find(txid);\n+        if (it != mapTx.end()) {\n+            auto cluster = m_txgraph->GetCluster(*it, TxGraph::Level::MAIN);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 27,
      "commit_id": "34c49f0782659bcdeb7b6f82bfdac35e464666ae",
      "original_commit_id": "57cb99c82504693601709eeb47eba9cd7ab7e387",
      "in_reply_to_id": 2535383593,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Added a comment in 875f1b98fcc",
      "created_at": "2025-11-25T20:00:04Z",
      "updated_at": "2025-11-25T20:00:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561239191",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561239191"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 963,
      "original_line": 963,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561313165",
      "pull_request_review_id": 3506023834,
      "id": 2561313165,
      "node_id": "PRRC_kwDOABII586YqomN",
      "diff_hunk": "@@ -320,16 +334,28 @@ static void clusterToJSON(const CTxMemPool& pool, UniValue& info, std::vector<co\n     }\n     info.pushKV(\"weight\", total_weight);\n     info.pushKV(\"txcount\", (int)cluster.size());\n-    UniValue txs(UniValue::VARR);\n+\n+    // Output the cluster by chunk. This isn't handed to us by the mempool, but\n+    // we can calculate it by looking at the chunk feerates of each transaction\n+    // in the cluster.\n+    FeePerWeight current_chunk_feerate = pool.GetMainChunkFeerate(*cluster[0]);\n+    std::vector<const CTxMemPoolEntry *> current_chunk;\n+    current_chunk.reserve(cluster.size());\n+\n+    UniValue all_chunks(UniValue::VARR);\n     for (const auto& tx : cluster) {\n-        UniValue txentry(UniValue::VOBJ);\n-        auto feerate = pool.GetMainChunkFeerate(*tx);\n-        txentry.pushKV(\"txid\", tx->GetTx().GetHash().ToString());\n-        txentry.pushKV(\"chunkfee\", ValueFromAmount((int)feerate.fee));\n-        txentry.pushKV(\"chunkweight\", feerate.size);\n-        txs.push_back(txentry);\n+        if (current_chunk_feerate.size == 0) {",
      "path": "src/rpc/mempool.cpp",
      "position": 66,
      "original_position": 60,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "486b441971912bdc63921425d5e40a8c168186ea",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "486b441971912bdc63921425d5e40a8c168186ea\r\n\r\npretty sure there's at least one bug here. f.e., if you have three chunks in one cluster, I think the conditional here is only hit the first time, as `current_chunk_feerate` is never reset to the next chunk's size, so it'll just start going negative. \r\n\r\nWrote a test which I think covers it\r\n\r\n```\r\ndiff --git a/test/functional/mempool_cluster.py b/test/functional/mempool_cluster.py\r\nindex 4b4812e619..a7eabef039 100755\r\n--- a/test/functional/mempool_cluster.py\r\n+++ b/test/functional/mempool_cluster.py\r\n@@ -299,4 +299,73 @@ class MempoolClusterTest(BitcoinTestFramework):\r\n         assert_equal(node.getmempoolcluster(tx_replacer[\"txid\"])['txcount'], 2)\r\n \r\n+    @cleanup\r\n+    def test_getmempoolcluster(self):\r\n+        node = self.nodes[0]\r\n+\r\n+        self.log.info(\"Testing getmempoolcluster\")\r\n+\r\n+        assert_equal(node.getrawmempool(), [])\r\n+\r\n+        # Not in-mempool\r\n+        not_mempool_tx = self.wallet.create_self_transfer()\r\n+        assert_raises_rpc_error(-5, \"Transaction not in mempool\", node.getmempoolcluster, not_mempool_tx[\"txid\"])\r\n+\r\n+        # Test that chunks are being recomputed properly\r\n+\r\n+        # One chunk with one tx\r\n+        first_chunk_tx = self.wallet.send_self_transfer(from_node=node)\r\n+        first_chunk_info = node.getmempoolcluster(first_chunk_tx[\"txid\"])\r\n+        assert_equal(first_chunk_info, {'weight': first_chunk_tx[\"tx\"].get_weight(), 'txcount': 1, 'chunks': [{'chunkfee': first_chunk_tx[\"fee\"], 'chunkweight': first_chunk_tx[\"tx\"].get_weight(), 'txs': [first_chunk_tx[\"txid\"]]}]})\r\n+\r\n+        # Another unconnected tx, nothing should change\r\n+        other_chunk_tx = self.wallet.send_self_transfer(from_node=node)\r\n+        first_chunk_info = node.getmempoolcluster(first_chunk_tx[\"txid\"])\r\n+        assert_equal(first_chunk_info, {'weight': first_chunk_tx[\"tx\"].get_weight(), 'txcount': 1, 'chunks': [{'chunkfee': first_chunk_tx[\"fee\"], 'chunkweight': first_chunk_tx[\"tx\"].get_weight(), 'txs': [first_chunk_tx[\"txid\"]]}]})\r\n+\r\n+        # Second connected tx, makes one chunk still with high enough fee\r\n+        second_chunk_tx = self.wallet.send_self_transfer(from_node=node, utxo_to_spend=first_chunk_tx[\"new_utxo\"], fee_rate=Decimal(\"0.01\"))\r\n+        first_chunk_info = node.getmempoolcluster(first_chunk_tx[\"txid\"])\r\n+        # output is same across same cluster transactions\r\n+        assert_equal(first_chunk_info, node.getmempoolcluster(second_chunk_tx[\"txid\"]))\r\n+        chunkweight = first_chunk_tx[\"tx\"].get_weight() + second_chunk_tx[\"tx\"].get_weight()\r\n+        chunkfee = first_chunk_tx[\"fee\"] + second_chunk_tx[\"fee\"]\r\n+        assert_equal(first_chunk_info, {'weight': chunkweight, 'txcount': 2, 'chunks': [{'chunkfee': chunkfee, 'chunkweight': chunkweight, 'txs': [first_chunk_tx[\"txid\"], second_chunk_tx[\"txid\"]]}]})\r\n+\r\n+        # Third connected tx, makes one chunk still with high enough fee\r\n+        third_chunk_tx = self.wallet.send_self_transfer(from_node=node, utxo_to_spend=second_chunk_tx[\"new_utxo\"], fee_rate=Decimal(\"0.1\"))\r\n+        first_chunk_info = node.getmempoolcluster(first_chunk_tx[\"txid\"])\r\n+        # output is same across same cluster transactions\r\n+        assert_equal(first_chunk_info, node.getmempoolcluster(third_chunk_tx[\"txid\"]))\r\n+        chunkweight = first_chunk_tx[\"tx\"].get_weight() + second_chunk_tx[\"tx\"].get_weight() + third_chunk_tx[\"tx\"].get_weight()\r\n+        chunkfee = first_chunk_tx[\"fee\"] + second_chunk_tx[\"fee\"] + third_chunk_tx[\"fee\"]\r\n+        assert_equal(first_chunk_info, {'weight': chunkweight, 'txcount': 3, 'chunks': [{'chunkfee': chunkfee, 'chunkweight': chunkweight, 'txs': [first_chunk_tx[\"txid\"], second_chunk_tx[\"txid\"], third_chunk_tx[\"txid\"]]}]})\r\n+\r\n+        # Now test single cluster with each tx being its own chunk\r\n+\r\n+        # One chunk with one tx\r\n+        first_chunk_tx = self.wallet.send_self_transfer(from_node=node)\r\n+        first_chunk_info = node.getmempoolcluster(first_chunk_tx[\"txid\"])\r\n+        assert_equal(first_chunk_info, {'weight': first_chunk_tx[\"tx\"].get_weight(), 'txcount': 1, 'chunks': [{'chunkfee': first_chunk_tx[\"fee\"], 'chunkweight': first_chunk_tx[\"tx\"].get_weight(), 'txs': [first_chunk_tx[\"txid\"]]}]})\r\n+\r\n+        # Second connected tx, lower fee\r\n+        second_chunk_tx = self.wallet.send_self_transfer(from_node=node, utxo_to_spend=first_chunk_tx[\"new_utxo\"], fee_rate=Decimal(\"0.000002\"))\r\n+        first_chunk_info = node.getmempoolcluster(first_chunk_tx[\"txid\"])\r\n+        # output is same across same cluster transactions\r\n+        assert_equal(first_chunk_info, node.getmempoolcluster(second_chunk_tx[\"txid\"]))\r\n+        first_chunkweight = first_chunk_tx[\"tx\"].get_weight()\r\n+        second_chunkweight = second_chunk_tx[\"tx\"].get_weight()\r\n+        assert_equal(first_chunk_info, {'weight': first_chunkweight + second_chunkweight, 'txcount': 2, 'chunks': [{'chunkfee': first_chunk_tx[\"fee\"], 'chunkweight': first_chunkweight, 'txs': [first_chunk_tx[\"txid\"]]}, {'chunkfee': second_chunk_tx[\"fee\"], 'chunkweight': second_chunkweight, 'txs': [second_chunk_tx[\"txid\"]]}]})\r\n+\r\n+        # Third connected tx, even lower fee\r\n+        third_chunk_tx = self.wallet.send_self_transfer(from_node=node, utxo_to_spend=second_chunk_tx[\"new_utxo\"], fee_rate=Decimal(\"0.000001\"))\r\n+        first_chunk_info = node.getmempoolcluster(first_chunk_tx[\"txid\"])\r\n+        # output is same across same cluster transactions\r\n+        assert_equal(first_chunk_info, node.getmempoolcluster(third_chunk_tx[\"txid\"]))\r\n+        first_chunkweight = first_chunk_tx[\"tx\"].get_weight()\r\n+        second_chunkweight = second_chunk_tx[\"tx\"].get_weight()\r\n+        third_chunkweight = third_chunk_tx[\"tx\"].get_weight()\r\n+        chunkfee = first_chunk_tx[\"fee\"] + second_chunk_tx[\"fee\"] + third_chunk_tx[\"fee\"]\r\n+        # FIXME I think there's a big consolidating the second and third tx into one chunk\r\n+        assert_equal(first_chunk_info, {'weight': first_chunkweight + second_chunkweight + third_chunkweight, 'txcount': 3, 'chunks': [{'chunkfee': first_chunk_tx[\"fee\"], 'chunkweight': first_chunkweight, 'txs': [first_chunk_tx[\"txid\"]]}, {'chunkfee': second_chunk_tx[\"fee\"], 'chunkweight': second_chunkweight, 'txs': [second_chunk_tx[\"txid\"]]}, {'chunkfee': third_chunk_tx[\"fee\"], 'chunkweight': third_chunkweight, 'txs': [third_chunk_tx[\"txid\"]]}]})\r\n \r\n     def run_test(self):\r\n@@ -305,4 +374,6 @@ class MempoolClusterTest(BitcoinTestFramework):\r\n         self.generate(self.wallet, 400)\r\n \r\n+        self.test_getmempoolcluster()\r\n+\r\n         self.test_cluster_limit_rbf(DEFAULT_CLUSTER_LIMIT)\r\n ```",
      "created_at": "2025-11-25T20:28:22Z",
      "updated_at": "2025-11-25T20:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2561313165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2561313165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 347,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2565077473",
      "pull_request_review_id": 3511053359,
      "id": 2565077473,
      "node_id": "PRRC_kwDOABII586Y4_nh",
      "diff_hunk": "@@ -308,35 +308,49 @@ CTxMemPool::txiter CTxMemPool::CalculateDescendants(const CTxMemPoolEntry& entry\n     return mapTx.iterator_to(entry);\n }\n \n+void CTxMemPool::removeRecursive(CTxMemPool::txiter to_remove, MemPoolRemovalReason reason)\n+{\n+    AssertLockHeld(cs);\n+    Assume(!m_have_changeset);\n+    auto descendants = m_txgraph->GetDescendants(*to_remove, TxGraph::Level::MAIN);\n+    for (auto tx: descendants) {\n+        removeUnchecked(mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*tx)), reason);\n+    }\n+}\n+\n void CTxMemPool::removeRecursive(const CTransaction &origTx, MemPoolRemovalReason reason)\n {\n     // Remove transaction from memory pool\n     AssertLockHeld(cs);\n     Assume(!m_have_changeset);\n-        setEntries txToRemove;\n-        txiter origit = mapTx.find(origTx.GetHash());\n-        if (origit != mapTx.end()) {\n-            txToRemove.insert(origit);\n-        } else {\n-            // When recursively removing but origTx isn't in the mempool\n-            // be sure to remove any children that are in the pool. This can\n-            // happen during chain re-orgs if origTx isn't re-accepted into\n-            // the mempool for any reason.\n-            for (unsigned int i = 0; i < origTx.vout.size(); i++) {\n-                auto it = mapNextTx.find(COutPoint(origTx.GetHash(), i));\n-                if (it == mapNextTx.end())\n-                    continue;\n-                txiter nextit = it->second;\n-                assert(nextit != mapTx.end());\n-                txToRemove.insert(nextit);\n+    txiter origit = mapTx.find(origTx.GetHash());\n+    if (origit != mapTx.end()) {\n+        removeRecursive(origit, reason);\n+    } else {\n+        // When recursively removing but origTx isn't in the mempool\n+        // be sure to remove any children that are in the pool. This can\n+        // happen during chain re-orgs if origTx isn't re-accepted into\n+        // the mempool for any reason.\n+        auto iter = mapNextTx.lower_bound(COutPoint(origTx.GetHash(), 0));\n+        std::vector<CTxMemPool::txiter> to_remove;\n+        WITH_FRESH_EPOCH(m_epoch);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 45,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Simplify removeRecursive\"\r\n\r\nA possibility here, and below in `removeForReorg`, is to only add the child transactions themselves (not all their descendants) to a vector, in `TxGraph::Ref*` format, and then call `TxGraph::GetDescendantsUnion` once to find all their children to remove.\r\n\r\nAs a further simplification (but not performance improvement), I think it would be acceptable to forego the epoch/`visited` check and just add everything, as `GetDescendantsUnion` will deduplicate anyway.",
      "created_at": "2025-11-26T13:46:49Z",
      "updated_at": "2025-11-26T16:22:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2565077473",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2565077473"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2565156011",
      "pull_request_review_id": 3511053359,
      "id": 2565156011,
      "node_id": "PRRC_kwDOABII586Y5Syr",
      "diff_hunk": "@@ -8,58 +8,12 @@ Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n \n-A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n-its ancestor set, including itself.\n-A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n-its descendant set, including itself.\n+A transaction's *cluster* is the set of all transactions that can be reached\n+from that transaction by following all parent or child relationships. For",
      "path": "doc/policy/mempool-limits.md",
      "position": 1,
      "original_position": 9,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "c11faf779a1c415f8a04463bfb3febc990eb297b",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: Update mempool-limits.md for cluster mempool\".\r\n\r\nPerhaps worth elaborating that it is not just parents and children, but also any combination thereof:\r\n\r\n> A transaction's *cluster* is the set of all transactions that can be reached by following any combination of parent or child relationships. This includes all ancestors and descendants, but also any descendants of those ancestors and ancestors of those descendants, and so on.",
      "created_at": "2025-11-26T14:09:46Z",
      "updated_at": "2025-11-26T14:15:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2565156011",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2565156011"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2565171834",
      "pull_request_review_id": 3511053359,
      "id": 2565171834,
      "node_id": "PRRC_kwDOABII586Y5Wp6",
      "diff_hunk": "@@ -0,0 +1,19 @@\n+# Mempool design\n+\n+## Overview\n+\n+See\n+https://delvingbitcoin.org/t/an-overview-of-the-cluster-mempool-proposal/393\n+for a high level overview of the cluster mempool implementation (PR#33629,\n+since v31.0) and its design rationale.\n+\n+## Feerate diagrams, replace by fee, and incentive compatibility\n+\n+See https://delvingbitcoin.org/t/mempool-incentive-compatibility/553 for an\n+explanation of how we use feerate diagrams for mining, eviction, and evaluating\n+transaction replacements.\n+\n+## Definitions and theorems\n+\n+See https://delvingbitcoin.org/t/cluster-mempool-definitions-theory/202 for",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 18,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "b1f67a5a373c6bb10c3166a61c4cbc63e2ebdbc4",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: add design notes for cluster mempool\"\r\n\r\nI think the theory thread is outdated now. Merging and postlinearization won't be very relevant post SFL, and the existence of optimal linearizations can probably be shown much more concisely when using results from the GGT paper.\r\n\r\nIt's probably worth creating a trimmed-down version with just definitions of clusters, chunks, and fee-size diagams, possibly to include directly in the document here, but that can be done as a follow-up I think.",
      "created_at": "2025-11-26T14:14:04Z",
      "updated_at": "2025-11-26T14:15:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2565171834",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2565171834"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2566047719",
      "pull_request_review_id": 3512225099,
      "id": 2566047719,
      "node_id": "PRRC_kwDOABII586Y8sfn",
      "diff_hunk": "@@ -0,0 +1,19 @@\n+# Mempool design\n+\n+## Overview\n+\n+See\n+https://delvingbitcoin.org/t/an-overview-of-the-cluster-mempool-proposal/393\n+for a high level overview of the cluster mempool implementation (PR#33629,\n+since v31.0) and its design rationale.\n+\n+## Feerate diagrams, replace by fee, and incentive compatibility\n+\n+See https://delvingbitcoin.org/t/mempool-incentive-compatibility/553 for an\n+explanation of how we use feerate diagrams for mining, eviction, and evaluating\n+transaction replacements.\n+\n+## Definitions and theorems\n+\n+See https://delvingbitcoin.org/t/cluster-mempool-definitions-theory/202 for",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 18,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "b1f67a5a373c6bb10c3166a61c4cbc63e2ebdbc4",
      "in_reply_to_id": 2565171834,
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Might be useful to specifically include something that describes it in the literature terms, like:\r\n\r\n\"Producing an optimal linearization of a cluster is an instance of the parametric maximal weight closure problem as found in the field of mineral extraction for open pit mining.\"\r\n\r\n-- just to give future researchers a hook to the literature that contributors here initially lacked.\r\n",
      "created_at": "2025-11-26T18:15:46Z",
      "updated_at": "2025-11-26T18:15:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2566047719",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2566047719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2571758136",
      "pull_request_review_id": 3519085334,
      "id": 2571758136,
      "node_id": "PRRC_kwDOABII586ZSeo4",
      "diff_hunk": "@@ -308,35 +308,49 @@ CTxMemPool::txiter CTxMemPool::CalculateDescendants(const CTxMemPoolEntry& entry\n     return mapTx.iterator_to(entry);\n }\n \n+void CTxMemPool::removeRecursive(CTxMemPool::txiter to_remove, MemPoolRemovalReason reason)\n+{\n+    AssertLockHeld(cs);\n+    Assume(!m_have_changeset);\n+    auto descendants = m_txgraph->GetDescendants(*to_remove, TxGraph::Level::MAIN);\n+    for (auto tx: descendants) {\n+        removeUnchecked(mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*tx)), reason);\n+    }\n+}\n+\n void CTxMemPool::removeRecursive(const CTransaction &origTx, MemPoolRemovalReason reason)\n {\n     // Remove transaction from memory pool\n     AssertLockHeld(cs);\n     Assume(!m_have_changeset);\n-        setEntries txToRemove;\n-        txiter origit = mapTx.find(origTx.GetHash());\n-        if (origit != mapTx.end()) {\n-            txToRemove.insert(origit);\n-        } else {\n-            // When recursively removing but origTx isn't in the mempool\n-            // be sure to remove any children that are in the pool. This can\n-            // happen during chain re-orgs if origTx isn't re-accepted into\n-            // the mempool for any reason.\n-            for (unsigned int i = 0; i < origTx.vout.size(); i++) {\n-                auto it = mapNextTx.find(COutPoint(origTx.GetHash(), i));\n-                if (it == mapNextTx.end())\n-                    continue;\n-                txiter nextit = it->second;\n-                assert(nextit != mapTx.end());\n-                txToRemove.insert(nextit);\n+    txiter origit = mapTx.find(origTx.GetHash());\n+    if (origit != mapTx.end()) {\n+        removeRecursive(origit, reason);",
      "path": "src/txmempool.cpp",
      "position": 65,
      "original_position": 37,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": 2560781764,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In `removeConflicts()`, we'd invoke `removeRecursive()` with a transaction that is in the mempool, and then this code would trigger.  However I realize now that we already have the iterator that we're trying to remove, so I can save a map lookup by invoking the helper directly.  (Prior to #33629 there were more places we'd invoke `removeRecursive()` on transactions in the mempool.)\r\n\r\nOtherwise, I think this code will now only trigger in tests.",
      "created_at": "2025-11-28T13:51:53Z",
      "updated_at": "2025-11-28T13:51:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2571758136",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2571758136"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 327,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2571763808",
      "pull_request_review_id": 3519092043,
      "id": 2571763808,
      "node_id": "PRRC_kwDOABII586ZSgBg",
      "diff_hunk": "@@ -360,15 +360,25 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<CTxMemPool::txiter> txToRemove;\n+    {\n+        WITH_FRESH_EPOCH(m_epoch);\n+        for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n+            if (check_final_and_mature(it) && !visited(it)) {\n+                txToRemove.emplace_back(it);\n+                auto descendants = m_txgraph->GetDescendants(*it, TxGraph::Level::MAIN);\n+                for (auto d: descendants) {\n+                    auto desc = mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*d));\n+                    if (!visited(desc)) {\n+                        txToRemove.emplace_back(desc);\n+                    }\n+                }\n+            }\n+        }\n     }\n-    setEntries setAllRemoves;\n     for (txiter it : txToRemove) {\n-        CalculateDescendants(it, setAllRemoves);\n+        removeUnchecked(it, MemPoolRemovalReason::REORG);\n     }\n-    RemoveStaged(setAllRemoves, MemPoolRemovalReason::REORG);\n     for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n         assert(TestLockPointValidity(chain, it->GetLockPoints()));",
      "path": "src/txmempool.cpp",
      "position": 116,
      "original_position": 30,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "05a7b963c93501939ec0523fe0182af87ee40056",
      "in_reply_to_id": 2560813764,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I agree that this seems expensive, but an `Assume()` wouldn't save us anything, would it? I believe the code would still get invoked (unless the compiler is somehow smart enough to optimize it out).",
      "created_at": "2025-11-28T13:53:55Z",
      "updated_at": "2025-11-28T13:53:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2571763808",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2571763808"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 368,
      "original_line": 368,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2572545917",
      "pull_request_review_id": 3520084497,
      "id": 2572545917,
      "node_id": "PRRC_kwDOABII586ZVe99",
      "diff_hunk": "@@ -308,35 +308,49 @@ CTxMemPool::txiter CTxMemPool::CalculateDescendants(const CTxMemPoolEntry& entry\n     return mapTx.iterator_to(entry);\n }\n \n+void CTxMemPool::removeRecursive(CTxMemPool::txiter to_remove, MemPoolRemovalReason reason)\n+{\n+    AssertLockHeld(cs);\n+    Assume(!m_have_changeset);\n+    auto descendants = m_txgraph->GetDescendants(*to_remove, TxGraph::Level::MAIN);\n+    for (auto tx: descendants) {\n+        removeUnchecked(mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*tx)), reason);\n+    }\n+}\n+\n void CTxMemPool::removeRecursive(const CTransaction &origTx, MemPoolRemovalReason reason)\n {\n     // Remove transaction from memory pool\n     AssertLockHeld(cs);\n     Assume(!m_have_changeset);\n-        setEntries txToRemove;\n-        txiter origit = mapTx.find(origTx.GetHash());\n-        if (origit != mapTx.end()) {\n-            txToRemove.insert(origit);\n-        } else {\n-            // When recursively removing but origTx isn't in the mempool\n-            // be sure to remove any children that are in the pool. This can\n-            // happen during chain re-orgs if origTx isn't re-accepted into\n-            // the mempool for any reason.\n-            for (unsigned int i = 0; i < origTx.vout.size(); i++) {\n-                auto it = mapNextTx.find(COutPoint(origTx.GetHash(), i));\n-                if (it == mapNextTx.end())\n-                    continue;\n-                txiter nextit = it->second;\n-                assert(nextit != mapTx.end());\n-                txToRemove.insert(nextit);\n+    txiter origit = mapTx.find(origTx.GetHash());\n+    if (origit != mapTx.end()) {\n+        removeRecursive(origit, reason);\n+    } else {\n+        // When recursively removing but origTx isn't in the mempool\n+        // be sure to remove any children that are in the pool. This can\n+        // happen during chain re-orgs if origTx isn't re-accepted into\n+        // the mempool for any reason.\n+        auto iter = mapNextTx.lower_bound(COutPoint(origTx.GetHash(), 0));\n+        std::vector<CTxMemPool::txiter> to_remove;\n+        WITH_FRESH_EPOCH(m_epoch);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 45,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": 2565077473,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This vastly simplifies the logic, thanks!",
      "created_at": "2025-11-28T21:29:23Z",
      "updated_at": "2025-11-28T21:29:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2572545917",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2572545917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573131768",
      "pull_request_review_id": 3520785520,
      "id": 2573131768,
      "node_id": "PRRC_kwDOABII586ZXt_4",
      "diff_hunk": "@@ -320,6 +320,7 @@ class CTxMemPool\n      */\n     void check(const CCoinsViewCache& active_coins_tip, int64_t spendheight) const EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n \n+    void removeRecursive(txiter to_remove, MemPoolRemovalReason reason) EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "path": "src/txmempool.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": 2560753152,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Made private in 6797c71ef9323efd2db9dc07d6c1156d077b38cc",
      "created_at": "2025-11-29T18:31:00Z",
      "updated_at": "2025-11-29T18:31:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573131768",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573131768"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 323,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573131909",
      "pull_request_review_id": 3520785628,
      "id": 2573131909,
      "node_id": "PRRC_kwDOABII586ZXuCF",
      "diff_hunk": "@@ -308,35 +308,49 @@ CTxMemPool::txiter CTxMemPool::CalculateDescendants(const CTxMemPoolEntry& entry\n     return mapTx.iterator_to(entry);\n }\n \n+void CTxMemPool::removeRecursive(CTxMemPool::txiter to_remove, MemPoolRemovalReason reason)\n+{\n+    AssertLockHeld(cs);\n+    Assume(!m_have_changeset);\n+    auto descendants = m_txgraph->GetDescendants(*to_remove, TxGraph::Level::MAIN);\n+    for (auto tx: descendants) {\n+        removeUnchecked(mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*tx)), reason);\n+    }\n+}\n+\n void CTxMemPool::removeRecursive(const CTransaction &origTx, MemPoolRemovalReason reason)\n {\n     // Remove transaction from memory pool\n     AssertLockHeld(cs);\n     Assume(!m_have_changeset);\n-        setEntries txToRemove;\n-        txiter origit = mapTx.find(origTx.GetHash());\n-        if (origit != mapTx.end()) {\n-            txToRemove.insert(origit);\n-        } else {\n-            // When recursively removing but origTx isn't in the mempool\n-            // be sure to remove any children that are in the pool. This can\n-            // happen during chain re-orgs if origTx isn't re-accepted into\n-            // the mempool for any reason.\n-            for (unsigned int i = 0; i < origTx.vout.size(); i++) {\n-                auto it = mapNextTx.find(COutPoint(origTx.GetHash(), i));\n-                if (it == mapNextTx.end())\n-                    continue;\n-                txiter nextit = it->second;\n-                assert(nextit != mapTx.end());\n-                txToRemove.insert(nextit);\n+    txiter origit = mapTx.find(origTx.GetHash());\n+    if (origit != mapTx.end()) {\n+        removeRecursive(origit, reason);\n+    } else {\n+        // When recursively removing but origTx isn't in the mempool\n+        // be sure to remove any children that are in the pool. This can",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 40,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "f1cfc07b8af90d9c80c84e9db56d61c56f50d6c2",
      "in_reply_to_id": 2560767330,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-11-29T18:31:24Z",
      "updated_at": "2025-11-29T18:31:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573131909",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573131909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573132334",
      "pull_request_review_id": 3520786009,
      "id": 2573132334,
      "node_id": "PRRC_kwDOABII586ZXuIu",
      "diff_hunk": "@@ -360,15 +360,25 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<CTxMemPool::txiter> txToRemove;\n+    {\n+        WITH_FRESH_EPOCH(m_epoch);\n+        for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n+            if (check_final_and_mature(it) && !visited(it)) {",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 11,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "05a7b963c93501939ec0523fe0182af87ee40056",
      "in_reply_to_id": 2560856387,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This is now re-written to not use epochs; I also added a test that would have caught the previous bug (when the call to `visited()` came before the call to `check_final_an_mature()`.",
      "created_at": "2025-11-29T18:32:50Z",
      "updated_at": "2025-11-29T18:32:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573132334",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573132334"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573132624",
      "pull_request_review_id": 3520786226,
      "id": 2573132624,
      "node_id": "PRRC_kwDOABII586ZXuNQ",
      "diff_hunk": "@@ -252,7 +252,7 @@ void BlockAssembler::addChunks()\n \n     while (selected_transactions.size() > 0) {\n         // Check to see if min fee rate is still respected.\n-        if (chunk_feerate.fee < m_options.blockMinFeeRate.GetFee(chunk_feerate_vsize.size)) {\n+        if (chunk_feerate_vsize < m_options.blockMinFeeRate.GetFeePerVSize()) {",
      "path": "src/node/miner.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "ff2a16af040ac0906b4ebd488b1125b6ea25fa14",
      "in_reply_to_id": 2561115129,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed in 6129b8ecb77aafdc4d80ffdc3e85eb05889917f7",
      "created_at": "2025-11-29T18:33:44Z",
      "updated_at": "2025-11-29T18:33:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573132624",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573132624"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573133141",
      "pull_request_review_id": 3520786636,
      "id": 2573133141,
      "node_id": "PRRC_kwDOABII586ZXuVV",
      "diff_hunk": "@@ -8,58 +8,12 @@ Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n \n-A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n-its ancestor set, including itself.\n-A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n-its descendant set, including itself.\n+A transaction's *cluster* is the set of all transactions that can be reached\n+from that transaction by following all parent or child relationships. For\n+example, if Tx2 is also a child of Tx1, then Tx0, Tx1, and Tx2 are all in the\n+same cluster. Any other parents of Tx2 would also be in the same cluster.\n \n-A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n-transactions in its ancestor set, including itself.\n-A mempool entry's *descendant size* is the aggregated virtual size of in-mempool (unconfirmed)\n-transactions in its descendant set, including itself.\n+## Limits\n \n-Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n-mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n-`-limitdescendantcount`, `-limitdescendantsize`).\n-\n-## Exemptions\n-\n-### CPFP Carve Out\n-\n-**CPFP Carve Out** if a transaction candidate for submission to the\n-mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if all\n-of the following conditions are met:\n-\n-1. The candidate transaction is no more than 10,000 virtual bytes.\n-\n-2. The candidate transaction has an ancestor count of 2 (itself and exactly 1 ancestor).\n-\n-3. The in-mempool transaction's descendant count, including the candidate transaction, would only\n-   exceed the limit by 1.\n-\n-*Rationale*: this rule was introduced to prevent pinning by domination of a transaction's descendant\n-limits in two-party contract protocols such as LN.  Also see the [mailing list\n-post](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html).\n-\n-This rule was introduced in [PR #15681](https://github.com/bitcoin/bitcoin/pull/15681).\n-\n-### Single-Conflict RBF Carve Out\n-\n-When a candidate transaction for submission to the mempool would replace mempool entries, it may\n-also decrease the descendant count of other mempool entries. Since ancestor/descendant limits are\n-calculated prior to removing the would-be-replaced transactions, they may be overestimated.\n-\n-An exemption is given for a candidate transaction that would replace mempool transactions and meets\n-all of the following conditions:\n-\n-1. The candidate transaction has exactly 1 directly conflicting transaction.\n-\n-2. The candidate transaction does not spend any unconfirmed inputs that are not also spent by the\n-   directly conflicting transaction.\n-\n-The following discounts are given to account for the would-be-replaced transaction(s):\n-\n-1. The descendant count limit is temporarily increased by 1.\n-\n-2. The descendant size limit temporarily is increased by the virtual size of the to-be-replaced\n-   directly conflicting transaction.\n+Transactions submitted to the mempool must not exceed the cluster limits set by",
      "path": "doc/policy/mempool-limits.md",
      "position": 1,
      "original_position": 64,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "c11faf779a1c415f8a04463bfb3febc990eb297b",
      "in_reply_to_id": 2561149521,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I ended up reworking the docs and merged the mempool-limits.md file (which was quite short and included a few definitions) in with the new mempool-design.md file (that also has a bunch of definitions and a brief overview of how cluster mempool works).\r\n\r\nI took your language suggestion and incorporated in 9d25e2cbcd011b3046f9c3cd8de4e1b9112d0dfd.",
      "created_at": "2025-11-29T18:35:13Z",
      "updated_at": "2025-11-29T18:35:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573133141",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573133141"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573134065",
      "pull_request_review_id": 3520787342,
      "id": 2573134065,
      "node_id": "PRRC_kwDOABII586ZXujx",
      "diff_hunk": "@@ -320,16 +334,28 @@ static void clusterToJSON(const CTxMemPool& pool, UniValue& info, std::vector<co\n     }\n     info.pushKV(\"weight\", total_weight);\n     info.pushKV(\"txcount\", (int)cluster.size());\n-    UniValue txs(UniValue::VARR);\n+\n+    // Output the cluster by chunk. This isn't handed to us by the mempool, but\n+    // we can calculate it by looking at the chunk feerates of each transaction\n+    // in the cluster.\n+    FeePerWeight current_chunk_feerate = pool.GetMainChunkFeerate(*cluster[0]);\n+    std::vector<const CTxMemPoolEntry *> current_chunk;\n+    current_chunk.reserve(cluster.size());\n+\n+    UniValue all_chunks(UniValue::VARR);\n     for (const auto& tx : cluster) {\n-        UniValue txentry(UniValue::VOBJ);\n-        auto feerate = pool.GetMainChunkFeerate(*tx);\n-        txentry.pushKV(\"txid\", tx->GetTx().GetHash().ToString());\n-        txentry.pushKV(\"chunkfee\", ValueFromAmount((int)feerate.fee));\n-        txentry.pushKV(\"chunkweight\", feerate.size);\n-        txs.push_back(txentry);\n+        if (current_chunk_feerate.size == 0) {",
      "path": "src/rpc/mempool.cpp",
      "position": 66,
      "original_position": 60,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "486b441971912bdc63921425d5e40a8c168186ea",
      "in_reply_to_id": 2561313165,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think it was just a single bug, a missing line in the `if` block:\r\n\r\n```\r\ncurrent_chunk_feerate = pool.GetMainChunkFeerate(*tx);\r\n```\r\n\r\nPlease let me know if you spot anything else wrong.  Your test passes with that fix, and I incorporated your code in that same commit.  (Also, I deleted the \"FIXME\" comment you left in your python test, and added an additional test that 2nd and 3rd chunks get merged after a `prioritisetransaction` call.)",
      "created_at": "2025-11-29T18:37:42Z",
      "updated_at": "2025-11-29T18:37:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573134065",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573134065"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 347,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573134658",
      "pull_request_review_id": 3520787840,
      "id": 2573134658,
      "node_id": "PRRC_kwDOABII586ZXutC",
      "diff_hunk": "@@ -8,58 +8,12 @@ Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n \n-A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n-its ancestor set, including itself.\n-A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n-its descendant set, including itself.\n+A transaction's *cluster* is the set of all transactions that can be reached\n+from that transaction by following all parent or child relationships. For",
      "path": "doc/policy/mempool-limits.md",
      "position": 1,
      "original_position": 9,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "c11faf779a1c415f8a04463bfb3febc990eb297b",
      "in_reply_to_id": 2565156011,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Please take a look at the new `mempool-design.md` docs and let me know what you think -- in the course of many edits, I incorporated your suggestion with some modifications.",
      "created_at": "2025-11-29T18:39:27Z",
      "updated_at": "2025-11-29T18:39:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573134658",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573134658"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573135145",
      "pull_request_review_id": 3520788201,
      "id": 2573135145,
      "node_id": "PRRC_kwDOABII586ZXu0p",
      "diff_hunk": "@@ -0,0 +1,19 @@\n+# Mempool design\n+\n+## Overview\n+\n+See\n+https://delvingbitcoin.org/t/an-overview-of-the-cluster-mempool-proposal/393\n+for a high level overview of the cluster mempool implementation (PR#33629,\n+since v31.0) and its design rationale.\n+\n+## Feerate diagrams, replace by fee, and incentive compatibility\n+\n+See https://delvingbitcoin.org/t/mempool-incentive-compatibility/553 for an\n+explanation of how we use feerate diagrams for mining, eviction, and evaluating\n+transaction replacements.\n+\n+## Definitions and theorems\n+\n+See https://delvingbitcoin.org/t/cluster-mempool-definitions-theory/202 for",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 18,
      "commit_id": "875f1b98fcc9a992a3280bf32edc2d30c1fb034d",
      "original_commit_id": "b1f67a5a373c6bb10c3166a61c4cbc63e2ebdbc4",
      "in_reply_to_id": 2565171834,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Made an attempt at this in 9d25e2cbcd011b3046f9c3cd8de4e1b9112d0dfd",
      "created_at": "2025-11-29T18:40:47Z",
      "updated_at": "2025-11-29T18:40:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573135145",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573135145"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573674644",
      "pull_request_review_id": 3521302689,
      "id": 2573674644,
      "node_id": "PRRC_kwDOABII586ZZyiU",
      "diff_hunk": "@@ -386,13 +386,14 @@ void CTxMemPool::removeForBlock(const std::vector<CTransactionRef>& vtx, unsigne\n     std::vector<RemovedMempoolTransactionInfo> txs_removed_for_block;\n     if (mapTx.size() || mapNextTx.size() || mapDeltas.size()) {\n         txs_removed_for_block.reserve(vtx.size());\n-        for (const auto& tx : vtx) {\n+        for (const auto& tx : vtx)\n+        {",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 33,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "09543e30478024349e571e7353043c14e49b39a6",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Remove unused argument to RemoveStaged\"\r\n\r\nNit: strange and unrelated style change.",
      "created_at": "2025-11-30T14:03:02Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573674644",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573674644"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 390,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573683712",
      "pull_request_review_id": 3521302689,
      "id": 2573683712,
      "node_id": "PRRC_kwDOABII586ZZ0wA",
      "diff_hunk": "@@ -352,15 +352,21 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<const TxGraph::Ref*> txToRemove;\n+    {",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 8,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "c1382380cb18be734849f00dd1020134bd5f8cc8",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Rewrite removeForReorg to avoid using sets\"\r\n\r\nNit: it seems this scope level is unnecessary.",
      "created_at": "2025-11-30T14:07:56Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573683712",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573683712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 356,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573685509",
      "pull_request_review_id": 3521302689,
      "id": 2573685509,
      "node_id": "PRRC_kwDOABII586ZZ1MF",
      "diff_hunk": "@@ -352,15 +352,21 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<const TxGraph::Ref*> txToRemove;",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 7,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "c1382380cb18be734849f00dd1020134bd5f8cc8",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Rewrite removeForReorg to avoid using sets\"\r\n\r\nNit: given that you're rewriting most of this function anyway, make this variable name match style?",
      "created_at": "2025-11-30T14:08:33Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573685509",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573685509"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573692555",
      "pull_request_review_id": 3521302689,
      "id": 2573692555,
      "node_id": "PRRC_kwDOABII586ZZ26L",
      "diff_hunk": "@@ -901,6 +904,12 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n     if (args.IsArgSet(\"-checkpoints\")) {\n         InitWarning(_(\"Option '-checkpoints' is set but checkpoints were removed. This option has no effect.\"));\n     }\n+    if (args.IsArgSet(\"-limitancestorsize\")) {\n+        InitWarning(_(\"Option '-limitancestorsize' is given but ancestor size limits have been replaced with cluster size limits. This option has no effect.\"));",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 20,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "b25cfa9f37d797d98f122d9d1ddf1f46e653b27c",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \" Warn user if using -limitancestorsize/-limitdescendantsize that the options have no effect\"\r\n\r\nPerhaps mention the relevant corresponding option names (`-limitclustercount` and `-limitclustersize`).",
      "created_at": "2025-11-30T14:10:48Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573692555",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573692555"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 908,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573704140",
      "pull_request_review_id": 3521302689,
      "id": 2573704140,
      "node_id": "PRRC_kwDOABII586ZZ5vM",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (ie, B is a **child** of A, and A is a **parent** of B).",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 7,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "9d25e2cbcd011b3046f9c3cd8de4e1b9112d0dfd",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: Add design notes for cluster mempool and explain new mempool limits\"\r\n\r\nWriting nit: `ie,` -> `i.e.,`\r\n\r\nAlso in two other places below.",
      "created_at": "2025-11-30T14:14:39Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573704140",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573704140"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573742109",
      "pull_request_review_id": 3521302689,
      "id": 2573742109,
      "node_id": "PRRC_kwDOABII586ZaDAd",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (ie, B is a **child** of A, and A is a **parent** of B).\n+\n+A transaction's **ancestors** include, recursively, its parents, the parents of\n+its parents, etc.  A transaction's **descendants** include, recursively, its\n+children, the children of its children, etc.\n+\n+A **cluster** is a connected component of the graph, i.e., a set of\n+transactions where each transaction is reachable from any other transaction in\n+the set by following edges in either direction. The cluster corresponding to a\n+given transaction consists of that transaction, its ancestors and descendants,\n+and the ancestors and descendants of those transactions, and so on.\n+\n+Each cluster is **linearized**, or sorted, in a topologically valid order (ie\n+no transaction appears before any of its ancestors). Our goal is to construct a\n+linearization where the highest feerate subset of a cluster appears first,\n+followed by the next highest feerate subset of the remaining transactions, and\n+so on[1]. We call these subsets **chunks**, and the chunks of a linearization\n+have the property that they are always in monotonically decreasing feerate\n+order.\n+\n+Given two or more linearized clusters, we can construct a linearization of the\n+union by simply merge sorting the chunks of each cluster by feerate.\n+\n+For any set of linearized clusters, then, we can define the **feerate diagram**\n+of the set by plotting the cumulative fee (y-axis) against the cumulative size\n+(x-axis) as we progress from chunk to chunk. Given two linearizations for the\n+same set of transactions, we can can compare their feerate diagrams by\n+comparing their cumulative fees at each size value. Two diagrams may be\n+**incomparable** if neither contains the other (ie, there exist size values at\n+which each one has a greater cumulative fee than the other). Or, they may be\n+**equivalent** if they have identical cumulative fees at every size value; or\n+one may be **strictly better** than the other if they are comparable and there\n+exists at least one size value for which the cumulative fee is strictly higher\n+in one of them.\n+\n+For more background and rationale, see [2] and [3] below.\n+\n+## Mining/eviction\n+\n+As described above, the linearization of each cluster gives us a linearization\n+of the entire mempool. We use this ordering for both block building and\n+eviction, by selecting chunks at the front of the linearization when\n+constructing a block template, and by evicting chunks from the back of the\n+linearization when we need to free up space in the mempool.\n+\n+## Replace-by-fee\n+\n+Prior to the cluster mempool implementation, it was possible for replacements\n+to be prevented even if they would make the mempool more profitable for miners,\n+and it was possible for replacements to be permitted even if the newly accepted\n+transaction was less desirable to miners than the transactions it was\n+replacing. With the ability to construct linearizations of the mempool, we're\n+now able to compare the feerate diagram of the mempool before and after a\n+proposed replacement, and only accept the replacement if it makes the feerate\n+diagram strictly better.\n+\n+In simple cases, the intuition is that a replacement should have a higher\n+feerate and fee than the transaction(s) it replaces. But for more complex cases\n+(where some transactions may have unconfirmed parents), there may not be a\n+simple way to describe the fee that is needed to successfully replace a set of\n+transactions, other than to say that the overall feerate diagram of the\n+resulting mempool must improve somewhere and not be worse anywhere.\n+\n+## Mempool limits\n+\n+### Motivation\n+\n+Selecting chunks in decreasing feerate order when building a block template\n+will be close to optimal when the maximize size of a chunk is small compared to",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 75,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "9d25e2cbcd011b3046f9c3cd8de4e1b9112d0dfd",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: Add design notes for cluster mempool and explain new mempool limits\"\r\n\r\nThe word \"maximize\" seems out of place here.\r\n\r\nEDIT: DrahtBot LLM figured it out, you mean \"maximum\"?",
      "created_at": "2025-11-30T14:26:48Z",
      "updated_at": "2025-11-30T14:47:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573742109",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573742109"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 75,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573747087",
      "pull_request_review_id": 3521302689,
      "id": 2573747087,
      "node_id": "PRRC_kwDOABII586ZaEOP",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 1,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "9d25e2cbcd011b3046f9c3cd8de4e1b9112d0dfd",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: Add design notes for cluster mempool and explain new mempool limits\"\r\n\r\nNice write-up, enough to understand the terminology used in the codebase, but not going too detailed into the rationale.",
      "created_at": "2025-11-30T14:28:35Z",
      "updated_at": "2025-11-30T14:40:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573747087",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573747087"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573752182",
      "pull_request_review_id": 3521302689,
      "id": 2573752182,
      "node_id": "PRRC_kwDOABII586ZaFd2",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better performance when constructing block templates, evicting",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 5,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "18163562cff1336a0ff636b0aef7ca8682b24ff0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: add release notes snippet for cluster mempool\"\r\n\r\nI wouldn't say \"better performance\". While it's true many things are more performant now, that's not the motivation, and in many cases, not really critical anyway. How about \"better decision-making\"?",
      "created_at": "2025-11-30T14:30:30Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573752182",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573752182"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573755332",
      "pull_request_review_id": 3521302689,
      "id": 2573755332,
      "node_id": "PRRC_kwDOABII586ZaGPE",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better performance when constructing block templates, evicting\n+transactions, relaying transactions, and validating replacement transactions\n+(RBF). Most changes should be transparent to users, but some behavior changes\n+are noted:\n+\n+- The mempool no longer enforces ancestor or descendant size/count limits.\n+  Instead, two new limits are introduced: `-limitclustercount` (default 64) and\n+  `-limitclustersize` (default 101kvB). These limits govern the size of\n+  connected components, or clusters, in the mempool.  Transactions are\n+  considered to be in the same cluster if they are connected to each other via\n+  parent/child relationships in the mempool.",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 15,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "18163562cff1336a0ff636b0aef7ca8682b24ff0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: add release notes snippet for cluster mempool\"\r\n\r\nAdd \"any combination of\"? It's noted elsewhere, but the release notes are likely read by far more people.",
      "created_at": "2025-11-30T14:31:32Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573755332",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573755332"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573756538",
      "pull_request_review_id": 3521302689,
      "id": 2573756538,
      "node_id": "PRRC_kwDOABII586ZaGh6",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better performance when constructing block templates, evicting\n+transactions, relaying transactions, and validating replacement transactions\n+(RBF). Most changes should be transparent to users, but some behavior changes\n+are noted:\n+\n+- The mempool no longer enforces ancestor or descendant size/count limits.\n+  Instead, two new limits are introduced: `-limitclustercount` (default 64) and\n+  `-limitclustersize` (default 101kvB). These limits govern the size of\n+  connected components, or clusters, in the mempool.  Transactions are\n+  considered to be in the same cluster if they are connected to each other via\n+  parent/child relationships in the mempool.\n+\n+- Within the mempool, transactions are ordered based on the fee rate at which\n+  they are expected to be mined, which takes into account the full set, or\n+  \"chunk\", of transactions that would be included together (eg a parent and its",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 19,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "18163562cff1336a0ff636b0aef7ca8682b24ff0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: add release notes snippet for cluster mempool\"\r\n\r\nWriting nit: `eg` -> `e.g.,`.",
      "created_at": "2025-11-30T14:32:00Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573756538",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573756538"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573769350",
      "pull_request_review_id": 3521302689,
      "id": 2573769350,
      "node_id": "PRRC_kwDOABII586ZaJqG",
      "diff_hunk": "@@ -440,12 +442,27 @@ void CTxMemPool::check(const CCoinsViewCache& active_coins_tip, int64_t spendhei\n     // Number of chunks is bounded by number of transactions.\n     const auto diagram{GetFeerateDiagram()};\n     Assume(diagram.size() <= score_with_topo.size() + 1);\n+    Assume(diagram.size() >= 1);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 13,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "004b7a2717ee34f31c69e2880361d83caca889dc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Sanity check feerate diagram in CTxMemPool::check()\"\r\n\r\nIn a check function like `CTxMempool::check()`, I think we should always use `assert`/`Assert`, not `Assume`, as we want the checks to always be enabled.",
      "created_at": "2025-11-30T14:36:21Z",
      "updated_at": "2025-11-30T14:39:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2573769350",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2573769350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 445,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574105954",
      "pull_request_review_id": 3521682543,
      "id": 2574105954,
      "node_id": "PRRC_kwDOABII586Zbb1i",
      "diff_hunk": "@@ -386,13 +386,14 @@ void CTxMemPool::removeForBlock(const std::vector<CTransactionRef>& vtx, unsigne\n     std::vector<RemovedMempoolTransactionInfo> txs_removed_for_block;\n     if (mapTx.size() || mapNextTx.size() || mapDeltas.size()) {\n         txs_removed_for_block.reserve(vtx.size());\n-        for (const auto& tx : vtx) {\n+        for (const auto& tx : vtx)\n+        {",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 33,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "09543e30478024349e571e7353043c14e49b39a6",
      "in_reply_to_id": 2573674644,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Removed.",
      "created_at": "2025-11-30T16:28:16Z",
      "updated_at": "2025-11-30T16:28:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574105954",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574105954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 390,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574107800",
      "pull_request_review_id": 3521684104,
      "id": 2574107800,
      "node_id": "PRRC_kwDOABII586ZbcSY",
      "diff_hunk": "@@ -352,15 +352,21 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<const TxGraph::Ref*> txToRemove;\n+    {",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 8,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "c1382380cb18be734849f00dd1020134bd5f8cc8",
      "in_reply_to_id": 2573683712,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Removed.",
      "created_at": "2025-11-30T16:28:53Z",
      "updated_at": "2025-11-30T16:28:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574107800",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574107800"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 356,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574108138",
      "pull_request_review_id": 3521684414,
      "id": 2574108138,
      "node_id": "PRRC_kwDOABII586ZbcXq",
      "diff_hunk": "@@ -352,15 +352,21 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<const TxGraph::Ref*> txToRemove;",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 7,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "c1382380cb18be734849f00dd1020134bd5f8cc8",
      "in_reply_to_id": 2573685509,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-11-30T16:28:58Z",
      "updated_at": "2025-11-30T16:28:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574108138",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574108138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574112696",
      "pull_request_review_id": 3521688084,
      "id": 2574112696,
      "node_id": "PRRC_kwDOABII586Zbde4",
      "diff_hunk": "@@ -901,6 +904,12 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n     if (args.IsArgSet(\"-checkpoints\")) {\n         InitWarning(_(\"Option '-checkpoints' is set but checkpoints were removed. This option has no effect.\"));\n     }\n+    if (args.IsArgSet(\"-limitancestorsize\")) {\n+        InitWarning(_(\"Option '-limitancestorsize' is given but ancestor size limits have been replaced with cluster size limits. This option has no effect.\"));",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 20,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "b25cfa9f37d797d98f122d9d1ddf1f46e653b27c",
      "in_reply_to_id": 2573692555,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Added a reference to `-limitclustersize` since it's analogous.",
      "created_at": "2025-11-30T16:30:33Z",
      "updated_at": "2025-11-30T16:30:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574112696",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574112696"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 908,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574114517",
      "pull_request_review_id": 3521689411,
      "id": 2574114517,
      "node_id": "PRRC_kwDOABII586Zbd7V",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (ie, B is a **child** of A, and A is a **parent** of B).",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 7,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "9d25e2cbcd011b3046f9c3cd8de4e1b9112d0dfd",
      "in_reply_to_id": 2573704140,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed.",
      "created_at": "2025-11-30T16:31:03Z",
      "updated_at": "2025-11-30T16:31:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574114517",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574114517"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574115280",
      "pull_request_review_id": 3521690063,
      "id": 2574115280,
      "node_id": "PRRC_kwDOABII586ZbeHQ",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (ie, B is a **child** of A, and A is a **parent** of B).\n+\n+A transaction's **ancestors** include, recursively, its parents, the parents of\n+its parents, etc.  A transaction's **descendants** include, recursively, its\n+children, the children of its children, etc.\n+\n+A **cluster** is a connected component of the graph, i.e., a set of\n+transactions where each transaction is reachable from any other transaction in\n+the set by following edges in either direction. The cluster corresponding to a\n+given transaction consists of that transaction, its ancestors and descendants,\n+and the ancestors and descendants of those transactions, and so on.\n+\n+Each cluster is **linearized**, or sorted, in a topologically valid order (ie\n+no transaction appears before any of its ancestors). Our goal is to construct a\n+linearization where the highest feerate subset of a cluster appears first,\n+followed by the next highest feerate subset of the remaining transactions, and\n+so on[1]. We call these subsets **chunks**, and the chunks of a linearization\n+have the property that they are always in monotonically decreasing feerate\n+order.\n+\n+Given two or more linearized clusters, we can construct a linearization of the\n+union by simply merge sorting the chunks of each cluster by feerate.\n+\n+For any set of linearized clusters, then, we can define the **feerate diagram**\n+of the set by plotting the cumulative fee (y-axis) against the cumulative size\n+(x-axis) as we progress from chunk to chunk. Given two linearizations for the\n+same set of transactions, we can can compare their feerate diagrams by\n+comparing their cumulative fees at each size value. Two diagrams may be\n+**incomparable** if neither contains the other (ie, there exist size values at\n+which each one has a greater cumulative fee than the other). Or, they may be\n+**equivalent** if they have identical cumulative fees at every size value; or\n+one may be **strictly better** than the other if they are comparable and there\n+exists at least one size value for which the cumulative fee is strictly higher\n+in one of them.\n+\n+For more background and rationale, see [2] and [3] below.\n+\n+## Mining/eviction\n+\n+As described above, the linearization of each cluster gives us a linearization\n+of the entire mempool. We use this ordering for both block building and\n+eviction, by selecting chunks at the front of the linearization when\n+constructing a block template, and by evicting chunks from the back of the\n+linearization when we need to free up space in the mempool.\n+\n+## Replace-by-fee\n+\n+Prior to the cluster mempool implementation, it was possible for replacements\n+to be prevented even if they would make the mempool more profitable for miners,\n+and it was possible for replacements to be permitted even if the newly accepted\n+transaction was less desirable to miners than the transactions it was\n+replacing. With the ability to construct linearizations of the mempool, we're\n+now able to compare the feerate diagram of the mempool before and after a\n+proposed replacement, and only accept the replacement if it makes the feerate\n+diagram strictly better.\n+\n+In simple cases, the intuition is that a replacement should have a higher\n+feerate and fee than the transaction(s) it replaces. But for more complex cases\n+(where some transactions may have unconfirmed parents), there may not be a\n+simple way to describe the fee that is needed to successfully replace a set of\n+transactions, other than to say that the overall feerate diagram of the\n+resulting mempool must improve somewhere and not be worse anywhere.\n+\n+## Mempool limits\n+\n+### Motivation\n+\n+Selecting chunks in decreasing feerate order when building a block template\n+will be close to optimal when the maximize size of a chunk is small compared to",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 75,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "9d25e2cbcd011b3046f9c3cd8de4e1b9112d0dfd",
      "in_reply_to_id": 2573742109,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yep, that is what I meant!  Fixed.",
      "created_at": "2025-11-30T16:31:13Z",
      "updated_at": "2025-11-30T16:31:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574115280",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574115280"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 75,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574119436",
      "pull_request_review_id": 3521693602,
      "id": 2574119436,
      "node_id": "PRRC_kwDOABII586ZbfIM",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better performance when constructing block templates, evicting",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 5,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "18163562cff1336a0ff636b0aef7ca8682b24ff0",
      "in_reply_to_id": 2573752182,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Agreed, \"performance\" is misleading.  I was thinking \"better behavior\" myself, but took your language.",
      "created_at": "2025-11-30T16:32:43Z",
      "updated_at": "2025-11-30T16:32:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574119436",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574119436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574120039",
      "pull_request_review_id": 3521694094,
      "id": 2574120039,
      "node_id": "PRRC_kwDOABII586ZbfRn",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better performance when constructing block templates, evicting\n+transactions, relaying transactions, and validating replacement transactions\n+(RBF). Most changes should be transparent to users, but some behavior changes\n+are noted:\n+\n+- The mempool no longer enforces ancestor or descendant size/count limits.\n+  Instead, two new limits are introduced: `-limitclustercount` (default 64) and\n+  `-limitclustersize` (default 101kvB). These limits govern the size of\n+  connected components, or clusters, in the mempool.  Transactions are\n+  considered to be in the same cluster if they are connected to each other via\n+  parent/child relationships in the mempool.",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 15,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "18163562cff1336a0ff636b0aef7ca8682b24ff0",
      "in_reply_to_id": 2573755332,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-11-30T16:32:57Z",
      "updated_at": "2025-11-30T16:32:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574120039",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574120039"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574121028",
      "pull_request_review_id": 3521694975,
      "id": 2574121028,
      "node_id": "PRRC_kwDOABII586ZbfhE",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better performance when constructing block templates, evicting\n+transactions, relaying transactions, and validating replacement transactions\n+(RBF). Most changes should be transparent to users, but some behavior changes\n+are noted:\n+\n+- The mempool no longer enforces ancestor or descendant size/count limits.\n+  Instead, two new limits are introduced: `-limitclustercount` (default 64) and\n+  `-limitclustersize` (default 101kvB). These limits govern the size of\n+  connected components, or clusters, in the mempool.  Transactions are\n+  considered to be in the same cluster if they are connected to each other via\n+  parent/child relationships in the mempool.\n+\n+- Within the mempool, transactions are ordered based on the fee rate at which\n+  they are expected to be mined, which takes into account the full set, or\n+  \"chunk\", of transactions that would be included together (eg a parent and its",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 19,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "18163562cff1336a0ff636b0aef7ca8682b24ff0",
      "in_reply_to_id": 2573756538,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed.",
      "created_at": "2025-11-30T16:33:19Z",
      "updated_at": "2025-11-30T16:33:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574121028",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574121028"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574121327",
      "pull_request_review_id": 3521695208,
      "id": 2574121327,
      "node_id": "PRRC_kwDOABII586Zbflv",
      "diff_hunk": "@@ -440,12 +442,27 @@ void CTxMemPool::check(const CCoinsViewCache& active_coins_tip, int64_t spendhei\n     // Number of chunks is bounded by number of transactions.\n     const auto diagram{GetFeerateDiagram()};\n     Assume(diagram.size() <= score_with_topo.size() + 1);\n+    Assume(diagram.size() >= 1);",
      "path": "src/txmempool.cpp",
      "position": 1,
      "original_position": 13,
      "commit_id": "b1d1ab723e7ad1246bebe3698bfcbe256ca78d0e",
      "original_commit_id": "004b7a2717ee34f31c69e2880361d83caca889dc",
      "in_reply_to_id": 2573769350,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Agreed, fixed.",
      "created_at": "2025-11-30T16:33:25Z",
      "updated_at": "2025-11-30T16:33:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2574121327",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2574121327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 445,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577225993",
      "pull_request_review_id": 3525170884,
      "id": 2577225993,
      "node_id": "PRRC_kwDOABII586ZnVkJ",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (i.e., B is a **child** of A, and A is a **parent** of B).\n+\n+A transaction's **ancestors** include, recursively, its parents, the parents of\n+its parents, etc.  A transaction's **descendants** include, recursively, its\n+children, the children of its children, etc.\n+\n+A **cluster** is a connected component of the graph, i.e., a set of\n+transactions where each transaction is reachable from any other transaction in\n+the set by following edges in either direction. The cluster corresponding to a\n+given transaction consists of that transaction, its ancestors and descendants,\n+and the ancestors and descendants of those transactions, and so on.\n+\n+Each cluster is **linearized**, or sorted, in a topologically valid order (i.e.,\n+no transaction appears before any of its ancestors). Our goal is to construct a\n+linearization where the highest feerate subset of a cluster appears first,\n+followed by the next highest feerate subset of the remaining transactions, and\n+so on[1]. We call these subsets **chunks**, and the chunks of a linearization\n+have the property that they are always in monotonically decreasing feerate\n+order.\n+\n+Given two or more linearized clusters, we can construct a linearization of the\n+union by simply merge sorting the chunks of each cluster by feerate.\n+\n+For any set of linearized clusters, then, we can define the **feerate diagram**\n+of the set by plotting the cumulative fee (y-axis) against the cumulative size\n+(x-axis) as we progress from chunk to chunk. Given two linearizations for the\n+same set of transactions, we can can compare their feerate diagrams by\n+comparing their cumulative fees at each size value. Two diagrams may be\n+**incomparable** if neither contains the other (i.e., there exist size values at\n+which each one has a greater cumulative fee than the other). Or, they may be\n+**equivalent** if they have identical cumulative fees at every size value; or\n+one may be **strictly better** than the other if they are comparable and there\n+exists at least one size value for which the cumulative fee is strictly higher\n+in one of them.\n+\n+For more background and rationale, see [2] and [3] below.\n+\n+## Mining/eviction\n+\n+As described above, the linearization of each cluster gives us a linearization\n+of the entire mempool. We use this ordering for both block building and\n+eviction, by selecting chunks at the front of the linearization when\n+constructing a block template, and by evicting chunks from the back of the\n+linearization when we need to free up space in the mempool.\n+\n+## Replace-by-fee\n+\n+Prior to the cluster mempool implementation, it was possible for replacements\n+to be prevented even if they would make the mempool more profitable for miners,\n+and it was possible for replacements to be permitted even if the newly accepted\n+transaction was less desirable to miners than the transactions it was\n+replacing. With the ability to construct linearizations of the mempool, we're\n+now able to compare the feerate diagram of the mempool before and after a\n+proposed replacement, and only accept the replacement if it makes the feerate\n+diagram strictly better.\n+\n+In simple cases, the intuition is that a replacement should have a higher\n+feerate and fee than the transaction(s) it replaces. But for more complex cases\n+(where some transactions may have unconfirmed parents), there may not be a\n+simple way to describe the fee that is needed to successfully replace a set of\n+transactions, other than to say that the overall feerate diagram of the\n+resulting mempool must improve somewhere and not be worse anywhere.\n+\n+## Mempool limits\n+\n+### Motivation\n+\n+Selecting chunks in decreasing feerate order when building a block template\n+will be close to optimal when the maximum size of any chunk is small compared\n+to the block size. And for mempool eviction, we don't wish to evict too much of\n+the mempool at once when a single (potentially small) transaction arrives that\n+takes us over our mempool size limit. For both of these reasons, it's desirable\n+to limit the maximum size of a cluster and thereby limit the maximum size of\n+any chunk (as a cluster may consist entirely of one chunk).\n+\n+The computation required to linearize a transaction grows (in polynomial time)\n+with the number of transactions in a cluster, so limiting the number of\n+transactions in a cluster is necessary to ensure that we're able to find good\n+(ideally, optimal) linearizations in a reasonable amount of time.\n+\n+### Limits\n+\n+Transactions submitted to the mempool must not result in clusters that would\n+exceed the cluster limits set by the node (see `-limitclustercount` and",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 90,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "6368638e8d2dcb82961625cd3bd8bd9d7132120f",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: Add design notes for cluster mempool and explain new mempool limits\"\r\n\r\nWith these options made debug-only, maybe it's better to list the defaults?\r\n\r\n> Transactions submitted to the mempool must not result in clusters that would\r\nexceed the cluster limits (64 transactions and 101 kvB total per cluster).",
      "created_at": "2025-12-01T14:05:18Z",
      "updated_at": "2025-12-01T14:15:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577225993",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577225993"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577234887",
      "pull_request_review_id": 3525170884,
      "id": 2577234887,
      "node_id": "PRRC_kwDOABII586ZnXvH",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (i.e., B is a **child** of A, and A is a **parent** of B).\n+\n+A transaction's **ancestors** include, recursively, its parents, the parents of\n+its parents, etc.  A transaction's **descendants** include, recursively, its\n+children, the children of its children, etc.\n+\n+A **cluster** is a connected component of the graph, i.e., a set of\n+transactions where each transaction is reachable from any other transaction in\n+the set by following edges in either direction. The cluster corresponding to a\n+given transaction consists of that transaction, its ancestors and descendants,\n+and the ancestors and descendants of those transactions, and so on.\n+\n+Each cluster is **linearized**, or sorted, in a topologically valid order (i.e.,\n+no transaction appears before any of its ancestors). Our goal is to construct a\n+linearization where the highest feerate subset of a cluster appears first,\n+followed by the next highest feerate subset of the remaining transactions, and\n+so on[1]. We call these subsets **chunks**, and the chunks of a linearization\n+have the property that they are always in monotonically decreasing feerate\n+order.\n+\n+Given two or more linearized clusters, we can construct a linearization of the\n+union by simply merge sorting the chunks of each cluster by feerate.\n+\n+For any set of linearized clusters, then, we can define the **feerate diagram**\n+of the set by plotting the cumulative fee (y-axis) against the cumulative size\n+(x-axis) as we progress from chunk to chunk. Given two linearizations for the\n+same set of transactions, we can can compare their feerate diagrams by",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 33,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "6368638e8d2dcb82961625cd3bd8bd9d7132120f",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "doc: Add design notes for cluster mempool and explain new mempool limits\r\n\r\nGrammar: \"we can can compare\" -> \"we can compare\"\r\n\r\n(thanks DrahtBot LLM)",
      "created_at": "2025-12-01T14:07:56Z",
      "updated_at": "2025-12-01T14:15:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577234887",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577234887"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577238632",
      "pull_request_review_id": 3525170884,
      "id": 2577238632,
      "node_id": "PRRC_kwDOABII586ZnYpo",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better decision-making when constructing block templates, evicting\n+transactions, relaying transactions, and validating replacement transactions\n+(RBF). Most changes should be transparent to users, but some behavior changes\n+are noted:\n+\n+- The mempool no longer enforces ancestor or descendant size/count limits.\n+  Instead, two new default policy limits are introduced governing connected\n+  components, or clusters, in the mempool, limiting clusters to 64 transactions\n+  and up to 101kB in virtual size.  Transactions are considered to be in the\n+  same cluster if they are connected to each other via any combination of\n+  parent/child relationships in the mempool. These limits can be overriden",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 15,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "93a90fff5bd727141fc2cc54cf217a10b51c233e",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"doc: add release notes snippet for cluster mempool\"\r\n\r\n\"overriden\" -> \"overridden\"\r\n\r\n(thanks to DrahtBot LLM)",
      "created_at": "2025-12-01T14:09:03Z",
      "updated_at": "2025-12-01T14:15:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577238632",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577238632"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577251357",
      "pull_request_review_id": 3525170884,
      "id": 2577251357,
      "node_id": "PRRC_kwDOABII586Znbwd",
      "diff_hunk": "@@ -311,6 +312,19 @@ static std::vector<RPCResult> MempoolEntryDescription()\n     };\n }\n \n+void AppendChunkInfo(UniValue& all_chunks, FeePerWeight chunk_feerate, std::vector<const CTxMemPoolEntry *> chunk_txs)\n+{\n+    UniValue chunk(UniValue::VOBJ);\n+    chunk.pushKV(\"chunkfee\", ValueFromAmount((int)chunk_feerate.fee));\n+    chunk.pushKV(\"chunkweight\", chunk_feerate.size);\n+    UniValue chunk_txids(UniValue::VARR);\n+    for (const auto& chunk_tx : chunk_txs) {\n+        chunk_txids.push_back(chunk_tx->GetTx().GetHash().ToString());\n+    }\n+    chunk.pushKV(\"txs\", std::move(chunk_txids));\n+    all_chunks.push_back(chunk);",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 33,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "450e6aa4d99464d60a791a91c57f41ffa0035d49",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"rpc: improve getmempoolcluster output\"\r\n\r\n`all_chunks.push_back(std::move(chunk))` will avoid a copy",
      "created_at": "2025-12-01T14:12:17Z",
      "updated_at": "2025-12-01T14:15:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577251357",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577251357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 325,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577658987",
      "pull_request_review_id": 3525743252,
      "id": 2577658987,
      "node_id": "PRRC_kwDOABII586Zo_Rr",
      "diff_hunk": "@@ -360,15 +360,25 @@ void CTxMemPool::removeForReorg(CChain& chain, std::function<bool(txiter)> check\n     AssertLockHeld(::cs_main);\n     Assume(!m_have_changeset);\n \n-    setEntries txToRemove;\n-    for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n-        if (check_final_and_mature(it)) txToRemove.insert(it);\n+    std::vector<CTxMemPool::txiter> txToRemove;\n+    {\n+        WITH_FRESH_EPOCH(m_epoch);\n+        for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n+            if (check_final_and_mature(it) && !visited(it)) {\n+                txToRemove.emplace_back(it);\n+                auto descendants = m_txgraph->GetDescendants(*it, TxGraph::Level::MAIN);\n+                for (auto d: descendants) {\n+                    auto desc = mapTx.iterator_to(static_cast<const CTxMemPoolEntry&>(*d));\n+                    if (!visited(desc)) {\n+                        txToRemove.emplace_back(desc);\n+                    }\n+                }\n+            }\n+        }\n     }\n-    setEntries setAllRemoves;\n     for (txiter it : txToRemove) {\n-        CalculateDescendants(it, setAllRemoves);\n+        removeUnchecked(it, MemPoolRemovalReason::REORG);\n     }\n-    RemoveStaged(setAllRemoves, MemPoolRemovalReason::REORG);\n     for (indexed_transaction_set::const_iterator it = mapTx.begin(); it != mapTx.end(); it++) {\n         assert(TestLockPointValidity(chain, it->GetLockPoints()));",
      "path": "src/txmempool.cpp",
      "position": 116,
      "original_position": 30,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "05a7b963c93501939ec0523fe0182af87ee40056",
      "in_reply_to_id": 2560813764,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Given the new implementation that doesn't even use `visited()`, I think can be removed anyway (in another followup)\r\n\r\nedit: Actually not sure removal is worth it. If `check_final_and_mature` introduces a bug it may be hard to catch the issue.",
      "created_at": "2025-12-01T15:51:51Z",
      "updated_at": "2025-12-02T14:18:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577658987",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577658987"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 368,
      "original_line": 368,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577689691",
      "pull_request_review_id": 3525781664,
      "id": 2577689691,
      "node_id": "PRRC_kwDOABII586ZpGxb",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (i.e., B is a **child** of A, and A is a **parent** of B).\n+\n+A transaction's **ancestors** include, recursively, its parents, the parents of\n+its parents, etc.  A transaction's **descendants** include, recursively, its\n+children, the children of its children, etc.\n+\n+A **cluster** is a connected component of the graph, i.e., a set of\n+transactions where each transaction is reachable from any other transaction in\n+the set by following edges in either direction. The cluster corresponding to a\n+given transaction consists of that transaction, its ancestors and descendants,\n+and the ancestors and descendants of those transactions, and so on.\n+\n+Each cluster is **linearized**, or sorted, in a topologically valid order (i.e.,\n+no transaction appears before any of its ancestors). Our goal is to construct a\n+linearization where the highest feerate subset of a cluster appears first,\n+followed by the next highest feerate subset of the remaining transactions, and\n+so on[1]. We call these subsets **chunks**, and the chunks of a linearization\n+have the property that they are always in monotonically decreasing feerate\n+order.\n+\n+Given two or more linearized clusters, we can construct a linearization of the\n+union by simply merge sorting the chunks of each cluster by feerate.\n+\n+For any set of linearized clusters, then, we can define the **feerate diagram**\n+of the set by plotting the cumulative fee (y-axis) against the cumulative size\n+(x-axis) as we progress from chunk to chunk. Given two linearizations for the\n+same set of transactions, we can can compare their feerate diagrams by\n+comparing their cumulative fees at each size value. Two diagrams may be\n+**incomparable** if neither contains the other (i.e., there exist size values at\n+which each one has a greater cumulative fee than the other). Or, they may be\n+**equivalent** if they have identical cumulative fees at every size value; or\n+one may be **strictly better** than the other if they are comparable and there\n+exists at least one size value for which the cumulative fee is strictly higher\n+in one of them.\n+\n+For more background and rationale, see [2] and [3] below.\n+\n+## Mining/eviction\n+\n+As described above, the linearization of each cluster gives us a linearization\n+of the entire mempool. We use this ordering for both block building and\n+eviction, by selecting chunks at the front of the linearization when\n+constructing a block template, and by evicting chunks from the back of the\n+linearization when we need to free up space in the mempool.\n+\n+## Replace-by-fee\n+\n+Prior to the cluster mempool implementation, it was possible for replacements\n+to be prevented even if they would make the mempool more profitable for miners,\n+and it was possible for replacements to be permitted even if the newly accepted\n+transaction was less desirable to miners than the transactions it was\n+replacing. With the ability to construct linearizations of the mempool, we're\n+now able to compare the feerate diagram of the mempool before and after a\n+proposed replacement, and only accept the replacement if it makes the feerate\n+diagram strictly better.\n+\n+In simple cases, the intuition is that a replacement should have a higher\n+feerate and fee than the transaction(s) it replaces. But for more complex cases\n+(where some transactions may have unconfirmed parents), there may not be a\n+simple way to describe the fee that is needed to successfully replace a set of\n+transactions, other than to say that the overall feerate diagram of the\n+resulting mempool must improve somewhere and not be worse anywhere.\n+\n+## Mempool limits\n+\n+### Motivation\n+\n+Selecting chunks in decreasing feerate order when building a block template\n+will be close to optimal when the maximum size of any chunk is small compared\n+to the block size. And for mempool eviction, we don't wish to evict too much of\n+the mempool at once when a single (potentially small) transaction arrives that\n+takes us over our mempool size limit. For both of these reasons, it's desirable\n+to limit the maximum size of a cluster and thereby limit the maximum size of\n+any chunk (as a cluster may consist entirely of one chunk).\n+\n+The computation required to linearize a transaction grows (in polynomial time)\n+with the number of transactions in a cluster, so limiting the number of\n+transactions in a cluster is necessary to ensure that we're able to find good\n+(ideally, optimal) linearizations in a reasonable amount of time.\n+\n+### Limits\n+\n+Transactions submitted to the mempool must not result in clusters that would\n+exceed the cluster limits set by the node (see `-limitclustercount` and",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 90,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "6368638e8d2dcb82961625cd3bd8bd9d7132120f",
      "in_reply_to_id": 2577225993,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2025-12-01T16:00:31Z",
      "updated_at": "2025-12-01T16:00:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577689691",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577689691"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577692236",
      "pull_request_review_id": 3525784711,
      "id": 2577692236,
      "node_id": "PRRC_kwDOABII586ZpHZM",
      "diff_hunk": "@@ -0,0 +1,105 @@\n+# Mempool design and limits\n+\n+## Definitions\n+\n+We view the unconfirmed transactions in the mempool as a directed graph,\n+with an edge from transaction B to transaction A if B spends an output created\n+by A (i.e., B is a **child** of A, and A is a **parent** of B).\n+\n+A transaction's **ancestors** include, recursively, its parents, the parents of\n+its parents, etc.  A transaction's **descendants** include, recursively, its\n+children, the children of its children, etc.\n+\n+A **cluster** is a connected component of the graph, i.e., a set of\n+transactions where each transaction is reachable from any other transaction in\n+the set by following edges in either direction. The cluster corresponding to a\n+given transaction consists of that transaction, its ancestors and descendants,\n+and the ancestors and descendants of those transactions, and so on.\n+\n+Each cluster is **linearized**, or sorted, in a topologically valid order (i.e.,\n+no transaction appears before any of its ancestors). Our goal is to construct a\n+linearization where the highest feerate subset of a cluster appears first,\n+followed by the next highest feerate subset of the remaining transactions, and\n+so on[1]. We call these subsets **chunks**, and the chunks of a linearization\n+have the property that they are always in monotonically decreasing feerate\n+order.\n+\n+Given two or more linearized clusters, we can construct a linearization of the\n+union by simply merge sorting the chunks of each cluster by feerate.\n+\n+For any set of linearized clusters, then, we can define the **feerate diagram**\n+of the set by plotting the cumulative fee (y-axis) against the cumulative size\n+(x-axis) as we progress from chunk to chunk. Given two linearizations for the\n+same set of transactions, we can can compare their feerate diagrams by",
      "path": "doc/policy/mempool-design.md",
      "position": 1,
      "original_position": 33,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "6368638e8d2dcb82961625cd3bd8bd9d7132120f",
      "in_reply_to_id": 2577234887,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed!",
      "created_at": "2025-12-01T16:01:15Z",
      "updated_at": "2025-12-01T16:01:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577692236",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577692236"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577693180",
      "pull_request_review_id": 3525785816,
      "id": 2577693180,
      "node_id": "PRRC_kwDOABII586ZpHn8",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+Mempool\n+=======\n+\n+The mempool has been reimplemented with a new design (\"cluster mempool\"), to\n+facilitate better decision-making when constructing block templates, evicting\n+transactions, relaying transactions, and validating replacement transactions\n+(RBF). Most changes should be transparent to users, but some behavior changes\n+are noted:\n+\n+- The mempool no longer enforces ancestor or descendant size/count limits.\n+  Instead, two new default policy limits are introduced governing connected\n+  components, or clusters, in the mempool, limiting clusters to 64 transactions\n+  and up to 101kB in virtual size.  Transactions are considered to be in the\n+  same cluster if they are connected to each other via any combination of\n+  parent/child relationships in the mempool. These limits can be overriden",
      "path": "doc/release-notes-33629.md",
      "position": 1,
      "original_position": 15,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "93a90fff5bd727141fc2cc54cf217a10b51c233e",
      "in_reply_to_id": 2577238632,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed, and made a few other small style edits as well.",
      "created_at": "2025-12-01T16:01:33Z",
      "updated_at": "2025-12-01T16:01:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577693180",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577693180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577693764",
      "pull_request_review_id": 3525786513,
      "id": 2577693764,
      "node_id": "PRRC_kwDOABII586ZpHxE",
      "diff_hunk": "@@ -311,6 +312,19 @@ static std::vector<RPCResult> MempoolEntryDescription()\n     };\n }\n \n+void AppendChunkInfo(UniValue& all_chunks, FeePerWeight chunk_feerate, std::vector<const CTxMemPoolEntry *> chunk_txs)\n+{\n+    UniValue chunk(UniValue::VOBJ);\n+    chunk.pushKV(\"chunkfee\", ValueFromAmount((int)chunk_feerate.fee));\n+    chunk.pushKV(\"chunkweight\", chunk_feerate.size);\n+    UniValue chunk_txids(UniValue::VARR);\n+    for (const auto& chunk_tx : chunk_txs) {\n+        chunk_txids.push_back(chunk_tx->GetTx().GetHash().ToString());\n+    }\n+    chunk.pushKV(\"txs\", std::move(chunk_txids));\n+    all_chunks.push_back(chunk);",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 33,
      "commit_id": "48c29fbe0974664e28564af07fbfd753cf125c36",
      "original_commit_id": "450e6aa4d99464d60a791a91c57f41ffa0035d49",
      "in_reply_to_id": 2577251357,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-12-01T16:01:43Z",
      "updated_at": "2025-12-01T16:01:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2577693764",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2577693764"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 325,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2582097283",
      "pull_request_review_id": 3531248198,
      "id": 2582097283,
      "node_id": "PRRC_kwDOABII586Z562D",
      "diff_hunk": "@@ -24,15 +24,10 @@ static constexpr uint32_t MAX_PACKAGE_COUNT{25};\n static constexpr uint32_t MAX_PACKAGE_WEIGHT = 404'000;\n static_assert(MAX_PACKAGE_WEIGHT >= MAX_STANDARD_TX_WEIGHT);\n \n-// If a package is to be evaluated, it must be at least as large as the mempool's ancestor/descendant limits,\n-// otherwise transactions that would be individually accepted may be rejected in a package erroneously.\n-// Since a submitted package must be child-with-parents (all of the transactions are a parent\n-// of the child), package limits are ultimately bounded by mempool package limits. Ensure that the\n-// defaults reflect this constraint.\n-static_assert(DEFAULT_DESCENDANT_LIMIT >= MAX_PACKAGE_COUNT);\n-static_assert(DEFAULT_ANCESTOR_LIMIT >= MAX_PACKAGE_COUNT);\n-static_assert(MAX_PACKAGE_WEIGHT >= DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * WITNESS_SCALE_FACTOR * 1000);\n-static_assert(MAX_PACKAGE_WEIGHT >= DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * WITNESS_SCALE_FACTOR * 1000);\n+// Packages are part of a single cluster, so ensure that the package limits are",
      "path": "src/policy/packages.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "b8d279a81c16fe9f5b6d422e518c77344e217d4f",
      "original_commit_id": "d2b0872461158e69675985e8c9e2eb929d904683",
      "in_reply_to_id": 2561106726,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Agree the previous checks can be removed. Rationale is \"transactions that would be individually accepted may be rejected in a package erroneously\" which is addressed more comprehensively by trying individual transactions if they don't need to be grouped with others and calculating precise cluster limits through the staging txgraph.",
      "created_at": "2025-12-02T17:03:31Z",
      "updated_at": "2025-12-02T17:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2582097283",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2582097283"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 27,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2582181728",
      "pull_request_review_id": 3531349936,
      "id": 2582181728,
      "node_id": "PRRC_kwDOABII586Z6Pdg",
      "diff_hunk": "@@ -261,14 +261,14 @@ static RPCHelpMan testmempoolaccept()\n static std::vector<RPCResult> ClusterDescription()\n {\n     return {\n-        RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n+        RPCResult{RPCResult::Type::NUM, \"weight\", \"total sigops-adjusted weight (as defined in BIP 141 and modified by '-bytespersigop'\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "486b441971912bdc63921425d5e40a8c168186ea",
      "original_commit_id": "ccf7c5ac41722496de37756a91be25e6a0779374",
      "in_reply_to_id": 2519835223,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The docs look great. I agree they could be consolidated. Maybe even just one file, since the rules are becoming simpler and more consistent across package and single tx.\r\n\r\nThe `getmempoolfeeratediagram` RPC is hidden/experimental, so maybe it's fine? We could rename it to \"adjusted_weight\" to not invalidate 'In the RPCs, \"weight\" refers to the weight as defined in BIP 141.'",
      "created_at": "2025-12-02T17:29:49Z",
      "updated_at": "2025-12-02T17:30:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33591#discussion_r2582181728",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2582181728"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33591"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 270,
      "side": "RIGHT"
    }
  ]
}