{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832",
    "id": 907499212,
    "node_id": "PR_kwDOABII5842F1bM",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/24832",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/24832.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/24832.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e734228d8585c0870c71ce8ba8c037f8cf8b249a",
    "number": 24832,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "index: Verify the block filter hash when reading the filter from disk.",
    "user": {
      "login": "kcalvinalvin",
      "id": 37185887,
      "node_id": "MDQ6VXNlcjM3MTg1ODg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kcalvinalvin",
      "html_url": "https://github.com/kcalvinalvin",
      "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
      "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
      "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
      "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
      "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR picks up the abandoned #19280\r\n\r\nBlockFilterIndex was depending on `GolombRiceDecode()` during the filter decode to sanity check that the filter wasn't corrupt. However, we can check for corruption by ensuring that the encoded blockfilter's hash matches up with the one stored in the index database.\r\n\r\nBenchmarks that were added in #19280 showed that checking the hash is much faster.\r\n\r\nThe benchmarks were changed to nanobench and the relevant benchmarks were like below, showing a clear win for the hash check method.\r\n\r\n```\r\n|             ns/elem |              elem/s |    err% |        ins/elem |       bra/elem |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|---------------:|--------:|----------:|:----------\r\n|              531.40 |        1,881,819.43 |    0.3% |        3,527.01 |         411.00 |    0.2% |      0.01 | `DecodeCheckedGCSFilter`\r\n|          258,220.50 |            3,872.66 |    0.1% |    2,990,092.00 |     586,706.00 |    1.7% |      0.01 | `DecodeGCSFilter`\r\n|           13,036.77 |           76,706.09 |    0.3% |       64,238.24 |         513.04 |    0.2% |      0.01 | `BlockFilterGetHash`\r\n```",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "created_at": "2022-04-12T10:38:26Z",
    "updated_at": "2023-07-27T10:17:06Z",
    "closed_at": "2022-07-07T16:59:18Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merged_at": "2022-07-07T16:59:18Z",
    "merge_commit_sha": "5abbc9afec1874efe139ccdc988b4ae122aa472c",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "kcalvinalvin:2020-06-14-blockfilterindex-checksums",
      "ref": "2020-06-14-blockfilterindex-checksums",
      "sha": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 205128317,
        "node_id": "MDEwOlJlcG9zaXRvcnkyMDUxMjgzMTc=",
        "name": "bitcoin",
        "full_name": "kcalvinalvin/bitcoin",
        "owner": {
          "login": "kcalvinalvin",
          "id": 37185887,
          "node_id": "MDQ6VXNlcjM3MTg1ODg3",
          "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/kcalvinalvin",
          "html_url": "https://github.com/kcalvinalvin",
          "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
          "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
          "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
          "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
          "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/kcalvinalvin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/kcalvinalvin/bitcoin",
        "archive_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/kcalvinalvin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:kcalvinalvin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/kcalvinalvin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/hooks",
        "svn_url": "https://github.com/kcalvinalvin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 215238,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-04-30T15:43:03Z",
        "created_at": "2019-08-29T09:29:03Z",
        "updated_at": "2022-07-13T07:28:22Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "640eb772e55671c5dab29843cebe42ec35cb703f",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T23:10:54Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 80,
    "deletions": 28,
    "changed_files": 5,
    "commits": 4,
    "review_comments": 26,
    "comments": 26
  },
  "events": [
    {
      "event": "labeled",
      "id": 6417819726,
      "node_id": "LE_lADOABII585Hn5d9zwAAAAF-iChO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6417819726",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-12T10:39:09Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "reviewed",
      "id": 939386764,
      "node_id": "PRR_kwDOABII5843_eeM",
      "url": null,
      "actor": null,
      "commit_id": "294a8454e4e179ec011b612a2d29a99a659390a9",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\n<details><summary>A few suggestions regarding filter_checked</summary><p>\r\n\r\n```diff\r\ndiff --git a/src/blockfilter.cpp b/src/blockfilter.cpp\r\nindex 59f34bc54e..0ab89fdbdb 100644\r\n--- a/src/blockfilter.cpp\r\n+++ b/src/blockfilter.cpp\r\n@@ -47,7 +47,7 @@ GCSFilter::GCSFilter(const Params& params)\r\n     : m_params(params), m_N(0), m_F(0), m_encoded{0}\r\n {}\r\n \r\n-GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, const bool filter_checked)\r\n+GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked)\r\n     : m_params(params), m_encoded(std::move(encoded_filter))\r\n {\r\n     SpanReader stream{GCS_SER_TYPE, GCS_SER_VERSION, m_encoded};\r\n@@ -221,7 +221,7 @@ static GCSFilter::ElementSet BasicFilterElements(const CBlock& block,\r\n }\r\n \r\n BlockFilter::BlockFilter(BlockFilterType filter_type, const uint256& block_hash,\r\n-                         std::vector<unsigned char> filter, const bool filter_checked)\r\n+                         std::vector<unsigned char> filter, bool filter_checked)\r\n     : m_filter_type(filter_type), m_block_hash(block_hash)\r\n {\r\n     GCSFilter::Params params;\r\ndiff --git a/src/blockfilter.h b/src/blockfilter.h\r\nindex af054dbf34..5de5679834 100644\r\n--- a/src/blockfilter.h\r\n+++ b/src/blockfilter.h\r\n@@ -59,7 +59,7 @@ public:\r\n     explicit GCSFilter(const Params& params = Params());\r\n \r\n     /** Reconstructs an already-created filter from an encoding. */\r\n-    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, const bool filter_checked=false);\r\n+    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked = false);\r\n \r\n     /** Builds a new filter from the params and set of elements. */\r\n     GCSFilter(const Params& params, const ElementSet& elements);\r\n@@ -122,7 +122,7 @@ public:\r\n \r\n     //! Reconstruct a BlockFilter from parts.\r\n     BlockFilter(BlockFilterType filter_type, const uint256& block_hash,\r\n-                std::vector<unsigned char> filter, const bool filter_checked=false);\r\n+                std::vector<unsigned char> filter, bool filter_checked = false);\r\n \r\n     //! Construct a new BlockFilter of the specified type from a block.\r\n     BlockFilter(BlockFilterType filter_type, const CBlock& block, const CBlockUndo& block_undo);\r\ndiff --git a/src/index/blockfilterindex.cpp b/src/index/blockfilterindex.cpp\r\nindex bad766ebe1..0a4728f571 100644\r\n--- a/src/index/blockfilterindex.cpp\r\n+++ b/src/index/blockfilterindex.cpp\r\n@@ -159,7 +159,7 @@ bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& f\r\n         uint256 result;\r\n         CHash256().Write(encoded_filter).Finalize(result);\r\n         if (result != hash) return error(\"Checksum mismatch in filter decode.\");\r\n-        filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter), true);\r\n+        filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter), /*filter_checked=*/true);\r\n     }\r\n```\r\n</p></details>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-939386764",
      "submitted_at": "2022-04-12T11:45:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6418663046,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAF-lQaG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6418663046",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-12T12:24:49Z"
    },
    {
      "event": "commented",
      "id": 1096661499,
      "node_id": "IC_kwDOABII585BXbn7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1096661499",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-12T12:27:44Z",
      "updated_at": "2022-04-12T12:27:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "> A few suggestions regarding filter_checked\r\n\r\nI've applied all the suggested changes :)",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1096661499",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-12T12:51:35Z",
      "updated_at": "2022-04-12T12:51:35Z",
      "source": {
        "issue": {
          "id": 1201805211,
          "node_id": "PR_kwDOHHqDHM42GZIX",
          "url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/6",
          "repository_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty",
          "labels_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/6/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/6/comments",
          "events_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/6/events",
          "html_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/6",
          "number": 6,
          "state": "closed",
          "state_reason": null,
          "title": "Check out verify blockfilters when reading from disk",
          "body": "I have a PR open at https://github.com/bitcoin/bitcoin/pull/24832",
          "user": {
            "login": "kcalvinalvin",
            "id": 37185887,
            "node_id": "MDQ6VXNlcjM3MTg1ODg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kcalvinalvin",
            "html_url": "https://github.com/kcalvinalvin",
            "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
            "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
            "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
            "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
            "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 0,
          "pull_request": {
            "url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/pulls/6",
            "html_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/6",
            "diff_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/6.diff",
            "patch_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/6.patch"
          },
          "closed_at": "2022-04-12T12:52:35Z",
          "created_at": "2022-04-12T12:51:35Z",
          "updated_at": "2022-04-12T12:52:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6419571493,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAF-ouMl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6419571493",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-12T14:16:51Z"
    },
    {
      "event": "reviewed",
      "id": 939759636,
      "node_id": "PRR_kwDOABII5844A5gU",
      "url": null,
      "actor": null,
      "commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK, a few iterative further comments on second look.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-939759636",
      "submitted_at": "2022-04-12T16:44:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "reviewed",
      "id": 939865436,
      "node_id": "PRR_kwDOABII5844BTVc",
      "url": null,
      "actor": null,
      "commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-939865436",
      "submitted_at": "2022-04-12T16:53:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "reviewed",
      "id": 940231393,
      "node_id": "PRR_kwDOABII5844Csrh",
      "url": null,
      "actor": null,
      "commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nAs far as I can see, the sanity check that this PR makes optional is now only invoked from `BlockFilter::Unserialize()`, which is used only in test code because as a full node, bitcoin core doesn't have the use case of accepting unchecked serialized blockfilters over p2p, only send self-generated ones to peers. \r\nSo I wonder whether it might make sense to just remove the old sanity check instead of making it optional?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-940231393",
      "submitted_at": "2022-04-12T22:52:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "commented",
      "id": 1098094928,
      "node_id": "IC_kwDOABII585Bc5lQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098094928",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-13T14:06:28Z",
      "updated_at": "2022-04-14T13:30:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "@mzumsande good point, and I think it also highlights that it may alternatively be better to drop the default false value for `filter_checked` here as follows to make that more explicit. Then (here or in a follow-up), if `BlockFilter::Unserialize()` is removed or moved to the test code, the sanity check here could be removed.\r\n\r\n<details><summary>drop default false filter_checked value</summary><p>\r\n\r\n```diff\r\ndiff --git a/src/bench/gcs_filter.cpp b/src/bench/gcs_filter.cpp\r\nindex 89fa07f602..56f3cff0c1 100644\r\n--- a/src/bench/gcs_filter.cpp\r\n+++ b/src/bench/gcs_filter.cpp\r\n@@ -52,7 +52,7 @@ static void DecodeGCSFilter(benchmark::Bench& bench)\r\n     auto encoded = filter.GetEncoded();\r\n \r\n     bench.unit(\"elem\").run([&] {\r\n-        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\r\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, /*filter_checked=*/false);\r\n     });\r\n }\r\n \r\n@@ -66,7 +66,7 @@ static void BlockFilterGetHash(benchmark::Bench& bench)\r\n         elements.insert(std::move(element));\r\n     }\r\n     GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\r\n-    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded());\r\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded(), /*filter_checked=*/false);\r\n \r\n     bench.unit(\"elem\").run([&] {\r\n         block_filter.GetHash();\r\n@@ -86,7 +86,7 @@ static void DecodeCheckedGCSFilter(benchmark::Bench& bench)\r\n     auto encoded = filter.GetEncoded();\r\n \r\n     bench.unit(\"elem\").run([&] {\r\n-        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, true);\r\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, /*filter_checked=*/true);\r\n     });\r\n }\r\n BENCHMARK(BlockFilterGetHash);\r\ndiff --git a/src/blockfilter.h b/src/blockfilter.h\r\nindex 21d6a295a2..f823354989 100644\r\n--- a/src/blockfilter.h\r\n+++ b/src/blockfilter.h\r\n@@ -59,7 +59,7 @@ public:\r\n     explicit GCSFilter(const Params& params = Params());\r\n \r\n     /** Reconstructs an already-created filter from an encoding. */\r\n-    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked=false);\r\n+    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked);\r\n \r\n     /** Builds a new filter from the params and set of elements. */\r\n     GCSFilter(const Params& params, const ElementSet& elements);\r\n@@ -122,7 +122,7 @@ public:\r\n \r\n     //! Reconstruct a BlockFilter from parts.\r\n     BlockFilter(BlockFilterType filter_type, const uint256& block_hash,\r\n-                std::vector<unsigned char> filter, bool filter_checked=false);\r\n+                std::vector<unsigned char> filter, bool filter_checked);\r\n \r\n     //! Construct a new BlockFilter of the specified type from a block.\r\n     BlockFilter(BlockFilterType filter_type, const CBlock& block, const CBlockUndo& block_undo);\r\n@@ -164,7 +164,7 @@ public:\r\n         if (!BuildParams(params)) {\r\n             throw std::ios_base::failure(\"unknown filter_type\");\r\n         }\r\n-        m_filter = GCSFilter(params, std::move(encoded_filter));\r\n+        m_filter = GCSFilter(params, std::move(encoded_filter), /*filter_checked=*/false);\r\n     }\r\n };\r\n```\r\n</p></details>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1098094928",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "mentioned",
      "id": 6427703936,
      "node_id": "MEE_lADOABII585Hn5d9zwAAAAF_HvqA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6427703936",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-13T14:06:28Z"
    },
    {
      "event": "subscribed",
      "id": 6427703948,
      "node_id": "SE_lADOABII585Hn5d9zwAAAAF_HvqM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6427703948",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-13T14:06:28Z"
    },
    {
      "event": "commented",
      "id": 1098206739,
      "node_id": "IC_kwDOABII585BdU4T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098206739",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-13T15:42:34Z",
      "updated_at": "2022-04-13T15:42:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Sure I can just get rid of the option. I'll move `BlockFilter::Unserialize()` to the test files in a follow-up.\r\n\r\nQuick side-question: my initial thought was that it'd be helpful to leave an option in there in case anyone is using the code as a library. In general, does Bitcoin Core development think about potential use cases of the code being used as a library somewhere else?",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1098206739",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1098412641,
      "node_id": "IC_kwDOABII585BeHJh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098412641",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-13T19:38:12Z",
      "updated_at": "2022-04-13T19:38:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "@kcalvinalvin maybe decided case-by-case; I don't recall a recent specific example of leave-it-in-for-reuse-as-a-library being invoked as a rationale for not moving code used only for tests out to the test code.\r\n\r\nVerified that removing `BlockFilter::Unserialize()` compiles with the following test-only deletions:\r\n\r\n<details><summary>code that depends on BlockFilter::Unserialize()</summary><p>\r\n\r\n```diff\r\ndiff --git a/src/blockfilter.h b/src/blockfilter.h\r\nindex 21d6a295a2..764395c370 100644\r\n--- a/src/blockfilter.h\r\n+++ b/src/blockfilter.h\r\n@@ -148,24 +148,6 @@ public:\r\n           << m_block_hash\r\n           << m_filter.GetEncoded();\r\n     }\r\n-\r\n-    template <typename Stream>\r\n-    void Unserialize(Stream& s) {\r\n-        std::vector<unsigned char> encoded_filter;\r\n-        uint8_t filter_type;\r\n-\r\n-        s >> filter_type\r\n-          >> m_block_hash\r\n-          >> encoded_filter;\r\n-\r\n-        m_filter_type = static_cast<BlockFilterType>(filter_type);\r\n-\r\n-        GCSFilter::Params params;\r\n-        if (!BuildParams(params)) {\r\n-            throw std::ios_base::failure(\"unknown filter_type\");\r\n-        }\r\n-        m_filter = GCSFilter(params, std::move(encoded_filter));\r\n-    }\r\n };\r\n \r\n #endif // BITCOIN_BLOCKFILTER_H\r\ndiff --git a/src/test/blockfilter_tests.cpp b/src/test/blockfilter_tests.cpp\r\nindex 8eb4dbc592..b99d9a32c3 100644\r\n--- a/src/test/blockfilter_tests.cpp\r\n+++ b/src/test/blockfilter_tests.cpp\r\n@@ -106,23 +106,6 @@ BOOST_AUTO_TEST_CASE(blockfilter_basic_test)\r\n     for (const CScript& script : excluded_scripts) {\r\n         BOOST_CHECK(!filter.Match(GCSFilter::Element(script.begin(), script.end())));\r\n     }\r\n-\r\n-    // Test serialization/unserialization.\r\n-    BlockFilter block_filter2;\r\n-\r\n-    CDataStream stream(SER_NETWORK, PROTOCOL_VERSION);\r\n-    stream << block_filter;\r\n-    stream >> block_filter2;\r\n-\r\n-    BOOST_CHECK_EQUAL(block_filter.GetFilterType(), block_filter2.GetFilterType());\r\n-    BOOST_CHECK_EQUAL(block_filter.GetBlockHash(), block_filter2.GetBlockHash());\r\n-    BOOST_CHECK(block_filter.GetEncodedFilter() == block_filter2.GetEncodedFilter());\r\n-\r\n-    BlockFilter default_ctor_block_filter_1;\r\n-    BlockFilter default_ctor_block_filter_2;\r\n-    BOOST_CHECK_EQUAL(default_ctor_block_filter_1.GetFilterType(), default_ctor_block_filter_2.GetFilterType());\r\n-    BOOST_CHECK_EQUAL(default_ctor_block_filter_1.GetBlockHash(), default_ctor_block_filter_2.GetBlockHash());\r\n-    BOOST_CHECK(default_ctor_block_filter_1.GetEncodedFilter() == default_ctor_block_filter_2.GetEncodedFilter());\r\n }\r\n \r\n BOOST_AUTO_TEST_CASE(blockfilters_json_test)\r\ndiff --git a/src/test/fuzz/deserialize.cpp b/src/test/fuzz/deserialize.cpp\r\nindex ed6f172a2a..3793921e86 100644\r\n--- a/src/test/fuzz/deserialize.cpp\r\n+++ b/src/test/fuzz/deserialize.cpp\r\n@@ -95,12 +95,6 @@ void DeserializeFromFuzzingInput(FuzzBufferType buffer, T& obj, const std::optio\r\n             throw invalid_fuzzing_input_exception();\r\n         }\r\n     }\r\n-    try {\r\n-        ds >> obj;\r\n-    } catch (const std::ios_base::failure&) {\r\n-        throw invalid_fuzzing_input_exception();\r\n-    }\r\n-    assert(buffer.empty() || !Serialize(obj).empty());\r\n }\r\n \r\n template <typename T>\r\ndiff --git a/src/test/fuzz/util.h b/src/test/fuzz/util.h\r\nindex 6c91844633..e8e8e57394 100644\r\n--- a/src/test/fuzz/util.h\r\n+++ b/src/test/fuzz/util.h\r\n@@ -145,11 +145,6 @@ template <typename T>\r\n     const std::vector<uint8_t> buffer = ConsumeRandomLengthByteVector(fuzzed_data_provider, max_length);\r\n     CDataStream ds{buffer, SER_NETWORK, INIT_PROTO_VERSION};\r\n     T obj;\r\n-    try {\r\n-        ds >> obj;\r\n-    } catch (const std::ios_base::failure&) {\r\n-        return std::nullopt;\r\n-    }\r\n     return obj;\r\n }\r\n```\r\n</p></details>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1098412641",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "mentioned",
      "id": 6429891233,
      "node_id": "MEE_lADOABII585Hn5d9zwAAAAF_QFqh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6429891233",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-13T19:38:12Z"
    },
    {
      "event": "subscribed",
      "id": 6429891243,
      "node_id": "SE_lADOABII585Hn5d9zwAAAAF_QFqr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6429891243",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-13T19:38:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6432746659,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAF_a-yj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6432746659",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-14T08:22:28Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6432768778,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAF_bEMK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6432768778",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-14T08:25:48Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6432786924,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAF_bIns",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6432786924",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-14T08:28:34Z"
    },
    {
      "event": "commented",
      "id": 1098867627,
      "node_id": "IC_kwDOABII585Bf2Or",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098867627",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-14T08:45:13Z",
      "updated_at": "2022-04-14T08:45:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed all of the changes requested except for removing `BlockFilter::Unserialize()` and getting rid of the option to sanity check. I'll do those in a follow up.",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1098867627",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1099200439,
      "node_id": "IC_kwDOABII585BhHe3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099200439",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-14T13:42:10Z",
      "updated_at": "2022-04-14T13:48:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 3e6d98e2dc98a4305a5bbdf4b6bea10bcf4aca71\r\n\r\nmodulo:\r\n- ordering the `gcs_filter` benchmark methods in the same order as the benchmarks in that file\r\n- maybe naming the `BlockFilterGetHash` bench as `GCSBlockFilterGetHash` so that `./src/bench/bench_bitcoin -filter=GCS*.*` can invoke it with the others in that file\r\n\r\nHere is a patch on top of your last push, if helpful, that removes `BlockFilter::Unserialize`: https://github.com/jonatack/bitcoin/commits/remove-BlockFilter-Unserialize. Though it may be more prudent to move it to the test code and leave the tests in place.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1099200439",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6451595643,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGAi4l7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6451595643",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-19T03:21:47Z"
    },
    {
      "event": "commented",
      "id": 1102816767,
      "node_id": "IC_kwDOABII585Bu6X_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1102816767",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-19T15:51:52Z",
      "updated_at": "2022-04-19T16:29:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 0b976a6dc0003898abaef14254f572b58f83926a\r\n\r\nSanity check:\r\n\r\nRunning `./src/bench/bench_bitcoin -filter=GCS*.*` on this branch (debug build and not tuned for benchmarking)\r\n```\r\n|             ns/elem |              elem/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|          179,394.67 |            5,574.30 |    0.5% |      0.01 | `GCSBlockFilterGetHash`\r\n|            3,376.66 |          296,150.75 |    2.1% |      0.38 | `GCSFilterConstruct`\r\n|        5,163,985.00 |              193.65 |    2.5% |      0.06 | `GCSFilterDecode`\r\n|            1,926.40 |          519,102.50 |    1.9% |      0.01 | `GCSFilterDecodeChecked`\r\n|          577,446.00 |            1,731.76 |    1.0% |      0.01 | `GCSFilterMatch`\r\n```\r\n\r\n<details><summary>and with the operative codebase changes reverted (diff)</summary><p>\r\n\r\n```diff\r\ndiff --git a/src/blockfilter.cpp b/src/blockfilter.cpp\r\nindex 08e2e6f72e..9d76d2b60e 100644\r\n--- a/src/blockfilter.cpp\r\n+++ b/src/blockfilter.cpp\r\n@@ -59,7 +59,7 @@ GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_fi\r\n     }\r\n     m_F = static_cast<uint64_t>(m_N) * static_cast<uint64_t>(m_params.m_M);\r\n \r\n-    if (filter_checked) return;\r\n+    // if (filter_checked) return;\r\n \r\n     // Verify that the encoded filter contains exactly N elements. If it has too much or too little\r\n     // data, a std::ios_base::failure exception will be raised.\r\ndiff --git a/src/index/blockfilterindex.cpp b/src/index/blockfilterindex.cpp\r\nindex 1471c29a85..f83b883c8f 100644\r\n--- a/src/index/blockfilterindex.cpp\r\n+++ b/src/index/blockfilterindex.cpp\r\n@@ -156,9 +156,6 @@ bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, const uint256&\r\n     std::vector<uint8_t> encoded_filter;\r\n     try {\r\n         filein >> block_hash >> encoded_filter;\r\n-        uint256 result;\r\n-        CHash256().Write(encoded_filter).Finalize(result);\r\n-        if (result != hash) return error(\"Checksum mismatch in filter decode.\");\r\n         filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter), /*filter_checked=*/true);\r\n```\r\n</p></details>\r\n\r\n...GCSFilterDecodeChecked is far slower and equivalent to GCSFilterDecode as expected\r\n\r\n```\r\n|             ns/elem |              elem/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|          165,774.17 |            6,032.30 |    0.5% |      0.01 | `GCSBlockFilterGetHash`\r\n|            3,775.71 |          264,850.84 |    0.5% |      0.42 | `GCSFilterConstruct`\r\n|        4,960,766.00 |              201.58 |    0.9% |      0.05 | `GCSFilterDecode`\r\n|        4,968,437.00 |              201.27 |    1.4% |      0.06 | `GCSFilterDecodeChecked`\r\n|          584,923.00 |            1,709.63 |    3.7% |      0.01 | `GCSFilterMatch`\r\n```\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1102816767",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6460479364,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGBExeE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6460479364",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-20T06:46:06Z"
    },
    {
      "event": "commented",
      "id": 1103531582,
      "node_id": "IC_kwDOABII585Bxo4-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103531582",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-20T06:48:58Z",
      "updated_at": "2022-04-20T07:24:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "> ACK [0b976a6](https://github.com/bitcoin/bitcoin/commit/0b976a6dc0003898abaef14254f572b58f83926a)\r\n\r\nThank you for the speedy review!\r\n\r\nI pushed 04008e2df6e2bac0cc92a2be05fec257a0fe7d7f on top of 0b976a6dc0003898abaef14254f572b58f83926a which does mostly what you did in https://github.com/jonatack/bitcoin/commits/remove-BlockFilter-Unserialize but it keeps the serialize/unserialize test in `src/test/blockfilter_tests.cpp` with the function\r\n\r\n```\r\ntemplate <typename Stream>\r\nstatic BlockFilter UnserializeBlockFilter(Stream& s) {\r\n    std::vector<unsigned char> encoded_filter;\r\n    uint8_t filter_type_uint8;\r\n    uint256 block_hash;\r\n\r\n    s >> filter_type_uint8\r\n      >> block_hash\r\n      >> encoded_filter;\r\n\r\n    BlockFilterType filter_type = static_cast<BlockFilterType>(filter_type_uint8);\r\n    BlockFilter block_filter(filter_type, block_hash, std::move(encoded_filter), /*filter_checked=*/false);\r\n    return block_filter;\r\n}\r\n```\r\n\r\nI think this is a good tradeoff between keeping the serialization in the unit tests but still keeping the maintenance overhead low.",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1103531582",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6460696447,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGBFmd_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6460696447",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-20T07:23:49Z"
    },
    {
      "event": "commented",
      "id": 1103570289,
      "node_id": "IC_kwDOABII585BxyVx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103570289",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-20T07:38:31Z",
      "updated_at": "2022-04-20T07:38:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Looks like you are removing the fuzz test as well?\r\n\r\n@MarcoFalke Ah my first instinct was to get rid of the entire test as `ConsumeDeserializable` would no longer be usable. I'll push a change with the fuzz tests kept in.",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1103570289",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "mentioned",
      "id": 6460790312,
      "node_id": "MEE_lADOABII585Hn5d9zwAAAAGBF9Yo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6460790312",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-20T07:38:31Z"
    },
    {
      "event": "subscribed",
      "id": 6460790323,
      "node_id": "SE_lADOABII585Hn5d9zwAAAAGBF9Yz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6460790323",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-20T07:38:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6468235379,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGBiXBz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6468235379",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-21T06:17:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6469258979,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGBmQ7j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6469258979",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-21T09:00:57Z"
    },
    {
      "event": "commented",
      "id": 1105547384,
      "node_id": "IC_kwDOABII585B5VB4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1105547384",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-21T18:00:35Z",
      "updated_at": "2022-04-21T18:05:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "@kcalvinalvin if you move BlockFilter::Unserialize() to the test code in this pull, it will be a smaller change as the first commit rather than last one, WDYT? Edit: maybe a first commit that adds the check in ReadFilterFromDisk() and rename the commit, then the one that moves Unserialize() to the test code.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1105547384",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "mentioned",
      "id": 6473055281,
      "node_id": "MEE_lADOABII585Hn5d9zwAAAAGB0vwx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6473055281",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-21T18:00:35Z"
    },
    {
      "event": "subscribed",
      "id": 6473055284,
      "node_id": "SE_lADOABII585Hn5d9zwAAAAGB0vw0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6473055284",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-21T18:00:35Z"
    },
    {
      "event": "commented",
      "id": 1106109321,
      "node_id": "IC_kwDOABII585B7eOJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1106109321",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T07:33:32Z",
      "updated_at": "2022-04-22T07:33:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "> @kcalvinalvin if you move BlockFilter::Unserialize() to the test code in this pull, it will be a smaller change as the first commit rather than last one, WDYT? Edit: maybe a first commit that adds the check in ReadFilterFromDisk() and rename the commit, then the one that moves Unserialize() to the test code.\r\n\r\nI'm ok with that if it'd lower the cost of reviewing. However, I'm thinking if the cost of reviewing would be even lower if I have commit 447174d208bc3fdd32874656344a736edf949e63 be in a separate PR. I'm sorta thinking maybe getting rid of `Unserialize()` and replacing `GolombRiceDecode()` check are two separate things. Let me know what you'd think would lower the cost of reviewing :)",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1106109321",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "mentioned",
      "id": 6476254643,
      "node_id": "MEE_lADOABII585Hn5d9zwAAAAGCA82z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6476254643",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T07:33:32Z"
    },
    {
      "event": "subscribed",
      "id": 6476254647,
      "node_id": "SE_lADOABII585Hn5d9zwAAAAGCA823",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6476254647",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T07:33:32Z"
    },
    {
      "event": "commented",
      "id": 1106147783,
      "node_id": "IC_kwDOABII585B7nnH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1106147783",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T08:10:33Z",
      "updated_at": "2022-04-22T08:10:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "@kcalvinalvin SGTM.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1106147783",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "mentioned",
      "id": 6476536291,
      "node_id": "MEE_lADOABII585Hn5d9zwAAAAGCCBnj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6476536291",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T08:10:33Z"
    },
    {
      "event": "subscribed",
      "id": 6476536300,
      "node_id": "SE_lADOABII585Hn5d9zwAAAAGCCBns",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6476536300",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T08:10:34Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6479959508,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGCPFXU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6479959508",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T16:03:08Z"
    },
    {
      "event": "commented",
      "id": 1106655107,
      "node_id": "IC_kwDOABII585B9jeD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1106655107",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-22T16:03:53Z",
      "updated_at": "2022-04-22T16:03:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Reverted remove the last commit. Latest commit is now back to 0b976a6dc0003898abaef14254f572b58f83926a. Will make a follow up PR after this one.",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1106655107",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "reviewed",
      "id": 956713527,
      "node_id": "PRR_kwDOABII5845Bko3",
      "url": null,
      "actor": null,
      "commit_id": "0b976a6dc0003898abaef14254f572b58f83926a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 0b976a6dc0003898abaef14254f572b58f83926a",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-956713527",
      "submitted_at": "2022-04-28T16:15:45Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "review_requested",
      "id": 6521126359,
      "node_id": "RRE_lADOABII585Hn5d9zwAAAAGEsH3X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6521126359",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T08:16:34Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIwYTUzZDUwZDkxNDJiZWQ1MWE4MzcyZWViODQ4ODE2YmZhOTRkYTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0a53d50d9142bed51a8372eeb848816bfa94da8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b0a53d50d9142bed51a8372eeb848816bfa94da8",
      "tree": {
        "sha": "daa64fb121e1a4d3993bae387fce7be9398417fc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/daa64fb121e1a4d3993bae387fce7be9398417fc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2b5a741e98f186e50d9fbe1ceadcc8b8c91547f7",
          "sha": "2b5a741e98f186e50d9fbe1ceadcc8b8c91547f7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2b5a741e98f186e50d9fbe1ceadcc8b8c91547f7"
        }
      ],
      "message": "Make sanity check in GCSFilter constructor optional\n\nBlockFilterIndex will perform the cheaper check of verifying the filter\nhash when reading the filter from disk.",
      "committer": {
        "name": "Calvin Kim",
        "email": "calvin@kcalvinalvin.info",
        "date": "2022-05-02T07:04:00Z"
      },
      "author": {
        "name": "Patrick Strateman",
        "email": "patrick.strateman@gmail.com",
        "date": "2020-06-15T00:14:34Z"
      },
      "sha": "b0a53d50d9142bed51a8372eeb848816bfa94da8"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6531479286,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGFTnb2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6531479286",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-02T07:10:20Z"
    },
    {
      "event": "reviewed",
      "id": 959515811,
      "node_id": "PRR_kwDOABII5845MQyj",
      "url": null,
      "actor": null,
      "commit_id": "b97685965c6646b3a8521eb49d1f79b03a1b473f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK b97685965c6646b3a8521eb49d1f79b03a1b473f. Just renamed `filter_checked` variable since last review (thanks!)",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-959515811",
      "submitted_at": "2022-05-02T20:12:46Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "review_request_removed",
      "id": 6538956282,
      "node_id": "RRRE_lADOABII585Hn5d9zwAAAAGFwI36",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6538956282",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-03T08:02:08Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 6538957534,
      "node_id": "RRE_lADOABII585Hn5d9zwAAAAGFwJLe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6538957534",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-03T08:02:23Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 960575842,
      "node_id": "PRR_kwDOABII5845QTli",
      "url": null,
      "actor": null,
      "commit_id": "b97685965c6646b3a8521eb49d1f79b03a1b473f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Diff-review-only ACK b97685965c6646b3a8521eb49d1f79b03a1b473f per `git diff 0b976a6 b976859`, only change since my previous full review at https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1102816767 is renaming the bool param added to ` GCSFilter()` from `filter_checked` to `skip_decode_check` -- this param is expected to go away in the planned follow-up commit 04008e2df6e2bac0cc92a2be05fec257a0fe7d7f to remove `BlockFilter::Unserialize()` ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-960575842",
      "submitted_at": "2022-05-03T15:35:32Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "reviewed",
      "id": 960887901,
      "node_id": "PRR_kwDOABII5845Rfxd",
      "url": null,
      "actor": null,
      "commit_id": "b97685965c6646b3a8521eb49d1f79b03a1b473f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-960887901",
      "submitted_at": "2022-05-03T20:30:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6568341681,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGHgPCx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6568341681",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-08T08:01:07Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6568527602,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGHg8by",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6568527602",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-08T11:19:40Z"
    },
    {
      "event": "commented",
      "id": 1120451428,
      "node_id": "IC_kwDOABII585CyLtk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1120451428",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-08T16:51:09Z",
      "updated_at": "2022-05-08T16:51:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK b32e96578182b9af3283c12829d080fc4bba2be4",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1120451428",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1121529552,
      "node_id": "IC_kwDOABII585C2S7Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121529552",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-09T20:11:43Z",
      "updated_at": "2022-05-09T20:11:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<details><summary>I'd like to propose this diff. Rationale: compare all operations on the same basis (per operation).</summary><p>\r\n\r\n```diff\r\n--- a/src/bench/gcs_filter.cpp\r\n+++ b/src/bench/gcs_filter.cpp\r\n@@ -5,10 +5,12 @@\r\n #include <bench/bench.h>\r\n #include <blockfilter.h>\r\n \r\n+static constexpr int NUM_ELEMENTS = 10'000;\r\n+\r\n static const GCSFilter::ElementSet GenerateGCSTestElements()\r\n {\r\n     GCSFilter::ElementSet elements;\r\n-    for (int i = 0; i < 10000; ++i) {\r\n+    for (int i = 0; i < NUM_ELEMENTS; ++i) {\r\n         GCSFilter::Element element(32);\r\n         element[0] = static_cast<unsigned char>(i);\r\n         element[1] = static_cast<unsigned char>(i >> 8);\r\n@@ -18,15 +20,27 @@ static const GCSFilter::ElementSet GenerateGCSTestElements()\r\n     return elements;\r\n }\r\n \r\n+static void GCSBlockFilterGetHash(benchmark::Bench& bench)\r\n+{\r\n+    auto elements = GenerateGCSTestElements();\r\n+\r\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\r\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded(), /*skip_decode_check=*/false);\r\n+\r\n+    bench.batch(NUM_ELEMENTS).run([&] {\r\n+        block_filter.GetHash();\r\n+    });\r\n+}\r\n+\r\n static void GCSFilterConstruct(benchmark::Bench& bench)\r\n {\r\n     auto elements = GenerateGCSTestElements();\r\n \r\n     uint64_t siphash_k0 = 0;\r\n-    bench.batch(elements.size()).unit(\"elem\").run([&] {\r\n+    bench.batch(NUM_ELEMENTS).run([&] {\r\n         GCSFilter filter({siphash_k0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\r\n \r\n-        siphash_k0++;\r\n+        ++siphash_k0;\r\n     });\r\n }\r\n \r\n@@ -37,7 +51,7 @@ static void GCSFilterDecode(benchmark::Bench& bench)\r\n     GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\r\n     auto encoded = filter.GetEncoded();\r\n \r\n-    bench.run([&] {\r\n+    bench.batch(NUM_ELEMENTS).run([&] {\r\n         GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, /*skip_decode_check=*/false);\r\n     });\r\n }\r\n@@ -49,35 +63,24 @@ static void GCSFilterDecodeChecked(benchmark::Bench& bench)\r\n     GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\r\n     auto encoded = filter.GetEncoded();\r\n \r\n-    bench.run([&] {\r\n+    bench.batch(NUM_ELEMENTS).run([&] {\r\n         GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, /*skip_decode_check=*/true);\r\n     });\r\n }\r\n \r\n-static void GCSFilterGetHash(benchmark::Bench& bench)\r\n-{\r\n-    auto elements = GenerateGCSTestElements();\r\n-\r\n-    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\r\n-    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded(), /*skip_decode_check=*/false);\r\n-\r\n-    bench.run([&] {\r\n-        block_filter.GetHash();\r\n-    });\r\n-}\r\n-\r\n static void GCSFilterMatch(benchmark::Bench& bench)\r\n {\r\n     auto elements = GenerateGCSTestElements();\r\n \r\n     GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\r\n \r\n-    bench.run([&] {\r\n+    bench.batch(NUM_ELEMENTS).run([&] {\r\n         filter.Match(GCSFilter::Element());\r\n     });\r\n }\r\n+\r\n+BENCHMARK(GCSBlockFilterGetHash);\r\n BENCHMARK(GCSFilterConstruct);\r\n BENCHMARK(GCSFilterDecode);\r\n BENCHMARK(GCSFilterDecodeChecked);\r\n-BENCHMARK(GCSFilterGetHash);\r\n BENCHMARK(GCSFilterMatch);\r\n```\r\n</p></details>\r\n\r\nOutput of last push\r\n\r\n```\r\n|             ns/elem |              elem/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|            2,257.12 |          443,042.46 |    3.1% |      0.25 | `GCSFilterConstruct`\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|        2,800,765.00 |              357.05 |    3.1% |      0.03 | `GCSFilterDecode`\r\n|            1,218.41 |          820,739.84 |   11.4% |      0.01 | `GCSFilterDecodeChecked`\r\n|           93,894.33 |           10,650.27 |    4.1% |      0.01 | `GCSFilterGetHash`\r\n|          315,092.00 |            3,173.68 |    2.7% |      0.01 | `GCSFilterMatch`\r\n```\r\n\r\nOutput with proposed diff\r\n\r\n```\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|                9.02 |      110,833,467.68 |    0.0% |      0.01 | `GCSBlockFilterGetHash`\r\n|            2,183.44 |          457,992.58 |    1.3% |      0.24 | `GCSFilterConstruct`\r\n|              264.56 |        3,779,922.34 |    1.7% |      0.03 | `GCSFilterDecode`\r\n|                0.11 |    9,386,117,464.60 |    1.6% |      0.01 | `GCSFilterDecodeChecked`\r\n|               30.60 |       32,684,901.21 |    1.6% |      0.01 | `GCSFilterMatch`\r\n```\r\n\r\nOther notes:\r\n\r\n- Could be wrong but it seems to me the `GCSBlockFilterGetHash` name is preferable, as that describes the particularity of that bench.\r\n- I'm indifferent to \"op\" or \"elem\"; \"op\" for all the benchmarks here is fine. ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1121529552",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1121625746,
      "node_id": "IC_kwDOABII585C2qaS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121625746",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-09T21:58:37Z",
      "updated_at": "2022-05-09T21:58:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Could be wrong but it seems to me the GCSBlockFilterGetHash name is preferable, as that describes the particularity of that bench.\r\n\r\nNo, you are right, I missed before that this benchmark is on the level of `BlockFilter`, whereas the others are on the level of `GCSFilter`, so I agree.\r\n\r\n> Rationale: compare all operations on the same basis (per operation).\r\n\r\n> I'm indifferent to \"op\" or \"elem\"; \"op\" for all the benchmarks here is fine.\r\n\r\nMy understanding of the bench framework (correct me if I'm wrong!) is that  `ns/op=10000` should be read such that one operation (whatever is inside of `run()`) takes 10000 ns on average.\r\nIf we then choose `.batch(NUM_ELEMENTS)`, we'd expect this number to be divided by NUM_ELEMENTS and thus go down to `ns/elem=1` on average. So this means that it takes 1ns to process 1 filter element (so using the default ns/op would be kind of misleading in combination with `.batch()`). \r\nFor this to make sense, there should be a linear relation between the custom unit (\"elements\") and the time, so if we used `.batch(NUM_ELEMENTS)` and set NUM_ELEMENTS=100,000 instead of 10,000  the benchmark results shouldn't change - which seems not really the case for some of the benchmarks here, at least locally for me.\r\nSo maybe using the default `ns/op` and no `.batch()` for each benchmark would be the best here? Does that make sense?\r\n\r\n",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1121625746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1121640854,
      "node_id": "IC_kwDOABII585C2uGW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121640854",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-09T22:21:24Z",
      "updated_at": "2022-05-09T22:21:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "I need to verify after tuning for benchmarking. My hypothesis (to be confirmed or not) is that `batch` appears to behave like a linear scale factor. I agree that it seems good to use `batch` for all of them (result per op) or for none (result per batched op) to make comparing intra-bench results more intuitive.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1121640854",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1121658072,
      "node_id": "IC_kwDOABII585C2yTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121658072",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-09T22:48:17Z",
      "updated_at": "2022-05-09T22:48:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "(Also to reverify: lower err% with `batch`?)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1121658072",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1122101493,
      "node_id": "IC_kwDOABII585C4ej1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1122101493",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-10T08:39:57Z",
      "updated_at": "2022-05-10T08:39:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Changing `NUM_ELEMENTS` to 100,000 from 10,000 results in different ns/elem with my untuned system. I'll try running the benchmark with a tuned system.",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1122101493",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1133270444,
      "node_id": "IC_kwDOABII585DjFWs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1133270444",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T19:46:48Z",
      "updated_at": "2022-05-20T19:46:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "# My system\r\n\r\nI got around to doing the benchmarks with a (sorta) tuned system. I wasn't able to achieve a completely stable benchmark system but the error rates are much lower now than before.\r\n\r\noutput of `sudo pyperf system`:\r\n```\r\n[I] calvin@bitcoin ~/b/c/l/bitcoin (2020-06-14-blockfilterindex-checksums) [1]> sudo pyperf system\r\nShow the system configuration\r\n\r\nSystem state\r\n============\r\n\r\nCPU: use 6 logical CPUs: 0-5\r\nPerf event: Maximum sample rate: 1 per second\r\nASLR: Full randomization\r\nLinux scheduler: Isolated CPUs (6/12): 0-5\r\nLinux scheduler: RCU disabled on CPUs (6/12): 0-5\r\nCPU Frequency: 0-5=min=max=3600 MHz; 6-11=min=2200 MHz, max=3600 MHz\r\nIRQ affinity: irqbalance service: inactive\r\nIRQ affinity: Default IRQ affinity: CPU 6-11\r\nIRQ affinity: IRQ affinity: IRQ 0,2=CPU 0-11; IRQ 1,3-15,25,40-41,73,75,77-78,80-89,91,93=CPU 6-11; IRQ 42,57=CPU 0; IRQ 43,58=CPU 1; IRQ 44,59=CPU 2; IRQ 45,60=CPU 3; IRQ 46,61=CPU 4; IRQ 47,62=CPU 5; IRQ 48,63=CPU 6; IRQ 49,64=CPU 7; IRQ 50,65=CPU 8; IRQ 51,66=CPU 9; IRQ 52,67=CPU 10; IRQ 53,68=CPU 11; IRQ 54-56,69-72=CPU None\r\n\r\nWarnings\r\n========\r\n\r\nTurbo Boost (MSR): Failed to read MSR 0x1a0 from /dev/cpu/0/msr: [Errno 5] Input/output error\r\n\r\nOK! System ready for benchmarking\r\n```\r\n\r\nFor some reason pyperf doesn't seem to recognize amd cpus with boost turned off. Boost is manually turned off by writing 0 to /sys/devices/system/cpu/cpufreq/boost.\r\n\r\n`cat /sys/devices/system/cpu/cpufreq/boost` output:\r\n```\r\n[N] calvin@bitcoin ~/b/c/l/bitcoin (2020-06-14-blockfilterindex-checksums)> cat /sys/devices/system/cpu/cpufreq/boost\r\n0\r\n```\r\n\r\nI get this output when running the benchmarks:\r\n```\r\nWarning, results might be unstable:\r\n* CPU frequency scaling enabled: CPU 6 between 2,200.0 and 3,600.0 MHz\r\n* Turbo is enabled, CPU frequency will fluctuate\r\n\r\nRecommendations\r\n* Use 'pyperf system tune' before benchmarking. See https://github.com/psf/pyperf\r\n```\r\nBut I believe pyperf only uses the cpus that are isolated from the kernel scheduler so I believe the warning will not affect the benchmarks. I double checked and also isolated CPU 6 and pyperf repeated the same warning with CPU 7 so I think it's ok. Pyperf also doesn't support turning off boost for [amd cpus](https://github.com/psf/pyperf/issues/120) so I believe that warning is an error by pyperf.\r\n\r\n# Benchmarks\r\n\r\nI tested to see if the results would be linear across many different `NUM_ELEMENT`s. Since the original benchmarks were done with 10,000, I took powers of 10 for the `NUM_ELEMENT`s for my test, ranging from 1-100,000,000.\r\n\r\nThe benchmarks were done with batching and without batching. The batched test resulted in a graph like so:\r\n\r\n![results_from_benchmarks_ns-elem](https://user-images.githubusercontent.com/37185887/169595920-c68b1373-0f7d-4799-8c5f-c421fc1467ff.png)\r\n\r\nThe tests done without batching resulted in a graph like so:\r\n\r\n![results_from_benchmarks_ns-op](https://user-images.githubusercontent.com/37185887/169595980-a78ae29a-93e0-4909-933e-0d43f152b8f4.png)\r\n\r\nFrom these benchmarks, you can see that there is a linear relation between the custom unit (\"elements\") and the time once you have 100,000 elements. Anything below 100,000 doesn't result in a linear relation.\r\n\r\n`ns/elem` is easier to read than `ns/op` since 9.7million is kinda hard to read. However, you can also take a look at `op/s` which is just as easy to read as `ns/elem`. Here's a graph without batch with `op/s` instead of `ns/op`.\r\n\r\n![results_from_benchmarks_op-s](https://user-images.githubusercontent.com/37185887/169598934-e31d957d-9901-48e5-9867-5b49674843ec.png)\r\n\r\n# Error rates with and without batch\r\n\r\nI also graphed how the error rates compare between calling batch and not calling batch.\r\n\r\n![error_rates_for_benchmarks](https://user-images.githubusercontent.com/37185887/169596271-df172ec1-83c9-42a1-9b66-0da8ee6157ec.png)\r\n\r\nAverage error rate in % with batch:       `0.38888888888888884`\r\nAverage error rate in % without batch: `0.4`\r\n\r\nCalling batch doesn't seem to effect the error rates in my testing.\r\n\r\n# My takeaway\r\n\r\n- Lower `NUM_ELEMENT` count seem to result in ns/elem that's same for different `NUM_ELEMENT` values. Needs a minimum of 100,000 elements.\r\n- It'd be better to unify everything under `ns/op` as batch doesn't provide any less error rates.\r\n\r\n[txt file for the raw benchmark results](https://github.com/bitcoin/bitcoin/files/8743561/raw-benchmark-num.txt)",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1133270444",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI5OTAyM2MxZDk5NjI2MjhkMTU4ZmFjMDMwNmY4NTMxNTA2YTAxMjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/299023c1d9962628d158fac0306f8531506a0123",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/299023c1d9962628d158fac0306f8531506a0123",
      "tree": {
        "sha": "af3d782c3e83cc378a5d7ac8eccc104d8c0ea9eb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/af3d782c3e83cc378a5d7ac8eccc104d8c0ea9eb"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0a53d50d9142bed51a8372eeb848816bfa94da8",
          "sha": "b0a53d50d9142bed51a8372eeb848816bfa94da8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b0a53d50d9142bed51a8372eeb848816bfa94da8"
        }
      ],
      "message": "Add GCSFilterDecode and GCSBlockFilterGetHash benchmarks.\n\nAll of the benchmarks are standardized on the BASIC filter parameters\nso we can compare between all the benchmarks. All the GCS\nbenchmarks are renamed to have \"GCS\" as the prefix.",
      "committer": {
        "name": "Calvin Kim",
        "email": "calvin@kcalvinalvin.info",
        "date": "2022-05-22T04:46:26Z"
      },
      "author": {
        "name": "Patrick Strateman",
        "email": "patrick.strateman@gmail.com",
        "date": "2020-06-15T16:30:22Z"
      },
      "sha": "299023c1d9962628d158fac0306f8531506a0123"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFlZTlhODE0MGIzYTU4Yjc0NDc2NmY5ZTg5NTcyZjFkOTUzYTgwOGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aee9a8140b3a58b744766f9e89572f1d953a808b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aee9a8140b3a58b744766f9e89572f1d953a808b",
      "tree": {
        "sha": "6c81ed8e333c4fc17e11ab7d4cde8a8fa668a833",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c81ed8e333c4fc17e11ab7d4cde8a8fa668a833"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/299023c1d9962628d158fac0306f8531506a0123",
          "sha": "299023c1d9962628d158fac0306f8531506a0123",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/299023c1d9962628d158fac0306f8531506a0123"
        }
      ],
      "message": "Add GCSFilterDecodeSkipCheck benchmark\n\nThis benchmark allows us to compare the differences between doing the\nsanity check for corruption via GolombRiceDecode() vs checking the hash\nof the encoded block filter.",
      "committer": {
        "name": "Calvin Kim",
        "email": "calvin@kcalvinalvin.info",
        "date": "2022-05-22T05:00:41Z"
      },
      "author": {
        "name": "Patrick Strateman",
        "email": "patrick.strateman@gmail.com",
        "date": "2020-06-15T23:41:18Z"
      },
      "sha": "aee9a8140b3a58b744766f9e89572f1d953a808b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU3MzQyMjhkODU4NWMwODcwYzcxY2U4YmE4YzAzN2Y4Y2Y4YjI0OWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "tree": {
        "sha": "b0dd6a4d8cf9c031ab30134b234927ef313d23ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b0dd6a4d8cf9c031ab30134b234927ef313d23ae"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aee9a8140b3a58b744766f9e89572f1d953a808b",
          "sha": "aee9a8140b3a58b744766f9e89572f1d953a808b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aee9a8140b3a58b744766f9e89572f1d953a808b"
        }
      ],
      "message": "Update GCSFilter benchmarks\n\nElement count used in the GCSFilter benchmarks are increased to 100,000\nfrom 10,000. Testing the benchmarks with different element counts showed\nthat a filter with 100,000 elements resulted in the same ns/op. This\nthis a desirable thing to have as it allows us to reason about how long\na single filter element takes to process, letting us easily calculate\nhow long a filter with N elements (where N > 100,000) would take to\nprocess.\n\nGCSFilterConstruct benchmark is now called without batch. This makes\nintra-bench results more intuitive as all benchmarks are in ns/op\ninstead of a custom unit. There are no downsides to this change as\ntesting showed that there is no observable difference in error rates\nin the benchmarks when calling without batch.",
      "committer": {
        "name": "Calvin Kim",
        "email": "calvin@kcalvinalvin.info",
        "date": "2022-05-22T05:17:15Z"
      },
      "author": {
        "name": "Calvin Kim",
        "email": "calvin@kcalvinalvin.info",
        "date": "2022-05-22T05:17:15Z"
      },
      "sha": "e734228d8585c0870c71ce8ba8c037f8cf8b249a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6655692241,
      "node_id": "HRFPE_lADOABII585Hn5d9zwAAAAGMtc3R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6655692241",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-22T05:28:19Z"
    },
    {
      "event": "commented",
      "id": 1133823145,
      "node_id": "IC_kwDOABII585DlMSp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1133823145",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-22T05:42:19Z",
      "updated_at": "2022-05-22T05:42:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "4 things changed in the latest push:\r\n\r\n1. Renamed the `GCSFilterGetHash` benchmark back to `GCSBlockFilterGetHash`.\r\n2. Renamed `GCSFilterDecodeChecked` to `GCSFilterDecodeSkipCheck` as `filter_checked` argument was renamed to `skip_decode_check`. Changing the name of the benchmark as well seemed fitting.\r\n3. Added a commit where `GenerateGCSTestElements` generates 100,000 elements instead of 10,000. The reasoning was based off of my findings in testing the benchmarks. I've included an explanation in the code as a comment and in the commit message.\r\n4. In the same added commit, I've changed the `GCSFilterConstruct` to be called without batch and the custom unit. This was done as it makes comparing intra-bench results more intuitive. Calling with batch didn't result in lower error rates either so there were no tradeoffs made.",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1133823145",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "review_requested",
      "id": 6700399699,
      "node_id": "RRE_lADOABII585Hn5d9zwAAAAGPX_xT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6700399699",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-30T07:10:34Z",
      "requested_reviewer": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 6700400526,
      "node_id": "RRE_lADOABII585Hn5d9zwAAAAGPX_-O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6700400526",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-30T07:10:43Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 991131449,
      "node_id": "PRR_kwDOABII5847E3c5",
      "url": null,
      "actor": null,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code Review ACK e734228d8585c0870c71ce8ba8c037f8cf8b249a\r\n\r\nI'm not sure if it really matters a lot how big we choose the number of elements used in the test, I just think that if we pick custom measure other than \"ops\", the benchmark should be linear in that - so I like that everything uses `ns/op` now.\r\nIn any case, the important feature of this PR is the improvement of the filter verification.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-991131449",
      "submitted_at": "2022-05-31T20:44:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-26T19:05:47Z",
      "updated_at": "2022-06-26T19:05:47Z",
      "source": {
        "issue": {
          "id": 1285005014,
          "node_id": "PR_kwDOCxEqnM46YAkT",
          "url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/523",
          "repository_url": "https://api.github.com/repos/bitcoin-core-review-club/website",
          "labels_url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/523/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/523/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/523/events",
          "html_url": "https://github.com/bitcoin-core-review-club/website/pull/523",
          "number": 523,
          "state": "closed",
          "state_reason": null,
          "title": "24832 add post",
          "body": "Added post for [\"#24832: Verify the block filter hash when reading the filter from disk.\"](https://github.com/bitcoin/bitcoin/pull/24832)",
          "user": {
            "login": "stickies-v",
            "id": 69010457,
            "node_id": "MDQ6VXNlcjY5MDEwNDU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stickies-v",
            "html_url": "https://github.com/stickies-v",
            "followers_url": "https://api.github.com/users/stickies-v/followers",
            "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
            "organizations_url": "https://api.github.com/users/stickies-v/orgs",
            "repos_url": "https://api.github.com/users/stickies-v/repos",
            "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stickies-v/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core-review-club/website/pulls/523",
            "html_url": "https://github.com/bitcoin-core-review-club/website/pull/523",
            "diff_url": "https://github.com/bitcoin-core-review-club/website/pull/523.diff",
            "patch_url": "https://github.com/bitcoin-core-review-club/website/pull/523.patch"
          },
          "closed_at": "2022-06-27T09:22:56Z",
          "created_at": "2022-06-26T19:05:47Z",
          "updated_at": "2022-06-28T14:15:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1173829072,
      "node_id": "IC_kwDOABII585F9zXQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1173829072",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-04T13:33:36Z",
      "updated_at": "2022-07-04T13:33:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1173829072",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "reviewed",
      "id": 1029929514,
      "node_id": "PRR_kwDOABII5849Y3oq",
      "url": null,
      "actor": null,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code-review ACK e734228d8585c0870c71ce8ba8c037f8cf8b249a\r\n\r\nFWIW, this are the benchmark results on my machine:\r\n```\r\n$ ./src/bench/bench_bitcoin -filter=GCS.*\r\n```\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|          719,504.00 |            1,389.85 |    2.4% |      0.01 | `GCSBlockFilterGetHash`\r\n|       28,431,064.00 |               35.17 |    4.0% |      0.31 | `GCSFilterConstruct`\r\n|        3,641,177.00 |              274.64 |    3.4% |      0.04 | `GCSFilterDecode`\r\n|           13,994.04 |           71,458.99 |    1.5% |      0.01 | `GCSFilterDecodeSkipCheck`\r\n|          424,500.50 |            2,355.71 |    2.2% |      0.01 | `GCSFilterMatch`\r\n",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-1029929514",
      "submitted_at": "2022-07-06T11:23:49Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "review_requested",
      "id": 6942229434,
      "node_id": "RRE_lADOABII585Hn5d9zwAAAAGdygO6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6942229434",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-06T12:09:27Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1017806586,
      "node_id": "PRR_kwDOABII5848qn76",
      "url": null,
      "actor": null,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK e734228d8585c0870c71ce8ba8c037f8cf8b249a\r\n\r\nNon-controversial and significant performance improvement when loading block filters from disk, which can be a frequent process depending on peers or RPC users. I've left some style/readability suggestions but none of them are blocking for me.\r\n\r\nIf `BlockFilter::Unserialize()` is removed in a follow up, further code cleanup is possible by removing the `skip_decode_check` parameter and the check branch.\r\n\r\n`$ ./src/bench/bench_bitcoin -filter=GCS.*`\r\nyields\r\n```\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|          766,333.00 |            1,304.92 |    0.8% |      0.01 | `GCSBlockFilterGetHash`\r\n|       60,891,167.00 |               16.42 |    0.3% |      0.67 | `GCSFilterConstruct`\r\n|       15,802,125.00 |               63.28 |    0.3% |      0.17 | `GCSFilterDecode`\r\n|        1,697,875.00 |              588.97 |    0.2% |      0.02 | `GCSFilterDecodeSkipCheck`\r\n|        1,687,000.00 |              592.77 |    0.1% |      0.02 | `GCSFilterMatch`\r\n```\r\n\r\n",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-1017806586",
      "submitted_at": "2022-07-06T16:10:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "reviewed",
      "id": 1031868063,
      "node_id": "PRR_kwDOABII5849gQ6f",
      "url": null,
      "actor": null,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK e734228d8585c0870c71ce8ba8c037f8cf8b249a, with caveat that I mostly paid attention to the main code, not the changes to the benchmark. Only changes since last review were changes to the benchmark code.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#pullrequestreview-1031868063",
      "submitted_at": "2022-07-07T16:34:54Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
    },
    {
      "event": "commented",
      "id": 1177933643,
      "node_id": "IC_kwDOABII585GNddL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1177933643",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-07T16:59:16Z",
      "updated_at": "2022-07-07T16:59:16Z",
      "author_association": "MEMBER",
      "body": "@stickies-v maybe you'd like to follow up here?",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1177933643",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "mentioned",
      "id": 6953688974,
      "node_id": "MEE_lADOABII585Hn5d9zwAAAAGeeN-O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6953688974",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-07T16:59:17Z"
    },
    {
      "event": "subscribed",
      "id": 6953688983,
      "node_id": "SE_lADOABII585Hn5d9zwAAAAGeeN-X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6953688983",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-07T16:59:17Z"
    },
    {
      "event": "merged",
      "id": 6953689206,
      "node_id": "ME_lADOABII585Hn5d9zwAAAAGeeOB2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6953689206",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5abbc9afec1874efe139ccdc988b4ae122aa472c",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5abbc9afec1874efe139ccdc988b4ae122aa472c",
      "created_at": "2022-07-07T16:59:18Z"
    },
    {
      "event": "closed",
      "id": 6953689229,
      "node_id": "CE_lADOABII585Hn5d9zwAAAAGeeOCN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6953689229",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-07T16:59:18Z"
    },
    {
      "event": "commented",
      "id": 1177938468,
      "node_id": "IC_kwDOABII585GNeok",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1177938468",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-07T17:02:52Z",
      "updated_at": "2022-07-07T17:02:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "If someone follows up, this comment and patch might be useful: https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1099200439",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1177938468",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "commented",
      "id": 1177946125,
      "node_id": "IC_kwDOABII585GNggN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1177946125",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-07T17:08:46Z",
      "updated_at": "2022-07-07T17:08:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "I have working code here: https://github.com/kcalvinalvin/bitcoin/commits/2020-06-14-blockfilterindex-checksums-2. I'll make a follow up PR",
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1177946125",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "referenced",
      "id": 6961988661,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGe94Q1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6961988661",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a42480f022243902ebeb07a0f2e36cf0588455ea",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/a42480f022243902ebeb07a0f2e36cf0588455ea",
      "created_at": "2022-07-08T18:20:11Z"
    },
    {
      "event": "referenced",
      "id": 7017441118,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGiRade",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7017441118",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f5563da6836433a08438893c77bd87028e4b026c",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/f5563da6836433a08438893c77bd87028e4b026c",
      "created_at": "2022-07-19T05:12:59Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-19T05:16:44Z",
      "updated_at": "2022-07-19T05:16:44Z",
      "source": {
        "issue": {
          "id": 1308990693,
          "node_id": "PR_kwDOABII5847n5vP",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25637",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25637/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25637/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25637/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25637",
          "number": 25637,
          "state": "closed",
          "state_reason": null,
          "title": "index: Remove unused BlockFilter::Unserialize()",
          "body": "BlockFilter::Unserialize is only used in the test code. Moving it to\r\nthe tests allows for the removal of the optional sanity check in the\r\nGCSFilter and BlockFilter constructor, resulting in simpler code.\r\n\r\nThis is a follow up to #24832.",
          "user": {
            "login": "kcalvinalvin",
            "id": 37185887,
            "node_id": "MDQ6VXNlcjM3MTg1ODg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kcalvinalvin",
            "html_url": "https://github.com/kcalvinalvin",
            "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
            "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
            "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
            "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
            "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25637",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25637",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25637.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25637.patch"
          },
          "closed_at": "2022-10-15T14:27:55Z",
          "created_at": "2022-07-19T05:16:44Z",
          "updated_at": "2022-10-15T14:29:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 7070563689,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGlcD1p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7070563689",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "32953718a3fb8e2f298b99e1a2ee72af1ea5be8c",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/32953718a3fb8e2f298b99e1a2ee72af1ea5be8c",
      "created_at": "2022-07-27T07:50:23Z"
    },
    {
      "event": "commented",
      "id": 1196795989,
      "node_id": "IC_kwDOABII585HVahV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1196795989",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-27T13:56:09Z",
      "updated_at": "2022-07-27T13:56:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Post-merge re-ACK e734228d8585c0870c71ce8ba8c037f8cf8b249a, thanks for updating.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#issuecomment-1196795989",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24832"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-05T12:02:34Z",
      "updated_at": "2022-08-05T12:02:34Z",
      "source": {
        "issue": {
          "id": 1329848049,
          "node_id": "PR_kwDODDoCfc48tqlg",
          "url": "https://api.github.com/repos/kcalvinalvin/bitcoin/issues/2",
          "repository_url": "https://api.github.com/repos/kcalvinalvin/bitcoin",
          "labels_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/issues/2/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/issues/2/comments",
          "events_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/issues/2/events",
          "html_url": "https://github.com/kcalvinalvin/bitcoin/pull/2",
          "number": 2,
          "state": "closed",
          "state_reason": null,
          "title": "index: Remove unused BlockFilter::Unserialize()",
          "body": "BlockFilter::Unserialize is only used in the test code. Moving it to\r\nthe tests allows for the removal of the optional sanity check in the\r\nGCSFilter and BlockFilter constructor, resulting in simpler code.\r\n\r\nThis is a follow up to #24832.\r\n\r\n<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
          "user": {
            "login": "kcalvinalvin",
            "id": 37185887,
            "node_id": "MDQ6VXNlcjM3MTg1ODg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kcalvinalvin",
            "html_url": "https://github.com/kcalvinalvin",
            "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
            "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
            "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
            "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
            "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "OWNER",
          "locked": false,
          "comments": 0,
          "pull_request": {
            "url": "https://api.github.com/repos/kcalvinalvin/bitcoin/pulls/2",
            "html_url": "https://github.com/kcalvinalvin/bitcoin/pull/2",
            "diff_url": "https://github.com/kcalvinalvin/bitcoin/pull/2.diff",
            "patch_url": "https://github.com/kcalvinalvin/bitcoin/pull/2.patch"
          },
          "closed_at": "2022-10-31T14:55:00Z",
          "created_at": "2022-08-05T12:02:34Z",
          "updated_at": "2022-10-31T14:55:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 7135386099,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGpTVnz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7135386099",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "727648a515eafc8c3eeccc66d0b6b139323675ff",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/727648a515eafc8c3eeccc66d0b6b139323675ff",
      "created_at": "2022-08-05T12:02:50Z"
    },
    {
      "event": "referenced",
      "id": 7135539870,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGpT7Ke",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7135539870",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ac4bf1ec5d04c40c17dd35e0d39d775bab46c0a6",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/ac4bf1ec5d04c40c17dd35e0d39d775bab46c0a6",
      "created_at": "2022-08-05T12:28:37Z"
    },
    {
      "event": "referenced",
      "id": 7137246632,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGpab2o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7137246632",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1204e3d4d35a1adf7e2160f29b604bb1ba1ac899",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/1204e3d4d35a1adf7e2160f29b604bb1ba1ac899",
      "created_at": "2022-08-05T16:44:13Z"
    },
    {
      "event": "referenced",
      "id": 7285193841,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGyOzxx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7285193841",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9b87854cf48d90118e1e552800b6cd1aad04ad0b",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/9b87854cf48d90118e1e552800b6cd1aad04ad0b",
      "created_at": "2022-08-30T08:32:38Z"
    },
    {
      "event": "referenced",
      "id": 7293397194,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGyuGjK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7293397194",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "51fd464150b93e047af64ffa174e51e7d8256db9",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/51fd464150b93e047af64ffa174e51e7d8256db9",
      "created_at": "2022-08-31T06:07:59Z"
    },
    {
      "event": "referenced",
      "id": 7293752085,
      "node_id": "REFE_lADOABII585Hn5d9zwAAAAGyvdMV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7293752085",
      "actor": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "07fdd10ca1d0bd2bc1d2756f1bc2c069ae97c45a",
      "commit_url": "https://api.github.com/repos/kcalvinalvin/bitcoin/commits/07fdd10ca1d0bd2bc1d2756f1bc2c069ae97c45a",
      "created_at": "2022-08-31T07:11:37Z"
    },
    {
      "event": "locked",
      "id": 9933999342,
      "node_id": "LOE_lADOABII585Hn5d9zwAAAAJQHMzu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9933999342",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-27T10:17:06Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848324441",
      "pull_request_review_id": 939386764,
      "id": 848324441,
      "node_id": "PRRC_kwDOABII584ykGdZ",
      "diff_hunk": "@@ -59,9 +59,11 @@ GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_fi\n     }\n     m_F = static_cast<uint64_t>(m_N) * static_cast<uint64_t>(m_params.m_M);\n \n+    if (filter_checked) return;\n+\n     // Verify that the encoded filter contains exactly N elements. If it has too much or too little\n     // data, a std::ios_base::failure exception will be raised.\n-    BitStreamReader<SpanReader> bitreader{stream};\n+    BitStreamReader<SpanReader> bitreader(stream);",
      "path": "src/blockfilter.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "294a8454e4e179ec011b612a2d29a99a659390a9",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No need to change this.",
      "created_at": "2022-04-12T11:26:03Z",
      "updated_at": "2022-04-12T11:45:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r848324441",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848324441"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848374073",
      "pull_request_review_id": 939456819,
      "id": 848374073,
      "node_id": "PRRC_kwDOABII584ykSk5",
      "diff_hunk": "@@ -59,9 +59,11 @@ GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_fi\n     }\n     m_F = static_cast<uint64_t>(m_N) * static_cast<uint64_t>(m_params.m_M);\n \n+    if (filter_checked) return;\n+\n     // Verify that the encoded filter contains exactly N elements. If it has too much or too little\n     // data, a std::ios_base::failure exception will be raised.\n-    BitStreamReader<SpanReader> bitreader{stream};\n+    BitStreamReader<SpanReader> bitreader(stream);",
      "path": "src/blockfilter.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "294a8454e4e179ec011b612a2d29a99a659390a9",
      "in_reply_to_id": 848324441,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Reverted",
      "created_at": "2022-04-12T12:24:51Z",
      "updated_at": "2022-04-12T12:24:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r848374073",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848374073"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848583244",
      "pull_request_review_id": 939759636,
      "id": 848583244,
      "node_id": "PRRC_kwDOABII584ylFpM",
      "diff_hunk": "@@ -31,7 +31,7 @@ class BlockFilterIndex final : public BaseIndex\n     FlatFilePos m_next_filter_pos;\n     std::unique_ptr<FlatFileSeq> m_filter_fileseq;\n \n-    bool ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter) const;\n+    bool ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter, const uint256& hash) const;",
      "path": "src/index/blockfilterindex.h",
      "position": null,
      "original_position": 5,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It might be nice to order the ReadFilterFromDisk() arguments with in-params first, then the out-param. There are only four lines to change of the ones touched in this pull.\r\n```suggestion\r\n    bool ReadFilterFromDisk(const FlatFilePos& pos, const uint256& hash, BlockFilter& filter) const;\r\n```",
      "created_at": "2022-04-12T15:36:52Z",
      "updated_at": "2022-04-12T16:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r848583244",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848583244"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848647240",
      "pull_request_review_id": 939759636,
      "id": 848647240,
      "node_id": "PRRC_kwDOABII584ylVRI",
      "diff_hunk": "@@ -32,12 +32,65 @@ static void MatchGCSFilter(benchmark::Bench& bench)\n         element[1] = static_cast<unsigned char>(i >> 8);\n         elements.insert(std::move(element));\n     }\n-    GCSFilter filter({0, 0, 20, 1 << 20}, elements);\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n \n     bench.unit(\"elem\").run([&] {\n         filter.Match(GCSFilter::Element());\n     });\n }\n \n+static void DecodeGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\n+    });\n+}\n+\n+static void BlockFilterGetHash(benchmark::Bench& bench)",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 38,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It would be handy to name all of these benchmarks with a common prefix to group them together in the output and that is easy to filter for, i.e. `./src/bench/bench_bitcoin -filter=EvictionProtection*.*`",
      "created_at": "2022-04-12T16:39:56Z",
      "updated_at": "2022-04-12T16:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r848647240",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848647240"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848648411",
      "pull_request_review_id": 939759636,
      "id": 848648411,
      "node_id": "PRRC_kwDOABII584ylVjb",
      "diff_hunk": "@@ -32,12 +32,65 @@ static void MatchGCSFilter(benchmark::Bench& bench)\n         element[1] = static_cast<unsigned char>(i >> 8);\n         elements.insert(std::move(element));\n     }\n-    GCSFilter filter({0, 0, 20, 1 << 20}, elements);\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n \n     bench.unit(\"elem\").run([&] {\n         filter.Match(GCSFilter::Element());\n     });\n }\n \n+static void DecodeGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\n+    });\n+}\n+\n+static void BlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Optional: it looks like there is a fair amount of duplicate boilerplate in each of these benchmarks that you could extract out to a common setup helper in a separate commit, if you like. See  `EvictionProtectionCommon()` in `src/bench/peer_eviction.cpp` for an example. \r\n",
      "created_at": "2022-04-12T16:41:18Z",
      "updated_at": "2022-04-12T16:53:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r848648411",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848648411"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848649454",
      "pull_request_review_id": 939759636,
      "id": 848649454,
      "node_id": "PRRC_kwDOABII584ylVzu",
      "diff_hunk": "@@ -59,7 +59,7 @@ class GCSFilter\n     explicit GCSFilter(const Params& params = Params());\n \n     /** Reconstructs an already-created filter from an encoding. */\n-    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter);\n+    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked=false);",
      "path": "src/blockfilter.h",
      "position": null,
      "original_position": 5,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Clang format for each of these defaults\r\n```suggestion\r\n    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked = false);\r\n```",
      "created_at": "2022-04-12T16:42:34Z",
      "updated_at": "2022-04-12T16:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r848649454",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848649454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848658548",
      "pull_request_review_id": 939865436,
      "id": 848658548,
      "node_id": "PRRC_kwDOABII584ylYB0",
      "diff_hunk": "@@ -32,12 +32,65 @@ static void MatchGCSFilter(benchmark::Bench& bench)\n         element[1] = static_cast<unsigned char>(i >> 8);\n         elements.insert(std::move(element));\n     }\n-    GCSFilter filter({0, 0, 20, 1 << 20}, elements);\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n \n     bench.unit(\"elem\").run([&] {\n         filter.Match(GCSFilter::Element());\n     });\n }\n \n+static void DecodeGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\n+    });\n+}\n+\n+static void BlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded());\n+\n+    bench.unit(\"elem\").run([&] {\n+        block_filter.GetHash();\n+    });\n+}\n+\n+static void DecodeCheckedGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, true);",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 68,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, /*filter_checked=*/true);\r\n```",
      "created_at": "2022-04-12T16:53:00Z",
      "updated_at": "2022-04-12T16:53:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r848658548",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/848658548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849663386",
      "pull_request_review_id": 941231100,
      "id": 849663386,
      "node_id": "PRRC_kwDOABII584ypNWa",
      "diff_hunk": "@@ -32,12 +32,65 @@ static void MatchGCSFilter(benchmark::Bench& bench)\n         element[1] = static_cast<unsigned char>(i >> 8);\n         elements.insert(std::move(element));\n     }\n-    GCSFilter filter({0, 0, 20, 1 << 20}, elements);\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n \n     bench.unit(\"elem\").run([&] {\n         filter.Match(GCSFilter::Element());\n     });\n }\n \n+static void DecodeGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\n+    });\n+}\n+\n+static void BlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": 848648411,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since most of the duplicate code is just generating  the elements, how's separating that out to a function like so:\r\n\r\n```\r\nstatic const GCSFilter::ElementSet GenerateGCSTestElements()\r\n{\r\n    GCSFilter::ElementSet elements;\r\n    for (int i = 0; i < 10000; ++i) {\r\n        GCSFilter::Element element(32);\r\n        element[0] = static_cast<unsigned char>(i);\r\n        element[1] = static_cast<unsigned char>(i >> 8);\r\n        elements.insert(std::move(element));\r\n    }\r\n\r\n    return elements;\r\n}\r\n```\r\n\r\nAnd having each of the benchmarks call that function?",
      "created_at": "2022-04-13T16:12:09Z",
      "updated_at": "2022-04-14T08:43:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r849663386",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849663386"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850205253",
      "pull_request_review_id": 941951491,
      "id": 850205253,
      "node_id": "PRRC_kwDOABII584yrRpF",
      "diff_hunk": "@@ -32,12 +32,65 @@ static void MatchGCSFilter(benchmark::Bench& bench)\n         element[1] = static_cast<unsigned char>(i >> 8);\n         elements.insert(std::move(element));\n     }\n-    GCSFilter filter({0, 0, 20, 1 << 20}, elements);\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n \n     bench.unit(\"elem\").run([&] {\n         filter.Match(GCSFilter::Element());\n     });\n }\n \n+static void DecodeGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\n+    });\n+}\n+\n+static void BlockFilterGetHash(benchmark::Bench& bench)",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 38,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": 848647240,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "All the GCSFIlter benchmarks are now changed to have the prefix `GCSFilter`.",
      "created_at": "2022-04-14T08:23:56Z",
      "updated_at": "2022-04-14T08:23:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r850205253",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850205253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850220714",
      "pull_request_review_id": 941972901,
      "id": 850220714,
      "node_id": "PRRC_kwDOABII584yrVaq",
      "diff_hunk": "@@ -32,12 +32,65 @@ static void MatchGCSFilter(benchmark::Bench& bench)\n         element[1] = static_cast<unsigned char>(i >> 8);\n         elements.insert(std::move(element));\n     }\n-    GCSFilter filter({0, 0, 20, 1 << 20}, elements);\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n \n     bench.unit(\"elem\").run([&] {\n         filter.Match(GCSFilter::Element());\n     });\n }\n \n+static void DecodeGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\n+    });\n+}\n+\n+static void BlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded());\n+\n+    bench.unit(\"elem\").run([&] {\n+        block_filter.GetHash();\n+    });\n+}\n+\n+static void DecodeCheckedGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded, true);",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 68,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": 848658548,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Addressed",
      "created_at": "2022-04-14T08:42:04Z",
      "updated_at": "2022-04-14T08:42:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r850220714",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850220714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850221337",
      "pull_request_review_id": 941973745,
      "id": 850221337,
      "node_id": "PRRC_kwDOABII584yrVkZ",
      "diff_hunk": "@@ -59,7 +59,7 @@ class GCSFilter\n     explicit GCSFilter(const Params& params = Params());\n \n     /** Reconstructs an already-created filter from an encoding. */\n-    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter);\n+    GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked=false);",
      "path": "src/blockfilter.h",
      "position": null,
      "original_position": 5,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": 848649454,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No longer needed as the default value was removed",
      "created_at": "2022-04-14T08:42:42Z",
      "updated_at": "2022-04-14T08:42:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r850221337",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850221337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850221652",
      "pull_request_review_id": 941974188,
      "id": 850221652,
      "node_id": "PRRC_kwDOABII584yrVpU",
      "diff_hunk": "@@ -32,12 +32,65 @@ static void MatchGCSFilter(benchmark::Bench& bench)\n         element[1] = static_cast<unsigned char>(i >> 8);\n         elements.insert(std::move(element));\n     }\n-    GCSFilter filter({0, 0, 20, 1 << 20}, elements);\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n \n     bench.unit(\"elem\").run([&] {\n         filter.Match(GCSFilter::Element());\n     });\n }\n \n+static void DecodeGCSFilter(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));\n+    }\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    auto encoded = filter.GetEncoded();\n+\n+    bench.unit(\"elem\").run([&] {\n+        GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, encoded);\n+    });\n+}\n+\n+static void BlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    GCSFilter::ElementSet elements;\n+    for (int i = 0; i < 10000; ++i) {\n+        GCSFilter::Element element(32);\n+        element[0] = static_cast<unsigned char>(i);\n+        element[1] = static_cast<unsigned char>(i >> 8);\n+        elements.insert(std::move(element));",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": 848648411,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've applied the above change I suggested above.",
      "created_at": "2022-04-14T08:43:05Z",
      "updated_at": "2022-04-14T08:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r850221652",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850221652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850221848",
      "pull_request_review_id": 941974489,
      "id": 850221848,
      "node_id": "PRRC_kwDOABII584yrVsY",
      "diff_hunk": "@@ -31,7 +31,7 @@ class BlockFilterIndex final : public BaseIndex\n     FlatFilePos m_next_filter_pos;\n     std::unique_ptr<FlatFileSeq> m_filter_fileseq;\n \n-    bool ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter) const;\n+    bool ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter, const uint256& hash) const;",
      "path": "src/index/blockfilterindex.h",
      "position": null,
      "original_position": 5,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "1faac19651e3e8bd731ef2c114c9305c1a68ad96",
      "in_reply_to_id": 848583244,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Addressed",
      "created_at": "2022-04-14T08:43:19Z",
      "updated_at": "2022-04-14T08:43:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r850221848",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/850221848"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861079849",
      "pull_request_review_id": 956713527,
      "id": 861079849,
      "node_id": "PRRC_kwDOABII584zUwkp",
      "diff_hunk": "@@ -47,7 +47,7 @@ GCSFilter::GCSFilter(const Params& params)\n     : m_params(params), m_N(0), m_F(0), m_encoded{0}\n {}\n \n-GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter)\n+GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked)",
      "path": "src/blockfilter.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "c35df324b19b94aaecfbcd26111b7d00c5bed4e0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Make sanity check in GCSFilter constructor optional\" (c35df324b19b94aaecfbcd26111b7d00c5bed4e0)\r\n\r\nRequesting change: Can we rename `filter_checked` to `skip_checks` or `skip_decode_check`. I spent an embarrassing amount of time being confused by the changes in this PR because I interpreted `filter_checked` to mean \"filter should be checked\" not \"filter should not be checked\" which is what it seems to actually mean.",
      "created_at": "2022-04-28T16:13:46Z",
      "updated_at": "2022-04-28T16:15:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r861079849",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861079849"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862631769",
      "pull_request_review_id": 958771514,
      "id": 862631769,
      "node_id": "PRRC_kwDOABII584zardZ",
      "diff_hunk": "@@ -47,7 +47,7 @@ GCSFilter::GCSFilter(const Params& params)\n     : m_params(params), m_N(0), m_F(0), m_encoded{0}\n {}\n \n-GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter)\n+GCSFilter::GCSFilter(const Params& params, std::vector<unsigned char> encoded_filter, bool filter_checked)",
      "path": "src/blockfilter.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "c35df324b19b94aaecfbcd26111b7d00c5bed4e0",
      "in_reply_to_id": 861079849,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed `filter_checked` to `skip_decode_check`",
      "created_at": "2022-05-02T07:10:48Z",
      "updated_at": "2022-05-02T07:10:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r862631769",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862631769"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864109223",
      "pull_request_review_id": 960887901,
      "id": 864109223,
      "node_id": "PRRC_kwDOABII584zgUKn",
      "diff_hunk": "@@ -15,29 +15,56 @@ static void ConstructGCSFilter(benchmark::Bench& bench)\n         elements.insert(std::move(element));\n     }\n \n+    return elements;\n+}\n+\n+static void GCSBlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    auto elements = GenerateGCSTestElements();\n+\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded(), /*skip_decode_check=*/false);\n+\n+    bench.unit(\"elem\").run([&] {",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "a06ecf3579c1a531d6ad674d1e4295d45714fec5",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Here and in the other added benchmarks. I don't think \"elem\" as a custom unit is correct. My understanding is that it was used in `GCSFilterConstruct` together with `.batch(elements.size())` in order to list the time per element because we expect the operation to scale with the number of elements (10k).\r\n\r\nBut using it without `.batch()` in something like `GCSBlockFilterGetHash` that doesn't really scale linearly with the number of elements doesn't seem correct, the default \"op\" seems like a better fit.",
      "created_at": "2022-05-03T19:12:53Z",
      "updated_at": "2022-05-03T20:33:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r864109223",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864109223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864182635",
      "pull_request_review_id": 960887901,
      "id": 864182635,
      "node_id": "PRRC_kwDOABII584zgmFr",
      "diff_hunk": "@@ -15,29 +15,56 @@ static void ConstructGCSFilter(benchmark::Bench& bench)\n         elements.insert(std::move(element));\n     }\n \n+    return elements;\n+}\n+\n+static void GCSBlockFilterGetHash(benchmark::Bench& bench)",
      "path": "src/bench/gcs_filter.cpp",
      "position": 24,
      "original_position": 16,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "a06ecf3579c1a531d6ad674d1e4295d45714fec5",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could name it GCSFilterGetHash instead of GCSBlockFilterGetHash for consistency with the other benchmarks.",
      "created_at": "2022-05-03T20:13:49Z",
      "updated_at": "2022-05-03T20:30:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r864182635",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864182635"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 26,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867448934",
      "pull_request_review_id": 965405194,
      "id": 867448934,
      "node_id": "PRRC_kwDOABII584ztDhm",
      "diff_hunk": "@@ -15,29 +15,56 @@ static void ConstructGCSFilter(benchmark::Bench& bench)\n         elements.insert(std::move(element));\n     }\n \n+    return elements;\n+}\n+\n+static void GCSBlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    auto elements = GenerateGCSTestElements();\n+\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded(), /*skip_decode_check=*/false);\n+\n+    bench.unit(\"elem\").run([&] {",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "a06ecf3579c1a531d6ad674d1e4295d45714fec5",
      "in_reply_to_id": 864109223,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will change all the units to `op` except for `GCSFilterConstruct` as that benchmark still is done with the 10k batch.",
      "created_at": "2022-05-08T07:35:25Z",
      "updated_at": "2022-05-08T07:35:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r867448934",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867448934"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867469544",
      "pull_request_review_id": 965422246,
      "id": 867469544,
      "node_id": "PRRC_kwDOABII584ztIjo",
      "diff_hunk": "@@ -15,29 +15,56 @@ static void ConstructGCSFilter(benchmark::Bench& bench)\n         elements.insert(std::move(element));\n     }\n \n+    return elements;\n+}\n+\n+static void GCSBlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    auto elements = GenerateGCSTestElements();\n+\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded(), /*skip_decode_check=*/false);\n+\n+    bench.unit(\"elem\").run([&] {",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "a06ecf3579c1a531d6ad674d1e4295d45714fec5",
      "in_reply_to_id": 864109223,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "no need to type \"op\" (it's the default), could just remove the `.unit(...)` as in most other benchmarks.",
      "created_at": "2022-05-08T10:31:29Z",
      "updated_at": "2022-05-08T10:31:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r867469544",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867469544"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867475268",
      "pull_request_review_id": 965427283,
      "id": 867475268,
      "node_id": "PRRC_kwDOABII584ztJ9E",
      "diff_hunk": "@@ -15,29 +15,56 @@ static void ConstructGCSFilter(benchmark::Bench& bench)\n         elements.insert(std::move(element));\n     }\n \n+    return elements;\n+}\n+\n+static void GCSBlockFilterGetHash(benchmark::Bench& bench)\n+{\n+    auto elements = GenerateGCSTestElements();\n+\n+    GCSFilter filter({0, 0, BASIC_FILTER_P, BASIC_FILTER_M}, elements);\n+    BlockFilter block_filter(BlockFilterType::BASIC, {}, filter.GetEncoded(), /*skip_decode_check=*/false);\n+\n+    bench.unit(\"elem\").run([&] {",
      "path": "src/bench/gcs_filter.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "a06ecf3579c1a531d6ad674d1e4295d45714fec5",
      "in_reply_to_id": 864109223,
      "user": {
        "login": "kcalvinalvin",
        "id": 37185887,
        "node_id": "MDQ6VXNlcjM3MTg1ODg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/37185887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kcalvinalvin",
        "html_url": "https://github.com/kcalvinalvin",
        "followers_url": "https://api.github.com/users/kcalvinalvin/followers",
        "following_url": "https://api.github.com/users/kcalvinalvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kcalvinalvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kcalvinalvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kcalvinalvin/subscriptions",
        "organizations_url": "https://api.github.com/users/kcalvinalvin/orgs",
        "repos_url": "https://api.github.com/users/kcalvinalvin/repos",
        "events_url": "https://api.github.com/users/kcalvinalvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kcalvinalvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also fixed to just be `bench.run`",
      "created_at": "2022-05-08T11:19:55Z",
      "updated_at": "2022-05-08T11:20:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r867475268",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867475268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905582894",
      "pull_request_review_id": 1017806586,
      "id": 905582894,
      "node_id": "PRRC_kwDOABII5841-hku",
      "diff_hunk": "@@ -143,18 +144,22 @@ bool BlockFilterIndex::CommitInternal(CDBBatch& batch)\n     return BaseIndex::CommitInternal(batch);\n }\n \n-bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter) const\n+bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, const uint256& hash, BlockFilter& filter) const\n {\n     CAutoFile filein(m_filter_fileseq->Open(pos, true), SER_DISK, CLIENT_VERSION);\n     if (filein.IsNull()) {\n         return false;\n     }\n \n+    // Check that the hash of the encoded_filter matches the one stored in the db.\n     uint256 block_hash;\n     std::vector<uint8_t> encoded_filter;\n     try {\n         filein >> block_hash >> encoded_filter;\n-        filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter));\n+        uint256 result;\n+        CHash256().Write(encoded_filter).Finalize(result);\n+        if (result != hash) return error(\"Checksum mismatch in filter decode.\");\n+        filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter), /*skip_decode_check=*/true);\n     }",
      "path": "src/index/blockfilterindex.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would you consider moving the hash checking into a separate function for readability and maintainability?",
      "created_at": "2022-06-23T23:27:56Z",
      "updated_at": "2022-07-06T16:10:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r905582894",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905582894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": 154,
      "original_start_line": 154,
      "start_side": "RIGHT",
      "line": 163,
      "original_line": 163,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905584736",
      "pull_request_review_id": 1017806586,
      "id": 905584736,
      "node_id": "PRRC_kwDOABII5841-iBg",
      "diff_hunk": "@@ -143,18 +144,22 @@ bool BlockFilterIndex::CommitInternal(CDBBatch& batch)\n     return BaseIndex::CommitInternal(batch);\n }\n \n-bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter) const\n+bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, const uint256& hash, BlockFilter& filter) const",
      "path": "src/index/blockfilterindex.cpp",
      "position": 13,
      "original_position": 13,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Since this function also has a `block_hash` variable, maybe `filter_hash` would be a clearer disambiguation?\r\n```suggestion\r\nbool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, const uint256& filter_hash, BlockFilter& filter) const\r\n```",
      "created_at": "2022-06-23T23:32:51Z",
      "updated_at": "2022-07-06T16:10:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r905584736",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905584736"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 147,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905585156",
      "pull_request_review_id": 1017806586,
      "id": 905585156,
      "node_id": "PRRC_kwDOABII5841-iIE",
      "diff_hunk": "@@ -143,18 +144,22 @@ bool BlockFilterIndex::CommitInternal(CDBBatch& batch)\n     return BaseIndex::CommitInternal(batch);\n }\n \n-bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter) const\n+bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, const uint256& hash, BlockFilter& filter) const\n {\n     CAutoFile filein(m_filter_fileseq->Open(pos, true), SER_DISK, CLIENT_VERSION);\n     if (filein.IsNull()) {\n         return false;\n     }\n \n+    // Check that the hash of the encoded_filter matches the one stored in the db.\n     uint256 block_hash;\n     std::vector<uint8_t> encoded_filter;\n     try {\n         filein >> block_hash >> encoded_filter;\n-        filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter));\n+        uint256 result;",
      "path": "src/index/blockfilterindex.cpp",
      "position": 26,
      "original_position": 26,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`calculated_hash` might be more intuitive?\r\n```suggestion\r\n        uint256 calculated_hash;\r\n```",
      "created_at": "2022-06-23T23:33:54Z",
      "updated_at": "2022-07-06T16:10:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r905585156",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905585156"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 159,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905587080",
      "pull_request_review_id": 1017806586,
      "id": 905587080,
      "node_id": "PRRC_kwDOABII5841-imI",
      "diff_hunk": "@@ -143,18 +144,22 @@ bool BlockFilterIndex::CommitInternal(CDBBatch& batch)\n     return BaseIndex::CommitInternal(batch);\n }\n \n-bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter) const\n+bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, const uint256& hash, BlockFilter& filter) const\n {\n     CAutoFile filein(m_filter_fileseq->Open(pos, true), SER_DISK, CLIENT_VERSION);\n     if (filein.IsNull()) {\n         return false;\n     }\n \n+    // Check that the hash of the encoded_filter matches the one stored in the db.\n     uint256 block_hash;\n     std::vector<uint8_t> encoded_filter;\n     try {\n         filein >> block_hash >> encoded_filter;\n-        filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter));\n+        uint256 result;\n+        CHash256().Write(encoded_filter).Finalize(result);",
      "path": "src/index/blockfilterindex.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think {} list initialization is generally preferred? Here, and in some other places in the PR.\r\n```suggestion\r\n        CHash256{}.Write(encoded_filter).Finalize(result);\r\n```",
      "created_at": "2022-06-23T23:38:20Z",
      "updated_at": "2022-07-06T16:10:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r905587080",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905587080"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 160,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905591467",
      "pull_request_review_id": 1017806586,
      "id": 905591467,
      "node_id": "PRRC_kwDOABII5841-jqr",
      "diff_hunk": "@@ -143,18 +144,22 @@ bool BlockFilterIndex::CommitInternal(CDBBatch& batch)\n     return BaseIndex::CommitInternal(batch);\n }\n \n-bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, BlockFilter& filter) const\n+bool BlockFilterIndex::ReadFilterFromDisk(const FlatFilePos& pos, const uint256& hash, BlockFilter& filter) const\n {\n     CAutoFile filein(m_filter_fileseq->Open(pos, true), SER_DISK, CLIENT_VERSION);\n     if (filein.IsNull()) {\n         return false;\n     }\n \n+    // Check that the hash of the encoded_filter matches the one stored in the db.\n     uint256 block_hash;\n     std::vector<uint8_t> encoded_filter;\n     try {\n         filein >> block_hash >> encoded_filter;\n-        filter = BlockFilter(GetFilterType(), block_hash, std::move(encoded_filter));\n+        uint256 result;\n+        CHash256().Write(encoded_filter).Finalize(result);\n+        if (result != hash) return error(\"Checksum mismatch in filter decode.\");",
      "path": "src/index/blockfilterindex.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "original_commit_id": "e734228d8585c0870c71ce8ba8c037f8cf8b249a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would it be helpful to include `pos` in the error message? Also, not sure if \"filter decode\" is the most accurate description? What about e.g. \"Checksum mismatch for filter loaded from \\<pos\\>\"?",
      "created_at": "2022-06-23T23:42:22Z",
      "updated_at": "2022-07-06T16:10:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24832#discussion_r905591467",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905591467"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 161,
      "original_line": 161,
      "side": "RIGHT"
    }
  ]
}