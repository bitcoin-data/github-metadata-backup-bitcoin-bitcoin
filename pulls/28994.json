{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994",
    "id": 1628540799,
    "node_id": "PR_kwDOABII585hEY9_",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28994",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28994.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28994.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28994",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28994/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
    "number": 28994,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: skip BnB when SFFO is enabled",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Solves #28918. Coming from https://github.com/bitcoin/bitcoin/issues/28918#issuecomment-1838626406 discussion.\r\n\r\nThe intention is to decouple only the bugfix relevant commits from #28985, allowing them to be included in the 26.x release. This way, we can avoid disabling the coin selection fuzzing test for an entire release.\r\n\r\nNote:\r\nHave introduced few changes to the bug fix commit so that the unit tests pass without the additional burden introduced in #28985.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2023-12-04T15:25:21Z",
    "updated_at": "2023-12-05T11:58:24Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "d0f235832c6ec8e73afb5d000a3697a4f6824b67",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "furszy:2023_wallet_sffo_skip_bnb",
      "ref": "2023_wallet_sffo_skip_bnb",
      "sha": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 389707,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-12-04T22:29:12Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2023-08-30T13:12:58Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "afdc4c3a30c0543a837a317b643cf2737ed3178c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36082,
        "stargazers_count": 72467,
        "watchers_count": 72467,
        "size": 246258,
        "default_branch": "master",
        "open_issues_count": 650,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-12-05T11:56:03Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-12-05T11:34:21Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 51,
    "deletions": 11,
    "changed_files": 3,
    "commits": 4,
    "review_comments": 22,
    "comments": 2
  },
  "events": [
    {
      "event": "commented",
      "id": 1838878775,
      "node_id": "IC_kwDOABII585tmxA3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1838878775",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T15:25:25Z",
      "updated_at": "2023-12-05T02:23:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28994).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Approach ACK | [murchandamus](https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1762920527), [achow101](https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1763310634) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28985](https://github.com/bitcoin/bitcoin/pull/28985) (Avoid changeless input sets when SFFO is active by murchandamus)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#issuecomment-1838878775",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28994"
    },
    {
      "event": "labeled",
      "id": 11140728807,
      "node_id": "LE_lADOABII5854paDFzwAAAAKYCgfn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11140728807",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T15:25:28Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "reviewed",
      "id": 1762744578,
      "node_id": "PRR_kwDOABII585pEVkC",
      "url": null,
      "actor": null,
      "commit_id": "db13d8ab64173e3fc51e04a2e89931f98366df5b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1762744578",
      "submitted_at": "2023-12-04T15:34:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
    },
    {
      "event": "reviewed",
      "id": 1762748987,
      "node_id": "PRR_kwDOABII585pEWo7",
      "url": null,
      "actor": null,
      "commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1762748987",
      "submitted_at": "2023-12-04T15:36:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
    },
    {
      "event": "reviewed",
      "id": 1762736877,
      "node_id": "PRR_kwDOABII585pETrt",
      "url": null,
      "actor": null,
      "commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1762736877",
      "submitted_at": "2023-12-04T15:43:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
    },
    {
      "event": "reviewed",
      "id": 1762872018,
      "node_id": "PRR_kwDOABII585pE0rS",
      "url": null,
      "actor": null,
      "commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1762872018",
      "submitted_at": "2023-12-04T16:27:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
    },
    {
      "event": "reviewed",
      "id": 1762920527,
      "node_id": "PRR_kwDOABII585pFAhP",
      "url": null,
      "actor": null,
      "commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK: 233a07ade88d13154771417cf7700736ffce5211",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1762920527",
      "submitted_at": "2023-12-04T16:46:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
    },
    {
      "event": "labeled",
      "id": 11142325426,
      "node_id": "LE_lADOABII5854paDFzwAAAAKYImSy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11142325426",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T17:33:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1763310634,
      "node_id": "PRR_kwDOABII585pGfwq",
      "url": null,
      "actor": null,
      "commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1763310634",
      "submitted_at": "2023-12-04T20:13:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T20:14:17Z",
      "updated_at": "2023-12-04T20:14:17Z",
      "source": {
        "issue": {
          "id": 2021683204,
          "node_id": "PR_kwDOABII585g8QwM",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28985",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28985/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28985/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28985/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28985",
          "number": 28985,
          "state": "open",
          "state_reason": null,
          "title": "Avoid changeless input sets when SFFO is active",
          "body": "Fixes a bunch of issues around tests for coinselection, and disables changeless solutions when building transactions with SFFO.",
          "user": {
            "login": "murchandamus",
            "id": 4060799,
            "node_id": "MDQ6VXNlcjQwNjA3OTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/murchandamus",
            "html_url": "https://github.com/murchandamus",
            "followers_url": "https://api.github.com/users/murchandamus/followers",
            "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
            "organizations_url": "https://api.github.com/users/murchandamus/orgs",
            "repos_url": "https://api.github.com/users/murchandamus/repos",
            "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/murchandamus/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28985",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28985",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28985.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28985.patch"
          },
          "created_at": "2023-12-01T22:41:36Z",
          "updated_at": "2023-12-04T20:14:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdiNDI2Y2Q0NGNlYjIzNTkwZGYxNmE2M2I0ZjBmZjMxZmQ2ZDFhZWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b426cd44ceb23590df16a63b4f0ff31fd6d1aed",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7b426cd44ceb23590df16a63b4f0ff31fd6d1aed",
      "tree": {
        "sha": "ce65bae89ca0340d47e24e3d75eb1f146e7f4d54",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ce65bae89ca0340d47e24e3d75eb1f146e7f4d54"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ce65bae89ca0340d47e24e3d75eb1f146e7f4d54\nparent 160d23677ad799cf9b493eaa923b2ac080c3fb8e\nauthor Murch <murch@murch.one> 1696620752 -0400\ncommitter furszy <matiasfurszyfer@protonmail.com> 1701723051 -0300\n\nwallet: skip BnB when SFFO is active\n\nCo-authored-by: furszy <matiasfurszyfer@protonmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmVuO6sACgkQXdI8zGhq\npiPwqhAAhB6pAVri+t4LkcgUc7S9vUGSmzoTzjDG8JFBDhN2sRTSNWiiMvJKaYAg\nr8ZqK6P7EhhPSQwuNbZPXY72GB7QtbKNe5uOTJsnUqHzEXMgUNy7OiXVl+1Ljls5\nKooe+l23BazjUIl5wyqeMXo7jhrbyydXZZsSsu7hICtBeoTHqZ2HDeDBr5RTLFJz\nWnA0JPYQJxZoq8BpV61Lurk0M9+zPMOWnRUprFTurvAOgtuVKeNNpYHpthjZDEIi\nrC5T+OVb6iOMZKJrA9U8injKk5z/vCJElH3ciQoiuzWjR0h+kszb1H8wdb1ec/8B\nnbe8ZIopF7Zej6zSQJI5kpdIxZjRpsYE8cv5K5Qke8z0Uo0iQyaAazrHr+liKWaV\nILmB1EmSb85L1UM+gZEGGpeRRW9B31/y5TRO4MacOrRViydbf6KDTVLALVi0Ekqw\ne5cfhVcdQi5HNWl/0qR2OxMfKudM2wRgBdqy9XhJiJLBvtjlGLWNX/IW4s2I7SKk\nSG0kZNPwFNz1zXdT8hHnS3uOoCP/rZH9gNqlJ2ZselBrRahznij3+XUuLsCXuuwf\najaNneRmAhOPy3wWnH3n+0yw5pnPO1RH6nnResGr6EvwpnUSQmBZNA1oTOYSdQTU\n6vFzvM35ZhOsAJMxkUtWjysacHRTdYXfGNE0EZN6zAcB1yp9W/o=\n=zv2r\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/160d23677ad799cf9b493eaa923b2ac080c3fb8e",
          "sha": "160d23677ad799cf9b493eaa923b2ac080c3fb8e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/160d23677ad799cf9b493eaa923b2ac080c3fb8e"
        }
      ],
      "message": "wallet: skip BnB when SFFO is active\n\nCo-authored-by: furszy <matiasfurszyfer@protonmail.com>",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-12-04T20:50:51Z"
      },
      "author": {
        "name": "Murch",
        "email": "murch@murch.one",
        "date": "2023-10-06T19:32:32Z"
      },
      "sha": "7b426cd44ceb23590df16a63b4f0ff31fd6d1aed"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE0YzMyOTRiMTFiNzhlYTBlYzZiYjE5ZTcxYWE4NGEzNTcxZGYxZjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a4c3294b11b78ea0ec6bb19e71aa84a3571df1f5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a4c3294b11b78ea0ec6bb19e71aa84a3571df1f5",
      "tree": {
        "sha": "548defcfb1ef7393d115cb2984d7ed369d6dc462",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/548defcfb1ef7393d115cb2984d7ed369d6dc462"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 548defcfb1ef7393d115cb2984d7ed369d6dc462\nparent 7b426cd44ceb23590df16a63b4f0ff31fd6d1aed\nauthor furszy <matiasfurszyfer@protonmail.com> 1695991324 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1701723051 -0300\n\nwallet: create tx, log resulting coin selection info\n\nUseful for understanding what is going on internally\nwhen the software is running. Debug issues, and provide\nmore accurate feedback to users.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmVuO6sACgkQXdI8zGhq\npiO5/w/8D2Lfkb/Bc+XNDMvN5Bo4lcr8QSQPwM+RAeFy8QcmFvdXxnpzxfd2fgxG\nCnHFjj+lLVTK5TZHwLp+Q47gFxHmTa/4QVv7wWUsdkCt5D+Sqk03bWEe2ch2fji8\ncQWoaTkFmw3lc082YK+1YQx/mCu4Iyycx8/ywHVXajEo+gj5M2zUOkX6Dq+odgML\n0zY4L1GsLu0p8IH/EanpoiU9yqxZkNbH0d4dMVg91FLTAGCUfjrY2Sy5elI5ukLt\nzxJrJoiNwhM7hdFtyBxz+PPcCxZnc/wYi9K6g5jvcoTtdMpS8jRSx0V8QVYApWfq\npz+WIKTwT2jW9Jybk3l9Fe/jjYDoh1meJOttxZSeZinewDxvoqNSzxu5LSuydWgK\noYT51koN557zXmoe4nAXx8eP4ojYmbXmwomU99roxLjpyF2C7caB1l4JAqQFW9CY\nIhoTo2fsnOd6cBhwdB0Up1Tl+m08fJ/fW9OXGibmJd7HHi4FNYPsadJ9gFuv1ilJ\n6OGs2GjYpxYyaGG1FpHUuOMa2YcFfg+///KqSdIgUhug/nSj1ByIXkhHu+aQnBTu\ngzfGsKglyBnjtaZRsjYp34TAEsFRzscJwpHsNAyJ9uvHL7iJvB4CPPdJJSIBiR0k\ndzfkz7XWSDH5A6plAyg+rQM/QV/E/25E0jWpQp+5efWFojJsDvQ=\n=vTct\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b426cd44ceb23590df16a63b4f0ff31fd6d1aed",
          "sha": "7b426cd44ceb23590df16a63b4f0ff31fd6d1aed",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7b426cd44ceb23590df16a63b4f0ff31fd6d1aed"
        }
      ],
      "message": "wallet: create tx, log resulting coin selection info\n\nUseful for understanding what is going on internally\nwhen the software is running. Debug issues, and provide\nmore accurate feedback to users.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-12-04T20:50:51Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T12:42:04Z"
      },
      "sha": "a4c3294b11b78ea0ec6bb19e71aa84a3571df1f5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA2Y2Q3ZTBiZWE0NDA4Y2M1MDhhZDQwNzRhNDRkZGNlZDNjNzczZjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06cd7e0bea4408cc508ad4074a44ddced3c773f8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/06cd7e0bea4408cc508ad4074a44ddced3c773f8",
      "tree": {
        "sha": "1f979f2990f75c3c5face8885fc850d665dc2f25",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1f979f2990f75c3c5face8885fc850d665dc2f25"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1f979f2990f75c3c5face8885fc850d665dc2f25\nparent a4c3294b11b78ea0ec6bb19e71aa84a3571df1f5\nauthor furszy <matiasfurszyfer@protonmail.com> 1694531699 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1701724402 -0300\n\ntest: add coverage for BnB-SFFO restriction\n\nVerify the transaction creation process does not produce\na BnB solution when SFFO is enabled.\nThis is currently problematic because it could require a\nchange output. And BnB is specialized on changeless solutions.\n\nCo-authored-by: Andrew Chow <achow101@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmVuQPIACgkQXdI8zGhq\npiNusg/+O+D4PZJ9hVoPKB3aVZlfWaZ3+zaELWdYUASg4IhvntyMo85CREyJ282c\nzsqufSN5P8Yd3TJFp7lZVxqHIuVsF/KiEgv1RZNjySg30CR34Cs7dTpRrYW5n6Di\nd/9tXrWpARVql8Fl8mGWxG3fGs62QTVQdIuKWV7jomHTMZaNmbnRLhnf9ZxOjYOP\n2jJ9Au0c9sJzeP4sMOIhgmFZT+N5hXpKMmIMAu2jvryJ56LC2dFIs3rGCLmzKzo4\n3ppDhrq0FWc+vB2ypYrPYKbDbW6dWEHBOlSLg1J4CDnRtbJ2kyOSD1rk6VhOht1X\n8zqO5tzkDcJLzZAxMcdVvjOTd8TzKAti0RjOP74YHcoQXWDieFx98A/AbsQQB2NJ\n+z5lcxTV5u9TvXYcbLhnnG6rSeWLO//irLenQEhjJN+avVn1qlVZgk8gO17DIuuK\nHBAKotQS/mrPKG5xyQvQdnVDr6/wxReQUQ2gEPRGSZPUTHovZ9bOHvbC6yTcU+XW\nwmB2D6AFjxT0Mz3MhY0TZSl1a1z5BxXayAetIIYHR1nKI8P+qpJk4r+cTnGFA+hV\nxc6THzquGgJkL22xuilOXxdKNifo19rHpnMVEQ+pgLITOIABZfZuzpbYjzdnL8gE\nTtHHb9HjyWs2G5+KuCZ0JU+d6rj4KiEeQXF7bv5zFjsHUUryej4=\n=auLI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a4c3294b11b78ea0ec6bb19e71aa84a3571df1f5",
          "sha": "a4c3294b11b78ea0ec6bb19e71aa84a3571df1f5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a4c3294b11b78ea0ec6bb19e71aa84a3571df1f5"
        }
      ],
      "message": "test: add coverage for BnB-SFFO restriction\n\nVerify the transaction creation process does not produce\na BnB solution when SFFO is enabled.\nThis is currently problematic because it could require a\nchange output. And BnB is specialized on changeless solutions.\n\nCo-authored-by: Andrew Chow <achow101@gmail.com>",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-12-04T21:13:22Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-12T15:14:59Z"
      },
      "sha": "06cd7e0bea4408cc508ad4074a44ddced3c773f8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdlMWJmMGQ3ZTdmMTU3Y2VkNmRjODNmZjc1ZWJjZDkwMWQ5MTM4NGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "tree": {
        "sha": "31d8c23e2514c1d9e47e11c21d068027750340c9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/31d8c23e2514c1d9e47e11c21d068027750340c9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 31d8c23e2514c1d9e47e11c21d068027750340c9\nparent 06cd7e0bea4408cc508ad4074a44ddced3c773f8\nauthor furszy <matiasfurszyfer@protonmail.com> 1701700580 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1701724402 -0300\n\nfuzz: disable BnB when SFFO is enabled\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmVuQPIACgkQXdI8zGhq\npiNe2g/+O+SZ9QIUIE5UmUGKA5GGRDOvU9X2iWMrN0mzGkrGxuBhnc9mwCJD0ZQ/\nw4JyH4kmCwetmuMv47M2DSss7Q7JNxRARbpYJaCJ1dMvygYCVQTGqPQOt46dW6Cv\nQP6GLKKz9clrfWIbAPlWM9sBsNnsn6CoJ3wU8x1rLQMRwAs9i5FrGMWqr0tKl8KQ\n98IuSnN+8fUi+4V/I/ygIhd/JI0b0fy0x9GFBxByoT38uadAeeae6Llwgwb+GXkH\nmoNHM88ZHESu8xG1Euztjohet35WPr0h0ghEBeKysv4ej/vsCN40/46gjDpiPywP\nK0FLfL3vrP4eLKs9q4VNrK9L5lBq3SMMHOlPD5JMiGMj9T19nO0O1puMOO45kbOt\nsu+q+d91EB7dv2lMGBW7NNAiZkVOPopvvUJvyB0+cHRpNRVnUc3ffckSl2GK/42C\n6JK7uHoWuZ/X2bJOyP76X0Qun0hNSJeNQ8IjclRvLs4y+spj0P7dSspYL+9gJcSZ\nm3lV4iFikch7agOTBJW96GgSBPVElkOtjvf5boQpaSlhXnLjxEi3Lvzm00uBo9GH\nnkoA8Fp7xFjZUzXOn19dmkznI/PcbIMJFdYrjjCTGOA+/Yo4Hrk9gYPLbmrPbJ3Q\nrRPVp0LQnZpYYdy11IhQpUaTbZygwW2jOIrgrTjk6oSe769clWw=\n=nULM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06cd7e0bea4408cc508ad4074a44ddced3c773f8",
          "sha": "06cd7e0bea4408cc508ad4074a44ddced3c773f8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/06cd7e0bea4408cc508ad4074a44ddced3c773f8"
        }
      ],
      "message": "fuzz: disable BnB when SFFO is enabled",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-12-04T21:13:22Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-12-04T14:36:20Z"
      },
      "sha": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11144527508,
      "node_id": "HRFPE_lADOABII5854paDFzwAAAAKYQ_6U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11144527508",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T21:14:41Z"
    },
    {
      "event": "commented",
      "id": 1839509876,
      "node_id": "IC_kwDOABII585tpLF0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1839509876",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T21:30:15Z",
      "updated_at": "2023-12-04T21:30:15Z",
      "author_association": "MEMBER",
      "body": "Updated per feedback. Thanks everyone.\r\n\r\nTest wise; replaced the logs debugger approach for a low level function call (per https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414434210). And applied\r\nthe test variables naming suggestions.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#issuecomment-1839509876",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28994"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T23:10:07Z",
      "updated_at": "2023-12-04T23:10:07Z",
      "source": {
        "issue": {
          "id": 1519092836,
          "node_id": "PR_kwDOABII585Godbn",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26812",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26812/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26812/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26812/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26812",
          "number": 26812,
          "state": "open",
          "state_reason": null,
          "title": "test: add end-to-end tests for CConnman and PeerManager",
          "body": "Add fuzz and unit tests that write (fuzzed) data to a mocked socket and inspect what CConnman/PeerManager have written back to the socket, or check the internal state to verify that the behavior is as expected.\r\n\r\nThis is now possible, after most of https://github.com/bitcoin/bitcoin/pull/21878 has been merged - we don't do any syscalls (e.g. `connect()`, `recv()`) from the high level code and using a mocked socket allows testing the entire networking stack without opening actual network connections.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 29,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26812",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26812",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26812.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26812.patch"
          },
          "created_at": "2023-01-04T14:39:37Z",
          "updated_at": "2023-12-05T05:10:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-04T23:30:30Z",
      "updated_at": "2023-12-04T23:30:30Z",
      "source": {
        "issue": {
          "id": 1313204802,
          "node_id": "PR_kwDOABII58472hm-",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25665",
          "number": 25665,
          "state": "open",
          "state_reason": null,
          "title": "refactor: Add util::Result failure values, multiple error and warning messages",
          "body": "Add `util::Result` support for returning more error information and make use of it in [LoadChainstate method](https://github.com/bitcoin/bitcoin/pull/25665/commits/60d8893608deb113b44446cdc2c35107a5b3eb3f) as an initial application. Followup PR [#25722](https://github.com/bitcoin/bitcoin/pull/25722) uses it more broadly to return errors and warnings from wallet loading functions as well.\r\n\r\nThis change adds two major features to the result class:\r\n\r\n- For better error handling, adds the ability to return a value on failure, not just a value on success. This is a key missing feature that makes the result class not useful for functions like `LoadChainstate()` which produce different errors that need to be handled differently [^1].\r\n\r\n[^1]: Ability to return error values was actually present in the original implementation of [#25218](https://github.com/bitcoin/bitcoin/pull/25218), but unfortunately removed in later iterations.\r\n\r\n- For better error reporting, adds the ability to return warning messages and multiple errors, not just a single error string. This provides a way for functions to report errors and warnings in a standard way, and simplifies interfaces:\r\n\r\n    ```diff\r\n    -virtual std::unique_ptr<Wallet> loadWallet(const std::string& name, bilingual_str& error, std::vector<bilingual_str>& warnings) = 0;\r\n    +virtual util::Result<std::unique_ptr<Wallet>> loadWallet(const std::string& name) = 0;\r\n    ```\r\n\r\n    ```diff\r\n    -std::unique_ptr<WalletDatabase> MakeDatabase(const fs::path& path, const DatabaseOptions& options, DatabaseStatus& status, bilingual_str& error);\r\n    +util::Result<std::unique_ptr<WalletDatabase>, DatabaseError> MakeDatabase(const fs::path& path, const DatabaseOptions& options);\r\n   ```\r\n\r\nThis change also makes some more minor improvements:\r\n\r\n- Smaller type size. `util::Result<int>` is 16 bytes, and `util::Result<void>` is 8 bytes. Previously both were 72 bytes.\r\n\r\n- Broader type compatibility. Supports noncopyable and nonmovable success and error types.\r\n\r\n### Alternatives & design notes\r\n\r\nThe main goal for the `util::Result` class is to provide a standard way for functions to report error and warnings strings. The interface tries to make it easy to provide detailed error feedback to end users, without cluttering code or making it harder to return other result information. There have been multiple iterations of the design using different internal representations and providing different capabilities:\r\n\r\n|   | Representation (approximate)                   | Notes |\r\n|---|------------------------------------------------|-------|\r\n| _(1)_ | `tuple<T,optional<bilingual_str>>`        | Original #25218 implementation in da98fd2efc1a6b9c6e876cf3e227a8c2e9a10827. Good capabilities, but larger type size. Supports error standardized error reporting and customized error handling with failure values. |\r\n| _(2)_ | `variant<T,bilingual_str>`                | Final #25218 implementation in 7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d. No support for returning failure values so not useful in many cases.\r\n| _(3)_ | `variant<monostate,T,F>`                 | Pending #25601 implementation that allows choosing whether to use standardized error reporting or return custom failure values, but doesn't support having both at the same time, like approaches _(1)_, _(4)_, _(5)_, _(6)_ do. |\r\n | _(4)_ | `tuple<variant<T,F>,bilingual_str>`      | Original #25608 implementation in c29d3008de9314dd463ed08e8bff39fe55324498. Basically the same as _(1)_ except it uses separate success and failure types instead of the same type. Using separate success and failure types makes the result class a little less flexible but can help avoid some ambiguity and inconsistent result states. |\r\n| _(5)_ | `tuple<T,optional<bilingual_str>>`        | Final #25608 implementation in dd91f294206ac87b213d23bb76656a0a5f0f4781. Essentially the same as original implementation _(1)_ except has some usability improvements. |\r\n| _(6)_ | `tuple<T,unique_ptr<tuple<F,bilingual_str>>` | Pending #25665 implementation (this PR). Supports returning failure values, uses separate success and failure types to avoid ambiguity, uses `unique_ptr` to reduce result type size, and avoids heap allocation in the happy path. |\r\n\r\n### Prior discussions & history\r\n\r\n- _furszy_ introduced a `BResult` class providing a standard error reporting mechanism in [#25218](https://github.com/bitcoin/bitcoin/pull/25218). It was renamed to `util::Result` in [#25721](https://github.com/bitcoin/bitcoin/pull/25721) but kept the same representation and capabilities.\r\n\r\n- _MarcoFalke_ suggested using `BResult` for the `LoadChainstate` function in [#25308 (comment)](https://github.com/bitcoin/bitcoin/pull/25308#issuecomment-1181674645). Inability to use `BResult` there due to lack of support for failure values led to initial work on [#25608](https://github.com/bitcoin/bitcoin/pull/25608).\r\n\r\n- _w0xlt_ wrote a `StructuredResult` class in [#25308](https://github.com/bitcoin/bitcoin/pull/25601) adding the ability to return failure values but sacrificing standard error reporting, which led to more work on [#25608](https://github.com/bitcoin/bitcoin/pull/25608).\r\n\r\n- _martinus_ suggested a space optimization in [#25608 (comment)](https://github.com/bitcoin/bitcoin/pull/25608#discussion_r921049409) that also made it easier to support distinct failure & success types, leading to [#25665](https://github.com/bitcoin/bitcoin/pull/25665) as a replacement for [#25608](https://github.com/bitcoin/bitcoin/pull/25608).",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25665",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25665",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25665.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25665.patch"
          },
          "created_at": "2022-07-21T12:46:09Z",
          "updated_at": "2023-12-05T05:29:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "unlabeled",
      "id": 11146232237,
      "node_id": "UNLE_lADOABII5854paDFzwAAAAKYXgGt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11146232237",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-05T00:04:42Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1764894179,
      "node_id": "PRR_kwDOABII585pMiXj",
      "url": null,
      "actor": null,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looks good! I am uncomfortable with adding the log message as it has nothing to do with the bug fix and I think it could confuse (or worse, alarm) users to see \"Waste\" in their logs in the context of coin selection when waste is a not well-documented, implementation-specific term. Can we drop this commit for now and revisit debug logging in a separate PR, unrelated to the v26 release? ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#pullrequestreview-1764894179",
      "submitted_at": "2023-12-05T11:58:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414078838",
      "pull_request_review_id": 1762736877,
      "id": 1414078838,
      "node_id": "PRRC_kwDOABII585USSF2",
      "diff_hunk": "@@ -25,7 +25,19 @@ void DebugLogHelper::check_found()\n {\n     noui_reconnect();\n     LogInstance().DeleteCallback(m_print_connection);\n-    if (!m_found && m_match(nullptr)) {\n-        throw std::runtime_error(strprintf(\"'%s' not found in debug log\\n\", m_message));\n+\n+    switch (m_check_type) {\n+        case CheckType::MATCH:\n+            if (!m_found && m_match(nullptr)) {\n+                throw std::runtime_error(strprintf(\"'%s' not found in debug log\\n\", m_message));\n+            }\n+            break;\n+        case CheckType::NOT_MATCH:\n+            if (m_found && m_match(nullptr)) {\n+                throw std::runtime_error(strprintf(\"'%s' found in debug log\\n\", m_message));\n+            }\n+            break;\n+        case CheckType::DISABLE:\n+            break; // do nothing",
      "path": "src/test/util/logging.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "db13d8ab64173e3fc51e04a2e89931f98366df5b",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The `DISABLE` case doesnâ€™t seem to get used anywhere.",
      "created_at": "2023-12-04T15:31:33Z",
      "updated_at": "2023-12-04T15:43:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414078838",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414078838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": 40,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414083527",
      "pull_request_review_id": 1762744578,
      "id": 1414083527,
      "node_id": "PRRC_kwDOABII585USTPH",
      "diff_hunk": "@@ -11,6 +11,12 @@\n #include <list>\n #include <string>\n \n+enum class CheckType {\n+    MATCH,          // asserts message is found\n+    NOT_MATCH,      // asserts message is not found\n+    DISABLE         // disable assertion",
      "path": "src/test/util/logging.h",
      "position": null,
      "original_position": 7,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "db13d8ab64173e3fc51e04a2e89931f98366df5b",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is this used? What would this be used for? Seems easier to use a bool, no?",
      "created_at": "2023-12-04T15:34:50Z",
      "updated_at": "2023-12-04T15:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414083527",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414083527"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414086098",
      "pull_request_review_id": 1762748987,
      "id": 1414086098,
      "node_id": "PRRC_kwDOABII585UST3S",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": null,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In d62d49c605f89a325b929e8fb48091b0b56399ee: is there really no other way to know which coin selection algorithm is being used, than to grep output logs for non-existence? This doesn't seem like the best way to test for a condition.",
      "created_at": "2023-12-04T15:36:51Z",
      "updated_at": "2023-12-04T15:36:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414086098",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414086098"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 482,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414092139",
      "pull_request_review_id": 1762736877,
      "id": 1414092139,
      "node_id": "PRRC_kwDOABII585USVVr",
      "diff_hunk": "@@ -377,7 +381,8 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n         expected_result.Clear();\n         add_coin(10 * CENT, 2, expected_result);\n         CCoinControl coin_control;\n-        const auto result11 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT, coin_control, coin_selection_params_bnb);\n+        CAmount fee_to_deduce = available_coins.coins[OutputType::BECH32].begin()->GetFee();\n+        const auto result11 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT - fee_to_deduce, coin_control, coin_selection_params_bnb);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: I think \"deduct\" would fit better here than \"deduce\":\r\n\r\n```suggestion\r\n        CAmount fee_to_deduct = available_coins.coins[OutputType::BECH32].begin()->GetFee();\r\n        const auto result11 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT - fee_to_deduct, coin_control, coin_selection_params_bnb);\r\n```",
      "created_at": "2023-12-04T15:41:25Z",
      "updated_at": "2023-12-04T15:43:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414092139",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414092139"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": 384,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 385,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414092780",
      "pull_request_review_id": 1762736877,
      "id": 1414092780,
      "node_id": "PRRC_kwDOABII585USVfs",
      "diff_hunk": "@@ -390,9 +395,10 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n         add_coin(available_coins, *wallet, 1 * CENT, coin_selection_params_bnb.m_effective_feerate, 6 * 24, false, 0, true);\n \n         expected_result.Clear();\n-        add_coin(9 * CENT, 2, expected_result);\n-        add_coin(1 * CENT, 2, expected_result);\n-        const auto result12 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT, coin_control, coin_selection_params_bnb);\n+        add_coin(9 * CENT, /*nInput=*/0, expected_result);\n+        add_coin(1 * CENT, /*nInput=*/0, expected_result);\n+        fee_to_deduce = available_coins.coins[OutputType::BECH32].begin()->GetFee() * 2; // x2 because we expect two inputs\n+        const auto result12 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT - fee_to_deduce, coin_control, coin_selection_params_bnb);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        fee_to_deduct = available_coins.coins[OutputType::BECH32].begin()->GetFee() * 2; // x2 because we expect two inputs\r\n        const auto result12 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT - fee_to_deduct, coin_control, coin_selection_params_bnb);\r\n```",
      "created_at": "2023-12-04T15:41:54Z",
      "updated_at": "2023-12-04T15:43:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414092780",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414092780"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": 400,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 401,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414093219",
      "pull_request_review_id": 1762736877,
      "id": 1414093219,
      "node_id": "PRRC_kwDOABII585USVmj",
      "diff_hunk": "@@ -407,13 +413,14 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n         expected_result.Clear();\n         add_coin(9 * CENT, 2, expected_result);\n         add_coin(1 * CENT, 2, expected_result);\n+        fee_to_deduce = available_coins.coins[OutputType::BECH32].begin()->GetFee() * 2; // x2 because we expect two inputs",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        fee_to_deduct = available_coins.coins[OutputType::BECH32].begin()->GetFee() * 2; // x2 because we expect two inputs\r\n```",
      "created_at": "2023-12-04T15:42:16Z",
      "updated_at": "2023-12-04T15:43:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414093219",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414093219"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 416,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414093367",
      "pull_request_review_id": 1762736877,
      "id": 1414093367,
      "node_id": "PRRC_kwDOABII585USVo3",
      "diff_hunk": "@@ -407,13 +413,14 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n         expected_result.Clear();\n         add_coin(9 * CENT, 2, expected_result);\n         add_coin(1 * CENT, 2, expected_result);\n+        fee_to_deduce = available_coins.coins[OutputType::BECH32].begin()->GetFee() * 2; // x2 because we expect two inputs\n         coin_control.m_allow_other_inputs = true;\n         COutput select_coin = available_coins.All().at(1); // pre select 9 coin\n         coin_control.Select(select_coin.outpoint);\n         PreSelectedInputs selected_input;\n         selected_input.Insert(select_coin, coin_selection_params_bnb.m_subtract_fee_outputs);\n         available_coins.Erase({(++available_coins.coins[OutputType::BECH32].begin())->outpoint});\n-        const auto result13 = SelectCoins(*wallet, available_coins, selected_input, 10 * CENT, coin_control, coin_selection_params_bnb);\n+        const auto result13 = SelectCoins(*wallet, available_coins, selected_input, 10 * CENT - fee_to_deduce, coin_control, coin_selection_params_bnb);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        const auto result13 = SelectCoins(*wallet, available_coins, selected_input, 10 * CENT - fee_to_deduct, coin_control, coin_selection_params_bnb);\r\n```",
      "created_at": "2023-12-04T15:42:23Z",
      "updated_at": "2023-12-04T15:43:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414093367",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414093367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 423,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414142645",
      "pull_request_review_id": 1762840031,
      "id": 1414142645,
      "node_id": "PRRC_kwDOABII585UShq1",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": 1414086098,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I actually did it in this way per achow request during coredev. My initial version involved returning the coin selection information in a separate struct https://github.com/furszy/bitcoin-core/commit/a1b2c53d1feddf748d7d91a884fe52e50998f61e in the tx creation result.\r\n\r\nI do prefer my previous approach because it would allows us to retrieve this information at the RPC level as well. However, I am also fine going with this other option as well. It's not something widely used nowadays anyway. We can also revisit this when another feature/test needs it.",
      "created_at": "2023-12-04T16:13:48Z",
      "updated_at": "2023-12-04T16:13:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414142645",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414142645"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 482,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414154588",
      "pull_request_review_id": 1762859005,
      "id": 1414154588,
      "node_id": "PRRC_kwDOABII585USklc",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": 1414086098,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> My initial version involved returning the coin selection information in a separate struct https://github.com/furszy/bitcoin-core/commit/a1b2c53d1feddf748d7d91a884fe52e50998f61e in the tx creation result.\r\n\r\nYour initial version seems better to me. Looks like about the same amount of code or less for the better outcome. Checking for log messages in tests is a bit brittle and usually results in more churn down the line when log messages change.",
      "created_at": "2023-12-04T16:21:52Z",
      "updated_at": "2023-12-04T16:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414154588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414154588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 482,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414156191",
      "pull_request_review_id": 1762861694,
      "id": 1414156191,
      "node_id": "PRRC_kwDOABII585USk-f",
      "diff_hunk": "@@ -11,6 +11,12 @@\n #include <list>\n #include <string>\n \n+enum class CheckType {\n+    MATCH,          // asserts message is found\n+    NOT_MATCH,      // asserts message is not found\n+    DISABLE         // disable assertion",
      "path": "src/test/util/logging.h",
      "position": null,
      "original_position": 7,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "db13d8ab64173e3fc51e04a2e89931f98366df5b",
      "in_reply_to_id": 1414083527,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, it is not used. IIRC, I did it in this way to get a mechanism to enable/disable the logs watcher on the fly, without requiring to create a new one per watched message.\r\nCan migrate it to use a bool too. Was just considering potential future utilities.",
      "created_at": "2023-12-04T16:23:12Z",
      "updated_at": "2023-12-04T16:23:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414156191",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414156191"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414161933",
      "pull_request_review_id": 1762872018,
      "id": 1414161933,
      "node_id": "PRRC_kwDOABII585USmYN",
      "diff_hunk": "@@ -1260,6 +1263,7 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     // accidental reuse.\n     reservedest.KeepDestination();\n \n+    wallet.WalletLogPrintf(\"Coin Selection: Algorithm:%s, Waste:%d\", GetAlgorithmName(result.GetAlgo()), result.GetWaste());",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit from tidy CI:\r\n\r\n\r\n```\r\ntainer_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/wallet/spend.cpp\r\nwallet/spend.cpp:1266:28: error: Unterminated format string used with LogPrintf [bitcoin-unterminated-logprintf,-warnings-as-errors]\r\n 1266 |     wallet.WalletLogPrintf(\"Coin Selection: Algorithm:%s, Waste:%d\", GetAlgorithmName(result.GetAlgo()), result.GetWaste());\r\n      |                            ^                                      \r\n      |                                                                   \\n\r\n",
      "created_at": "2023-12-04T16:27:21Z",
      "updated_at": "2023-12-04T16:27:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414161933",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414161933"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414190927",
      "pull_request_review_id": 1762920527,
      "id": 1414190927,
      "node_id": "PRRC_kwDOABII585UStdP",
      "diff_hunk": "@@ -345,6 +348,7 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n \n         CoinsResult available_coins;\n \n+        coin_selection_params_bnb.m_effective_feerate = CFeeRate(0);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": 13,
      "original_position": 36,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: This test was already a bit weird to me, because it is categorized as belonging to \"BnB\", but the composition of preset inputs and the selection of additional inputs is a `SelectCoins`-level functionality that has little to do with specific coin selection algorithms. Composability should be tested at `SelectCoins` level (which it is in `spend_tests` and `wallet_fundrawtransaction.py`, although it could probably be more extensive). Since we already tested whether we can select two UTXOs that exactly match an amount in absence of fees above, I expect that we could remove this test altogether without losing coverage.",
      "created_at": "2023-12-04T16:45:51Z",
      "updated_at": "2023-12-04T16:46:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414190927",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414190927"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 348,
      "original_line": 348,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414228551",
      "pull_request_review_id": 1762980951,
      "id": 1414228551,
      "node_id": "PRRC_kwDOABII585US2pH",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": 1414086098,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For unit tests, having the information in a struct is fine. However I'm not sure that it is really useful information to return in the RPC. IIRC my suggestion for searching the debug log is for functional tests since those already have an `assert_debug_log` helper.",
      "created_at": "2023-12-04T17:15:40Z",
      "updated_at": "2023-12-04T17:15:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414228551",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414228551"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 482,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414434210",
      "pull_request_review_id": 1763310634,
      "id": 1414434210,
      "node_id": "PRRC_kwDOABII585UTo2i",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");\n+    CCoinControl coin_control;\n+    coin_control.m_feerate = effective_feerate;\n+    coin_control.destChange = change_dest;\n+    CRecipient recipient{PubKeyDestination({}), /*target=*/COIN, /*subtract_fee=*/true};\n+    BOOST_CHECK(CreateTransaction(*wallet, {recipient}, /*change_pos=*/-1, coin_control));",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In d62d49c605f89a325b929e8fb48091b0b56399ee \"test: add coverage for BnB-SFFO restriction\"\r\n\r\nIt seems like using `CreateTransaction` is a bit too high level for the goal of this test. Really this test is targeting the function that runs the various coin selection algorithms and chooses the result to return. This would be `ChooseSelectionResult`. Although this function is not exposed, its callers are, so this test could use either `SelectCoins` or `AutomaticCoinSelection` to test the same behavior. This would also remove the need to have the debug.log helper or even changing `CreatedTransactionResult` to contain the coin selection algorithm used since both of those functions return a `SelectionResult` which will contain the algo.\r\n\r\n```suggestion\r\n    FastRandomContext rand{};\r\n    CoinSelectionParams params{\r\n        rand,\r\n        /*change_output_size=*/ 31,\r\n        /*change_spend_size=*/ 68,\r\n        /*min_change_target=*/ 0,\r\n        /*effective_feerate=*/ CFeeRate(3000),\r\n        /*long_term_feerate=*/ CFeeRate(1000),\r\n        /*discard_feerate=*/ CFeeRate(1000),\r\n        /*tx_noinputs_size=*/ 0,\r\n        /*avoid_partial=*/ false,\r\n    };\r\n    params.m_subtract_fee_outputs = true;\r\n    params.m_change_fee = params.m_effective_feerate.GetFee(params.change_output_size);\r\n    params.m_cost_of_change = params.m_discard_feerate.GetFee(params.change_spend_size) + params.m_change_fee;\r\n\r\n    // Add spendable coin at the BnB selection upper bound\r\n    CoinsResult available_coins;\r\n    add_coin(available_coins, *wallet, COIN + params.m_cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\r\n\r\n    // Now verify coin selection does not produce BnB result\r\n    auto result = SelectCoins(*wallet, available_coins, {}, COIN, {}, params);\r\n    BOOST_CHECK(result.has_value());\r\n    BOOST_CHECK(result->GetAlgo() != SelectionAlgorithm::BNB);\r\n```",
      "created_at": "2023-12-04T20:10:58Z",
      "updated_at": "2023-12-04T20:13:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414434210",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414434210"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": 466,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 487,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414460418",
      "pull_request_review_id": 1763355144,
      "id": 1414460418,
      "node_id": "PRRC_kwDOABII585UTvQC",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": 1414086098,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For end users, it may not be particularly useful. However, I think that additional information at the RPC level could be beneficial for other utilities, like a coin selection metrics tool or for connected applications that uses core as their backend.\r\nThat said, there's no need to add it unless there's a need for it.\r\n\r\nOther than that, will return to the struct commit then.",
      "created_at": "2023-12-04T20:35:48Z",
      "updated_at": "2023-12-04T20:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414460418",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414460418"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 482,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414501781",
      "pull_request_review_id": 1763422560,
      "id": 1414501781,
      "node_id": "PRRC_kwDOABII585UT5WV",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");\n+    CCoinControl coin_control;\n+    coin_control.m_feerate = effective_feerate;\n+    coin_control.destChange = change_dest;\n+    CRecipient recipient{PubKeyDestination({}), /*target=*/COIN, /*subtract_fee=*/true};\n+    BOOST_CHECK(CreateTransaction(*wallet, {recipient}, /*change_pos=*/-1, coin_control));",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": 1414434210,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah. That would work as well.\r\nThe `CreateTransaction` usage comes from the previous version of this work (before we agreed to disable BnB when SFFO is enabled). Where BnB was enabled and this was verifying that the resulting transaction didn't contain a change output.",
      "created_at": "2023-12-04T21:07:09Z",
      "updated_at": "2023-12-04T21:07:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414501781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414501781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": 466,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 487,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414510843",
      "pull_request_review_id": 1763437471,
      "id": 1414510843,
      "node_id": "PRRC_kwDOABII585UT7j7",
      "diff_hunk": "@@ -377,7 +381,8 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n         expected_result.Clear();\n         add_coin(10 * CENT, 2, expected_result);\n         CCoinControl coin_control;\n-        const auto result11 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT, coin_control, coin_selection_params_bnb);\n+        CAmount fee_to_deduce = available_coins.coins[OutputType::BECH32].begin()->GetFee();\n+        const auto result11 = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/{}, 10 * CENT - fee_to_deduce, coin_control, coin_selection_params_bnb);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": 1414092139,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done as suggested",
      "created_at": "2023-12-04T21:17:27Z",
      "updated_at": "2023-12-04T21:17:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414510843",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414510843"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": 384,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 385,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414510887",
      "pull_request_review_id": 1763437556,
      "id": 1414510887,
      "node_id": "PRRC_kwDOABII585UT7kn",
      "diff_hunk": "@@ -407,13 +413,14 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n         expected_result.Clear();\n         add_coin(9 * CENT, 2, expected_result);\n         add_coin(1 * CENT, 2, expected_result);\n+        fee_to_deduce = available_coins.coins[OutputType::BECH32].begin()->GetFee() * 2; // x2 because we expect two inputs",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": 1414093219,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done as suggested",
      "created_at": "2023-12-04T21:17:31Z",
      "updated_at": "2023-12-04T21:17:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414510887",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414510887"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 416,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414510991",
      "pull_request_review_id": 1763437702,
      "id": 1414510991,
      "node_id": "PRRC_kwDOABII585UT7mP",
      "diff_hunk": "@@ -407,13 +413,14 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n         expected_result.Clear();\n         add_coin(9 * CENT, 2, expected_result);\n         add_coin(1 * CENT, 2, expected_result);\n+        fee_to_deduce = available_coins.coins[OutputType::BECH32].begin()->GetFee() * 2; // x2 because we expect two inputs\n         coin_control.m_allow_other_inputs = true;\n         COutput select_coin = available_coins.All().at(1); // pre select 9 coin\n         coin_control.Select(select_coin.outpoint);\n         PreSelectedInputs selected_input;\n         selected_input.Insert(select_coin, coin_selection_params_bnb.m_subtract_fee_outputs);\n         available_coins.Erase({(++available_coins.coins[OutputType::BECH32].begin())->outpoint});\n-        const auto result13 = SelectCoins(*wallet, available_coins, selected_input, 10 * CENT, coin_control, coin_selection_params_bnb);\n+        const auto result13 = SelectCoins(*wallet, available_coins, selected_input, 10 * CENT - fee_to_deduce, coin_control, coin_selection_params_bnb);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": 1414093367,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done as suggested",
      "created_at": "2023-12-04T21:17:38Z",
      "updated_at": "2023-12-04T21:17:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414510991",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414510991"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 423,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414511167",
      "pull_request_review_id": 1763437962,
      "id": 1414511167,
      "node_id": "PRRC_kwDOABII585UT7o_",
      "diff_hunk": "@@ -1260,6 +1263,7 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     // accidental reuse.\n     reservedest.KeepDestination();\n \n+    wallet.WalletLogPrintf(\"Coin Selection: Algorithm:%s, Waste:%d\", GetAlgorithmName(result.GetAlgo()), result.GetWaste());",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "233a07ade88d13154771417cf7700736ffce5211",
      "in_reply_to_id": 1414161933,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thx, fixed.",
      "created_at": "2023-12-04T21:17:49Z",
      "updated_at": "2023-12-04T21:17:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414511167",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414511167"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414511497",
      "pull_request_review_id": 1763438522,
      "id": 1414511497,
      "node_id": "PRRC_kwDOABII585UT7uJ",
      "diff_hunk": "@@ -453,6 +456,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    CTxDestination change_dest = *Assert(wallet->GetNewChangeDestination(OutputType::BECH32));\n+    CTxOut change_out(0, GetScriptForDestination(change_dest));\n+    size_t change_output_size = GetSerializeSize(change_out);\n+\n+    CFeeRate effective_feerate(10000);\n+    CFeeRate discard_feerate = GetDiscardRate(*wallet);\n+\n+    CAmount change_fee = effective_feerate.GetFee(change_output_size);\n+    size_t change_spend_size = CalculateMaximumSignedInputSize(change_out, wallet.get(), nullptr);\n+    CAmount cost_of_change = discard_feerate.GetFee(change_spend_size) + change_fee;\n+\n+    // Add spendable coin at the BnB selection upper bound\n+    CoinsResult available_coins;\n+    add_coin(available_coins, *wallet, COIN + cost_of_change, /*feerate=*/CFeeRate(0), /*nAge=*/6*24, /*fIsFromMe=*/true, /*nInput=*/0, /*spendable=*/true);\n+\n+    // Now verify coin selection does not produce BnB result\n+    ASSERT_DEBUG_LOG_NOT_FOUND(\"Coin Selection: Algorithm:bnb\");\n+    CCoinControl coin_control;\n+    coin_control.m_feerate = effective_feerate;\n+    coin_control.destChange = change_dest;\n+    CRecipient recipient{PubKeyDestination({}), /*target=*/COIN, /*subtract_fee=*/true};\n+    BOOST_CHECK(CreateTransaction(*wallet, {recipient}, /*change_pos=*/-1, coin_control));",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "d62d49c605f89a325b929e8fb48091b0b56399ee",
      "in_reply_to_id": 1414434210,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Pulled. Thx.",
      "created_at": "2023-12-04T21:18:15Z",
      "updated_at": "2023-12-04T21:18:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1414511497",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1414511497"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": null,
      "original_start_line": 466,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 487,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1415478557",
      "pull_request_review_id": 1764894179,
      "id": 1415478557,
      "node_id": "PRRC_kwDOABII585UXn0d",
      "diff_hunk": "@@ -449,6 +453,37 @@ BOOST_AUTO_TEST_CASE(bnb_search_test)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(tx_creation_bnb_sffo_restriction)\n+{\n+    // Verify the transaction creation process does not produce a BnB solution when SFFO is enabled.\n+    // This is currently problematic because it could require a change output. And BnB is specialized on changeless solutions.\n+    std::unique_ptr<CWallet> wallet = NewWallet(m_node);\n+    WITH_LOCK(wallet->cs_wallet, wallet->SetLastBlockProcessed(300, uint256{})); // set a high block so internal UTXOs are selectable\n+\n+    FastRandomContext rand{};\n+    CoinSelectionParams params{\n+            rand,\n+            /*change_output_size=*/ 31,\n+            /*change_spend_size=*/ 68,",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": 81,
      "original_position": 81,
      "commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "original_commit_id": "7e1bf0d7e7f157ced6dc83ff75ebcd901d91384a",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in https://github.com/bitcoin/bitcoin/pull/28994/commits/06cd7e0bea4408cc508ad4074a44ddced3c773f8:\r\n\r\nWhy 31 and 68? It's a bit confusing as it seems like these numbers were chosen with intention, but when I changed them both to 0 the test still passed (and also still failed as expected with `params.m_subtract_fee_outputs = false`).\r\n\r\nIf there is a reason for choosing these numbers, it's worth documenting the reason in a comment. If the numbers are arbitrary, it would be better to use 0 for both as it better communicates that the choice of numbers is irrelevant to the test.",
      "created_at": "2023-12-05T11:57:30Z",
      "updated_at": "2023-12-05T11:58:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28994#discussion_r1415478557",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1415478557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28994"
        }
      },
      "start_line": 466,
      "original_start_line": 466,
      "start_side": "RIGHT",
      "line": 467,
      "original_line": 467,
      "side": "RIGHT"
    }
  ]
}