{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574",
    "id": 1540056980,
    "node_id": "PR_kwDOABII585by2eU",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28574",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28574.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28574.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e04d002bb21afb83254874500fd58e6b87722bee",
    "number": 28574,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: optimize migration process, batch db transactions",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The benchmark conducted locally showed a ~65% processing time reduction, on a SSD.\r\nResults can be found at the end of the description.\r\n\r\n#### Detailed Description:\r\nThe current wallet migration process performs only individual db writes. Accessing disk to\r\ndelete all legacy records, clone and clean each address book entry for every created wallet,\r\ncreate each new descriptor (with their corresponding master key, caches and key pool), and\r\nalso clone and delete each transaction that requires to be transferred to a different wallet.\r\n\r\nThis work consolidates all individual disk writes into two batch operations. One for the descriptors\r\ncreation from the legacy data and a second one for the execution of the migration process itself.\r\nEfficiently dumping all the information to disk at once atomically at the end of each process.\r\n\r\nThis represent a speed up and also a consistency improvement. During migration, we either\r\nwant to succeed or fail. No other outcomes should be accepted. We should never leave a\r\npartially migrated wallet on disk and request the user to manually restore the previous wallet from\r\na backup (at least not if we can avoid it).\r\n\r\nAdditionally, since db transactions relevant to the key pool generation were also batched, this work\r\nalso speeds up the regular wallet creation process.\r\n\r\n#### Note for Testers:\r\nThe first commit introduces a benchmark for the migration process. This one can be\r\ncherry-picked on top of master to compare results pre and post changes.\r\n\r\nPlease note that the benchmark setup may take some time (~70 seconds here) due to the absence\r\nof a batching mechanism for the address generation process (`GetNewDestination()` calls). Which,\r\nI plan to address in a separate PR, just to not continue expanding this PR.\r\n\r\n#### Final Notes:\r\nThis PR is intended to be an \"all-in-one\" solution that's ready for use and testing. In the coming days, \r\nwill start breaking it down into smaller, focused PRs for better manageability and review.\r\n\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n\r\nBenchmark on master (debug mode)\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:-----------\r\n|   65,093,884,958.00 |                0.02 |    0.0% |     65.09 | `WalletMigration`\r\n\r\nBenchmark on this branch (debug mode)\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|   22,926,814,750.00 |                0.04 |    0.0% |     22.93 | `WalletMigration`",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-10-03T13:54:18Z",
    "updated_at": "2024-01-08T14:54:09Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "08eb522c6455b3760f0808ccace40cfbd228193d",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "furszy:2023_wallet_batch_migration",
      "ref": "2023_wallet_batch_migration",
      "sha": "e04d002bb21afb83254874500fd58e6b87722bee",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 390653,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-01-08T14:58:00Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2023-08-30T13:12:58Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "737e5884cc82dc352cef3ef26abc1cb8d3500b8b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36430,
        "stargazers_count": 73172,
        "watchers_count": 73172,
        "size": 247245,
        "default_branch": "master",
        "open_issues_count": 690,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-01-08T14:44:51Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-01-08T14:46:12Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 315,
    "deletions": 252,
    "changed_files": 11,
    "commits": 17,
    "review_comments": 0,
    "comments": 4
  },
  "events": [
    {
      "event": "commented",
      "id": 1745029746,
      "node_id": "IC_kwDOABII585oAwpy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1745029746",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T13:54:20Z",
      "updated_at": "2024-01-06T09:11:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28574).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1669633382), [theStack](https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1803694990) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29191](https://github.com/bitcoin/bitcoin/pull/29191) (refactor(tidy): Use C++20 contains method by aureleoules)\n* [#29136](https://github.com/bitcoin/bitcoin/pull/29136) (wallet: `addhdkey` RPC to add just keys to wallets via new `void(KEY)` descriptor by achow101)\n* [#29130](https://github.com/bitcoin/bitcoin/pull/29130) (wallet: Add `createwalletdescriptor` and `gethdkeys` RPCs for adding new automatically generated descriptors by achow101)\n* [#29129](https://github.com/bitcoin/bitcoin/pull/29129) (wallet, rpc: add BIP44 `account` in `createwallet` by brunoerg)\n* [#28987](https://github.com/bitcoin/bitcoin/pull/28987) (wallet: simplify and batch zap wallet txes process by furszy)\n* [#28710](https://github.com/bitcoin/bitcoin/pull/28710) (Remove the legacy wallet and BDB dependency by achow101)\n* [#28610](https://github.com/bitcoin/bitcoin/pull/28610) (wallet: Migrate entire address book entries to watchonly and solvables too by achow101)\n* [#28333](https://github.com/bitcoin/bitcoin/pull/28333) (wallet: Construct ScriptPubKeyMans with all data rather than loaded progressively by achow101)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n* [#26596](https://github.com/bitcoin/bitcoin/pull/26596) (wallet: Migrate legacy wallets to descriptor wallets without requiring BDB by achow101)\n* [#26008](https://github.com/bitcoin/bitcoin/pull/26008) (wallet: cache IsMine scriptPubKeys to improve performance of descriptor wallets by achow101)\n* [#22693](https://github.com/bitcoin/bitcoin/pull/22693) (RPC/Wallet: Add \"use_txids\" to output of getaddressinfo by luke-jr)\n* [#22341](https://github.com/bitcoin/bitcoin/pull/22341) (rpc: add path to gethdkey by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1745029746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "labeled",
      "id": 10538850933,
      "node_id": "LE_lADOABII585ysRL5zwAAAAJ0Khp1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10538850933",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T13:54:22Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T14:24:11Z",
      "updated_at": "2023-10-03T14:24:11Z",
      "source": {
        "issue": {
          "id": 1791741020,
          "node_id": "PR_kwDOABII585U0h8X",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28037/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28037/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28037/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28037",
          "number": 28037,
          "state": "open",
          "state_reason": null,
          "title": "rpc: Drop migratewallet experimental warning",
          "body": "The migration process itself hasn't fundamentally changed since it was added, so I think it's reasonable to say that it is no longer experimental.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/61",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/61",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/61/labels",
            "id": 9334188,
            "node_id": "MI_kwDOABII584Ajm2s",
            "number": 61,
            "state": "open",
            "title": "27.0",
            "description": "",
            "creator": {
              "login": "sipa",
              "id": 548488,
              "node_id": "MDQ6VXNlcjU0ODQ4OA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/sipa",
              "html_url": "https://github.com/sipa",
              "followers_url": "https://api.github.com/users/sipa/followers",
              "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
              "organizations_url": "https://api.github.com/users/sipa/orgs",
              "repos_url": "https://api.github.com/users/sipa/repos",
              "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/sipa/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 5,
            "closed_issues": 29,
            "created_at": "2023-04-27T08:01:57Z",
            "updated_at": "2024-01-05T10:42:16Z"
          },
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28037",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28037",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28037.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28037.patch"
          },
          "created_at": "2023-07-06T15:03:02Z",
          "updated_at": "2023-11-02T07:58:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T17:03:53Z",
      "updated_at": "2023-10-03T17:03:53Z",
      "source": {
        "issue": {
          "id": 1891532660,
          "node_id": "PR_kwDOABII585aE9mZ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28455",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28455/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28455/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28455/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28455",
          "number": 28455,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: share and use `GenerateRandomKey` helper",
          "body": "Making the `GeneratingRandomKey` helper (recently introduced in PR #28433, commit b6934fd03f080d437acb1fd2b665503c3d6de785) available to other modules via key.{h.cpp} allows us to create random private keys directly at CKey instantiation, in contrast to the currently needed two-step process of creating an (invalid) CKey instance first and then having to call `MakeNewKey(...)`.\r\n\r\nThis is mostly used in unit tests and a few instances in the wallet.",
          "user": {
            "login": "theStack",
            "id": 91535,
            "node_id": "MDQ6VXNlcjkxNTM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/theStack",
            "html_url": "https://github.com/theStack",
            "followers_url": "https://api.github.com/users/theStack/followers",
            "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
            "organizations_url": "https://api.github.com/users/theStack/orgs",
            "repos_url": "https://api.github.com/users/theStack/repos",
            "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/theStack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28455",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28455",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28455.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28455.patch"
          },
          "closed_at": "2024-01-02T15:56:53Z",
          "created_at": "2023-09-12T01:51:11Z",
          "updated_at": "2024-01-02T15:58:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T17:21:33Z",
      "updated_at": "2023-10-03T17:21:33Z",
      "source": {
        "issue": {
          "id": 1864300532,
          "node_id": "PR_kwDOABII585YpjCI",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28333",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28333/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28333/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28333/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28333",
          "number": 28333,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Construct ScriptPubKeyMans with all data rather than loaded progressively",
          "body": "Instead of constructing ScriptPubKeyMans with no data, and then loading data as we find it, we should gather everything first and then load it all on construction. If there actually is no data and we want to setup generation, then that should also occur in a constructor rather than afterwards.\r\n\r\nThis change is only applied to DescriptorScriptPubKeyMan and ExternalSignerScriptPubKeyMan, and should be done for any ScriptPubKeyMans added in the future. I don't think it's really worth it to do this for LegacyScriptPubKeyMan since it would make loading performance worse (or cause layer violations) and it's (supposed to be) going away soon.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28333",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28333",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28333.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28333.patch"
          },
          "created_at": "2023-08-24T02:55:39Z",
          "updated_at": "2024-01-06T09:38:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T18:03:33Z",
      "updated_at": "2023-10-03T18:03:33Z",
      "source": {
        "issue": {
          "id": 1753342247,
          "node_id": "PR_kwDOABII585SzfoS",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27865",
          "number": 27865,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Track no-longer-spendable TXOs separately",
          "body": "In #27286, the wallet keeps track of all of its transaction outputs, even if they are already spent or are otherwise unspendable. This TXO set is iterated for balance checking and coin selection preparation, which can still be slow for wallets that have had a lot of activity. This PR aims to improve the performance of such wallets by moving UTXOs that are definitely no longer spendable to a different map in the wallet so that far fewer TXOs need to be iterated for the aforementioned functions.\r\n\r\nUnspendable TXOs (not to be confused with Unspent TXOs) are those which have a spending transaction that has been confirmed, or are no longer valid due to reorgs. TXOs that are spent in unconfirmed transactions remain in the primary TXO set, and are filtered out of balance and coin selection as before.\r\n\r\nDepends on #27286",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27865",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27865",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27865.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27865.patch"
          },
          "created_at": "2023-06-12T18:40:10Z",
          "updated_at": "2024-01-06T10:19:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T18:30:20Z",
      "updated_at": "2023-10-03T18:30:20Z",
      "source": {
        "issue": {
          "id": 1632858009,
          "node_id": "PR_kwDOABII585MfYTP",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27286",
          "number": 27286,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Keep track of the wallet's own transaction outputs in memory",
          "body": "Currently, the wallet is not actually aware about its own transaction outputs. Instead, it will iterate all of the transactions stored in `mapWallet`, and then all of the outputs of those transactions, in order to figure out what belongs to it for the purposes of coin selection and balance calculation. For balance calculation, there is caching that results in it only iterating all of the transactions, but not all of the outputs. However when the cache is dirty, everything is iterated. This is especially problematic for wallets that have a lot of transactions, or transactions that have a lot of unrelated outputs (as may occur with coinjoins or batched payments).\r\n\r\nThis PR helps to resolve this issue by making the wallet track all of the outputs that belong to it in a new member `m_txos`. Note that this includes outputs that may have already been spent. Both balance calculation (`GetBalance`) and coin selection (`AvailableCoins`) are updated to iterate `m_txos`. This is generally faster since it ignores all of the unrelated outputs, and it is not slower as in the worst case of wallets containing only single output transactions, it's exactly the same number of outputs iterated.\r\n\r\n`m_txos` is memory only, and it is populated during wallet loading. When each transaction is loaded, all of its outputs are checked to see if it is `IsMine`, and if so, an entry added to `m_txos`. When new transactions are received, the same procedure is done.\r\n\r\nSince imports can change the `IsMine` status of a transaction (although they can only be \"promoted\" from watchonly to spendable), all of the import RPCs will be a bit slower as they re-iterate all transactions and all outputs to update `m_txos`.\r\n\r\nEach output in `m_txos` is stored in a new `WalletTXO` class. This class contains references to the parent `CWalletTx` and the `CTxOut` itself. It also caches the `IsMine` value of the txout. This should be safe as `IsMine` should not change unless there are imports. This allows us to have additional performance improvements in places that use these `WalletTXO`s as they can use the cached `IsMine` rather than repeatedly calling `IsMine` which can be expensive.\r\n\r\nThe existing `WalletBalance` benchmark demonstrates the performance improvement that this PR makes. The existing `WalletAvailableCoins` benchmark doesn't as all of the outputs used in that benchmark belong to the test wallet. I've updated that benchmark to have a bunch of unrelated outputs in each transaction so that the difference is demonstrated.\r\n\r\nThis is part of a larger project to have the wallet actually track and store a set of its UTXOs.\r\n\r\nBuilt on #24914 as it requires loading the txs last in order for `m_txos` to be built correctly.\r\n\r\n***\r\n\r\n## Benchmarks:\r\n\r\nMaster:\r\n\r\n|               ns/op |                op/s |    err% |          ins/op |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|---------------:|--------:|----------:|:----------\r\n|       92,245,141.50 |               10.84 |    0.1% |  988,823,975.00 |  66,803,340.50 |    0.0% |      2.04 | `WalletAvailableCoins`\r\n|            5,709.90 |          175,134.50 |    0.5% |       80,968.24 |      25,539.15 |    0.1% |      0.01 | `WalletBalanceClean`\r\n|          139,396.17 |            7,173.80 |    0.6% |    1,383,390.50 |     430,276.86 |    0.0% |      0.01 | `WalletBalanceDirty`\r\n|            5,055.80 |          197,792.47 |    0.3% |       80,968.10 |      25,539.02 |    0.1% |      0.01 | `WalletBalanceMine`\r\n|                9.79 |      102,152,396.19 |    0.1% |          161.00 |          37.00 |    0.0% |      0.01 | `WalletBalanceWatch`\r\n|        1,552,736.00 |              644.02 |    1.5% |   20,316,315.80 |     618,545.80 |    0.6% |      0.08 | `WalletCreateTxUseOnlyPresetInputs`\r\n|      114,114,732.00 |                8.76 |    0.5% |1,291,047,717.60 | 320,244,602.00 |    0.0% |      6.30 | `WalletCreateTxUsePresetInputsAndCoinSelection`\r\n|      359,315,754.00 |                2.78 |    0.1% |4,339,447,818.00 | 136,619,757.00 |    0.7% |      1.80 | `WalletLoadingDescriptors`\r\n|       98,230,601.00 |               10.18 |    0.1% |  537,688,964.00 |  97,332,266.00 |    0.3% |      0.49 | `WalletLoadingLegacy`\r\n\r\nPR:\r\n\r\n|               ns/op |                op/s |    err% |          ins/op |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|---------------:|--------:|----------:|:----------\r\n|       75,319,868.50 |               13.28 |    0.2% |  863,758,229.00 |  30,892,593.00 |    0.2% |      1.66 | `WalletAvailableCoins`\r\n|            2,367.62 |          422,364.95 |    1.0% |       35,785.05 |       9,893.01 |    0.2% |      0.01 | `WalletBalanceClean`\r\n|            2,685.58 |          372,359.55 |    0.2% |       36,501.05 |      10,027.01 |    0.1% |      0.01 | `WalletBalanceDirty`\r\n|            3,462.24 |          288,830.68 |    2.7% |       35,785.06 |       9,893.01 |    0.3% |      0.01 | `WalletBalanceMine`\r\n|               11.65 |       85,838,176.97 |    0.1% |          180.00 |          42.00 |    0.0% |      0.01 | `WalletBalanceWatch`\r\n|        1,563,092.60 |              639.76 |    1.5% |   20,426,154.40 |     649,953.80 |    0.6% |      0.09 | `WalletCreateTxUseOnlyPresetInputs`\r\n|       58,367,804.40 |               17.13 |    0.9% |  587,164,005.00 | 107,905,843.80 |    0.1% |      3.21 | `WalletCreateTxUsePresetInputsAndCoinSelection`\r\n|      365,302,636.00 |                2.74 |    0.2% |4,349,345,147.00 | 138,730,668.00 |    0.8% |      1.83 | `WalletLoadingDescriptors`\r\n|      124,995,585.00 |                8.00 |    1.2% |  801,998,316.00 | 103,210,721.00 |    0.3% |      0.63 | `WalletLoadingLegacy`\r\n",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27286",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27286",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27286.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27286.patch"
          },
          "created_at": "2023-03-20T21:02:45Z",
          "updated_at": "2024-01-06T10:42:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T18:56:40Z",
      "updated_at": "2023-10-03T18:56:40Z",
      "source": {
        "issue": {
          "id": 1467243567,
          "node_id": "PR_kwDOABII585D2F4R",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26596",
          "number": 26596,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Migrate legacy wallets to descriptor wallets without requiring BDB",
          "body": "Currently migrating to descriptor wallets requires having BDB available. In order to remove BDB from the project, we need to be able to do these migrations without BDB. This PR adds `BerkeleyRODatabase` which is an independent implementation of a BDB file parser. It can be used to read uncorrupted BDB files and extract all of their records. This is used for both the wallettool's `dump` command, and `migratewallet`.\r\n\r\nBased on #26606 ",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26596",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26596.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26596.patch"
          },
          "created_at": "2022-11-28T23:46:50Z",
          "updated_at": "2024-01-06T11:08:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T19:11:14Z",
      "updated_at": "2023-10-03T19:11:14Z",
      "source": {
        "issue": {
          "id": 1361274567,
          "node_id": "PR_kwDOABII584-VbNV",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26008",
          "number": 26008,
          "state": "open",
          "state_reason": null,
          "title": "wallet: cache IsMine scriptPubKeys to improve performance of descriptor wallets",
          "body": "Wallets that have a ton of non-ranged descriptors (such as a migrated non-HD wallet) perform fairly poorly due to looping through all of the wallet's `ScriptPubKeyMan`s. This is done in various places, such as `IsMine`, and helper functions for fetching a `ScriptPubKeyMan` and a `SolvingProvider`. This also has a bit of a performance impact on standard descriptor wallets, although less noticeable due to the small number of SPKMs.\r\n\r\nAs these functions are based on doing `IsMine` for each `ScriptPubKeyMan`, we can improve this performance by caching `IsMine` scriptPubKeys for all descriptors and use that to determine which `ScriptPubKeyMan` to actually use for those things. This cache is used exclusively and we no longer iterate the SPKMs.\r\n\r\nAlso added a benchmark for `IsMine`.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26008",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26008",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26008.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26008.patch"
          },
          "created_at": "2022-09-04T23:03:15Z",
          "updated_at": "2024-01-06T11:21:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T19:16:10Z",
      "updated_at": "2023-10-03T19:16:10Z",
      "source": {
        "issue": {
          "id": 1320033494,
          "node_id": "PR_kwDOABII5848NBt5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25722",
          "number": 25722,
          "state": "open",
          "state_reason": null,
          "title": "refactor: Use util::Result class for wallet loading",
          "body": "**This is based on #25665.** The non-base commits are:\r\n\r\n- [`1b2a5f12b425` refactor: Use util::Result class for wallet loading](https://github.com/bitcoin/bitcoin/pull/25722/commits/1b2a5f12b42543d13a4bcafb9585e3d1df488914)\r\n\r\n---\r\n\r\nWallet loading functions up and down the stack have lots of error and warning parameters, and return error information in different ways. This PR makes them uniformly return `util::Result`, without changing behavior.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25722",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25722",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25722.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25722.patch"
          },
          "created_at": "2022-07-27T19:26:58Z",
          "updated_at": "2023-10-16T16:19:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-04T00:47:30Z",
      "updated_at": "2023-10-04T00:47:30Z",
      "source": {
        "issue": {
          "id": 1503703234,
          "node_id": "PR_kwDOABII585F0rVt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26728",
          "number": 26728,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Have the wallet store the key for automatically generated descriptors",
          "body": "The wallet currently does not know the master key that was used to generate the automatically generated descriptors. This makes it difficult to add new automatically generated descriptors when new ones are introduced. So instead of losing this information after the descriptors are created, have `CWallet` store it. The xpub will be stored in a new `activehdkey` field. The private key must be one of the keys that is used by the descriptors, and will be extracted upon loading.\r\n\r\nAs this is a new field, wallets will be automatically upgraded upon loading. This loading is backwards compatible and uses a new non-required flag `WALLET_FLAG_GLOBAL_HD_KEY` to signal that the upgrade completed. The upgrade will search for an xpub that is shared by `pkh()`, `wpkh()`, and `sh(wpkh()` descriptors with the derivation pattern that we use. For new wallets, the xpub will be set during descriptor creation rather than trying to reverse engineer it. The flag will be set for all wallets, regardless of whether such an xpub was found or can even exist, in order to indicate that the upgrade will not need to be run in the future.\r\n\r\nThis allows us to have a `gethdkey` command which is useful for those who need a simple way to get an xpub from a wallet. `gethdkey` can also take a boolean parameter to indicate whether it should also output the corresponding xprv.\r\n\r\nSupercedes #23417",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 65,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26728",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26728",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26728.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26728.patch"
          },
          "closed_at": "2024-01-06T00:05:58Z",
          "created_at": "2022-12-19T22:31:05Z",
          "updated_at": "2024-01-06T00:05:58Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-04T01:04:55Z",
      "updated_at": "2023-10-04T01:04:55Z",
      "source": {
        "issue": {
          "id": 1347108338,
          "node_id": "PR_kwDOABII5849mUDu",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25907",
          "number": 25907,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: rpc to add automatically generated descriptors",
          "body": "It is useful to have a RPC that can create and add the automatically generated descriptors (that are normally made during creation) to a wallet. This is especially useful when a new default descriptor has been implemented as it allows wallets created before that time to quickly and easily add that type of descriptor.\r\n\r\nIn particular, descriptor wallets created before Taproot was implemented can use the new `createwalletdescriptor` RPC in order to get a Taproot descriptor.\r\n\r\nFurthermore, to keep the newly generated descriptor in line with the existing descriptors, this PR uses #26728 as it exposes a \"wallet extended key\" for us (in addition to upgrading wallets implemented prior to have a wallet xpub). The newly generated descriptors will use the \"wallet extended key\" stored in `CWallet` that PR adds.\r\n\r\n`createwalletdescriptor` is generic and so it can also be used with the other address types. Of course, it given the same wallet extended key, address type, and internal-ness, it will create the same descriptor. So some refactoring has been done in order to detect that the same descriptor is about to be created, and to avoid overwriting any existing descriptors.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25907",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25907",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25907.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25907.patch"
          },
          "closed_at": "2024-01-06T00:06:14Z",
          "created_at": "2022-08-22T23:17:45Z",
          "updated_at": "2024-01-06T00:06:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10544965067,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAJ0h2XL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10544965067",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-04T01:16:18Z"
    },
    {
      "event": "labeled",
      "id": 10544965328,
      "node_id": "LE_lADOABII585ysRL5zwAAAAJ0h2bQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10544965328",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-04T01:16:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10557086015,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAJ1QFk_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10557086015",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T00:52:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10563816833,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAJ1pw2B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10563816833",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T13:24:22Z"
    },
    {
      "event": "unlabeled",
      "id": 10566838867,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAJ11SpT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10566838867",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T17:46:48Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-06T23:04:27Z",
      "updated_at": "2023-10-06T23:04:27Z",
      "source": {
        "issue": {
          "id": 930266556,
          "node_id": "MDExOlB1bGxSZXF1ZXN0Njc3OTg5MzM4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22341",
          "number": 22341,
          "state": "open",
          "state_reason": null,
          "title": "rpc: add path to gethdkey",
          "body": "Depends on #26728.\r\n\r\nThis PR expands the wallet RPC `gethdkey` introduced in #26728. It takes a BIP32 path as argument and returns the xpub, along with the master key fingerprint.\r\n\r\nTo test this PR:\r\n\r\n* create a regular descriptor wallet\r\n* call `getxpub m/86h/0h/0h`\r\n* call `listdescriptors`, compare the xpub in the `tr()` descriptor with the previous step\r\n\r\n## Bigger picture\r\n\r\nThis paves the way for using Bitcoin Core as one signer in a multisig setup. It simplifies the proposed flow in #22067.\r\n\r\nThe eventual flow would be:\r\n1. Create a blank wallet with a seed (either with no descriptors, or where its single key descriptors are not `active`, so they don't get used when calling `getnewaddress`). \r\n2. Call `getxpub m/87h/0h/0h` (as suggested in [BIP 87](https://github.com/bitcoin/bips/blob/master/bip-0087.mediawiki))\r\n3. (Manually, with Specter or with a simple Python utility - TBD): craft a multisig descriptor containing this xpub\r\n4. Call `importdescriptors` which will allow the import if its own fingerprint is recognized (and after checking the xpub)\r\n5. The usual flow with `getnewaddress`, `send` and `walletprocesspsbt` (and their GUI equivalents)\r\n\r\nThis PR makes step (2) possible.\r\n\r\nStep (1) would require a followup, because blank wallets currently can't have a seed. Step 4 would also require a followup,  so that `importdescriptors` treats an `xpub` as if it was an `xpriv`, after checking that it can derive the xpub from the seed (that matches the fingerprint)\r\n\r\nOn the GUI side a wizard could perform the above steps and guide the user, where they either:\r\n* export their own xpub and then import a descriptor from somewhere else (performing some sanity checks); or\r\n* import xpub(s) from other wallets, compose a multisig and get the descriptors for export; or\r\n* get xpub(s) from connected hardware devices and configure a multisig (with or without a key on their machine)",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 34,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22341",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22341",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22341.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22341.patch"
          },
          "created_at": "2021-06-25T15:12:03Z",
          "updated_at": "2024-01-08T14:56:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-07T01:32:51Z",
      "updated_at": "2023-10-07T01:32:51Z",
      "source": {
        "issue": {
          "id": 1931012024,
          "node_id": "PR_kwDOABII585cJ1Re",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28610",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28610/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28610/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28610/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28610",
          "number": 28610,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Migrate entire address book entries to watchonly and solvables too",
          "body": "Not all of the data in an address book entry was being copied to the watchonly and solvables wallets. This includes information such as whether the address was previously spent, and any receive requests that may exist. A test has been added to check that the previously spent information is copied, although it passes without the changes in this PR since this information is also regenerated when a transaction is loaded/added into a wallet.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28610",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28610",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28610.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28610.patch"
          },
          "closed_at": "2024-01-08T14:44:54Z",
          "created_at": "2023-10-06T22:39:29Z",
          "updated_at": "2024-01-08T14:44:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-07T01:33:34Z",
      "updated_at": "2023-10-07T01:33:34Z",
      "source": {
        "issue": {
          "id": 1931010723,
          "node_id": "PR_kwDOABII585cJ0_Z",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28609",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28609/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28609/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28609/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28609",
          "number": 28609,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Reload watchonly and solvables wallets after migration",
          "body": "Some incomplete/incorrect state as a result of migration can be mitigated/cleaned up by simply restarting the migrated wallets. We already do this for a wallet when it is migrated, but we do not for the new watchonly and solvables wallets that may be created. This PR introduces this behavior, in addition to creating those wallets initially without an attached chain.\r\n\r\nWhile implementing this, I noticed that not all `CWalletTx` metadata was being copied over to the watchonly wallet and so some data, such as time received, was being lost. This PR fixes this as a side effect of not having a chain attached to the watchonly wallet. A test has also been added.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
            "id": 9286970,
            "node_id": "MI_kwDOABII584AjbU6",
            "number": 60,
            "state": "closed",
            "title": "26.0",
            "description": "",
            "creator": {
              "login": "fanquake",
              "id": 863730,
              "node_id": "MDQ6VXNlcjg2MzczMA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/fanquake",
              "html_url": "https://github.com/fanquake",
              "followers_url": "https://api.github.com/users/fanquake/followers",
              "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
              "organizations_url": "https://api.github.com/users/fanquake/orgs",
              "repos_url": "https://api.github.com/users/fanquake/repos",
              "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/fanquake/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 116,
            "created_at": "2023-04-15T11:36:05Z",
            "updated_at": "2023-12-08T10:41:40Z",
            "closed_at": "2023-12-04T13:27:46Z"
          },
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28609",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28609",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28609.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28609.patch"
          },
          "closed_at": "2023-10-23T21:35:50Z",
          "created_at": "2023-10-06T22:37:30Z",
          "updated_at": "2023-10-23T21:35:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1669633382,
      "node_id": "PRR_kwDOABII585jhJVm",
      "url": null,
      "actor": null,
      "commit_id": "6a2e6e43df99f9254d86158fab333315e8a8df41",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK.\r\n\r\nI'll also perform the benchmark as instructed clearly in the description and will review the code later.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1669633382",
      "submitted_at": "2023-10-11T02:26:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-20T14:35:58Z",
      "updated_at": "2023-10-20T14:35:58Z",
      "source": {
        "issue": {
          "id": 722711719,
          "node_id": "MDU6SXNzdWU3MjI3MTE3MTk=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20160",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20160/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20160/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20160/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/20160",
          "number": 20160,
          "state": "open",
          "state_reason": null,
          "title": "Proposed Timeline for Legacy Wallet and BDB removal",
          "body": "Here is a proposed timeline for the move from legacy wallets to descriptor wallets, and at the same time, bdb to sqlite, culminating with the removal of both legacy wallets and bdb. Even though the wallet type and the wallet storage format are orthogonal to each other, as noted in #19077, I would like to tie them together for the sake of simplicity when it comes to how we make new wallets and the migration of one type to another.\r\n\r\nThe 4 combinations of type and format are: legacy-bdb, legacy-sqlite, descriptor-bdb, and descriptor-sqlite. While all 4 types will be supported, we will primarily deal with legacy-bdb and descriptor-sqlite. Setting `descriptors=True` in `createwallet` (or checking the Descriptors option in the GUI) will always make a descriptor-sqlite. Setting that to `False` will always make a legacy-bdb.\r\n\r\n- [x] 0.21 (late 2020)\r\n  - [x] Initial release of descriptor type and sqlite format. (#16528, #19077)\r\n  - [x] Descriptor type is experimental with a warning as such (#16528)\r\n  - [x] Only legacy-bdb and descriptor-sqlite will be created (#19077)\r\n- [x] 22.0 (mid 2021)\r\n  - [x] Implement descriptor exports (#20226)\r\n  - [x] Legacy type remains default (no pr needed)\r\n  - [x] Introduce `dump` and `createfromdump` wallet tool commands with an additional `-format` option to specify the wallet type (#19137)\r\n    * Users may use `dump` and then `createfromdump` in order to make legacy-sqlite from legacy-bdb\r\n    * Users may use `dump` and then `createfromdump` in order to make descriptor-bdb from descriptor-sqlite\r\n  - [x] If a wallet specified in conf or command line doesn't exist, don't make a wallet and instead warn (#15454)\r\n- [x] 23.0 (early 2022)\r\n  - [x] Change descriptor type to non-experimental (#23002)\r\n  - [x] Change `createwallet` `descriptors` default to `True` (#23002)\r\n  - [x] Change wallet tool `create` `-descriptors` default to `True` (#23002)\r\n- [x] 24.0 (late 2022)\r\n  - [x] Introduce `migratewallet` command to migrate a legacy-bdb to descriptor-sqlite (#19602)\r\n  - [x] For newly created legacy-bdb wallets, warn that they are deprecated and will soon be unsupported (#24505)\r\n- [ ] 26.0 (late 2023)\r\n  - [x] When loading legacy-bdb, descriptor-bdb, or legacy-sqlite wallets, warn that the legacy type and bdb format will soon be unsupported, as applicable. (#27869)\r\n  - [x] Deprecate creating new legacy-bdb wallets #28597 \r\n  - [ ] `migratewallet` bug fixes\r\n    - [x] #28609\r\n    - [ ] #28546\r\n- [ ] 27.0 (early 2024)\r\n  - [ ] Remove `migratewallet` experimental warning #28037 \r\n  - [ ] Reimplement legacy-bdb to descriptor-sqlite migration (maybe as a separate command or in the wallet tool) to be independent of `LegacyScriptPubKeyMan` and BDB (#26596)\r\n  - [ ] For `dump`, implement an independent BDB file loader (this should probably be shared with the previous) (#26606)\r\n  - [ ] Stop creating new legacy-bdb wallets (not yet started)\r\n  - [ ] Batch DB Writes (@furszy) (#28574)\r\n  - [ ] GUI: Migrate wallets that are not loaded (not yet started)\r\n- [ ] 28.0 (late 2024)\r\n  - [ ] Stop loading legacy-bdb, descriptor-bdb, legacy-sqlite wallet entirely. Inform users how to migrate (not yet started)\r\n  - [ ] Remove `LegacyScriptPubKeyMan` except for the independent migration stuff (#28710)\r\n  - [ ] Remove BDB except for independent loading for migration stuff (#28710)\r\n\r\nAdditional improvements that have no target deadline:\r\n\r\n- [ ] Run `--legacy-wallet` and `--descriptors` tests in a single invocation of a functional test case  #20892\r\n- [ ] Caching to improve performance of migrated non-HD descriptor wallets (also perf improvement in general) #26008\r\n- [ ] Backwards compatibility tests fixes for descriptor wallets #28027\r\n\r\nThe migration code will probably be around for a long time/forever.\r\n\r\nNote that we expect users who go through the effort to make a legacy-sqlite or descriptor-bdb wallet to suck it up and deal with the consequences of doing something that isn't really supported. Such users should be able to figure out for themselves how to migrate their wallets. (Maybe `migratewallet` can migrate legacy-sqlite to descriptor-sqlite. bdb to sqlite is way easier than legacy to descriptor).",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 35,
          "created_at": "2020-10-15T22:17:41Z",
          "updated_at": "2023-12-20T23:28:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T02:47:02Z",
      "updated_at": "2023-10-24T02:47:02Z",
      "source": {
        "issue": {
          "id": 1958204865,
          "node_id": "PR_kwDOABII585dlfBo",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28710",
          "number": 28710,
          "state": "open",
          "state_reason": null,
          "title": "Remove the legacy wallet and BDB dependency",
          "body": "The final step of #20160.\r\n\r\nA bare minimum of legacy wallet code is kept in order to perform wallet migration. Migration of legacy wallets uses the independent BDB parser and a minimal `LegacyDataSPKM` that allows the legacy data to be loaded so that the migration can be completed.\r\n\r\nAll tests which tested legacy wallet behavior have been removed. The `--descriptors` and `--legacy-wallet` options are removed from the functional tests.\r\n\r\nBDB has been removed as a dependency and documentation have been updated to reflect that.\r\n\r\nDepends on #26596",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28710",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28710",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28710.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28710.patch"
          },
          "created_at": "2023-10-23T23:36:07Z",
          "updated_at": "2024-01-07T23:54:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1803694990,
      "node_id": "IC_kwDOABII585rgjOO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1803694990",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T11:57:00Z",
      "updated_at": "2023-11-09T11:57:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1803694990",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T14:08:31Z",
      "updated_at": "2023-11-09T14:08:31Z",
      "source": {
        "issue": {
          "id": 1697554700,
          "node_id": "I_kwDOABII585lLqEM",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27582",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27582/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27582/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27582/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/27582",
          "number": 27582,
          "state": "closed",
          "state_reason": "completed",
          "title": "TSAN: lock-order-inversion (potential deadlock) in ZapSelectTx test",
          "body": "master (6c7ebcc14b7908a67a8f8764b398e76c8fb4fe8b) running the TSAN CI job, on Fedora 38, with podman:\r\n```bash\r\n==================\r\nWARNING: ThreadSanitizer: lock-order-inversion (potential deadlock) (pid=94411)\r\n  Cycle in lock order graph: M0 (0xffff8c427208) => M1 (0xffff8c42d868) => M2 (0xffff8c42da18) => M0\r\n\r\n  Mutex M1 acquired here while holding mutex M0 in main thread:\r\n    #0 pthread_rwlock_wrlock <null> (test_bitcoin+0x150920) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #1 __db_pthread_mutex_lock <null> (test_bitcoin+0x125ac7c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #2 wallet::BerkeleyBatch::BerkeleyBatch(wallet::BerkeleyDatabase&, bool, bool) src/wallet/bdb.cpp:325:14 (test_bitcoin+0xb9307c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #3 std::__1::__unique_if<wallet::BerkeleyBatch>::__unique_single std::__1::make_unique[abi:v160000]<wallet::BerkeleyBatch, wallet::BerkeleyDatabase&, bool, bool&>(wallet::BerkeleyDatabase&, bool&&, bool&) /usr/lib/llvm-16/bin/../include/c++/v1/__memory/unique_ptr.h:686:30 (test_bitcoin+0xb99544) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #4 wallet::BerkeleyDatabase::MakeBatch(bool) src/wallet/bdb.cpp:863:12 (test_bitcoin+0xb99544)\r\n    #5 wallet::WalletBatch::WalletBatch(wallet::WalletDatabase&, bool) src/./wallet/walletdb.h:220:26 (test_bitcoin+0xb2efec) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #6 wallet::CWallet::LoadWallet() src/wallet/wallet.cpp:2319:31 (test_bitcoin+0xb2efec)\r\n    #7 wallet::CWallet::Create(wallet::WalletContext&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::unique_ptr<wallet::WalletDatabase, std::__1::default_delete<wallet::WalletDatabase>>, unsigned long, bilingual_str&, std::__1::vector<bilingual_str, std::__1::allocator<bilingual_str>>&) src/wallet/wallet.cpp:2883:47 (test_bitcoin+0xb1617c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #8 wallet::wallet_tests::TestLoadWallet(wallet::WalletContext&) src/wallet/test/wallet_tests.cpp:54:19 (test_bitcoin+0x987d8c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #9 wallet::wallet_tests::ZapSelectTx::test_method() src/wallet/test/wallet_tests.cpp:924:19 (test_bitcoin+0x98a5f4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #10 wallet::wallet_tests::ZapSelectTx_invoker() src/wallet/test/wallet_tests.cpp:918:1 (test_bitcoin+0x989f94) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #11 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:117:11 (test_bitcoin+0x2d3af8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #12 boost::function0<void>::operator()() const /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:763:14 (test_bitcoin+0x264adc) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #13 boost::detail::forward::operator()() /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1388:32 (test_bitcoin+0x264adc)\r\n    #14 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:137:18 (test_bitcoin+0x264adc)\r\n    #15 boost::function0<int>::operator()() const /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:763:14 (test_bitcoin+0x1f8b04) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #16 int boost::detail::do_invoke<boost::shared_ptr<boost::detail::translator_holder_base>, boost::function<int ()>>(boost::shared_ptr<boost::detail::translator_holder_base> const&, boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:301:30 (test_bitcoin+0x1f8b04)\r\n    #17 boost::execution_monitor::catch_signals(boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:903:16 (test_bitcoin+0x1f8b04)\r\n    #18 boost::execution_monitor::execute(boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1301:16 (test_bitcoin+0x1f8dfc) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #19 boost::execution_monitor::vexecute(boost::function<void ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1397:5 (test_bitcoin+0x1f2640) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #20 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_monitor.ipp:49:9 (test_bitcoin+0x1f2640)\r\n    #21 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:815:44 (test_bitcoin+0x22257c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #22 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:784:58 (test_bitcoin+0x2228a8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #23 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:784:58 (test_bitcoin+0x2228a8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #24 boost::unit_test::framework::run(unsigned long, bool) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:1722:29 (test_bitcoin+0x1f15e4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #25 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_main.ipp:250:9 (test_bitcoin+0x20af48) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #26 main /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_main.ipp:306:12 (test_bitcoin+0x20b4f4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n\r\n    Hint: use TSAN_OPTIONS=second_deadlock_stack=1 to get more informative warning message\r\n\r\n  Mutex M2 acquired here while holding mutex M1 in main thread:\r\n    #0 pthread_rwlock_wrlock <null> (test_bitcoin+0x150920) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #1 __db_pthread_mutex_lock <null> (test_bitcoin+0x125ac7c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #2 wallet::BerkeleyBatch::BerkeleyBatch(wallet::BerkeleyDatabase&, bool, bool) src/wallet/bdb.cpp:325:14 (test_bitcoin+0xb9307c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #3 std::__1::__unique_if<wallet::BerkeleyBatch>::__unique_single std::__1::make_unique[abi:v160000]<wallet::BerkeleyBatch, wallet::BerkeleyDatabase&, bool, bool&>(wallet::BerkeleyDatabase&, bool&&, bool&) /usr/lib/llvm-16/bin/../include/c++/v1/__memory/unique_ptr.h:686:30 (test_bitcoin+0xb99544) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #4 wallet::BerkeleyDatabase::MakeBatch(bool) src/wallet/bdb.cpp:863:12 (test_bitcoin+0xb99544)\r\n    #5 wallet::WalletBatch::WalletBatch(wallet::WalletDatabase&, bool) src/./wallet/walletdb.h:220:26 (test_bitcoin+0xb2efec) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #6 wallet::CWallet::LoadWallet() src/wallet/wallet.cpp:2319:31 (test_bitcoin+0xb2efec)\r\n    #7 wallet::CWallet::Create(wallet::WalletContext&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::unique_ptr<wallet::WalletDatabase, std::__1::default_delete<wallet::WalletDatabase>>, unsigned long, bilingual_str&, std::__1::vector<bilingual_str, std::__1::allocator<bilingual_str>>&) src/wallet/wallet.cpp:2883:47 (test_bitcoin+0xb1617c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #8 wallet::wallet_tests::TestLoadWallet(wallet::WalletContext&) src/wallet/test/wallet_tests.cpp:54:19 (test_bitcoin+0x987d8c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #9 wallet::wallet_tests::ZapSelectTx::test_method() src/wallet/test/wallet_tests.cpp:924:19 (test_bitcoin+0x98a5f4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #10 wallet::wallet_tests::ZapSelectTx_invoker() src/wallet/test/wallet_tests.cpp:918:1 (test_bitcoin+0x989f94) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #11 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:117:11 (test_bitcoin+0x2d3af8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #12 boost::function0<void>::operator()() const /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:763:14 (test_bitcoin+0x264adc) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #13 boost::detail::forward::operator()() /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1388:32 (test_bitcoin+0x264adc)\r\n    #14 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:137:18 (test_bitcoin+0x264adc)\r\n    #15 boost::function0<int>::operator()() const /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:763:14 (test_bitcoin+0x1f8b04) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #16 int boost::detail::do_invoke<boost::shared_ptr<boost::detail::translator_holder_base>, boost::function<int ()>>(boost::shared_ptr<boost::detail::translator_holder_base> const&, boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:301:30 (test_bitcoin+0x1f8b04)\r\n    #17 boost::execution_monitor::catch_signals(boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:903:16 (test_bitcoin+0x1f8b04)\r\n    #18 boost::execution_monitor::execute(boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1301:16 (test_bitcoin+0x1f8dfc) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #19 boost::execution_monitor::vexecute(boost::function<void ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1397:5 (test_bitcoin+0x1f2640) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #20 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_monitor.ipp:49:9 (test_bitcoin+0x1f2640)\r\n    #21 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:815:44 (test_bitcoin+0x22257c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #22 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:784:58 (test_bitcoin+0x2228a8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #23 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:784:58 (test_bitcoin+0x2228a8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #24 boost::unit_test::framework::run(unsigned long, bool) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:1722:29 (test_bitcoin+0x1f15e4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #25 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_main.ipp:250:9 (test_bitcoin+0x20af48) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #26 main /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_main.ipp:306:12 (test_bitcoin+0x20b4f4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n\r\n  Mutex M0 acquired here while holding mutex M2 in main thread:\r\n    #0 pthread_rwlock_rdlock <null> (test_bitcoin+0x1503b4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #1 __db_pthread_mutex_readlock <null> (test_bitcoin+0x125af10) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #2 wallet::BerkeleyBatch::BerkeleyBatch(wallet::BerkeleyDatabase&, bool, bool) src/wallet/bdb.cpp:325:14 (test_bitcoin+0xb9307c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #3 std::__1::__unique_if<wallet::BerkeleyBatch>::__unique_single std::__1::make_unique[abi:v160000]<wallet::BerkeleyBatch, wallet::BerkeleyDatabase&, bool, bool&>(wallet::BerkeleyDatabase&, bool&&, bool&) /usr/lib/llvm-16/bin/../include/c++/v1/__memory/unique_ptr.h:686:30 (test_bitcoin+0xb99544) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #4 wallet::BerkeleyDatabase::MakeBatch(bool) src/wallet/bdb.cpp:863:12 (test_bitcoin+0xb99544)\r\n    #5 wallet::WalletBatch::WalletBatch(wallet::WalletDatabase&, bool) src/./wallet/walletdb.h:220:26 (test_bitcoin+0xb2efec) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #6 wallet::CWallet::LoadWallet() src/wallet/wallet.cpp:2319:31 (test_bitcoin+0xb2efec)\r\n    #7 wallet::CWallet::Create(wallet::WalletContext&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, std::__1::unique_ptr<wallet::WalletDatabase, std::__1::default_delete<wallet::WalletDatabase>>, unsigned long, bilingual_str&, std::__1::vector<bilingual_str, std::__1::allocator<bilingual_str>>&) src/wallet/wallet.cpp:2883:47 (test_bitcoin+0xb1617c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #8 wallet::wallet_tests::TestLoadWallet(wallet::WalletContext&) src/wallet/test/wallet_tests.cpp:54:19 (test_bitcoin+0x987d8c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #9 wallet::wallet_tests::ZapSelectTx::test_method() src/wallet/test/wallet_tests.cpp:924:19 (test_bitcoin+0x98a5f4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #10 wallet::wallet_tests::ZapSelectTx_invoker() src/wallet/test/wallet_tests.cpp:918:1 (test_bitcoin+0x989f94) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #11 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:117:11 (test_bitcoin+0x2d3af8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #12 boost::function0<void>::operator()() const /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:763:14 (test_bitcoin+0x264adc) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #13 boost::detail::forward::operator()() /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1388:32 (test_bitcoin+0x264adc)\r\n    #14 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:137:18 (test_bitcoin+0x264adc)\r\n    #15 boost::function0<int>::operator()() const /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/function/function_template.hpp:763:14 (test_bitcoin+0x1f8b04) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #16 int boost::detail::do_invoke<boost::shared_ptr<boost::detail::translator_holder_base>, boost::function<int ()>>(boost::shared_ptr<boost::detail::translator_holder_base> const&, boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:301:30 (test_bitcoin+0x1f8b04)\r\n    #17 boost::execution_monitor::catch_signals(boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:903:16 (test_bitcoin+0x1f8b04)\r\n    #18 boost::execution_monitor::execute(boost::function<int ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1301:16 (test_bitcoin+0x1f8dfc) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #19 boost::execution_monitor::vexecute(boost::function<void ()> const&) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/execution_monitor.ipp:1397:5 (test_bitcoin+0x1f2640) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #20 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_monitor.ipp:49:9 (test_bitcoin+0x1f2640)\r\n    #21 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:815:44 (test_bitcoin+0x22257c) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #22 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:784:58 (test_bitcoin+0x2228a8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #23 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:784:58 (test_bitcoin+0x2228a8) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #24 boost::unit_test::framework::run(unsigned long, bool) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/framework.ipp:1722:29 (test_bitcoin+0x1f15e4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #25 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_main.ipp:250:9 (test_bitcoin+0x20af48) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n    #26 main /home/fedora/ci_scratch/depends/aarch64-unknown-linux-gnu/include/boost/test/impl/unit_test_main.ipp:306:12 (test_bitcoin+0x20b4f4) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b)\r\n\r\nSUMMARY: ThreadSanitizer: lock-order-inversion (potential deadlock) (/home/fedora/ci_scratch/ci/scratch/build/bitcoin-aarch64-unknown-linux-gnu/src/test/test_bitcoin+0x150920) (BuildId: e6d773dbb6475135a1747fe19e2eb18593ee1a4b) in pthread_rwlock_wrlock\r\n==================\r\n\r\nreal\t42m33.544s\r\n```\r\n\r\nAdditional log output: https://gist.github.com/fanquake/e20f64c077da649ab6a5fdaa8ef8655b.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "closed_at": "2023-11-09T13:52:00Z",
          "created_at": "2023-05-05T12:41:16Z",
          "updated_at": "2023-11-09T14:08:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-16T14:44:34Z",
      "updated_at": "2023-11-16T14:44:34Z",
      "source": {
        "issue": {
          "id": 1997027785,
          "node_id": "PR_kwDOABII585fo5FE",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28894",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28894/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28894/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28894/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28894",
          "number": 28894,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: batch all individual spkms setup db writes in a single db txn",
          "body": "Work decoupled from #28574.\r\n\r\nInstead of performing multiple single write operations per spkm\r\nsetup call, this PR batches them all within a single atomic db txn.\r\n\r\nSpeeding up the process and preventing the wallet from entering\r\nan inconsistent state if any of the intermediate transactions fail\r\n(which shouldn't happen but.. if it does, it is better to not store\r\nany spkm rather than storing them partially).\r\n\r\nTo compare the changes, added benchmark in the first commit.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28894",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28894",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28894.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28894.patch"
          },
          "closed_at": "2023-12-08T11:25:08Z",
          "created_at": "2023-11-16T14:44:33Z",
          "updated_at": "2023-12-14T21:56:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-18T18:12:39Z",
      "updated_at": "2023-11-18T18:12:39Z",
      "source": {
        "issue": {
          "id": 1263730107,
          "node_id": "PR_kwDOABII5845REBZ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25297",
          "number": 25297,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: group independent db writes on single batched db transaction",
          "body": "The block connection process, same as many other wallet processes, contains plenty individual db writes.\r\n\r\nThis PR batches all the db transaction that occurs along each wallet workflow. Dumping all the information to disk at once atomically at the end of the process.\r\n\r\nThen, for BDB, fixed places where we are flushing to db directly on individual writes. e.g we do it in the in the chain sync/scan process, when an output that belongs to the wallet is found if the address is not inside the address book.â€¨\r\n\r\nPlus, in several places across the wallet flows, we create new `WalletBatch` objects. Which, internally, mean: Increasing the db references number, try to open the db and, for SQLite, setup and bind the statements.\r\nThis PR avoids all this overhead by sharing the same db handler instance through each entire workflow.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25297",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25297",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25297.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25297.patch"
          },
          "closed_at": "2023-11-18T18:12:38Z",
          "created_at": "2022-06-07T18:55:49Z",
          "updated_at": "2023-11-18T18:12:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-25T07:13:40Z",
      "updated_at": "2023-11-25T07:13:40Z",
      "source": {
        "issue": {
          "id": 969809743,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzExODMzMTUx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22693",
          "number": 22693,
          "state": "open",
          "state_reason": null,
          "title": "RPC/Wallet: Add \"use_txids\" to output of getaddressinfo",
          "body": "(Non-GUI part of https://github.com/bitcoin-core/gui/pull/562, but without the bloom stuff)",
          "user": {
            "login": "luke-jr",
            "id": 1095675,
            "node_id": "MDQ6VXNlcjEwOTU2NzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luke-jr",
            "html_url": "https://github.com/luke-jr",
            "followers_url": "https://api.github.com/users/luke-jr/followers",
            "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
            "organizations_url": "https://api.github.com/users/luke-jr/orgs",
            "repos_url": "https://api.github.com/users/luke-jr/repos",
            "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/luke-jr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22693",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22693.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22693.patch"
          },
          "created_at": "2021-08-13T00:19:27Z",
          "updated_at": "2024-01-03T21:39:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-02T14:03:31Z",
      "updated_at": "2023-12-02T14:03:31Z",
      "source": {
        "issue": {
          "id": 2022052116,
          "node_id": "PR_kwDOABII585g9dwJ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28987",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28987/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28987/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28987/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28987",
          "number": 28987,
          "state": "open",
          "state_reason": null,
          "title": "wallet: simplify and batch zap wallet txes process",
          "body": "Work decoupled from #28574. Brother of #28894.\r\n\r\nIncludes two different, yet interconnected, performance and code improvements to the zap wallet transactions process.\r\n\r\n1) As the goal of the `ZapSelectTx` function is to erase tx records that match any of the inputted hashes. There is no need to traverse the whole database record by record. We could just check if the tx exist, and remove it directly by calling `EraseTx()`.\r\n\r\n2) Instead of performing single write operations per removed tx record, this PR batches them all within a single atomic db txn.\r\n\r\nMoreover, these changes will enable us to consolidate all individual write operations that take place during the wallet migration process into a single db txn in the future.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28987",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28987",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28987.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28987.patch"
          },
          "created_at": "2023-12-02T14:03:31Z",
          "updated_at": "2024-01-06T16:41:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 11192432883,
      "node_id": "REFE_lADOABII585ysRL5zwAAAAKbHvjz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11192432883",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a7f4f1a09c767e8f6921d24505d868744026091b",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a7f4f1a09c767e8f6921d24505d868744026091b",
      "created_at": "2023-12-08T11:25:35Z"
    },
    {
      "event": "labeled",
      "id": 11192849551,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKbJVSP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11192849551",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T12:09:27Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11197371964,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKbalY8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197371964",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T20:12:19Z"
    },
    {
      "event": "commented",
      "id": 1847787491,
      "node_id": "IC_kwDOABII585uIv_j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1847787491",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T20:13:23Z",
      "updated_at": "2024-01-03T14:28:43Z",
      "author_association": "MEMBER",
      "body": "Rebased after #28894 merge.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1847787491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "unlabeled",
      "id": 11197492592,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAKbbC1w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197492592",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T20:30:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11197982093,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKbc6WN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197982093",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T21:49:27Z"
    },
    {
      "event": "labeled",
      "id": 11197982579,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKbc6dz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197982579",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T21:49:32Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T21:22:53Z",
      "updated_at": "2023-12-11T21:22:53Z",
      "source": {
        "issue": {
          "id": 2036429651,
          "node_id": "PR_kwDOABII585huQZ6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29054",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29054/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29054/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29054/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29054",
          "number": 29054,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: reenable sethdseed for descriptor wallets",
          "body": "Enable `sethdseed` for descriptor wallets. To be able to use `createwalletdescriptor` with the other address types, we need a way to change the wallet extended key, and so `sethdseed` has been updated and enabled for descriptor wallets. As with legacy wallets, when called without parameters, it will generate a new random master key for the wallet. It can also take a xprv and set that as the master key. It still takes a BIP 32 seed as WIF or as hex as we do for legacy wallets. The seed will be transformed into and stored as a BIP 32 extended key. The latter is to give us greater compatibility with other wallets which often produce non-WIF HD seeds.\r\n\r\nSplit from #25907",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29054",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29054",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29054.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29054.patch"
          },
          "closed_at": "2024-01-06T00:06:40Z",
          "created_at": "2023-12-11T20:00:27Z",
          "updated_at": "2024-01-06T00:06:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-21T14:43:26Z",
      "updated_at": "2023-12-21T14:43:26Z",
      "source": {
        "issue": {
          "id": 2052431458,
          "node_id": "PR_kwDOABII585iknFs",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29129",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29129/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29129/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29129/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29129",
          "number": 29129,
          "state": "open",
          "state_reason": null,
          "title": "wallet, rpc: add BIP44 `account` in `createwallet`",
          "body": "This PR adds an `account` parameter in `createwallet` RPC. It's the\r\nBIP44 account that will be used in `SetupDescriptorScriptPubKeyMans`\r\nto fetch the descriptors from the external signer.",
          "user": {
            "login": "brunoerg",
            "id": 19480819,
            "node_id": "MDQ6VXNlcjE5NDgwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brunoerg",
            "html_url": "https://github.com/brunoerg",
            "followers_url": "https://api.github.com/users/brunoerg/followers",
            "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
            "organizations_url": "https://api.github.com/users/brunoerg/orgs",
            "repos_url": "https://api.github.com/users/brunoerg/repos",
            "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/brunoerg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29129",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29129",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29129.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29129.patch"
          },
          "created_at": "2023-12-21T13:31:11Z",
          "updated_at": "2024-01-06T07:23:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-22T05:26:24Z",
      "updated_at": "2023-12-22T05:26:24Z",
      "source": {
        "issue": {
          "id": 2053192843,
          "node_id": "PR_kwDOABII585inOYp",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29130",
          "number": 29130,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Add `createwalletdescriptor` and `gethdkeys` RPCs for adding new automatically generated descriptors",
          "body": "This PR adds a `createwalletdescriptor` RPC which allows users to add new automatically generated descriptors to their wallet, e.g. to upgrade a 0.21.x wallet to contain a taproot descriptor. This RPC takes 3 arguments: the output type to create a descriptor for, whether the descriptor will be internal or external, and the HD key to use if the user wishes to use a specific key. The HD key is an optional parameter. If it is not specified, the wallet will use the key shared by the active descriptors, if they are all single key. For most users in the expected upgrade scenario, this should be sufficient. In more advanced cases, the user must specify the HD key to use.\r\n\r\nCurrently, specified HD keys must already exist in the wallet. To make it easier for the user to know, `gethdkeys` is also added to list out the HD keys in use by all of the descriptors in the wallet. This will include all HD keys, whether we have the private key, for it, which descriptors use it and their activeness, and optionally the extended private key. In this way, users with more complex wallets will be still be able to get HD keys from their wallet for use in other scenarios, and if they want to use `createwalletdescriptor`, they can easily get the keys that they can specify to it.\r\n\r\nSee also https://github.com/bitcoin/bitcoin/pull/26728#issuecomment-1866961865",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29130",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29130",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29130.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29130.patch"
          },
          "created_at": "2023-12-22T00:05:47Z",
          "updated_at": "2024-01-06T07:22:22Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-23T02:47:51Z",
      "updated_at": "2023-12-23T02:47:51Z",
      "source": {
        "issue": {
          "id": 2054578166,
          "node_id": "PR_kwDOABII585ir-jz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29136",
          "number": 29136,
          "state": "open",
          "state_reason": null,
          "title": "wallet: `addhdkey` RPC to add just keys to wallets via new `void(KEY)` descriptor",
          "body": "It is sometimes useful for the wallet to have keys that it can sign with but are not (initially) involved in any scripts, e.g. for setting up a multisig. Ryanofsky [suggested](https://github.com/bitcoin/bitcoin/pull/26728#issuecomment-1867721948) A `void(KEY)` descriptor which allows for a key to be specified, but produces no scripts. These can be imported into the wallet, and subsequently retrieved with `gethdkeys`. Additionally, `listdescriptors` will output these descriptors so that they can be easily backed up.\r\n\r\nIn order to make it easier for people to add HD keys to their wallet, and to generate a new one if they want to rotate their descriptors, an `addhdkey` RPC is also added. Without arguments, it will generate a new HD key and add it to the wallet via a `void(KEY)` descriptor. If provided a private key, it will construct the descriptor and add it to the wallet.\r\n\r\nSee also: https://github.com/bitcoin/bitcoin/pull/26728#issuecomment-1866961865\r\n\r\nBased on #29130 as `gethdkeys` is useful for testing this.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29136",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29136",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29136.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29136.patch"
          },
          "created_at": "2023-12-22T23:40:15Z",
          "updated_at": "2024-01-06T07:18:57Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 11371611431,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKlzQUn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11371611431",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-02T16:00:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11379765894,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKmSXKG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11379765894",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-03T14:27:06Z"
    },
    {
      "event": "reviewed",
      "id": 1802244171,
      "node_id": "PRR_kwDOABII585rbBBL",
      "url": null,
      "actor": null,
      "commit_id": "a5bd2441df6c7f2c6c2b25801720df325e923920",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Rebased, conflicts solved. Next PR in the line is #28987.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1802244171",
      "submitted_at": "2024-01-03T14:28:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "unlabeled",
      "id": 11380356374,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAKmUnUW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11380356374",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-03T15:23:25Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-04T13:45:35Z",
      "updated_at": "2024-01-04T13:45:35Z",
      "source": {
        "issue": {
          "id": 2047565192,
          "node_id": "PR_kwDOABII585iT-Q8",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29112",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29112/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29112/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29112/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29112",
          "number": 29112,
          "state": "open",
          "state_reason": null,
          "title": "sqlite: Disallow writing from multiple `SQLiteBatch`s",
          "body": "The way that we have configured SQLite to run means that only one database transaction can be open at a time. Typically, each individual read and write operation will be its own transaction that is opened and committed automatically by SQLite. However, sometimes we want these operations to be batched into a multi-statement transaction, so `SQLiteBatch::TxnBegin`, `SQLiteBatch::TxnCommit`, and `SQLiteBatch::TxnAbort` are used to manage the transaction of the database.\r\n\r\nHowever, once a db transaction is begun with one `SQLiteBatch`, any operations performed by another `SQLiteBatch` will also occur within the same transaction. Furthermore, those other `SQLiteBatch`s will not be expecting a transaction to be active, and will abort it once the `SQLiteBatch` is destructed. This is problematic as it will prevent some data from being written, and also cause the `SQLiteBatch` that opened the transaction in the first place to be in an unexpected state and throw an error.\r\n\r\nTo avoid this situation, we need to prevent the multiple batches from writing at the same time. Although SQLite does have facilities for doing that, they require the Write Ahead Log (WAL) mode, which is a feature that we explicitly chose to disable since it spread wallet data to multiple files. As such, we need to be handling the concurrency ourselves. To do so, I've implemented added a `CSemaphore` within `SQLiteDatabase` which will be used by any `SQLiteBatch` trying to do a write operation. `wait()` is called by `TxnBegin`, and at the beginning of `WriteKey`, `EraseKey`, and `ErasePrefix`. `post()` is called in `TxnCommit`, `TxnAbort` and at the end of `WriteKey`, `EraseKey`, and `ErasePrefix`. To avoid deadlocking on ` TxnBegin()` followed by a `WriteKey()`, `SQLiteBatch will now also track whether a transaction is in progress so that it knows whether to use the semaphore.\r\n\r\nThis issue is not a problem for BDB wallets since BDB uses WAL and provides transaction objects that must be used if an operation is to occur within a transaction. Specifically, we either pass a transaction pointer, or a nullptr, to all BDB operations, and this allows for concurrent transactions so it doesn't have this problem.\r\n\r\nFixes #29110",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29112",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29112",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29112.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29112.patch"
          },
          "created_at": "2023-12-18T22:27:10Z",
          "updated_at": "2024-01-08T14:36:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 11392055419,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKnBPh7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11392055419",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-04T16:22:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJkOWU3ZjY1ZWQyYWRjODhjNWI2N2NkZmZkMWRmZjQ3ODc5NTBiMDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd9e7f65ed2adc88c5b67cdffd1dff4787950b06",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bd9e7f65ed2adc88c5b67cdffd1dff4787950b06",
      "tree": {
        "sha": "4938746ef0805e6bc435b791f96816ac2b8764b1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4938746ef0805e6bc435b791f96816ac2b8764b1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4938746ef0805e6bc435b791f96816ac2b8764b1\nparent 737e5884cc82dc352cef3ef26abc1cb8d3500b8b\nauthor furszy <matiasfurszyfer@protonmail.com> 1696019028 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388841 -0300\n\nbench: add coverage for wallet migration process\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OkACgkQXdI8zGhq\npiMzsBAAmA7CQKrlEA0T47umgjSlBgEW7I8XE6WH25EPeu72TO8ml2+0IXqsDFrt\n9QecLwvCECkjIYeArHqEt6Mko8738RPEFqUxcLuzzuda09CeR8vDZL+oaTvkMV7c\nePSzMNTOpy9+Pv2I2VKtjeX+hIUdU1q4VgzhWf+TvvyDEAHvSfZZjwhJrwahP/2r\nXu3G74MiZtd3dEZZ5ag2rt6VZC4bRH6/f2IkQz4Z7nDOuEvgLBpk9fxG7ZM6LJtx\npIRFI9CKffnAlAebYHapMbEq09d/eG2E/bp6j6zYCot9XeDNiVIuYWBrdsFgq4xc\n+v7V917oSnU2wGP8cw1cfpirHg5nfW2ZBT5ZNplb9uLLeyEl8bK4aiR1jccSnTib\nJfPgq7TYWjWlgOlz1tdiZt86KWMIU/lOmTrbam3+prT6YZbUBp62fXLoKDCgBGbq\nWkn2MqDjfAj7M72Zpq6ChWO1LgubeQhZAAlIncYwEx8SoQw7RBeGLrOwv2NliS+F\npm26hKSOlKYDkMgay3HOSQ2H41EkA2KlrDpJXMO60t+QBnlo/7jrpn91CXY4tcLZ\noSXbu6DW9VAqV/zMh+1hakZ7uk5Kj64+1dxt9iZOrPPhQHGRQdT7ETku8fM2pj4r\nVCK18o4Zxd4f27tuRyTaQlVK7wWBlnWIeuO5qeS7HH0FbXsttYQ=\n=C3pS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/737e5884cc82dc352cef3ef26abc1cb8d3500b8b",
          "sha": "737e5884cc82dc352cef3ef26abc1cb8d3500b8b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/737e5884cc82dc352cef3ef26abc1cb8d3500b8b"
        }
      ],
      "message": "bench: add coverage for wallet migration process",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:41Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T20:23:48Z"
      },
      "sha": "bd9e7f65ed2adc88c5b67cdffd1dff4787950b06"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFjMzNjYTg0NDU4YzVlYzZkMGZmMmU4ODQ5MzBlMjA3MDlhZTZlNjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ac33ca84458c5ec6d0ff2e884930e20709ae6e66",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ac33ca84458c5ec6d0ff2e884930e20709ae6e66",
      "tree": {
        "sha": "9e4289066cd6514896153ea53fe4b2f074378992",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9e4289066cd6514896153ea53fe4b2f074378992"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9e4289066cd6514896153ea53fe4b2f074378992\nparent bd9e7f65ed2adc88c5b67cdffd1dff4787950b06\nauthor furszy <matiasfurszyfer@protonmail.com> 1689525667 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388841 -0300\n\nwallet: ZapSelectTx never return DBErrors::NEED_REWRITE\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OkACgkQXdI8zGhq\npiPlxRAAoTsEs0suH+DjkdQV5DKt6vyU1PzsS/4ngUkkYf8gY9N/x3RQhxspT7Qu\nQFVaRzQzfFeptKJXG0awCpycw/Y+jSK1pPFEjkOV7QUykpJ1WJCp1BXyi+awQguh\nLpLFjCo3BoBmF8hSWk7AvfXVAxd1N9g8b7WyhFN8PIHeWfteZlwvr5DtIbQqftoe\nOsOiyZdMl9BE+RpizKhbfykeHTBqM3YtUHXvi5UYgNeggDfbGi8AGIOrvg/fK1Hv\ntNdVf1s7j893fdd8bk+YI4DLwhD7DDyR9rQVe3zxlunj/wcpGGP1oHq+83a64W0X\nZkTfcErgFfJRhOMAlHI8n3F3cRMgJ0wjlHmxVDMWnrx2OZcURop5wfDsWMSAYjCr\nc3pdoiUlTfwGEG1Lg2pKKSilvsmQQkVa6b9MntCE8p4UBW+9ftpvxSv6tYsONkNC\nE4V9TDTxyI36H8Ab8XYaQjYfmxT+ZLpcFvI+G3FrTrTn+oaJQM2a/xP2lewX46Un\ndZE2uANbq9QtPyRfvq9O2LTsIHiIt6cQffw76PxKCIZ44w/wCjG9c5LxFEQ4ZFlC\nQQFLjxtojMFAkyTm+MXKj4RapR+4fILdAdWT10P6eCh47Gv66yCQwmVEmsi1y2l4\n/qhg5xKqHL2pAQpy1cOR/PlHZT3friGho8DljEvhFHdgQVuMEkw=\n=rYFn\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd9e7f65ed2adc88c5b67cdffd1dff4787950b06",
          "sha": "bd9e7f65ed2adc88c5b67cdffd1dff4787950b06",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bd9e7f65ed2adc88c5b67cdffd1dff4787950b06"
        }
      ],
      "message": "wallet: ZapSelectTx never return DBErrors::NEED_REWRITE",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:41Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-07-16T16:41:07Z"
      },
      "sha": "ac33ca84458c5ec6d0ff2e884930e20709ae6e66"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNlODUxN2IzYTc3NjJhNzMzN2RlNzI5NTc5NjllNDc2NmM2MzJjNzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce8517b3a7762a7337de72957969e4766c632c77",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ce8517b3a7762a7337de72957969e4766c632c77",
      "tree": {
        "sha": "ba979d015874b4a1f47f811fd50726f1bec528b2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ba979d015874b4a1f47f811fd50726f1bec528b2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ba979d015874b4a1f47f811fd50726f1bec528b2\nparent ac33ca84458c5ec6d0ff2e884930e20709ae6e66\nauthor furszy <matiasfurszyfer@protonmail.com> 1689549363 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388842 -0300\n\nwallet: migration, remove extra NotifyTransactionChanged call\n\nThe wallet is unloaded at the beginning of the migration process,\nso no object is listening to the signals.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OoACgkQXdI8zGhq\npiO6HQ/8DID+6cAlKqbzo2yeuKIVFJhxKfrxXanogrN8XIzSNXECjPlPhM2o+KWq\nDNdiRfqk8+8Who+tIBDSNjxuPTzJ3oh6HhjV5igejes8qLxCSze4JaxUuOiGb79Q\nqHCVij9LdMlonyj+p1Dbuu3WJkDrDRKWz6Ejxbk1EZIrDRbnIvCrIv9nWzlQWD2B\nCGe5Wu0R+UeYCUVR07TnNM/RTvv2pBEMuu7b5z/PRPnwNr3iLi+5CBSDkOnmiGH2\nHPrWqnEL8vKwo8ZhEx+mNMn2YHyMTRnbNOhvXnWhj+Fc8QuZQflxdeoZB8RG+g7g\nRT2fB3Q6BeSuJQOAvW6M/Pps27or3tfhhDpUbGSwDpacoWVNs4hNYh2T8ZbuHP5G\ncDqieqgH98Rm6PmMu4oT01veOKO/EhjTEMnXI3M6TYTkwRJVwrjl1av2D/3HF0Jf\n7KbSvd66YT3vDU0+do7NBgLit7F5yOgR4Plf3n4Bd55o/NOqoKH7V+DTMKcjWnnK\nAMnPOwfuu458gNc1n5FCRlDiXi1oMx9X1PSNnYGFwGCM67EGN78athIiI2i7pHIa\n6AtpYwlRxazlXvYaJRHeEDviQ4TwhXRJq6FSykLgj59mZ/Z53U1oCfIIi7BQ/AXr\nLUu+TRRDi041AqD968wLeePvf86chEP8taJkOo+RHo722Nc93V4=\n=kGsv\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ac33ca84458c5ec6d0ff2e884930e20709ae6e66",
          "sha": "ac33ca84458c5ec6d0ff2e884930e20709ae6e66",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ac33ca84458c5ec6d0ff2e884930e20709ae6e66"
        }
      ],
      "message": "wallet: migration, remove extra NotifyTransactionChanged call\n\nThe wallet is unloaded at the beginning of the migration process,\nso no object is listening to the signals.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-07-16T23:16:03Z"
      },
      "sha": "ce8517b3a7762a7337de72957969e4766c632c77"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRhNWU3Yzc2N2JhZDFhNmQ2NmI0ZTllZjIzMGExYTk3YjE4ZmM3MmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4a5e7c767bad1a6d66b4e9ef230a1a97b18fc72d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4a5e7c767bad1a6d66b4e9ef230a1a97b18fc72d",
      "tree": {
        "sha": "449ca5cce9886e45746f626339a909fdbd408a61",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/449ca5cce9886e45746f626339a909fdbd408a61"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 449ca5cce9886e45746f626339a909fdbd408a61\nparent ce8517b3a7762a7337de72957969e4766c632c77\nauthor furszy <matiasfurszyfer@protonmail.com> 1689525098 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388842 -0300\n\nwallet: simplify ZapSelectTx process\n\nThe goal of the function is to erase the TX records\nwhen they match with any of the inputted hashes.\n\nNo need to do traverse the whole database record by\nrecord.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OoACgkQXdI8zGhq\npiPc+g/9H+scKTwb7OwXIeWHnDyLqVD+GlrW4zP9dcEW+ngvj38CMujJzKE+CyEb\nbwoBThjRFDRXFr29XkJzepcfXfzBtvj+N+wsr7pMzxhph6+1TWGIk7SxmLmIJqgO\n2QCVF/kmKa4iKwOjQaWBnXW+FvrNGL0BDFeH/cnTZAFdIBokhp4wpihvgirEsocY\nKjDEpJBuTMW1iA1nFGNkiv102aNBF7ZNkHTtwepiDirN9DUHJVssr8ckJ80hWcaC\nWYiwOq3pFkcWAFyi18ItMQPnikesfRklH6Usk0iM9nXEb3MGpq+6gm5oLVVaM6R/\nd+6dlCE+9KPgK5uYgYLjex8O0Nuht2Z/C+xdK+a+RwgDYQG3bCdMeOTMafJFil3y\n48a7FScw9Ssxagq1pK9OgrFF73EfOpHT03Dn+DGYSRqAD4XRK+U30cVF1iBwK1NH\n42C1lSszZ8XqFAx1B9XPLb8NMkbr08m5trC9cU1CCzvtHXq07Yzqyhj35bMsRMhJ\nBcTqrxJbTB60MIVrLIUU/oTeVVxqUjtYHatY+kAPoes2+2puHnOtj8G/M0ucjcQb\nHYciVzRToS0vX/++5uc46FPx+iauZaQ7Yw/via9LlVJHuRZlHQh6FLyII3b0Xpwf\njEwQw4y9NrOQg/FCgI81+E6fqwGkCshTd1Ob+CLOADeDIS/KN4Y=\n=Uo9J\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce8517b3a7762a7337de72957969e4766c632c77",
          "sha": "ce8517b3a7762a7337de72957969e4766c632c77",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ce8517b3a7762a7337de72957969e4766c632c77"
        }
      ],
      "message": "wallet: simplify ZapSelectTx process\n\nThe goal of the function is to erase the TX records\nwhen they match with any of the inputted hashes.\n\nNo need to do traverse the whole database record by\nrecord.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-07-16T16:31:38Z"
      },
      "sha": "4a5e7c767bad1a6d66b4e9ef230a1a97b18fc72d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA3OGQxY2M4MTZjNWE0NGU2M2I3NTQwY2RhYzljYTQ3MGFlMWViODM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/078d1cc816c5a44e63b7540cdac9ca470ae1eb83",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/078d1cc816c5a44e63b7540cdac9ca470ae1eb83",
      "tree": {
        "sha": "30b21bdf9421e6b81237892eda4f0f22c82dfcb6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/30b21bdf9421e6b81237892eda4f0f22c82dfcb6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 30b21bdf9421e6b81237892eda4f0f22c82dfcb6\nparent 4a5e7c767bad1a6d66b4e9ef230a1a97b18fc72d\nauthor furszy <matiasfurszyfer@protonmail.com> 1689526433 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388842 -0300\n\nrefactor: decouple wallet EraseTxns from ZapSelectTx\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OoACgkQXdI8zGhq\npiMjhQ/9FTqDUCWWnvYmQNLXcjoF5TP8MC1H2NSUuY7w9F9YRQRwfPMCUYI+VUUU\nv33MngOIz9v3gVKsCR2Aqup8+kOOLQQCPQmkXPh35Gg97yGR3SCfupBy9pqkuFOs\nYEZjfDRBrhXtONEi3gNHgespIsU0zkWbiP2psOOCB2B6DosS5XEDJ8buHJez74L6\n9qoCG4fXtrigCUCHEDrwnuXR8XbtqbygrGJryDMhn4bjXkYzJx9H08Y2BbiGDuHO\nyYcOiPHY3S6KdmOy52dXllBNmO3hc4owlG4vYS1JQ6njVrSOQhcP/jR0j9XE8LW1\nxmO1IB/kZAJ637lHlPxfFrF6jQG/9wtTK/ZLNVl1cHJWiThGWiXdsJjS1tLD7PYx\nA8jqGZqKTh9vAg5S1CeoKp5n/j9ZP+VhXLdtyNts8zqceKV3i9QipKFBh5H0ge8D\nhhEeerXhOv/QhJQCS49Dwp2Hc6ZWHDKUtjETuOaBzucW0p2qdEzsL24N33wQWqaF\nQNcxN19f8EiPDRK4JaJICAv+AWWeCaOWN6DrL3YtITrxJL0iVCxmLG05K0w98+Ej\nFRTF2ev7ZX5WMUGsToLKPrnJWBq9jc/eThr/CRmFBqffee+d0Ginovua1xwcBTQ0\nS+RGcGGUZdT7sCohiF+nE4ADR1UTeDkTh8Ilyw8hYci9I79LfWM=\n=brAn\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4a5e7c767bad1a6d66b4e9ef230a1a97b18fc72d",
          "sha": "4a5e7c767bad1a6d66b4e9ef230a1a97b18fc72d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4a5e7c767bad1a6d66b4e9ef230a1a97b18fc72d"
        }
      ],
      "message": "refactor: decouple wallet EraseTxns from ZapSelectTx",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-07-16T16:53:53Z"
      },
      "sha": "078d1cc816c5a44e63b7540cdac9ca470ae1eb83"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM5Y2RlMTdiMzZkYTQ2YWEyYjAwMWJkNzlhNGYxMDc2MGFmMjA1MGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c9cde17b36da46aa2b001bd79a4f10760af2050f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c9cde17b36da46aa2b001bd79a4f10760af2050f",
      "tree": {
        "sha": "52f41f6acfe96144b50b8501a21f8f624d1e5fda",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/52f41f6acfe96144b50b8501a21f8f624d1e5fda"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 52f41f6acfe96144b50b8501a21f8f624d1e5fda\nparent 078d1cc816c5a44e63b7540cdac9ca470ae1eb83\nauthor furszy <matiasfurszyfer@protonmail.com> 1689548940 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388842 -0300\n\nwallet: migration, remove watch-only transactions atomically\n\nFor consistency, all of them must be removed in a single db batch\noperation.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OoACgkQXdI8zGhq\npiMRVhAAsRZJr7yXscDTndmXYah2i84V3sDGb/90DGqWcQlrWo64vhv5Vn/i7AvK\n/RqdK8pZwsukW41dFMhyXDzlHzsiZnbEsiokeh/+KyNFOyaSmG+D9PqyUUIchy8m\nzSr0Ep5qia+Cuo7ZD+ol16uJq4ok2XHPt0TwBrPL5pTQrMA16DsiJW89K34ZFG6Q\n0CRbvz0IlS6KzsrBYhPFkPlxsyju3M38LkDvMBOkasfptF1zY0xL/NGwBgz7xN1k\nm2S0xK3CiTJ+PO6D4ilv+aOQ0QQ2robRacibl0ZIohb6xejbmVqDvoNayOXm9Nb6\ntr6wmkFZsjPbBo6BqE4P7S7HGHUF0ufFm5QYgwmZHOB6H2QJcJwKahrSvcxM51IH\n2WXPV6VcWGysdy4faUENJssOmYVajZiHeGgEIRWHUGpxq5Ry8jGBipEG6kPjW/Li\nO7SqUYN1Tyb244hPNpHVuKZaFWZfzWyMY7KIiMVPBwE5oK/InNIEnrwMoIrivfwr\nYzTz+7IRZUYX5GlGhovEzYxGKLEyRzts+zkAmiN/rfbitN2LlWebuUCCLM1wLwVE\nEcPLqb4e5NTcvWAsyk+nt2UpcN2mpbPOW8y3jWN2vzarWfj/OHKkdkl0CHs1vSY7\n8IU2GDC6BvgV3ZEpecpzs3+C5bhz5kNruHkpho02/kijPcH1IKY=\n=uo0z\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/078d1cc816c5a44e63b7540cdac9ca470ae1eb83",
          "sha": "078d1cc816c5a44e63b7540cdac9ca470ae1eb83",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/078d1cc816c5a44e63b7540cdac9ca470ae1eb83"
        }
      ],
      "message": "wallet: migration, remove watch-only transactions atomically\n\nFor consistency, all of them must be removed in a single db batch\noperation.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-07-16T23:09:00Z"
      },
      "sha": "c9cde17b36da46aa2b001bd79a4f10760af2050f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJhYjA2MzJmMTgzNmY2OGYzOGM5YjBiYzQ2NzgxNzIyYjg4YTFmYmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bab0632f1836f68f38c9b0bc46781722b88a1fbe",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bab0632f1836f68f38c9b0bc46781722b88a1fbe",
      "tree": {
        "sha": "33f79b542b0fc5ec96505282b0ab922457425b55",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/33f79b542b0fc5ec96505282b0ab922457425b55"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 33f79b542b0fc5ec96505282b0ab922457425b55\nparent c9cde17b36da46aa2b001bd79a4f10760af2050f\nauthor furszy <matiasfurszyfer@protonmail.com> 1657413057 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388842 -0300\n\nwallet: clean redundancies in DelAddressBook\n\n1) Call IsMine only once (instead of two).\n2) Encode destination only once (instead of three).\n3) Don't remove the entry from the map if db write failed.\n4) Notify GUI only if removal succeeded\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OoACgkQXdI8zGhq\npiOw+w/+OWu4T9E2aVsdv/G3gRKJr23MFr4Okazgl68c0gAMRW2LTyrG6MV7r+KC\ndy31L/YSP0o7JQWOBc0f/fWWpdJwOPJBp9QUtpX6xwYuJwO2WVUklsYPoaDrXCSs\ndndqd2Uh4pK91zBG1NN8wj2cFxuCR40fRxhYLCBKwVPZa6qdNvT5JHEDOW0adn6x\nTiyYbDoWcvvXM64t1vj/kmbhlB1n3r10DH2drv4XE6WNfEycD0j8Y+rkt7ahBIfU\nwqrid/shWcisS+dfkKDuaryInPFpr+8yk9TNxCY1O9ie/i9UITt75ktl0z8TQ8Wf\nT+A7S1yZSiwU6zIBR+BrRTwTMpHbnFnbSubLGOGKV0KBA05G17Eru8X6BHJBEFKW\nDxVHY66u438HLi42/WejsGgm0C91Z1SK6WtN7s8c9MVedSXnVi1IcQQlJ1dXqB19\nvGy19t17JmD3DcKdgoyD+aX6NpN7QjGjjJPv9g6g/JCihBIuVA3H45xRQ8PWYzju\nnVVDOlFpogU4SdxVn7N9CdiofFpMdS4VfI90J7/NZh6ZlwuKaocZq+/cE7HiRBWK\n0Y4oFINwszwZ/VujVV2VBP5dBqO3qX3perfsoJlNFtT3m02XrMD5j8lmlmITVcv0\nUv/NjAGFFu9PZVRvhMKvunkSi3dw5mRwFoS/9O7bM0z+RaaSLpA=\n=ViMz\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c9cde17b36da46aa2b001bd79a4f10760af2050f",
          "sha": "c9cde17b36da46aa2b001bd79a4f10760af2050f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c9cde17b36da46aa2b001bd79a4f10760af2050f"
        }
      ],
      "message": "wallet: clean redundancies in DelAddressBook\n\n1) Call IsMine only once (instead of two).\n2) Encode destination only once (instead of three).\n3) Don't remove the entry from the map if db write failed.\n4) Notify GUI only if removal succeeded",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T00:30:57Z"
      },
      "sha": "bab0632f1836f68f38c9b0bc46781722b88a1fbe"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEwZjNhODVjMDEzYjQ1OWY0OWM4NmI1Y2VhYjY1MjdjOTliYTY5ZDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/10f3a85c013b459f49c86b5ceab6527c99ba69d9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/10f3a85c013b459f49c86b5ceab6527c99ba69d9",
      "tree": {
        "sha": "dca349e892da2006bd2f20e9c0e0b9d9bc97fe7f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dca349e892da2006bd2f20e9c0e0b9d9bc97fe7f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dca349e892da2006bd2f20e9c0e0b9d9bc97fe7f\nparent bab0632f1836f68f38c9b0bc46781722b88a1fbe\nauthor furszy <matiasfurszyfer@protonmail.com> 1657414117 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388842 -0300\n\nrefactor: SetAddrBookWithDB, signal only if write succeeded\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OoACgkQXdI8zGhq\npiOC0Q/9H0IhjYU+dpXc4r/hAs7sSxE3jAc3Eif8/YfhFeJrJcqTa3tvgDp5CUy8\ncvgGoE8Cj9fJc8bTY48xg4LmctEiNfxP3KqST9ot7iOuWbhrnv1AlJ7vg6dmQ517\nKSqaBs0wSNtGelq8Va49jnsGaUZpz4OKBK+XNXwL3cCOn6HqnVi1HM7LMle391m4\nFqD6Hd/czx6My5/as8+TgPWtaUBpvsO/TdBH3ZhZoupPcdHuR1zPNgLm5T28lBae\nJYccxRvdDBOOiuaPctgSJE3akPxU74lO5SkwOPjnkj3Uqdw10vpUpMmWeGM5k4T5\n/QgZqD2ChiPtqu7NkiSL3ff5pOw0bdVLmUaWQIg1rEBLauHqIaJjoNSoNJf5ez3e\n/4MEEyinT9+3ZNy21Bys6hA2/zVahAdZN6/H1jyD2ph2OG5XjhmROCiwuifs0P4Z\nLBpQTPJUH2mu8DPtNnDWDz902LAi3vtMrlHz3tIeVGq0PQHaw0DLjlxW7I3VvyCa\nfT4gzT7fTZI+7J6g5EYp0OwUZNiNGKu1mK8vUfacl6fzqt7OF+yl5sa9y8bpIcgo\nat+5FRNl0zC6tuJUninsteNZvG9wTBlxaP0Xo6dG9u4AF/Y93uVDTPHVDFAUSbcY\n3q/f0T/dxEQC9Jsr/nuq9dqOSgVvrZ3lddTX+bv1ac5X0mo0H3g=\n=Vukm\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bab0632f1836f68f38c9b0bc46781722b88a1fbe",
          "sha": "bab0632f1836f68f38c9b0bc46781722b88a1fbe",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bab0632f1836f68f38c9b0bc46781722b88a1fbe"
        }
      ],
      "message": "refactor: SetAddrBookWithDB, signal only if write succeeded",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T00:48:37Z"
      },
      "sha": "10f3a85c013b459f49c86b5ceab6527c99ba69d9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdmZDIwODY0OWVkNGQ1NTk5YzQxODNjMjVmNWE4NjAxMzE4MjExMTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7fd208649ed4d5599c4183c25f5a860131821111",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7fd208649ed4d5599c4183c25f5a860131821111",
      "tree": {
        "sha": "8302e59d4416321ec31a48101d925a374ad76a70",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8302e59d4416321ec31a48101d925a374ad76a70"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8302e59d4416321ec31a48101d925a374ad76a70\nparent 10f3a85c013b459f49c86b5ceab6527c99ba69d9\nauthor furszy <matiasfurszyfer@protonmail.com> 1677353951 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388842 -0300\n\nrefactor: SetAddressBookWithDB, minimize number of map lookups\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OoACgkQXdI8zGhq\npiMJRA/9FfvOelkW8qBWm4KEF7bjWvrGSCfODw3t9EdpiiTy9YFS3ugbz2svt1AV\nWlC78EE1kPoZ0JIvHy2VdAkp84QDUCuY74zWDLYJBSexzRAVWcJLxg99e4IDIaHI\ngqnqLSc21FKUbqM9zplZSDnvtZmLFk0j6/ExnEqxln+D3ny+vWsgIxDVarMhK3s2\n5BMGLHl4I7MkbdtIzxOV8ENjvA77mqDT6LAVJpjG2QbDSMts9p95BnOJX4MwWXEm\nHHMCT0gNsQDoLt2VDhwftrfaNJwm1BSMFbUHmj3+6SxHHepAch5dgRkDZGKF7jTa\nTt+YUto5esAPg19r7p8gCzBG0OlP2gXm6Pd+m8TfGKSjCkqraW42NXBQWns7b3Ji\nuq6t68M1P2LReMiSfOEdKjWRT7x3YHy+tOh/E+KI9tUezo/+G1LBxcaXJudczybc\ncrTSNt5Icm9HpRUe05uwB2zjJG/FRMrlF4XpVGT7vzrGfajD1T4LOet57tIurdd1\nRW/h0Y0KbJtuLesord2TEFrs+sy9tq04gpi5MPjDlDp4Urok3lP4iNofIvYamwqL\nQsqkkiH7rMPc/gTQSEcNk6vkIgzd1b9ocGAAYlf3HqINuDQW4v4JNCxAJML7SqQ9\n1X3SyryDLc5/KrnBl1fOWPXwJsfA6oEtQGGOj9Oyqd6Hmq4rHC8=\n=XRCT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/10f3a85c013b459f49c86b5ceab6527c99ba69d9",
          "sha": "10f3a85c013b459f49c86b5ceab6527c99ba69d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/10f3a85c013b459f49c86b5ceab6527c99ba69d9"
        }
      ],
      "message": "refactor: SetAddressBookWithDB, minimize number of map lookups",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-02-25T19:39:11Z"
      },
      "sha": "7fd208649ed4d5599c4183c25f5a860131821111"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE2MzYzZjQ2NDU1ZTBmZTFlYThlNGUxNDIxODIxMTY1NDcxOThhODg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a6363f46455e0fe1ea8e4e142182116547198a88",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a6363f46455e0fe1ea8e4e142182116547198a88",
      "tree": {
        "sha": "0163500d65fd9498309afc878320e69f59398da1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0163500d65fd9498309afc878320e69f59398da1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0163500d65fd9498309afc878320e69f59398da1\nparent 7fd208649ed4d5599c4183c25f5a860131821111\nauthor furszy <matiasfurszyfer@protonmail.com> 1677454202 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388843 -0300\n\nrefactor: wallet, simplify addressbook migration\n\nSame process written in a cleaner manner.\nRemoving code duplication.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OsACgkQXdI8zGhq\npiPyQw/9FszE0t2eiFUOWyTsMM26X1farCky1VOGXeR1kv2psk3Q7gEQesaCcaw3\n8VIrXM8+VgoNuN9+mwD32jD11kLKwGpSf6rN8JLo8guy3cHBf1j4W35GxLpIJhe4\neyJw9ZbaYoAVni2kiRs0jXnTMzaQLcu8E1QufGbOlyLB2KLhfBJISbjgwXDKX3Bp\nEFApU47MWyZzjk4fcTwSQzUxYEHiIyMjuAaqq7zqTo0SFBZCA3PfmYrMqwp2qTb4\nQHiVSVCoQKP1EvY3NBrfZVMqjhGLtAqHHmjCOujZYDSTkuUh2LTqzuaO2i2YwUpY\nfYfDPnTXISABm29+YYe8ND0+iznMUKjjTOcjmRflBeynkF2VKFA5n4HF6+fHd99o\nESEROrBSOboHMiJDN+Yvqs9zKOqeIiw/fLIbiQ/SaCZDwuy+x5L1OtK/XwUz8Qou\nI5OS8hltUrg3EAhA2nKXkl5Tc/tdB/qwVFzpl1IQPssj6W6pMdxj79YIqTVFISZ6\nhBnOV81ZAZxjFI0PhGXwUAtRfVLhfVDAiGOl3bOLIVYf+zbntJjTXU35yUwGviFk\nPog+5Nun9EBwQL/BKhBGpM+tXdSrG+vVZR2LYKXKJpw1krzHk0MDKzqPdK3fifbB\nz2Xwr/KguxRKkFQzVtDNXLq0M9HaFiMHm8t9owbKSvrOtnyITfA=\n=PPJa\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7fd208649ed4d5599c4183c25f5a860131821111",
          "sha": "7fd208649ed4d5599c4183c25f5a860131821111",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7fd208649ed4d5599c4183c25f5a860131821111"
        }
      ],
      "message": "refactor: wallet, simplify addressbook migration\n\nSame process written in a cleaner manner.\nRemoving code duplication.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:43Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-02-26T23:30:02Z"
      },
      "sha": "a6363f46455e0fe1ea8e4e142182116547198a88"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBiZDYzNmVhNGMzYmI1ODk1YWJlMzk2OTA5ZDk2ZTIxYzllYjMyZTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0bd636ea4c3bb5895abe396909d96e21c9eb32e2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0bd636ea4c3bb5895abe396909d96e21c9eb32e2",
      "tree": {
        "sha": "5b14029ad93c75f9d21a7200c9e2a7ff82b8a0b6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5b14029ad93c75f9d21a7200c9e2a7ff82b8a0b6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5b14029ad93c75f9d21a7200c9e2a7ff82b8a0b6\nparent a6363f46455e0fe1ea8e4e142182116547198a88\nauthor furszy <matiasfurszyfer@protonmail.com> 1677505735 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388843 -0300\n\nwallet: addressbook migration, batch db writes\n\nthis also encapsulates the addressbook member,\nso it's not accessed from outside the wallet\nmethods.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OsACgkQXdI8zGhq\npiMZ9Q/+LOD6Kxnbrg4927xGx4u42srQK2Q8GB9RyezB7c5KYDAWXJENhHYcD5o1\nyxgBtrJhAPY+Wk1L9m0mN+gtckEwOFIEFf9ORhtQeRSVolex9C5lQ/A4G0WR5Laj\nz+KgJ2NgBEFVdFQfgfZsLZ88F0DubDbn1p/anZ7uOIeZBsnqI2vRx8Cy5ijm+Wlm\nFqUcwnqCavmElgHQoTPnLz7Hve988Mhv520ZMQuJqlRcLFoFKxBek1bvgRMIgWdD\njlZD0CYwwADPLx52I861NdnqFX79C26ozxLwf3bFenTcAlw6d6moJdoOQRCBJBrn\ncjkRZnG+rlGrTZyCQe8p7zR6hvaT0k5LiR6s05nyzHj6I4T2/A9N3KYgxRU04K3+\nWknKu0UEgTEakOcyuCSQYrb9h1k4vl7WjUoRJg94JVOeyRMytzvmBYWDJlixytBE\nW0bb9+9Ey6Tz+c/NKDpKdecn8vliCgQ1teCuWHpDHvefFq+GPAk5lHM5kaQ3E7bH\nA4MWBqZPooneqvxQlS0kR5bhKwIiN04TSdywg+kM1WElOTc27PZKwXy1vfd6xWU1\nrZZontTbPNh+MrDVeRLXFvScPZp3iUrQlaZCLS5e6BfqNkytmF0v20o+jaGOlmfv\nyNxDeHOQwH1jEygsLABVOHAV7ysXvg6ndrXQpW3FzejJc+FeWfQ=\n=hwlo\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a6363f46455e0fe1ea8e4e142182116547198a88",
          "sha": "a6363f46455e0fe1ea8e4e142182116547198a88",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a6363f46455e0fe1ea8e4e142182116547198a88"
        }
      ],
      "message": "wallet: addressbook migration, batch db writes\n\nthis also encapsulates the addressbook member,\nso it's not accessed from outside the wallet\nmethods.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:43Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-02-27T13:48:55Z"
      },
      "sha": "0bd636ea4c3bb5895abe396909d96e21c9eb32e2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJmYWM0NjAwOWEyZmFjMDdjZDM4MjAwZWIxYmNkYjQ5NTg0MGY5Mjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bfac46009a2fac07cd38200eb1bcdb495840f928",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bfac46009a2fac07cd38200eb1bcdb495840f928",
      "tree": {
        "sha": "517092761b9539177c51935f38ff714a83264137",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/517092761b9539177c51935f38ff714a83264137"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 517092761b9539177c51935f38ff714a83264137\nparent 0bd636ea4c3bb5895abe396909d96e21c9eb32e2\nauthor furszy <matiasfurszyfer@protonmail.com> 1696012935 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388843 -0300\n\nwallet: migration, batch addressbook records removal\n\nInstead of doing one db transaction per removed record,\nwe now batch all removals in a single db transaction.\n\nSpeeding up the process and preventing the wallet from entering\nan inconsistent state when any of the intermediate writes fail.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OsACgkQXdI8zGhq\npiN3MRAAjIfoP+U5u2WqhJEvf7I0N8DqaZTnhnvADsLK73yGNbLmPnqz4C+weW89\nU8xFUMozzEPhfkBUJA1c9yEe6ijwBRyzq1SSTKWbr+v8c3iOHt/iB1yotTsN7NT3\nC4cnpoi2p0/yeMNU7TrMjGydl84R3fHbNzDQ0t+dcuEjiLhETfLL3KZi3/0O7NZW\n0uNZIcbUjor6chs7H7HChFtUp7znoQGKPu7cdV3fEEIDaUFxGZnOMS1xcmN1J7Si\nrRmfT1kNWQ5I+Kutp18Qgw79NJsuKVmKYid5IIX8XPHEzAp3O4vAyngDiJF+rHtZ\nMuyo2lpurCHeWtPS2lWEIuSnJ0RBaXVmwLuBTydK9jW5lR+Lg7SBBGq6B3cG1Wjo\nROZhnHTQlOVgWPQrx24x013jhM1z/r6XDdwiNHEix6evxcMWkLEaMW9mec/8RpUt\nd0CCw17ONAZG8lrmFoPo9Yo57K97YDbTvKiHvquWdrx7xLXnsygCdQ8WmpeVHJxR\n3iXVduOmX8e5w9ACnQfNB1L/T7r4HdyEkjnCw3X7rhHHS+hcEyGs1QLP58iq+96G\nbM9Y+1W4cnkmsUrjRgR0oHDTwhPt9eP5cy8lIndFkCWXDjZXppaGxfhcume+hORO\nSQm31tqoq4EmqXpsBpZeYDtttZfUfzEhLDWqnaFX/GAE9lyYizM=\n=aE2F\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0bd636ea4c3bb5895abe396909d96e21c9eb32e2",
          "sha": "0bd636ea4c3bb5895abe396909d96e21c9eb32e2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0bd636ea4c3bb5895abe396909d96e21c9eb32e2"
        }
      ],
      "message": "wallet: migration, batch addressbook records removal\n\nInstead of doing one db transaction per removed record,\nwe now batch all removals in a single db transaction.\n\nSpeeding up the process and preventing the wallet from entering\nan inconsistent state when any of the intermediate writes fail.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:43Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T18:42:15Z"
      },
      "sha": "bfac46009a2fac07cd38200eb1bcdb495840f928"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRjOGZiYzhhYzYxNGUyZjNlM2M4YzJjMmQ1ZWI5ZTJlZWYzMTgzNzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc8fbc8ac614e2f3e3c8c2c2d5eb9e2eef318377",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dc8fbc8ac614e2f3e3c8c2c2d5eb9e2eef318377",
      "tree": {
        "sha": "21a3e225d866e64b589a7ca47d1d20ccbdf901e4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/21a3e225d866e64b589a7ca47d1d20ccbdf901e4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 21a3e225d866e64b589a7ca47d1d20ccbdf901e4\nparent bfac46009a2fac07cd38200eb1bcdb495840f928\nauthor furszy <matiasfurszyfer@protonmail.com> 1696014724 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388843 -0300\n\nwallet: decouple default descriptors creation from external signer setup\n\nThis will be useful in the following-up commit to batch the entire\nwallet migration process.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OsACgkQXdI8zGhq\npiNQtw/8C2pfHQcJO3uSCODWk1MEzCiNeYzZeI0ZKOiZL4MRLRftO03dglquKKrR\nYhFNCAQrwN+6I4V9FOjYZYD0X0cMEY6gl0Ro88d5EJ9jasZ53bJY+cpdh+vMSOr9\nGn65orDqReoVl4kLH4ftfa8s9FAA+wryxhMKXkxzt+ZvCI2Fd5lcyvxNAflIxmVD\n2JivH9tHHUyxUx1pwdiVw9dnJuBxe5q8AD9/v4SzygUzyJZSgkAQkomxcRt1TVda\nZFWZMf4d7t60DyKKdu8PoFBQVIaQifz40spjAQhQxcBHdGgBKd+gCXQTYQPpyqAa\nZQokc3z78/lVBmxdC0210Wq4oN0QaQRBhBNxF4wn9j2Z5PNPJ7IrJEMnm55S8ULP\nqEIXdXB2gHG75yQ6EcMDVwv2kCqdqtzfYz03rvOTOmFCivHWh0aKjwqOoCc1JcLF\nHbZAQMGn/fXbyrKgabXxBDkK819PVloIqG3GHgcOf+lRdiCXfjY62ogAdC26Zzjr\nM4YJT9AzvoNMmhpCuqHAnQNfKndikWWRxp8QIZnRylv0F3RO/SFrHTKgRumXWe4s\nRMQZkxFyBGQGKm3FD1huuxbs8yFfyTwdBe9GM/57ItaytEYQmLcKmHRQK1o8VQEy\nta1Uo8hkKkJU0FYSUuvYCYeubQpyN4s7ZQPurclEoKL5nXI9APw=\n=f3IL\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bfac46009a2fac07cd38200eb1bcdb495840f928",
          "sha": "bfac46009a2fac07cd38200eb1bcdb495840f928",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bfac46009a2fac07cd38200eb1bcdb495840f928"
        }
      ],
      "message": "wallet: decouple default descriptors creation from external signer setup\n\nThis will be useful in the following-up commit to batch the entire\nwallet migration process.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:43Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T19:12:04Z"
      },
      "sha": "dc8fbc8ac614e2f3e3c8c2c2d5eb9e2eef318377"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZlOGVjYjgxMjczYWY2NWI5MzM0NTJkZTJiZDA4ODJiNWY1ZGI0YjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fe8ecb81273af65b933452de2bd0882b5f5db4b2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fe8ecb81273af65b933452de2bd0882b5f5db4b2",
      "tree": {
        "sha": "3251f931a0700222478ab3e7825ba76b11b2b0b8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3251f931a0700222478ab3e7825ba76b11b2b0b8"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3251f931a0700222478ab3e7825ba76b11b2b0b8\nparent dc8fbc8ac614e2f3e3c8c2c2d5eb9e2eef318377\nauthor furszy <matiasfurszyfer@protonmail.com> 1696014912 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388843 -0300\n\nwallet: migration, group all db txs into a single atomic operation\n\nSpeeding up the process and preventing inconsistent states.\n\nThe migration process must either succeed or fail, no other\noutcomes should be allowed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OsACgkQXdI8zGhq\npiMyYBAAjeN7/gBTzXHyTkEKgVRAztUwDrfUFVQa1QhLt2MOFlHU4H9H7NKZpT4x\nfKjhCRQOSDMSm7KmkRnsRJnzZYl0NnsvHsJCNf3y8322KatfzWrYWaOyz2pGb+7W\nzHJEzPcYPznCVcz8eo5e6DW/yQ+pimdPDFd0o1rRen8diuV7S+RZMcf2liLz1efA\nCujxcUTnrSivaEnFC30JS7RS73UWbx27lIg8YTj9gpJV94NBMt+9y9pDZo/VJ5aj\nuWAmFj2FY9LawwU7QDFY5o3pXVgP/+oTdA3V7nfPxMFsz4ld26ZJ8DpGPkICy4nl\nBKLDA4JPvfLQOGS894GP4cAqp862hVv/kaIw3rgopX4rmc9y3sq7m7fbSwfDIsRY\nwmWbh19xGhQNkjyAkfsczVQjZVU9ESPUGQKeF6Y69qeAd+mzy2iYlI9qfbjSZALq\nDEEXVOBrviq9A5RINeRRMtC1F0P+pjVYhkl3GTOp+BMwCVmfRj5ZZVIl3To9y1WG\nYRxiJ+RENlzvr6quz6JNTdvSUDKqWLnYbYBN/365Vs9YdfDOBhjqVhb1RvhH/aVs\nNRTp4r8C9sw293rvsVZXvO23KJPveXqjG0XWtd/hJZVflPD9qVHtTv0I8jzDu7RN\nPVgbZsbX3cn6I63T+B4+c5ugjo0Z+MuT1x68iws4LVkbI+DwnrI=\n=KerV\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc8fbc8ac614e2f3e3c8c2c2d5eb9e2eef318377",
          "sha": "dc8fbc8ac614e2f3e3c8c2c2d5eb9e2eef318377",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dc8fbc8ac614e2f3e3c8c2c2d5eb9e2eef318377"
        }
      ],
      "message": "wallet: migration, group all db txs into a single atomic operation\n\nSpeeding up the process and preventing inconsistent states.\n\nThe migration process must either succeed or fail, no other\noutcomes should be allowed.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:43Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T19:15:12Z"
      },
      "sha": "fe8ecb81273af65b933452de2bd0882b5f5db4b2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ4NGZjMWFjMTQxNWRhYzI4OGQxOTQ4YTg5YjgwZDYwNDM3ZjI4NTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d84fc1ac1415dac288d1948a89b80d60437f2858",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d84fc1ac1415dac288d1948a89b80d60437f2858",
      "tree": {
        "sha": "fd8823f46ffe3cbbfb4638e6dc90a3fa049be7d4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fd8823f46ffe3cbbfb4638e6dc90a3fa049be7d4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fd8823f46ffe3cbbfb4638e6dc90a3fa049be7d4\nparent fe8ecb81273af65b933452de2bd0882b5f5db4b2\nauthor furszy <matiasfurszyfer@protonmail.com> 1696015136 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388843 -0300\n\nwallet: add SetWalletFlagWithDB and use it during migration\n\nLater used to finish batching the entire migration process.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6OsACgkQXdI8zGhq\npiOQtw//e2rBGxuFwSmcdCzuJBdBcC3ryLVjHcX/m/O/i66Waxw+jraroE6BEUu7\n0Jg/SeB07JH1AEhHL0ioDilWM6dUM+Nqs5W+zud8xi1oTiPASAaKHbOtjCo+IT8j\ngGvDo2syJT/mOzmDxSixMNguplulnFmvahFI54yctmpBSpIpX7sMJ/MxAFEvlYP3\ngOizNgmiiCgXDPsqn8OID8AWqanDl4R1KY6xLcHGuWLweODAj8FrOzPO3JlK3j1Z\nZRuxMobwbx3jfCf3Jg7SGVXlf5IIvEnXoeAoYMSlvECCU8KJJy2ji59y/tK77/3c\nH5QWqu5rbMmKpEt40HX7pMf6fengpVCfk8Bliqc0wVuOOAEwJggw3QAp2D9LM8OE\ny2s1ZMfJJHwWzEGWpyASFunA9I2uFqWmb2VBngEjFO/hOJxyBvMIAfZLzcqeBBrJ\nz7z9wUyxbblaeptWhJiFVva6V2X1HvRE9fsA5LghxzWJMERru9ERPrtGQ6BeaUv9\nqeEJu9pGreWolMzbs3hSc3z+XKTNty1zd0AI11b7xnbzwcZqGydZaHC3DGNXdW+3\nEyCBWA8482LiBZOFJRmEHCKsu032KL6tgcctjSzqTv2MSBEIa5qLiA6BOQNmwcEL\ngIiyw9mFmCS190s2255MGo102S/AEUeG7UYgHUCPLirKNP2nAaQ=\n=4APn\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fe8ecb81273af65b933452de2bd0882b5f5db4b2",
          "sha": "fe8ecb81273af65b933452de2bd0882b5f5db4b2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fe8ecb81273af65b933452de2bd0882b5f5db4b2"
        }
      ],
      "message": "wallet: add SetWalletFlagWithDB and use it during migration\n\nLater used to finish batching the entire migration process.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:20:43Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T19:18:56Z"
      },
      "sha": "d84fc1ac1415dac288d1948a89b80d60437f2858"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdhMTVkNWU4ZDI4YzM5OGEzNzc2NjllNTE1ODdmNWRhMDcyNDcxYjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7a15d5e8d28c398a377669e51587f5da072471b0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7a15d5e8d28c398a377669e51587f5da072471b0",
      "tree": {
        "sha": "ec6f44ca10a178f6b0f2ddf0a238ad20f6204595",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ec6f44ca10a178f6b0f2ddf0a238ad20f6204595"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ec6f44ca10a178f6b0f2ddf0a238ad20f6204595\nparent d84fc1ac1415dac288d1948a89b80d60437f2858\nauthor furszy <matiasfurszyfer@protonmail.com> 1696015339 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388877 -0300\n\nwallet: migration, batch 'DeleteRecords()' db writes\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6Q0ACgkQXdI8zGhq\npiOuTRAAsO663iOlNNEk5v67GKgor3UbuuiErgBIhpNuYAYP7bwzPP0qeiqzGuDr\nYPI8TDxat+leeaHmfg9G3WM7O7rSk3lbTAghvw5nPsWtMv8OOzfnLDOFYnmVDqEg\nDnX8JNQUxPEx9bwfBL+KApPB5uc4+oXIbQuuWdqA9OnAaZTo9zp3bx6TOt134ipC\nuyYKyiNro/KXZ5BHWoXn3VmO5zyRNDU/Q+vbX6fT+Lb/ttRNRP9v1sV7u5FnUcQF\n/RTcFAMDigsTeEdJzOLeqYq6+D9REw/kUSpZ9rXF/lgx4qPbB65FR9RxWfdIhQJM\np+LWgloOK3zmziwZQo9oe5iQi8hkWgkjwI/T5f+byv+4pBHrp6iVXYrhaX6oxYHS\nugXKh0zqK5GrkthM09KjUdddaqg+hgMj5O7OrIZdm8hNLfkdAAbQQm9v6kkN1LkS\nFuhi8PgSn/8YEi+jjVfaW1GiMQSwfG5qnAKbMe/bV/1hOoVy8u1rqYJwH2ITSd05\nEuPU2oMDz22OacJd/KlW1cjhtBRgsqKKI1frAP1jDgvQhGquOc5ew32Lbu8BdEN/\nUkz91q9iKW1KtKb1DTG4J5BB73OTqBzO/jyY/arH8F8SRPojfz6q5B/McJE/pXZK\n+xTGEKpzJciYx62nFSbEWlBFiRkEhaHiHa04tmR4hjSfpigFwwc=\n=ygyq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d84fc1ac1415dac288d1948a89b80d60437f2858",
          "sha": "d84fc1ac1415dac288d1948a89b80d60437f2858",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d84fc1ac1415dac288d1948a89b80d60437f2858"
        }
      ],
      "message": "wallet: migration, batch 'DeleteRecords()' db writes",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:21:17Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T19:22:19Z"
      },
      "sha": "7a15d5e8d28c398a377669e51587f5da072471b0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUwNGQwMDJiYjIxYWZiODMyNTQ4NzQ1MDBmZDU4ZTZiODc3MjJiZWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e04d002bb21afb83254874500fd58e6b87722bee",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e04d002bb21afb83254874500fd58e6b87722bee",
      "tree": {
        "sha": "d3db5071d7ff12e43d4a588a38671ddfe943446c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d3db5071d7ff12e43d4a588a38671ddfe943446c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d3db5071d7ff12e43d4a588a38671ddfe943446c\nparent 7a15d5e8d28c398a377669e51587f5da072471b0\nauthor furszy <matiasfurszyfer@protonmail.com> 1696075038 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1704388877 -0300\n\nwallet: batch MigrateToDescriptor() db transactions\n\nGrouping all the process db writes into a single atomic\nwrite operation.\n\nSpeeding up the flow and preventing inconsistent states.\n\nThe descriptors migration process must either succeed or\nfail, no other outcomes should be allowed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmWW6Q0ACgkQXdI8zGhq\npiMoRA//apPrgW4A9b52iVdVv7ALznu3tS1VLXth/ZaT8eOt73MqMpI83vjfuFvJ\nSililj20HuqAqCY5uXq9xdv1rpq+f2nXU+mbZWpn6oU67oa14/bNJj0TerZ5SwTx\nQwRDDCPkaWXnNLSpmn8AnPY+W3DQJ0wr99mNh3LrFtvudrbnY7Us5VpoBazKib6R\nA9HxjqZ2XZsIH82KBbOvZ+UDixQMiITCyfSIP3/ukYTShtqR6T7fXqyTumP4ePZE\nKuWak6T0FGu6OHBKTs+6+wVWqD8EYGrvVyjEgl4T66tLfon+oMiihKwrb2Ga4Lls\nTS8+udnTttiMh5Dwt0a0QzqPYXykhkWjkMDjlwmy0zqmlHk2HQUWb1bW+Vyp8uty\nopcCDabts25UcZnoh5oH711iy0ej652c/I0m4qZUhwNbWA1A3brBwy+amQJhRVfv\nuPdlpnmpO6SIxlAboZuDOBuniOpGFQF4bejU+w5KPA+m6m3lw5d3Kl40yu+3zOFW\nt62T1HCCWYf9dBvquyMTidTkpXgdN2mA2eWZWGrIVeu7VqtjD5IQtdvEcB2/PeYO\nT/dpdhfYlWX0hCJY/uPt0ut9dDGkXkkLVT/XuBRt6Kxnx+muwasd8r3lsNLmLHUC\nxt2rcpHIIveioT9GXfic6bgWC/GgtfVOej1+q7NeQLPVZuOMPSw=\n=cYDz\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7a15d5e8d28c398a377669e51587f5da072471b0",
          "sha": "7a15d5e8d28c398a377669e51587f5da072471b0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7a15d5e8d28c398a377669e51587f5da072471b0"
        }
      ],
      "message": "wallet: batch MigrateToDescriptor() db transactions\n\nGrouping all the process db writes into a single atomic\nwrite operation.\n\nSpeeding up the flow and preventing inconsistent states.\n\nThe descriptors migration process must either succeed or\nfail, no other outcomes should be allowed.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-01-04T17:21:17Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-30T11:57:18Z"
      },
      "sha": "e04d002bb21afb83254874500fd58e6b87722bee"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11392894946,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKnEcfi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11392894946",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-04T17:28:03Z"
    },
    {
      "event": "unlabeled",
      "id": 11393567478,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAKnHAr2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11393567478",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-04T18:39:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-05T22:13:43Z",
      "updated_at": "2024-01-05T22:13:43Z",
      "source": {
        "issue": {
          "id": 2067738656,
          "node_id": "PR_kwDOABII585jVVNL",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29191",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29191/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29191/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29191/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29191",
          "number": 29191,
          "state": "open",
          "state_reason": null,
          "title": "refactor(tidy): Use C++20 contains method",
          "body": "C++20 introduced the `contains` method on containers to check if an element is in the container. It can be used instead of the `count` method now.\r\nI believe it is easier to understand, as `contains` directly returns a `bool` indicating whether the element exists, while `count` returns the number of occurrences of the element, which then often needs to be compared against 0.\r\nAlso, it is slightly more efficient than count for this use-case.\r\n\r\nThis pull request introduces the clang-tidy check `readability-container-contains` and fixes the instances where `count` is being used where `contains` could be used instead. I used the clang-tidy -fix option to do it automatically.",
          "user": {
            "login": "aureleoules",
            "id": 22493292,
            "node_id": "MDQ6VXNlcjIyNDkzMjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aureleoules",
            "html_url": "https://github.com/aureleoules",
            "followers_url": "https://api.github.com/users/aureleoules/followers",
            "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
            "organizations_url": "https://api.github.com/users/aureleoules/orgs",
            "repos_url": "https://api.github.com/users/aureleoules/repos",
            "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/aureleoules/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29191",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29191",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29191.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29191.patch"
          },
          "created_at": "2024-01-05T17:22:15Z",
          "updated_at": "2024-01-08T11:42:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 11418671291,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKomxi7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11418671291",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-08T14:54:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1881164414,
      "node_id": "IC_kwDOABII585wIEp-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1881164414",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-08T14:54:08Z",
      "updated_at": "2024-01-08T14:54:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nðŸ™ This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1881164414",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    }
  ],
  "comments": []
}