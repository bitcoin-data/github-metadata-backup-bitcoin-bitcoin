{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574",
    "id": 1540056980,
    "node_id": "PR_kwDOABII585by2eU",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28574",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28574.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28574.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/4e72821e1961b58559f49a4746bc8d15d116f6b7",
    "number": 28574,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: optimize migration process, batch db transactions",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Last step in a chain of PRs (#26836, #28894, #28987, #29403).\r\n\r\nThe initial benchmark conducted locally showed a ~65% processing time reduction, on a SSD.\r\nResults, from the very first benchmark, can be found at the end of the description.\r\n\r\n#### Detailed Description:\r\nThe current wallet migration process performs only individual db writes. Accessing disk to\r\ndelete all legacy records, clone and clean each address book entry for every created wallet,\r\ncreate each new descriptor (with their corresponding master key, caches and key pool), and\r\nalso clone and delete each transaction that requires to be transferred to a different wallet.\r\n\r\nThis work consolidates all individual disk writes into two batch operations. One for the descriptors\r\ncreation from the legacy data and a second one for the execution of the migration process itself.\r\nEfficiently dumping all the information to disk at once atomically at the end of each process.\r\n\r\nThis represent a speed up and also a consistency improvement. During migration, we either\r\nwant to succeed or fail. No other outcomes should be accepted. We should never leave a\r\npartially migrated wallet on disk and request the user to manually restore the previous wallet from\r\na backup (at least not if we can avoid it).\r\n\r\nAdditionally, since db transactions relevant to the key pool generation were also batched, this work\r\nalso speeds up the regular wallet creation process.\r\n\r\n#### Note for Testers:\r\nThe first commit introduces a benchmark for the migration process. This one can be\r\ncherry-picked on top of master to compare results pre and post changes.\r\n\r\nPlease note that the benchmark setup may take some time (~70 seconds here) due to the absence\r\nof a batching mechanism for the address generation process (`GetNewDestination()` calls). Which,\r\nI plan to address in a separate PR, just to not continue expanding this PR.\r\n\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n\r\nBenchmark on master (debug mode)\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:-----------\r\n|   65,093,884,958.00 |                0.02 |    0.0% |     65.09 | `WalletMigration`\r\n\r\nBenchmark on this branch (debug mode)\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|   22,926,814,750.00 |                0.04 |    0.0% |     22.93 | `WalletMigration`",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2023-10-03T13:54:18Z",
    "updated_at": "2024-07-01T19:55:01Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "07bef203e499322da74a52dd885c84571da1de29",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "furszy:2023_wallet_batch_migration",
      "ref": "2023_wallet_batch_migration",
      "sha": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 4,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 404379,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-01T15:12:11Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2024-06-27T19:32:26Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "c065ae84695de811716cb4fc89357346d7decc8f",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35584,
        "stargazers_count": 77040,
        "watchers_count": 77040,
        "size": 262336,
        "default_branch": "master",
        "open_issues_count": 687,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-01T19:47:47Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-07-01T19:15:31Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 254,
    "deletions": 107,
    "changed_files": 14,
    "commits": 10,
    "review_comments": 22,
    "comments": 11
  },
  "events": [
    {
      "event": "commented",
      "id": 1745029746,
      "node_id": "IC_kwDOABII585oAwpy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1745029746",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T13:54:20Z",
      "updated_at": "2024-07-01T19:55:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28574).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1669633382), [theStack](https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1803694990), [achow101](https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-2152124552) |\n| Stale ACK | [josibake](https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1967094322) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30343](https://github.com/bitcoin/bitcoin/pull/30343) (wallet, logging: Replace WalletLogPrintf() with LogInfo() by ryanofsky)\n* [#30328](https://github.com/bitcoin/bitcoin/pull/30328) (wallet: Remove IsMine from migration code by achow101)\n* [#30221](https://github.com/bitcoin/bitcoin/pull/30221) (wallet: Ensure best block matches wallet scan state by achow101)\n* [#29129](https://github.com/bitcoin/bitcoin/pull/29129) (wallet, rpc: add BIP44 `account` in `createwallet` by brunoerg)\n* [#29124](https://github.com/bitcoin/bitcoin/pull/29124) (wallet: Automatically repair corrupted metadata with doubled derivation path by achow101)\n* [#28710](https://github.com/bitcoin/bitcoin/pull/28710) (Remove the legacy wallet and BDB dependency by achow101)\n* [#28333](https://github.com/bitcoin/bitcoin/pull/28333) (wallet: Construct ScriptPubKeyMans with all data rather than loaded progressively by achow101)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n* [#26596](https://github.com/bitcoin/bitcoin/pull/26596) (wallet: Migrate legacy wallets to descriptor wallets without requiring BDB by achow101)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1745029746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "labeled",
      "id": 10538850933,
      "node_id": "LE_lADOABII585ysRL5zwAAAAJ0Khp1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10538850933",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T13:54:22Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10544965067,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAJ0h2XL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10544965067",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-04T01:16:18Z"
    },
    {
      "event": "labeled",
      "id": 10544965328,
      "node_id": "LE_lADOABII585ysRL5zwAAAAJ0h2bQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10544965328",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-04T01:16:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10557086015,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAJ1QFk_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10557086015",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T00:52:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10563816833,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAJ1pw2B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10563816833",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T13:24:22Z"
    },
    {
      "event": "unlabeled",
      "id": 10566838867,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAJ11SpT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10566838867",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T17:46:48Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1669633382,
      "node_id": "PRR_kwDOABII585jhJVm",
      "url": null,
      "actor": null,
      "commit_id": "6a2e6e43df99f9254d86158fab333315e8a8df41",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK.\r\n\r\nI'll also perform the benchmark as instructed clearly in the description and will review the code later.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1669633382",
      "submitted_at": "2023-10-11T02:26:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "commented",
      "id": 1803694990,
      "node_id": "IC_kwDOABII585rgjOO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1803694990",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T11:57:00Z",
      "updated_at": "2023-11-09T11:57:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1803694990",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "referenced",
      "id": 11192432883,
      "node_id": "REFE_lADOABII585ysRL5zwAAAAKbHvjz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11192432883",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a7f4f1a09c767e8f6921d24505d868744026091b",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a7f4f1a09c767e8f6921d24505d868744026091b",
      "created_at": "2023-12-08T11:25:35Z"
    },
    {
      "event": "labeled",
      "id": 11192849551,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKbJVSP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11192849551",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T12:09:27Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11197371964,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKbalY8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197371964",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T20:12:19Z"
    },
    {
      "event": "commented",
      "id": 1847787491,
      "node_id": "IC_kwDOABII585uIv_j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1847787491",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T20:13:23Z",
      "updated_at": "2024-01-03T14:28:43Z",
      "author_association": "MEMBER",
      "body": "Rebased after #28894 merge.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1847787491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "unlabeled",
      "id": 11197492592,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAKbbC1w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197492592",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T20:30:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11197982093,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKbc6WN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197982093",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T21:49:27Z"
    },
    {
      "event": "labeled",
      "id": 11197982579,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKbc6dz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11197982579",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T21:49:32Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11371611431,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKlzQUn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11371611431",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-02T16:00:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11379765894,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKmSXKG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11379765894",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-03T14:27:06Z"
    },
    {
      "event": "reviewed",
      "id": 1802244171,
      "node_id": "PRR_kwDOABII585rbBBL",
      "url": null,
      "actor": null,
      "commit_id": "a5bd2441df6c7f2c6c2b25801720df325e923920",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Rebased, conflicts solved. Next PR in the line is #28987.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1802244171",
      "submitted_at": "2024-01-03T14:28:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "unlabeled",
      "id": 11380356374,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAKmUnUW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11380356374",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-03T15:23:25Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11392055419,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKnBPh7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11392055419",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-04T16:22:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11392894946,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAKnEcfi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11392894946",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-04T17:28:03Z"
    },
    {
      "event": "unlabeled",
      "id": 11393567478,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAKnHAr2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11393567478",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-04T18:39:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11418671291,
      "node_id": "LE_lADOABII585ysRL5zwAAAAKomxi7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11418671291",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-08T14:54:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1902683295,
      "node_id": "IC_kwDOABII585xaKSf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1902683295",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-21T16:14:24Z",
      "updated_at": "2024-01-21T16:15:36Z",
      "author_association": "MEMBER",
      "body": "Decoupled the address book cloning related commits to #26836. I am marking this PR as a draft until the preceding PRs are merged.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1902683295",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "convert_to_draft",
      "id": 11549399232,
      "node_id": "CTDE_lADOABII585ysRL5zwAAAAKwZdjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11549399232",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-21T16:16:10Z"
    },
    {
      "event": "referenced",
      "id": 11746663690,
      "node_id": "REFE_lADOABII585ysRL5zwAAAAK8J90K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11746663690",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "835948d44bca664901057c37ed5b1d0e7e658786",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/835948d44bca664901057c37ed5b1d0e7e658786",
      "created_at": "2024-02-08T14:35:50Z"
    },
    {
      "event": "referenced",
      "id": 11778457030,
      "node_id": "REFE_lADOABII585ysRL5zwAAAAK-DP3G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11778457030",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6ff0aa089c01ff3e610ecb47814ed739d685a14c",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ff0aa089c01ff3e610ecb47814ed739d685a14c",
      "created_at": "2024-02-12T18:42:01Z"
    },
    {
      "event": "commented",
      "id": 1941383895,
      "node_id": "IC_kwDOABII585ztyrX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1941383895",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-13T12:14:50Z",
      "updated_at": "2024-02-13T12:14:50Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nStarting to review, if you get a chance can you rebase this so that it's only the relevant outstanding commits? ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1941383895",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11793246221,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAK-7qgN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11793246221",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-13T19:42:48Z"
    },
    {
      "event": "ready_for_review",
      "id": 11793251604,
      "node_id": "RFRE_lADOABII585ysRL5zwAAAAK-7r0U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11793251604",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-13T19:43:26Z"
    },
    {
      "event": "reviewed",
      "id": 1878791279,
      "node_id": "PRR_kwDOABII585v_BRv",
      "url": null,
      "actor": null,
      "commit_id": "ab196c888f8cd0e3218d01c58a14b67c7eea9ea2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> Starting to review, if you get a chance can you rebase this so that it's only the relevant outstanding commits?\r\n\r\nDone. Rebased and reworked part of it.\r\nI still need to accommodate some code and improve the commit descriptions. But, at least the changes are reviewable now.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1878791279",
      "submitted_at": "2024-02-13T19:49:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11793491420,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAK-8mXc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11793491420",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-13T20:12:09Z"
    },
    {
      "event": "unlabeled",
      "id": 11793493631,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAK-8m5_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11793493631",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-13T20:12:26Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1880111708,
      "node_id": "PRR_kwDOABII585wEDpc",
      "url": null,
      "actor": null,
      "commit_id": "ac643893c61678c07d4ea29b19a67fbd63cb5113",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1880111708",
      "submitted_at": "2024-02-14T12:04:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11801246584,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAK_aLt4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11801246584",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-14T12:44:15Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11814875227,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALAOLBb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11814875227",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T12:36:23Z"
    },
    {
      "event": "unlabeled",
      "id": 11815627876,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAALARCxk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11815627876",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T13:39:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11832753463,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALBSX03",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11832753463",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-16T19:14:41Z"
    },
    {
      "event": "labeled",
      "id": 11860646769,
      "node_id": "LE_lADOABII585ysRL5zwAAAALC8xtx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11860646769",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T11:50:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11861190749,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALC-2hd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11861190749",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T12:39:19Z"
    },
    {
      "event": "unlabeled",
      "id": 11862244726,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAALDC312",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11862244726",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T14:04:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11926795643,
      "node_id": "LE_lADOABII585ysRL5zwAAAALG5HV7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11926795643",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-26T19:47:56Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1965129972,
      "node_id": "IC_kwDOABII5851IYD0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1965129972",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-26T19:47:57Z",
      "updated_at": "2024-02-26T19:47:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\nðŸš§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/21767740453</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1965129972",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11926971139,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALG5yMD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11926971139",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-26T20:05:39Z"
    },
    {
      "event": "unlabeled",
      "id": 11928449841,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAALG_bMx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11928449841",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-26T22:30:52Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1903160648,
      "node_id": "PRR_kwDOABII585xb-1I",
      "url": null,
      "actor": null,
      "commit_id": "5b1553871a0e598e409b9f1b899cb57a09705547",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looking good! I noticed a lot of `key.GetPubKey()` that could be removed, left some suggestions and verified locally that they improved the bench. I guess one conceptual question is if we are doing the `GetPubKey()` calls to regenerate the pubkeys in case we don't trust the data in the legacy wallet?",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1903160648",
      "submitted_at": "2024-02-27T12:00:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "reviewed",
      "id": 1903495948,
      "node_id": "PRR_kwDOABII585xdQsM",
      "url": null,
      "actor": null,
      "commit_id": "5b1553871a0e598e409b9f1b899cb57a09705547",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Thanks for the review josi!",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1903495948",
      "submitted_at": "2024-02-27T13:58:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11936935152,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALHfyzw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11936935152",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T14:03:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11939819551,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALHqzAf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11939819551",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T16:44:12Z"
    },
    {
      "event": "commented",
      "id": 1967094322,
      "node_id": "IC_kwDOABII5851P3oy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1967094322",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T16:51:21Z",
      "updated_at": "2024-02-27T16:51:21Z",
      "author_association": "MEMBER",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/28574/commits/868e2f64a9d7de3a980e64fd7acd7323214d3765\r\n\r\nCode reviewed and verified the bench results. Thanks for taking the suggestions!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-1967094322",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "review_requested",
      "id": 11939971450,
      "node_id": "RRE_lADOABII585ysRL5zwAAAALHrYF6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11939971450",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T16:51:25Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 11939971658,
      "node_id": "RRE_lADOABII585ysRL5zwAAAALHrYJK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11939971658",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T16:51:26Z",
      "requested_reviewer": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1955796645,
      "node_id": "PRR_kwDOABII5850kxal",
      "url": null,
      "actor": null,
      "commit_id": "868e2f64a9d7de3a980e64fd7acd7323214d3765",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1955796645",
      "submitted_at": "2024-03-22T21:16:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12250962064,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALaNtiQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12250962064",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-26T14:10:02Z"
    },
    {
      "event": "reviewed",
      "id": 1960549193,
      "node_id": "PRR_kwDOABII585025tJ",
      "url": null,
      "actor": null,
      "commit_id": "131df35a137f7ffc62bdd2e33963a20873d75815",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Updated per feedback. Thanks achow.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-1960549193",
      "submitted_at": "2024-03-26T14:15:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12251508257,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALaPy4h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12251508257",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-26T14:41:36Z"
    },
    {
      "event": "labeled",
      "id": 12294017656,
      "node_id": "LE_lADOABII585ysRL5zwAAAALcx9J4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12294017656",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-29T11:10:09Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12295297086,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAALc21g-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12295297086",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-29T13:57:02Z"
    },
    {
      "event": "commented",
      "id": 2027285885,
      "node_id": "IC_kwDOABII58541e19",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2027285885",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-29T13:59:14Z",
      "updated_at": "2024-03-29T13:59:14Z",
      "author_association": "MEMBER",
      "body": "rebased after #29130 merge.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-2027285885",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "labeled",
      "id": 12295854905,
      "node_id": "LE_lADOABII585ysRL5zwAAAALc49s5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12295854905",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-29T15:03:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 12296031022,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAALc5osu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12296031022",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-29T15:25:50Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 12361476440,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAALgzSlY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12361476440",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-04T16:36:33Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 12675408674,
      "node_id": "LE_lADOABII585ysRL5zwAAAALzg2Mi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12675408674",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-01T21:59:41Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2089200995,
      "node_id": "IC_kwDOABII5858hq1j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2089200995",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-01T21:59:42Z",
      "updated_at": "2024-05-01T21:59:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\nðŸš§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/23239600985</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-2089200995",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "convert_to_draft",
      "id": 12783065220,
      "node_id": "CTDE_lADOABII585ysRL5zwAAAAL57hiE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12783065220",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-13T08:04:36Z"
    },
    {
      "event": "commented",
      "id": 2106910223,
      "node_id": "IC_kwDOABII5859lOYP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106910223",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-13T08:05:15Z",
      "updated_at": "2024-05-13T08:05:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Turned into draft for now, due to failing CI. If this is no longer a WIP, you can move it out of draft.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-2106910223",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12819114119,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAL8FCiH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12819114119",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-15T14:40:44Z"
    },
    {
      "event": "ready_for_review",
      "id": 12819122813,
      "node_id": "RFRE_lADOABII585ysRL5zwAAAAL8FEp9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12819122813",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-15T14:41:15Z"
    },
    {
      "event": "unlabeled",
      "id": 12822078742,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAL8QWUW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12822078742",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-15T18:38:11Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2144168379,
      "node_id": "IC_kwDOABII585_zWm7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2144168379",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-03T02:30:07Z",
      "updated_at": "2024-06-03T02:30:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\nðŸš§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/25006227127</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#issuecomment-2144168379",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28574"
    },
    {
      "event": "labeled",
      "id": 13013981428,
      "node_id": "LE_lADOABII585ysRL5zwAAAAMHsZj0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13013981428",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-03T02:30:07Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUzNjU0ZDBmMjQ1NDA0OTA0MDQ5ZGY2N2I4MDc5MjhlM2U5ODgwNjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53654d0f245404904049df67b807928e3e988061",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/53654d0f245404904049df67b807928e3e988061",
      "tree": {
        "sha": "3d5269c6d4efc2e768c86386893bebf344090f9e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3d5269c6d4efc2e768c86386893bebf344090f9e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3d5269c6d4efc2e768c86386893bebf344090f9e\nparent c065ae84695de811716cb4fc89357346d7decc8f\nauthor furszy <matiasfurszyfer@protonmail.com> 1696019028 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421195 -0300\n\nbench: add coverage for wallet migration process\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxIsACgkQXdI8zGhq\npiMr1RAAoY7ixkdWYTWubyBY1NsfVXS2F+k3YmXWfhQGuft6BN50c4rVtBjY8ft6\nmL9GvDv6HW+Xys1fBuDSdpCj+b9+83IKTAYYfmA9gB8llfzHhBFE0E847DSppgSo\nYtjoAUH4DqJy/yFCr8HWxcM05iaEIGhQ+9QYuQOyrphIj5Tlvz4J7uLuzbFGiXit\nVdQRhUOpamlDmf9XMeSTQUduP290EVyEJb+q/oU643cmpb3l6lt+sqK9NCKjXubK\nubdAf3oAMK/3gYl1K11zUbfvAiLRfae65YpmVeYs4tYR/5bxdBkj3MFJwvBr2RQ8\n+0dXP1oXEVBGFMo/FrAplqDMTHEa4Tu1C7jpPUKrR8ebwjGhSVIBTu+hlv/b2x8P\nXLHBqzv0nKIW71EvyVkh4mi+e3iaVNuMGy+4OYjebHfTVVvS9qVzJ3RMQchtuGf2\nbbT9XRnvWx/augoOmKDbtyblrT7Ym3St75r2HEWoxD+0faNFJQ+RJdxQPLJ23CjR\n591wH6JQcJglCzXMmTv/ADnL+C6yztBMvqDoqvKEbxydbRnv+E17UfRZbfaaqbHX\n3fDIhzperU+kVOh5z2uiUbqs/jKY2f8h3SYr/SmCdaujhU1kQXAHWqLYva+GeXlj\nmP5Pn09dc1nm2+Dss6BWFiL4DgwORJB0uQqIqgvrwH13DRHWFLE=\n=fUjC\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c065ae84695de811716cb4fc89357346d7decc8f",
          "sha": "c065ae84695de811716cb4fc89357346d7decc8f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c065ae84695de811716cb4fc89357346d7decc8f"
        }
      ],
      "message": "bench: add coverage for wallet migration process",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:26:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T20:23:48Z"
      },
      "sha": "53654d0f245404904049df67b807928e3e988061"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY2Mzg3MDk3MzllNGJiODU4MTliODQ3YTU4MjYzMWQyOTg1YzRhYTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6638709739e4bb85819b847a582631d2985c4aa1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6638709739e4bb85819b847a582631d2985c4aa1",
      "tree": {
        "sha": "9c1e69536ad0a6e632e00be3013a423687379d81",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9c1e69536ad0a6e632e00be3013a423687379d81"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9c1e69536ad0a6e632e00be3013a423687379d81\nparent 53654d0f245404904049df67b807928e3e988061\nauthor furszy <matiasfurszyfer@protonmail.com> 1696075038 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421195 -0300\n\nwallet: batch MigrateToDescriptor() db transactions\n\nGrouping all db writes into a single atomic write operation.\nSpeeding up the flow and preventing inconsistent states.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxIsACgkQXdI8zGhq\npiPGug//W3zoKVtk8tdQqBuAbemsCAAQoXd1sGWjXI8QvvspNoxqqFyhOJqjTWY6\n8RBgGddgfQVFrnmc3l44pH5l3ApsiS6tycX9fY0IekQ4sCAGUIalDGRZWfylsgNu\nSCIIMcIa7shG8uLh5h9Xua0WNJbgQJ451T+2Wo2PCIDwcAt+UW5JvPO4f2Z0fp4s\nKYotL9YSHM/QbcRxL8xEJWObhzmH0TvbM/W/PTZQDgEa4tfVaiF7JPgqPGEl8rBr\nN0Z2so+RTBdem9H4nPIGX6BSmdxjTtgsWSdAmsSTQCveHXMIx/PbSz3HaY0y8vQ+\n67Q3pvlbbgvjMmQ4tO8OANbNqGQOQisdvYh3nebxsWcUeEaA/G8G7+eQYCccApvZ\nvZRAThvOmNQ3BOne2bKlujAMPau0aBEgKWgat21XiYSB6M1550Z0Tq6ViXgNsKw2\nBcsV+R311b09SftbzidPfVm3TKanl6tYJgvmZ+gsVZ13v5O+jnxjkCNuEgxWmk6b\nvBQR9hXfS8dqa2vhoEFGzn2I5GkDg5QrMWryVf96uMPPVcLZbOrJz0JYylEUsdib\n+sAfdWrB8NWyhxhvLGzg4BkZ3UkcD/i+T2EIn0/yp/M1nqeXI5GthfAS8egNd3bV\nBEw1n80OGytLwtOV9X451RrXYWWCynCpU7BmG1uTWi+QAphVkew=\n=M5k8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53654d0f245404904049df67b807928e3e988061",
          "sha": "53654d0f245404904049df67b807928e3e988061",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/53654d0f245404904049df67b807928e3e988061"
        }
      ],
      "message": "wallet: batch MigrateToDescriptor() db transactions\n\nGrouping all db writes into a single atomic write operation.\nSpeeding up the flow and preventing inconsistent states.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:26:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-30T11:57:18Z"
      },
      "sha": "6638709739e4bb85819b847a582631d2985c4aa1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg5MDA5ZWViMDFkY2ZhYzhiYmRmNzg2MDdlNjc1OWQzMTQ5MGFjYjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89009eeb01dcfac8bbdf78607e6759d31490acb6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/89009eeb01dcfac8bbdf78607e6759d31490acb6",
      "tree": {
        "sha": "7b127e4bd926bb490e21dccc593f339acd269fe6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b127e4bd926bb490e21dccc593f339acd269fe6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7b127e4bd926bb490e21dccc593f339acd269fe6\nparent 6638709739e4bb85819b847a582631d2985c4aa1\nauthor furszy <matiasfurszyfer@protonmail.com> 1696014724 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421195 -0300\n\nwallet: decouple default descriptors creation from external signer setup\n\nThis will be useful in the following-up commit to batch the entire\nwallet migration process.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxIsACgkQXdI8zGhq\npiPvwQ//ehSM636YTXYo/O/1EJyTyz/JzXKWtkU+4wjFI2FlaWNoiXv63oooNevh\n2mN346MKrCuHn11Oo42X5WDAyHN7DJsm6XOiOheEZ1NMgRe3Ci5dWOKKhz2pH0Be\nk/VGPEm/TiKcXW8BzDvANuXNC8J60Xg2hNqNJgJgezZx+FrXlKEXSjouRMQSqMcU\nVRJ2/HqKDisxsXj/x7cD+tERaT/yuWSrxxbMjOEFNSgP/FT4VISaimC18Y2hfRyW\nsmHkre0ckwabyqVPlRfddg8cnC2hXk3bj0lWqg1cMtteDwzaYqWu2BOZN0Lo2ZXz\nCnIgtGhi/JEMYuH9Mg6RJqRzMiJskTMNieAXHaW56QR2K+PEz8TG343l9aTy9F0m\nm/VLXcxmGpea4cIATvALb0WZazFxjhK4d4E742LO5Gr1kUl3pVTSly7czmCJFQ5m\ny2zxbXIMJPsed/D1hBXzQW5P+g+yG06csh4k8P3X0oYULDqAjwTrOynctGX+Lwir\nLC1mOptv7JOu8tzDLhbxhYiRgIZfsfzQncGCkO5M02S94l577hLfYZxmM6t8yQ0U\nFs9virFin3WA6m4nNdQJeFPXs68WJcrNeu8L/FZGAxCQrZSyVNnDa/ip6NiE/DjU\nU+RlmmtrfG9UBtlN84SXXQ+EMktDYH3ZXZ0lDYsTstLZF74wE/0=\n=is0H\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6638709739e4bb85819b847a582631d2985c4aa1",
          "sha": "6638709739e4bb85819b847a582631d2985c4aa1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6638709739e4bb85819b847a582631d2985c4aa1"
        }
      ],
      "message": "wallet: decouple default descriptors creation from external signer setup\n\nThis will be useful in the following-up commit to batch the entire\nwallet migration process.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:26:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T19:12:04Z"
      },
      "sha": "89009eeb01dcfac8bbdf78607e6759d31490acb6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEwMzcwMDY0YTA2ZTM1NWM0ZjIyMjY2MmEwNmYxMzgxNDJiMjk2M2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a0370064a06e355c4f222662a06f138142b2963c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a0370064a06e355c4f222662a06f138142b2963c",
      "tree": {
        "sha": "a91151f27cc72f27f3ee4bd789f2ad1fc4752a40",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a91151f27cc72f27f3ee4bd789f2ad1fc4752a40"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a91151f27cc72f27f3ee4bd789f2ad1fc4752a40\nparent 89009eeb01dcfac8bbdf78607e6759d31490acb6\nauthor furszy <matiasfurszyfer@protonmail.com> 1696015136 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421195 -0300\n\nwallet: introduce 'SetWalletFlagWithDB'\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxIsACgkQXdI8zGhq\npiNPHxAAuEW4jnBD0E6EP+lrAJGokL02ypZn2fJm7Jy2qISRjFHi3AC/A+rQnzSu\nETJOpOP1pbbrOP3EHcrDdotCqRVVgqHO7LnCj7TzIVEVAcF+BWMvYUXwTTDpnLEC\npZY225zUPemJJrOIEIaT+4Kr8QfqudIPCpsR129SsxLIAvVHZU2UX14BXnm7JXtf\nnP4yLnPNKjwXJoRExf9vF5akgPRyija3mSf6eoPt1r7ogECXQJ7Bn/HsY4Oqs306\nqFwlGhejipKHZH0RWTXVL50fbs7wStP4zE4BXPDdl0cwV8k/Wb1XZ6ONJxDteZg8\ncnOhjLZAnkHvVayC/FtqcbNZeIKD5Iljgoklw5zKrrkLxQDK8A8JQ9Wsa4Ri5ntZ\nh25OZxEZsgsvy33KutkzApzFxrY9cYvPLZouKENzG1c0zzvjqGg6lsrQrxhd4Gcf\n6OsfVtK6zAYNf21/2MEJJmFUjy+AA58Bm0ui8OZoD3kB7k93Eu7dVLXi1dXqZLkP\n3jH7MhElWJOyxrWe4lZSsXk9BmHJcVnrLlXmuk3y6SVlY/WyxAjq/UXbNhB9J3L6\nIZBOa1AjXgEZ7SxrsOaK2AiQ5b7EVnMGI1+m+8UB5GhKEZVywTR9fpQ17uLNBp2g\nXg2CSROIA0HQfk3KHOg0V3bO2dkrSS3Tb+hl5oXwYL3ntV31a94=\n=DUzA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89009eeb01dcfac8bbdf78607e6759d31490acb6",
          "sha": "89009eeb01dcfac8bbdf78607e6759d31490acb6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/89009eeb01dcfac8bbdf78607e6759d31490acb6"
        }
      ],
      "message": "wallet: introduce 'SetWalletFlagWithDB'",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:26:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-09-29T19:18:56Z"
      },
      "sha": "a0370064a06e355c4f222662a06f138142b2963c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhZTJjNjEwMzg4ZTNmYmMxOGJmNjMzMmQxZTEwNjgyYjAxODQxN2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fae2c610388e3fbc18bf6332d1e10682b018417b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fae2c610388e3fbc18bf6332d1e10682b018417b",
      "tree": {
        "sha": "19d61c3bf7bd2a1cb46deda4467fb1c4402a3c7d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/19d61c3bf7bd2a1cb46deda4467fb1c4402a3c7d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 19d61c3bf7bd2a1cb46deda4467fb1c4402a3c7d\nparent a0370064a06e355c4f222662a06f138142b2963c\nauthor furszy <matiasfurszyfer@protonmail.com> 1707836895 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421196 -0300\n\nwallet: provide WalletBatch to 'DeleteRecords'\n\nSo it can be used within an external db txn context.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxIwACgkQXdI8zGhq\npiPQRw//TISrKkTX4l59MyJ61I/NnWt47JZ88qvGjx5WaLfBshOCY2hIP+IpyE5/\neppNkaI4bnnWyPb5VBcYiX3k0d+WzzEapZYdhl24kzVzV/+bL+hpiwS6MXzxvuk4\njDoyHUTbJHtS0VRmiEeOECWeIEPXEZLjCrJuSs4lxACR2dRyrp/7bjXlSSjl9dRl\nzqFm2iqYBaFTQKWgp0gG+Nmpf8LbDmZfgqKnP5cNKoazkHKeL2SXTbtwtvzpMlRa\nt/fQtnmoLZ9fXuYJEVw1jEu5kqT9p9wr9P9wipMzuk35vJ47Pq3NGADjrsn2h9+z\nEMpIXdL9ntdJiJ6/OfgBOXBMs9g0c3cjkrjp0zahYb4CATIahBg/h/QWsTM7ZMU1\nIJlaIHxh3StQSNWOkgSS76IotPEhGlzCxDRxEkPcOEmOmvPvjyrASBVTIj+Zh9Xa\n3XYQIy7dUBO3I298JQwEfsRc5BbfCsNUrNgTxkUeFTxB3PpOdwf3TYALHBuzR7vV\niD3QUzSaoF1TcY19Jx8FDsbvZvRRgn92bXhaeDEo8ywgEHviw4yJjsJu5lXpMh8B\ncF4iRJfMT4LSd//JK/AYLXPZhB4xzqd3wpAeLasmt2sbzeqeP/M0foL4V2NsDAoS\nnDqaxaPVUycDDWoNCyRkTsdLITccevZCbrDlr00P75mVzktMA/o=\n=O/+v\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a0370064a06e355c4f222662a06f138142b2963c",
          "sha": "a0370064a06e355c4f222662a06f138142b2963c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a0370064a06e355c4f222662a06f138142b2963c"
        }
      ],
      "message": "wallet: provide WalletBatch to 'DeleteRecords'\n\nSo it can be used within an external db txn context.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:26:36Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-02-13T15:08:15Z"
      },
      "sha": "fae2c610388e3fbc18bf6332d1e10682b018417b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA1ZDg4Zjc5MWIzZDViMGIxZWRmYjIzNmQ1YmI3OTVjYjIxNGQ2Zjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05d88f791b3d5b0b1edfb236d5bb795cb214d6f9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/05d88f791b3d5b0b1edfb236d5bb795cb214d6f9",
      "tree": {
        "sha": "4a5b0f49bf22924621ffd185e111ac4733dea94b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4a5b0f49bf22924621ffd185e111ac4733dea94b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4a5b0f49bf22924621ffd185e111ac4733dea94b\nparent fae2c610388e3fbc18bf6332d1e10682b018417b\nauthor furszy <matiasfurszyfer@protonmail.com> 1711253031 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421196 -0300\n\nwallet: remove post-migration signals connection\n\nThe wallet is isolated during migration and reloaded at the end\nof the process. There is no benefit on connecting the signals\nfew lines before unloading the wallet.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxIwACgkQXdI8zGhq\npiOnQw/9EW6XUwR0tZ7UAiqKg6l37c3YwTRsKeWBgIXnqr+YHW5DhnA53n5j71rE\nDN5PxQkP8vECnravGECOY1j1dngqze4x1JDKYbJ9N9xAF0gCxVuU/X9rSc9/gAg6\nSzvMG3zV6tGtcSI/QrRiq5rc3q9TVgf52I2ho8d/Tfhws1Q3U4NItG8J96iBHKSZ\nym9paMF+5RD6zDXF5IoJFvATH0gXUpAV2hQRDJMvwVJkCWM/vaS/+3i1Bq/iPo6D\nInO4ruzfw/qMPm2OSkDgjY6y1U5Barpz0KdSzT/iKhjX8ZuEKdXiJbj4ar1fFLVy\nedRXNifT1dhvZmAaozWKZq7MifpTEE6yhZaV8M2+0m0urknEW11G8NYkbol8RRpK\nH98boOT0zWNUcsM+HutiQk7nA22OiR9gOsr2rj5OGG22MPAN47oOadftxXU3XdDW\nuvqLs/p8IQ9hvqNtsbq2ARQLt77oWfTfuQ1nsgdBYEcVB8KJYhoRxrpoGjhfALzz\nT+TACgg0aSUqzgWb50wXDrOOHtC6josBq7L6uQfxM05LFYEEg6Ws7PASbZViBT5j\n+izDgvxLZTQSvz29Mla6Ot6+6D6gWoVbDP5BdEb+SRymf+D04ecNzR6v5seCWjC5\n8gYayPJR4S3+Dw0SW+OVYJstB/T9hn65k0dtU9CdM3k96IHm8+Y=\n=kxBY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fae2c610388e3fbc18bf6332d1e10682b018417b",
          "sha": "fae2c610388e3fbc18bf6332d1e10682b018417b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fae2c610388e3fbc18bf6332d1e10682b018417b"
        }
      ],
      "message": "wallet: remove post-migration signals connection\n\nThe wallet is isolated during migration and reloaded at the end\nof the process. There is no benefit on connecting the signals\nfew lines before unloading the wallet.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:26:36Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-03-24T04:03:51Z"
      },
      "sha": "05d88f791b3d5b0b1edfb236d5bb795cb214d6f9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRhNWYxYjA4ZjNjNmIzYTY0ZTFiMGI0YTAwNGI1OWUzZDA2ZTZjZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/da5f1b08f3c6b3a64e1b0b4a004b59e3d06e6cf6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/da5f1b08f3c6b3a64e1b0b4a004b59e3d06e6cf6",
      "tree": {
        "sha": "2dbbb99690d2331127c66269ec819cc25f10634a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2dbbb99690d2331127c66269ec819cc25f10634a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2dbbb99690d2331127c66269ec819cc25f10634a\nparent 05d88f791b3d5b0b1edfb236d5bb795cb214d6f9\nauthor furszy <matiasfurszyfer@protonmail.com> 1711460910 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421442 -0300\n\nwallet: introduce active db txn listeners\n\nUseful to ensure that the in-memory state is updated only\nafter successfully committing the data to disk.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxYIACgkQXdI8zGhq\npiP/qA//ZgU6wEHJMdrD/MRXAJ4z7VgXqQm8Lyw2zcIQx1YBIj2C7MKaSeXMRYaV\n3yRsie7/ZtknNyHuNaPvFcC2Z17fYz4km4XH5qk03nO2UjIP3opvBOzN37beWQgC\nzvNXKrkeVpa08PxBOIulYm7yyjLq4Gdu3lq4eSJN2U5C9eovLSu2MvlxU3z4KN1b\nLzdwMdsW23Fm/WJln/cAzs1oSpnENSACsRfw7U4FDp+vq6AIM06X0adeyBJeSBD9\ngFti5ndwH22HEQnv/rin6eiMpuz5X5stbZz4d5qSyi2JcdULN+/WvAmES8QyeBF2\n3MsvA1KRBU7LX2qigPxxqAnG1JVLmpvZY0DC7B3KSHSZgd3mHY0Fu8ZeRzvr0WfH\nJVvn1Ql/RHnbOD+SJhqeEiUdItZL3GN+O4+osiHljwl9Hp7x2U3ht/5AGEgs7dsx\nYLkj+p+Z4LhOcGKMMJ9EIm2pIAK5VzOubF17tX4UT1AQ625LJboXWPHppFhZcGOi\ntcVky0h+x9a9H0m1EbPk1N5YY0iZQRo232UrHRRe9GCAe4pQlOmCDwfDaB3DCO5P\nZjtG628Q2zM8QI9TDUY1FBoesKRfj5uh92laO5qY93WMJm+TshLEVdDKsPOmARb3\numFo/+aH7jkjwKHKjRW4NEQq/Rpl8vAunrYdZ6IwsRZdCpWbLYs=\n=2qlU\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05d88f791b3d5b0b1edfb236d5bb795cb214d6f9",
          "sha": "05d88f791b3d5b0b1edfb236d5bb795cb214d6f9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/05d88f791b3d5b0b1edfb236d5bb795cb214d6f9"
        }
      ],
      "message": "wallet: introduce active db txn listeners\n\nUseful to ensure that the in-memory state is updated only\nafter successfully committing the data to disk.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:30:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-03-26T13:48:30Z"
      },
      "sha": "da5f1b08f3c6b3a64e1b0b4a004b59e3d06e6cf6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcxZTBmYTM2M2M2YmMzYTBmNDczMzcxZDgzZGMwM2VkMDM5MWYzMjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71e0fa363c6bc3a0f473371d83dc03ed0391f320",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/71e0fa363c6bc3a0f473371d83dc03ed0391f320",
      "tree": {
        "sha": "3f4be2c676b7ca725216b8f23bcf8370d4fdf85b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3f4be2c676b7ca725216b8f23bcf8370d4fdf85b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3f4be2c676b7ca725216b8f23bcf8370d4fdf85b\nparent da5f1b08f3c6b3a64e1b0b4a004b59e3d06e6cf6\nauthor furszy <matiasfurszyfer@protonmail.com> 1711460232 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421442 -0300\n\nwallet: provide WalletBatch to 'RemoveTxs'\n\nPreparing it to be used within a broader db txn procedure.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxYIACgkQXdI8zGhq\npiM7AA/+Lmio6h0wBXxCn/k7KhwXOeKakK2LC2URMc/HKDhA8uAu1+mMAV5VRMUz\nbnxMJ/pM9mu2q6zouXSxg9NIIiBovEuO9fMSo6AAQSQCiJLfgr/Lje08aKYLURD8\ncA2y896nmhAgde8yhxIzSpyiLsT7V0DmRS76me/JTEIv7X45zPOdhTN52UTIQKZE\n45d/oHs3+Z33w/3eXydKk40p+IJWYEIDOqhh7ikPQsl/BTloNV4efM8kB90plmvn\nRf+fUC4uBgKKdxHypIFOVKVOPhfy8jYFAoRFELLGBg0SlmxfxS39LgDlhbb4K0+3\n1CVlfgY2kwc4oH+9kkQfyNXI2eCYWqGaAxdndHYiN/xuyGGbzGdDZUtalFCmHTao\nyxReHUycYzLvSnocBe22ALxT99rcrBuUn0VZDrHJ2Lr6T1fNL90inX+E+g4Baqij\ntZpOB3qSabpIWuhQ0+WyemEwRvIKHt+2hgMc9cbEWzzjDfL+/l2N2bbLIT6kCxS/\nKE8vy+B0six57oS9vB+CnK3Yu0st35h7lbii6eEa90fTDpObrtAFgKF5WZOT8qWB\nWXVF4LNbwxziCkL/llpdzxxLYmd0mIEmn3PWvd8doc6zJLNhMdXev2ca61+0Eljr\nnILEqOYQl9QR4zZC07Ss2V3jEseW4QW2+nXeJ+bOJuohmVLJpow=\n=DYWw\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/da5f1b08f3c6b3a64e1b0b4a004b59e3d06e6cf6",
          "sha": "da5f1b08f3c6b3a64e1b0b4a004b59e3d06e6cf6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/da5f1b08f3c6b3a64e1b0b4a004b59e3d06e6cf6"
        }
      ],
      "message": "wallet: provide WalletBatch to 'RemoveTxs'\n\nPreparing it to be used within a broader db txn procedure.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:30:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-03-26T13:37:12Z"
      },
      "sha": "71e0fa363c6bc3a0f473371d83dc03ed0391f320"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRjMjE1M2RhYmQwODM4NDNlYzM5NzBmZjYzODk2N2E3YTBkMGUxNTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4c2153dabd083843ec3970ff638967a7a0d0e156",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4c2153dabd083843ec3970ff638967a7a0d0e156",
      "tree": {
        "sha": "811c26557f1fc12b225a0f3bf791c3e5c57cc41d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/811c26557f1fc12b225a0f3bf791c3e5c57cc41d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 811c26557f1fc12b225a0f3bf791c3e5c57cc41d\nparent 71e0fa363c6bc3a0f473371d83dc03ed0391f320\nauthor furszy <matiasfurszyfer@protonmail.com> 1707837664 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421442 -0300\n\nwallet: refactor ApplyMigrationData to return util::Result<void>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxYIACgkQXdI8zGhq\npiMFjA//QXyDt4EPoUW8/NTU9cuKTDtKzpSLgrb9+a85aE+v5UN8R2geqE82ICpR\n+AnmbyWIt8QkboSXfLGC+DpVngB/uPdVEc3nLrRIQ66enEMldXbcapGUH4WL9XpB\n2qTd1P+Dla2bG8V+QvO7ouSyDrUu4azRMvrjRgccAExR5nOzrCUe+aqf6i29DrAm\nLdRFKQB0HRmL02xcmorC/VfRCLor0+G1hGRI/USbyKcd6Rauk0YIDXd2ukrfGbHV\nm0EDLAt2eFlELcghhEtMUabSXpxP5rLu8Py6UsnvujHBY9JDv+rAklmb+mQ43BY7\neRqEKIK70TsA+Fio50KBLvxqUMse6/E2PNbxeuuuj96nx3L2YJayzrzNJLJn62nj\nRGRGNUfMAaBBZYVNcL2aYv+wM+FvsQERbYIYJN0p2HP8fCSwX0zoim7B3I/Gtd5Z\nNrqzmhLNqmO/Z/LTjsXlU+oy4O96qgyQNq4T8m8NEjgXZNwy9A8XJbYzkVk3GL/J\nm1cFQELAQhkQIekZJNSMAWbnaZazcikNFfwNbPPfq4EFJcd5FTvaykpjzsXPph7n\nIdGSo7OTPyO3Nx+kT3UL7YO3lSASbVha8BbHDXL93E8GeBE5xw693dXoIT7zoNtk\ni+ISdWh3+pSIzYebrQ8tCQL00s5PB//eHsbK0uUT6QMe/nHGXcw=\n=YWFk\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71e0fa363c6bc3a0f473371d83dc03ed0391f320",
          "sha": "71e0fa363c6bc3a0f473371d83dc03ed0391f320",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71e0fa363c6bc3a0f473371d83dc03ed0391f320"
        }
      ],
      "message": "wallet: refactor ApplyMigrationData to return util::Result<void>",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:30:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-02-13T15:21:04Z"
      },
      "sha": "4c2153dabd083843ec3970ff638967a7a0d0e156"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRlNzI4MjFlMTk2MWI1ODU1OWY0OWE0NzQ2YmM4ZDE1ZDExNmY2Yjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "tree": {
        "sha": "2e6c6a58038171e2bcd94208c9f2c168f2a3056c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2e6c6a58038171e2bcd94208c9f2c168f2a3056c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2e6c6a58038171e2bcd94208c9f2c168f2a3056c\nparent 4c2153dabd083843ec3970ff638967a7a0d0e156\nauthor furszy <matiasfurszyfer@protonmail.com> 1707838456 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1717421442 -0300\n\nwallet: ApplyMigrationData, group all db txs into a single atomic operation\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmZdxYIACgkQXdI8zGhq\npiP/Ow//b32LlVThJ05yjXh9d1WA40KB5SriqM99WIJN5DFN5Z3J6Q6N7a7OyvH0\noOS1SBUIde1t7dUc1UOAv/IYpJPu1M8AkcDes3KS9fxW6CGdq+XLwSoRRST0P7q/\nyTZGXFpmRHoSAyqr6V0lXGGPYiFPEhj5NtIsV2htdmAUhkxwsKCswrKmWYOJZkMx\nE/iQkl8re7+YEbmKwsjuKSq45iPsRFbs2HGTfH+gLIAdOFBtJJ9wObi1BBrOfc26\nw5YA1HiinInbc0D7L1VPux2gaEwyPTQv5m0BO8BjQIlIjgCwDEcNO36/Qe3P1PkH\nfsg2Grc+k+iTEi7Ci+uraATADYr3XM8RDHvqVmJmuAqeeB06W2GvaWrhlk67Tigr\nc8pLj7h4MWH4tyE0W9iMl56onqyUJUZJmMs/nQpcyqq4/a6RaAooGA4Eqg5mb2UM\nl307+H3K425FK86QfewAFtBN76dWFCuLejF5Zso0aYNQdrj0zFSvEormk2zWLwzd\nFj4mxHjPEPjJ8ko/3JW8hIc6iLnYRVwRcZ3Efq0poLiImE77mpJeg2rT+D0eEKQ7\nl3+wpFh6ANGQQXskOzYe5ifQ9RgTk0N+ZGbfuN2OYrVcxFfod6kkSsddU8A1SRfQ\nZyMTxe7ZAd8+wEQ2LexAQq7Cy645uBZnMmbDpIftwo5hl8cpTA8=\n=Pzpq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4c2153dabd083843ec3970ff638967a7a0d0e156",
          "sha": "4c2153dabd083843ec3970ff638967a7a0d0e156",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4c2153dabd083843ec3970ff638967a7a0d0e156"
        }
      ],
      "message": "wallet: ApplyMigrationData, group all db txs into a single atomic operation",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-03T13:30:42Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-02-13T15:34:16Z"
      },
      "sha": "4e72821e1961b58559f49a4746bc8d15d116f6b7"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13021358806,
      "node_id": "HRFPE_lADOABII585ysRL5zwAAAAMIIirW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13021358806",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-03T13:33:26Z"
    },
    {
      "event": "reviewed",
      "id": 2093904324,
      "node_id": "PRR_kwDOABII5858znHE",
      "url": null,
      "actor": null,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Rebased due a hidden conflict with #26606.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-2093904324",
      "submitted_at": "2024-06-03T13:37:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    },
    {
      "event": "unlabeled",
      "id": 13023678896,
      "node_id": "UNLE_lADOABII585ysRL5zwAAAAMIRZGw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13023678896",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-03T16:03:40Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2152124552,
      "node_id": "PRR_kwDOABII586ARtCI",
      "url": null,
      "actor": null,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nI'm not a huge fan of all the boilerplate and wrappers that this ends up adding, but I also don't see a better way to do this.\r\n\r\nIn `ApplyMigrationData`, it looks like we're creating batchs for the watchonly and solvable wallets multiple times. Those could be consolidated in this PR as well.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#pullrequestreview-2152124552",
      "submitted_at": "2024-07-01T19:54:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489365242",
      "pull_request_review_id": 1880111708,
      "id": 1489365242,
      "node_id": "PRRC_kwDOABII585Yxej6",
      "diff_hunk": "@@ -0,0 +1,87 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <interfaces/chain.h>\n+#include <node/context.h>\n+#include <test/util/mining.h>\n+#include <test/util/setup_common.h>\n+#include <wallet/test/util.h>\n+#include <wallet/context.h>\n+#include <wallet/receive.h>\n+#include <wallet/wallet.h>\n+\n+#include <optional>\n+\n+#ifdef USE_BDB // only enable benchmark when bdb and sqlite are enabled\n+#ifdef USE_SQLITE\n+\n+namespace wallet{\n+\n+static void WalletMigration(benchmark::Bench& bench)\n+{\n+    const auto test_setup = MakeNoLogFileContext<TestingSetup>();\n+\n+    WalletContext context;\n+    context.args = &test_setup->m_args;\n+    context.chain = test_setup->m_node.chain.get();\n+\n+    // Number of wallets to migrate\n+    int NUM_WALLETS = 1;\n+    // Number of imported watch only addresses\n+    int NUM_WATCH_ONLY_ADDR = 20;\n+\n+    // Setup legacy wallets\n+    for (int i = 0; i < NUM_WALLETS; ++i) {\n+        DatabaseOptions options;\n+        DatabaseStatus status;\n+        bilingual_str error;\n+        std::string filename = strprintf(\"legacy_%d\", i);\n+        auto database = MakeWalletDatabase(test_setup->m_path_root / filename.c_str(), options, status, error);\n+        uint64_t create_flags = 0;\n+        auto wallet = TestLoadWallet(std::move(database), context, create_flags);\n+\n+        // Add watch-only addresses\n+        std::vector<CScript> scripts_watch_only;\n+        for (int w = 0; w < NUM_WATCH_ONLY_ADDR; ++w) {\n+            CKey key;\n+            key.MakeNewKey(true);\n+            LOCK(wallet->cs_wallet);\n+            const CScript& script = scripts_watch_only.emplace_back(GetScriptForDestination(GetDestinationForKey(key.GetPubKey(), OutputType::LEGACY)));\n+            bool res = wallet->ImportScriptPubKeys(strprintf(\"watch_%d\", w), {script},\n+                                        /*have_solving_data=*/false, /*apply_label=*/true, /*timestamp=*/1);\n+            assert(res);\n+        }\n+\n+        // Generate transactions and local addresses\n+        for (int j = 0; j < 400; ++j) {\n+            CMutableTransaction mtx;\n+            mtx.vout.emplace_back(COIN, GetScriptForDestination(*Assert(wallet->GetNewDestination(OutputType::BECH32, strprintf(\"bench_%d\", j)))));\n+            mtx.vout.emplace_back(COIN, GetScriptForDestination(*Assert(wallet->GetNewDestination(OutputType::LEGACY, strprintf(\"legacy_%d\", j)))));\n+            mtx.vout.emplace_back(COIN, scripts_watch_only.at(j % NUM_WATCH_ONLY_ADDR));\n+            mtx.vin.resize(2);\n+            wallet->AddToWallet(MakeTransactionRef(mtx), TxStateInactive{}, /*update_wtx=*/nullptr, /*fFlushOnClose=*/false, /*rescanning_old_block=*/true);\n+        }\n+\n+        // Unload so the migration process loads it\n+        TestUnloadWallet(std::move(wallet));\n+    }\n+\n+    int wallet_num = 0;\n+    bench.epochs(NUM_WALLETS).run([&] {\n+        std::string filename = strprintf(\"legacy_%d\", wallet_num);",
      "path": "src/bench/wallet_migration.cpp",
      "position": null,
      "original_position": 73,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "ac643893c61678c07d4ea29b19a67fbd63cb5113",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        auto filename{PathFromString(strprintf(\"legacy_%d\", wallet_num));\r\n```\r\n\r\nI don't like the c_str below. Also, it doesn't compile on Windows.\r\n\r\nUsing `PathFromString` should be fine to \"convert\" ascii to a path segment, IIUC\r\n\r\nSame above and  https://github.com/bitcoin/bitcoin/pull/28894#discussion_r1420361508",
      "created_at": "2024-02-14T12:04:02Z",
      "updated_at": "2024-02-14T12:04:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1489365242",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489365242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489408285",
      "pull_request_review_id": 1880179669,
      "id": 1489408285,
      "node_id": "PRRC_kwDOABII585YxpEd",
      "diff_hunk": "@@ -0,0 +1,87 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <interfaces/chain.h>\n+#include <node/context.h>\n+#include <test/util/mining.h>\n+#include <test/util/setup_common.h>\n+#include <wallet/test/util.h>\n+#include <wallet/context.h>\n+#include <wallet/receive.h>\n+#include <wallet/wallet.h>\n+\n+#include <optional>\n+\n+#ifdef USE_BDB // only enable benchmark when bdb and sqlite are enabled\n+#ifdef USE_SQLITE\n+\n+namespace wallet{\n+\n+static void WalletMigration(benchmark::Bench& bench)\n+{\n+    const auto test_setup = MakeNoLogFileContext<TestingSetup>();\n+\n+    WalletContext context;\n+    context.args = &test_setup->m_args;\n+    context.chain = test_setup->m_node.chain.get();\n+\n+    // Number of wallets to migrate\n+    int NUM_WALLETS = 1;\n+    // Number of imported watch only addresses\n+    int NUM_WATCH_ONLY_ADDR = 20;\n+\n+    // Setup legacy wallets\n+    for (int i = 0; i < NUM_WALLETS; ++i) {\n+        DatabaseOptions options;\n+        DatabaseStatus status;\n+        bilingual_str error;\n+        std::string filename = strprintf(\"legacy_%d\", i);\n+        auto database = MakeWalletDatabase(test_setup->m_path_root / filename.c_str(), options, status, error);\n+        uint64_t create_flags = 0;\n+        auto wallet = TestLoadWallet(std::move(database), context, create_flags);\n+\n+        // Add watch-only addresses\n+        std::vector<CScript> scripts_watch_only;\n+        for (int w = 0; w < NUM_WATCH_ONLY_ADDR; ++w) {\n+            CKey key;\n+            key.MakeNewKey(true);\n+            LOCK(wallet->cs_wallet);\n+            const CScript& script = scripts_watch_only.emplace_back(GetScriptForDestination(GetDestinationForKey(key.GetPubKey(), OutputType::LEGACY)));\n+            bool res = wallet->ImportScriptPubKeys(strprintf(\"watch_%d\", w), {script},\n+                                        /*have_solving_data=*/false, /*apply_label=*/true, /*timestamp=*/1);\n+            assert(res);\n+        }\n+\n+        // Generate transactions and local addresses\n+        for (int j = 0; j < 400; ++j) {\n+            CMutableTransaction mtx;\n+            mtx.vout.emplace_back(COIN, GetScriptForDestination(*Assert(wallet->GetNewDestination(OutputType::BECH32, strprintf(\"bench_%d\", j)))));\n+            mtx.vout.emplace_back(COIN, GetScriptForDestination(*Assert(wallet->GetNewDestination(OutputType::LEGACY, strprintf(\"legacy_%d\", j)))));\n+            mtx.vout.emplace_back(COIN, scripts_watch_only.at(j % NUM_WATCH_ONLY_ADDR));\n+            mtx.vin.resize(2);\n+            wallet->AddToWallet(MakeTransactionRef(mtx), TxStateInactive{}, /*update_wtx=*/nullptr, /*fFlushOnClose=*/false, /*rescanning_old_block=*/true);\n+        }\n+\n+        // Unload so the migration process loads it\n+        TestUnloadWallet(std::move(wallet));\n+    }\n+\n+    int wallet_num = 0;\n+    bench.epochs(NUM_WALLETS).run([&] {\n+        std::string filename = strprintf(\"legacy_%d\", wallet_num);",
      "path": "src/bench/wallet_migration.cpp",
      "position": null,
      "original_position": 73,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "ac643893c61678c07d4ea29b19a67fbd63cb5113",
      "in_reply_to_id": 1489365242,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I don't like the c_str below. Also, it doesn't compile on Windows.\r\n\r\nyeah, me neither.. I just did this 5 months ago. Fixed, thanks.",
      "created_at": "2024-02-14T12:42:01Z",
      "updated_at": "2024-02-14T12:44:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1489408285",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489408285"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504024046",
      "pull_request_review_id": 1903160648,
      "id": 1504024046,
      "node_id": "PRRC_kwDOABII585ZpZXu",
      "diff_hunk": "@@ -0,0 +1,93 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <bench/bench.h>\n+#include <interfaces/chain.h>\n+#include <node/context.h>\n+#include <test/util/mining.h>\n+#include <test/util/setup_common.h>\n+#include <wallet/test/util.h>\n+#include <wallet/context.h>\n+#include <wallet/receive.h>\n+#include <wallet/wallet.h>\n+\n+#include <optional>\n+\n+#ifdef USE_BDB // only enable benchmark when bdb and sqlite are enabled\n+#ifdef USE_SQLITE\n+\n+namespace wallet{\n+\n+static void WalletMigration(benchmark::Bench& bench)\n+{\n+    const auto test_setup = MakeNoLogFileContext<TestingSetup>();\n+\n+    WalletContext context;\n+    context.args = &test_setup->m_args;\n+    context.chain = test_setup->m_node.chain.get();\n+\n+    // Number of wallets to migrate\n+    int NUM_WALLETS = 1;\n+    // Number of imported watch only addresses\n+    int NUM_WATCH_ONLY_ADDR = 20;\n+\n+    // Setup legacy wallets\n+    for (int i = 0; i < NUM_WALLETS; ++i) {",
      "path": "src/bench/wallet_migration.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "a2866d6ce0a4bf8b249ca13c19747d6a209dadab",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in \"bench: add coverage for wallet migration process\" (https://github.com/bitcoin/bitcoin/pull/28574/commits/a2866d6ce0a4bf8b249ca13c19747d6a209dadab):\r\n\r\nWhy the loop setup if we are only going to do one wallet? Seems better to either run multiple epochs or simplify the benchmark and take out the loop.",
      "created_at": "2024-02-27T10:44:49Z",
      "updated_at": "2024-02-27T12:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504024046",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504024046"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": 35,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504030030",
      "pull_request_review_id": 1903160648,
      "id": 1504030030,
      "node_id": "PRRC_kwDOABII585Zpa1O",
      "diff_hunk": "@@ -1782,6 +1782,12 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         keyid_it++;\n     }\n \n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.TxnBegin()) {\n+        LogPrintf(\"Error during descriptors migration, cannot initialize db transaction\\n\");",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in \"wallet: batch MigrateToDescriptor() db transactions\" (https://github.com/bitcoin/bitcoin/pull/28574/commits/5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7):\r\n\r\nWhat about \"Error during legacy wallet migration,\" instead? ",
      "created_at": "2024-02-27T10:49:25Z",
      "updated_at": "2024-02-27T12:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504030030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504030030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1787,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504041868",
      "pull_request_review_id": 1903160648,
      "id": 1504041868,
      "node_id": "PRRC_kwDOABII585ZpduM",
      "diff_hunk": "@@ -1811,8 +1817,8 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n         auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n-        desc_spk_man->AddDescriptorKey(key, key.GetPubKey());\n-        desc_spk_man->TopUp();\n+        WITH_LOCK(desc_spk_man->cs_desc_man, desc_spk_man->AddDescriptorKeyWithDB(batch, key, key.GetPubKey()));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in \"wallet: batch MigrateToDescriptor() db transactions\" (https://github.com/bitcoin/bitcoin/pull/28574/commits/5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7):\r\n\r\n`key.GetPubKey()` is a pretty expensive operation and we are calling it above:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/28574/commits/5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7#diff-55ce403d9c3440b4a38a261b7d452f84dd9a1d09b2a5ef1b4d3ac0c3567b9106R1812\r\n\r\nand then again here. Not a big deal compared to some of the other stuff, but I ran the bench locally with and without the suggested change and its ~1.5% speedup (assuming I'm reading the bench results correctly :sweat_smile: ):\r\n\r\n```\r\n# before\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|    6,936,309,493.00 |                0.14 |    0.0% |32,790,301,157.00 |11,790,224,744.00 |  2.781 |3,044,271,114.00 |    0.2% |      6.94 | `WalletMigration`\r\n\r\n\r\n# after\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|    6,836,475,065.00 |                0.15 |    0.0% |32,795,704,156.00 |11,732,850,832.00 |  2.795 |3,044,413,213.00 |    0.2% |      6.84 | `WalletMigration`",
      "created_at": "2024-02-27T10:58:41Z",
      "updated_at": "2024-02-27T12:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504041868",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504041868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1822,
      "original_line": 1822,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504090385",
      "pull_request_review_id": 1903160648,
      "id": 1504090385,
      "node_id": "PRRC_kwDOABII585ZppkR",
      "diff_hunk": "@@ -1811,8 +1817,8 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n         auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n-        desc_spk_man->AddDescriptorKey(key, key.GetPubKey());\n-        desc_spk_man->TopUp();\n+        WITH_LOCK(desc_spk_man->cs_desc_man, desc_spk_man->AddDescriptorKeyWithDB(batch, key, key.GetPubKey()));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": 1504041868,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, in `mapCryptedKey`, the `CPubKey` is already there, so you could pull it out and avoid recalculating it: https://github.com/bitcoin/bitcoin/pull/28574/commits/5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7#diff-55ce403d9c3440b4a38a261b7d452f84dd9a1d09b2a5ef1b4d3ac0c3567b9106R1762\r\n\r\nBut I'm not sure that's worth the extra effort considering it would only make a difference if a majority of the keys come from `mapCryptedKey` and it seems that this isn't making much of an improvement anyways.",
      "created_at": "2024-02-27T11:39:50Z",
      "updated_at": "2024-02-27T12:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504090385",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504090385"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1822,
      "original_line": 1822,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504103851",
      "pull_request_review_id": 1903160648,
      "id": 1504103851,
      "node_id": "PRRC_kwDOABII585Zps2r",
      "diff_hunk": "@@ -1923,9 +1929,9 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n                 if (!GetKey(keyid, key)) {\n                     continue;\n                 }\n-                desc_spk_man->AddDescriptorKey(key, key.GetPubKey());\n+                WITH_LOCK(desc_spk_man->cs_desc_man, desc_spk_man->AddDescriptorKeyWithDB(batch, key, key.GetPubKey()));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in \"wallet: batch MigrateToDescriptor() db transactions\" (https://github.com/bitcoin/bitcoin/pull/28574/commits/5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7):\r\n\r\nCould get rid of the `key.GetPubKey()` call here and completely get rid of the `privkeyid` set above:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/28574/commits/5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7#diff-55ce403d9c3440b4a38a261b7d452f84dd9a1d09b2a5ef1b4d3ac0c3567b9106R1907-R1910\r\n\r\nsince `keys.origins` is a pair of the `keyid` and `CPubKey`. Running the bench with with this suggestion seemed to help:\r\n\r\n```\r\n# after\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|    6,395,421,573.00 |                0.16 |    0.0% |32,790,285,573.00 |11,895,327,005.00 |  2.757 |3,044,102,935.00 |    0.2% |      6.40 | `WalletMigration`\r\n```\r\n\r\n6.94 -> 6.84 -> 6.4\r\n",
      "created_at": "2024-02-27T11:51:18Z",
      "updated_at": "2024-02-27T12:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504103851",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504103851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1934,
      "original_line": 1934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504226516",
      "pull_request_review_id": 1903495948,
      "id": 1504226516,
      "node_id": "PRRC_kwDOABII585ZqKzU",
      "diff_hunk": "@@ -0,0 +1,93 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <bench/bench.h>\n+#include <interfaces/chain.h>\n+#include <node/context.h>\n+#include <test/util/mining.h>\n+#include <test/util/setup_common.h>\n+#include <wallet/test/util.h>\n+#include <wallet/context.h>\n+#include <wallet/receive.h>\n+#include <wallet/wallet.h>\n+\n+#include <optional>\n+\n+#ifdef USE_BDB // only enable benchmark when bdb and sqlite are enabled\n+#ifdef USE_SQLITE\n+\n+namespace wallet{\n+\n+static void WalletMigration(benchmark::Bench& bench)\n+{\n+    const auto test_setup = MakeNoLogFileContext<TestingSetup>();\n+\n+    WalletContext context;\n+    context.args = &test_setup->m_args;\n+    context.chain = test_setup->m_node.chain.get();\n+\n+    // Number of wallets to migrate\n+    int NUM_WALLETS = 1;\n+    // Number of imported watch only addresses\n+    int NUM_WATCH_ONLY_ADDR = 20;\n+\n+    // Setup legacy wallets\n+    for (int i = 0; i < NUM_WALLETS; ++i) {",
      "path": "src/bench/wallet_migration.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "a2866d6ce0a4bf8b249ca13c19747d6a209dadab",
      "in_reply_to_id": 1504024046,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Why the loop setup if we are only going to do one wallet? Seems better to either run multiple epochs or simplify the benchmark and take out the loop.\r\n\r\nThe idea was to run it multiple times to decrease the noise by taking the median. But the time this test was taking originally (10-15 min) was too much. Thus why I left everything in-place for when the migration time decreases.",
      "created_at": "2024-02-27T13:22:21Z",
      "updated_at": "2024-02-27T13:58:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504226516",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504226516"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": 35,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504236981",
      "pull_request_review_id": 1903495948,
      "id": 1504236981,
      "node_id": "PRRC_kwDOABII585ZqNW1",
      "diff_hunk": "@@ -1782,6 +1782,12 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         keyid_it++;\n     }\n \n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.TxnBegin()) {\n+        LogPrintf(\"Error during descriptors migration, cannot initialize db transaction\\n\");",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": 1504030030,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> What about \"Error during legacy wallet migration,\" instead?\r\n\r\nThe idea of the error message is to point out at which part of the process failed. Saying \"Error during legacy wallet migration\" is too broad (the same message could arise anywhere along migration).\r\nThis part of the process generates descriptors from the legacy SKPM keys and scripts.",
      "created_at": "2024-02-27T13:29:29Z",
      "updated_at": "2024-02-27T13:58:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504236981",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504236981"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1787,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504260053",
      "pull_request_review_id": 1903495948,
      "id": 1504260053,
      "node_id": "PRRC_kwDOABII585ZqS_V",
      "diff_hunk": "@@ -1811,8 +1817,8 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n         auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n-        desc_spk_man->AddDescriptorKey(key, key.GetPubKey());\n-        desc_spk_man->TopUp();\n+        WITH_LOCK(desc_spk_man->cs_desc_man, desc_spk_man->AddDescriptorKeyWithDB(batch, key, key.GetPubKey()));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": 1504041868,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sounds good. We could go further and remove the `GetKey()` from the `keyids` for-loop too (`GetKey()` access `mapKeys` for unencrypted wallets and `mapCryptedKeys` for encrypted ones --> which we already do at the beginning of the process).\r\nStill, maybe better to leave this and your suggestion for a follow-up. Just so this PR can be scoped to the db txn batching changes.",
      "created_at": "2024-02-27T13:45:50Z",
      "updated_at": "2024-02-27T13:58:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504260053",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504260053"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1822,
      "original_line": 1822,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504278574",
      "pull_request_review_id": 1903495948,
      "id": 1504278574,
      "node_id": "PRRC_kwDOABII585ZqXgu",
      "diff_hunk": "@@ -1923,9 +1929,9 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n                 if (!GetKey(keyid, key)) {\n                     continue;\n                 }\n-                desc_spk_man->AddDescriptorKey(key, key.GetPubKey());\n+                WITH_LOCK(desc_spk_man->cs_desc_man, desc_spk_man->AddDescriptorKeyWithDB(batch, key, key.GetPubKey()));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": 1504103851,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sounds good but I would rather leave the improvement for a follow-up. Mainly to scope the PR changes to the db txn batching changes.",
      "created_at": "2024-02-27T13:57:59Z",
      "updated_at": "2024-02-27T13:58:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504278574",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504278574"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1934,
      "original_line": 1934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504586396",
      "pull_request_review_id": 1904103165,
      "id": 1504586396,
      "node_id": "PRRC_kwDOABII585Zriqc",
      "diff_hunk": "@@ -1782,6 +1782,12 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         keyid_it++;\n     }\n \n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.TxnBegin()) {\n+        LogPrintf(\"Error during descriptors migration, cannot initialize db transaction\\n\");",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": 1504030030,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I see, maybe \"Error generating descriptors for migration, cannot initialize db transaction\"? Also not a big deal, its just he current message is confusing to me in that we aren't migrating descriptors, but taking existing keys, creating descriptors and then saving them in a new wallet.",
      "created_at": "2024-02-27T16:37:30Z",
      "updated_at": "2024-02-27T16:37:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504586396",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504586396"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1787,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504592242",
      "pull_request_review_id": 1904114196,
      "id": 1504592242,
      "node_id": "PRRC_kwDOABII585ZrkFy",
      "diff_hunk": "@@ -1923,9 +1929,9 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n                 if (!GetKey(keyid, key)) {\n                     continue;\n                 }\n-                desc_spk_man->AddDescriptorKey(key, key.GetPubKey());\n+                WITH_LOCK(desc_spk_man->cs_desc_man, desc_spk_man->AddDescriptorKeyWithDB(batch, key, key.GetPubKey()));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": 1504103851,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Makes sense! I misread the title as meaning this PR is both optimizing the process and batching db transactions, but its clear from the PR description that this is focused on just the batching logic.",
      "created_at": "2024-02-27T16:39:57Z",
      "updated_at": "2024-02-27T16:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504592242",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504592242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1934,
      "original_line": 1934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504604148",
      "pull_request_review_id": 1904136041,
      "id": 1504604148,
      "node_id": "PRRC_kwDOABII585Zrm_0",
      "diff_hunk": "@@ -1782,6 +1782,12 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         keyid_it++;\n     }\n \n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.TxnBegin()) {\n+        LogPrintf(\"Error during descriptors migration, cannot initialize db transaction\\n\");",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "5cc89e5eba7330ea3ab64ca66e364170dcd0b4f7",
      "in_reply_to_id": 1504030030,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure. Done as suggested.",
      "created_at": "2024-02-27T16:45:25Z",
      "updated_at": "2024-02-27T16:45:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1504604148",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1504604148"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1787,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536221160",
      "pull_request_review_id": 1955796645,
      "id": 1536221160,
      "node_id": "PRRC_kwDOABII585bkN_o",
      "diff_hunk": "@@ -2009,9 +2009,15 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n }\n \n bool LegacyScriptPubKeyMan::DeleteRecords()\n+{\n+    return RunWithinTxn(m_storage.GetDatabase(), /*process_desc=*/\"delete legacy records\", [&](WalletBatch& batch){\n+        return DeleteRecords(batch);\n+    });\n+}",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 66,
      "original_position": 8,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "cd694033173ec7de2a16187432a3d7aa33ff62ca",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In cd694033173ec7de2a16187432a3d7aa33ff62ca \"wallet: introduce 'DeleteRecords(batch)' to be used within an external db txn\"\r\n\r\nAfter this PR, this `DeleteRecords()` overload is only used by the tests, so I think it can just be removed (and perhaps never introduced).",
      "created_at": "2024-03-22T21:03:05Z",
      "updated_at": "2024-03-22T21:16:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1536221160",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536221160"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": 2013,
      "original_start_line": 2011,
      "start_side": "RIGHT",
      "line": 2018,
      "original_line": 2018,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536223516",
      "pull_request_review_id": 1955796645,
      "id": 1536223516,
      "node_id": "PRRC_kwDOABII585bkOkc",
      "diff_hunk": "@@ -4280,11 +4266,16 @@ bool DoMigration(CWallet& wallet, WalletContext& context, bilingual_str& error,\n     }\n \n     // Add the descriptors to wallet, remove LegacyScriptPubKeyMan, and cleanup txs and address book data\n-    if (auto res_migration = wallet.ApplyMigrationData(*data); !res_migration) {\n-        error = util::ErrorString(res_migration);\n-        return false;\n-    }\n-    return true;\n+    return RunWithinTxn(wallet.GetDatabase(), /*process_desc=*/\"apply migration process\", [&](WalletBatch& batch) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet){\n+        if (auto res_migration = wallet.ApplyMigrationData(batch, *data); !res_migration) {\n+            error = util::ErrorString(res_migration);\n+            return false;\n+        }\n+        // Process succeed, connect the SPKM signals\n+        wallet.ConnectScriptPubKeyManNotifiers();",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 145,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "868e2f64a9d7de3a980e64fd7acd7323214d3765",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 868e2f64a9d7de3a980e64fd7acd7323214d3765 \"wallet: ApplyMigrationData, group all db txs into a single atomic operation\"\r\n\r\nI don't think it's necessary to connect the signals anymore since the local wallet exists outside of any contexts. Although removing this should be its own commit.\r\n\r\nIf you choose to not remove this, for completeness, this should also do `NotifyCanGetAddressesChanged` to match the previous behavior.",
      "created_at": "2024-03-22T21:06:42Z",
      "updated_at": "2024-03-22T21:16:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1536223516",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536223516"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536231470",
      "pull_request_review_id": 1955796645,
      "id": 1536231470,
      "node_id": "PRRC_kwDOABII585bkQgu",
      "diff_hunk": "@@ -2334,12 +2334,22 @@ DBErrors CWallet::LoadWallet()\n util::Result<void> CWallet::RemoveTxs(std::vector<uint256>& txs_to_remove)\n {\n     AssertLockHeld(cs_wallet);\n-    WalletBatch batch(GetDatabase());\n-    if (!batch.TxnBegin()) return util::Error{_(\"Error starting db txn for wallet transactions removal\")};\n+    util::Result<std::vector<CWallet::MapWalletIt>> res{util::Error{}}; // Note: Make RunWithinTxn generic.\n+    bool was_txn_committed = RunWithinTxn(GetDatabase(), /*process_desc=*/\"remove transactions\", [&](WalletBatch& batch) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet) {\n+        return (res = RemoveTxs(batch, txs_to_remove)).has_value();\n+    });\n+    if (!res) return util::Error{util::ErrorString(res)};\n+    if (!was_txn_committed) return util::Error{_(\"Error starting/committing db txn for wallet transactions removal process\")};\n \n+    // Now that txs have been deleted from disk, erase them from memory.\n+    ClearTxs(*res);\n+    return {};\n+}\n+\n+util::Result<std::vector<CWallet::MapWalletIt>> CWallet::RemoveTxs(WalletBatch& batch, std::vector<uint256>& txs_to_remove) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "4b3ec698a228fc531cca946f9a572e1dbdc4b0d5",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 4b3ec698a228fc531cca946f9a572e1dbdc4b0d5 \"wallet: prepare RemoveTxs to be used within a broader db txn procedure\"\r\n\r\nI don't really like this refactor. This means that any callers of this particular overload will have to remember to do `ClearTxs`, whereas callers of the other one don't. This seems like something that could result in programming mistakes in the future. Generally our overloads should do basically the same things, just with the option of providing different arguments. Not clearing the txs from `mapWallet` in one overload is a pretty big difference that may not be easily noticed.\r\n\r\nI think it would actually be a bit cleaner and better to have `RemoveTxs` detect if a database transaction has been started already and just choose to not begin a transaction if that's the case.",
      "created_at": "2024-03-22T21:15:22Z",
      "updated_at": "2024-03-22T21:16:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1536231470",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536231470"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2349,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536732130",
      "pull_request_review_id": 1956468761,
      "id": 1536732130,
      "node_id": "PRRC_kwDOABII585bmKvi",
      "diff_hunk": "@@ -2009,9 +2009,15 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n }\n \n bool LegacyScriptPubKeyMan::DeleteRecords()\n+{\n+    return RunWithinTxn(m_storage.GetDatabase(), /*process_desc=*/\"delete legacy records\", [&](WalletBatch& batch){\n+        return DeleteRecords(batch);\n+    });\n+}",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 66,
      "original_position": 8,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "cd694033173ec7de2a16187432a3d7aa33ff62ca",
      "in_reply_to_id": 1536221160,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> After this PR, this DeleteRecords() overload is only used by the tests, so I think it can just be removed (and perhaps never introduced).\r\n\r\nI didn't do it because, aside from the test changes, it also requires creating a new batch object and beginning + committing the db txn inside ApplyMigrationData on https://github.com/bitcoin/bitcoin/commit/cd694033173ec7de2a16187432a3d7aa33ff62ca. And these changes will need to be removed in the last commit.\r\n",
      "created_at": "2024-03-24T03:53:55Z",
      "updated_at": "2024-03-26T14:10:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1536732130",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536732130"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": 2013,
      "original_start_line": 2011,
      "start_side": "RIGHT",
      "line": 2018,
      "original_line": 2018,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536734042",
      "pull_request_review_id": 1956468761,
      "id": 1536734042,
      "node_id": "PRRC_kwDOABII585bmLNa",
      "diff_hunk": "@@ -4280,11 +4266,16 @@ bool DoMigration(CWallet& wallet, WalletContext& context, bilingual_str& error,\n     }\n \n     // Add the descriptors to wallet, remove LegacyScriptPubKeyMan, and cleanup txs and address book data\n-    if (auto res_migration = wallet.ApplyMigrationData(*data); !res_migration) {\n-        error = util::ErrorString(res_migration);\n-        return false;\n-    }\n-    return true;\n+    return RunWithinTxn(wallet.GetDatabase(), /*process_desc=*/\"apply migration process\", [&](WalletBatch& batch) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet){\n+        if (auto res_migration = wallet.ApplyMigrationData(batch, *data); !res_migration) {\n+            error = util::ErrorString(res_migration);\n+            return false;\n+        }\n+        // Process succeed, connect the SPKM signals\n+        wallet.ConnectScriptPubKeyManNotifiers();",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 145,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "868e2f64a9d7de3a980e64fd7acd7323214d3765",
      "in_reply_to_id": 1536223516,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure. The wallet is also unloaded few lines after this signal connection. Will remove the lines.",
      "created_at": "2024-03-24T04:13:55Z",
      "updated_at": "2024-03-25T23:58:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1536734042",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536734042"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536734246",
      "pull_request_review_id": 1956468761,
      "id": 1536734246,
      "node_id": "PRRC_kwDOABII585bmLQm",
      "diff_hunk": "@@ -2334,12 +2334,22 @@ DBErrors CWallet::LoadWallet()\n util::Result<void> CWallet::RemoveTxs(std::vector<uint256>& txs_to_remove)\n {\n     AssertLockHeld(cs_wallet);\n-    WalletBatch batch(GetDatabase());\n-    if (!batch.TxnBegin()) return util::Error{_(\"Error starting db txn for wallet transactions removal\")};\n+    util::Result<std::vector<CWallet::MapWalletIt>> res{util::Error{}}; // Note: Make RunWithinTxn generic.\n+    bool was_txn_committed = RunWithinTxn(GetDatabase(), /*process_desc=*/\"remove transactions\", [&](WalletBatch& batch) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet) {\n+        return (res = RemoveTxs(batch, txs_to_remove)).has_value();\n+    });\n+    if (!res) return util::Error{util::ErrorString(res)};\n+    if (!was_txn_committed) return util::Error{_(\"Error starting/committing db txn for wallet transactions removal process\")};\n \n+    // Now that txs have been deleted from disk, erase them from memory.\n+    ClearTxs(*res);\n+    return {};\n+}\n+\n+util::Result<std::vector<CWallet::MapWalletIt>> CWallet::RemoveTxs(WalletBatch& batch, std::vector<uint256>& txs_to_remove) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "4b3ec698a228fc531cca946f9a572e1dbdc4b0d5",
      "in_reply_to_id": 1536231470,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I think it would actually be a bit cleaner and better to have RemoveTxs detect if a database transaction has been started already and just choose to not begin a transaction if that's the case.\r\n\r\nThe rationale behind the decoupling wasn't related to the existing (or not) db txn. It was to prevent another programming mistake: The provided db transaction could be aborted by the calling function (deliberately or undeliberately), causing the wallet to enter an inconsistent state where the data in memory differs from the data on disk. This would happen because, in the all-in-one version of this function, the transactions are cleared from the in-memory map.\r\n\r\nI understand that for the migration process, this isn't really an issue because the wallet will be unloaded anyway. We could go back to the all-in-one version of this function, but for other processes, if we ever decide to abort the db txn, the wallet will need to be reloaded from disk to recover the previous state.\r\n\r\nI'm ok with merging back these functions. We just need to be careful not to abort the db txn and continue as if nothing happened after calling this method.",
      "created_at": "2024-03-24T04:16:28Z",
      "updated_at": "2024-03-25T23:58:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1536734246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536734246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2349,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1539335783",
      "pull_request_review_id": 1960549193,
      "id": 1539335783,
      "node_id": "PRRC_kwDOABII585bwGZn",
      "diff_hunk": "@@ -2334,12 +2334,22 @@ DBErrors CWallet::LoadWallet()\n util::Result<void> CWallet::RemoveTxs(std::vector<uint256>& txs_to_remove)\n {\n     AssertLockHeld(cs_wallet);\n-    WalletBatch batch(GetDatabase());\n-    if (!batch.TxnBegin()) return util::Error{_(\"Error starting db txn for wallet transactions removal\")};\n+    util::Result<std::vector<CWallet::MapWalletIt>> res{util::Error{}}; // Note: Make RunWithinTxn generic.\n+    bool was_txn_committed = RunWithinTxn(GetDatabase(), /*process_desc=*/\"remove transactions\", [&](WalletBatch& batch) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet) {\n+        return (res = RemoveTxs(batch, txs_to_remove)).has_value();\n+    });\n+    if (!res) return util::Error{util::ErrorString(res)};\n+    if (!was_txn_committed) return util::Error{_(\"Error starting/committing db txn for wallet transactions removal process\")};\n \n+    // Now that txs have been deleted from disk, erase them from memory.\n+    ClearTxs(*res);\n+    return {};\n+}\n+\n+util::Result<std::vector<CWallet::MapWalletIt>> CWallet::RemoveTxs(WalletBatch& batch, std::vector<uint256>& txs_to_remove) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "4b3ec698a228fc531cca946f9a572e1dbdc4b0d5",
      "in_reply_to_id": 1536231470,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I understand that for the migration process, this isn't really an issue because the wallet will be unloaded anyway. We could go back to the all-in-one version of this function, but for other processes, if we ever decide to abort the db txn, the wallet will need to be reloaded from disk to recover the previous state.\r\n>\r\n> I'm ok with merging back these functions. We just need to be careful not to abort the db txn and continue as if nothing happened after calling this method.\r\n\r\nEnded up introducing a mechanism to listen for the db txn outcomes. This way, internal procedures can register callbacks to update the in-memory state only when the data is successfully committed to disk.",
      "created_at": "2024-03-26T14:13:57Z",
      "updated_at": "2024-03-26T14:16:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1539335783",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1539335783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2349,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661464266",
      "pull_request_review_id": 2152124552,
      "id": 1661464266,
      "node_id": "PRRC_kwDOABII585jB-7K",
      "diff_hunk": "@@ -3696,25 +3696,17 @@ DescriptorScriptPubKeyMan& CWallet::SetupDescriptorScriptPubKeyMan(WalletBatch&\n     return *out;\n }\n \n-void CWallet::SetupDescriptorScriptPubKeyMans(const CExtKey& master_key)\n+void CWallet::SetupDescriptorScriptPubKeyMans(WalletBatch& batch, const CExtKey& master_key)",
      "path": "src/wallet/wallet.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "original_commit_id": "4e72821e1961b58559f49a4746bc8d15d116f6b7",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 4e72821e1961b58559f49a4746bc8d15d116f6b7 \"wallet: ApplyMigrationData, group all db txs into a single atomic operation\"\r\n\r\nThis could be its own commit.",
      "created_at": "2024-07-01T19:34:59Z",
      "updated_at": "2024-07-01T19:54:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28574#discussion_r1661464266",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661464266"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28574"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3699,
      "original_line": 3699,
      "side": "RIGHT"
    }
  ]
}