{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508",
    "id": 257359987,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjU3MzU5OTg3",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15508",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/15508.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/15508.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/892eff05f115c0b002d0e0b6ffc3ab418480d25c",
    "number": 15508,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Refactor analyzepsbt for use outside RPC code",
    "user": {
      "login": "gwillen",
      "id": 458997,
      "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gwillen",
      "html_url": "https://github.com/gwillen",
      "followers_url": "https://api.github.com/users/gwillen/followers",
      "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
      "organizations_url": "https://api.github.com/users/gwillen/orgs",
      "repos_url": "https://api.github.com/users/gwillen/repos",
      "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/gwillen/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Refactor the analyzepsbt RPC into (1) an AnalyzePSBT function, which returns\r\nits output as a new strongly-typed PSBTAnalysis struct, and (2) a thin wrapper\r\nwhich converts the struct into a UniValue for RPC use.\r\n\r\n----\r\n\r\nAs with my previous refactoring PR, I need this because I am creating a dependency on this code from the GUI. Per discussion in #bitcoin-core-dev on IRC, since we don't want to create a dependency on UniValue in anything outside RPC, I introduced some new structs to hold the info we get when analyzing a PSBT. For the field types, I used whatever types are already used internally for this data (e.g. CAmount, CFeeRate, CKeyID), and only convert to int/string etc. in the wrapper.\r\n\r\n@achow101, maybe take the first look? :-)",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2019-03-01T08:35:19Z",
    "updated_at": "2021-12-16T13:56:48Z",
    "closed_at": "2019-04-06T15:56:13Z",
    "mergeable_state": "unknown",
    "merged_at": "2019-04-06T15:56:13Z",
    "merge_commit_sha": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "gwillen:feature-separate-analyzepsbt",
      "ref": "feature-separate-analyzepsbt",
      "sha": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 26886157,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg4NjE1Nw==",
        "name": "bitcoin",
        "full_name": "gwillen/bitcoin",
        "owner": {
          "login": "gwillen",
          "id": 458997,
          "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gwillen",
          "html_url": "https://github.com/gwillen",
          "followers_url": "https://api.github.com/users/gwillen/followers",
          "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
          "organizations_url": "https://api.github.com/users/gwillen/orgs",
          "repos_url": "https://api.github.com/users/gwillen/repos",
          "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/gwillen/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/gwillen/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/gwillen/bitcoin",
        "archive_url": "https://api.github.com/repos/gwillen/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/gwillen/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/gwillen/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/gwillen/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/gwillen/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/gwillen/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/gwillen/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/gwillen/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/gwillen/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/gwillen/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/gwillen/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/gwillen/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/gwillen/bitcoin/events",
        "forks_url": "https://api.github.com/repos/gwillen/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/gwillen/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/gwillen/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/gwillen/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/gwillen/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/gwillen/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/gwillen/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/gwillen/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/gwillen/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/gwillen/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/gwillen/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/gwillen/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/gwillen/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/gwillen/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/gwillen/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/gwillen/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:gwillen/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/gwillen/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/gwillen/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/gwillen/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/gwillen/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/gwillen/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/gwillen/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/gwillen/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/gwillen/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/gwillen/bitcoin/hooks",
        "svn_url": "https://github.com/gwillen/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "TypeScript",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 138127,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2020-10-29T19:45:51Z",
        "created_at": "2014-11-19T23:11:12Z",
        "updated_at": "2018-08-21T18:58:52Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e14cd04abbb56ed1bc65aa817132f5d6de6a37cf",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35475,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T18:34:08Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 252,
    "deletions": 165,
    "changed_files": 6,
    "commits": 3,
    "review_comments": 25,
    "comments": 19
  },
  "events": [
    {
      "event": "mentioned",
      "id": 2173360167,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjE3MzM2MDE2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2173360167",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T08:35:20Z"
    },
    {
      "event": "subscribed",
      "id": 2173360168,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIxNzMzNjAxNjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2173360168",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T08:35:20Z"
    },
    {
      "event": "labeled",
      "id": 2173369080,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIxNzMzNjkwODA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2173369080",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T08:40:02Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 2173371006,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIxNzMzNzEwMDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2173371006",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T08:41:03Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 468588433,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODU4ODQzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/468588433",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T08:42:07Z",
      "updated_at": "2019-03-01T08:42:07Z",
      "author_association": "MEMBER",
      "body": "[Travis](https://travis-ci.org/bitcoin/bitcoin/jobs/500229801):\r\n```\r\nA new circular dependency in the form of \"core_io -> psbt -> core_io\" appears to have been introduced.\r\n^---- failure generated from test/lint/lint-circular-dependencies.sh\r\n```",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-468588433",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "commented",
      "id": 468789900,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODc4OTkwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/468789900",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T19:50:33Z",
      "updated_at": "2019-03-01T19:50:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hmm, that's not great, is it. I guess I forgot to run lint-all, sorry. (I have to raise the file descriptor limit before running, or it crashes on my mac, so it's easy to forget...)\r\n\r\nI am a little confused about this lint, because it appears I didn't introduce a circular header dependency -- rather, core_io.h (the interface) depends on psbt.h, but psbt._cpp_ (the implementation) depends on core_io.h. This doesn't seem especially offensive to me, since it's not actually circular? Is it intentional that the lint flags this situation?",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-468789900",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2174975374,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjE3NDk3NTM3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2174975374",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T19:54:31Z"
    },
    {
      "event": "commented",
      "id": 468791189,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODc5MTE4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/468791189",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-01T19:54:59Z",
      "updated_at": "2019-03-01T19:54:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "... but apparently the dependency was no longer needed anyway, so I don't need to litigate this. ;-) Fixed!",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-468791189",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "reviewed",
      "id": 209873918,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA5ODczOTE4",
      "url": null,
      "actor": null,
      "commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#pullrequestreview-209873918",
      "submitted_at": "2019-03-02T16:26:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
    },
    {
      "event": "reviewed",
      "id": 209889054,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA5ODg5MDU0",
      "url": null,
      "actor": null,
      "commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#pullrequestreview-209889054",
      "submitted_at": "2019-03-03T16:17:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
    },
    {
      "event": "commented",
      "id": 469167491,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTE2NzQ5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/469167491",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-04T08:48:45Z",
      "updated_at": "2019-03-04T08:48:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hmm, I seem to have introduced a linker problem that does not happen on OS X. I will get around to looking at it in a Linux VM, but if someone could look at it and go \"oh, I know what you did wrong\", I'm sure it would save me a bunch of time. ;-)",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-469167491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "commented",
      "id": 469170746,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTE3MDc0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/469170746",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-04T08:58:52Z",
      "updated_at": "2019-03-04T08:59:19Z",
      "author_association": "MEMBER",
      "body": "psbt.cpp is in libbitcoin_common, and consensus/tx_verify.cpp is in libbitcoin_server. libbitcoin_common in linked into `bitcoin-tx`, but libbitcoin_server isn't.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-469170746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "commented",
      "id": 469950688,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTk1MDY4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/469950688",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-06T03:11:02Z",
      "updated_at": "2019-03-06T03:11:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @sipa.\r\n\r\nThe easiest solution seems -- after whipping out a linux machine and doing a lot of repeatedly fiddling with Makefile.am and rebuilding everything from scratch -- to be moving psbt.cpp from libbitcoin_common to libbitcoin_server. LMK what you think of that plan.\r\n\r\nUnfortunately the tree of dependencies from AnalyzePSBT into libbitcoin_server runs very deep. The chain of dependencies is mostly fake -- of the form \"X coincidentally exists in the same file as something that depends on Y\" -- but still seems annoying to break.\r\n\r\nThe actual issue is not with _most_ of the functionality of AnalyzePSBT, but just with the ancillary bit at the end which computes the size of a transaction, in order to compute the feerate. So one other option would be to break that bit out into a separate function and throw it into libbitcoin_server somewhere.",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-469950688",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "mentioned",
      "id": 2182938405,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjE4MjkzODQwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2182938405",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-06T03:11:03Z"
    },
    {
      "event": "subscribed",
      "id": 2182938406,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIxODI5Mzg0MDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2182938406",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-06T03:11:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2182969126,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjE4Mjk2OTEyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2182969126",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-06T03:37:03Z"
    },
    {
      "event": "commented",
      "id": 471153340,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTE1MzM0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/471153340",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-09T07:10:52Z",
      "updated_at": "2019-04-01T22:24:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15638](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15638.html) (Move-only: Pull wallet code out of libbitcoin_server by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-471153340",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "labeled",
      "id": 2196931475,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIxOTY5MzE0NzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2196931475",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T12:18:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 213598209,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjEzNTk4MjA5",
      "url": null,
      "actor": null,
      "commit_id": "5f96bf29225d7943314d68e10e19ee2fe3ccf3f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK 5f96bf29225d7943314d68e10e19ee2fe3ccf3f3. I left a suggestion, but think this looks good as is. I just compared the moved code to make sure behavior did not appear to be changing.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#pullrequestreview-213598209",
      "submitted_at": "2019-03-12T19:18:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2198750175,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjE5ODc1MDE3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198750175",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:22:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2198791553,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjE5ODc5MTU1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198791553",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:50:49Z"
    },
    {
      "event": "commented",
      "id": 472225300,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjIyNTMwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472225300",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:52:22Z",
      "updated_at": "2019-03-12T23:53:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Ok, added documentation, and did the refactor requested by @promag. Sorry @ryanofsky, if you wouldn't mind glancing at the minor code change and re-acking. I am convinced it does not change behavior.\r\n\r\nOh, and rebased -- I picked up @sipa 's fix from #15582 .",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-472225300",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "mentioned",
      "id": 2198793548,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjE5ODc5MzU0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198793548",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:52:22Z"
    },
    {
      "event": "subscribed",
      "id": 2198793549,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIxOTg3OTM1NDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198793549",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:52:22Z"
    },
    {
      "event": "mentioned",
      "id": 2198793550,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjE5ODc5MzU1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198793550",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:52:22Z"
    },
    {
      "event": "subscribed",
      "id": 2198793551,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIxOTg3OTM1NTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198793551",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:52:22Z"
    },
    {
      "event": "mentioned",
      "id": 2198794678,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjE5ODc5NDY3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198794678",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:53:11Z"
    },
    {
      "event": "subscribed",
      "id": 2198794679,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIxOTg3OTQ2Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198794679",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:53:11Z"
    },
    {
      "event": "unlabeled",
      "id": 2198797927,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MjE5ODc5NzkyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198797927",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-12T23:55:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 472230102,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjIzMDEwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472230102",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T00:14:27Z",
      "updated_at": "2019-03-13T00:14:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Travis failure is weird:\r\n\r\n```Downloading archive: https://language-archives.travis-ci.com/python/binaries/ubuntu/16.04/x86_64/python-3.5.tar.bz2\r\n0.20s$ curl -sSf -o python-3.5.tar.bz2 ${archive_url}\r\ncurl: (22) The requested URL returned error: 403 Forbidden\r\nUnable to download 3.5 archive. The archive may not exist. Please consider a different version.\r\n```",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-472230102",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "commented",
      "id": 472231368,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjIzMTM2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472231368",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T00:21:20Z",
      "updated_at": "2019-03-13T00:21:30Z",
      "author_association": "MEMBER",
      "body": "It's really unfortunate that the PSBT code needs to be in libbitcoin_server. I'm thinking of creating a separate PSBT signer tool using the signer/psbt source code, but with it in libbitcoin_server, that tool will need to include the whole networking, RPC, and validation logic.\r\n\r\nIs it depending on anything more than `GetVirtualTransactionSize`? If not, I would suggest just moving `GetTransactionWeight` and friends from src/consensus/validation.h, and `GetVirtualTransactionSize` and friends from src/policy/policy.{h,cpp} to src/primitives/{transaction,block} respectively.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-472231368",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "commented",
      "id": 472245896,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjI0NTg5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472245896",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T01:39:24Z",
      "updated_at": "2019-03-13T01:39:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa I'm happy to give it a shot.\r\n\r\nFrom my notes, there were two offenders:\r\n- GetVirtualTransactionSize, as noted, which lives in policy.cpp\r\n- GetTransactionSigOpCost, which lives in consensus/tx_verify.cpp\r\n\r\nThe former seems easy to deal with -- it's just a small amount of math involving a couple of constants. \r\n\r\nThe latter might also be relatively standalone -- the file it's in has deeper dependencies spidering into libbitcoin_server, but I couldn't tell if they were real dependencies of GetTransactionSigOpCost or if they were coincidentally being dragged in by something else.\r\n\r\nDo you have a proposed place to move GetTransactionSigOpCost?",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-472245896",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "mentioned",
      "id": 2198926867,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjE5ODkyNjg2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198926867",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T01:39:24Z"
    },
    {
      "event": "subscribed",
      "id": 2198926868,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIxOTg5MjY4Njg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2198926868",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T01:39:24Z"
    },
    {
      "event": "commented",
      "id": 472245975,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjI0NTk3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472245975",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T01:39:55Z",
      "updated_at": "2019-03-13T01:39:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "(The other option would be to remove the size and feerate calculations from AnalyzePSBT, or move just those elsewhere. They're pretty standalone.)",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-472245975",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "commented",
      "id": 472248294,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjI0ODI5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472248294",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T01:52:52Z",
      "updated_at": "2019-03-13T02:19:09Z",
      "author_association": "MEMBER",
      "body": "I have a simpler solution: replace the `GetTransactionSigOpCost()` call with `0` (which means the whole call can just become `GetVirtualTransactionSize(ctx)`, and only that function needs to move elsewhere).\r\n\r\nTo explain why this is safe: reason why GetVirtualTransactionSize takes in a sigop count as argument is because in the mempool/feerate/mining code we use vsize = max(actual_vsize(tx), sigops(tx)*someconstant). This brings everything to a single unit we can optimize for, but still guarantees that transactions with excessively high amount of signature validation operations won't cause the block-wide sigops limit to be exceeded.\r\n\r\nHowever, the wallet/signing/psbt side of things doesn't need to care about this. They will never deal with transactions where the sigop side of that max dominates (it would require more signature checks than 1 per 20 bytes of witness data, implying that every signature is verified on average more than 3 times). Such transactions are almost certainly pathologically constructed, and certainly not something `SignPSBTInput` could deal with anyway.\r\n\r\nEDIT: This also lets you drop the whole `CCoinsViewCache` view object and construction thereof. ",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-472248294",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "labeled",
      "id": 2199937098,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIxOTk5MzcwOTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2199937098",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-13T11:27:13Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 214022421,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjE0MDIyNDIx",
      "url": null,
      "actor": null,
      "commit_id": "9d98086f22733cd8363d3b1df022d6e7f7dfd626",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK 9d98086f22733cd8363d3b1df022d6e7f7dfd626. Changes since last review: changing if/else order not assigning empty fields, adding documentation as suggested in previous comments, also changing int to CAmount.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#pullrequestreview-214022421",
      "submitted_at": "2019-03-13T15:19:56Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2201948717,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjIwMTk0ODcxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2201948717",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T00:07:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2201967534,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjIwMTk2NzUzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2201967534",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T00:20:48Z"
    },
    {
      "event": "commented",
      "id": 472657865,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjY1Nzg2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472657865",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T00:29:06Z",
      "updated_at": "2019-03-14T00:29:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "ok, my apologies to @ryanofsky and I appreciate your patience, this version has exactly two changes:\r\n\r\n- Rebase over #15559, which changes the format of the estimated feerate from a string to an integer in the RPC output (does not affect the output of the AnalyzePSBT function itself, only how it's formatted in the wrapper in rpc/rawtransaction.cpp)\r\n- Per @sipa 's request, revert the move into libbitcoin_server, putting psbt.cpp back in libbitcoin_common. Fingers crossed that Travis likes this, but it appears experimentally that moving the PSBT-related functions from core_io into psbt is enough to satisfy the linker, without actually moving PSBT around.\r\n\r\n(This does not quite actually solve his problem; the reason the linker accepts this is that bitcoin-tx has no dependency on psbt.cpp, and the corresponding object file is now being dropped from the link, so the fact that it has in turn a broken dependency never comes up. Actually _using_ psbt without linking bitcoin_server will still give a link error. However, it will be _much_ easier to fix this once the code that is using psbt actually exists, because right now it's very hard to get the linker not to optimize out the problem, so it's really hard to confidently fix it.)",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-472657865",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "mentioned",
      "id": 2201978152,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjIwMTk3ODE1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2201978152",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T00:29:06Z"
    },
    {
      "event": "subscribed",
      "id": 2201978153,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIyMDE5NzgxNTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2201978153",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T00:29:06Z"
    },
    {
      "event": "mentioned",
      "id": 2201978154,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjIwMTk3ODE1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2201978154",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T00:29:06Z"
    },
    {
      "event": "subscribed",
      "id": 2201978155,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIyMDE5NzgxNTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2201978155",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T00:29:06Z"
    },
    {
      "event": "unlabeled",
      "id": 2202019926,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MjIwMjAxOTkyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2202019926",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-14T01:03:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 214752831,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjE0NzUyODMx",
      "url": null,
      "actor": null,
      "commit_id": "deef14c4f5d6c997e5cc68fc4007104dc2051606",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK deef14c4f5d6c997e5cc68fc4007104dc2051606. Only changes since last review are leaving psbt.cpp in libbitcoin_common (instead of libbitcoin_server) as described above and rebasing after conflict with #15559",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#pullrequestreview-214752831",
      "submitted_at": "2019-03-14T20:42:14Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
    },
    {
      "event": "commented",
      "id": 474650347,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDY1MDM0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/474650347",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-20T01:41:23Z",
      "updated_at": "2019-03-20T01:41:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "Definitely hoping to get this merged soon. @sipa  or @promag, maybe take a look and see if you have anything further? :-)",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-474650347",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "mentioned",
      "id": 2215470822,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjIxNTQ3MDgyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2215470822",
      "actor": {
        "login": "sip",
        "id": 963579,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjk2MzU3OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/963579?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sip",
        "html_url": "https://github.com/sip",
        "followers_url": "https://api.github.com/users/sip/followers",
        "following_url": "https://api.github.com/users/sip/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sip/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sip/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sip/subscriptions",
        "organizations_url": "https://api.github.com/users/sip/orgs",
        "repos_url": "https://api.github.com/users/sip/repos",
        "events_url": "https://api.github.com/users/sip/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sip/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-20T01:41:23Z"
    },
    {
      "event": "mentioned",
      "id": 2215470823,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjIxNTQ3MDgyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2215470823",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-20T01:41:23Z"
    },
    {
      "event": "subscribed",
      "id": 2215470825,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIyMTU0NzA4MjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2215470825",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-20T01:41:23Z"
    },
    {
      "event": "mentioned",
      "id": 2215470988,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjIxNTQ3MDk4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2215470988",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-20T01:41:31Z"
    },
    {
      "event": "subscribed",
      "id": 2215470991,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIyMTU0NzA5OTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2215470991",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-20T01:41:31Z"
    },
    {
      "event": "reviewed",
      "id": 219190808,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjE5MTkwODA4",
      "url": null,
      "actor": null,
      "commit_id": "078994ad4a3a6216f48370f4fd961de67354acfb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK deef14c4f5d6c997e5cc68fc4007104dc2051606, only nits",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#pullrequestreview-219190808",
      "submitted_at": "2019-03-26T22:31:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphZmQyMGEyNWYyOTM3ZmVlOGQ5OTJjMjc5NjMxZmEyNmNkZTRhN2M4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/afd20a25f2937fee8d992c279631fa26cde4a7c8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/afd20a25f2937fee8d992c279631fa26cde4a7c8",
      "tree": {
        "sha": "38e654a027437a32296fd432b0fa6069624aace5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/38e654a027437a32296fd432b0fa6069624aace5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8e1704c01537d1750555de23bfae00efa5864b3e",
          "sha": "8e1704c01537d1750555de23bfae00efa5864b3e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8e1704c01537d1750555de23bfae00efa5864b3e"
        }
      ],
      "message": "Move PSBT decoding functions from core_io to psbt.cpp\n\nMove PSBT decoding functions from core_io.h/core_read.cpp to psbt.h/psbt.cpp,\nto deal with a linker issue.",
      "committer": {
        "name": "Glenn Willen",
        "email": "gwillen@nerdnet.org",
        "date": "2019-03-27T00:38:00Z"
      },
      "author": {
        "name": "Glenn Willen",
        "email": "gwillen@nerdnet.org",
        "date": "2019-03-06T02:55:40Z"
      },
      "sha": "afd20a25f2937fee8d992c279631fa26cde4a7c8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZjIyZmU4YzFmMzMxYjRmMTNmMjFhNTRkMTIwMzBiOTJlODNmYmU3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef22fe8c1f331b4f13f21a54d12030b92e83fbe7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ef22fe8c1f331b4f13f21a54d12030b92e83fbe7",
      "tree": {
        "sha": "4aef4053e59dc759ffbb3b0a18ad21b7af6fece6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4aef4053e59dc759ffbb3b0a18ad21b7af6fece6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/afd20a25f2937fee8d992c279631fa26cde4a7c8",
          "sha": "afd20a25f2937fee8d992c279631fa26cde4a7c8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/afd20a25f2937fee8d992c279631fa26cde4a7c8"
        }
      ],
      "message": "Refactor analyzepsbt for use outside RPC code\n\nRefactor the analyzepsbt RPC into (1) an AnalyzePSBT function, which returns\nits output as a new strongly-typed PSBTAnalysis struct, and (2) a thin wrapper\nwhich converts the struct into a UniValue for RPC use.",
      "committer": {
        "name": "Glenn Willen",
        "email": "gwillen@nerdnet.org",
        "date": "2019-03-27T00:38:00Z"
      },
      "author": {
        "name": "Glenn Willen",
        "email": "gwillen@nerdnet.org",
        "date": "2019-03-01T08:25:10Z"
      },
      "sha": "ef22fe8c1f331b4f13f21a54d12030b92e83fbe7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4OTJlZmYwNWYxMTVjMGIwMDJkMGUwYjZmZmMzYWI0MTg0ODBkMjVj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "tree": {
        "sha": "452dd0a9acdfedd386e6884bfa65c2c740b6e25d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/452dd0a9acdfedd386e6884bfa65c2c740b6e25d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef22fe8c1f331b4f13f21a54d12030b92e83fbe7",
          "sha": "ef22fe8c1f331b4f13f21a54d12030b92e83fbe7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ef22fe8c1f331b4f13f21a54d12030b92e83fbe7"
        }
      ],
      "message": "Add documentation of struct PSBTAnalysis et al",
      "committer": {
        "name": "Glenn Willen",
        "email": "gwillen@nerdnet.org",
        "date": "2019-03-27T00:38:00Z"
      },
      "author": {
        "name": "Glenn Willen",
        "email": "gwillen@nerdnet.org",
        "date": "2019-03-12T23:08:35Z"
      },
      "sha": "892eff05f115c0b002d0e0b6ffc3ab418480d25c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2231585993,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjIzMTU4NTk5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2231585993",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-27T00:46:17Z"
    },
    {
      "event": "commented",
      "id": 476914376,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjkxNDM3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/476914376",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-27T00:46:29Z",
      "updated_at": "2019-03-27T00:46:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa Thanks, all your comments addressed.",
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-476914376",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "mentioned",
      "id": 2231586260,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjIzMTU4NjI2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2231586260",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-27T00:46:29Z"
    },
    {
      "event": "subscribed",
      "id": 2231586261,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIyMzE1ODYyNjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2231586261",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-27T00:46:29Z"
    },
    {
      "event": "commented",
      "id": 477407964,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzQwNzk2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477407964",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-28T01:27:20Z",
      "updated_at": "2019-03-28T01:27:20Z",
      "author_association": "MEMBER",
      "body": "utACK 892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-477407964",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "commented",
      "id": 477794441,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3Nzc5NDQ0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477794441",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-28T22:29:05Z",
      "updated_at": "2019-03-28T22:29:05Z",
      "author_association": "MEMBER",
      "body": "Feel like reviewing, @achow101?",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-477794441",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "mentioned",
      "id": 2237769683,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjIzNzc2OTY4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2237769683",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-28T22:29:05Z"
    },
    {
      "event": "subscribed",
      "id": 2237769684,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIyMzc3Njk2ODQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2237769684",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-28T22:29:05Z"
    },
    {
      "event": "reviewed",
      "id": 220642656,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjIwNjQyNjU2",
      "url": null,
      "actor": null,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK 892eff05f115c0b002d0e0b6ffc3ab418480d25c. Just small cleanups since the last review: removing unneeded include, forward decl, adding const ref",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#pullrequestreview-220642656",
      "submitted_at": "2019-03-29T16:33:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
    },
    {
      "event": "commented",
      "id": 479223582,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTIyMzU4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479223582",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-02T22:00:43Z",
      "updated_at": "2019-04-02T22:00:43Z",
      "author_association": "MEMBER",
      "body": "utACK 892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#issuecomment-479223582",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15508"
    },
    {
      "event": "merged",
      "id": 2257509954,
      "node_id": "MDExOk1lcmdlZEV2ZW50MjI1NzUwOTk1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2257509954",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "created_at": "2019-04-06T15:56:13Z"
    },
    {
      "event": "closed",
      "id": 2257509957,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjI1NzUwOTk1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2257509957",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-06T15:56:13Z"
    },
    {
      "event": "referenced",
      "id": 2257510122,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIyNTc1MTAxMjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2257510122",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e439aeb30c0439001a781c5979aec41e1fc2aa50",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e439aeb30c0439001a781c5979aec41e1fc2aa50",
      "created_at": "2019-04-06T15:56:35Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 2261045729,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQyMjYxMDQ1NzI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2261045729",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-08T21:23:52Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-04-08T21:41:05Z",
      "updated_at": "2019-04-08T21:41:05Z",
      "source": {
        "issue": {
          "id": 424047461,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjYzNDg2NzUw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15638",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15638/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15638/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15638/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/15638",
          "number": 15638,
          "state": "closed",
          "state_reason": null,
          "title": "Move-only: Pull wallet code out of libbitcoin_server",
          "body": "This is a move-only commit. No code is changing and the moves can be easily verified with:\r\n\r\n```sh\r\ngit log -p -n1 --color-moved=dimmed_zebra\r\n```\r\n\r\nThis commit moves functions and variables that wallet code depends on out of libbitcoin_server.a, so the bitcoin-wallet tool can be built without libbitcoin_server.a in #15639, and attempting to access server state from wallet code will result in link errors instead of silently broken code.\r\n\r\nList of moves:\r\n\r\n- `CheckTransaction` moves from `consensus/tx_verify.cpp` to `consensus/tx_check.cpp`\r\n- `urlDecode` moves from `httpserver.cpp` to `util/url.cpp`\r\n- `TransactionErrorString` moves from `node/transaction.cpp` to `util/error.cpp`\r\n- `StringForFeeReason` and `FeeModeFromString` move from `policy/fees.cpp` to `util/fees.cpp`\r\n- `incrementalRelayFee` `dustRelayFee` and `nBytesPerSigOp` move from `policy/policy.cpp` to `policy/settings.cpp`\r\n- `SignalsOptInRBF` moves from `policy/rbf.cpp` to `util/rbf.cpp`\r\n- `fIsBareMultisigStd` moves from `validation.cpp` to `policy/settings.cpp`\r\n- `ConstructTransaction` `TxInErrorToJSON` and `SignTransaction` move from `rpc/rawtransaction.cpp` to `rpc/rawtransaction_util.cpp`\r\n- `RPCTypeCheck` `RPCTypeCheckArgument` `RPCTypeCheckObj` `AmountFromValue` `ParseHashV``ParseHashO` `ParseHexV` `ParseHexO` `HelpExampleCli` and `HelpExampleRpc` move from `rpc/server.cpp` to `rpc/util.cpp`\r\n- `AmountHighWarn` and `AmountErrMsg` move from `ui_interface.cpp` to `util/error.cpp`\r\n- `FormatStateMessage` and `strMessageMagic` move from `validation.cpp` to `util/validation.cpp`\r\n- `VerifyWallets` `LoadWallets` `StartWallets` `FlushWallets` `StopWallets` and `UnloadWallets` move from `wallet/init.cpp` to `wallet/node.cpp`",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15638",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/15638",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/15638.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/15638.patch"
          },
          "closed_at": "2019-04-10T13:52:46Z",
          "created_at": "2019-03-22T05:00:15Z",
          "updated_at": "2021-12-16T14:07:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 3343519432,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMzNDM1MTk0MzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3343519432",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1daa2cf98ca01da17578c7d5788298e91a771aec",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/1daa2cf98ca01da17578c7d5788298e91a771aec",
      "created_at": "2020-05-16T11:50:08Z"
    },
    {
      "event": "referenced",
      "id": 3343519433,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMzNDM1MTk0MzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3343519433",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "27384f6968a852c6311ec1a8cb306d2acac805a7",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/27384f6968a852c6311ec1a8cb306d2acac805a7",
      "created_at": "2020-05-16T11:50:08Z"
    },
    {
      "event": "referenced",
      "id": 3343519434,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMzNDM1MTk0MzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3343519434",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "aa96a2979b5500fd4b0ce3e5186b787135354c3c",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/aa96a2979b5500fd4b0ce3e5186b787135354c3c",
      "created_at": "2020-05-16T11:50:08Z"
    },
    {
      "event": "referenced",
      "id": 5388617225,
      "node_id": "REFE_lADOABII584Yy5T-zwAAAAFBL8YJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5388617225",
      "actor": {
        "login": "Munkybooty",
        "id": 52090345,
        "node_id": "MDQ6VXNlcjUyMDkwMzQ1",
        "avatar_url": "https://avatars.githubusercontent.com/u/52090345?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Munkybooty",
        "html_url": "https://github.com/Munkybooty",
        "followers_url": "https://api.github.com/users/Munkybooty/followers",
        "following_url": "https://api.github.com/users/Munkybooty/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Munkybooty/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Munkybooty/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Munkybooty/subscriptions",
        "organizations_url": "https://api.github.com/users/Munkybooty/orgs",
        "repos_url": "https://api.github.com/users/Munkybooty/repos",
        "events_url": "https://api.github.com/users/Munkybooty/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Munkybooty/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a981f739c847703fa47de6fc128275a9b667f0d1",
      "commit_url": "https://api.github.com/repos/Munkybooty/dash/commits/a981f739c847703fa47de6fc128275a9b667f0d1",
      "created_at": "2021-09-30T15:31:03Z"
    },
    {
      "event": "locked",
      "id": 5778524995,
      "node_id": "LOE_lADOABII584Yy5T-zwAAAAFYbUtD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778524995",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T13:56:48Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261832564",
      "pull_request_review_id": 209873918,
      "id": 261832564,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTgzMjU2NA==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];",
      "path": "src/psbt.cpp",
      "position": 122,
      "original_position": 121,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": null,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The scope of `input` could be reduced here without any change in behaviour, right?",
      "created_at": "2019-03-02T16:26:20Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r261832564",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261832564"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 427,
      "original_line": 427,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261844857",
      "pull_request_review_id": 209886957,
      "id": 261844857,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTg0NDg1Nw==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];",
      "path": "src/psbt.cpp",
      "position": 122,
      "original_position": 121,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261832564,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, that's true -- would you prefer I did? I normally agree about \"less scope is better\", but here that instinct is clashing with my instinct to keep parallel things together, and definitions at the top of the relevant block.",
      "created_at": "2019-03-02T22:42:17Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r261844857",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261844857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 427,
      "original_line": 427,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261858584",
      "pull_request_review_id": 209901579,
      "id": 261858584,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTg1ODU4NA==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];",
      "path": "src/psbt.cpp",
      "position": 122,
      "original_position": 121,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261832564,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for the explanation. Makes sense!",
      "created_at": "2019-03-03T09:28:28Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r261858584",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261858584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 427,
      "original_line": 427,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261874030",
      "pull_request_review_id": 209889054,
      "id": 261874030,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTg3NDAzMA==",
      "diff_hunk": "@@ -580,4 +610,12 @@ bool FinalizeAndExtractPSBT(PartiallySignedTransaction& psbtx, CMutableTransacti\n  */\n NODISCARD TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector<PartiallySignedTransaction>& psbtxs);\n \n+/**\n+ * Provides helpful miscellaneous information about where a PSBT is in the signing workflow.\n+ *\n+ * @param[in] psbtx the PSBT to analyze\n+ * @return A PSBTAnalysis with information about the provided PSBT.\n+ */\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx);",
      "path": "src/psbt.h",
      "position": 63,
      "original_position": 57,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`const PartiallySignedTransaction& psbtx`?",
      "created_at": "2019-03-03T16:10:09Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r261874030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261874030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 625,
      "original_line": 625,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261874105",
      "pull_request_review_id": 209889054,
      "id": 261874105,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTg3NDEwNQ==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];\n+            if (SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, nullptr, true)) {\n+                mtx.vin[i].scriptSig = input.final_script_sig;",
      "path": "src/psbt.cpp",
      "position": 129,
      "original_position": 123,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could move this after `GetInputUTXO()`?",
      "created_at": "2019-03-03T16:12:25Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r261874105",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261874105"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 434,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261874253",
      "pull_request_review_id": 209889054,
      "id": 261874253,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTg3NDI1Mw==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";",
      "path": "src/psbt.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we align `case` with `switch`. nit, I'd ignore `return`s alignment.",
      "created_at": "2019-03-03T16:15:57Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r261874253",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261874253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261962916",
      "pull_request_review_id": 210023201,
      "id": 261962916,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTk2MjkxNg==",
      "diff_hunk": "@@ -580,4 +610,12 @@ bool FinalizeAndExtractPSBT(PartiallySignedTransaction& psbtx, CMutableTransacti\n  */\n NODISCARD TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector<PartiallySignedTransaction>& psbtxs);\n \n+/**\n+ * Provides helpful miscellaneous information about where a PSBT is in the signing workflow.\n+ *\n+ * @param[in] psbtx the PSBT to analyze\n+ * @return A PSBTAnalysis with information about the provided PSBT.\n+ */\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx);",
      "path": "src/psbt.h",
      "position": 63,
      "original_position": 57,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874030,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tried, but I had to back it out, because of the pattern of using \"SignPSBTInput(DUMMY_SIGNING_PROVIDER, ...)\" to get signature data without modifying the PSBT. So we either have to take the psbt by value, or by non-const reference.\r\n\r\nWe could get around this with a const cast, but I'm against it unless we think the cost of copying a PartiallySignedTransaction is truly unacceptable.",
      "created_at": "2019-03-04T08:45:53Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r261962916",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261962916"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 625,
      "original_line": 625,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/262779087",
      "pull_request_review_id": 211028226,
      "id": 262779087,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2Mjc3OTA4Nw==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];\n+            if (SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, nullptr, true)) {\n+                mtx.vin[i].scriptSig = input.final_script_sig;",
      "path": "src/psbt.cpp",
      "position": 129,
      "original_position": 123,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874105,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd be happy to, but I'm not sure I understand why? Can you elaborate?",
      "created_at": "2019-03-06T03:18:38Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r262779087",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/262779087"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 434,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/262781610",
      "pull_request_review_id": 211031313,
      "id": 262781610,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2Mjc4MTYxMA==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";",
      "path": "src/psbt.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874253,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2019-03-06T03:36:49Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r262781610",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/262781610"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/263205743",
      "pull_request_review_id": 211560905,
      "id": 263205743,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MzIwNTc0Mw==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];\n+            if (SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, nullptr, true)) {\n+                mtx.vin[i].scriptSig = input.final_script_sig;",
      "path": "src/psbt.cpp",
      "position": 129,
      "original_position": 123,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874105,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "consider nit, just one loop exit:\r\n```cpp\r\nif (!SignPSBTInput(...) || !psbtx.GetInputUTXO(...)) {\r\n     success = false\r\n     break;\r\n}\r\n```",
      "created_at": "2019-03-07T01:24:41Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r263205743",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/263205743"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 434,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/263441412",
      "pull_request_review_id": 211858066,
      "id": 263441412,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MzQ0MTQxMg==",
      "diff_hunk": "@@ -580,4 +610,12 @@ bool FinalizeAndExtractPSBT(PartiallySignedTransaction& psbtx, CMutableTransacti\n  */\n NODISCARD TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector<PartiallySignedTransaction>& psbtxs);\n \n+/**\n+ * Provides helpful miscellaneous information about where a PSBT is in the signing workflow.\n+ *\n+ * @param[in] psbtx the PSBT to analyze\n+ * @return A PSBTAnalysis with information about the provided PSBT.\n+ */\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx);",
      "path": "src/psbt.h",
      "position": 63,
      "original_position": 57,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874030,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Makes sense to keep by value. The code could be refactored but at the end each input would have to be copied to be able to call `FillSignatureData()` and `FromSignatureData`.",
      "created_at": "2019-03-07T15:45:20Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r263441412",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/263441412"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 625,
      "original_line": 625,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264843308",
      "pull_request_review_id": 213598209,
      "id": 264843308,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2NDg0MzMwOA==",
      "diff_hunk": "@@ -548,8 +550,36 @@ struct PartiallySignedTransaction\n     }\n };\n \n+enum class PSBTRole {\n+    UPDATER,\n+    SIGNER,\n+    FINALIZER,\n+    EXTRACTOR\n+};\n+\n+struct PSBTInputAnalysis {",
      "path": "src/psbt.h",
      "position": 23,
      "original_position": 20,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "5f96bf29225d7943314d68e10e19ee2fe3ccf3f3",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It'd be nice to have some documentation for these structs. There could be a comment saying struct fields correspond to fields returned by the `analyzepsbt` method, if you didn't want to just copy the documentation from `analyzepsbt`",
      "created_at": "2019-03-12T19:15:37Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r264843308",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264843308"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 563,
      "original_line": 563,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264919438",
      "pull_request_review_id": 213693398,
      "id": 264919438,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2NDkxOTQzOA==",
      "diff_hunk": "@@ -548,8 +550,36 @@ struct PartiallySignedTransaction\n     }\n };\n \n+enum class PSBTRole {\n+    UPDATER,\n+    SIGNER,\n+    FINALIZER,\n+    EXTRACTOR\n+};\n+\n+struct PSBTInputAnalysis {",
      "path": "src/psbt.h",
      "position": 23,
      "original_position": 20,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "5f96bf29225d7943314d68e10e19ee2fe3ccf3f3",
      "in_reply_to_id": 264843308,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nah, thanks, this is a good point, I may as well document them properly.",
      "created_at": "2019-03-12T23:07:36Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r264919438",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264919438"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 563,
      "original_line": 563,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264919526",
      "pull_request_review_id": 213693500,
      "id": 264919526,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2NDkxOTUyNg==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];\n+            if (SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, nullptr, true)) {\n+                mtx.vin[i].scriptSig = input.final_script_sig;",
      "path": "src/psbt.cpp",
      "position": 129,
      "original_position": 123,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874105,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2019-03-12T23:07:58Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r264919526",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264919526"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 434,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264931650",
      "pull_request_review_id": 213707791,
      "id": 264931650,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2NDkzMTY1MA==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];\n+            if (SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, nullptr, true)) {\n+                mtx.vin[i].scriptSig = input.final_script_sig;",
      "path": "src/psbt.cpp",
      "position": 129,
      "original_position": 123,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874105,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, could drop `else {` block or invert conditions:\r\n```cpp\r\nfor (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\r\n    PSBTInput& input = psbtx.inputs[i];\r\n    Coin newcoin;\r\n\r\n    if (SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, nullptr, true) && psbtx.GetInputUTXO(newcoin.out, i)) {\r\n        mtx.vin[i].scriptSig = input.final_script_sig;\r\n        mtx.vin[i].scriptWitness = input.final_script_witness;\r\n        newcoin.nHeight = 1;\r\n        view.AddCoin(psbtx.tx->vin[i].prevout, std::move(newcoin), true);\r\n    } else {\r\n        success = false;\r\n        break;\r\n    }\r\n}\r\n```",
      "created_at": "2019-03-13T00:03:41Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r264931650",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264931650"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 434,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264933519",
      "pull_request_review_id": 213710050,
      "id": 264933519,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2NDkzMzUxOQ==",
      "diff_hunk": "@@ -325,3 +330,139 @@ TransactionError CombinePSBTs(PartiallySignedTransaction& out, const std::vector\n \n     return TransactionError::OK;\n }\n+\n+std::string PSBTRoleName(PSBTRole role) {\n+    switch (role) {\n+        case PSBTRole::UPDATER:   return \"updater\";\n+        case PSBTRole::SIGNER:    return \"signer\";\n+        case PSBTRole::FINALIZER: return \"finalizer\";\n+        case PSBTRole::EXTRACTOR: return \"extractor\";\n+    }\n+}\n+\n+PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n+{\n+    // Go through each input and build status\n+    PSBTAnalysis result;\n+\n+    bool calc_fee = true;\n+    bool all_final = true;\n+    bool only_missing_sigs = true;\n+    bool only_missing_final = false;\n+    CAmount in_amt = 0;\n+\n+    result.inputs.resize(psbtx.tx->vin.size());\n+\n+    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+        PSBTInput& input = psbtx.inputs[i];\n+        PSBTInputAnalysis& input_analysis = result.inputs[i];\n+\n+        // Check for a UTXO\n+        CTxOut utxo;\n+        if (psbtx.GetInputUTXO(utxo, i)) {\n+            in_amt += utxo.nValue;\n+            input_analysis.has_utxo = true;\n+        } else {\n+            input_analysis.has_utxo = false;\n+            input_analysis.is_final = false;\n+            input_analysis.next = PSBTRole::UPDATER;\n+            calc_fee = false;\n+        }\n+\n+        // Check if it is final\n+        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n+            input_analysis.is_final = false;\n+            all_final = false;\n+\n+            // Figure out what is missing\n+            SignatureData outdata;\n+            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n+\n+            // Things are missing\n+            if (!complete) {\n+                input_analysis.missing_pubkeys = outdata.missing_pubkeys;\n+                input_analysis.missing_redeem_script = outdata.missing_redeem_script;\n+                input_analysis.missing_witness_script = outdata.missing_witness_script;\n+                input_analysis.missing_sigs = outdata.missing_sigs;\n+\n+                // If we are only missing signatures and nothing else, then next is signer\n+                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n+                    input_analysis.next = PSBTRole::SIGNER;\n+                } else {\n+                    only_missing_sigs = false;\n+                    input_analysis.next = PSBTRole::UPDATER;\n+                }\n+            } else {\n+                only_missing_final = true;\n+                input_analysis.next = PSBTRole::FINALIZER;\n+            }\n+        } else if (!utxo.IsNull()){\n+            input_analysis.is_final = true;\n+        }\n+    }\n+\n+    if (all_final) {\n+        only_missing_sigs = false;\n+        result.next = PSBTRole::EXTRACTOR;\n+    }\n+    if (calc_fee) {\n+        // Get the output amount\n+        CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), 0,\n+            [](int a, const CTxOut& b) {\n+                return a += b.nValue;\n+            }\n+        );\n+\n+        // Get the fee\n+        CAmount fee = in_amt - out_amt;\n+\n+        // Estimate the size\n+        CMutableTransaction mtx(*psbtx.tx);\n+        CCoinsView view_dummy;\n+        CCoinsViewCache view(&view_dummy);\n+        bool success = true;\n+\n+        for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n+            PSBTInput& input = psbtx.inputs[i];\n+            if (SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, nullptr, true)) {\n+                mtx.vin[i].scriptSig = input.final_script_sig;",
      "path": "src/psbt.cpp",
      "position": 129,
      "original_position": 123,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "3a426fd7ce98daf06fef4d4d6cfd4078612b8c3c",
      "in_reply_to_id": 261874105,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "At this point I think I better leave it as Future Work.",
      "created_at": "2019-03-13T00:13:37Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r264933519",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/264933519"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 434,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269340219",
      "pull_request_review_id": 219190808,
      "id": 269340219,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM0MDIxOQ==",
      "diff_hunk": "@@ -177,33 +177,6 @@ bool DecodeHexBlk(CBlock& block, const std::string& strHexBlk)\n     return true;\n }\n \n-bool DecodeBase64PSBT(PartiallySignedTransaction& psbt, const std::string& base64_tx, std::string& error)",
      "path": "src/core_read.cpp",
      "position": 12,
      "original_position": 4,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "078994ad4a3a6216f48370f4fd961de67354acfb",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this means you can remove the `#include <psbt.h>` from this file.",
      "created_at": "2019-03-26T22:24:32Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269340219",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269340219"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 180,
      "original_line": 180,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269340343",
      "pull_request_review_id": 219190808,
      "id": 269340343,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM0MDM0Mw==",
      "diff_hunk": "@@ -37,11 +37,6 @@ bool DecodeHexBlockHeader(CBlockHeader&, const std::string& hex_header);\n  */\n bool ParseHashStr(const std::string& strHex, uint256& result);\n std::vector<unsigned char> ParseHexUV(const UniValue& v, const std::string& strName);\n-",
      "path": "src/core_io.h",
      "position": 12,
      "original_position": 4,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "078994ad4a3a6216f48370f4fd961de67354acfb",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this means you can remove the `struct PartiallySignedBitcoinTransaction` forward declare from this file.",
      "created_at": "2019-03-26T22:25:00Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269340343",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269340343"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269340830",
      "pull_request_review_id": 219190808,
      "id": 269340830,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM0MDgzMA==",
      "diff_hunk": "@@ -1895,148 +1895,56 @@ UniValue analyzepsbt(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n     }\n \n-    // Go through each input and build status\n+    PSBTAnalysis psbta = AnalyzePSBT(psbtx);\n+\n     UniValue result(UniValue::VOBJ);\n     UniValue inputs_result(UniValue::VARR);\n-    bool calc_fee = true;\n-    bool all_final = true;\n-    bool only_missing_sigs = true;\n-    bool only_missing_final = false;\n-    CAmount in_amt = 0;\n-    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n-        PSBTInput& input = psbtx.inputs[i];\n+    for (auto input : psbta.inputs) {",
      "path": "src/rpc/rawtransaction.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "e01983a9f062ce339af8aab3eabca247df17b03c",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`const auto& input` to avoid copies.",
      "created_at": "2019-03-26T22:26:48Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269340830",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269340830"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1902,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269341847",
      "pull_request_review_id": 219190808,
      "id": 269341847,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM0MTg0Nw==",
      "diff_hunk": "@@ -1895,148 +1895,56 @@ UniValue analyzepsbt(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n     }\n \n-    // Go through each input and build status\n+    PSBTAnalysis psbta = AnalyzePSBT(psbtx);\n+\n     UniValue result(UniValue::VOBJ);\n     UniValue inputs_result(UniValue::VARR);\n-    bool calc_fee = true;\n-    bool all_final = true;\n-    bool only_missing_sigs = true;\n-    bool only_missing_final = false;\n-    CAmount in_amt = 0;\n-    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n-        PSBTInput& input = psbtx.inputs[i];\n+    for (auto input : psbta.inputs) {\n         UniValue input_univ(UniValue::VOBJ);\n         UniValue missing(UniValue::VOBJ);\n \n-        // Check for a UTXO\n-        CTxOut utxo;\n-        if (psbtx.GetInputUTXO(utxo, i)) {\n-            in_amt += utxo.nValue;\n-            input_univ.pushKV(\"has_utxo\", true);\n-        } else {\n-            input_univ.pushKV(\"has_utxo\", false);\n-            input_univ.pushKV(\"is_final\", false);\n-            input_univ.pushKV(\"next\", \"updater\");\n-            calc_fee = false;\n-        }\n+        input_univ.pushKV(\"has_utxo\", input.has_utxo);\n+        input_univ.pushKV(\"is_final\", input.is_final);\n+        input_univ.pushKV(\"next\", PSBTRoleName(input.next));\n \n-        // Check if it is final\n-        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n-            input_univ.pushKV(\"is_final\", false);\n-            all_final = false;\n-\n-            // Figure out what is missing\n-            SignatureData outdata;\n-            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n-\n-            // Things are missing\n-            if (!complete) {\n-                if (!outdata.missing_pubkeys.empty()) {\n-                    // Missing pubkeys\n-                    UniValue missing_pubkeys_univ(UniValue::VARR);\n-                    for (const CKeyID& pubkey : outdata.missing_pubkeys) {\n-                        missing_pubkeys_univ.push_back(HexStr(pubkey));\n-                    }\n-                    missing.pushKV(\"pubkeys\", missing_pubkeys_univ);\n-                }\n-                if (!outdata.missing_redeem_script.IsNull()) {\n-                    // Missing redeemScript\n-                    missing.pushKV(\"redeemscript\", HexStr(outdata.missing_redeem_script));\n-                }\n-                if (!outdata.missing_witness_script.IsNull()) {\n-                    // Missing witnessScript\n-                    missing.pushKV(\"witnessscript\", HexStr(outdata.missing_witness_script));\n-                }\n-                if (!outdata.missing_sigs.empty()) {\n-                    // Missing sigs\n-                    UniValue missing_sigs_univ(UniValue::VARR);\n-                    for (const CKeyID& pubkey : outdata.missing_sigs) {\n-                        missing_sigs_univ.push_back(HexStr(pubkey));\n-                    }\n-                    missing.pushKV(\"signatures\", missing_sigs_univ);\n-                }\n-                input_univ.pushKV(\"missing\", missing);\n-\n-                // If we are only missing signatures and nothing else, then next is signer\n-                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n-                    input_univ.pushKV(\"next\", \"signer\");\n-                } else {\n-                    only_missing_sigs = false;\n-                    input_univ.pushKV(\"next\", \"updater\");\n-                }\n-            } else {\n-                only_missing_final = true;\n-                input_univ.pushKV(\"next\", \"finalizer\");\n+        if (!input.missing_pubkeys.empty()) {\n+            UniValue missing_pubkeys_univ(UniValue::VARR);\n+            for (const CKeyID& pubkey : input.missing_pubkeys) {\n+                missing_pubkeys_univ.push_back(HexStr(pubkey));\n             }\n-        } else if (!utxo.IsNull()){\n-            input_univ.pushKV(\"is_final\", true);\n+            missing.pushKV(\"pubkeys\", missing_pubkeys_univ);\n+        }\n+        if (!input.missing_redeem_script.IsNull()) {\n+            missing.pushKV(\"redeemscript\", HexStr(input.missing_redeem_script));\n+        }\n+        if (!input.missing_witness_script.IsNull()) {\n+            missing.pushKV(\"witnessscript\", HexStr(input.missing_witness_script));\n+        }\n+        if (!input.missing_sigs.empty()) {\n+            UniValue missing_sigs_univ(UniValue::VARR);\n+            for (const CKeyID& pubkey : input.missing_sigs) {\n+                missing_sigs_univ.push_back(HexStr(pubkey));\n+            }\n+            missing.pushKV(\"signatures\", missing_sigs_univ);\n+        }\n+        if (!missing.getKeys().empty()) {\n+            input_univ.pushKV(\"missing\", missing);\n         }\n         inputs_result.push_back(input_univ);\n     }\n     result.pushKV(\"inputs\", inputs_result);\n \n-    if (all_final) {\n-        only_missing_sigs = false;\n-        result.pushKV(\"next\", \"extractor\");\n+    if (psbta.estimated_vsize != nullopt) {\n+        result.pushKV(\"estimated_vsize\", (int)*psbta.estimated_vsize);",
      "path": "src/rpc/rawtransaction.cpp",
      "position": 115,
      "original_position": 115,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "e01983a9f062ce339af8aab3eabca247df17b03c",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is this int cast necessary?",
      "created_at": "2019-03-26T22:30:40Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269341847",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269341847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1938,
      "original_line": 1938,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269367894",
      "pull_request_review_id": 219223328,
      "id": 269367894,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM2Nzg5NA==",
      "diff_hunk": "@@ -1895,148 +1895,56 @@ UniValue analyzepsbt(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n     }\n \n-    // Go through each input and build status\n+    PSBTAnalysis psbta = AnalyzePSBT(psbtx);\n+\n     UniValue result(UniValue::VOBJ);\n     UniValue inputs_result(UniValue::VARR);\n-    bool calc_fee = true;\n-    bool all_final = true;\n-    bool only_missing_sigs = true;\n-    bool only_missing_final = false;\n-    CAmount in_amt = 0;\n-    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n-        PSBTInput& input = psbtx.inputs[i];\n+    for (auto input : psbta.inputs) {\n         UniValue input_univ(UniValue::VOBJ);\n         UniValue missing(UniValue::VOBJ);\n \n-        // Check for a UTXO\n-        CTxOut utxo;\n-        if (psbtx.GetInputUTXO(utxo, i)) {\n-            in_amt += utxo.nValue;\n-            input_univ.pushKV(\"has_utxo\", true);\n-        } else {\n-            input_univ.pushKV(\"has_utxo\", false);\n-            input_univ.pushKV(\"is_final\", false);\n-            input_univ.pushKV(\"next\", \"updater\");\n-            calc_fee = false;\n-        }\n+        input_univ.pushKV(\"has_utxo\", input.has_utxo);\n+        input_univ.pushKV(\"is_final\", input.is_final);\n+        input_univ.pushKV(\"next\", PSBTRoleName(input.next));\n \n-        // Check if it is final\n-        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n-            input_univ.pushKV(\"is_final\", false);\n-            all_final = false;\n-\n-            // Figure out what is missing\n-            SignatureData outdata;\n-            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n-\n-            // Things are missing\n-            if (!complete) {\n-                if (!outdata.missing_pubkeys.empty()) {\n-                    // Missing pubkeys\n-                    UniValue missing_pubkeys_univ(UniValue::VARR);\n-                    for (const CKeyID& pubkey : outdata.missing_pubkeys) {\n-                        missing_pubkeys_univ.push_back(HexStr(pubkey));\n-                    }\n-                    missing.pushKV(\"pubkeys\", missing_pubkeys_univ);\n-                }\n-                if (!outdata.missing_redeem_script.IsNull()) {\n-                    // Missing redeemScript\n-                    missing.pushKV(\"redeemscript\", HexStr(outdata.missing_redeem_script));\n-                }\n-                if (!outdata.missing_witness_script.IsNull()) {\n-                    // Missing witnessScript\n-                    missing.pushKV(\"witnessscript\", HexStr(outdata.missing_witness_script));\n-                }\n-                if (!outdata.missing_sigs.empty()) {\n-                    // Missing sigs\n-                    UniValue missing_sigs_univ(UniValue::VARR);\n-                    for (const CKeyID& pubkey : outdata.missing_sigs) {\n-                        missing_sigs_univ.push_back(HexStr(pubkey));\n-                    }\n-                    missing.pushKV(\"signatures\", missing_sigs_univ);\n-                }\n-                input_univ.pushKV(\"missing\", missing);\n-\n-                // If we are only missing signatures and nothing else, then next is signer\n-                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n-                    input_univ.pushKV(\"next\", \"signer\");\n-                } else {\n-                    only_missing_sigs = false;\n-                    input_univ.pushKV(\"next\", \"updater\");\n-                }\n-            } else {\n-                only_missing_final = true;\n-                input_univ.pushKV(\"next\", \"finalizer\");\n+        if (!input.missing_pubkeys.empty()) {\n+            UniValue missing_pubkeys_univ(UniValue::VARR);\n+            for (const CKeyID& pubkey : input.missing_pubkeys) {\n+                missing_pubkeys_univ.push_back(HexStr(pubkey));\n             }\n-        } else if (!utxo.IsNull()){\n-            input_univ.pushKV(\"is_final\", true);\n+            missing.pushKV(\"pubkeys\", missing_pubkeys_univ);\n+        }\n+        if (!input.missing_redeem_script.IsNull()) {\n+            missing.pushKV(\"redeemscript\", HexStr(input.missing_redeem_script));\n+        }\n+        if (!input.missing_witness_script.IsNull()) {\n+            missing.pushKV(\"witnessscript\", HexStr(input.missing_witness_script));\n+        }\n+        if (!input.missing_sigs.empty()) {\n+            UniValue missing_sigs_univ(UniValue::VARR);\n+            for (const CKeyID& pubkey : input.missing_sigs) {\n+                missing_sigs_univ.push_back(HexStr(pubkey));\n+            }\n+            missing.pushKV(\"signatures\", missing_sigs_univ);\n+        }\n+        if (!missing.getKeys().empty()) {\n+            input_univ.pushKV(\"missing\", missing);\n         }\n         inputs_result.push_back(input_univ);\n     }\n     result.pushKV(\"inputs\", inputs_result);\n \n-    if (all_final) {\n-        only_missing_sigs = false;\n-        result.pushKV(\"next\", \"extractor\");\n+    if (psbta.estimated_vsize != nullopt) {\n+        result.pushKV(\"estimated_vsize\", (int)*psbta.estimated_vsize);",
      "path": "src/rpc/rawtransaction.cpp",
      "position": 115,
      "original_position": 115,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "e01983a9f062ce339af8aab3eabca247df17b03c",
      "in_reply_to_id": 269341847,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "According to the compiler, some cast is required:\r\n\r\n```\r\nrpc/rawtransaction.cpp:1938:16: error: call to member function 'pushKV' is ambiguous\r\n        result.pushKV(\"estimated_vsize\", *psbta.estimated_vsize);\r\n        ~~~~~~~^~~~~~\r\n./univalue/include/univalue.h:124:10: note: candidate function\r\n    bool pushKV(const std::string& key, int64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:128:10: note: candidate function\r\n    bool pushKV(const std::string& key, uint64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:132:10: note: candidate function\r\n    bool pushKV(const std::string& key, bool val_) {\r\n         ^\r\n./univalue/include/univalue.h:136:10: note: candidate function\r\n    bool pushKV(const std::string& key, int val_) {\r\n         ^\r\n./univalue/include/univalue.h:140:10: note: candidate function\r\n    bool pushKV(const std::string& key, double val_) {\r\n         ^\r\n./univalue/include/univalue.h:115:10: note: candidate function\r\n    bool pushKV(const std::string& key, const UniValue& val);\r\n```",
      "created_at": "2019-03-27T00:33:13Z",
      "updated_at": "2019-03-27T00:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269367894",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269367894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1938,
      "original_line": 1938,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269370237",
      "pull_request_review_id": 219225862,
      "id": 269370237,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM3MDIzNw==",
      "diff_hunk": "@@ -1895,148 +1895,56 @@ UniValue analyzepsbt(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n     }\n \n-    // Go through each input and build status\n+    PSBTAnalysis psbta = AnalyzePSBT(psbtx);\n+\n     UniValue result(UniValue::VOBJ);\n     UniValue inputs_result(UniValue::VARR);\n-    bool calc_fee = true;\n-    bool all_final = true;\n-    bool only_missing_sigs = true;\n-    bool only_missing_final = false;\n-    CAmount in_amt = 0;\n-    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n-        PSBTInput& input = psbtx.inputs[i];\n+    for (auto input : psbta.inputs) {",
      "path": "src/rpc/rawtransaction.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "e01983a9f062ce339af8aab3eabca247df17b03c",
      "in_reply_to_id": 269340830,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2019-03-27T00:46:35Z",
      "updated_at": "2019-03-27T00:46:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269370237",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269370237"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1902,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269370251",
      "pull_request_review_id": 219225875,
      "id": 269370251,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM3MDI1MQ==",
      "diff_hunk": "@@ -37,11 +37,6 @@ bool DecodeHexBlockHeader(CBlockHeader&, const std::string& hex_header);\n  */\n bool ParseHashStr(const std::string& strHex, uint256& result);\n std::vector<unsigned char> ParseHexUV(const UniValue& v, const std::string& strName);\n-",
      "path": "src/core_io.h",
      "position": 12,
      "original_position": 4,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "078994ad4a3a6216f48370f4fd961de67354acfb",
      "in_reply_to_id": 269340343,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yep, done",
      "created_at": "2019-03-27T00:46:40Z",
      "updated_at": "2019-03-27T00:46:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269370251",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269370251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269370261",
      "pull_request_review_id": 219225887,
      "id": 269370261,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTM3MDI2MQ==",
      "diff_hunk": "@@ -177,33 +177,6 @@ bool DecodeHexBlk(CBlock& block, const std::string& strHexBlk)\n     return true;\n }\n \n-bool DecodeBase64PSBT(PartiallySignedTransaction& psbt, const std::string& base64_tx, std::string& error)",
      "path": "src/core_read.cpp",
      "position": 12,
      "original_position": 4,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "078994ad4a3a6216f48370f4fd961de67354acfb",
      "in_reply_to_id": 269340219,
      "user": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yep, done",
      "created_at": "2019-03-27T00:46:44Z",
      "updated_at": "2019-03-27T00:46:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269370261",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269370261"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 180,
      "original_line": 180,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269821652",
      "pull_request_review_id": 219788560,
      "id": 269821652,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTgyMTY1Mg==",
      "diff_hunk": "@@ -1895,148 +1895,56 @@ UniValue analyzepsbt(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n     }\n \n-    // Go through each input and build status\n+    PSBTAnalysis psbta = AnalyzePSBT(psbtx);\n+\n     UniValue result(UniValue::VOBJ);\n     UniValue inputs_result(UniValue::VARR);\n-    bool calc_fee = true;\n-    bool all_final = true;\n-    bool only_missing_sigs = true;\n-    bool only_missing_final = false;\n-    CAmount in_amt = 0;\n-    for (unsigned int i = 0; i < psbtx.tx->vin.size(); ++i) {\n-        PSBTInput& input = psbtx.inputs[i];\n+    for (auto input : psbta.inputs) {\n         UniValue input_univ(UniValue::VOBJ);\n         UniValue missing(UniValue::VOBJ);\n \n-        // Check for a UTXO\n-        CTxOut utxo;\n-        if (psbtx.GetInputUTXO(utxo, i)) {\n-            in_amt += utxo.nValue;\n-            input_univ.pushKV(\"has_utxo\", true);\n-        } else {\n-            input_univ.pushKV(\"has_utxo\", false);\n-            input_univ.pushKV(\"is_final\", false);\n-            input_univ.pushKV(\"next\", \"updater\");\n-            calc_fee = false;\n-        }\n+        input_univ.pushKV(\"has_utxo\", input.has_utxo);\n+        input_univ.pushKV(\"is_final\", input.is_final);\n+        input_univ.pushKV(\"next\", PSBTRoleName(input.next));\n \n-        // Check if it is final\n-        if (!utxo.IsNull() && !PSBTInputSigned(input)) {\n-            input_univ.pushKV(\"is_final\", false);\n-            all_final = false;\n-\n-            // Figure out what is missing\n-            SignatureData outdata;\n-            bool complete = SignPSBTInput(DUMMY_SIGNING_PROVIDER, psbtx, i, 1, &outdata);\n-\n-            // Things are missing\n-            if (!complete) {\n-                if (!outdata.missing_pubkeys.empty()) {\n-                    // Missing pubkeys\n-                    UniValue missing_pubkeys_univ(UniValue::VARR);\n-                    for (const CKeyID& pubkey : outdata.missing_pubkeys) {\n-                        missing_pubkeys_univ.push_back(HexStr(pubkey));\n-                    }\n-                    missing.pushKV(\"pubkeys\", missing_pubkeys_univ);\n-                }\n-                if (!outdata.missing_redeem_script.IsNull()) {\n-                    // Missing redeemScript\n-                    missing.pushKV(\"redeemscript\", HexStr(outdata.missing_redeem_script));\n-                }\n-                if (!outdata.missing_witness_script.IsNull()) {\n-                    // Missing witnessScript\n-                    missing.pushKV(\"witnessscript\", HexStr(outdata.missing_witness_script));\n-                }\n-                if (!outdata.missing_sigs.empty()) {\n-                    // Missing sigs\n-                    UniValue missing_sigs_univ(UniValue::VARR);\n-                    for (const CKeyID& pubkey : outdata.missing_sigs) {\n-                        missing_sigs_univ.push_back(HexStr(pubkey));\n-                    }\n-                    missing.pushKV(\"signatures\", missing_sigs_univ);\n-                }\n-                input_univ.pushKV(\"missing\", missing);\n-\n-                // If we are only missing signatures and nothing else, then next is signer\n-                if (outdata.missing_pubkeys.empty() && outdata.missing_redeem_script.IsNull() && outdata.missing_witness_script.IsNull() && !outdata.missing_sigs.empty()) {\n-                    input_univ.pushKV(\"next\", \"signer\");\n-                } else {\n-                    only_missing_sigs = false;\n-                    input_univ.pushKV(\"next\", \"updater\");\n-                }\n-            } else {\n-                only_missing_final = true;\n-                input_univ.pushKV(\"next\", \"finalizer\");\n+        if (!input.missing_pubkeys.empty()) {\n+            UniValue missing_pubkeys_univ(UniValue::VARR);\n+            for (const CKeyID& pubkey : input.missing_pubkeys) {\n+                missing_pubkeys_univ.push_back(HexStr(pubkey));\n             }\n-        } else if (!utxo.IsNull()){\n-            input_univ.pushKV(\"is_final\", true);\n+            missing.pushKV(\"pubkeys\", missing_pubkeys_univ);\n+        }\n+        if (!input.missing_redeem_script.IsNull()) {\n+            missing.pushKV(\"redeemscript\", HexStr(input.missing_redeem_script));\n+        }\n+        if (!input.missing_witness_script.IsNull()) {\n+            missing.pushKV(\"witnessscript\", HexStr(input.missing_witness_script));\n+        }\n+        if (!input.missing_sigs.empty()) {\n+            UniValue missing_sigs_univ(UniValue::VARR);\n+            for (const CKeyID& pubkey : input.missing_sigs) {\n+                missing_sigs_univ.push_back(HexStr(pubkey));\n+            }\n+            missing.pushKV(\"signatures\", missing_sigs_univ);\n+        }\n+        if (!missing.getKeys().empty()) {\n+            input_univ.pushKV(\"missing\", missing);\n         }\n         inputs_result.push_back(input_univ);\n     }\n     result.pushKV(\"inputs\", inputs_result);\n \n-    if (all_final) {\n-        only_missing_sigs = false;\n-        result.pushKV(\"next\", \"extractor\");\n+    if (psbta.estimated_vsize != nullopt) {\n+        result.pushKV(\"estimated_vsize\", (int)*psbta.estimated_vsize);",
      "path": "src/rpc/rawtransaction.cpp",
      "position": 115,
      "original_position": 115,
      "commit_id": "892eff05f115c0b002d0e0b6ffc3ab418480d25c",
      "original_commit_id": "e01983a9f062ce339af8aab3eabca247df17b03c",
      "in_reply_to_id": 269341847,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Looks like it's needed in that case.",
      "created_at": "2019-03-28T00:34:42Z",
      "updated_at": "2019-03-28T00:34:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/15508#discussion_r269821652",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269821652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15508"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1938,
      "original_line": 1938,
      "side": "RIGHT"
    }
  ]
}