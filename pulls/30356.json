{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356",
    "id": 1943909110,
    "node_id": "PR_kwDOABII585z3bL2",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30356",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30356.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30356.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/d89637eceab0145a64c2d1af1139ace204a3ab3c",
    "number": 30356,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: add coinbase constraints to BlockAssembler::Options",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "When generating a block template through e.g. getblocktemplate RPC, we reserve 4000 weight units and 400 sigops. Pools use this space for their coinbase outputs.\r\n\r\nAt least one pool patched their Bitcoin Core node to adjust these hardcoded values. They eventually [produced an invalid block](https://bitcoin.stackexchange.com/questions/117837/how-many-sigops-are-in-the-invalid-block-783426) which exceeded the sigops limit.\r\n\r\nThe existince of such patches suggests it may be useful to make this value configurable. This PR would make such a change easier. However, the main motivation is that in the Stratum v2 spec requires the pool to communicate the maximum bytes they intend\r\nto add to the coinbase outputs.\r\n\r\nSpecifically the `CoinbaseOutputDataSize` message which is part of the [Template Distribution Protocol](https://github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#71-coinbaseoutputdatasize-client---server) has a field `coinbase_output_max_additional_size`.\r\n\r\nA proposed change to the spec adds the max additional sigops as well: https://github.com/stratum-mining/sv2-spec/pull/86. Whether that change makes it into the spec is not important though, as adding both to `BlockAssembler::Options` makes sense.\r\n\r\nThe first commit is a test refactor followup for #30335, related to the code that's changed here, but not required.\r\n\r\nThe second commit adds `coinbase_output_max_additional_size` and `coinbase_output_max_additional_sigops ` to `BlockAssembler::Options`, with their defaults set to the existing hardcoded values. \r\n\r\nThe third commit introduces `util/mining.h` as a place to store these defaults in a place where both the RPC and node interface can access them. I picked `libbitcoin_util` instead of `libbitcoin_common` to avoid a future dependency of the Stratum v2 Template Provider (#29432) on `libbitcoin_common`. The latter goal requires additional changes and is mostly just nice to have (the important bit is not depending on `libbitcoin_node`).\r\n\r\nThe last commit adds the two arguments to the mining interface. By default it uses the originally hardcoded values, and no existing caller overrides these defaults. This changes in #29432.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2024-06-28T08:56:31Z",
    "updated_at": "2024-07-04T17:28:54Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "acf40b48cbdcfca3a2d170b56d5a0945bd48b028",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "Sjors:2024/06/coinbase-constraints",
      "ref": "2024/06/coinbase-constraints",
      "sha": "d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 92390696,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjM5MDY5Ng==",
        "name": "bitcoin",
        "full_name": "Sjors/bitcoin",
        "owner": {
          "login": "Sjors",
          "id": 10217,
          "node_id": "MDQ6VXNlcjEwMjE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Sjors",
          "html_url": "https://github.com/Sjors",
          "followers_url": "https://api.github.com/users/Sjors/followers",
          "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
          "organizations_url": "https://api.github.com/users/Sjors/orgs",
          "repos_url": "https://api.github.com/users/Sjors/repos",
          "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Sjors/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/Sjors/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Sjors/bitcoin",
        "archive_url": "https://api.github.com/repos/Sjors/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Sjors/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Sjors/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Sjors/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Sjors/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Sjors/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Sjors/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Sjors/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Sjors/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Sjors/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Sjors/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Sjors/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Sjors/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Sjors/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Sjors/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Sjors/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Sjors/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Sjors/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Sjors/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Sjors/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Sjors/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Sjors/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Sjors/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Sjors/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Sjors/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Sjors/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Sjors/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Sjors/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Sjors/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Sjors/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Sjors/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Sjors/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Sjors/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Sjors/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Sjors/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Sjors/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Sjors/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Sjors/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Sjors/bitcoin/hooks",
        "svn_url": "https://github.com/Sjors/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 9,
        "stargazers_count": 5,
        "watchers_count": 5,
        "size": 241182,
        "default_branch": "sv2",
        "open_issues_count": 5,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-04T12:38:46Z",
        "created_at": "2017-05-25T10:05:54Z",
        "updated_at": "2024-07-02T20:05:50Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "3714692644f45808a6480525abc36870aeee1de4",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35595,
        "stargazers_count": 77088,
        "watchers_count": 77088,
        "size": 262585,
        "default_branch": "master",
        "open_issues_count": 676,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-04T14:34:55Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-07-04T16:18:26Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 53,
    "deletions": 10,
    "changed_files": 7,
    "commits": 4,
    "review_comments": 5,
    "comments": 8
  },
  "events": [
    {
      "event": "commented",
      "id": 2196446059,
      "node_id": "IC_kwDOABII586C6xtr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2196446059",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T08:56:34Z",
      "updated_at": "2024-07-04T17:28:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30356).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Approach ACK | [tdb3](https://github.com/bitcoin/bitcoin/pull/30356#pullrequestreview-2148873843) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2196446059",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    },
    {
      "event": "labeled",
      "id": 13328705456,
      "node_id": "LE_lADOABII586N2u5qzwAAAAMac-ew",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13328705456",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T08:56:36Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "reviewed",
      "id": 2148873843,
      "node_id": "PRR_kwDOABII586AFTZz",
      "url": null,
      "actor": null,
      "commit_id": "4c57f2707e00bbfd2e2d2a6d3e05ea0bbb0609cd",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK\r\nThis adds flexibility for SV2, and having less magic numbers is better.  I support adding a configuration parameter for this (would prevent others from needing to fork).\r\n\r\nLeft a couple small nits for now, but plan to test/exercise in more detail.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#pullrequestreview-2148873843",
      "submitted_at": "2024-06-28T21:14:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
    },
    {
      "event": "commented",
      "id": 2198761717,
      "node_id": "IC_kwDOABII586DDnD1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2198761717",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-30T21:23:44Z",
      "updated_at": "2024-07-01T08:37:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I picked libbitcoin_util instead of libbitcoin_common to avoid a future dependency of the Stratum v2 Template Provider (https://github.com/bitcoin/bitcoin/pull/29432) on libbitcoin_common. The latter goal requires additional changes and is mostly just nice to have (the important bit is not depending on libbitcoin_node).\r\n\r\nSo I guess it should ideally only have the kernel as a dependency? It is not quite clear to me yet how this is going to be achieved. The current mining interface requires knowledge of a `CBlockTemplate`, which I don't think should be part of the kernel in the future.\r\n\r\nEDIT: To be clear, since the constants are given a new header, there is no new hard library dependency introduced no matter which directory you choose to put them into. It just feels weird to put something very specific to the inner workings of our mining code into a directory called `util`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2198761717",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    },
    {
      "event": "reviewed",
      "id": 2150772443,
      "node_id": "PRR_kwDOABII586AMi7b",
      "url": null,
      "actor": null,
      "commit_id": "4c57f2707e00bbfd2e2d2a6d3e05ea0bbb0609cd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#pullrequestreview-2150772443",
      "submitted_at": "2024-07-01T08:37:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
    },
    {
      "event": "commented",
      "id": 2199576083,
      "node_id": "IC_kwDOABII586DGt4T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2199576083",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T08:42:56Z",
      "updated_at": "2024-07-01T08:42:56Z",
      "author_association": "MEMBER",
      "body": "@TheCharlatan happy to put the constants somewhere else... see https://github.com/Sjors/bitcoin/pull/47 for an attempt at introducing `libbitcoin_net`, which might reduce the dependencies of a future `libbitcoin_sv2` to `libbitcoin_net`, `libbitcoin_crypto` and `libbitcoin_util`. I got stuck there on where to put `XOnlyPubKey` and a few other things.\r\n\r\nA similar problem might exist for `CBlockTemplate` if I actually tried to make `libbitcoin_sv2`, which I haven't done yet.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2199576083",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    },
    {
      "event": "mentioned",
      "id": 13347593594,
      "node_id": "MEE_lADOABII586N2u5qzwAAAAMblB16",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13347593594",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T08:42:57Z"
    },
    {
      "event": "subscribed",
      "id": 13347593615,
      "node_id": "SE_lADOABII586N2u5qzwAAAAMblB2P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13347593615",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T08:42:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13349130413,
      "node_id": "HRFPE_lADOABII586N2u5qzwAAAAMbq5Ct",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13349130413",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T10:30:54Z"
    },
    {
      "event": "commented",
      "id": 2199791658,
      "node_id": "IC_kwDOABII586DHigq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2199791658",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T10:30:56Z",
      "updated_at": "2024-07-01T10:35:03Z",
      "author_association": "MEMBER",
      "body": "I renamed `coinbase_output_max_additional_size` to `coinbase_max_additional_weight`. With the current [Stratum v2 spec](https://github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#71-coinbaseoutputdatasize-client---server) the latter could be calculated as follows:\r\n\r\n`coinbase_max_additional_weight = (coinbase_output_max_additional_size + 100 + 0 + 2) * 4`\r\n\r\n- `coinbase_output_max_additional_size * 4`: Coinbase outputs are not part of the witness so their weight is simply the number of bytes specificied in the `CoinbaseOutputDataSize` message times 4.\r\n\r\n- `100 * 4`: the spec also requires taking into account a \"maximally-sized (100 byte) coinbase field\", which refers to the _scriptSig_ of the coinbase. It currently doesn't allow for setting a custom coinbase _witness_.\r\n\r\n- `0 * 4`: a [CompactSize](https://bitcoin.stackexchange.com/a/114585/4948) encodes the size of the above \"coinbase field\" (the spec is ambiguous whether this is included). Given the maximum of 100 its always encoded with 1 byte, so no _additional_ weight units are needed.\r\n\r\n- `2 * 4`: \"Further, the Template Provider MUST consider the maximum additional bytes required in the output count variable-length integer in the coinbase transaction when complying with the size limits.\" - this is tricky because we don't know how _many_ outputs the pool intends to add, and we might want to add an arbitrary number of outputs ourselves. Since there can't be more than 1 million outputs, 3 bytes is always enough to encode the number of outputs. So that's 2 _additional_ bytes in the worst case.\r\n\r\nThe spec should probably be clarified a bit, cc @TheBlueMatt, @Fi3.\r\n\r\nIn any case, tracking coinbase reserved space in term of weight units here should be enough to support Stratum v2 later, and even allow for using the coinbase witness.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2199791658",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    },
    {
      "event": "mentioned",
      "id": 13349131267,
      "node_id": "MEE_lADOABII586N2u5qzwAAAAMbq5QD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13349131267",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T10:30:58Z"
    },
    {
      "event": "subscribed",
      "id": 13349131283,
      "node_id": "SE_lADOABII586N2u5qzwAAAAMbq5QT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13349131283",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T10:30:58Z"
    },
    {
      "event": "mentioned",
      "id": 13349131308,
      "node_id": "MEE_lADOABII586N2u5qzwAAAAMbq5Qs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13349131308",
      "actor": {
        "login": "Fi3",
        "id": 6207037,
        "node_id": "MDQ6VXNlcjYyMDcwMzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6207037?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fi3",
        "html_url": "https://github.com/Fi3",
        "followers_url": "https://api.github.com/users/Fi3/followers",
        "following_url": "https://api.github.com/users/Fi3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fi3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fi3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fi3/subscriptions",
        "organizations_url": "https://api.github.com/users/Fi3/orgs",
        "repos_url": "https://api.github.com/users/Fi3/repos",
        "events_url": "https://api.github.com/users/Fi3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fi3/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T10:30:58Z"
    },
    {
      "event": "subscribed",
      "id": 13349131320,
      "node_id": "SE_lADOABII586N2u5qzwAAAAMbq5Q4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13349131320",
      "actor": {
        "login": "Fi3",
        "id": 6207037,
        "node_id": "MDQ6VXNlcjYyMDcwMzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6207037?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fi3",
        "html_url": "https://github.com/Fi3",
        "followers_url": "https://api.github.com/users/Fi3/followers",
        "following_url": "https://api.github.com/users/Fi3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fi3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fi3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fi3/subscriptions",
        "organizations_url": "https://api.github.com/users/Fi3/orgs",
        "repos_url": "https://api.github.com/users/Fi3/repos",
        "events_url": "https://api.github.com/users/Fi3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fi3/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T10:30:58Z"
    },
    {
      "event": "labeled",
      "id": 13372222329,
      "node_id": "LE_lADOABII586N2u5qzwAAAAMdC-t5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13372222329",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T21:49:44Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ4MzU5NzliZTdlMTJlM2YwYjgwZmQzMzdiZDk0ZGE1YTA4YTY1Mzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4835979be7e12e3f0b80fd337bd94da5a08a6539",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4835979be7e12e3f0b80fd337bd94da5a08a6539",
      "tree": {
        "sha": "5502d5b80e0510f7cf26c0309640826c822dc970",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5502d5b80e0510f7cf26c0309640826c822dc970"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5502d5b80e0510f7cf26c0309640826c822dc970\nparent 3714692644f45808a6480525abc36870aeee1de4\nauthor Sjors Provoost <sjors@sprovoost.nl> 1719563713 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1720074366 +0200\n\nrefactor: use CHECK_NONFATAL to avoid single-use symbol\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaGQH4ACgkQV/+b28ww\nEAkqxxAAinsS58XOuhwRyj5EKTvJPxDcE2t6QPswJAMF4ENz4HuzYfxXjmVcJRNv\nrn4oK+jVthXAudfbp1Y7dyIxerVf2rGVTMNnCciaRh41kpibSFCP2Bf86cURLV3C\nExOv4zz3kIC+wSlPsO3V7IaYsiI6ZY89qlkHLJ81Y0zSrbE0efi3YX0WC20xfKu7\nY1//lDRAS2oBUW5Ydmrzrd8l65TuneU93bJD6XaIVka/Xn984B3FoJeuU+rsb++s\nrurBkMbj0vuM1hEaiyYX3BECnNdYmA/S2aNbHX9GrrSLkDQuy5sxN7fYtkjl9+mv\nn7mc+MP3Fgf2klqvC+03nUAAwZ9Et+JZe9O6TcSREs0S/xREsc7wnnyCmBjwi24o\n0MfGGq9vkjLa1X24MvTgiwmM1JWY+LkgHQzeHD6hXCqByvzgd/OldLa0tH2Z4Qe6\njysUIGvt+mzjPs2RRGscNSikwqr0qR/qA/4BxJGIWaFTssJMVWl7YHWfn9O3zCqB\nfI5u/ODkwhf6+RnwSx0uEIDnEHvA/9nYqsVJYSH6w5cr3pcB4rYY/w6KQ25IylTG\nX5yK3Rx53EMCX0yH94zy4l0dh8y56+s3QqKApjQxEQj4X+8EH1aiNe12N4wJK4qn\nmCzb8OcubJ+Of0xu5mFUd7+Ue2Yq2Rnwn0MANgcUFDQLYBrLOJM=\n=dgsf\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3714692644f45808a6480525abc36870aeee1de4",
          "sha": "3714692644f45808a6480525abc36870aeee1de4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3714692644f45808a6480525abc36870aeee1de4"
        }
      ],
      "message": "refactor: use CHECK_NONFATAL to avoid single-use symbol",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-04T06:26:06Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-28T08:35:13Z"
      },
      "sha": "4835979be7e12e3f0b80fd337bd94da5a08a6539"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQzZWIwNmE2Mjg3YzFiZGEzY2M5MDE5MjhhYTJhMzk4NmI3ZjUxNWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d3eb06a6287c1bda3cc901928aa2a3986b7f515b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d3eb06a6287c1bda3cc901928aa2a3986b7f515b",
      "tree": {
        "sha": "05134c913d466be38f035752cf1068c5a7bfc4f1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/05134c913d466be38f035752cf1068c5a7bfc4f1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 05134c913d466be38f035752cf1068c5a7bfc4f1\nparent 4835979be7e12e3f0b80fd337bd94da5a08a6539\nauthor Sjors Provoost <sjors@sprovoost.nl> 1719562149 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1720074657 +0200\n\nrefactor: add coinbase constraints to BlockAssembler::Options\n\nWhen generating a block template through e.g. getblocktemplate RPC,\nwe reserve 4000 weight units and 400 sigops. Pools use this space\nfor their coinbase outputs.\n\nAt least one pool patched their Bitcoin Core node to adjust\nthese hardcoded values. They eventually produced an invalid\nblock which exceeded the sigops limit.\nhttps://bitcoin.stackexchange.com/questions/117837/how-many-sigops-are-in-the-invalid-block-783426\n\nThe existince of such patches suggests it may be useful to\nmake this value configurable. This commit would make such a\nchange easier.\n\nThe main motivation however is that the Stratum v2 spec\nrequires the pool to communicate the maximum bytes they intend\nto add to the coinbase outputs. A proposed change to the spec\nwould also require them to communicate the maximum number of sigops.\n\nThis commit adds both to BlockAssembler::Options. The default\nis the same as the previously hardcode values.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaGQaQACgkQV/+b28ww\nEAlUpw//W+wiDWKpOX98UTOroIvz7Pir2luJDmcp3mKvCl+uhXDXDAitHuDjC2Wx\nM1sb1Ff9yP+vjI/hp0Yr3VrBcM07oeqbZU7WRqDlg04xXr6oXRCbPFJNFywDl386\nX5ViT52eDJeAD+lAtty8WElkC9QCN0YEmJ2FepL7b3TSgFqo0hLr3yofCiRETk5t\nbZyYyxmELJmXABzxa6b5C0zTQGCmNMySdcha9hZaYvutzJc0BiCnMHbiDoxGkJXY\n9bCbyvaHDGSDy3OX8JPdYjpK2wR513ERZhAdcMTh4HXm7rXeNnD9IoKI8AuO1Rm0\n6Uw2BQPMkTjmJZZCJvaV0gQ8mGElcCr1aBJJhUwuKIjJjbf6qFEjlJ3I/bGW18f1\n2IjTOAH1ffc0kwx78gWX1+2/i8Mdlk4UQQutftoKpTgTRRKoNERn9QVW5OyXt1/d\nQ1xx5xqmmlvD7LYES86YkHClwJ43UD93iRak5LR7hV8x+yE8qRRDD23TwV4nFju9\n6l6vOMUDhFEwcSPQnzDZ0PNXbsciiCppVua/SXzNGVV5osbRuRq+hKaBRivgMChu\n3NNqlwC1bGHUqHPghjzhIJO+/90niFopF0w8AumbRs948q5o7Rq/WjgV0AqP4xL6\n+GSEyzv8xebQZUeQy1HjcBmdihNVc3CZSwxzMCRLQSOKhDS/xaA=\n=LXFQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4835979be7e12e3f0b80fd337bd94da5a08a6539",
          "sha": "4835979be7e12e3f0b80fd337bd94da5a08a6539",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4835979be7e12e3f0b80fd337bd94da5a08a6539"
        }
      ],
      "message": "refactor: add coinbase constraints to BlockAssembler::Options\n\nWhen generating a block template through e.g. getblocktemplate RPC,\nwe reserve 4000 weight units and 400 sigops. Pools use this space\nfor their coinbase outputs.\n\nAt least one pool patched their Bitcoin Core node to adjust\nthese hardcoded values. They eventually produced an invalid\nblock which exceeded the sigops limit.\nhttps://bitcoin.stackexchange.com/questions/117837/how-many-sigops-are-in-the-invalid-block-783426\n\nThe existince of such patches suggests it may be useful to\nmake this value configurable. This commit would make such a\nchange easier.\n\nThe main motivation however is that the Stratum v2 spec\nrequires the pool to communicate the maximum bytes they intend\nto add to the coinbase outputs. A proposed change to the spec\nwould also require them to communicate the maximum number of sigops.\n\nThis commit adds both to BlockAssembler::Options. The default\nis the same as the previously hardcode values.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-04T06:30:57Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-28T08:09:09Z"
      },
      "sha": "d3eb06a6287c1bda3cc901928aa2a3986b7f515b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA3NjNiNmQ0YzFkZjFhN2Q3ZTMwNDVhNDhhNWE4ODllYzgxMzZmNmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0763b6d4c1df1a7d7e3045a48a5a889ec8136f6b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0763b6d4c1df1a7d7e3045a48a5a889ec8136f6b",
      "tree": {
        "sha": "b131dbbe04940cccbed40546cdcf5af40ce88766",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b131dbbe04940cccbed40546cdcf5af40ce88766"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b131dbbe04940cccbed40546cdcf5af40ce88766\nparent d3eb06a6287c1bda3cc901928aa2a3986b7f515b\nauthor Sjors Provoost <sjors@sprovoost.nl> 1718720678 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1720074660 +0200\n\nAdd util/mining.h for default coinbase constraints\n\nThese defaults are needed by the Mining interface in the next commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaGQaQACgkQV/+b28ww\nEAn4Tw/+KYqBg4S80yJukfnIjq0rKNMNil5/jRtYNtOj7SAFnTkYvJPvEOnB3O12\neLpFVpFzHyg5riU6YE/zGc4nMeMBH6ZqXQ/OfVP2by8JpIyYI2GlOSpjPGVxM6fB\nJCsRW9ae3N4fFRQnbbv0YS47NzYD0uBcq4yoVYgdMZJ5YfMZtqxMtCXXCPUq/3k/\nzOf9wvNjQ2ZNWMygN4QAoyjODKmMhJxEkyrrW5Y7slyox20xsf4FIymSiXVqW6X9\n1RctrsQKcPlfixenbzcy1ZtGhMC6ytGbEPBrfQpVaK1E2JZjmTa2JneyhLAH8N8y\nWRHormyQrrX1qJ1NPXvgxDw4to5uv4HRweoEfC7cU+3i+3Gq8kyUwfdG16CBgRZ2\nfvfQDLKikcqQ4zKi9ejNySaeTsKjCitAp+JSUs0upFZjJlVBcBzHhtItJ+CywktS\nE6yDbm1rlueO8Jqa7s1M3zVJSf2zOTGGoQrX+O3YVZsH4OjciVn9eeOzuN41OA8U\nyziclcWwh+3m7EbUwDY5kb3GRO02Rp1YyjtIs9fBN8+QoPPFZZ54q18Tpm4MhmRr\nLLcCJKEuMXR7si/CYYINum/GAJxAG6gWH38Zo5D9uoVO0eqK47vdhtNGfvTaz4WT\n4eQW8qUdEvFq333l51UpBgxhvgz6+Lqgzt2FIE/b+u31D7hyamQ=\n=ehBx\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d3eb06a6287c1bda3cc901928aa2a3986b7f515b",
          "sha": "d3eb06a6287c1bda3cc901928aa2a3986b7f515b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d3eb06a6287c1bda3cc901928aa2a3986b7f515b"
        }
      ],
      "message": "Add util/mining.h for default coinbase constraints\n\nThese defaults are needed by the Mining interface in the next commit.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-04T06:31:00Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T14:24:38Z"
      },
      "sha": "0763b6d4c1df1a7d7e3045a48a5a889ec8136f6b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ4OTYzN2VjZWFiMDE0NWE2NGMyZDFhZjExMzlhY2UyMDRhM2FiM2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "tree": {
        "sha": "422aaa0b321c8bf2718494e58fc766b3ab7e82ca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/422aaa0b321c8bf2718494e58fc766b3ab7e82ca"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 422aaa0b321c8bf2718494e58fc766b3ab7e82ca\nparent 0763b6d4c1df1a7d7e3045a48a5a889ec8136f6b\nauthor Sjors Provoost <sjors@sprovoost.nl> 1719562432 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1720074660 +0200\n\nPass coinbase constraints to createNewBlock\n\nExisting callers of createNewBlock use the defaults,\nso this commit does not change behavior and the\nAssume(s) won't be false.\n\nThis commit also documents what happens when\n-blockmaxweight is lower than the coinbase\nreserved value.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaGQaQACgkQV/+b28ww\nEAnFwxAAwV/Uc4lXFLfOD0GGLZNIDCGoFVBYgGQrvLozHlQxsJ5vWx19jE1xX+Oi\nlHJ+xIIdrhjiveo6N9O6fJgyDZ0sanjuJj/rC0frWfp+Y83xZv29IBy2g7MoZVMU\nb8uXyR5OYLsoj1x4QUM21P+MtPqtjSQY7ShfaWhynoGEEZHD+mhHKQ4KPoSSvIzZ\n09u/k/3gXSQWIRHsHGVKhPwgJx64FdF97bkN9ZPgzHN6uMATKnM176f+t2eSZEmr\nqjr+f3Q2eMxJnL7CxXDYsDvgNF2xUjWYcPEJHPeXP7TN+v/DcLeX7cBaZq5MrXgo\npu4K/RyTAGYxkM2C9XA0HXUQKe6k6y4iWHDTUPXN/8+y8J505gEMEnGS8usOHQ+R\nMJduwFEJHugPEdoSREp3MdpU2OTa6NS2qIzknEzY3Gg/JadfGx0gvVVJdF3w7LGl\nswhYRowqrKdC4m0n3afk7RGdy5g1svL1Uju0fOEGIgp0Zr354x3QnM8CesUfAwsI\ntRMgwV6BBAxC5nWh2/lNQoP6fKNcAuiaM5ye+tjHq4H76uEysMpCgNQCSRGyhN00\nlrOhmpLxRa7uJ2EdSdJKbHBs8O1WLfMrs08RHNsDIeJkKmsihHKF5880VZ6+7PRZ\npTFB3KWG7BUKRvVuM2vdL68B0rWZKdwZxSWI/sXGDYbXE89mD+k=\n=5fNW\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0763b6d4c1df1a7d7e3045a48a5a889ec8136f6b",
          "sha": "0763b6d4c1df1a7d7e3045a48a5a889ec8136f6b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0763b6d4c1df1a7d7e3045a48a5a889ec8136f6b"
        }
      ],
      "message": "Pass coinbase constraints to createNewBlock\n\nExisting callers of createNewBlock use the defaults,\nso this commit does not change behavior and the\nAssume(s) won't be false.\n\nThis commit also documents what happens when\n-blockmaxweight is lower than the coinbase\nreserved value.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-04T06:31:00Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-28T08:13:52Z"
      },
      "sha": "d89637eceab0145a64c2d1af1139ace204a3ab3c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13390001428,
      "node_id": "HRFPE_lADOABII586N2u5qzwAAAAMeGzUU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13390001428",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T06:35:43Z"
    },
    {
      "event": "commented",
      "id": 2208225151,
      "node_id": "IC_kwDOABII586Dntd_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2208225151",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T06:36:04Z",
      "updated_at": "2024-07-04T06:36:04Z",
      "author_association": "MEMBER",
      "body": "Rebased after #30324.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2208225151",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    },
    {
      "event": "commented",
      "id": 2208252561,
      "node_id": "IC_kwDOABII586Dn0KR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2208252561",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T06:57:34Z",
      "updated_at": "2024-07-04T06:57:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Is there a reason why\r\n```\r\nBlockAssembler::Options options;\r\nApplyArgsManOptions(gArgs, options);\r\n```\r\nhas to be inside the block assembler class? Why not construct them externally and pass a reference of the options to the `BlockAssembler`? This seems a bit more efficient, since the options don't have to be constructed and the arguments not read every time a template is retrieved.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2208252561",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    },
    {
      "event": "unlabeled",
      "id": 13390274883,
      "node_id": "UNLE_lADOABII586N2u5qzwAAAAMeH2FD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13390274883",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T07:03:56Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2208349301,
      "node_id": "IC_kwDOABII586DoLx1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2208349301",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T07:59:10Z",
      "updated_at": "2024-07-04T07:59:10Z",
      "author_association": "MEMBER",
      "body": "cc @glozow who added this as part of #26695.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2208349301",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    },
    {
      "event": "mentioned",
      "id": 13390912505,
      "node_id": "MEE_lADOABII586N2u5qzwAAAAMeKRv5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13390912505",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T07:59:11Z"
    },
    {
      "event": "subscribed",
      "id": 13390912525,
      "node_id": "SE_lADOABII586N2u5qzwAAAAMeKRwN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13390912525",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T07:59:12Z"
    },
    {
      "event": "commented",
      "id": 2208382368,
      "node_id": "IC_kwDOABII586DoT2g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2208382368",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-04T08:17:31Z",
      "updated_at": "2024-07-04T08:17:31Z",
      "author_association": "MEMBER",
      "body": "> Is there a reason why\r\n> \r\n> ```\r\n> BlockAssembler::Options options;\r\n> ApplyArgsManOptions(gArgs, options);\r\n> ```\r\n> \r\n> has to be inside the block assembler class?\r\n\r\nIt doesn't need to be inside `BlockAssembler`. Prior to #26695, the ctor was using the global `gArgs` to decide on parameters (yuck!). We didn't have the node/*args kernel/*opts conventions at the time and I was pretty happy adding an `ApplyArgsMan` that didn't do that.\r\n\r\n> Why not construct them externally and pass a reference of the options to the `BlockAssembler`?\r\n\r\nThat sounds fine.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#issuecomment-2208382368",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30356"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1659263337",
      "pull_request_review_id": 2148873843,
      "id": 1659263337,
      "node_id": "PRRC_kwDOABII585i5llp",
      "diff_hunk": "@@ -42,9 +43,13 @@ class Mining\n      *\n      * @param[in] script_pub_key the coinbase output\n      * @param[in] use_mempool set false to omit mempool transactions\n+     * @param[in] coinbase_output_max_additional_size maximum additional serialized bytes which the pool will add in coinbase transaction outputs",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 12,
      "commit_id": "d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "original_commit_id": "4c57f2707e00bbfd2e2d2a6d3e05ea0bbb0609cd",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:  Is it comprehensive using the term \"pool\" here, or would it be better to keep things generic (and perhaps mention a pool as an example)?  This is reserving space in the template for the coinbase and the entity requesting the template could be a pool or a solo miner (albeit less commonly), right?  Maybe something like `maximum additional serialized bytes the block requestor can add in coinbase transaction outputs (for example, to enable pool payouts)`.\r\n\r\nnit:  weight and bytes seem to be used interchangeably here and in the function definition.  It might prevent confusion to stick to one nomenclature.",
      "created_at": "2024-06-28T20:04:30Z",
      "updated_at": "2024-06-28T21:15:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#discussion_r1659263337",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1659263337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660679371",
      "pull_request_review_id": 2150769727,
      "id": 1660679371,
      "node_id": "PRRC_kwDOABII585i-_TL",
      "diff_hunk": "@@ -42,9 +43,13 @@ class Mining\n      *\n      * @param[in] script_pub_key the coinbase output\n      * @param[in] use_mempool set false to omit mempool transactions\n+     * @param[in] coinbase_output_max_additional_size maximum additional serialized bytes which the pool will add in coinbase transaction outputs",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 12,
      "commit_id": "d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "original_commit_id": "4c57f2707e00bbfd2e2d2a6d3e05ea0bbb0609cd",
      "in_reply_to_id": 1659263337,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree something like \"block requestor\" is more generic than \"pool\", but also more confusing.\r\n\r\n> weight and bytes seem to be used interchangeably here and in the function definition\r\n\r\nThese bytes all go in the output which doesn't have a witness discount, so each byte counts as 4 weight units. I think we should prefer the term \"bytes\", but make sure it's used correctly since we use weight units for internal accounting.",
      "created_at": "2024-07-01T08:36:09Z",
      "updated_at": "2024-07-01T08:36:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#discussion_r1660679371",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660679371"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660681030",
      "pull_request_review_id": 2150772443,
      "id": 1660681030,
      "node_id": "PRRC_kwDOABII585i-_tG",
      "diff_hunk": "@@ -883,11 +883,24 @@ class MinerImpl : public Mining\n         return TestBlockValidity(state, chainman().GetParams(), chainman().ActiveChainstate(), block, tip, /*fCheckPOW=*/false, check_merkle_root);\n     }\n \n-    std::unique_ptr<CBlockTemplate> createNewBlock(const CScript& script_pub_key, bool use_mempool) override\n+    std::unique_ptr<CBlockTemplate> createNewBlock(const CScript& script_pub_key, bool use_mempool,\n+                                                   size_t coinbase_output_max_additional_size,\n+                                                   size_t coinbase_output_max_additional_sigops) override\n     {\n         BlockAssembler::Options options;\n         ApplyArgsManOptions(gArgs, options);\n \n+        Assume(coinbase_output_max_additional_size <= DEFAULT_BLOCK_MAX_WEIGHT);",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "original_commit_id": "4c57f2707e00bbfd2e2d2a6d3e05ea0bbb0609cd",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This probably needs to be `DEFAULT_BLOCK_MAX_WEIGHT / 4`, let me check the spec as well...",
      "created_at": "2024-07-01T08:37:23Z",
      "updated_at": "2024-07-01T08:37:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#discussion_r1660681030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660681030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 893,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660691098",
      "pull_request_review_id": 2150788974,
      "id": 1660691098,
      "node_id": "PRRC_kwDOABII585i_CKa",
      "diff_hunk": "@@ -42,9 +43,13 @@ class Mining\n      *\n      * @param[in] script_pub_key the coinbase output\n      * @param[in] use_mempool set false to omit mempool transactions\n+     * @param[in] coinbase_output_max_additional_size maximum additional serialized bytes which the pool will add in coinbase transaction outputs",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 12,
      "commit_id": "d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "original_commit_id": "4c57f2707e00bbfd2e2d2a6d3e05ea0bbb0609cd",
      "in_reply_to_id": 1659263337,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See also: https://github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#71-coinbaseoutputdatasize-client---server\r\n\r\nWhich has a few more hairy details:\r\n\r\n> The Template Provider MUST NOT provide NewMiningJob messages which would represent consensus-invalid blocks once this additional size â€” **along with a maximally-sized (100 byte) coinbase field** â€” is added. Further, the Template Provider MUST consider the maximum additional bytes required in the **output count variable-length integer** in the coinbase transaction when complying with the size limits.",
      "created_at": "2024-07-01T08:45:03Z",
      "updated_at": "2024-07-01T08:48:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#discussion_r1660691098",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660691098"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660833557",
      "pull_request_review_id": 2151020955,
      "id": 1660833557,
      "node_id": "PRRC_kwDOABII585i_k8V",
      "diff_hunk": "@@ -42,9 +43,13 @@ class Mining\n      *\n      * @param[in] script_pub_key the coinbase output\n      * @param[in] use_mempool set false to omit mempool transactions\n+     * @param[in] coinbase_output_max_additional_size maximum additional serialized bytes which the pool will add in coinbase transaction outputs",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 12,
      "commit_id": "d89637eceab0145a64c2d1af1139ace204a3ab3c",
      "original_commit_id": "4c57f2707e00bbfd2e2d2a6d3e05ea0bbb0609cd",
      "in_reply_to_id": 1659263337,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I ended up renaming `coinbase_output_max_additional_size` to `coinbase_max_additional_weight` to account for these issues, see below.",
      "created_at": "2024-07-01T10:31:57Z",
      "updated_at": "2024-07-01T10:31:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30356#discussion_r1660833557",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660833557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30356"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    }
  ]
}