{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
    "id": 947611928,
    "node_id": "PR_kwDOABII5844e2kY",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25218",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25218.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25218.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/111ea3ab711414236f8678566a7884d48619b2d8",
    "number": 25218,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "refactor: introduce generic 'Result' class and connect it to CreateTransaction and GetNewDestination",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Based on a common function signature pattern that we have all around the sources:\r\n```cpp\r\nbool doSomething(arg1, arg2, arg3, arg4, &result_obj, &error_string) {\r\n    // do something...\r\n    if (error) {\r\n        error_string = \"something bad happened\";\r\n        return false;\r\n    }\r\n\r\n    result = goodResult;\r\n    return true;\r\n}\r\n```\r\n\r\nIntroduced a generic class `BResult` that encapsulate the function boolean result, the result object (in case of having it) and, in case of failure, the string error reason.\r\n\r\nObtaining in this way cleaner function signatures and removing boilerplate code:\r\n\r\n```cpp\r\nBResult<Obj> doSomething(arg1, arg2, arg3, arg4) {\r\n    // do something...\r\n    if (error) return \"something bad happened\";\r\n\r\n    return goodResult;\r\n}\r\n```\r\n\r\nSame cleanup applies equally to the function callers' side as well. There is no longer need to add the error string and the result object declarations before calling the function:\r\n\r\nBefore:\r\n```cpp\r\nObj result_obj;\r\nstd::string error_string;\r\nif (!doSomething(arg1, arg2, arg3, arg4, result_obj, error_string)) {\r\n    LogPrintf(\"Error: %s\", error_string);\r\n}\r\nreturn result_obj;\r\n```\r\n\r\nNow:\r\n```cpp\r\nBResult<Obj> op_res = doSomething(arg1, arg2, arg3, arg4);\r\nif (!op_res) {\r\n    LogPrintf(\"Error: %s\", op_res.GetError());\r\n}\r\nreturn op_res.GetObjResult();\r\n```\r\n\r\n### Initial Implementation:\r\n\r\nHave connected this new concept to two different flows for now:\r\n\r\n1) The `CreateTransaction` flow. --> 7ba2b87c\r\n2) The `GetNewDestination` flow. --> bcee0912\r\n\r\nHappy note: even when introduced a new class into the sources, the amount of lines removed is almost equal to added ones :).\r\n\r\nExtra note: this work is an extended version (and a decoupling) of the work that is inside #24845 (which does not contain the `GetNewDestination` changes nor the inclusion of the `FeeCalculation` field inside `CreatedTransactionResult`).",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2022-05-25T22:17:56Z",
    "updated_at": "2023-05-27T01:51:02Z",
    "closed_at": "2022-07-12T11:58:05Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-07-12T11:58:05Z",
    "merge_commit_sha": "316afb1eca47fe179584bd2d8ae400f9aff474d4",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "furszy:2022_generic_result",
      "ref": "2022_generic_result",
      "sha": "111ea3ab711414236f8678566a7884d48619b2d8",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 380408,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-08T20:44:32Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2023-02-27T18:01:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "b9f9ed4640f8064a0606755cd1f16ad5dbb0ee06",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69856,
        "watchers_count": 69856,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-09T10:08:42Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T11:33:55Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 201,
    "deletions": 193,
    "changed_files": 21,
    "commits": 4,
    "review_comments": 50,
    "comments": 33
  },
  "events": [
    {
      "event": "renamed",
      "id": 6681477387,
      "node_id": "RTE_lADOABII585Kb0S_zwAAAAGOP0EL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6681477387",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-25T22:18:07Z",
      "rename": {
        "from": "wallet: introduce generic 'Result' classes and connect it to `CreateTransaction` and `GetNewDestination`",
        "to": "wallet: introduce generic 'Result' classes and connect it to CreateTransaction and GetNewDestination"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6681580047,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGOQNIP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6681580047",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-25T22:32:54Z"
    },
    {
      "event": "labeled",
      "id": 6681662170,
      "node_id": "LE_lADOABII585Kb0S_zwAAAAGOQhLa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6681662170",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-25T22:53:12Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "renamed",
      "id": 6682062099,
      "node_id": "RTE_lADOABII585Kb0S_zwAAAAGOSC0T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6682062099",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-26T00:20:50Z",
      "rename": {
        "from": "wallet: introduce generic 'Result' classes and connect it to CreateTransaction and GetNewDestination",
        "to": "refactor: introduce generic 'Result' classes and connect it to CreateTransaction and GetNewDestination"
      }
    },
    {
      "event": "commented",
      "id": 1138021445,
      "node_id": "IC_kwDOABII585D1NRF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138021445",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-26T00:46:49Z",
      "updated_at": "2022-05-26T00:46:49Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1138021445",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1138321489,
      "node_id": "IC_kwDOABII585D2WhR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138321489",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-26T09:02:32Z",
      "updated_at": "2022-07-11T21:25:16Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25526](https://github.com/bitcoin/bitcoin/pull/25526) (wallet: avoid double keypool TopUp() calls on descriptor wallets by furszy)\n* [#25297](https://github.com/bitcoin/bitcoin/pull/25297) (WIP, wallet: speedup transactions sync, rescan and load not flushing to db constantly by furszy)\n* [#25273](https://github.com/bitcoin/bitcoin/pull/25273) (wallet: Pass through transaction locktime and preset input sequences and scripts to CreateTransaction by achow101)\n* [#25269](https://github.com/bitcoin/bitcoin/pull/25269) (wallet: re-activate the not triggered  \"AmountWithFeeExceedsBalance\" error by furszy)\n* [#25234](https://github.com/bitcoin/bitcoin/pull/25234) (bench: add benchmark for wallet 'AvailableCoins' function. by furszy)\n* [#24897](https://github.com/bitcoin/bitcoin/pull/24897) ([Draft / POC] Silent Payments by w0xlt)\n* [#23444](https://github.com/bitcoin/bitcoin/pull/23444) (fuzz: Add regression test for wallet crash by MarcoFalke)\n* [#19602](https://github.com/bitcoin/bitcoin/pull/19602) (wallet: Migrate legacy wallets to descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1138321489",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "labeled",
      "id": 6688024817,
      "node_id": "LE_lADOABII585Kb0S_zwAAAAGOoyjx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6688024817",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-26T19:48:43Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6692409432,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGO5hBY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6692409432",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-27T12:57:21Z"
    },
    {
      "event": "commented",
      "id": 1139594490,
      "node_id": "IC_kwDOABII585D7NT6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139594490",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-27T12:57:43Z",
      "updated_at": "2022-05-27T12:57:43Z",
      "author_association": "MEMBER",
      "body": "rebased, conflicts solved.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1139594490",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6692568660,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGO6H5U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6692568660",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-27T13:23:28Z"
    },
    {
      "event": "unlabeled",
      "id": 6693027793,
      "node_id": "UNLE_lADOABII585Kb0S_zwAAAAGO73_R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6693027793",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-27T14:34:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "renamed",
      "id": 6697213612,
      "node_id": "RTE_lADOABII585Kb0S_zwAAAAGPL16s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6697213612",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-28T14:26:27Z",
      "rename": {
        "from": "refactor: introduce generic 'Result' classes and connect it to CreateTransaction and GetNewDestination",
        "to": "refactor: introduce generic 'Result' classes and connect them to CreateTransaction and GetNewDestination"
      }
    },
    {
      "event": "reviewed",
      "id": 1003406958,
      "node_id": "PRR_kwDOABII5847zsZu",
      "url": null,
      "actor": null,
      "commit_id": "043714cde94558469e0832f4643531063eb080fa",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1003406958",
      "submitted_at": "2022-06-11T01:07:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "commented",
      "id": 1158062263,
      "node_id": "IC_kwDOABII585FBqC3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158062263",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T19:37:15Z",
      "updated_at": "2022-06-16T19:37:15Z",
      "author_association": "MEMBER",
      "body": "This basically seems like a good design.\r\n\r\nIn the simple case, you call a function and it can either succeed or fail, and if it fails it will provide an error string. In this case, the function returns `OperationResult` which contains the information packaged up in a standard format.\r\n\r\nIn the slightly more complicated case, the function has a return value. Maybe it's an informational return value, or maybe it's a return value with details about errors if the caller needs to handle different errors in different ways. Either way, `CallResult<T>` can package up the result type with the error string, and return the information a standard format.\r\n\r\nSome design questions / things I'm not sure about:\r\n\r\n- Can `OperationResult` `bool m_res` member be dropped? It seems like just having a single `std::optional<bilingual_str> m_error` member without the `bool` would provide a more minimal and unambiguous version of that class. Treating nullopt case as success, and non-nullopt case as error would avoid the need for the `bool`.\r\n\r\n- Maybe `OperationResult` type should be replaced with `CallResult<void>`, just have one result class instead of two classes\r\n\r\n- Maybe result classes should provide a standard way to chain errors. If some inner function returns an error string, the caller might want to add its own error string placing the error in context. I think we also have some wallet code that returns lists of warnings and lists of errors, so it's not clear if this result classes here would want to expand to handle this kind of thing, or they should just focus on simple cases.\r\n\r\nNo need to resolve these questions to merge the PR, I think. Can add result classes now, and experiment with using them, and add/remove features as needed.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158062263",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "labeled",
      "id": 6823602619,
      "node_id": "LE_lADOABII585Kb0S_zwAAAAGWt-m7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6823602619",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T19:42:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1158182313,
      "node_id": "IC_kwDOABII585FCHWp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158182313",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T22:10:33Z",
      "updated_at": "2022-06-16T22:10:33Z",
      "author_association": "MEMBER",
      "body": "Concept ACK. I like this rust-inspired idea.\r\nOne additional idea might be to parametrize Result on both the result and error type (in case it is not always a string). ",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158182313",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1158539008,
      "node_id": "IC_kwDOABII585FDecA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158539008",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-17T06:30:14Z",
      "updated_at": "2022-06-17T06:30:14Z",
      "author_association": "MEMBER",
      "body": "I also wonder why this needs three members and 6 constructors. Can this be implemented in less code by just using a `std::variant` with two types?\r\n\r\n\r\nGoing to the extreme, with just two lines of code:\r\n\r\n```cpp\r\ntemplate <typename Obj, typename Err>\r\nusing CallResult = std::variant<Obj, Err>;",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158539008",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "referenced",
      "id": 6831694479,
      "node_id": "REFE_lADOABII585Kb0S_zwAAAAGXM2KP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6831694479",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8be652e43964329c1f2dadd676916b53e5c40974",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8be652e43964329c1f2dadd676916b53e5c40974",
      "created_at": "2022-06-17T22:03:05Z"
    },
    {
      "event": "unlabeled",
      "id": 6841790308,
      "node_id": "UNLE_lADOABII585Kb0S_zwAAAAGXzW9k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6841790308",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-20T19:53:32Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "closed",
      "id": 6844207953,
      "node_id": "CE_lADOABII585Kb0S_zwAAAAGX8lNR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6844207953",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T05:26:11Z"
    },
    {
      "event": "reopened",
      "id": 6844208163,
      "node_id": "REE_lADOABII585Kb0S_zwAAAAGX8lQj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6844208163",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T05:26:15Z"
    },
    {
      "event": "commented",
      "id": 1161282532,
      "node_id": "IC_kwDOABII585FN8Pk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161282532",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T05:29:11Z",
      "updated_at": "2022-06-21T05:29:11Z",
      "author_association": "MEMBER",
      "body": "Not sure what is wrong with GitHub. This absolutely has a merge conflict, but it is not detected by GitHub.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161282532",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1161283606,
      "node_id": "IC_kwDOABII585FN8gW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161283606",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T05:31:02Z",
      "updated_at": "2022-06-21T05:31:02Z",
      "author_association": "MEMBER",
      "body": "Closing for now due to the GitHub bug. You can open a new pull after you rebased it, or ask us to reopen this one.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161283606",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "closed",
      "id": 6844226148,
      "node_id": "CE_lADOABII585Kb0S_zwAAAAGX8ppk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6844226148",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T05:31:03Z"
    },
    {
      "event": "commented",
      "id": 1161693314,
      "node_id": "IC_kwDOABII585FPgiC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161693314",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T12:38:40Z",
      "updated_at": "2022-06-21T12:38:40Z",
      "author_association": "MEMBER",
      "body": "hmm, @MarcoFalke I just rebased it locally and didn't have any merge conflict.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161693314",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "mentioned",
      "id": 6847074005,
      "node_id": "MEE_lADOABII585Kb0S_zwAAAAGYHg7V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6847074005",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T12:38:40Z"
    },
    {
      "event": "subscribed",
      "id": 6847074020,
      "node_id": "SE_lADOABII585Kb0S_zwAAAAGYHg7k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6847074020",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T12:38:40Z"
    },
    {
      "event": "commented",
      "id": 1161707416,
      "node_id": "IC_kwDOABII585FPj-Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161707416",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T12:52:13Z",
      "updated_at": "2022-06-21T12:52:13Z",
      "author_association": "MEMBER",
      "body": "It probably depends on the version of git, as they regularly change the merge algorithm.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161707416",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "reopened",
      "id": 6847202588,
      "node_id": "REE_lADOABII585Kb0S_zwAAAAGYIAUc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6847202588",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T12:55:14Z"
    },
    {
      "event": "labeled",
      "id": 6847205124,
      "node_id": "LE_lADOABII585Kb0S_zwAAAAGYIA8E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6847205124",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T12:55:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1161712996,
      "node_id": "IC_kwDOABII585FPlVk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161712996",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T12:57:45Z",
      "updated_at": "2022-06-21T12:57:45Z",
      "author_association": "MEMBER",
      "body": "k np, thanks for re-opening it.\r\nI actually have been working on your `std::variant` comment the past days (great point), wanted to finish wrapping up the idea properly before rebase this branch.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161712996",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6847264086,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGYIPVW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6847264086",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T13:02:53Z"
    },
    {
      "event": "commented",
      "id": 1161843649,
      "node_id": "IC_kwDOABII585FQFPB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161843649",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T14:43:50Z",
      "updated_at": "2022-06-21T14:43:50Z",
      "author_association": "MEMBER",
      "body": "FWIW, I do not think the std::variant / rust comments are a good idea. I see the main benefit of this PR *not* as providing a way of returning structured results and errors, but as a way of returning displayable and loggable error strings in a convenient way, and a way of replacing ad-hoc `bilingual_str& error` and `std::vector<bilingual_str>& warnings` output parameters with a more consistent and streamlined return mechanism.\r\n\r\nI don't think it is a good idea for the internal `bilingual_str` error type to be customizable, or for it to be directly exposed to callers. I think the internal `bilingual_str` error field that is private and has convenient constructors and accessors in 9ba14ec845a364396b2a364c02dd17043bf5a678 is a good starting design. In the future, the internal type could become more complex if we decide to add support for chaining errors, or passing warnings along with errors.\r\n\r\nRust-style `std::variant` style result types that allow returning different success and error states with data attached are great, but they are already compatible with this PR in its current form. If you want a `std::variant` return type, you can use `CallResult<std::variant<...>>`. There should be no need or benefit to making `CallResult` into a `std::variant`",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161843649",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "unlabeled",
      "id": 6848225608,
      "node_id": "UNLE_lADOABII585Kb0S_zwAAAAGYL6FI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6848225608",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T14:52:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1161857704,
      "node_id": "IC_kwDOABII585FQIqo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161857704",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T14:55:45Z",
      "updated_at": "2022-06-21T14:55:45Z",
      "author_association": "MEMBER",
      "body": "> don't think it is a good idea for the internal bilingual_str error type to be customizable, or for it to be directly exposed to callers. I think the internal bilingual_str error field that is private and has convenient constructors and accessors in https://github.com/bitcoin/bitcoin/commit/9ba14ec845a364396b2a364c02dd17043bf5a678 is a good starting design. In the future, the internal type could become more complex if we decide to add support for chaining errors, or passing warnings along with errors.\r\n\r\nHow would you achieve this without providing the option to `<template>` on the error type. Currently in code, some places use an error string only, some use error+warnings. If the class here only accommodates one type, it can not be used in the other place.\r\n\r\n> Rust-style std::variant style result types that allow returning different success and error states with data attached are great, but they are already compatible with this PR in its current form. If you want a std::variant return type, you can use CallResult<std::variant<...>>. There should be no need or benefit to making CallResult into a std::variant\r\n\r\nNot sure how this would work if I wanted to write a method that calculates the sum, unless it is not possible, in which case it should provide the reason.\r\n\r\nCurrently I could write:\r\n\r\n```cpp\r\nenum class ArithError{ OVERFLOW, UNDERFLOW};\r\nstd::variant<int, ArithErr> sum(int, int);\r\n```\r\n\r\nHowever, the downside is that the calling code would need to unwrap the variant verbosely.\r\n\r\nI don't see how\r\n\r\n```cpp\r\nCallResult<std::variant<int,ArithErr>> sum(int,int);\r\n```\r\n\r\nmakes any sense for the caller",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161857704",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1161910489,
      "node_id": "IC_kwDOABII585FQVjZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161910489",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T15:23:13Z",
      "updated_at": "2022-06-21T15:23:13Z",
      "author_association": "MEMBER",
      "body": "I don't think this result class is helpful (or hurtful) for low level level functions that compute sums and need to return structured result data to callers. I think this result class is more useful for high level functions that load wallets and create transactions and refill keypools and need to return human readable results and diagnostics to end-users.\r\n\r\n> > In the future, the internal type could become more complex if we decide to add support for chaining errors, or passing warnings along with errors.\r\n> \r\n> How would you achieve this without providing the option to `<template>` on the error type. Currently in code, some places use an error string only, some use error+warnings. If the class here only accommodates one type, it can not be used in the other place.\r\n\r\nThe type can change in the future and the API can degrade gracefully. Version 1 of this class in this PR just lets function return simple error strings and lets callers display or log them or use them in RPC results. Version 2 of this class in a future PR might add support for multiple errors or chained errors. Callers of version 2 result class could update their code to handle multiple errors in separate strings, or they could continue asking for a single error and get multiple errors in a single string. Version 3 of this class in a future-future PR might add support for warnings. Callers of version 3 result class could ask for the warning separately, or they could keep just asking for errors, and get the warnings returned as errors.\r\n\r\nThe class just gets rid of `bilingual_str& error` output parameters for now, but can grow and become more full featured in the future.\r\n\r\n> > Rust-style std::variant style result types that allow returning different success and error states with data attached are great, but they are already compatible with this PR in its current form. If you want a std::variant return type, you can use CallResult<std::variant<...>>. There should be no need or benefit to making CallResult into a std::variant\r\n> \r\n> Not sure how this would work if I wanted to write a method that calculates the sum, unless it is not possible, in which case it should provide the reason.\r\n\r\nI don't think you would use this result class in a method that calculates a sum, unless you want that method to return loggable and displayable error strings as well as sums.\r\n\r\n> Currently I could write:\r\n> \r\n> ```c++\r\n> enum class ArithError{ OVERFLOW, UNDERFLOW};\r\n> std::variant<int, ArithErr> sum(int, int);\r\n> ```\r\n> \r\n> However, the downside is that the calling code would need to unwrap the variant verbosely.\r\n\r\nRight. I don't think think there will be a good solution to verbosity until pattern matching features are added to c++. I just think this is orthogonal to anything in this PR. It is certainly orthogonal to anything in 9ba14ec845a364396b2a364c02dd17043bf5a678. If you want your sum function to return overflow/underflow/int, std::variant is your best bet probably, and I don't think this PR or another PR is going to give you something better.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161910489",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1161924519,
      "node_id": "IC_kwDOABII585FQY-n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161924519",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T15:35:17Z",
      "updated_at": "2022-06-21T15:35:17Z",
      "author_association": "MEMBER",
      "body": "> I don't think this PR or another PR is going to give you something better.\r\n\r\nI'd guess that pattern matching (or emulating it verbosely) might be overkill to handle two cases. Though, if this is ever needed, it can be implemented in the future and this pull can be used as-is for now.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161924519",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1161936770,
      "node_id": "IC_kwDOABII585FQb-C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161936770",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T15:46:11Z",
      "updated_at": "2022-06-21T15:46:11Z",
      "author_association": "MEMBER",
      "body": "There might be some tricks that give a limited form of pattern matching. For example could replace enum in previous example with:\r\n\r\n```c++\r\nstruct OverflowError {};\r\nstruct UnderflowError {};\r\nstd::variant<int, OverflowError, UnderflowError> sum(int, int);\r\n```\r\n\r\nand use [`std::visit` + `util::Overloaded`lambdas trick](https://github.com/bitcoin/bitcoin/blob/34869114a72435b9d8364385abaefed70d703fa8/src/wallet/transaction.h#L89-L95) to handle the different cases.\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161936770",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1161952420,
      "node_id": "IC_kwDOABII585FQfyk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161952420",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T15:59:44Z",
      "updated_at": "2022-06-21T15:59:44Z",
      "author_association": "MEMBER",
      "body": "Yeah, but that's ugly because the lambdas must have the same return type",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161952420",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1161975272,
      "node_id": "IC_kwDOABII585FQlXo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161975272",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T16:20:42Z",
      "updated_at": "2022-06-21T16:21:17Z",
      "author_association": "MEMBER",
      "body": "> Yeah, but that's ugly because the lambdas must have the same return type\r\n\r\nYes probably the lambdas would return void and just execute code and modify local variables, like a `switch` statement. But like you said this is overkill for two cases. `std::variant` would be useful when there are more cases that need to be handled in many different ways.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161975272",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1165820370,
      "node_id": "IC_kwDOABII585FfQHS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165820370",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T18:17:39Z",
      "updated_at": "2022-06-24T18:25:35Z",
      "author_association": "MEMBER",
      "body": "A bit late but here.\r\n\r\n> and use [std::visit + util::Overloadedlambdas trick](https://github.com/bitcoin/bitcoin/blob/34869114a72435b9d8364385abaefed70d703fa8/src/wallet/transaction.h#L89-L95) to handle the different cases.\r\n\r\nI was actually experimenting with that (and few more things). Essentially, was making a generic wrapper class for std::variant to eliminate the extra verbosity that comes with it + adding the ability to catch, at compile-time, any not handled function outcome/s.\r\n\r\nBut.. haven't finished the experiment yet (been jumping across other findings).\r\n\r\nFrom my side, if you guys are happy with the current PR state, we could move forward with it. At the end, it cleans up a lot of boilerplate code, can easily be used in a lot of places right away, and encapsulates the result object mechanics into its own class (which, while the class interface is good, as ryanofsky said, it can be upgraded/changed in the future without any trouble).\r\nNote: decision will not stop me from continuing with the experiment.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1165820370",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1165846070,
      "node_id": "IC_kwDOABII585FfWY2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165846070",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T18:53:39Z",
      "updated_at": "2022-06-24T18:53:39Z",
      "author_association": "MEMBER",
      "body": "My main suggestions for improvement are here: https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158062263. I think  `bool m_res` member should be dropped and `m_error`member  being non-empty should be the only condition that determines whether the result is an error. Also just IMO but I think naming could be improved. I'd change `CallResult<T>` to `util::Result<T>` and `OperationResult` to `util::Result<void>`. I think a short name for the class is better so code is concise is and easy to read. Also I don't think when you are writing code you should need to think about vocabulary and whether a function that returns a value is considered an \"operation\" or an \"call\".",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1165846070",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1165894089,
      "node_id": "IC_kwDOABII585FfiHJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165894089",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T20:00:12Z",
      "updated_at": "2022-06-25T13:47:56Z",
      "author_association": "MEMBER",
      "body": "> My main suggestions for improvement are here: https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158062263. I think bool m_res member should be dropped and m_error member being non-empty should be the only condition that determines whether the result is an error.\r\n\r\nYeah ok  .\r\n\r\nWouldn't be bad to think further about the \"result code\" notion there (where any <=0 value means \"failed\") to not make the optional string value a requirement (depends on where the function that uses the `Result` class is located, layer's wise, we might don't want to involve strings in the result and just error codes so then the upper layers can translate the error accordantly to a more informational string). --> Note: and I'm not targeting to low-level arithmetic functions, I'm thinking about middleware functions that are called from different places and mean a slightly different thing depending from where they are called.\r\n\r\nBut.. I'm just thinking out loud.. this could be implemented in the future using a generic error type as well (if needed).\r\n\r\n> Also just IMO but I think naming could be improved. I'd change CallResult<T> to util::Result<T> and OperationResult to util::Result<void>. I think a short name for the class is better so code is concise is and easy to read. Also I don't think when you are writing code you should need to think about vocabulary and whether a function that returns a value is considered an \"operation\" or an \"call\".\r\n\r\nYeah agree, I didn't use the \"Result\" term before because it's being used in other places and didn't want to clash with them: `feebumper.h` has a `Result` enum and `nanobench.h` has a `Result` class.\r\nBut.. just saw that those are under different namespaces, so all good.\r\nStill, I personally don't like much having the `util::` namespace prefix at the beginning of every function signature.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1165894089",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6879551146,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGaDZ6q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6879551146",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-25T23:19:17Z"
    },
    {
      "event": "commented",
      "id": 1166387618,
      "node_id": "IC_kwDOABII585Fhami",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166387618",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-26T00:40:17Z",
      "updated_at": "2022-06-26T00:40:17Z",
      "author_association": "MEMBER",
      "body": "Based on all the great feedback, pushed the following changes:\r\n\r\n1. Removed the `OperationResult` class. It wasnt being used here (can be introduced in a follow-up PR when we connect it to some process).\r\n\r\n2. Internally, the result class now uses an `std::variant` instead of two optional values. This is mainly because the result object behaves as an OR operation, not as an AND (it contains one value or the other, not both).\r\n    Which let us gain the `std::variant` benefits without introducing the ugly `get_if` and `holds_alternative` by type, or by index, verbosity that comes with it. Quick example:\r\n\r\n    a) Using a plain `std::variant`:\r\n    ```c++\r\n    std::variant<CreatedTransactionResult, bilingual_str> result = createTx(arg1, arg2, arg3);\r\n    if (std::holds_alternative<bilingual_str>(result)) {\r\n        const auto& error = std::get<bilingual_str>(result);\r\n        // error out..\r\n    }\r\n    const auto& txr = std::get<CreatedTransactionResult>(result);\r\n    // continue doing something..\r\n    ```\r\n\r\n    b) Using the introduced `BResult` class:\r\n    ```c++\r\n    BResult<CreatedTransactionResult> result = createTx(arg1, arg2, arg3);\r\n    if (!result) {\r\n        const auto& error = result.GetError();\r\n        // error out..\r\n    }\r\n    const auto& txr = result.GetObj();\r\n    // continue doing something..\r\n    ```\r\n\r\n3. Renamed `CallResult` to `BResult`.\r\n    Some rationale for selecting this name and not the suggested `util::Result`:\r\n    \r\n    a) I think that defining it as Result alone will, sooner or later, cause issues with other library/module class. Its a pretty common name.\r\n    b) Function signatures readability wise, I dont think that declare it under the `util` namespace helps much. At least for me, the `util::` prefix usage in a return object looks odd.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166387618",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "reviewed",
      "id": 1019380937,
      "node_id": "PRR_kwDOABII5848woTJ",
      "url": null,
      "actor": null,
      "commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ack",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1019380937",
      "submitted_at": "2022-06-26T07:26:42Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "commented",
      "id": 1166443699,
      "node_id": "IC_kwDOABII585FhoSz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166443699",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-26T07:49:21Z",
      "updated_at": "2022-06-26T07:50:41Z",
      "author_association": "MEMBER",
      "body": "pull request description needs to be adjusted?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166443699",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "renamed",
      "id": 6880507023,
      "node_id": "RTE_lADOABII585Kb0S_zwAAAAGaHDSP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6880507023",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-26T14:52:56Z",
      "rename": {
        "from": "refactor: introduce generic 'Result' classes and connect them to CreateTransaction and GetNewDestination",
        "to": "refactor: introduce generic 'Result' class and connect it to CreateTransaction and GetNewDestination"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6880562354,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGaHQyy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6880562354",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-26T15:43:15Z"
    },
    {
      "event": "commented",
      "id": 1166570663,
      "node_id": "IC_kwDOABII585FiHSn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166570663",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-26T15:52:08Z",
      "updated_at": "2022-06-26T15:52:19Z",
      "author_association": "MEMBER",
      "body": "Thanks for the feedback Marco!\r\n\r\nPR description updated + applied the following changes:\r\n\r\n1) result.h file moved to util directory.\r\n2) Renamed `GetRes` for `HasRes`.\r\n3) Removed unused <optional> include.\r\n\r\n",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166570663",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "reviewed",
      "id": 1020266021,
      "node_id": "PRR_kwDOABII58480AYl",
      "url": null,
      "actor": null,
      "commit_id": "efbeafaa1d537db171016a785da4647fde7db5cb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code-review ACK efbeafaa1d537db171016a785da4647fde7db5cb\r\n\r\nBack then on PR #20640, which was the first step of getting rid of out parameters for the functions `CreateTransaction{Internal}`, the over-use of the `auto` keyword was questioned (see https://github.com/bitcoin/bitcoin/pull/20640#discussion_r549173268) due to obscuring the data type and hence lower readability, as it's not immediately visible what the return type is. Probably at some places explicitly using the `BResult<T>` would also be better. Also I'm not personally not a fan of the implicit bool operator use (e.g. for `std::optional` I always preferred the implicit `has_value()` method), but no hard feelings here -- that's probably largely a matter of taste. Left also some (non-blocking) nits below.",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1020266021",
      "submitted_at": "2022-06-27T14:26:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6886307403,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGadLZL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6886307403",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T15:21:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6886315611,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGadNZb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6886315611",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T15:22:39Z"
    },
    {
      "event": "commented",
      "id": 1167519405,
      "node_id": "IC_kwDOABII585Flu6t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167519405",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T15:46:52Z",
      "updated_at": "2022-06-27T16:00:39Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review theStack!\r\n\r\nPushed the three nits.\r\n\r\n> Back then on PR https://github.com/bitcoin/bitcoin/pull/20640, which was the first step of getting rid of out parameters for the functions CreateTransaction{Internal}, the over-use of the auto keyword was questioned (see https://github.com/bitcoin/bitcoin/pull/20640#discussion_r549173268) due to obscuring the data type and hence lower readability, as it's not immediately visible what the return type is. Probably at some places explicitly using the BResult<T> would also be better\r\n\r\nI think that at least on this, non-consensus, code is \"ok\" to use the `auto` keyword on the result. Mainly because in order to get the returned value you still have to call `GetObj()` (where, probably, we could clarify the type there).\r\n\r\nAnd I think that something like the following example is a bit too much for a single line of code:\r\n```c++\r\nconst BResult<CreatedTransactionResult>& create_tx_result = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\r\n```\r\n\r\nBut.. open for comments. If more want it, will make the changes. (might be good to add a section into the developer-notes talking about this)",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1167519405",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "reviewed",
      "id": 1020622717,
      "node_id": "PRR_kwDOABII58481Xd9",
      "url": null,
      "actor": null,
      "commit_id": "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1020622717",
      "submitted_at": "2022-06-27T19:22:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6888749434,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGamfl6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6888749434",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T21:30:21Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6888795776,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGamq6A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6888795776",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T21:37:26Z"
    },
    {
      "event": "commented",
      "id": 1167939817,
      "node_id": "IC_kwDOABII585FnVjp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167939817",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T21:42:48Z",
      "updated_at": "2022-06-30T18:31:48Z",
      "author_association": "MEMBER",
      "body": "Updated per achow101's feedback.\r\n\r\nMain modification was around the result `getObj` and `GetError` methods, which now return const references instead of pointers.\r\nThis will force users to check whether the result succeeded or not before attempt to access the value.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1167939817",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1171536216,
      "node_id": "IC_kwDOABII585F1DlY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1171536216",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-30T18:20:51Z",
      "updated_at": "2022-06-30T18:20:51Z",
      "author_association": "MEMBER",
      "body": "ACK 26288acf5c8e5cb55cf6b1829ead883289fce633",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1171536216",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "reviewed",
      "id": 1029964769,
      "node_id": "PRR_kwDOABII5849ZAPh",
      "url": null,
      "actor": null,
      "commit_id": "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 26288acf5c8e5cb55cf6b1829ead883289fce633  \r\n\r\nVerified that since my previous ACK\r\n- `BResult<T>::GetObj(...)` interface changed to return reference T& instead of pointer T*\r\n- `BResult<T>::GetError(...)` interface changed to return reference bilingual_str& instead of bare bilingual_str\r\n- various nits from achow101 and me were addressed\r\n- bug in `coin_selection` tracepoint parameter evaluation was fixed (https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907721005)",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1029964769",
      "submitted_at": "2022-07-06T11:55:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "reviewed",
      "id": 1032354804,
      "node_id": "PRR_kwDOABII5849iHv0",
      "url": null,
      "actor": null,
      "commit_id": "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/25218/commits/26288acf5c8e5cb55cf6b1829ead883289fce633\r\n\r\nIt's a good improvement on the codebase.\r\nInstead of returning boolean and the result object (or the error message) as an output parameter, the method can now return an single object that encapsulates them.\r\nThis opens up several possibilities for refactoring.\r\n\r\nThe CI has an error, but the error message does not match the current PR code.\r\n`wallet.GetNewDestination(OutputType::BECH32, \"\", destination, error);` was replaced in 26288ac",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1032354804",
      "submitted_at": "2022-07-08T03:09:03Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "commented",
      "id": 1178931392,
      "node_id": "IC_kwDOABII585GRRDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1178931392",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T12:27:12Z",
      "updated_at": "2022-07-08T12:27:12Z",
      "author_association": "MEMBER",
      "body": "Thanks @w0xlt for the review!\r\n\r\n> The CI has an error, but the error message does not match the current PR code.\r\nwallet.GetNewDestination(OutputType::BECH32, \"\", destination, error); was replaced in https://github.com/bitcoin/bitcoin/commit/26288acf5c8e5cb55cf6b1829ead883289fce633\r\n\r\nGood eye. Seems that it's a silent conflict with master due #24924 merge. Going to rebase it once more.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1178931392",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "mentioned",
      "id": 6959782354,
      "node_id": "MEE_lADOABII585Kb0S_zwAAAAGe1dnS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6959782354",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T12:27:12Z"
    },
    {
      "event": "subscribed",
      "id": 6959782365,
      "node_id": "SE_lADOABII585Kb0S_zwAAAAGe1dnd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6959782365",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T12:27:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6959807570,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGe1jxS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6959807570",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T12:31:05Z"
    },
    {
      "event": "commented",
      "id": 1179018985,
      "node_id": "IC_kwDOABII585GRmbp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179018985",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T13:56:15Z",
      "updated_at": "2022-07-08T13:56:15Z",
      "author_association": "MEMBER",
      "body": "All green now, ready to go.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1179018985",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdhNDVjMzNkMWY4YTc1ODg1MGNmOGU3YmQ2YWQ1MDg5MzliYTVjMGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "tree": {
        "sha": "f5fe1620b112bfbf121cbf1daebc5d6f441d063d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f5fe1620b112bfbf121cbf1daebc5d6f441d063d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f5fe1620b112bfbf121cbf1daebc5d6f441d063d\nparent b9f9ed4640f8064a0606755cd1f16ad5dbb0ee06\nauthor furszy <matiasfurszyfer@protonmail.com> 1649445886 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657289915 -0300\n\nIntroduce generic 'Result' class\n\nUseful to encapsulate the function result object (in case of having it) or, in case of failure, the failure reason.\n\nThis let us clean lot of boilerplate code, as now instead of returning a boolean and having to add a ref arg for the\nreturn object and another ref for the error string. We can simply return a 'BResult<Obj>'.\n\nExample of what we currently have:\n```\nbool doSomething(arg1, arg2, arg3, arg4, &result, &error_string) {\n    do something...\n    if (error) {\n        error_string = \"something bad happened\";\n        return false;\n    }\n\n    result = goodResult;\n    return true;\n}\n```\n\nExample of what we will get with this commit:\n```\nBResult<Obj> doSomething(arg1, arg2, arg3, arg4) {\n    do something...\n    if (error) return {\"something happened\"};\n\n    // good\n    return {goodResult};\n}\n```\n\nThis allows a similar boilerplate cleanup on the function callers side as well. They don't have to add the extra\npre-function-call error string and result object declarations to pass the references to the function.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLIPLsACgkQXdI8zGhq\npiOChhAAgjWApyJgHd+FcmlJhjddNDHcEdQGX6MuFIIGPyipk/IykPQmCrRM3dCz\nBFzZhHoMs60JvltXJjPMLJ9F2KCFybSLbkbjrXe9yj0K3icGcM0LQz0oS6WNs95f\ntzGLzEt9TmPi30x8zZsnR/C/j6vWOVOM3dfg0MpEzwHaXiE7rNom8dlIYiy9r6hX\nugdAdgAKulF7BsVehEzork/PZU5WHg9lXzWgtEk3Z4oV5O/qNhQOxGB+PJDkE3ak\nwnVgJk3KxUU4jbAZZV08ytSxMGdpom71WQzNI1zIopg+d8MesPEhw7kppOPgx8K6\nNExCRa+khyXM7T/MdUTuTCWf77Pjr60GKXettoVQt5qX2fJplBEH1Ls31tQTrazu\nvdqJETqFAQdFH4IuR+5h/T43alkg6ISSaMQXTpTXebeXT7MxWMgxgK+DjZcO7KP/\n91IahTKXNONOtKudd6BKXFxTnBFSgfmW4SKf5I8MIPhWPnG83DwwZrzzklScaGzR\nTEfG8XQXMKaf61lnwsRhnatG0gdjsfpjg1U2i9kCfCdHrire15s4oEXyIGdGMrgG\nPlrU34oIxhDRoUVmAKBTQGeZjCqN/0GQwa8df1DBbVnj1T0wNk0JBYTuJLRbxyHe\nHm3yIcI/U2EE8ImCoFiq7efQhlta2rEQloIV0E2WQVRWbvxjkbc=\n=Yvs3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9f9ed4640f8064a0606755cd1f16ad5dbb0ee06",
          "sha": "b9f9ed4640f8064a0606755cd1f16ad5dbb0ee06",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b9f9ed4640f8064a0606755cd1f16ad5dbb0ee06"
        }
      ],
      "message": "Introduce generic 'Result' class\n\nUseful to encapsulate the function result object (in case of having it) or, in case of failure, the failure reason.\n\nThis let us clean lot of boilerplate code, as now instead of returning a boolean and having to add a ref arg for the\nreturn object and another ref for the error string. We can simply return a 'BResult<Obj>'.\n\nExample of what we currently have:\n```\nbool doSomething(arg1, arg2, arg3, arg4, &result, &error_string) {\n    do something...\n    if (error) {\n        error_string = \"something bad happened\";\n        return false;\n    }\n\n    result = goodResult;\n    return true;\n}\n```\n\nExample of what we will get with this commit:\n```\nBResult<Obj> doSomething(arg1, arg2, arg3, arg4) {\n    do something...\n    if (error) return {\"something happened\"};\n\n    // good\n    return {goodResult};\n}\n```\n\nThis allows a similar boilerplate cleanup on the function callers side as well. They don't have to add the extra\npre-function-call error string and result object declarations to pass the references to the function.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-08T14:18:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-04-08T19:24:46Z"
      },
      "sha": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE5OGZjY2ExNjJmNGQyZjg3N2ZlYWI0ODVlNjI5ZmY4OTgxOGZmNTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/198fcca162f4d2f877feab485e629ff89818ff56",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/198fcca162f4d2f877feab485e629ff89818ff56",
      "tree": {
        "sha": "c2d761c60589b323f811883963853326e421718d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c2d761c60589b323f811883963853326e421718d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c2d761c60589b323f811883963853326e421718d\nparent 7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d\nauthor furszy <matiasfurszyfer@protonmail.com> 1653406191 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657289915 -0300\n\nwallet: refactor, include 'FeeCalculation' inside 'CreatedTransactionResult'\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLIPLsACgkQXdI8zGhq\npiNGOhAAwFBAqPDIDqNTHDiWcFxENLdPHrJo4s1IfBlUWm1RZU9tKjVFn/9Ti0jl\n0b6NEPnP83mTPHGVXKP1zeuDqu/CNfu9KTbHPStiNnMeTIxyoWqs3ySbkDpFP1P0\nbx2o226LFWS11hi5qLY/XtCL+8aMnjoR8nuaeAfQ0P+nekDrKGuKbfsXdKHVy3BC\ntuVsyEtgEOEzaGUAhnIxhv/Lq6T2DoMDcWiJFGFWMNHzHPiKxykAtGISbZ+0szml\nr7bchEGGqCX3VWWuInaYZnysv2hfRVH9yBla2hOmOH2WvLtDDdL1YZ4Pyj/V6oxa\nq1yvqR5qc98xrs126/ZLhdo9I5OU9lQw3fXy6rQmOkgjOq+EXCIJTCUvA4fXY2vV\nnSE47YExo2ymDY1ooKumaQCTzkXFQd/fxkDz6MqF3NwGeuY9m1mKxOPAYq+aujQp\n9nuCX9nxrgdo1BKidiuk/Sd2dLnMTyoav6gWfuKW5kxNSyToKRxs7kDombksD451\nkQKjqCOOJu88QOVSdAwfx0isjBDbkFUHfTeKPz8dUmO02Ag0Jv0s5juEXJOC6hn1\nWM/wgIDNNaJtYrppe7SrZ9zNo4u45IUMvbK+lLRCDdUk2tFuSoOuWDayxNaPL9Tt\nKaFIHuBBTyhhFVaqQWot7O/SJYu92waL14B70yxhFPtrEbhHR1Q=\n=yMUY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
          "sha": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d"
        }
      ],
      "message": "wallet: refactor, include 'FeeCalculation' inside 'CreatedTransactionResult'",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-08T14:18:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-05-24T15:29:51Z"
      },
      "sha": "198fcca162f4d2f877feab485e629ff89818ff56"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIyMzUxNzI1YmM0YzVlYjYzZWU0NWY2MDczNzRiYmYyZDc2ZTJiOGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
      "tree": {
        "sha": "f070e528309494f0f519be8fd590117c00f1761b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f070e528309494f0f519be8fd590117c00f1761b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f070e528309494f0f519be8fd590117c00f1761b\nparent 198fcca162f4d2f877feab485e629ff89818ff56\nauthor furszy <matiasfurszyfer@protonmail.com> 1649446990 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657289915 -0300\n\nsend: refactor CreateTransaction flow to return a BResult<CTransactionRef>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLIPLsACgkQXdI8zGhq\npiP9QQ//TuNWy730v03JitU9CaPMxTenn7GJq1PxadDNUHvM056vEPmP+Nmpzt7b\ntbmPPaj1AwvUSk/jr5MuAP7u3YwpLIIORz6Hbi4jjBCpTDoYdD4jd/1VQ+2EUNpT\ne837DU+OAV/gPdF9HvaU+O+RGiOIKpGGxisWkTU6tREhBudjXuXO295wXbDhEvVS\nUuZ35Klot/Dnp7217cWvzu9C7BZECm1u37nGsRytE6ADEl1UwDrCS/W3dY4ztFs2\nhFcXJ7J8R8wiTdGgWe/W/LS07E/X6LLLzwnutqKYODDfOqGCPN2bDKxkM4Vuv/GW\nXXN4YQUQr0AuY1txic9HAOM6sCKCwqyovTnFA4AYtqJvLTKildsXM1mDJNc/ecAM\nFyd16LRG1BkqtHzFviMEYGqoRMwCvB7Nn7Z3gwtk896h3Y8uF6nDfjsUnOx/jL2u\n+yaToXk/EQxnggKNYD0PybILZHZIoxsdNbQPZFv2IThbvxUW62wEm3e9xN0vIz1p\nwfN/36EzG+arfEUaAA8grWrSC48z4pDLG2qtFCiE/h/CvLubZ1wAVFvxrHSPN3km\nAiEZQZtgz0WOKf5H2lO23vyPnOAtc+qUfgKgfzepJuhTMPf8ZgWYZwdxn+U1ODys\n7lFd7yCKoJFeSI7X8Jk6XOyr6iRElcLAvIU12O0DT7cCUwDAOK8=\n=uUc2\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/198fcca162f4d2f877feab485e629ff89818ff56",
          "sha": "198fcca162f4d2f877feab485e629ff89818ff56",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/198fcca162f4d2f877feab485e629ff89818ff56"
        }
      ],
      "message": "send: refactor CreateTransaction flow to return a BResult<CTransactionRef>",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-08T14:18:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-04-08T19:43:10Z"
      },
      "sha": "22351725bc4c5eb63ee45f607374bbf2d76e2b8c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDExMWVhM2FiNzExNDE0MjM2Zjg2Nzg1NjZhNzg4NGQ0ODYxOWIyZDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/111ea3ab711414236f8678566a7884d48619b2d8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/111ea3ab711414236f8678566a7884d48619b2d8",
      "tree": {
        "sha": "5d4fa02e5aeb208d51f268dec3e6bcf1350e0a98",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5d4fa02e5aeb208d51f268dec3e6bcf1350e0a98"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5d4fa02e5aeb208d51f268dec3e6bcf1350e0a98\nparent 22351725bc4c5eb63ee45f607374bbf2d76e2b8c\nauthor furszy <matiasfurszyfer@protonmail.com> 1653440394 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657289915 -0300\n\nwallet: refactor GetNewDestination, use BResult\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLIPLsACgkQXdI8zGhq\npiM/3g//Uozg9ROOKiZRsIHbgrrKs/0UJCXhLNrN4tWaFuuWDAg/w/fyX5//3miM\ndYHYBa1JbEedQUT3TX/hGHosrZuG1e1wItRAPlMU0+cAh12k5I9pd5CaOxMV6XTZ\np9MtqCEuRwnlLMiwzzfv89d2G7iLxIRTerpxikOaTIPWjzRM84/wPeEUfvAE4xp6\nKYPlXThif0d81rpimtFAyGQ9xiMRO/RU4x5jPsPeP2OyFYtAaITw2SzO1uY9/WRR\nKMV5uTPKPMD8uW7Kf8k48s9DTV/pOa6srwm6udNhyljWtO56wVwsV7FyGr+/Wu1U\n1Kzq/xFdimwaDeM4CnHK8WMGo/nXefHQunSXGkFWI6qtiDOD85Wb9Kn+UHhgbarb\nbPH90ptYmU0PqoySnyrja1KCLjTsxhDPOOgd/PFgdP3Ei2Hic2vnZBuKdQGSQaE+\nQVD/10LmxaYKYI2EFG0P2lz2aE4Fm8cqUPbkLtHpNt3/A4twS/ytkeRtf1nmCyRF\nBYTuCHrGCZlHPQd56d4I+eNsne9O8U83U1Pe0ViZFdLTOXpMEPduSVhtuf4tFqMu\npjDGl4aXX07d8cw4LTS2BJvEngNo4ci8B/mt88z3bM+c4gfQBxNFbPdgSJUuKEjM\njvYocMtSmlH0L2GcWqqQBlkTOSovrjaCyNZyPHq/k7uHBx7Evi0=\n=5ZHg\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
          "sha": "22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/22351725bc4c5eb63ee45f607374bbf2d76e2b8c"
        }
      ],
      "message": "wallet: refactor GetNewDestination, use BResult",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-08T14:18:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-05-25T00:59:54Z"
      },
      "sha": "111ea3ab711414236f8678566a7884d48619b2d8"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6960583911,
      "node_id": "HRFPE_lADOABII585Kb0S_zwAAAAGe4hTn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6960583911",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T14:23:14Z"
    },
    {
      "event": "commented",
      "id": 1179048871,
      "node_id": "IC_kwDOABII585GRtun",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179048871",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T14:24:23Z",
      "updated_at": "2022-07-08T14:24:23Z",
      "author_association": "MEMBER",
      "body": "Rebased once more to include the recently merged #25337 here as well.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1179048871",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "reviewed",
      "id": 1033095818,
      "node_id": "PRR_kwDOABII5849k8qK",
      "url": null,
      "actor": null,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "reACK https://github.com/bitcoin/bitcoin/pull/25218/commits/111ea3ab711414236f8678566a7884d48619b2d8",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1033095818",
      "submitted_at": "2022-07-08T15:47:18Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "reviewed",
      "id": 1033550029,
      "node_id": "PRR_kwDOABII5849mrjN",
      "url": null,
      "actor": null,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 111ea3ab711414236f8678566a7884d48619b2d8",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1033550029",
      "submitted_at": "2022-07-09T16:16:13Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "commented",
      "id": 1180690614,
      "node_id": "IC_kwDOABII585GX-i2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180690614",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-11T17:44:27Z",
      "updated_at": "2022-07-11T17:44:27Z",
      "author_association": "MEMBER",
      "body": "ACK 111ea3ab711414236f8678566a7884d48619b2d8",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1180690614",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "reviewed",
      "id": 1035601016,
      "node_id": "PRR_kwDOABII5849ugR4",
      "url": null,
      "actor": null,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "review ACK 111ea3ab711414236f8678566a7884d48619b2d8 \r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 111ea3ab711414236f8678566a7884d48619b2d8 \r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjrYAv9ELJ7MVWMc6ec+xuvKeVMTZllPyJE0En9XpOhlJO5/icp4mlsxbVZeAN9\r\n9Hr5KE5gDE1YFWsBfIj/SAFVLURDx0vwZkCwcxqD8IsZL7PzZN8wUrnvJVgnL8FD\r\nul16AsIY7iy7JJabgdfBKOcSP8TMzma3xmKRZdOHtXwy33krjvVRT9fIj+04Lb3R\r\nR3ODVlNZg4SQY3oZPBG06XhkBoSroU4mrYnE6BEYWG1iEYlJQ1n3Ivx9qNwweGWt\r\nEDtHF9idu/pZJXS8aVzXZLjaLq/ALoLzvy9mtHVUv+OqOQ/Cvj/jfzhfm5CancE7\r\nidf0Ku0bEO7NvxBQ90MUudnVZb3DSOcWpPZOGOv2lYdFq96eYF0TXPe8527NsM6O\r\nCGikleM5JmI0Do/RAzvASiJmdnktFspCVXnl8Pto1I62LdMJDwnRKVU4/itvMyAn\r\nswH8m6dRuX/Kn8bbzSdHKvCxx5fACxAyp2/sa/BD1IEkLq1VUFWrkbBu7PSw7QC4\r\nK4XqkLYm\r\n=SbFr\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1035601016",
      "submitted_at": "2022-07-12T11:56:13Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "merged",
      "id": 6976994343,
      "node_id": "ME_lADOABII585Kb0S_zwAAAAGf3Hwn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6976994343",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "316afb1eca47fe179584bd2d8ae400f9aff474d4",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/316afb1eca47fe179584bd2d8ae400f9aff474d4",
      "created_at": "2022-07-12T11:58:05Z"
    },
    {
      "event": "closed",
      "id": 6976994368,
      "node_id": "CE_lADOABII585Kb0S_zwAAAAGf3HxA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6976994368",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-12T11:58:06Z"
    },
    {
      "event": "referenced",
      "id": 6980357333,
      "node_id": "REFE_lADOABII585Kb0S_zwAAAAGgD8zV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6980357333",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8b895389f37805283086fd62a26b11985ffb2cc8",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/8b895389f37805283086fd62a26b11985ffb2cc8",
      "created_at": "2022-07-12T19:10:51Z"
    },
    {
      "event": "reviewed",
      "id": 1039194856,
      "node_id": "PRR_kwDOABII58498Nro",
      "url": null,
      "actor": null,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "Riahiamirreza",
        "id": 54557628,
        "node_id": "MDQ6VXNlcjU0NTU3NjI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/54557628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Riahiamirreza",
        "html_url": "https://github.com/Riahiamirreza",
        "followers_url": "https://api.github.com/users/Riahiamirreza/followers",
        "following_url": "https://api.github.com/users/Riahiamirreza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Riahiamirreza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Riahiamirreza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Riahiamirreza/subscriptions",
        "organizations_url": "https://api.github.com/users/Riahiamirreza/orgs",
        "repos_url": "https://api.github.com/users/Riahiamirreza/repos",
        "events_url": "https://api.github.com/users/Riahiamirreza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Riahiamirreza/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#pullrequestreview-1039194856",
      "submitted_at": "2022-07-14T20:08:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
    },
    {
      "event": "commented",
      "id": 1185459469,
      "node_id": "IC_kwDOABII585GqK0N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185459469",
      "actor": {
        "login": "Riahiamirreza",
        "id": 54557628,
        "node_id": "MDQ6VXNlcjU0NTU3NjI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/54557628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Riahiamirreza",
        "html_url": "https://github.com/Riahiamirreza",
        "followers_url": "https://api.github.com/users/Riahiamirreza/followers",
        "following_url": "https://api.github.com/users/Riahiamirreza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Riahiamirreza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Riahiamirreza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Riahiamirreza/subscriptions",
        "organizations_url": "https://api.github.com/users/Riahiamirreza/orgs",
        "repos_url": "https://api.github.com/users/Riahiamirreza/repos",
        "events_url": "https://api.github.com/users/Riahiamirreza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Riahiamirreza/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-15T11:37:01Z",
      "updated_at": "2022-07-15T11:37:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think this PR can have `Good first review` label. For someone like me which is very new to the project, understanding the concept and implementation of this PR was easy (relative to other PRs).",
      "user": {
        "login": "Riahiamirreza",
        "id": 54557628,
        "node_id": "MDQ6VXNlcjU0NTU3NjI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/54557628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Riahiamirreza",
        "html_url": "https://github.com/Riahiamirreza",
        "followers_url": "https://api.github.com/users/Riahiamirreza/followers",
        "following_url": "https://api.github.com/users/Riahiamirreza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Riahiamirreza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Riahiamirreza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Riahiamirreza/subscriptions",
        "organizations_url": "https://api.github.com/users/Riahiamirreza/orgs",
        "repos_url": "https://api.github.com/users/Riahiamirreza/repos",
        "events_url": "https://api.github.com/users/Riahiamirreza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Riahiamirreza/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1185459469",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "commented",
      "id": 1202492436,
      "node_id": "IC_kwDOABII585HrJQU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1202492436",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-02T12:59:12Z",
      "updated_at": "2022-08-02T12:59:12Z",
      "author_association": "MEMBER",
      "body": "There is a follow-up in case anyone wants to review it: #25721 ",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1202492436",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25218"
    },
    {
      "event": "referenced",
      "id": 7163330125,
      "node_id": "REFE_lADOABII585Kb0S_zwAAAAGq975N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7163330125",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a6fc293c0a1f27ba1e573bfa16fd76d5f58988b2",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/a6fc293c0a1f27ba1e573bfa16fd76d5f58988b2",
      "created_at": "2022-08-10T12:20:28Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 9355566531,
      "node_id": "HRDE_lADOABII585Kb0S_zwAAAAItop3D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9355566531",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T01:51:02Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765270",
      "pull_request_review_id": 1019380937,
      "id": 906765270,
      "node_id": "PRRC_kwDOABII5842DCPW",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 27,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason to not call this just \"get\", like https://en.cppreference.com/w/cpp/memory/unique_ptr/get",
      "created_at": "2022-06-26T06:48:16Z",
      "updated_at": "2022-06-26T07:26:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906765270",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765270"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765645",
      "pull_request_review_id": 1019380937,
      "id": 906765645,
      "node_id": "PRRC_kwDOABII5842DCVN",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 29,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "maybe get -> has , like https://en.cppreference.com/w/cpp/utility/optional/operator_bool\r\n\r\nand `!std::holds_alternative<bilingual_str>` -> `std::holds_alternative<T>`?",
      "created_at": "2022-06-26T06:52:04Z",
      "updated_at": "2022-06-26T07:26:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906765645",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765645"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769575",
      "pull_request_review_id": 1019380937,
      "id": 906769575,
      "node_id": "PRRC_kwDOABII5842DDSn",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>",
      "path": "src/result.h",
      "position": null,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "unused?",
      "created_at": "2022-06-26T07:24:55Z",
      "updated_at": "2022-06-26T07:26:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769575",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769575"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 8,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769619",
      "pull_request_review_id": 1019380937,
      "id": 906769619,
      "node_id": "PRRC_kwDOABII5842DDTT",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H",
      "path": "src/result.h",
      "position": null,
      "original_position": 6,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think regardless of the namespace, this should be placed in the `util` folder",
      "created_at": "2022-06-26T07:25:17Z",
      "updated_at": "2022-06-26T07:26:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769619",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769619"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 6,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769777",
      "pull_request_review_id": 1019380937,
      "id": 906769777,
      "node_id": "PRRC_kwDOABII5842DDVx",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {\n+        auto error = std::get_if<bilingual_str>(&m_variant);\n+        return (error ? *error : bilingual_str());\n+    }\n+\n+    explicit operator bool() const { return GetRes(); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 36,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wonder if `operator*` should be added, like https://en.cppreference.com/w/cpp/memory/unique_ptr/operator*\r\n\r\nbut instead of UB, it runs into an assertion failure?",
      "created_at": "2022-06-26T07:26:30Z",
      "updated_at": "2022-06-26T07:26:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769777",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769777"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837086",
      "pull_request_review_id": 1019449932,
      "id": 906837086,
      "node_id": "PRRC_kwDOABII5842DTxe",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 27,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": 906765270,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`std::get` on a variant throws [std::bad_variant_access](https://en.cppreference.com/w/cpp/utility/variant/bad_variant_access) on errors (if the variant isn't storing the type) --> https://en.cppreference.com/w/cpp/utility/variant/get. `std::get_if` just return a nullptr.\r\n\r\nIdeally, I think that an assertion here would be good, so we can directly return the const reference instead of the pointer (which will force the callers to always check if the result succeeded or not before getting the type). But.. I didn't add it here to not make this PR too broad, it was needing further restructuring in some of the function's callers (add a new plug-and-play result class is one thing, restructure how each of the callers treats the result is another one).\r\n\r\n",
      "created_at": "2022-06-26T15:42:32Z",
      "updated_at": "2022-06-26T15:42:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837086",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837086"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837162",
      "pull_request_review_id": 1019450008,
      "id": 906837162,
      "node_id": "PRRC_kwDOABII5842DTyq",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 29,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": 906765645,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-26T15:43:10Z",
      "updated_at": "2022-06-26T15:43:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837162",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837162"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837206",
      "pull_request_review_id": 1019450025,
      "id": 906837206,
      "node_id": "PRRC_kwDOABII5842DTzW",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>",
      "path": "src/result.h",
      "position": null,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": 906769575,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": " removed.",
      "created_at": "2022-06-26T15:43:26Z",
      "updated_at": "2022-06-26T15:43:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837206",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837206"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 8,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837218",
      "pull_request_review_id": 1019450037,
      "id": 906837218,
      "node_id": "PRRC_kwDOABII5842DTzi",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H",
      "path": "src/result.h",
      "position": null,
      "original_position": 6,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": 906769619,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "moved ",
      "created_at": "2022-06-26T15:43:38Z",
      "updated_at": "2022-06-26T15:43:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837218",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837218"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 6,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906850137",
      "pull_request_review_id": 1019460698,
      "id": 906850137,
      "node_id": "PRRC_kwDOABII5842DW9Z",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 27,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": 906765270,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I meant renaming the function name from `GetObj` to `Get`",
      "created_at": "2022-06-26T17:34:25Z",
      "updated_at": "2022-06-26T17:34:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906850137",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906850137"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906864570",
      "pull_request_review_id": 1019473001,
      "id": 906864570,
      "node_id": "PRRC_kwDOABII5842Dae6",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 27,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": 906765270,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah ok, I tried to distinguish clearly at the interface level the two possible outcomes `GetError()`/`GetObj()` (It could had been `GetRes()` as well). Mainly to prevent this class from be blindly used as a smart pointer, forgetting the error existence.\r\nBut if you have a strong predilection for the `Get` wording, could change it. Nothing is set on stone hehe.",
      "created_at": "2022-06-26T20:01:40Z",
      "updated_at": "2022-06-26T20:02:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906864570",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906864570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906872770",
      "pull_request_review_id": 1019479705,
      "id": 906872770,
      "node_id": "PRRC_kwDOABII5842DcfC",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {\n+        auto error = std::get_if<bilingual_str>(&m_variant);\n+        return (error ? *error : bilingual_str());\n+    }\n+\n+    explicit operator bool() const { return GetRes(); }",
      "path": "src/result.h",
      "position": null,
      "original_position": 36,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "89207d52a87c151539d42a63063c51db8f9c1dec",
      "in_reply_to_id": 906769777,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, it could be handy but might end up with users trying to access the object without checking the result existence first (which, as not every error path is covered by tests, could end up badly).\r\n\r\nI would rather walk into adding a generic `std::visit` direction, so users are always forced to provide handlers for both outcomes. Which would avoid the pointers need at all and make the code less error prone.",
      "created_at": "2022-06-26T21:26:56Z",
      "updated_at": "2022-06-26T21:26:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906872770",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906872770"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907436166",
      "pull_request_review_id": 1020266021,
      "id": 907436166,
      "node_id": "PRRC_kwDOABII5842FmCG",
      "diff_hunk": "@@ -370,23 +370,21 @@ QString AddressTableModel::addRow(const QString &type, const QString &label, con\n     else if(type == Receive)\n     {\n         // Generate a new address to associate with given label\n-        CTxDestination dest;\n-        if(!walletModel->wallet().getNewDestination(address_type, strLabel, dest))\n-        {\n+        auto op_dest = walletModel->wallet().getNewDestination(address_type, strLabel);\n+        if (!op_dest) {\n             WalletModel::UnlockContext ctx(walletModel->requestUnlock());\n-            if(!ctx.isValid())\n-            {\n+            if(!ctx.isValid()) {",
      "path": "src/qt/addresstablemodel.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "efbeafaa1d537db171016a785da4647fde7db5cb",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "spacing nit:\r\n```suggestion\r\n            if (!ctx.isValid()) {\r\n```",
      "created_at": "2022-06-27T14:11:09Z",
      "updated_at": "2022-06-27T14:26:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907436166",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907436166"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438516",
      "pull_request_review_id": 1020266021,
      "id": 907438516,
      "node_id": "PRRC_kwDOABII5842Fmm0",
      "diff_hunk": "@@ -21,26 +21,22 @@ namespace wallet {\n //! Value for the first BIP 32 hardened derivation. Can be used as a bit mask and as a value. See BIP 32 for more details.\n const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n-bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, bilingual_str& error)\n+BResult<CTxDestination> LegacyScriptPubKeyMan::GetNewDestination(const OutputType type)\n {\n     if (LEGACY_OUTPUT_TYPES.count(type) == 0) {\n-        error = _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");\n-        return false;\n+        return _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");;\n     }\n     assert(type != OutputType::BECH32M);\n \n     LOCK(cs_KeyStore);\n-    error.clear();\n \n     // Generate a new key that is added to wallet\n     CPubKey new_key;\n     if (!GetKeyFromPool(new_key, type)) {\n-        error = _(\"Error: Keypool ran out, please call keypoolrefill first\");\n-        return false;\n+        return _(\"Error: Keypool ran out, please call keypoolrefill first\");;",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "efbeafaa1d537db171016a785da4647fde7db5cb",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "redundant nit:\r\n```suggestion\r\n        return _(\"Error: Keypool ran out, please call keypoolrefill first\");\r\n```",
      "created_at": "2022-06-27T14:13:19Z",
      "updated_at": "2022-06-27T14:26:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907438516",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438516"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907448364",
      "pull_request_review_id": 1020266021,
      "id": 907448364,
      "node_id": "PRRC_kwDOABII5842FpAs",
      "diff_hunk": "@@ -74,11 +74,9 @@ static void add_coin(std::vector<COutput>& coins, CWallet& wallet, const CAmount\n     tx.vout.resize(nInput + 1);\n     tx.vout[nInput].nValue = nValue;\n     if (spendable) {\n-        CTxDestination dest;\n-        bilingual_str error;\n-        const bool destination_ok = wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n-        assert(destination_ok);\n-        tx.vout[nInput].scriptPubKey = GetScriptForDestination(dest);\n+        auto op_dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+        assert(op_dest);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "efbeafaa1d537db171016a785da4647fde7db5cb",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: probably be explicit here, same as in the fuzz test?\r\n```suggestion\r\n        assert(op_dest.HasRes());\r\n```",
      "created_at": "2022-06-27T14:22:16Z",
      "updated_at": "2022-06-27T14:26:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907448364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907448364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511455",
      "pull_request_review_id": 1020373642,
      "id": 907511455,
      "node_id": "PRRC_kwDOABII5842F4af",
      "diff_hunk": "@@ -74,11 +74,9 @@ static void add_coin(std::vector<COutput>& coins, CWallet& wallet, const CAmount\n     tx.vout.resize(nInput + 1);\n     tx.vout[nInput].nValue = nValue;\n     if (spendable) {\n-        CTxDestination dest;\n-        bilingual_str error;\n-        const bool destination_ok = wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n-        assert(destination_ok);\n-        tx.vout[nInput].scriptPubKey = GetScriptForDestination(dest);\n+        auto op_dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+        assert(op_dest);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "efbeafaa1d537db171016a785da4647fde7db5cb",
      "in_reply_to_id": 907448364,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-27T15:23:32Z",
      "updated_at": "2022-06-27T15:23:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511455",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511560",
      "pull_request_review_id": 1020373787,
      "id": 907511560,
      "node_id": "PRRC_kwDOABII5842F4cI",
      "diff_hunk": "@@ -21,26 +21,22 @@ namespace wallet {\n //! Value for the first BIP 32 hardened derivation. Can be used as a bit mask and as a value. See BIP 32 for more details.\n const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n-bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, bilingual_str& error)\n+BResult<CTxDestination> LegacyScriptPubKeyMan::GetNewDestination(const OutputType type)\n {\n     if (LEGACY_OUTPUT_TYPES.count(type) == 0) {\n-        error = _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");\n-        return false;\n+        return _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");;\n     }\n     assert(type != OutputType::BECH32M);\n \n     LOCK(cs_KeyStore);\n-    error.clear();\n \n     // Generate a new key that is added to wallet\n     CPubKey new_key;\n     if (!GetKeyFromPool(new_key, type)) {\n-        error = _(\"Error: Keypool ran out, please call keypoolrefill first\");\n-        return false;\n+        return _(\"Error: Keypool ran out, please call keypoolrefill first\");;",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "efbeafaa1d537db171016a785da4647fde7db5cb",
      "in_reply_to_id": 907438516,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-27T15:23:38Z",
      "updated_at": "2022-06-27T15:23:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511560",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511560"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511636",
      "pull_request_review_id": 1020373895,
      "id": 907511636,
      "node_id": "PRRC_kwDOABII5842F4dU",
      "diff_hunk": "@@ -370,23 +370,21 @@ QString AddressTableModel::addRow(const QString &type, const QString &label, con\n     else if(type == Receive)\n     {\n         // Generate a new address to associate with given label\n-        CTxDestination dest;\n-        if(!walletModel->wallet().getNewDestination(address_type, strLabel, dest))\n-        {\n+        auto op_dest = walletModel->wallet().getNewDestination(address_type, strLabel);\n+        if (!op_dest) {\n             WalletModel::UnlockContext ctx(walletModel->requestUnlock());\n-            if(!ctx.isValid())\n-            {\n+            if(!ctx.isValid()) {",
      "path": "src/qt/addresstablemodel.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "efbeafaa1d537db171016a785da4647fde7db5cb",
      "in_reply_to_id": 907436166,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-27T15:23:43Z",
      "updated_at": "2022-06-27T15:23:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907685907",
      "pull_request_review_id": 1020622717,
      "id": 907685907,
      "node_id": "PRRC_kwDOABII5842GjAT",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "path": "src/util/result.h",
      "position": null,
      "original_position": 26,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 755cb5606de0b63e0027ab11840bb5e4c3f000aa \"Introduce generic 'Result' class\"\r\n\r\nI would prefer if we used `std::get` instead of `get_if` so that the callers don't have to deal with pointers. This could `assert(HasRes())` to avoid the exception. Then the return value would be `T&`.\r\n\r\nSame for `GetError` below.",
      "created_at": "2022-06-27T18:36:57Z",
      "updated_at": "2022-06-27T19:22:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907685907",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907685907"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907689776",
      "pull_request_review_id": 1020622717,
      "id": 907689776,
      "node_id": "PRRC_kwDOABII5842Gj8w",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {",
      "path": "src/util/result.h",
      "position": null,
      "original_position": 30,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 755cb5606de0b63e0027ab11840bb5e4c3f000aa \"Introduce generic 'Result' class\"\r\n\r\n```suggestion\r\n    const bilingual_str& GetError() const {\r\n```",
      "created_at": "2022-06-27T18:41:28Z",
      "updated_at": "2022-06-27T19:22:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907689776",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907689776"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907702773",
      "pull_request_review_id": 1020622717,
      "id": 907702773,
      "node_id": "PRRC_kwDOABII5842GnH1",
      "diff_hunk": "@@ -904,7 +895,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n                     } else {\n                         error = _(\"The transaction amount is too small to send after the fee has been deducted\");\n                     }\n-                    return std::nullopt;\n+                    return error;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 4e1353016dabcf645b22fb7c196f62d8f465df39 \"send: refactor CreateTransaction flow to return a BResult<CTransactionRef>\"\r\n\r\nThe `if` above could just return the error strings directly as you have done elsewhere, there's no need to be returning error after setting those strings.",
      "created_at": "2022-06-27T18:56:41Z",
      "updated_at": "2022-06-27T19:22:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907702773",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907702773"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 898,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707351",
      "pull_request_review_id": 1020622717,
      "id": 907707351,
      "node_id": "PRRC_kwDOABII5842GoPX",
      "diff_hunk": "@@ -20,11 +20,10 @@ const std::string ADDRESS_BCRT1_UNSPENDABLE = \"bcrt1qqqqqqqqqqqqqqqqqqqqqqqqqqqq\n std::string getnewaddress(CWallet& w)\n {\n     constexpr auto output_type = OutputType::BECH32;\n-    CTxDestination dest;\n-    bilingual_str error;\n-    if (!w.GetNewDestination(output_type, \"\", dest, error)) assert(false);\n+    auto op_dest = w.GetNewDestination(output_type, \"\");\n+    if (!op_dest) assert(false);",
      "path": "src/test/util/wallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 9a0a4024f0fdd2ec598613fa8ea55683115a88f5 \"wallet: refactor GetNewDestination, use BResult\"\r\n\r\n```suggestion\r\n    assert(op_dest.HasRes());\r\n```",
      "created_at": "2022-06-27T19:02:29Z",
      "updated_at": "2022-06-27T19:22:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907707351",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707351"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710067",
      "pull_request_review_id": 1020622717,
      "id": 907710067,
      "node_id": "PRRC_kwDOABII5842Go5z",
      "diff_hunk": "@@ -1769,9 +1763,13 @@ bool DescriptorScriptPubKeyMan::Encrypt(const CKeyingMaterial& master_key, Walle\n bool DescriptorScriptPubKeyMan::GetReservedDestination(const OutputType type, bool internal, CTxDestination& address, int64_t& index, CKeyPool& keypool, bilingual_str& error)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 75,
      "original_position": 75,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 9a0a4024f0fdd2ec598613fa8ea55683115a88f5 \"wallet: refactor GetNewDestination, use BResult\"\r\n\r\nIt would be nice if this function got the same treatment too. But that can also be done in a followup to avoid expanding the scope of this PR too far.",
      "created_at": "2022-06-27T19:06:13Z",
      "updated_at": "2022-06-27T19:22:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907710067",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710067"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1763,
      "original_line": 1763,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907721005",
      "pull_request_review_id": 1020622717,
      "id": 907721005,
      "node_id": "PRRC_kwDOABII5842Grkt",
      "diff_hunk": "@@ -961,48 +948,46 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n     return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);\n }\n \n-std::optional<CreatedTransactionResult> CreateTransaction(\n+BResult<CreatedTransactionResult> CreateTransaction(\n         CWallet& wallet,\n         const std::vector<CRecipient>& vecSend,\n         int change_pos,\n-        bilingual_str& error,\n         const CCoinControl& coin_control,\n         bool sign)\n {\n     if (vecSend.empty()) {\n-        error = _(\"Transaction must have at least one recipient\");\n-        return std::nullopt;\n+        return _(\"Transaction must have at least one recipient\");\n     }\n \n     if (std::any_of(vecSend.cbegin(), vecSend.cend(), [](const auto& recipient){ return recipient.nAmount < 0; })) {\n-        error = _(\"Transaction amounts must not be negative\");\n-        return std::nullopt;\n+        return _(\"Transaction amounts must not be negative\");\n     }\n \n     LOCK(wallet.cs_wallet);\n \n-    std::optional<CreatedTransactionResult> txr_ungrouped = CreateTransactionInternal(wallet, vecSend, change_pos, error, coin_control, sign);\n-    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), txr_ungrouped.has_value(),\n-           txr_ungrouped.has_value() ? txr_ungrouped->fee : 0, txr_ungrouped.has_value() ? txr_ungrouped->change_pos : 0);\n-    if (!txr_ungrouped) return std::nullopt;\n+    auto res = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\n+    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 171,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 4e1353016dabcf645b22fb7c196f62d8f465df39 \"send: refactor CreateTransaction flow to return a BResult<CTransactionRef>\"\r\n\r\n`res` is not being evaluated as a `bool` here, so the tracepoint does not work as expected.\r\n\r\n```suggestion\r\n    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res.HasRes(),\r\n```",
      "created_at": "2022-06-27T19:20:53Z",
      "updated_at": "2022-06-27T19:22:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907721005",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907721005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 969,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907778660",
      "pull_request_review_id": 1020754747,
      "id": 907778660,
      "node_id": "PRRC_kwDOABII5842G5pk",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "path": "src/util/result.h",
      "position": null,
      "original_position": 26,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "in_reply_to_id": 907685907,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I would prefer it too but.. the rationale to not implement it was https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837086.\r\n\r\nLet me see how large the changes to make this happen are. Probably the only refactoring will be inside `CreateTransaction` for all the tracepoints.",
      "created_at": "2022-06-27T20:39:38Z",
      "updated_at": "2022-06-30T18:30:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907778660",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907778660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907781983",
      "pull_request_review_id": 1020759413,
      "id": 907781983,
      "node_id": "PRRC_kwDOABII5842G6df",
      "diff_hunk": "@@ -1769,9 +1763,13 @@ bool DescriptorScriptPubKeyMan::Encrypt(const CKeyingMaterial& master_key, Walle\n bool DescriptorScriptPubKeyMan::GetReservedDestination(const OutputType type, bool internal, CTxDestination& address, int64_t& index, CKeyPool& keypool, bilingual_str& error)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 75,
      "original_position": 75,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "in_reply_to_id": 907710067,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yeah, better to leave it for a follow-up PR. Once we get this one merged, other PRs will be able to use the new class in different workflows independently.",
      "created_at": "2022-06-27T20:44:13Z",
      "updated_at": "2022-06-27T20:44:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907781983",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907781983"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1763,
      "original_line": 1763,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814337",
      "pull_request_review_id": 1020805131,
      "id": 907814337,
      "node_id": "PRRC_kwDOABII5842HCXB",
      "diff_hunk": "@@ -20,11 +20,10 @@ const std::string ADDRESS_BCRT1_UNSPENDABLE = \"bcrt1qqqqqqqqqqqqqqqqqqqqqqqqqqqq\n std::string getnewaddress(CWallet& w)\n {\n     constexpr auto output_type = OutputType::BECH32;\n-    CTxDestination dest;\n-    bilingual_str error;\n-    if (!w.GetNewDestination(output_type, \"\", dest, error)) assert(false);\n+    auto op_dest = w.GetNewDestination(output_type, \"\");\n+    if (!op_dest) assert(false);",
      "path": "src/test/util/wallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "in_reply_to_id": 907707351,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-27T21:30:26Z",
      "updated_at": "2022-06-27T21:30:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814337",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814403",
      "pull_request_review_id": 1020805239,
      "id": 907814403,
      "node_id": "PRRC_kwDOABII5842HCYD",
      "diff_hunk": "@@ -904,7 +895,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n                     } else {\n                         error = _(\"The transaction amount is too small to send after the fee has been deducted\");\n                     }\n-                    return std::nullopt;\n+                    return error;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "in_reply_to_id": 907702773,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-27T21:30:33Z",
      "updated_at": "2022-06-27T21:30:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814403",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814403"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 898,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814465",
      "pull_request_review_id": 1020805322,
      "id": 907814465,
      "node_id": "PRRC_kwDOABII5842HCZB",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {",
      "path": "src/util/result.h",
      "position": null,
      "original_position": 30,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "in_reply_to_id": 907689776,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-27T21:30:39Z",
      "updated_at": "2022-06-27T21:30:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814465",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814465"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814540",
      "pull_request_review_id": 1020805454,
      "id": 907814540,
      "node_id": "PRRC_kwDOABII5842HCaM",
      "diff_hunk": "@@ -961,48 +948,46 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n     return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);\n }\n \n-std::optional<CreatedTransactionResult> CreateTransaction(\n+BResult<CreatedTransactionResult> CreateTransaction(\n         CWallet& wallet,\n         const std::vector<CRecipient>& vecSend,\n         int change_pos,\n-        bilingual_str& error,\n         const CCoinControl& coin_control,\n         bool sign)\n {\n     if (vecSend.empty()) {\n-        error = _(\"Transaction must have at least one recipient\");\n-        return std::nullopt;\n+        return _(\"Transaction must have at least one recipient\");\n     }\n \n     if (std::any_of(vecSend.cbegin(), vecSend.cend(), [](const auto& recipient){ return recipient.nAmount < 0; })) {\n-        error = _(\"Transaction amounts must not be negative\");\n-        return std::nullopt;\n+        return _(\"Transaction amounts must not be negative\");\n     }\n \n     LOCK(wallet.cs_wallet);\n \n-    std::optional<CreatedTransactionResult> txr_ungrouped = CreateTransactionInternal(wallet, vecSend, change_pos, error, coin_control, sign);\n-    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), txr_ungrouped.has_value(),\n-           txr_ungrouped.has_value() ? txr_ungrouped->fee : 0, txr_ungrouped.has_value() ? txr_ungrouped->change_pos : 0);\n-    if (!txr_ungrouped) return std::nullopt;\n+    auto res = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\n+    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 171,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "in_reply_to_id": 907721005,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-06-27T21:30:48Z",
      "updated_at": "2022-06-27T21:30:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814540",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814540"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 969,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918826967",
      "pull_request_review_id": 1035601016,
      "id": 918826967,
      "node_id": "PRRC_kwDOABII5842xC_X",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>",
      "path": "src/util/result.h",
      "position": 9,
      "original_position": 9,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing newline?",
      "created_at": "2022-07-12T10:51:12Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918826967",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918826967"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918828784",
      "pull_request_review_id": 1035601016,
      "id": 918828784,
      "node_id": "PRRC_kwDOABII5842xDbw",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}",
      "path": "src/util/result.h",
      "position": 22,
      "original_position": 22,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wonder if this is better written as `BResult(T obj) : m_variant{std::move(obj)} {}`. Otherwise it seems impossible to use on non-copyable types",
      "created_at": "2022-07-12T10:53:14Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918828784",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918828784"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918836620",
      "pull_request_review_id": 1035601016,
      "id": 918836620,
      "node_id": "PRRC_kwDOABII5842xFWM",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {",
      "path": "src/util/result.h",
      "position": 29,
      "original_position": 29,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "might be good to add a mutable getter, so that the result can be de-capsulated by the caller\r\n\r\n\r\nEdit: Fixed in https://github.com/bitcoin/bitcoin/pull/25594",
      "created_at": "2022-07-12T11:02:32Z",
      "updated_at": "2022-07-12T16:46:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918836620",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918836620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918837404",
      "pull_request_review_id": 1035601016,
      "id": 918837404,
      "node_id": "PRRC_kwDOABII5842xFic",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {\n+        assert(HasRes());\n+        return std::get<T>(m_variant);\n+    }\n+\n+    /* In case of failure, the error cause */\n+    const bilingual_str& GetError() const {",
      "path": "src/util/result.h",
      "position": 35,
      "original_position": 35,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Shouldn't this be annotated with LIFETIMEBOUND as it is returning a pointer to internal memory?",
      "created_at": "2022-07-12T11:03:34Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918837404",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918837404"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918838756",
      "pull_request_review_id": 1035601016,
      "id": 918838756,
      "node_id": "PRRC_kwDOABII5842xF3k",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {",
      "path": "src/util/result.h",
      "position": 29,
      "original_position": 29,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": 918836620,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also LIFETIMEBOUND?",
      "created_at": "2022-07-12T11:05:04Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918838756",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918838756"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918840872",
      "pull_request_review_id": 1035601016,
      "id": 918840872,
      "node_id": "PRRC_kwDOABII5842xGYo",
      "diff_hunk": "@@ -6,6 +6,7 @@\n #define BITCOIN_WALLET_SPEND_H\n \n #include <consensus/amount.h>\n+#include <policy/fees.h> // for FeeCalculation",
      "path": "src/wallet/spend.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "198fcca162f4d2f877feab485e629ff89818ff56",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "we don't add those comments, as they are impossible to maintain",
      "created_at": "2022-07-12T11:07:52Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918840872",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918840872"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918843290",
      "pull_request_review_id": 1035601016,
      "id": 918843290,
      "node_id": "PRRC_kwDOABII5842xG-a",
      "diff_hunk": "@@ -964,7 +962,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n               feeCalc.est.fail.start, feeCalc.est.fail.end,\n               (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) > 0.0 ? 100 * feeCalc.est.fail.withinTarget / (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) : 0.0,\n               feeCalc.est.fail.withinTarget, feeCalc.est.fail.totalConfirmed, feeCalc.est.fail.inMempool, feeCalc.est.fail.leftMempool);\n-    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut);\n+    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);",
      "path": "src/wallet/spend.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "198fcca162f4d2f877feab485e629ff89818ff56",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could use `{}` to clarify that this is not a function and to enable narrowing warnings for the int types.",
      "created_at": "2022-07-12T11:10:44Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918843290",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918843290"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 951,
      "original_line": 965,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918847542",
      "pull_request_review_id": 1035601016,
      "id": 918847542,
      "node_id": "PRRC_kwDOABII5842xIA2",
      "diff_hunk": "@@ -204,10 +204,10 @@ WalletModel::SendCoinsReturn WalletModel::prepareTransaction(WalletModelTransact\n     {\n         CAmount nFeeRequired = 0;\n         int nChangePosRet = -1;\n-        bilingual_str error;\n \n         auto& newTx = transaction.getWtx();\n-        newTx = m_wallet->createTransaction(vecSend, coinControl, !wallet().privateKeysDisabled() /* sign */, nChangePosRet, nFeeRequired, error);\n+        const auto& res = m_wallet->createTransaction(vecSend, coinControl, !wallet().privateKeysDisabled() /* sign */, nChangePosRet, nFeeRequired);",
      "path": "src/qt/walletmodel.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "while touching this line: clang-tidy named args are of the format `/*sign=*/`",
      "created_at": "2022-07-12T11:16:23Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918847542",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918847542"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 209,
      "original_line": 209,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918863838",
      "pull_request_review_id": 1035601016,
      "id": 918863838,
      "node_id": "PRRC_kwDOABII5842xL_e",
      "diff_hunk": "@@ -965,48 +951,47 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n     return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);\n }\n \n-std::optional<CreatedTransactionResult> CreateTransaction(\n+BResult<CreatedTransactionResult> CreateTransaction(\n         CWallet& wallet,\n         const std::vector<CRecipient>& vecSend,\n         int change_pos,\n-        bilingual_str& error,\n         const CCoinControl& coin_control,\n         bool sign)\n {\n     if (vecSend.empty()) {\n-        error = _(\"Transaction must have at least one recipient\");\n-        return std::nullopt;\n+        return _(\"Transaction must have at least one recipient\");\n     }\n \n     if (std::any_of(vecSend.cbegin(), vecSend.cend(), [](const auto& recipient){ return recipient.nAmount < 0; })) {\n-        error = _(\"Transaction amounts must not be negative\");\n-        return std::nullopt;\n+        return _(\"Transaction amounts must not be negative\");\n     }\n \n     LOCK(wallet.cs_wallet);\n \n-    std::optional<CreatedTransactionResult> txr_ungrouped = CreateTransactionInternal(wallet, vecSend, change_pos, error, coin_control, sign);\n-    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), txr_ungrouped.has_value(),\n-           txr_ungrouped.has_value() ? txr_ungrouped->fee : 0, txr_ungrouped.has_value() ? txr_ungrouped->change_pos : 0);\n-    if (!txr_ungrouped) return std::nullopt;\n+    auto res = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\n+    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res.HasRes(),\n+           res ? res.GetObj().fee : 0, res ? res.GetObj().change_pos : 0);\n+    if (!res) return res;\n+    const auto& txr_ungrouped = res.GetObj();\n     // try with avoidpartialspends unless it's enabled already\n-    if (txr_ungrouped->fee > 0 /* 0 means non-functional fee rate estimation */ && wallet.m_max_aps_fee > -1 && !coin_control.m_avoid_partial_spends) {\n+    if (txr_ungrouped.fee > 0 /* 0 means non-functional fee rate estimation */ && wallet.m_max_aps_fee > -1 && !coin_control.m_avoid_partial_spends) {\n         TRACE1(coin_selection, attempting_aps_create_tx, wallet.GetName().c_str());\n         CCoinControl tmp_cc = coin_control;\n         tmp_cc.m_avoid_partial_spends = true;\n-        bilingual_str error2; // fired and forgotten; if an error occurs, we discard the results\n-        std::optional<CreatedTransactionResult> txr_grouped = CreateTransactionInternal(wallet, vecSend, change_pos, error2, tmp_cc, sign);\n+        auto res_tx_grouped = CreateTransactionInternal(wallet, vecSend, change_pos, tmp_cc, sign);\n+        // Helper optional class for now\n+        std::optional<CreatedTransactionResult> txr_grouped{res_tx_grouped.HasRes() ? std::make_optional(res_tx_grouped.GetObj()) : std::nullopt};",
      "path": "src/wallet/spend.cpp",
      "position": 192,
      "original_position": 192,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit could use `std::move` here, if the mutable BResult interface is implemented",
      "created_at": "2022-07-12T11:34:42Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918863838",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918863838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 983,
      "original_line": 983,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918867327",
      "pull_request_review_id": 1035601016,
      "id": 918867327,
      "node_id": "PRRC_kwDOABII5842xM1_",
      "diff_hunk": "@@ -47,12 +47,11 @@ static void BenchUnloadWallet(std::shared_ptr<CWallet>&& wallet)\n \n static void AddTx(CWallet& wallet)\n {\n-    bilingual_str error;\n-    CTxDestination dest;\n-    wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n+    const auto& dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+    assert(dest.HasRes());",
      "path": "src/bench/wallet_loading.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Could write shorter as `const CTxDestination& dest{Assert(wallet.GetNewDestination(OutputType::BECH32, \"\")).GetObj()};`",
      "created_at": "2022-07-12T11:39:26Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918867327",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918867327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": 50,
      "original_start_line": 50,
      "start_side": "RIGHT",
      "line": 51,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918868560",
      "pull_request_review_id": 1035601016,
      "id": 918868560,
      "node_id": "PRRC_kwDOABII5842xNJQ",
      "diff_hunk": "@@ -47,12 +47,11 @@ static void BenchUnloadWallet(std::shared_ptr<CWallet>&& wallet)\n \n static void AddTx(CWallet& wallet)\n {\n-    bilingual_str error;\n-    CTxDestination dest;\n-    wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n+    const auto& dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+    assert(dest.HasRes());",
      "path": "src/bench/wallet_loading.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "in_reply_to_id": 918867327,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually nvm. This would likely be a use-after-free.",
      "created_at": "2022-07-12T11:40:48Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918868560",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918868560"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": 50,
      "original_start_line": 50,
      "start_side": "RIGHT",
      "line": 51,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918870433",
      "pull_request_review_id": 1035601016,
      "id": 918870433,
      "node_id": "PRRC_kwDOABII5842xNmh",
      "diff_hunk": "@@ -47,12 +47,11 @@ static void BenchUnloadWallet(std::shared_ptr<CWallet>&& wallet)\n \n static void AddTx(CWallet& wallet)\n {\n-    bilingual_str error;\n-    CTxDestination dest;\n-    wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n+    const auto& dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+    assert(dest.HasRes());",
      "path": "src/bench/wallet_loading.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "in_reply_to_id": 918867327,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe there could be a `ReleaseObj` helper to obtain the ownership?",
      "created_at": "2022-07-12T11:43:07Z",
      "updated_at": "2022-07-12T11:56:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918870433",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918870433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": 50,
      "original_start_line": 50,
      "start_side": "RIGHT",
      "line": 51,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918926778",
      "pull_request_review_id": 1035744756,
      "id": 918926778,
      "node_id": "PRRC_kwDOABII5842xbW6",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {\n+        assert(HasRes());\n+        return std::get<T>(m_variant);\n+    }\n+\n+    /* In case of failure, the error cause */\n+    const bilingual_str& GetError() const {",
      "path": "src/util/result.h",
      "position": 35,
      "original_position": 35,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": 918837404,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Diff to reproduce use-after-free with asan:\r\n\r\n\r\n```diff\r\ndiff --git a/src/test/util_tests.cpp b/src/test/util_tests.cpp\r\nindex fda56ccff7..2abf2db298 100644\r\n--- a/src/test/util_tests.cpp\r\n+++ b/src/test/util_tests.cpp\r\n@@ -4,6 +4,7 @@\r\n \r\n #include <util/system.h>\r\n \r\n+#include <util/result.h>\r\n #include <clientversion.h>\r\n #include <fs.h>\r\n #include <hash.h> // For Hash()\r\n@@ -2659,6 +2660,13 @@ BOOST_AUTO_TEST_CASE(message_hash)\r\n     BOOST_CHECK_NE(message_hash1, signature_hash);\r\n }\r\n \r\n+BOOST_AUTO_TEST_CASE(bresult)\r\n+{\r\n+  const auto& long_str{\"Looooooooooooooooooooooooooooooooooooooooooooooooong string\"};\r\n+  const auto& err{BResult<int>{Untranslated(long_str)}.GetError()};\r\n+  BOOST_CHECK_EQUAL(err.original, long_str);\r\n+}\r\n+\r\n BOOST_AUTO_TEST_CASE(remove_prefix)\r\n {\r\n     BOOST_CHECK_EQUAL(RemovePrefix(\"./util/system.h\", \"./\"), \"util/system.h\");\r\n```\r\n\r\nWith the warning added:\r\n\r\n\r\n```diff\r\ndiff --git a/src/util/result.h b/src/util/result.h\r\nindex dcf5edaa5b..18364b3c6e 100644\r\n--- a/src/util/result.h\r\n+++ b/src/util/result.h\r\n@@ -6,6 +6,8 @@\r\n #define BITCOIN_UTIL_RESULT_H\r\n \r\n #include <util/translation.h>\r\n+#include <attributes.h>\r\n+\r\n #include <variant>\r\n \r\n /*\r\n@@ -32,7 +34,7 @@ public:\r\n     }\r\n \r\n     /* In case of failure, the error cause */\r\n-    const bilingual_str& GetError() const {\r\n+    const bilingual_str& GetError() const LIFETIMEBOUND {\r\n         assert(!HasRes());\r\n         return std::get<bilingual_str>(m_variant);\r\n     }\r\n```\r\n\r\nResults in:\r\n\r\n```\r\ntest/util_tests.cpp:2666:19: warning: temporary bound to local reference 'err' will be destroyed at the end of the full-expression [-Wdangling]\r\n  const auto& err{BResult<int>{Untranslated(long_str)}.GetError()};\r\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n1 warning generated.\r\n\r\n\r\n\r\n",
      "created_at": "2022-07-12T12:47:13Z",
      "updated_at": "2022-07-12T12:47:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918926778",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918926778"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985474",
      "pull_request_review_id": 1035829419,
      "id": 918985474,
      "node_id": "PRRC_kwDOABII5842xpsC",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>",
      "path": "src/util/result.h",
      "position": 9,
      "original_position": 9,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": 918826967,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in https://github.com/bitcoin/bitcoin/pull/25594",
      "created_at": "2022-07-12T13:40:23Z",
      "updated_at": "2022-07-12T13:40:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918985474",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985584",
      "pull_request_review_id": 1035829584,
      "id": 918985584,
      "node_id": "PRRC_kwDOABII5842xptw",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}",
      "path": "src/util/result.h",
      "position": 22,
      "original_position": 22,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "in_reply_to_id": 918828784,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in https://github.com/bitcoin/bitcoin/pull/25594",
      "created_at": "2022-07-12T13:40:29Z",
      "updated_at": "2022-07-12T13:40:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918985584",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921376131",
      "pull_request_review_id": 1039194856,
      "id": 921376131,
      "node_id": "PRRC_kwDOABII58426xWD",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {",
      "path": "src/util/result.h",
      "position": 16,
      "original_position": 16,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "in_reply_to_id": null,
      "user": {
        "login": "Riahiamirreza",
        "id": 54557628,
        "node_id": "MDQ6VXNlcjU0NTU3NjI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/54557628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Riahiamirreza",
        "html_url": "https://github.com/Riahiamirreza",
        "followers_url": "https://api.github.com/users/Riahiamirreza/followers",
        "following_url": "https://api.github.com/users/Riahiamirreza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Riahiamirreza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Riahiamirreza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Riahiamirreza/subscriptions",
        "organizations_url": "https://api.github.com/users/Riahiamirreza/orgs",
        "repos_url": "https://api.github.com/users/Riahiamirreza/repos",
        "events_url": "https://api.github.com/users/Riahiamirreza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Riahiamirreza/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What does that `B` means at the beginning of class name?",
      "created_at": "2022-07-14T17:02:13Z",
      "updated_at": "2022-07-14T20:08:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r921376131",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921376131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921449805",
      "pull_request_review_id": 1039194856,
      "id": 921449805,
      "node_id": "PRRC_kwDOABII58427DVN",
      "diff_hunk": "@@ -964,7 +962,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n               feeCalc.est.fail.start, feeCalc.est.fail.end,\n               (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) > 0.0 ? 100 * feeCalc.est.fail.withinTarget / (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) : 0.0,\n               feeCalc.est.fail.withinTarget, feeCalc.est.fail.totalConfirmed, feeCalc.est.fail.inMempool, feeCalc.est.fail.leftMempool);\n-    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut);\n+    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);",
      "path": "src/wallet/spend.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "198fcca162f4d2f877feab485e629ff89818ff56",
      "in_reply_to_id": 918843290,
      "user": {
        "login": "Riahiamirreza",
        "id": 54557628,
        "node_id": "MDQ6VXNlcjU0NTU3NjI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/54557628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Riahiamirreza",
        "html_url": "https://github.com/Riahiamirreza",
        "followers_url": "https://api.github.com/users/Riahiamirreza/followers",
        "following_url": "https://api.github.com/users/Riahiamirreza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Riahiamirreza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Riahiamirreza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Riahiamirreza/subscriptions",
        "organizations_url": "https://api.github.com/users/Riahiamirreza/orgs",
        "repos_url": "https://api.github.com/users/Riahiamirreza/repos",
        "events_url": "https://api.github.com/users/Riahiamirreza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Riahiamirreza/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@MarcoFalke Use `{}` where? You mean `CreatedTransactionResult{tx, nFeeRet, nChangePosInOut, feeCalc}` instead of current version? ",
      "created_at": "2022-07-14T18:20:41Z",
      "updated_at": "2022-07-14T20:08:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r921449805",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921449805"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 951,
      "original_line": 965,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116692",
      "pull_request_review_id": 1040224800,
      "id": 922116692,
      "node_id": "PRRC_kwDOABII58429mJU",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {",
      "path": "src/util/result.h",
      "position": 16,
      "original_position": 16,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "in_reply_to_id": 921376131,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Comes from \"Bilingual\". The story behind it is in the last paragraph of this comment: https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166387618",
      "created_at": "2022-07-15T12:26:23Z",
      "updated_at": "2022-07-15T12:26:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r922116692",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116692"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116940",
      "pull_request_review_id": 1040225148,
      "id": 922116940,
      "node_id": "PRRC_kwDOABII58429mNM",
      "diff_hunk": "@@ -6,6 +6,7 @@\n #define BITCOIN_WALLET_SPEND_H\n \n #include <consensus/amount.h>\n+#include <policy/fees.h> // for FeeCalculation",
      "path": "src/wallet/spend.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_commit_id": "198fcca162f4d2f877feab485e629ff89818ff56",
      "in_reply_to_id": 918840872,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "k, got it. Thanks.",
      "created_at": "2022-07-15T12:26:43Z",
      "updated_at": "2022-07-15T12:26:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r922116940",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116940"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    }
  ]
}