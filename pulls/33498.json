{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498",
    "id": 2871075711,
    "node_id": "PR_kwDOABII586rISN_",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33498",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33498.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33498.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33498",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33498/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
    "number": 33498,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "p2p: Mitigate GETADDR fingerprinting by setting address timestamps to a fixed value",
    "user": {
      "login": "naiyoma",
      "id": 40592031,
      "node_id": "MDQ6VXNlcjQwNTkyMDMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naiyoma",
      "html_url": "https://github.com/naiyoma",
      "followers_url": "https://api.github.com/users/naiyoma/followers",
      "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
      "organizations_url": "https://api.github.com/users/naiyoma/orgs",
      "repos_url": "https://api.github.com/users/naiyoma/repos",
      "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/naiyoma/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "TLDR: When a node is connected to multiple networks (e.g., clearnet and Tor), it keeps separate ADDR response caches for each network. These are refreshed about once per day (randomized between 21 and 27 hours). See →[ https://github.com/bitcoin/bitcoin/blob/master/src/net.cpp#L3519](https://github.com/bitcoin/bitcoin/blob/master/src/net.cpp#L3519)\r\nThis is an example of a dual-homed node’s addrman response, with separate caches:\r\n\r\n_IPv4 response:_\r\n```\r\n{102.130.242.11:8333 : 1741100851}\r\n{119.17.151.161:8333 : 1739825443}\r\n{ubeirqalc4vj54baszpatvctpohn62hzj7vfnbncy6upa6vywvgewrad.onion:8333 : 1739825443}\r\n\r\n```\r\n_Tor response:_\r\n```\r\n{102.130.242.11:8333 : 1741100851}\r\n{94.23.167.176:8333 : 1740895525}\r\n{ubeirqalc4vj54baszpatvctpohn62hzj7vfnbncy6upa6vywvgewrad.onion:8333 : 1739825443}\r\n\r\n```\r\nCurrently, there's a fingerprinting attack that exploits responses to GETADDR messages. An attacker can collect responses from supposedly different nodes and compare the timestamps. By looking at overlaps in responses, they can correlate Tor and clearnet identities — effectively linking them back to the same node.\r\nMore details on this attack here:[ https://delvingbitcoin.org/t/fingerprinting-nodes-via-addr-requests/1786](https://delvingbitcoin.org/t/fingerprinting-nodes-via-addr-requests/1786)\r\n\r\nThis PR mitigates the attack by setting the timestamps in different caches to a fixed value in the past (10.5 ± 2.5 days), preventing correlation through timestamps.\r\nAfter the change, timestamps in each cache are now uniform, but differ between caches:\r\n\r\n_IPv4 response:_\r\n```\r\n{102.130.242.11:8333 : 1757964675}\r\n{119.17.151.161:8333 : 1757964675}\r\n{ubeirqalc4vj54baszpatvctpohn62hzj7vfnbncy6upa6vywvgewrad.onion:8333 : 1757964675}\r\n\r\n```\r\n_Tor response:_\r\n```\r\n{102.130.242.11:8333 : 1757878277}\r\n{119.17.151.161:8333 : 1757878277}\r\n{ubeirqalc4vj54baszpatvctpohn62hzj7vfnbncy6upa6vywvgewrad.onion:8333 : 1757878277}\r\n```\r\n\r\nWe initially considered setting the timestamps to 0, since they would eventually be updated and saved. However, this isn’t compatible with btcd (see details here → https://github.com/btcsuite/btcd/issues/2411 ). \r\nThis is still a work in progress — we’re continuing to test and are open to trying other solutions as well.\r\n\r\nThis is joint work with @danielabrozzoni",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "created_at": "2025-09-29T15:21:00Z",
    "updated_at": "2025-10-16T13:21:13Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "99904ca32bf44e9006e1156050041ff840c7928d",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "naiyoma:2025_3/getaddr_timestamp_changes",
      "ref": "2025_3/getaddr_timestamp_changes",
      "sha": "28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 685023327,
        "node_id": "R_kgDOKNSgXw",
        "name": "bitcoin",
        "full_name": "naiyoma/bitcoin",
        "owner": {
          "login": "naiyoma",
          "id": 40592031,
          "node_id": "MDQ6VXNlcjQwNTkyMDMx",
          "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/naiyoma",
          "html_url": "https://github.com/naiyoma",
          "followers_url": "https://api.github.com/users/naiyoma/followers",
          "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
          "organizations_url": "https://api.github.com/users/naiyoma/orgs",
          "repos_url": "https://api.github.com/users/naiyoma/repos",
          "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/naiyoma/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/naiyoma/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/naiyoma/bitcoin",
        "archive_url": "https://api.github.com/repos/naiyoma/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/naiyoma/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/naiyoma/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/naiyoma/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/naiyoma/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/naiyoma/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/naiyoma/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/naiyoma/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/naiyoma/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/naiyoma/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/naiyoma/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/naiyoma/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/naiyoma/bitcoin/events",
        "forks_url": "https://api.github.com/repos/naiyoma/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/naiyoma/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/naiyoma/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/naiyoma/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/naiyoma/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/naiyoma/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/naiyoma/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/naiyoma/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/naiyoma/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/naiyoma/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/naiyoma/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/naiyoma/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/naiyoma/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/naiyoma/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/naiyoma/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/naiyoma/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:naiyoma/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/naiyoma/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/naiyoma/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/naiyoma/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/naiyoma/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/naiyoma/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/naiyoma/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/naiyoma/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/naiyoma/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/naiyoma/bitcoin/hooks",
        "svn_url": "https://github.com/naiyoma/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 250932,
        "default_branch": "master",
        "open_issues_count": 9,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-03T11:48:20Z",
        "created_at": "2023-08-30T10:54:44Z",
        "updated_at": "2025-09-10T12:29:09Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1ed00a0d39d5190d8ad88a0dd705a09b56d987aa",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38037,
        "stargazers_count": 86215,
        "watchers_count": 86215,
        "size": 295003,
        "default_branch": "master",
        "open_issues_count": 824,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-16T08:53:08Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-10-16T12:57:20Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 42,
    "deletions": 0,
    "changed_files": 2,
    "commits": 2,
    "review_comments": 4,
    "comments": 5
  },
  "events": [
    {
      "event": "mentioned",
      "id": 19987171268,
      "node_id": "MEE_lADOABII587Oj1VKzwAAAASnVAfE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19987171268",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-29T15:21:01Z"
    },
    {
      "event": "subscribed",
      "id": 19987171299,
      "node_id": "SE_lADOABII587Oj1VKzwAAAASnVAfj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19987171299",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-29T15:21:01Z"
    },
    {
      "event": "labeled",
      "id": 19987172275,
      "node_id": "LE_lADOABII587Oj1VKzwAAAASnVAuz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19987172275",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-29T15:21:04Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 3347620195,
      "node_id": "IC_kwDOABII587HiKFj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3347620195",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-29T15:21:06Z",
      "updated_at": "2025-10-01T13:32:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33498.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/33498#issuecomment-3352992312), [mzumsande](https://github.com/bitcoin/bitcoin/pull/33498#pullrequestreview-3286046607), [sipa](https://github.com/bitcoin/bitcoin/pull/33498#issuecomment-3356355027) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#issuecomment-3347620195",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33498"
    },
    {
      "event": "commented",
      "id": 3352992312,
      "node_id": "IC_kwDOABII587H2po4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3352992312",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-30T16:38:05Z",
      "updated_at": "2025-09-30T16:38:05Z",
      "author_association": "MEMBER",
      "body": "Concept ACK on working on this. Good to see proposals like this and #33464.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#issuecomment-3352992312",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33498"
    },
    {
      "event": "reviewed",
      "id": 3286046607,
      "node_id": "PRR_kwDOABII587D3ReP",
      "url": null,
      "actor": null,
      "commit_id": "3a8b014be1e35ec36aa0c820b431e9d980f6281d",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-09-30T17:45:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nThe suggested solution reduces the precision of timestamps for the receiving party, but makes fingerprinting harder - seems like an acceptable trade-off to me. \r\n\r\nIf there is an active node behind the address it won't be `Terrible` for another ~20 days - until that happens, we could update it with a more accurate timestamp when we connect to it or receive the addr via gossip relay. ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#pullrequestreview-3286046607",
      "submitted_at": "2025-09-30T17:45:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498"
    },
    {
      "event": "commented",
      "id": 3356355027,
      "node_id": "IC_kwDOABII587IDenT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3356355027",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-01T13:32:18Z",
      "updated_at": "2025-10-01T13:32:18Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#issuecomment-3356355027",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33498"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNlYzIxYmQyZjcxNTdmMDQ3ODQ3Y2E5ZDJiMDdkZGVkNzI5NjY4NDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cec21bd2f7157f047847ca9d2b07dded72966843",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cec21bd2f7157f047847ca9d2b07dded72966843",
      "tree": {
        "sha": "9d8c068ab1d93e0eb252b8b7301d13716361a21d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9d8c068ab1d93e0eb252b8b7301d13716361a21d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee42d59d4de970769ebabf77b89ff4269498f61e",
          "sha": "ee42d59d4de970769ebabf77b89ff4269498f61e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ee42d59d4de970769ebabf77b89ff4269498f61e"
        }
      ],
      "message": "net: set timestamps to a fixed time(10.5±2.5 days ago) for each cache\n\nCo-authored-by: Daniela Brozzoni <danielabrozzoni@protonmail.com>",
      "committer": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2025-10-03T11:38:53Z"
      },
      "author": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2025-09-22T12:15:42Z"
      },
      "sha": "cec21bd2f7157f047847ca9d2b07dded72966843"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI4ZmU4ZWNhZTY1NmM2YWNiNDI5NmZjYmRjYzIwNGNjMjNlY2MxNjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "tree": {
        "sha": "ee0969b1502ba99a372815655d283d1acaa342a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ee0969b1502ba99a372815655d283d1acaa342a6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cec21bd2f7157f047847ca9d2b07dded72966843",
          "sha": "cec21bd2f7157f047847ca9d2b07dded72966843",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cec21bd2f7157f047847ca9d2b07dded72966843"
        }
      ],
      "message": "test: check timestamp uniqueness per cache\n\nCo-authored-by: Daniela Brozzoni <danielabrozzoni@protonmail.com>",
      "committer": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2025-10-03T11:39:42Z"
      },
      "author": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2025-09-25T12:14:32Z"
      },
      "sha": "28fe8ecae656c6acb4296fcbdcc204cc23ecc165"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20079712176,
      "node_id": "HRFPE_lADOABII587Oj1VKzwAAAASs2Bew",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20079712176",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "created_at": "2025-10-03T11:48:21Z"
    },
    {
      "event": "ready_for_review",
      "id": 20162778395,
      "node_id": "RFRE_lADOABII587Oj1VKzwAAAASxy5Ub",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20162778395",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-08T12:27:35Z"
    },
    {
      "event": "reviewed",
      "id": 3319680730,
      "node_id": "PRR_kwDOABII587F3k7a",
      "url": null,
      "actor": null,
      "commit_id": "28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-09T16:30:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "I wonder if this could lead to addrs of nodes that have left the network never getting removed:\r\n\r\nThe scenario is a well-connected node that is present in most other nodes' addrmans, but that suddenly leaves the network or changes its IP.\r\n\r\nCurrently what happens is that 1) It won't self-advertise anymore and 2) [after 30 days](https://github.com/bitcoin/bitcoin/blob/b510893d00760083ac36948747aa6ebd84656192/src/addrman.cpp#L34), the addr gets Terrible and won't be part of `GetAddr` interactions between other nodes. So it won't be relayed by anyone after that - It will stay a while in most nodes' addrmans and eventually be replaced due to addrman collisions.\r\n\r\nWith this PR, if an address older than 10 days (but not older than 30 days) is part of a `GetAddr` answer, the receiving peer will _postdate_ its timestamp, giving it more time until it gets Terrible. There is a chaining effect, because the receiving peer will also relay it longer when it answers `GetAddr` requests itself, and so on. If this would happen frequently enough, the addr of the node that has left the network would always stay in the 10-30 day range and never cease to be relayed, and we'd be stuck with it forever - which would be problematic, because with enough time and node turnover, everyone's addrman would get \"full\" and there would be no more room for actual new nodes.\r\nThe crucial question is if GetAddr interactions happen frequently enough for this to be an important effect.\r\n",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#pullrequestreview-3319680730",
      "submitted_at": "2025-10-09T16:11:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498"
    },
    {
      "event": "commented",
      "id": 3410382253,
      "node_id": "IC_kwDOABII587LRk2t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3410382253",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-16T11:20:00Z",
      "updated_at": "2025-10-16T11:20:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "\r\n> With this PR, if an address older than 10 days (but not older than 30 days) is part of a `GetAddr` answer, the receiving peer will _postdate_ its timestamp, giving it more time until it gets Terrible. There is a chaining effect, because the receiving peer will also relay it longer when it answers `GetAddr` requests itself, and so on. If this would happen frequently enough, the addr of the node that has left the network would always stay in the 10-30 day range and never cease to be relayed, and we'd be stuck with it forever - which would be problematic, because with enough time and node turnover, everyone's addrman would get \"full\" and there would be no more room for actual new nodes. \r\n\r\nThanks, this is insightful and likely to happen. I was initially thinking the other checks( `m_last_success `) might still be useful to mark zombie addresses as terrible.\r\n\r\nBut it’s unlikely that there would be enough attempted connections before the address is sent again.\r\n\r\n>The crucial question is if GetAddr interactions happen frequently enough for this to be an important effect.\r\n\r\nI don't have data on this yet - will grep and update soon",
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#issuecomment-3410382253",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33498"
    },
    {
      "event": "commented",
      "id": 3410869340,
      "node_id": "IC_kwDOABII587LTbxc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3410869340",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-16T13:21:13Z",
      "updated_at": "2025-10-16T13:21:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you Martin, I agree that the current solution has this issue.\r\n\r\nOur other approach would have run into the same problem. We had considered setting all timestamps to zero, but we didn’t implement it because we’re not sure if it’s compatible with btcd, as mentioned in the PR description. This approach has the same problem as the current one:\r\n- Suppose we have an address in our addrman with a timestamp of 29 days ago, and the corresponding node has already left the network\r\n- We send the address in a getaddr response with the timestamp set to 0\r\n- The receiving node interprets that as “5 days ago”\r\n\r\nSo it ends up having the same problem: the address looks newer than it actually is, and it sticks around longer than it should, potentially forever.\r\n\r\nI’ve been thinking about an alternative solution, though I’m not sure if it makes sense. Perhaps an approach similar to the current one, but range-based, could work. Instead of setting every timestamp to 10 +- 2 days ago, we could adjust it based on how old the original timestamp is.\r\n\r\nAs a rough idea (numbers are just placeholders for now), we could generate three random reference timestamps once: one around 25+-2 days ago, one around 15+-2 days ago, and one around 5+-2 days ago; then assign each address to one of these depending on how old its original timestamp is:\r\n\r\n- If older than 25 days → use the 25-day reference\r\n- If older than 15 days → use the 15-day reference\r\n- Otherwise → use the 5-day reference\r\n\r\nThe exact numbers would need more thought. The fingerprinting issue would still exist: if two identities correspond to the same node, they would share the same initial timestamp and end up in the same range. Still, if we choose reasonable values, a large number of nodes might end up sending approximately the same timestamps.\r\n",
      "user": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#issuecomment-3410869340",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33498"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2392350010",
      "pull_request_review_id": 3286046607,
      "id": 2392350010,
      "node_id": "PRRC_kwDOABII586OmF06",
      "diff_hunk": "@@ -3554,6 +3554,17 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n         // in terms of the freshness of the response.\n         cache_entry.m_cache_entry_expiration = current_time +\n             21h + FastRandomContext().randrange<std::chrono::microseconds>(6h);\n+\n+        const auto now{Now<NodeSeconds>()};\n+        const auto new_timestamp = now - std::chrono::minutes(8 * 60 * 24 + FastRandomContext().randrange(5 * 60 * 24));",
      "path": "src/net.cpp",
      "position": 400,
      "original_position": 6,
      "commit_id": "28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "original_commit_id": "ece29165527e7932022cdd86229bb0170196a9c0",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Since this is calculated on a level of minutes, it looks like it would give a range 10.5±2.5 days, not 10±2 days.",
      "created_at": "2025-09-30T17:30:29Z",
      "updated_at": "2025-09-30T17:45:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#discussion_r2392350010",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2392350010"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3559,
      "original_line": 3559,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2401632810",
      "pull_request_review_id": 3298596221,
      "id": 2401632810,
      "node_id": "PRRC_kwDOABII586PJgIq",
      "diff_hunk": "@@ -3554,6 +3554,17 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n         // in terms of the freshness of the response.\n         cache_entry.m_cache_entry_expiration = current_time +\n             21h + FastRandomContext().randrange<std::chrono::microseconds>(6h);\n+\n+        const auto now{Now<NodeSeconds>()};\n+        const auto new_timestamp = now - std::chrono::minutes(8 * 60 * 24 + FastRandomContext().randrange(5 * 60 * 24));",
      "path": "src/net.cpp",
      "position": 400,
      "original_position": 6,
      "commit_id": "28fe8ecae656c6acb4296fcbdcc204cc23ecc165",
      "original_commit_id": "ece29165527e7932022cdd86229bb0170196a9c0",
      "in_reply_to_id": 2392350010,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, this is more precise, ive updated ",
      "created_at": "2025-10-03T11:52:15Z",
      "updated_at": "2025-10-03T11:52:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33498#discussion_r2401632810",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2401632810"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33498"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3559,
      "original_line": 3559,
      "side": "RIGHT"
    }
  ]
}