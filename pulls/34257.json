{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34257",
    "id": 3164120126,
    "node_id": "PR_kwDOABII5868mKQ-",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34257",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34257.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34257.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34257/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34257/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/b1aaedc92d53027587e45eaf821fa411f4f0991d",
    "number": 34257,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "txgraph: deterministic optimal transaction order",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "Part of #30289.\r\n\r\nTxGraph's fundamental responsibility is deciding the order of transactions in the mempool. It relies on the `cluster_linearize.h` code to optimize it, but there can and often will be many different orderings that are essentially equivalent from a quality perspective, so we have to pick one. At a high level, the solution will involve one or more of:\r\n* Deciding based on **internal identifiers** (`Cluster::m_sequence`, `DepGraphIndex`). This is very simple, but risks leaking information about transaction receive order.\r\n* Deciding **randomly**, which is private, but may interfere with relay expectations, block propagation, and ability to monitor network behavior.\r\n* Deciding **based on txid**, which is private and deterministic, but risks incentivizing grinding to get an edge (though we haven't really seen such behavior).\r\n* Deciding **based on size** (e.g. prefer smaller transactions), which is somewhat related to quality, but not unconditionally (depending on mempool layout, the ideal ordering might call for smaller transactions first, last, or anywhere in between). It's also not a strong ordering as there can be many identically-sized transactions. However, if it were to encourage grinding behavior, incentivizing smaller transactions is probably not a bad thing.\r\n\r\nAs of #32545, the current behavior is primarily picking randomly, though inconsistently, as some code paths also use internal identifiers and size. #33335 sought to change it to use random (preferring size in a few places), with the downsides listed above.\r\n\r\nThis PR is an alternative to that, which changes the order to tie-break based on size everywhere possible, and use lowest-txid-first as final fallback. This is fully deterministic: for any given set of mempool transactions, if all linearized optimally, the transaction order exposed by TxGraph is deterministic.\r\n\r\nThe order of transactions within a chunk is tie-broken using:\r\n1. The output of `PostLinearize` (which improves sub-chunk order), using an initial linearization created using the rules 2-4 below.\r\n2. Individual transaction feerate (high to low)\r\n3. Individual transaction weight (small to large)\r\n4. Txid (low to high txid)\r\n\r\nThe order of chunks within a cluster is tie-broken using:\r\n1. Chunk feerate (high to low)\r\n2. Chunk weight (small to large)\r\n3. Max-txid (chunk with lowest maximum-txid first)\r\n\r\nThe order of chunks across clusters is tie-broken using:\r\n1. Feerate (high to low)\r\n2. Equal-feerate-chunk-prefix weight (small to large)\r\n3. Max-txid (chunk with lowest maximum-txid first)\r\n\r\nThe equal-feerate-chunk-prefix weight of a chunk C is defined as the sum of the weights of all chunks in the same cluster as C, with the same feerate as C, up to and including C itself, in linearization order (but excluding such chunks that appear after C). This is a well-defined approximation of sorting chunks from small to large across clusters, while remaining consistent with intra-cluster linearization order.\r\n",
    "labels": [],
    "created_at": "2026-01-11T23:56:09Z",
    "updated_at": "2026-01-16T16:30:00Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "e9543ce0bda9bd10dec6d4fc254476c67d59a47c",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "sipa:202601_det_mempool_order",
      "ref": "202601_det_mempool_order",
      "sha": "b1aaedc92d53027587e45eaf821fa411f4f0991d",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1458655,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDU4NjU1",
        "name": "bitcoin",
        "full_name": "sipa/bitcoin",
        "owner": {
          "login": "sipa",
          "id": 548488,
          "node_id": "MDQ6VXNlcjU0ODQ4OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sipa",
          "html_url": "https://github.com/sipa",
          "followers_url": "https://api.github.com/users/sipa/followers",
          "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
          "organizations_url": "https://api.github.com/users/sipa/orgs",
          "repos_url": "https://api.github.com/users/sipa/repos",
          "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sipa/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/sipa/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sipa/bitcoin",
        "archive_url": "https://api.github.com/repos/sipa/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sipa/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sipa/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sipa/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sipa/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sipa/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sipa/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sipa/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sipa/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sipa/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sipa/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sipa/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sipa/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sipa/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sipa/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sipa/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sipa/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sipa/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sipa/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sipa/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sipa/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sipa/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sipa/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sipa/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sipa/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sipa/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sipa/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sipa/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sipa/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sipa/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sipa/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sipa/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sipa/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sipa/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sipa/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sipa/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sipa/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sipa/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sipa/bitcoin/hooks",
        "svn_url": "https://github.com/sipa/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "TypeScript",
        "forks_count": 22,
        "stargazers_count": 91,
        "watchers_count": 91,
        "size": 284677,
        "default_branch": "lows",
        "open_issues_count": 17,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-15T14:05:46Z",
        "created_at": "2011-03-09T10:46:59Z",
        "updated_at": "2025-12-31T21:09:58Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "d08c1b3ed9345597863822ddf1dec7a68d1dbcbb",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38735,
        "stargazers_count": 87675,
        "watchers_count": 87675,
        "size": 301918,
        "default_branch": "master",
        "open_issues_count": 748,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-15T15:12:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-01-16T16:24:04Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34257"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 794,
    "deletions": 386,
    "changed_files": 20,
    "commits": 10,
    "review_comments": 0,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 3736425770,
      "node_id": "IC_kwDOABII587etVUq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3736425770",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T23:56:16Z",
      "updated_at": "2026-01-15T14:06:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34257.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34259](https://github.com/bitcoin/bitcoin/pull/34259) (Find minimal chunks in SFL by sipa)\n* [#34138](https://github.com/bitcoin/bitcoin/pull/34138) (Cluster mempool: more accurate cost model for SFL by sipa)\n* [#34023](https://github.com/bitcoin/bitcoin/pull/34023) (Optimized SFL cluster linearization by sipa)\n* [#33335](https://github.com/bitcoin/bitcoin/pull/33335) (txgraph: randomize order of same-feerate distinct-cluster transactions by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34257#issuecomment-3736425770",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257"
    },
    {
      "event": "labeled",
      "id": 21978759101,
      "node_id": "LE_lADOABII587ioq3GzwAAAAUeCT-9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21978759101",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-12T01:29:24Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3736607007,
      "node_id": "IC_kwDOABII587euBkf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3736607007",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-12T01:29:29Z",
      "updated_at": "2026-01-12T01:29:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `fuzzer,address,undefined,integer`: https://github.com/bitcoin/bitcoin/actions/runs/20904012857/job/60054281786</sub>\n<sub>LLM reason (âœ¨ experimental): UndefinedBehaviorSanitizer detected an unsigned integer overflow in the fuzz target cluster_linearize.cpp, causing the CI failure.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34257#issuecomment-3736607007",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21990192883,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUet7bz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21990192883",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "963f8fd70d77cc84e055d79c4574c1df213299be",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/963f8fd70d77cc84e055d79c4574c1df213299be",
      "created_at": "2026-01-12T13:53:06Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21992124125,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUe1S7d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21992124125",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "7516b1f13eaad5f356d586b9d1b5ffe0516f6022",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/7516b1f13eaad5f356d586b9d1b5ffe0516f6022",
      "created_at": "2026-01-12T15:08:43Z"
    },
    {
      "event": "unlabeled",
      "id": 21995189142,
      "node_id": "UNLE_lADOABII587ioq3GzwAAAAUfA_OW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21995189142",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-12T17:17:12Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22001170747,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUfXzk7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22001170747",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "04eaf80bda3a5dbc85e04ab7398d4545f1712709",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/04eaf80bda3a5dbc85e04ab7398d4545f1712709",
      "created_at": "2026-01-12T22:21:38Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22019519623,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUgdzSH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22019519623",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "a215f40a6c1532f1e82d1c460facf78711685e54",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/a215f40a6c1532f1e82d1c460facf78711685e54",
      "created_at": "2026-01-13T15:06:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22020243859,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUggkGT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22020243859",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "f938e0b25b22dc969172f4e72f8c84e592303509",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/f938e0b25b22dc969172f4e72f8c84e592303509",
      "created_at": "2026-01-13T15:31:59Z"
    },
    {
      "event": "labeled",
      "id": 22020279819,
      "node_id": "LE_lADOABII587ioq3GzwAAAAUggs4L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22020279819",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-13T15:33:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 22022546572,
      "node_id": "UNLE_lADOABII587ioq3GzwAAAAUgpWSM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22022546572",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-13T17:05:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22055512012,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUinGfM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22055512012",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "77d68ea7a20f4f862f211142512d54d8ed99998a",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/77d68ea7a20f4f862f211142512d54d8ed99998a",
      "created_at": "2026-01-14T22:48:26Z"
    },
    {
      "event": "commented",
      "id": 3752093400,
      "node_id": "IC_kwDOABII587fpGbY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3752093400",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-14T23:00:01Z",
      "updated_at": "2026-01-14T23:00:01Z",
      "author_association": "MEMBER",
      "body": "I have a few changes to comments and tests. Most importantly, the optimal linearization unit tests now compare with an exact known-correct optimal linearization. To generate those, I have updated https://github.com/sipa/pyclusterlin to construct the same deterministic linearization order (if optimal).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34257#issuecomment-3752093400",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257"
    },
    {
      "event": "labeled",
      "id": 22068111138,
      "node_id": "LE_lADOABII587ioq3GzwAAAAUjXKci",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22068111138",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-15T12:09:35Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22070427492,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUjf_9k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22070427492",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "dda519c8c06cf1044e6b2d7f3c091ccedb09d91a",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/dda519c8c06cf1044e6b2d7f3c091ccedb09d91a",
      "created_at": "2026-01-15T13:48:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22070456873,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUjgHIp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22070456873",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "8104ced4b23ae60568a8cc20e8a770da041d3e63",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/8104ced4b23ae60568a8cc20e8a770da041d3e63",
      "created_at": "2026-01-15T13:49:32Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIyNWQ0MjA0MjQ2NmNmNWEzY2NkOWExZGIxNTcxMTQ4NTQxMGZhMWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/225d42042466cf5a3ccd9a1db15711485410fa1a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/225d42042466cf5a3ccd9a1db15711485410fa1a",
      "tree": {
        "sha": "ae2051fecb31794eba917417d895bd468040b67f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ae2051fecb31794eba917417d895bd468040b67f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d08c1b3ed9345597863822ddf1dec7a68d1dbcbb",
          "sha": "d08c1b3ed9345597863822ddf1dec7a68d1dbcbb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d08c1b3ed9345597863822ddf1dec7a68d1dbcbb"
        }
      ],
      "message": "txgraph: initialize Ref in AddTransaction (preparation)\n\nInstead of returning a TxGraph::Ref from TxGraph::AddTransaction(),\npass in a TxGraph::Ref& which is updated to refer to the new transaction\nin that graph.\n\nThis cleans up the usage somewhat, avoiding the need for dummy Refs in\nCTxMemPoolEntry constructor calls, but the motivation is that a future\ncommit will allow a callback to passed to MakeTxGraph to define a\nfallback order on the transaction objects. This does not when a Ref is\ncreated separately from the CTxMemPoolEntry it ends up living in, as\npassing the newly-created Ref to the callback would be UB before it's\nemplaced in its final CTxMemPoolEntry.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T13:57:47Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-10T18:03:36Z"
      },
      "sha": "225d42042466cf5a3ccd9a1db15711485410fa1a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRmZjg3NTE3YTM4NjEwZDk0YWQ4OTA3ZmY4N2NiNjJlNWEyYmZiZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4ff87517a38610d94ad8907ff87cb62e5a2bfbf6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4ff87517a38610d94ad8907ff87cb62e5a2bfbf6",
      "tree": {
        "sha": "72155de91af3751a1598f28d6859655b60a4bd36",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/72155de91af3751a1598f28d6859655b60a4bd36"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/225d42042466cf5a3ccd9a1db15711485410fa1a",
          "sha": "225d42042466cf5a3ccd9a1db15711485410fa1a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/225d42042466cf5a3ccd9a1db15711485410fa1a"
        }
      ],
      "message": "txgraph: update chunk index on Compact (preparation)\n\nThis makes TxGraphImpl::Compact() invoke Cluster::Updated() on all\naffected clusters, in case they have internal GraphIndex values stored\nthat may have become outdated with the renumbering of GraphIndex values\nthat Compact() caused.\n\nThis is necessary as preparation for a future commit in which chunk data\nwill gain a reference to the maximal-fallback transaction within the\nchunk.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T13:57:47Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-10T23:07:30Z"
      },
      "sha": "4ff87517a38610d94ad8907ff87cb62e5a2bfbf6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFkMmUyNjc4MjA3MzFjZDg1ZDg2MDg4YzAwMzBlYTIxMTY5MmJhMzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1d2e267820731cd85d86088c0030ea211692ba38",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1d2e267820731cd85d86088c0030ea211692ba38",
      "tree": {
        "sha": "ff1b320ef8ad4e16e0799b6dd726d91d6b6054ab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ff1b320ef8ad4e16e0799b6dd726d91d6b6054ab"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4ff87517a38610d94ad8907ff87cb62e5a2bfbf6",
          "sha": "4ff87517a38610d94ad8907ff87cb62e5a2bfbf6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4ff87517a38610d94ad8907ff87cb62e5a2bfbf6"
        }
      ],
      "message": "txgraph: clear cluster's chunk index in ~Ref (preparation)\n\nWhenever a TxGraph::Ref is destroyed, if it by then still appears inside\nmain-level clusters, wipe the chunk index entries for those clusters, to\nprevent having lingering indexes for transactions without Ref.\n\nThis is preparation for enabling a callback being passed to MakeTxGraph\nto define a fallback order on objects. Once the Ref for a transaction is\ngone, it is not possible to invoke the callback anymore. To prevent the\nindex becoming inconsistent, we need to immediately get rid of the index\nentries when the Ref disappears.\n\nThis is not a problem, because such destructions necessarily will\ntrigger a relinearization of the cluster (assuming there are\ntransactions in it left) before becoming acceptable again, and the chunk\nordering is not observable (through CompareMainOrder, or through the\nBlockBuilder interface) until that point. However, the index itself\nneeds to remain consistent in the mean time, even if not meaningful.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T13:57:47Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-10T23:42:50Z"
      },
      "sha": "1d2e267820731cd85d86088c0030ea211692ba38"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA4MjQzNjVhMDE5NzExYWFkZjNlN2E0NWY0NGI0NjJlYWRjZDk2NTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0824365a019711aadf3e7a45f44b462eadcd9657",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0824365a019711aadf3e7a45f44b462eadcd9657",
      "tree": {
        "sha": "cb09888de6c34b4647a230982c403ddb2c5ccc0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cb09888de6c34b4647a230982c403ddb2c5ccc0a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1d2e267820731cd85d86088c0030ea211692ba38",
          "sha": "1d2e267820731cd85d86088c0030ea211692ba38",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1d2e267820731cd85d86088c0030ea211692ba38"
        }
      ],
      "message": "clusterlin: sort tx in chunk by feerate and size (feature)\n\nThis changes the order of transactions within a chunk to be:\n1. Topology (parents before children)\n2. Individual transaction feerate (high to low)\n3. Individual transaction weight (small to large)\n4. Random tiebreak (will be changed in a future commit)\n\nTo do so, use a heap of topology-ready transactions within\nGetLinearization(), sorted by (2), (3), and (4).\n\nThe order of chunks within a cluster is unmodified, but very similar;\nthey remain ordered by:\n1. Topology (chunks before chunks they depend on)\n2. Chunk feerate (high to low)\n3. Chunk weight (small to large)\n4. Random tiebreak (will be changed in a future commit)",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T13:57:47Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-07T15:36:03Z"
      },
      "sha": "0824365a019711aadf3e7a45f44b462eadcd9657"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg5YjYyN2QzY2Y4ZTQzYzRiNzRmMjU3NTk3MGY0ZDU5Y2FhN2M0NGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89b627d3cf8e43c4b74f2575970f4d59caa7c44b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/89b627d3cf8e43c4b74f2575970f4d59caa7c44b",
      "tree": {
        "sha": "1ef6ba8d4de3976abdb051781f9c497058406d6e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1ef6ba8d4de3976abdb051781f9c497058406d6e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0824365a019711aadf3e7a45f44b462eadcd9657",
          "sha": "0824365a019711aadf3e7a45f44b462eadcd9657",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0824365a019711aadf3e7a45f44b462eadcd9657"
        }
      ],
      "message": "txgraph: sort chunks by equal-feerate-prefix size (feature)\n\nThis makes TxGraph track the equal-feerate-prefix size of all chunks in\nall clusters in the main graph, and uses it to sort chunks coming from\ndistinct clusters.\n\nThe order of chunks across clusters becomes:\n1. Feerate (high to low)\n2. Equal-feerate-chunk-prefix (small to large)\n3. Cluster sequence number (old to new); this will be changed later.\n\nThe equal-feerate-chunk-prefix size of a chunk C is defined as the sum\nof the weights of all chunks in the same cluster as C, with the same\nfeerate as C, up to and including C itself, in linearization order (but\nexcluding such chunks that appear after C).\n\nThis is an approximation of sorting chunks from small to large across\nclusters, while remaining consistent with intra-cluster linearization\norder.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T13:57:47Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-07T15:59:24Z"
      },
      "sha": "89b627d3cf8e43c4b74f2575970f4d59caa7c44b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU5Y2Y5MTk2MDIxOTE5M2ZjYzlkOGEzNThlOGFjNjkxY2I4MjRiYTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59cf91960219193fcc9d8a358e8ac691cb824ba3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/59cf91960219193fcc9d8a358e8ac691cb824ba3",
      "tree": {
        "sha": "397156f246783a9863c707a8846da17cf8c542b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/397156f246783a9863c707a8846da17cf8c542b5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89b627d3cf8e43c4b74f2575970f4d59caa7c44b",
          "sha": "89b627d3cf8e43c4b74f2575970f4d59caa7c44b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/89b627d3cf8e43c4b74f2575970f4d59caa7c44b"
        }
      ],
      "message": "clusterlin: make optimal linearizations deterministic (feature)\n\nThis allows passing in a fallback order comparator to Linearize(), which\nis used as final tiebreak when deciding the order of chunks and\ntransactions within a chunk, rather than a random tiebreak.\n\nThe order of transactions within a chunk becomes:\n1. Topology (parents before children)\n2. Individual transaction feerate (high to low)\n3. Weight (small to large)\n4. Fallback (low to high fallback order)\n\nThe order of chunks within a cluster becomes:\n1. Topology (chunks after their dependencies)\n2. Feerate (high to low)\n3. Weight (small to large)\n4. Max-fallback (chunk with lowest maximum-fallback-tx first)\n\nFor now, txgraph passes a naive comparator to Linearize(), which makes\nthe cluster order deterministic when treating the input transactions as\nidentified by the DepGraphIndex. However, since DepGraphIndexes are the\nresult of possibly-randomized operations inside txgraph, this doesn't\nactually make txgraph's per-cluster ordering deterministic. That will be\nchanged in a later commit, by using a txid-based fallback instead.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T14:04:13Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-07T20:02:02Z"
      },
      "sha": "59cf91960219193fcc9d8a358e8ac691cb824ba3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQzYjMyM2ZjMjlmZmI3MDM2NTEyNDRjOWU0YjI5ZDE3MjYwYmIxNTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/43b323fc29ffb703651244c9e4b29d17260bb151",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/43b323fc29ffb703651244c9e4b29d17260bb151",
      "tree": {
        "sha": "639cd7f35ef519259eb65cf64254744c9d7c1d62",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/639cd7f35ef519259eb65cf64254744c9d7c1d62"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59cf91960219193fcc9d8a358e8ac691cb824ba3",
          "sha": "59cf91960219193fcc9d8a358e8ac691cb824ba3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/59cf91960219193fcc9d8a358e8ac691cb824ba3"
        }
      ],
      "message": "txgraph test: subclass TxGraph::Ref like mempool does (preparation)\n\nThis is a small change to the txgraph fuzz test to make it used objects\nderived from TxGraph::Ref (SimTxObject) rather than TxGraph::Ref\ndirectly. This matches how the mempool uses CTxMemPoolEntry, which\nderives from TxGraph::Ref.\n\nThis is preparation for a future commit which will introduce simulated\ntxids to the transactions in this fuzz test, to be used as falllback\norder.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T14:05:41Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-07T22:17:16Z"
      },
      "sha": "43b323fc29ffb703651244c9e4b29d17260bb151"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNmNTRkOWMzYmI3YzNhYzMzZmM5ZjY0YzViYzZlNzM5N2NkYjcwNjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf54d9c3bb7c3ac33fc9f64c5bc6e7397cdb7060",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cf54d9c3bb7c3ac33fc9f64c5bc6e7397cdb7060",
      "tree": {
        "sha": "8e05a8b251f9dc0b8fc4666f6caf5d42047c08c8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e05a8b251f9dc0b8fc4666f6caf5d42047c08c8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/43b323fc29ffb703651244c9e4b29d17260bb151",
          "sha": "43b323fc29ffb703651244c9e4b29d17260bb151",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/43b323fc29ffb703651244c9e4b29d17260bb151"
        }
      ],
      "message": "txgraph: pass fallback_order to TxGraph (preparation)\n\nThis adds an std::function<strong_ordering(Ref&,Ref&)> argument to the\nMakeTxGraph function, which can be used by the caller (e.g., mempool\ncode) to provide a fallback order to TxGraph.\n\nThis is just preparation; TxGraph does not yet use this fallback order\nfor anything.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T14:05:41Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-08T20:17:28Z"
      },
      "sha": "cf54d9c3bb7c3ac33fc9f64c5bc6e7397cdb7060"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRmZjQzYTZjN2E1MDM3Zjc2MTU5NmJmZDY1ZTEwNDViNTE5NDk1OTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dff43a6c7a5037f761596bfd65e1045b51949590",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dff43a6c7a5037f761596bfd65e1045b51949590",
      "tree": {
        "sha": "333885fb21b5c025a4f9d181c10ebe1e6d87fa06",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/333885fb21b5c025a4f9d181c10ebe1e6d87fa06"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf54d9c3bb7c3ac33fc9f64c5bc6e7397cdb7060",
          "sha": "cf54d9c3bb7c3ac33fc9f64c5bc6e7397cdb7060",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cf54d9c3bb7c3ac33fc9f64c5bc6e7397cdb7060"
        }
      ],
      "message": "txgraph: use fallback order when linearizing (feature)\n\nAdd glue to make TxGraph use the fallback order provided to it, in the\nfallback comparator it provides to the cluster linearization code.\n\nThe order of chunks within a cluster becomes:\n1. Topology (chunks after their dependencies)\n2. Feerate (high to low)\n3. Weight (small to large)\n4. Max-txid (chunk with lowest maximum-txid first)\n\nThe order of transactions within a chunk becomes:\n1. Topology (parents before children)\n2. Individual transaction feerate (high to low)\n3. Weight (small to large)\n4. Txid (low to high txid)\n\nThis makes optimal cluster linearization, both the order of chunks\nwithin a chunk, and the order of transactions within those chunks,\ncompletely deterministic.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T14:05:41Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-11T04:28:00Z"
      },
      "sha": "dff43a6c7a5037f761596bfd65e1045b51949590"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIxYWFlZGM5MmQ1MzAyNzU4N2U0NWVhZjgyMWZhNDExZjRmMDk5MWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b1aaedc92d53027587e45eaf821fa411f4f0991d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b1aaedc92d53027587e45eaf821fa411f4f0991d",
      "tree": {
        "sha": "0d0a8dfee348f554fe75f9c34202ed4f45282a10",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0d0a8dfee348f554fe75f9c34202ed4f45282a10"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dff43a6c7a5037f761596bfd65e1045b51949590",
          "sha": "dff43a6c7a5037f761596bfd65e1045b51949590",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dff43a6c7a5037f761596bfd65e1045b51949590"
        }
      ],
      "message": "txgraph: use fallback order to sort chunks (feature)\n\nThis makes TxGraph also use the fallback order to decide the order of\nchunks from distinct clusters.\n\nThe order of chunks across clusters becomes:\n1. Feerate (high to low)\n2. Equal-feerate-chunk-prefix (small to large)\n3. Max-txid (chunk with lowest maximum-txid first)\n\nThis makes the full TxGraph ordering fully deterministic as long as all\nclusters in it are optimally linearized.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-15T14:05:41Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2026-01-11T04:28:14Z"
      },
      "sha": "b1aaedc92d53027587e45eaf821fa411f4f0991d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22070859074,
      "node_id": "HRFPE_lADOABII587ioq3GzwAAAAUjhpVC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22070859074",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "b1aaedc92d53027587e45eaf821fa411f4f0991d",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/b1aaedc92d53027587e45eaf821fa411f4f0991d",
      "created_at": "2026-01-15T14:05:48Z"
    },
    {
      "event": "labeled",
      "id": 22070888234,
      "node_id": "LE_lADOABII587ioq3GzwAAAAUjhwcq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22070888234",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-15T14:07:02Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 22071542256,
      "node_id": "UNLE_lADOABII587ioq3GzwAAAAUjkQHw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22071542256",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-15T14:36:47Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 22075590410,
      "node_id": "UNLE_lADOABII587ioq3GzwAAAAUjzscK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22075590410",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-15T17:30:52Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3757899547,
      "node_id": "IC_kwDOABII587f_P8b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3757899547",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T03:07:20Z",
      "updated_at": "2026-01-16T03:08:33Z",
      "author_association": "MEMBER",
      "body": "Both @darosior ([here](https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2026-01-15#1187022;)) and @ajtowns ([here](https://github.com/bitcoin/bitcoin/pull/33335#issuecomment-3757246246)) suggested preferring larger size over smaller size instead. I agree that this is also fine from an incentives perspective, because nobody is going to deliberately construct larger transactions at the same feerate - that's just paying more. If that is acceptable to you, you're better off just paying a higher feerate.\r\n\r\nFor ordering chunks across clusters, when combined with a greedy block building algorithm, larger first may have a slight advantage, because skipping a larger chunk still allows the smaller chunk to be considered. This does not work for chunks within a cluster, or transactions within a chunk. I don't think it matters much, but this could be simulated if we care.\r\n\r\nPractically however, I don't really see how to achieve this. For ordering chunks across clusters, we need some kind of function that maps chunks to a sorting key, with the property that it must map equal-feerate chunks within a cluster to increasing keys. The cross-cluster chunk ordering then boils down to sorting by increasing key. The PR here currently uses *(equal-feerate-chunk-prefix size, maximum txid within cluster)*, which will approximately prioritize smaller chunks (but it's a little murky when there are multiple equal-feerate chunks from the same cluster). I guess it's possible to use a key like sum of **inverses** of the sizes of all equal-feerate chunks in the same cluster, but that seems extremely ugly and only very approximate anyway.\r\n\r\nFor ordering chunks within a cluster, or (if we ever consider a tx-granularity based block building algorithm rather than chunk-granularity) ordering transactions within a chunk, it occurs to me that we really want uniformity - get the chunk/tx boundaries density as uniform as possible, because realistically, every byte position has equal probability of ending up being a block limit, and we want to minimize the gap. This actually calls for something (pseudo)random, or maybe alternating between smallest and largest.\r\n\r\nThe only (very weak) argument in favor of smaller first that I know of, is that in a regime where mempools are reliably full, and transactions regularly get dropped/replaced, it may be better to have higher chunk/tx boundary density near the beginning, because the end has a non-negligible probability of never being mined at all, so it may pay off to deprioritize it.\r\n\r\nOverall, it is unlikely to matter I think, and having something is better than nothing. Remember that this is all just tie-breaking, which can't really guarantee any objective quality - that comes through chunking and linearizations that maximize feerates.\r\n\r\n---\r\n\r\nRe @ajtowns's comment there about grinding: I think it really boils down to me having a (perhaps irrational) dislike of using txid or any other not-objectively-relevant criterion in the sort order. It feels arbitrary, and possibly brittle if there ever is an incentive for something else equally arbitrary. It's setting a convention that at least in theory will have winners and losers, unlike feerate which is directly incentive-related, and even unlike size which at least intimately affects block building even if so in a rather chaotic way.\r\n\r\nSo I like having a size-based criterion in there first, because it reduces the impact of txid on the order to places where we're talking about equal-fee and equal-size transactions/chunks. But maybe it doesn't really matter...\r\n\r\nThoughts?",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34257#issuecomment-3757899547",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257"
    },
    {
      "event": "mentioned",
      "id": 22084675696,
      "node_id": "MEE_lADOABII587ioq3GzwAAAAUkWWhw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22084675696",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T03:07:21Z"
    },
    {
      "event": "subscribed",
      "id": 22084675810,
      "node_id": "SE_lADOABII587ioq3GzwAAAAUkWWji",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22084675810",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T03:07:21Z"
    },
    {
      "event": "mentioned",
      "id": 22084675895,
      "node_id": "MEE_lADOABII587ioq3GzwAAAAUkWWk3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22084675895",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T03:07:21Z"
    },
    {
      "event": "subscribed",
      "id": 22084675946,
      "node_id": "SE_lADOABII587ioq3GzwAAAAUkWWlq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22084675946",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T03:07:21Z"
    },
    {
      "event": "commented",
      "id": 3758725269,
      "node_id": "IC_kwDOABII587gCZiV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3758725269",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T08:21:04Z",
      "updated_at": "2026-01-16T08:21:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "I also liked having neutral or positive criteria ahead of the arbitrary one-- also making your txn smaller (at equal feerate) already increases your odds of being included because you're more likely to successfully pack, and if doing so as a tie breaker causes people to grind or whatnot to further reduce their transaction sizes then that seems good to me.  Those were the points that came to mind when I considered the alternative 'wouldn't larger be better'-- though mostly in the sense of \"prefer the transaction that pays the greater absolute fees, among transactions at the same feerate\" which amounts to a prefer larger policy.\r\n\r\nI think a prior comment of mine pointed out that you could stick other criteria in ahead of the arbitrary one--  Total bitcoin being spent? the old priority metric? net change in utxo set size?  I don't have strong opinions.   These metrics, unlike grinding are kind of naturally self limiting. one only has so much bitcoin to spend, and so on.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34257#issuecomment-3758725269",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257"
    },
    {
      "event": "commented",
      "id": 3760826877,
      "node_id": "IC_kwDOABII587gKan9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3760826877",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-16T16:24:31Z",
      "updated_at": "2026-01-16T16:30:00Z",
      "author_association": "MEMBER",
      "body": "The following approach could be used to get an approximate big-to-small chunk ordering.\r\n\r\nRather than summing the sizes of all equal-feerate chunks in a given cluster, **up to** the one under consideration, sum all of them **starting from** the one under consideration. Then sort by that metric decreasing.\r\n\r\nIt also doesn't need consistency with intra-cluster chunk order, or intra-chunk tx order. Those could still be small-to-large, though the effect of such a suffix-size based inter-chunk order is probably larger (if it is anything at all) if it's consistent with intra-cluster order.\r\n\r\n---\r\n\r\nAdding additional criteria, after size (whether that's small first, or large first) is actually not hard with the approach used in this PR, because the fallback tiebreak after feerate and size is abstracted behind a \"fallback compare two transactions\" function provided by the mempool. Currently, that function compares txids, but it could be changed to compare other things like input amounts, input count, output count, age of inputs, ...\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34257#issuecomment-3760826877",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34257"
    }
  ],
  "comments": []
}