{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014",
    "id": 561985723,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxOTg1NzIz",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21014",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/21014.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/21014.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/5ed2bdef6d71fdef5dc8a230d01443f4886da716",
    "number": 21014,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "test: Run mempool_accept.py even with wallet disabled ",
    "user": {
      "login": "stackman27",
      "id": 26356227,
      "node_id": "MDQ6VXNlcjI2MzU2MjI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stackman27",
      "html_url": "https://github.com/stackman27",
      "followers_url": "https://api.github.com/users/stackman27/followers",
      "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
      "organizations_url": "https://api.github.com/users/stackman27/orgs",
      "repos_url": "https://api.github.com/users/stackman27/repos",
      "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/stackman27/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a PR proposed in #20078 \r\n\r\nThis PR enables one more of the non-wallet functional tests (mempool_accept.py) to be run even with the Bitcoin Core wallet disabled by using the new MiniWallet instead. \r\n\r\nThis PR also includes changes on `wallet.py` to accommodate some of the features used in `mempool_accept.py` like explicitly stating `nSequence` for RBF and sending tx with `max fee = 0` ",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2021-01-26T18:49:41Z",
    "updated_at": "2022-08-16T17:25:40Z",
    "closed_at": "2021-07-21T00:41:41Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "a18c1cad2a02eef189560201368a4245ca846441",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "stackman27:diswallet_mempoolaccept",
      "ref": "diswallet_mempoolaccept",
      "sha": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 268369915,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNjgzNjk5MTU=",
        "name": "bitcoin",
        "full_name": "stackman27/bitcoin",
        "owner": {
          "login": "stackman27",
          "id": 26356227,
          "node_id": "MDQ6VXNlcjI2MzU2MjI3",
          "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/stackman27",
          "html_url": "https://github.com/stackman27",
          "followers_url": "https://api.github.com/users/stackman27/followers",
          "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
          "organizations_url": "https://api.github.com/users/stackman27/orgs",
          "repos_url": "https://api.github.com/users/stackman27/repos",
          "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/stackman27/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/stackman27/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/stackman27/bitcoin",
        "archive_url": "https://api.github.com/repos/stackman27/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/stackman27/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/stackman27/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/stackman27/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/stackman27/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/stackman27/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/stackman27/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/stackman27/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/stackman27/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/stackman27/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/stackman27/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/stackman27/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/stackman27/bitcoin/events",
        "forks_url": "https://api.github.com/repos/stackman27/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/stackman27/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/stackman27/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/stackman27/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/stackman27/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/stackman27/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/stackman27/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/stackman27/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/stackman27/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/stackman27/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/stackman27/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/stackman27/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/stackman27/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/stackman27/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/stackman27/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/stackman27/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:stackman27/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/stackman27/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/stackman27/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/stackman27/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/stackman27/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/stackman27/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/stackman27/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/stackman27/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/stackman27/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/stackman27/bitcoin/hooks",
        "svn_url": "https://github.com/stackman27/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 166037,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2021-05-27T20:29:31Z",
        "created_at": "2020-05-31T21:48:12Z",
        "updated_at": "2021-01-04T20:15:44Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "ad89812c70a9b88be642fceffb970859f6fdcba2",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 40,
    "deletions": 58,
    "changed_files": 2,
    "commits": 2,
    "review_comments": 44,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 767759198,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2Nzc1OTE5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767759198",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T19:02:09Z",
      "updated_at": "2021-01-26T19:02:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nCan you [squash](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits) your commits @stackman27?",
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#issuecomment-767759198",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014"
    },
    {
      "event": "mentioned",
      "id": 4252256984,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDI1MjI1Njk4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4252256984",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T19:02:10Z"
    },
    {
      "event": "subscribed",
      "id": 4252256986,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyNTIyNTY5ODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4252256986",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T19:02:10Z"
    },
    {
      "event": "labeled",
      "id": 4252385497,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQyNTIzODU0OTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4252385497",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T19:32:41Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4252716242,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDI1MjcxNjI0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4252716242",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T21:00:23Z"
    },
    {
      "event": "commented",
      "id": 767824800,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzgyNDgwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767824800",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T21:00:57Z",
      "updated_at": "2021-01-26T21:00:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Concept ACK\r\n> \r\n> Can you [squash](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits) your commits @stackman27?\r\n\r\nYes! Should be fine now :) ",
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#issuecomment-767824800",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014"
    },
    {
      "event": "mentioned",
      "id": 4252718366,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDI1MjcxODM2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4252718366",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T21:00:57Z"
    },
    {
      "event": "subscribed",
      "id": 4252718368,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyNTI3MTgzNjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4252718368",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T21:00:57Z"
    },
    {
      "event": "commented",
      "id": 767944191,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2Nzk0NDE5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767944191",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T01:25:15Z",
      "updated_at": "2021-04-29T11:06:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21762 (test: Speed up mempool_spend_coinbase.py by MarcoFalke)\n* #21754 (test: Run feature_cltv with MiniWallet by MarcoFalke)\n* #21178 (test: run mempool_reorg.py even with wallet disabled by DariusParvin)\n* #20874 (test: Run mempool_limit.py even with wallet disabled by stackman27)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#issuecomment-767944191",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T01:59:14Z",
      "updated_at": "2021-01-27T01:59:14Z",
      "source": {
        "issue": {
          "id": 781174137,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTUwOTQyNzE3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20874",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20874/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20874/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20874/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20874",
          "number": 20874,
          "state": "closed",
          "state_reason": null,
          "title": "test: Run mempool_limit.py even with wallet disabled",
          "body": "This is a PR proposed in #20078.\r\n\r\nThis PR enables one more of the non-wallet functional tests by running `mempool_limit.py` even when the wallet is disabled. While restructuring the code, I added an extra method, `send_multi_self_transfer` in  `MiniWallet` class. This method allows the creation of large transactions (by appending txouts to `tx.vout`) which will be useful in other files like `mining_prioritisetransaction.py` as well.\r\n\r\nWhile my approach may not be the cleanest or the most efficient, I totally appreciate any suggestion to improve it.  Thank you very much! ",
          "user": {
            "login": "stackman27",
            "id": 26356227,
            "node_id": "MDQ6VXNlcjI2MzU2MjI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stackman27",
            "html_url": "https://github.com/stackman27",
            "followers_url": "https://api.github.com/users/stackman27/followers",
            "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
            "organizations_url": "https://api.github.com/users/stackman27/orgs",
            "repos_url": "https://api.github.com/users/stackman27/repos",
            "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stackman27/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20874",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20874",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20874.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20874.patch"
          },
          "closed_at": "2021-07-21T00:43:36Z",
          "created_at": "2021-01-07T09:40:11Z",
          "updated_at": "2022-08-18T19:51:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T02:08:47Z",
      "updated_at": "2021-01-27T02:08:47Z",
      "source": {
        "issue": {
          "id": 776687537,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3MTI4NDcw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20808",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20808/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20808/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20808/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20808",
          "number": 20808,
          "state": "closed",
          "state_reason": null,
          "title": "test: Run rpc_generateblock.py even with wallet disabled",
          "body": "<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\nThis PR enables one more of the non-wallet functional tests (rpc_generateblock.py) to be run even with the Bitcoin Core wallet disabled by using the new MiniWallet instead, as proposed in #20078. ",
          "user": {
            "login": "nginocchio",
            "id": 14829793,
            "node_id": "MDQ6VXNlcjE0ODI5Nzkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/14829793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nginocchio",
            "html_url": "https://github.com/nginocchio",
            "followers_url": "https://api.github.com/users/nginocchio/followers",
            "following_url": "https://api.github.com/users/nginocchio/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/nginocchio/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/nginocchio/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/nginocchio/subscriptions",
            "organizations_url": "https://api.github.com/users/nginocchio/orgs",
            "repos_url": "https://api.github.com/users/nginocchio/repos",
            "events_url": "https://api.github.com/users/nginocchio/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/nginocchio/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20808",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20808",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20808.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20808.patch"
          },
          "closed_at": "2021-08-27T09:07:03Z",
          "created_at": "2020-12-31T00:11:59Z",
          "updated_at": "2022-11-20T09:56:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4257635766,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDI1NzYzNTc2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4257635766",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T19:40:42Z"
    },
    {
      "event": "reviewed",
      "id": 578144516,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc4MTQ0NTE2",
      "url": null,
      "actor": null,
      "commit_id": "45010220ced6d528f190e9eff3e2285c94ff71c2",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#pullrequestreview-578144516",
      "submitted_at": "2021-01-28T09:42:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-02T00:46:44Z",
      "updated_at": "2021-02-02T00:46:44Z",
      "source": {
        "issue": {
          "id": 782406336,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTUxOTY4MjQ5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20889",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20889/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20889/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20889/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20889",
          "number": 20889,
          "state": "closed",
          "state_reason": null,
          "title": "test: ensure any failing method in MiniWallet leaves no side-effects",
          "body": "On top of https://github.com/bitcoin/bitcoin/pull/20876 only review this commit 3b9b0831d4ce152791e7953d175aa90b78008155\r\n\r\nThis PR gets rid of any side-effects that methods in `MiniWallet` might leave if an exception is thrown. ie beforehand, if `sendrawtransaction` failed we would have had an invalid utxo left in `self._utxos`. More subtle - beforehand, if `send_self_transfer` failed `self._utxos` is always going to be modified bc the first thing `send_self_transfer` does is sort `self._utxos`. I think this is confusing, especially if tests are catching exceptions\r\n\r\nMaybe I'm being paranoid with `generate`, and side-effects probably wouldn't cause as much confusion here. But originally, if anything failed in the for-loop https://github.com/bitcoin/bitcoin/compare/master...mjdietzx:test-miniwallet-no-side-effects?expand=1#diff-7932a60a9127fd22d10d367526fd7b987f9647ce017595f8b1af5c32d5db0083L38-L40 then `self._utxos` would include utxos for all items processed before the failure. Seems like we'd prefer no side-effect to me\r\n\r\n<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
          "user": {
            "login": "mjdietzx",
            "id": 7217256,
            "node_id": "MDQ6VXNlcjcyMTcyNTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7217256?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mjdietzx",
            "html_url": "https://github.com/mjdietzx",
            "followers_url": "https://api.github.com/users/mjdietzx/followers",
            "following_url": "https://api.github.com/users/mjdietzx/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mjdietzx/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mjdietzx/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mjdietzx/subscriptions",
            "organizations_url": "https://api.github.com/users/mjdietzx/orgs",
            "repos_url": "https://api.github.com/users/mjdietzx/repos",
            "events_url": "https://api.github.com/users/mjdietzx/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mjdietzx/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20889",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20889",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20889.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20889.patch"
          },
          "closed_at": "2021-04-28T17:24:23Z",
          "created_at": "2021-01-08T21:29:32Z",
          "updated_at": "2022-08-18T19:51:26Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4297132175,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDI5NzEzMjE3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4297132175",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-05T17:10:03Z"
    },
    {
      "event": "reviewed",
      "id": 584933219,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg0OTMzMjE5",
      "url": null,
      "actor": null,
      "commit_id": "27f078c484a99b95182c5e2bb987b8f8fa165719",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#pullrequestreview-584933219",
      "submitted_at": "2021-02-07T02:10:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4300310585,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDMwMDMxMDU4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4300310585",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-07T15:05:32Z"
    },
    {
      "event": "reviewed",
      "id": 585666435,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg1NjY2NDM1",
      "url": null,
      "actor": null,
      "commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "left some comments",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#pullrequestreview-585666435",
      "submitted_at": "2021-02-08T16:24:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4310078593,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDMxMDA3ODU5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4310078593",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T16:15:07Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T05:58:00Z",
      "updated_at": "2021-02-11T05:58:00Z",
      "source": {
        "issue": {
          "id": 805936306,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTcxNDUzODM3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21144",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21144/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21144/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21144/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21144",
          "number": 21144,
          "state": "closed",
          "state_reason": null,
          "title": "test: convert feature_bip68_sequence.py to use MiniWallet",
          "body": "This is within the scope of issue #20078.\r\n\r\nChanges:\r\n - Removed skip_if_no_wallet and all uses of wallet RPCs from feature_bip_sequence.py\r\n - Added new functionality to wallet.py\r\n   - generate_random_outputs, a function that will create a multi-output transaction based on a single utxo in the wallet\r\n   - get_confirmations, a function that returns the number of confirmations for a given (confirmed) utxo\r\n   - get_utxos, a function that removes and returns the last n transactions in the wallet\r\n - Changed existing functionality in wallet.py\r\n   - send_self_transfer now accepts the following parameters: send_values, nSequence and nVersion\r\n   - send_self_transfer will now create a transaction with multiple outputs, if multiple send_values are specified\r\n\r\n<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
          "user": {
            "login": "danben",
            "id": 253639,
            "node_id": "MDQ6VXNlcjI1MzYzOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/253639?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danben",
            "html_url": "https://github.com/danben",
            "followers_url": "https://api.github.com/users/danben/followers",
            "following_url": "https://api.github.com/users/danben/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/danben/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/danben/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/danben/subscriptions",
            "organizations_url": "https://api.github.com/users/danben/orgs",
            "repos_url": "https://api.github.com/users/danben/repos",
            "events_url": "https://api.github.com/users/danben/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/danben/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 749416508,
              "node_id": "MDU6TGFiZWw3NDk0MTY1MDg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Up%20for%20grabs",
              "name": "Up for grabs",
              "color": "99a810",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21144",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21144",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21144.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21144.patch"
          },
          "closed_at": "2021-08-27T01:24:24Z",
          "created_at": "2021-02-10T22:46:49Z",
          "updated_at": "2022-08-27T02:58:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 589608933,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg5NjA4OTMz",
      "url": null,
      "actor": null,
      "commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Looks good! The only thing is I think having a separate `create_self_transfer` method would be more straightforward than having a `send_tx` flag in `send_self_transfer`. With the `send_tx` flag, it also becomes a bit ambiguous whether the new utxo has been appended to the list of spendable utxos when `send_tx = False`.",
      "user": {
        "login": "DariusParvin",
        "id": 41220998,
        "node_id": "MDQ6VXNlcjQxMjIwOTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/41220998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DariusParvin",
        "html_url": "https://github.com/DariusParvin",
        "followers_url": "https://api.github.com/users/DariusParvin/followers",
        "following_url": "https://api.github.com/users/DariusParvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DariusParvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DariusParvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DariusParvin/subscriptions",
        "organizations_url": "https://api.github.com/users/DariusParvin/orgs",
        "repos_url": "https://api.github.com/users/DariusParvin/repos",
        "events_url": "https://api.github.com/users/DariusParvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DariusParvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#pullrequestreview-589608933",
      "submitted_at": "2021-02-15T02:43:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-15T08:44:27Z",
      "updated_at": "2021-02-15T08:44:27Z",
      "source": {
        "issue": {
          "id": 808139121,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTczMjI2MjM0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21178",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21178/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21178/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21178/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21178",
          "number": 21178,
          "state": "closed",
          "state_reason": null,
          "title": "test: run mempool_reorg.py even with wallet disabled",
          "body": "Run mempool_reorg.py test even when the wallet is disabled, as discussed in #20078.\r\n\r\nAs part of this PR I created a new method in `MiniWallet`, `create_self_transfer`, to return a raw tx (without broadcasting it) and its associated utxo.",
          "user": {
            "login": "DariusParvin",
            "id": 41220998,
            "node_id": "MDQ6VXNlcjQxMjIwOTk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/41220998?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/DariusParvin",
            "html_url": "https://github.com/DariusParvin",
            "followers_url": "https://api.github.com/users/DariusParvin/followers",
            "following_url": "https://api.github.com/users/DariusParvin/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/DariusParvin/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/DariusParvin/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/DariusParvin/subscriptions",
            "organizations_url": "https://api.github.com/users/DariusParvin/orgs",
            "repos_url": "https://api.github.com/users/DariusParvin/repos",
            "events_url": "https://api.github.com/users/DariusParvin/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/DariusParvin/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21178",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21178",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21178.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21178.patch"
          },
          "closed_at": "2021-06-01T13:06:42Z",
          "created_at": "2021-02-15T03:39:26Z",
          "updated_at": "2022-08-16T17:23:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 591428918,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTkxNDI4OTE4",
      "url": null,
      "actor": null,
      "commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#pullrequestreview-591428918",
      "submitted_at": "2021-02-16T16:55:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0Y2QzNmY2OTVlYzNmZDIxMjI0OGNhZGUyNDc0ZTdiODc3MDY4OTJk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4cd36f695ec3fd212248cade2474e7b87706892d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4cd36f695ec3fd212248cade2474e7b87706892d",
      "tree": {
        "sha": "69a304f72677c0a6de1411e4bb6e163977f79ab8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69a304f72677c0a6de1411e4bb6e163977f79ab8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/32e59fc371080def4b0be2adbe6486a4ba059972",
          "sha": "32e59fc371080def4b0be2adbe6486a4ba059972",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/32e59fc371080def4b0be2adbe6486a4ba059972"
        }
      ],
      "message": "test:minwallet:changes to accomodate mempool_accept",
      "committer": {
        "name": "Sishir Giri",
        "email": "sishirg27@gmail.com",
        "date": "2021-02-19T16:19:49Z"
      },
      "author": {
        "name": "Sishir Giri",
        "email": "sishirg27@gmail.com",
        "date": "2021-01-13T19:01:46Z"
      },
      "sha": "4cd36f695ec3fd212248cade2474e7b87706892d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4352959159,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDM1Mjk1OTE1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4352959159",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-19T16:21:01Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZWQyYmRlZjZkNzFmZGVmNWRjOGEyMzBkMDE0NDNmNDg4NmRhNzE2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "tree": {
        "sha": "640748dfde9e552ec49d8f59abadab0d60f4d5fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/640748dfde9e552ec49d8f59abadab0d60f4d5fd"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4cd36f695ec3fd212248cade2474e7b87706892d",
          "sha": "4cd36f695ec3fd212248cade2474e7b87706892d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4cd36f695ec3fd212248cade2474e7b87706892d"
        }
      ],
      "message": "test:run mempool_accept even when wallet is disabled",
      "committer": {
        "name": "Sishir Giri",
        "email": "sishirg27@gmail.com",
        "date": "2021-03-01T16:13:57Z"
      },
      "author": {
        "name": "Sishir Giri",
        "email": "sishirg27@gmail.com",
        "date": "2021-02-19T16:20:26Z"
      },
      "sha": "5ed2bdef6d71fdef5dc8a230d01443f4886da716"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4390516725,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDM5MDUxNjcyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4390516725",
      "actor": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-01T16:14:26Z"
    },
    {
      "event": "reviewed",
      "id": 602474022,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjAyNDc0MDIy",
      "url": null,
      "actor": null,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "A few comments\r\nAlso on style - from PEP8: \"Don't use spaces around the = sign when used to indicate a keyword argument, or when used to indicate a default value for an unannotated function parameter\"",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#pullrequestreview-602474022",
      "submitted_at": "2021-03-03T03:41:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-22T21:10:17Z",
      "updated_at": "2021-04-22T21:10:17Z",
      "source": {
        "issue": {
          "id": 865073544,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjIxMTk2MDIy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21754",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21754/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21754/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21754/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21754",
          "number": 21754,
          "state": "closed",
          "state_reason": null,
          "title": "test: Run feature_cltv with MiniWallet",
          "body": "Allows to run the test even with no wallet compiled in",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21754",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21754",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21754.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21754.patch"
          },
          "closed_at": "2021-05-05T06:49:00Z",
          "created_at": "2021-04-22T15:18:23Z",
          "updated_at": "2022-08-18T18:23:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-23T11:18:02Z",
      "updated_at": "2021-04-23T11:18:02Z",
      "source": {
        "issue": {
          "id": 865854803,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjIxODYyMzU3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21762",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21762/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21762/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21762/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21762",
          "number": 21762,
          "state": "closed",
          "state_reason": null,
          "title": " test: Speed up mempool_spend_coinbase.py ",
          "body": "Locally the test will run 4 seconds faster with `--valgrind` (18s vs 14s)",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21762",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21762",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21762.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21762.patch"
          },
          "closed_at": "2021-04-29T05:14:50Z",
          "created_at": "2021-04-23T07:58:28Z",
          "updated_at": "2022-08-16T17:23:28Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 4660797960,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2NjA3OTc5NjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4660797960",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T07:10:21Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 828993870,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyODk5Mzg3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/828993870",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T07:10:22Z",
      "updated_at": "2021-04-29T07:10:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#issuecomment-828993870",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014"
    },
    {
      "event": "commented",
      "id": 882059833,
      "node_id": "IC_kwDOABII5840kyo5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/882059833",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-18T13:53:50Z",
      "updated_at": "2021-07-18T13:53:50Z",
      "author_association": "MEMBER",
      "body": "Are you still working on this? Otherwise someone else could pick this up.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#issuecomment-882059833",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sriramdvt",
        "id": 41079588,
        "node_id": "MDQ6VXNlcjQxMDc5NTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/41079588?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sriramdvt",
        "html_url": "https://github.com/sriramdvt",
        "followers_url": "https://api.github.com/users/sriramdvt/followers",
        "following_url": "https://api.github.com/users/sriramdvt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sriramdvt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sriramdvt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sriramdvt/subscriptions",
        "organizations_url": "https://api.github.com/users/sriramdvt/orgs",
        "repos_url": "https://api.github.com/users/sriramdvt/repos",
        "events_url": "https://api.github.com/users/sriramdvt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sriramdvt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-20T18:23:31Z",
      "updated_at": "2021-07-20T18:23:31Z",
      "source": {
        "issue": {
          "id": 948921784,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzNjkyNzkw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22509",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22509/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22509/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22509/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22509",
          "number": 22509,
          "state": "closed",
          "state_reason": null,
          "title": "test: Use MiniWallet in mempool_accept.py",
          "body": "Replace all wallet-related functionality in `test/functional/mempool_accept.py` to use MiniWallet instead of the wallet built with Bitcoin Core. This allows the test to run even if Bitcoin Core was compiled with `--disable-wallet`.\r\n\r\nWork on `mempool_accept.py` started in #21014, but it has been inactive for some time. This PR also makes use of additional features like `scan_blocks()` and `create_self_transfer()` that were added to MiniWallet.\r\n\r\nTo test this PR, build Bitcoin Core with(out) the wallet and run:\r\n```\r\n$ test/functional/mempool_accept.py\r\n```",
          "user": {
            "login": "sriramdvt",
            "id": 41079588,
            "node_id": "MDQ6VXNlcjQxMDc5NTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/41079588?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sriramdvt",
            "html_url": "https://github.com/sriramdvt",
            "followers_url": "https://api.github.com/users/sriramdvt/followers",
            "following_url": "https://api.github.com/users/sriramdvt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sriramdvt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sriramdvt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sriramdvt/subscriptions",
            "organizations_url": "https://api.github.com/users/sriramdvt/orgs",
            "repos_url": "https://api.github.com/users/sriramdvt/repos",
            "events_url": "https://api.github.com/users/sriramdvt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sriramdvt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22509",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22509",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22509.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22509.patch"
          },
          "closed_at": "2022-03-23T15:28:46Z",
          "created_at": "2021-07-20T18:23:30Z",
          "updated_at": "2023-03-23T10:20:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 883609446,
      "node_id": "IC_kwDOABII5840qs9m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/883609446",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-20T18:36:39Z",
      "updated_at": "2021-07-20T18:36:39Z",
      "author_association": "MEMBER",
      "body": "Picked up in #22509 ",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#issuecomment-883609446",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21014"
    },
    {
      "event": "closed",
      "id": 5047428027,
      "node_id": "MDExOkNsb3NlZEV2ZW50NTA0NzQyODAyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5047428027",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-21T00:41:41Z"
    },
    {
      "event": "locked",
      "id": 7199156530,
      "node_id": "LOE_lADOABII584vWr3KzwAAAAGtGmky",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7199156530",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-16T17:25:40Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/565947664",
      "pull_request_review_id": 578144516,
      "id": 565947664,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NTk0NzY2NA==",
      "diff_hunk": "@@ -139,6 +122,7 @@ def run_test(self):\n         self.log.info('A transaction that conflicts with an unconfirmed tx')\n         # Send the transaction that replaces the mempool transaction and opts out of replaceability\n         node.sendrawtransaction(hexstring=tx.serialize().hex(), maxfeerate=0)\n+        self.mempool_size += 1",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 106,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "45010220ced6d528f190e9eff3e2285c94ff71c2",
      "in_reply_to_id": null,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why do we +1 here?",
      "created_at": "2021-01-28T09:38:28Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r565947664",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/565947664"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/565950244",
      "pull_request_review_id": 578144516,
      "id": 565950244,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NTk1MDI0NA==",
      "diff_hunk": "@@ -327,13 +306,13 @@ def run_test(self):\n         self.log.info('A transaction that is locked by BIP68 sequence logic')\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_reference)))\n         tx.vin[0].nSequence = 2  # We could include it in the second block mined from now, but not the very next one\n+        tx.nVersion = 2",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 176,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "45010220ced6d528f190e9eff3e2285c94ff71c2",
      "in_reply_to_id": null,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not add version to `send_self_transfer()` as optional argument too?",
      "created_at": "2021-01-28T09:42:18Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r565950244",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/565950244"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571121996",
      "pull_request_review_id": 584541063,
      "id": 571121996,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTEyMTk5Ng==",
      "diff_hunk": "@@ -139,6 +122,7 @@ def run_test(self):\n         self.log.info('A transaction that conflicts with an unconfirmed tx')\n         # Send the transaction that replaces the mempool transaction and opts out of replaceability\n         node.sendrawtransaction(hexstring=tx.serialize().hex(), maxfeerate=0)\n+        self.mempool_size += 1",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 106,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "45010220ced6d528f190e9eff3e2285c94ff71c2",
      "in_reply_to_id": 565947664,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "oops that was my bad . However, I just pushed a new commit and fixed the issue. Not the most eloquent solution, but I'd highly appreciate any suggestions to improve it",
      "created_at": "2021-02-05T17:14:28Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r571121996",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571121996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571122882",
      "pull_request_review_id": 584542264,
      "id": 571122882,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTEyMjg4Mg==",
      "diff_hunk": "@@ -327,13 +306,13 @@ def run_test(self):\n         self.log.info('A transaction that is locked by BIP68 sequence logic')\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_reference)))\n         tx.vin[0].nSequence = 2  # We could include it in the second block mined from now, but not the very next one\n+        tx.nVersion = 2",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 176,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "45010220ced6d528f190e9eff3e2285c94ff71c2",
      "in_reply_to_id": 565950244,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I did try to do that, but I wasn't sure about the stylistic aspect of passing arguments in functions. Do we have a hard cap on the # of arguments we can pass on functions? ",
      "created_at": "2021-02-05T17:15:52Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r571122882",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571122882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571516444",
      "pull_request_review_id": 584933219,
      "id": 571516444,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTUxNjQ0NA==",
      "diff_hunk": "@@ -58,38 +55,30 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n         self.log.info('Start with empty mempool, and 200 blocks')\n         self.mempool_size = 0\n-        assert_equal(node.getblockcount(), 200)\n+        miniwallet.generate(200)\n+        assert_equal(node.getblockcount(), 400)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 29,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "27f078c484a99b95182c5e2bb987b8f8fa165719",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "the log 3 lines up says 200 blocks, but here we check 400. can you make these consistent?",
      "created_at": "2021-02-07T02:04:37Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r571516444",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571516444"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571516496",
      "pull_request_review_id": 584933219,
      "id": 571516496,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTUxNjQ5Ng==",
      "diff_hunk": "@@ -139,6 +122,7 @@ def run_test(self):\n         self.log.info('A transaction that conflicts with an unconfirmed tx')\n         # Send the transaction that replaces the mempool transaction and opts out of replaceability\n         node.sendrawtransaction(hexstring=tx.serialize().hex(), maxfeerate=0)\n+        #self.mempool_size += 1",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 106,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "27f078c484a99b95182c5e2bb987b8f8fa165719",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this line should be deleted. If you meant it communicate something about the test, please clarify ",
      "created_at": "2021-02-07T02:05:08Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r571516496",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571516496"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571517084",
      "pull_request_review_id": 584933219,
      "id": 571517084,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTUxNzA4NA==",
      "diff_hunk": "@@ -55,25 +55,37 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def sign_tx(self, *, tx):\n+        \"\"\"Sign the tx with witness stack of OP_TRUE\"\"\"\n+        tx.wit.vtxinwit = [CTxInWitness()]\n+        tx.wit.vtxinwit[0].scriptWitness.stack = [CScript([OP_TRUE])]\n+        return tx\n+\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, existing_tx = None, send_tx = True, default_fee = False):\n         \"\"\"Create and send a tx with the specified fee_rate. Fee may be exact or at most one satoshi higher than needed.\"\"\"\n         self._utxos = sorted(self._utxos, key=lambda k: k['value'])\n         utxo_to_spend = utxo_to_spend or self._utxos.pop()  # Pick the largest utxo (if none provided) and hope it covers the fee\n+\n         vsize = Decimal(96)\n-        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000)) if send_tx else satoshi_round(utxo_to_spend['value'] - fee_rate)",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 18,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "27f078c484a99b95182c5e2bb987b8f8fa165719",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I find this one-line if/else to be pretty confusing. could you just break it into a few lines to clarify the logic flow? ",
      "created_at": "2021-02-07T02:10:26Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r571517084",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571517084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571663601",
      "pull_request_review_id": 585048712,
      "id": 571663601,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTY2MzYwMQ==",
      "diff_hunk": "@@ -58,38 +55,30 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n         self.log.info('Start with empty mempool, and 200 blocks')\n         self.mempool_size = 0\n-        assert_equal(node.getblockcount(), 200)\n+        miniwallet.generate(200)\n+        assert_equal(node.getblockcount(), 400)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 29,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "27f078c484a99b95182c5e2bb987b8f8fa165719",
      "in_reply_to_id": 571516444,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Got it! Fixed",
      "created_at": "2021-02-07T18:36:08Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r571663601",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571663601"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571663698",
      "pull_request_review_id": 585048822,
      "id": 571663698,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTY2MzY5OA==",
      "diff_hunk": "@@ -55,25 +55,37 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def sign_tx(self, *, tx):\n+        \"\"\"Sign the tx with witness stack of OP_TRUE\"\"\"\n+        tx.wit.vtxinwit = [CTxInWitness()]\n+        tx.wit.vtxinwit[0].scriptWitness.stack = [CScript([OP_TRUE])]\n+        return tx\n+\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, existing_tx = None, send_tx = True, default_fee = False):\n         \"\"\"Create and send a tx with the specified fee_rate. Fee may be exact or at most one satoshi higher than needed.\"\"\"\n         self._utxos = sorted(self._utxos, key=lambda k: k['value'])\n         utxo_to_spend = utxo_to_spend or self._utxos.pop()  # Pick the largest utxo (if none provided) and hope it covers the fee\n+\n         vsize = Decimal(96)\n-        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000)) if send_tx else satoshi_round(utxo_to_spend['value'] - fee_rate)",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 18,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "27f078c484a99b95182c5e2bb987b8f8fa165719",
      "in_reply_to_id": 571517084,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I broke it down, I hope it makes more sense now :) ",
      "created_at": "2021-02-07T18:37:09Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r571663698",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571663698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572172425",
      "pull_request_review_id": 585666435,
      "id": 572172425,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjE3MjQyNQ==",
      "diff_hunk": "@@ -58,38 +55,30 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n-        self.log.info('Start with empty mempool, and 200 blocks')\n+        self.log.info('Start with empty mempool, and 400 blocks')\n         self.mempool_size = 0\n-        assert_equal(node.getblockcount(), 200)\n+        miniwallet.generate(200)\n+        assert_equal(node.getblockcount(), 400)\n         assert_equal(node.getmempoolinfo()['size'], self.mempool_size)\n-        coins = node.listunspent()\n \n         self.log.info('Should not accept garbage to testmempoolaccept')\n         assert_raises_rpc_error(-3, 'Expected type array, got string', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\n         assert_raises_rpc_error(-8, 'Array must contain exactly one raw transaction for now', lambda: node.testmempoolaccept(rawtxs=['ff00baar', 'ff22']))\n         assert_raises_rpc_error(-22, 'TX decode failed', lambda: node.testmempoolaccept(rawtxs=['ff00baar']))\n \n         self.log.info('A transaction already in the blockchain')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        raw_tx_in_block = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout']}],\n-            outputs=[{node.getnewaddress(): 0.3}, {node.getnewaddress(): 49}],\n-        ))['hex']\n-        txid_in_block = node.sendrawtransaction(hexstring=raw_tx_in_block, maxfeerate=0)\n-        node.generate(1)\n+        tx_in_block = miniwallet.send_self_transfer(from_node = node, default_fee = True)\n+        miniwallet.generate(1) # Generate a block, tx gets mined therefore mempool is empty",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 48,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason to change this from `node.generate(1)`? `miniwallet.generate` will put an immature utxo in the wallet.",
      "created_at": "2021-02-08T16:12:28Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572172425",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572172425"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572173488",
      "pull_request_review_id": 585666435,
      "id": 572173488,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjE3MzQ4OA==",
      "diff_hunk": "@@ -58,38 +55,30 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n-        self.log.info('Start with empty mempool, and 200 blocks')\n+        self.log.info('Start with empty mempool, and 400 blocks')\n         self.mempool_size = 0\n-        assert_equal(node.getblockcount(), 200)\n+        miniwallet.generate(200)\n+        assert_equal(node.getblockcount(), 400)\n         assert_equal(node.getmempoolinfo()['size'], self.mempool_size)\n-        coins = node.listunspent()\n \n         self.log.info('Should not accept garbage to testmempoolaccept')\n         assert_raises_rpc_error(-3, 'Expected type array, got string', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\n         assert_raises_rpc_error(-8, 'Array must contain exactly one raw transaction for now', lambda: node.testmempoolaccept(rawtxs=['ff00baar', 'ff22']))\n         assert_raises_rpc_error(-22, 'TX decode failed', lambda: node.testmempoolaccept(rawtxs=['ff00baar']))\n \n         self.log.info('A transaction already in the blockchain')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        raw_tx_in_block = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout']}],\n-            outputs=[{node.getnewaddress(): 0.3}, {node.getnewaddress(): 49}],\n-        ))['hex']\n-        txid_in_block = node.sendrawtransaction(hexstring=raw_tx_in_block, maxfeerate=0)\n-        node.generate(1)\n+        tx_in_block = miniwallet.send_self_transfer(from_node = node, default_fee = True)\n+        miniwallet.generate(1) # Generate a block, tx gets mined therefore mempool is empty\n         self.mempool_size = 0\n         self.check_mempool_result(\n-            result_expected=[{'txid': txid_in_block, 'allowed': False, 'reject-reason': 'txn-already-known'}],\n-            rawtxs=[raw_tx_in_block],\n+            result_expected=[{'txid': tx_in_block['txid'], 'allowed': False, 'reject-reason': 'txn-already-known'}],\n+            rawtxs=[tx_in_block['hex']],\n         )\n-",
      "path": "test/functional/mempool_accept.py",
      "position": 58,
      "original_position": 56,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "any reason to change this? Previously there was a newline between each test",
      "created_at": "2021-02-08T16:13:55Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572173488",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572173488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 86,
      "original_line": 86,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572176537",
      "pull_request_review_id": 585666435,
      "id": 572176537,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjE3NjUzNw==",
      "diff_hunk": "@@ -58,38 +55,30 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n-        self.log.info('Start with empty mempool, and 200 blocks')\n+        self.log.info('Start with empty mempool, and 400 blocks')\n         self.mempool_size = 0\n-        assert_equal(node.getblockcount(), 200)\n+        miniwallet.generate(200)\n+        assert_equal(node.getblockcount(), 400)\n         assert_equal(node.getmempoolinfo()['size'], self.mempool_size)\n-        coins = node.listunspent()\n \n         self.log.info('Should not accept garbage to testmempoolaccept')\n         assert_raises_rpc_error(-3, 'Expected type array, got string', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\n         assert_raises_rpc_error(-8, 'Array must contain exactly one raw transaction for now', lambda: node.testmempoolaccept(rawtxs=['ff00baar', 'ff22']))\n         assert_raises_rpc_error(-22, 'TX decode failed', lambda: node.testmempoolaccept(rawtxs=['ff00baar']))\n \n         self.log.info('A transaction already in the blockchain')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        raw_tx_in_block = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout']}],\n-            outputs=[{node.getnewaddress(): 0.3}, {node.getnewaddress(): 49}],\n-        ))['hex']\n-        txid_in_block = node.sendrawtransaction(hexstring=raw_tx_in_block, maxfeerate=0)\n-        node.generate(1)\n+        tx_in_block = miniwallet.send_self_transfer(from_node = node, default_fee = True)\n+        miniwallet.generate(1) # Generate a block, tx gets mined therefore mempool is empty\n         self.mempool_size = 0\n         self.check_mempool_result(\n-            result_expected=[{'txid': txid_in_block, 'allowed': False, 'reject-reason': 'txn-already-known'}],\n-            rawtxs=[raw_tx_in_block],\n+            result_expected=[{'txid': tx_in_block['txid'], 'allowed': False, 'reject-reason': 'txn-already-known'}],\n+            rawtxs=[tx_in_block['hex']],\n         )\n-\n         self.log.info('A transaction not in the mempool')\n         fee = Decimal('0.000007')\n-        raw_tx_0 = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{\"txid\": txid_in_block, \"vout\": 0, \"sequence\": BIP125_SEQUENCE_NUMBER}],  # RBF is used later\n-            outputs=[{node.getnewaddress(): Decimal('0.3') - fee}],\n-        ))['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, seq_num = BIP125_SEQUENCE_NUMBER,  fee_rate = fee, send_tx = False)['hex'] #RBF enabled (0xffffffd)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 63,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason to mention 0xffffffd?",
      "created_at": "2021-02-08T16:17:47Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572176537",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572176537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572177242",
      "pull_request_review_id": 585666435,
      "id": 572177242,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjE3NzI0Mg==",
      "diff_hunk": "@@ -99,21 +88,15 @@ def run_test(self):\n         )\n \n         self.log.info('A final transaction not in the mempool')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        output_amount = Decimal('0.025')\n-        raw_tx_final = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout'], \"sequence\": 0xffffffff}],  # SEQUENCE_FINAL\n-            outputs=[{node.getnewaddress(): output_amount}],\n-            locktime=node.getblockcount() + 2000,  # Can be anything\n-        ))['hex']\n-        tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_final)))\n-        fee_expected = coin['amount'] - output_amount\n+        raw_tx_final = miniwallet.send_self_transfer(from_node = node, send_tx = False)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 80,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "why is this no longer passing SEQUENCE_FINAL, etc...?",
      "created_at": "2021-02-08T16:18:42Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572177242",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572177242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572181551",
      "pull_request_review_id": 585666435,
      "id": 572181551,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjE4MTU1MQ==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why is this call needed? The tx should already be signed",
      "created_at": "2021-02-08T16:24:19Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572181551",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572181551"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572208649",
      "pull_request_review_id": 585714521,
      "id": 572208649,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjIwODY0OQ==",
      "diff_hunk": "@@ -99,21 +88,15 @@ def run_test(self):\n         )\n \n         self.log.info('A final transaction not in the mempool')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        output_amount = Decimal('0.025')\n-        raw_tx_final = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout'], \"sequence\": 0xffffffff}],  # SEQUENCE_FINAL\n-            outputs=[{node.getnewaddress(): output_amount}],\n-            locktime=node.getblockcount() + 2000,  # Can be anything\n-        ))['hex']\n-        tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_final)))\n-        fee_expected = coin['amount'] - output_amount\n+        raw_tx_final = miniwallet.send_self_transfer(from_node = node, send_tx = False)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 80,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572177242,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thats because the default is set to `0xffffffff` in `send_send_transfer` parameter",
      "created_at": "2021-02-08T16:58:43Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572208649",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572208649"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572209459",
      "pull_request_review_id": 585715528,
      "id": 572209459,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjIwOTQ1OQ==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572181551,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I thought we changed the `nValue` and `nSequence` of raw_tx_0 therefore we have to resign it, is that not the case? ",
      "created_at": "2021-02-08T16:59:47Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572209459",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572209459"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572228039",
      "pull_request_review_id": 585741103,
      "id": 572228039,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjIyODAzOQ==",
      "diff_hunk": "@@ -99,21 +88,15 @@ def run_test(self):\n         )\n \n         self.log.info('A final transaction not in the mempool')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        output_amount = Decimal('0.025')\n-        raw_tx_final = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout'], \"sequence\": 0xffffffff}],  # SEQUENCE_FINAL\n-            outputs=[{node.getnewaddress(): output_amount}],\n-            locktime=node.getblockcount() + 2000,  # Can be anything\n-        ))['hex']\n-        tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_final)))\n-        fee_expected = coin['amount'] - output_amount\n+        raw_tx_final = miniwallet.send_self_transfer(from_node = node, send_tx = False)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 80,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572177242,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So if the default changes, the test will fail? If so, I'd prefer to set it here to avoid a changed default breaking the test.",
      "created_at": "2021-02-08T17:23:49Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572228039",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572228039"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572228749",
      "pull_request_review_id": 585741973,
      "id": 572228749,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjIyODc0OQ==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572181551,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "miniwallet doesn't do any sighashing, so no. What is the error message you see when not \"signing\"?",
      "created_at": "2021-02-08T17:24:43Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572228749",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572228749"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572232350",
      "pull_request_review_id": 585746442,
      "id": 572232350,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjIzMjM1MA==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572181551,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I commented 114 out and it fails this assertion\r\n```\r\n self.check_mempool_result(\r\n  result_expected=[{'txid': txid_0, 'allowed': True, 'vsize': tx.get_vsize(), 'fees': {'base': (2 * fee)}}],\r\n  rawtxs=[raw_tx_0],\r\n )\r\n****** OUTPUT ******\r\nAssertionError: not([{'txid': '9295ae1bef2de5cb6dcf3a63504d2a58435572a32cf95caa078cd1a988f19101', 'allowed': True, 'vsize': 96, 'fees': {'base': Decimal('0.000014')}}] == [{'txid': '9295ae1bef2de5cb6dcf3a63504d2a58435572a32cf95caa078cd1a988f19101', 'allowed': False, 'reject-reason': 'txn-already-in-mempool'}])\r\n```",
      "created_at": "2021-02-08T17:29:14Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572232350",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572232350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572233311",
      "pull_request_review_id": 585747571,
      "id": 572233311,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjIzMzMxMQ==",
      "diff_hunk": "@@ -99,21 +88,15 @@ def run_test(self):\n         )\n \n         self.log.info('A final transaction not in the mempool')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        output_amount = Decimal('0.025')\n-        raw_tx_final = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout'], \"sequence\": 0xffffffff}],  # SEQUENCE_FINAL\n-            outputs=[{node.getnewaddress(): output_amount}],\n-            locktime=node.getblockcount() + 2000,  # Can be anything\n-        ))['hex']\n-        tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_final)))\n-        fee_expected = coin['amount'] - output_amount\n+        raw_tx_final = miniwallet.send_self_transfer(from_node = node, send_tx = False)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 80,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572177242,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Got it! Thank you",
      "created_at": "2021-02-08T17:30:26Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572233311",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572233311"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572241824",
      "pull_request_review_id": 585758478,
      "id": 572241824,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjI0MTgyNA==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572181551,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You can't comment out the line, but you can remove the \"signing roundtrip\" and simply take the tx as is.",
      "created_at": "2021-02-08T17:42:14Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572241824",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572241824"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572251107",
      "pull_request_review_id": 585770298,
      "id": 572251107,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjI1MTEwNw==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572181551,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm sorry but do you mean just take the `raw_tx_0 = tx.serialize().hex()`? ",
      "created_at": "2021-02-08T17:55:27Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572251107",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572251107"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572266680",
      "pull_request_review_id": 585790541,
      "id": 572266680,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjI2NjY4MA==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572181551,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tried the above approach but am unable to get/spend the utxo in line 149/151 associated with `txid_0`, because it doesnot have  tides with `send_self_transfer` . Is there any way around it?",
      "created_at": "2021-02-08T18:19:05Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572266680",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572266680"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572268388",
      "pull_request_review_id": 585792720,
      "id": 572268388,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjI2ODM4OA==",
      "diff_hunk": "@@ -128,7 +111,7 @@ def run_test(self):\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_0)))\n         tx.vout[0].nValue -= int(fee * COIN)  # Double the fee\n         tx.vin[0].nSequence = BIP125_SEQUENCE_NUMBER + 1  # Now, opt out of RBF\n-        raw_tx_0 = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        raw_tx_0 = miniwallet.send_self_transfer(from_node = node, fee_rate = fee * 2, send_tx = False, existing_tx = tx)['hex']",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 99,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "582d57cc9451fab44d693736127796fc1e7538e4",
      "in_reply_to_id": 572181551,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe add a send_tx to miniwallet which does the needed steps?",
      "created_at": "2021-02-08T18:21:49Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r572268388",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572268388"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575334436",
      "pull_request_review_id": 589608933,
      "id": 575334436,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTMzNDQzNg==",
      "diff_hunk": "@@ -35,7 +35,7 @@\n     assert_raises_rpc_error,\n     hex_str_to_bytes,\n )\n-\n+from test_framework.wallet import MiniWallet\n \n class MempoolAcceptanceTest(BitcoinTestFramework):\n     def set_test_params(self):",
      "path": "test/functional/mempool_accept.py",
      "position": 8,
      "original_position": 8,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": null,
      "user": {
        "login": "DariusParvin",
        "id": 41220998,
        "node_id": "MDQ6VXNlcjQxMjIwOTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/41220998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DariusParvin",
        "html_url": "https://github.com/DariusParvin",
        "followers_url": "https://api.github.com/users/DariusParvin/followers",
        "following_url": "https://api.github.com/users/DariusParvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DariusParvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DariusParvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DariusParvin/subscriptions",
        "organizations_url": "https://api.github.com/users/DariusParvin/orgs",
        "repos_url": "https://api.github.com/users/DariusParvin/repos",
        "events_url": "https://api.github.com/users/DariusParvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DariusParvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You could use `self.setup_clean_chain = True` to start the blockchain with 0 blocks.",
      "created_at": "2021-02-12T16:11:32Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r575334436",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575334436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 41,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575906571",
      "pull_request_review_id": 589608933,
      "id": 575906571,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTkwNjU3MQ==",
      "diff_hunk": "@@ -55,25 +55,34 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, default_fee = False):\n         \"\"\"Create and send a tx with the specified fee_rate. Fee may be exact or at most one satoshi higher than needed.\"\"\"\n         self._utxos = sorted(self._utxos, key=lambda k: k['value'])\n         utxo_to_spend = utxo_to_spend or self._utxos.pop()  # Pick the largest utxo (if none provided) and hope it covers the fee\n         vsize = Decimal(96)\n-        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+\n+        # if send_tx is set to False then calculate send_value without vsize",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 12,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": null,
      "user": {
        "login": "DariusParvin",
        "id": 41220998,
        "node_id": "MDQ6VXNlcjQxMjIwOTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/41220998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DariusParvin",
        "html_url": "https://github.com/DariusParvin",
        "followers_url": "https://api.github.com/users/DariusParvin/followers",
        "following_url": "https://api.github.com/users/DariusParvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DariusParvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DariusParvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DariusParvin/subscriptions",
        "organizations_url": "https://api.github.com/users/DariusParvin/orgs",
        "repos_url": "https://api.github.com/users/DariusParvin/repos",
        "events_url": "https://api.github.com/users/DariusParvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DariusParvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm curious why `send_tx = False` should affect the fee?",
      "created_at": "2021-02-15T02:00:06Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r575906571",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575906571"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575906973",
      "pull_request_review_id": 589608933,
      "id": 575906973,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTkwNjk3Mw==",
      "diff_hunk": "@@ -327,13 +306,13 @@ def run_test(self):\n         self.log.info('A transaction that is locked by BIP68 sequence logic')\n         tx.deserialize(BytesIO(hex_str_to_bytes(raw_tx_reference)))\n         tx.vin[0].nSequence = 2  # We could include it in the second block mined from now, but not the very next one\n+        tx.nVersion = 2",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 176,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "45010220ced6d528f190e9eff3e2285c94ff71c2",
      "in_reply_to_id": 565950244,
      "user": {
        "login": "DariusParvin",
        "id": 41220998,
        "node_id": "MDQ6VXNlcjQxMjIwOTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/41220998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DariusParvin",
        "html_url": "https://github.com/DariusParvin",
        "followers_url": "https://api.github.com/users/DariusParvin/followers",
        "following_url": "https://api.github.com/users/DariusParvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DariusParvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DariusParvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DariusParvin/subscriptions",
        "organizations_url": "https://api.github.com/users/DariusParvin/orgs",
        "repos_url": "https://api.github.com/users/DariusParvin/repos",
        "events_url": "https://api.github.com/users/DariusParvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DariusParvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe it's worth just assuming `nVersion = 2` in the MiniWallet, and add it as an option argument in the future if/when there's a test that requires `nVersion = 1`?",
      "created_at": "2021-02-15T02:02:33Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r575906973",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575906973"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575907953",
      "pull_request_review_id": 589608933,
      "id": 575907953,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTkwNzk1Mw==",
      "diff_hunk": "@@ -55,25 +55,34 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, default_fee = False):",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 5,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": null,
      "user": {
        "login": "DariusParvin",
        "id": 41220998,
        "node_id": "MDQ6VXNlcjQxMjIwOTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/41220998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DariusParvin",
        "html_url": "https://github.com/DariusParvin",
        "followers_url": "https://api.github.com/users/DariusParvin/followers",
        "following_url": "https://api.github.com/users/DariusParvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DariusParvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DariusParvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DariusParvin/subscriptions",
        "organizations_url": "https://api.github.com/users/DariusParvin/orgs",
        "repos_url": "https://api.github.com/users/DariusParvin/repos",
        "events_url": "https://api.github.com/users/DariusParvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DariusParvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems like it might be misleading to have a method whose name is `send_self_transfer`, but then have a flag to say `send = False`. \r\n\r\nInstead, maybe it would be more straightforward to have a separate method `create_self_transfer`, that returns the tx hex. This function could be used within `send_self_transfer` to create the transaction before broadcasting it. \r\n\r\nI'm about to submit a PR for another test where I had a go at doing it this way.",
      "created_at": "2021-02-15T02:08:05Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r575907953",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575907953"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575909995",
      "pull_request_review_id": 589608933,
      "id": 575909995,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTkwOTk5NQ==",
      "diff_hunk": "@@ -55,25 +55,34 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, default_fee = False):\n         \"\"\"Create and send a tx with the specified fee_rate. Fee may be exact or at most one satoshi higher than needed.\"\"\"\n         self._utxos = sorted(self._utxos, key=lambda k: k['value'])\n         utxo_to_spend = utxo_to_spend or self._utxos.pop()  # Pick the largest utxo (if none provided) and hope it covers the fee\n         vsize = Decimal(96)\n-        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+\n+        # if send_tx is set to False then calculate send_value without vsize\n+        if send_tx:\n+            send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+        else:\n+            send_value = satoshi_round(utxo_to_spend['value'] - fee_rate)\n         fee = utxo_to_spend['value'] - send_value\n         assert send_value > 0\n \n         tx = CTransaction()\n-        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']))]\n+        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']), nSequence = seq_num)]\n         tx.vout = [CTxOut(int(send_value * COIN), self._scriptPubKey)]\n         tx.wit.vtxinwit = [CTxInWitness()]\n         tx.wit.vtxinwit[0].scriptWitness.stack = [CScript([OP_TRUE])]\n         tx_hex = tx.serialize().hex()\n \n         tx_info = from_node.testmempoolaccept([tx_hex])[0]\n         self._utxos.append({'txid': tx_info['txid'], 'vout': 0, 'value': send_value})",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 29,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": null,
      "user": {
        "login": "DariusParvin",
        "id": 41220998,
        "node_id": "MDQ6VXNlcjQxMjIwOTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/41220998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DariusParvin",
        "html_url": "https://github.com/DariusParvin",
        "followers_url": "https://api.github.com/users/DariusParvin/followers",
        "following_url": "https://api.github.com/users/DariusParvin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DariusParvin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DariusParvin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DariusParvin/subscriptions",
        "organizations_url": "https://api.github.com/users/DariusParvin/orgs",
        "repos_url": "https://api.github.com/users/DariusParvin/repos",
        "events_url": "https://api.github.com/users/DariusParvin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DariusParvin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If `send_tx` was set to `False`, this utxo could be unspendable, potentially causing problems downstream where the `get_utxo` does not yield a spendable utxo. So I it's probably better to only append the new utxo if `send_tx == True`, after calling `sendrawtransaction`.",
      "created_at": "2021-02-15T02:18:23Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r575909995",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575909995"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576980164",
      "pull_request_review_id": 591428918,
      "id": 576980164,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Njk4MDE2NA==",
      "diff_hunk": "@@ -58,38 +55,31 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n-        self.log.info('Start with empty mempool, and 200 blocks')\n+        self.log.info('Start with empty mempool, and 400 blocks')\n         self.mempool_size = 0\n-        assert_equal(node.getblockcount(), 200)\n+        miniwallet.generate(200)",
      "path": "test/functional/mempool_accept.py",
      "position": null,
      "original_position": 29,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Generating blocks takes a few seconds in valgrind, so I am thinking if this test may benefit from using `miniwallet.scan_blocks` (to be introduced in #21200)",
      "created_at": "2021-02-16T16:55:17Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r576980164",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576980164"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579307640",
      "pull_request_review_id": 594348123,
      "id": 579307640,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTMwNzY0MA==",
      "diff_hunk": "@@ -55,25 +55,34 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, default_fee = False):\n         \"\"\"Create and send a tx with the specified fee_rate. Fee may be exact or at most one satoshi higher than needed.\"\"\"\n         self._utxos = sorted(self._utxos, key=lambda k: k['value'])\n         utxo_to_spend = utxo_to_spend or self._utxos.pop()  # Pick the largest utxo (if none provided) and hope it covers the fee\n         vsize = Decimal(96)\n-        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+\n+        # if send_tx is set to False then calculate send_value without vsize",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 12,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": 575906571,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It was just a little hack that I found to get the `vsize` and `fee` assertion to work. But, I believe I found a way out! Pushed a new commit :) ",
      "created_at": "2021-02-19T16:21:27Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r579307640",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579307640"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579307693",
      "pull_request_review_id": 594348198,
      "id": 579307693,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTMwNzY5Mw==",
      "diff_hunk": "@@ -55,25 +55,34 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, default_fee = False):",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 5,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": 575907953,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That totally makes sense! or maybe we can simply rename the method to something that mimics it's accurate behavior, something in the lines of `sign_or_send_self_transfer`. Would love to hear @MarcoFalke's thoughts on this ",
      "created_at": "2021-02-19T16:21:32Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r579307693",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579307693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579308133",
      "pull_request_review_id": 594348832,
      "id": 579308133,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTMwODEzMw==",
      "diff_hunk": "@@ -55,25 +55,34 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, default_fee = False):\n         \"\"\"Create and send a tx with the specified fee_rate. Fee may be exact or at most one satoshi higher than needed.\"\"\"\n         self._utxos = sorted(self._utxos, key=lambda k: k['value'])\n         utxo_to_spend = utxo_to_spend or self._utxos.pop()  # Pick the largest utxo (if none provided) and hope it covers the fee\n         vsize = Decimal(96)\n-        send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+\n+        # if send_tx is set to False then calculate send_value without vsize\n+        if send_tx:\n+            send_value = satoshi_round(utxo_to_spend['value'] - fee_rate * (vsize / 1000))\n+        else:\n+            send_value = satoshi_round(utxo_to_spend['value'] - fee_rate)\n         fee = utxo_to_spend['value'] - send_value\n         assert send_value > 0\n \n         tx = CTransaction()\n-        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']))]\n+        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']), nSequence = seq_num)]\n         tx.vout = [CTxOut(int(send_value * COIN), self._scriptPubKey)]\n         tx.wit.vtxinwit = [CTxInWitness()]\n         tx.wit.vtxinwit[0].scriptWitness.stack = [CScript([OP_TRUE])]\n         tx_hex = tx.serialize().hex()\n \n         tx_info = from_node.testmempoolaccept([tx_hex])[0]\n         self._utxos.append({'txid': tx_info['txid'], 'vout': 0, 'value': send_value})",
      "path": "test/functional/test_framework/wallet.py",
      "position": null,
      "original_position": 29,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": 575909995,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you for the suggestion! I moved the append utxo after `sendrawtransaction`",
      "created_at": "2021-02-19T16:22:14Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r579308133",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579308133"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579308335",
      "pull_request_review_id": 594349065,
      "id": 579308335,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTMwODMzNQ==",
      "diff_hunk": "@@ -35,7 +35,7 @@\n     assert_raises_rpc_error,\n     hex_str_to_bytes,\n )\n-\n+from test_framework.wallet import MiniWallet\n \n class MempoolAcceptanceTest(BitcoinTestFramework):\n     def set_test_params(self):",
      "path": "test/functional/mempool_accept.py",
      "position": 8,
      "original_position": 8,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "91c2848db8122d3a9ccee9f05775ccaf9bed2e19",
      "in_reply_to_id": 575334436,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed!",
      "created_at": "2021-02-19T16:22:31Z",
      "updated_at": "2021-03-01T16:14:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r579308335",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579308335"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 41,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586078009",
      "pull_request_review_id": 602474022,
      "id": 586078009,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjA3ODAwOQ==",
      "diff_hunk": "@@ -55,7 +55,7 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, nVersion = 1, default_fee = False):",
      "path": "test/functional/test_framework/wallet.py",
      "position": 5,
      "original_position": 5,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since it's optional\r\n```suggestion\r\n    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None, send_tx=True, nVersion=1, seq_num=0xffffffff, default_fee=False):\r\n```",
      "created_at": "2021-03-03T03:19:49Z",
      "updated_at": "2021-03-03T03:41:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r586078009",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586078009"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 58,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586079887",
      "pull_request_review_id": 602474022,
      "id": 586079887,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjA3OTg4Nw==",
      "diff_hunk": "@@ -65,15 +65,20 @@ def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_sp\n         assert send_value > 0\n \n         tx = CTransaction()\n-        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']))]\n+        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']), nSequence = seq_num)]\n         tx.vout = [CTxOut(int(send_value * COIN), self._scriptPubKey)]\n+        tx.nVersion = 2\n         tx.wit.vtxinwit = [CTxInWitness()]\n         tx.wit.vtxinwit[0].scriptWitness.stack = [CScript([OP_TRUE])]\n         tx_hex = tx.serialize().hex()\n \n         tx_info = from_node.testmempoolaccept([tx_hex])[0]\n-        self._utxos.append({'txid': tx_info['txid'], 'vout': 0, 'value': send_value})\n-        from_node.sendrawtransaction(tx_hex)\n+        if send_tx:\n+            if default_fee:",
      "path": "test/functional/test_framework/wallet.py",
      "position": 25,
      "original_position": 25,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should be called `bypass_maxfeerate`. But really, since it's a parameter for `sendrawtransaction`, why isn't the caller doing a `send_tx=False` and then submitting it themselves?",
      "created_at": "2021-03-03T03:26:28Z",
      "updated_at": "2021-03-03T03:41:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r586079887",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586079887"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586080430",
      "pull_request_review_id": 602474022,
      "id": 586080430,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjA4MDQzMA==",
      "diff_hunk": "@@ -65,15 +65,20 @@ def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_sp\n         assert send_value > 0\n \n         tx = CTransaction()\n-        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']))]\n+        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']), nSequence = seq_num)]\n         tx.vout = [CTxOut(int(send_value * COIN), self._scriptPubKey)]\n+        tx.nVersion = 2",
      "path": "test/functional/test_framework/wallet.py",
      "position": 16,
      "original_position": 16,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You're accepting a `nVersion` param but not using it?",
      "created_at": "2021-03-03T03:28:01Z",
      "updated_at": "2021-03-03T03:41:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r586080430",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586080430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 70,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586082917",
      "pull_request_review_id": 602474022,
      "id": 586082917,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjA4MjkxNw==",
      "diff_hunk": "@@ -58,38 +56,32 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n         self.log.info('Start with empty mempool, and 200 blocks')\n         self.mempool_size = 0\n+        miniwallet.generate(10)\n+        node.generate(190)\n         assert_equal(node.getblockcount(), 200)\n         assert_equal(node.getmempoolinfo()['size'], self.mempool_size)\n-        coins = node.listunspent()\n \n         self.log.info('Should not accept garbage to testmempoolaccept')\n         assert_raises_rpc_error(-3, 'Expected type array, got string', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\n         assert_raises_rpc_error(-8, 'Array must contain exactly one raw transaction for now', lambda: node.testmempoolaccept(rawtxs=['ff00baar', 'ff22']))\n         assert_raises_rpc_error(-22, 'TX decode failed', lambda: node.testmempoolaccept(rawtxs=['ff00baar']))\n \n         self.log.info('A transaction already in the blockchain')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        raw_tx_in_block = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout']}],\n-            outputs=[{node.getnewaddress(): 0.3}, {node.getnewaddress(): 49}],\n-        ))['hex']\n-        txid_in_block = node.sendrawtransaction(hexstring=raw_tx_in_block, maxfeerate=0)\n-        node.generate(1)\n+        tx_in_block = miniwallet.send_self_transfer(from_node = node, default_fee = True)\n+        node.generate(1) # Generate a block, tx gets mined therefore mempool is empty\n         self.mempool_size = 0\n         self.check_mempool_result(\n-            result_expected=[{'txid': txid_in_block, 'allowed': False, 'reject-reason': 'txn-already-known'}],\n-            rawtxs=[raw_tx_in_block],\n+            result_expected=[{'txid': tx_in_block['txid'], 'allowed': False, 'reject-reason': 'txn-already-known'}],\n+            rawtxs=[tx_in_block['hex']],\n         )\n \n         self.log.info('A transaction not in the mempool')\n-        fee = Decimal('0.000007')\n-        raw_tx_0 = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{\"txid\": txid_in_block, \"vout\": 0, \"sequence\": BIP125_SEQUENCE_NUMBER}],  # RBF is used later\n-            outputs=[{node.getnewaddress(): Decimal('0.3') - fee}],\n-        ))['hex']\n+        fee = Decimal('0.00000672')",
      "path": "test/functional/mempool_accept.py",
      "position": 65,
      "original_position": 65,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You're changing the fee?",
      "created_at": "2021-03-03T03:36:29Z",
      "updated_at": "2021-03-03T03:41:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r586082917",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586082917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 83,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586083854",
      "pull_request_review_id": 602474022,
      "id": 586083854,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjA4Mzg1NA==",
      "diff_hunk": "@@ -58,38 +56,32 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n         self.log.info('Start with empty mempool, and 200 blocks')\n         self.mempool_size = 0\n+        miniwallet.generate(10)\n+        node.generate(190)",
      "path": "test/functional/mempool_accept.py",
      "position": 31,
      "original_position": 31,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Assuming this is done to mature the coinbases... is there any reason to do more than 100?",
      "created_at": "2021-03-03T03:39:33Z",
      "updated_at": "2021-03-03T03:41:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r586083854",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586083854"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 64,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587566013",
      "pull_request_review_id": 604227582,
      "id": 587566013,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzU2NjAxMw==",
      "diff_hunk": "@@ -58,38 +56,32 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n         self.log.info('Start with empty mempool, and 200 blocks')\n         self.mempool_size = 0\n+        miniwallet.generate(10)\n+        node.generate(190)\n         assert_equal(node.getblockcount(), 200)\n         assert_equal(node.getmempoolinfo()['size'], self.mempool_size)\n-        coins = node.listunspent()\n \n         self.log.info('Should not accept garbage to testmempoolaccept')\n         assert_raises_rpc_error(-3, 'Expected type array, got string', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\n         assert_raises_rpc_error(-8, 'Array must contain exactly one raw transaction for now', lambda: node.testmempoolaccept(rawtxs=['ff00baar', 'ff22']))\n         assert_raises_rpc_error(-22, 'TX decode failed', lambda: node.testmempoolaccept(rawtxs=['ff00baar']))\n \n         self.log.info('A transaction already in the blockchain')\n-        coin = coins.pop()  # Pick a random coin(base) to spend\n-        raw_tx_in_block = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{'txid': coin['txid'], 'vout': coin['vout']}],\n-            outputs=[{node.getnewaddress(): 0.3}, {node.getnewaddress(): 49}],\n-        ))['hex']\n-        txid_in_block = node.sendrawtransaction(hexstring=raw_tx_in_block, maxfeerate=0)\n-        node.generate(1)\n+        tx_in_block = miniwallet.send_self_transfer(from_node = node, default_fee = True)\n+        node.generate(1) # Generate a block, tx gets mined therefore mempool is empty\n         self.mempool_size = 0\n         self.check_mempool_result(\n-            result_expected=[{'txid': txid_in_block, 'allowed': False, 'reject-reason': 'txn-already-known'}],\n-            rawtxs=[raw_tx_in_block],\n+            result_expected=[{'txid': tx_in_block['txid'], 'allowed': False, 'reject-reason': 'txn-already-known'}],\n+            rawtxs=[tx_in_block['hex']],\n         )\n \n         self.log.info('A transaction not in the mempool')\n-        fee = Decimal('0.000007')\n-        raw_tx_0 = node.signrawtransactionwithwallet(node.createrawtransaction(\n-            inputs=[{\"txid\": txid_in_block, \"vout\": 0, \"sequence\": BIP125_SEQUENCE_NUMBER}],  # RBF is used later\n-            outputs=[{node.getnewaddress(): Decimal('0.3') - fee}],\n-        ))['hex']\n+        fee = Decimal('0.00000672')",
      "path": "test/functional/mempool_accept.py",
      "position": 65,
      "original_position": 65,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": 586082917,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yea cause the previous fee of `fee = Decimal('0.000007')` was too low to pass the mempool test. I manually calculated the fee here `fee_rate = Decimal('0.00007672') - fee,`, to get the best option",
      "created_at": "2021-03-04T15:27:53Z",
      "updated_at": "2021-03-04T15:27:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r587566013",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587566013"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 83,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587566632",
      "pull_request_review_id": 604228376,
      "id": 587566632,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzU2NjYzMg==",
      "diff_hunk": "@@ -58,38 +56,32 @@ def check_mempool_result(self, result_expected, *args, **kwargs):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        miniwallet = MiniWallet(node)\n \n         self.log.info('Start with empty mempool, and 200 blocks')\n         self.mempool_size = 0\n+        miniwallet.generate(10)\n+        node.generate(190)",
      "path": "test/functional/mempool_accept.py",
      "position": 31,
      "original_position": 31,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": 586083854,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not really, just wanted to keep 200 blocks to mimic the current code",
      "created_at": "2021-03-04T15:28:32Z",
      "updated_at": "2021-03-04T15:28:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r587566632",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587566632"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 64,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587567355",
      "pull_request_review_id": 604229284,
      "id": 587567355,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzU2NzM1NQ==",
      "diff_hunk": "@@ -65,15 +65,20 @@ def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_sp\n         assert send_value > 0\n \n         tx = CTransaction()\n-        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']))]\n+        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']), nSequence = seq_num)]\n         tx.vout = [CTxOut(int(send_value * COIN), self._scriptPubKey)]\n+        tx.nVersion = 2",
      "path": "test/functional/test_framework/wallet.py",
      "position": 16,
      "original_position": 16,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": 586080430,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "oops my bad ",
      "created_at": "2021-03-04T15:29:18Z",
      "updated_at": "2021-03-04T15:29:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r587567355",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587567355"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 70,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587571975",
      "pull_request_review_id": 604235391,
      "id": 587571975,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzU3MTk3NQ==",
      "diff_hunk": "@@ -65,15 +65,20 @@ def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_sp\n         assert send_value > 0\n \n         tx = CTransaction()\n-        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']))]\n+        tx.vin = [CTxIn(COutPoint(int(utxo_to_spend['txid'], 16), utxo_to_spend['vout']), nSequence = seq_num)]\n         tx.vout = [CTxOut(int(send_value * COIN), self._scriptPubKey)]\n+        tx.nVersion = 2\n         tx.wit.vtxinwit = [CTxInWitness()]\n         tx.wit.vtxinwit[0].scriptWitness.stack = [CScript([OP_TRUE])]\n         tx_hex = tx.serialize().hex()\n \n         tx_info = from_node.testmempoolaccept([tx_hex])[0]\n-        self._utxos.append({'txid': tx_info['txid'], 'vout': 0, 'value': send_value})\n-        from_node.sendrawtransaction(tx_hex)\n+        if send_tx:\n+            if default_fee:",
      "path": "test/functional/test_framework/wallet.py",
      "position": 25,
      "original_position": 25,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": 586079887,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So this was following Darius's [comment](https://github.com/bitcoin/bitcoin/pull/21014#discussion_r575909995). I could only append tx in self.utxos after sending a transaction. If I try to simply send transaction from somewhere else, I wouldn't be able to append it in the internal wallet.py list",
      "created_at": "2021-03-04T15:34:39Z",
      "updated_at": "2021-03-04T15:34:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r587571975",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587571975"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587572312",
      "pull_request_review_id": 604235856,
      "id": 587572312,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzU3MjMxMg==",
      "diff_hunk": "@@ -55,7 +55,7 @@ def get_utxo(self, *, txid=''):\n             index = self._utxos.index(utxo)\n         return self._utxos.pop(index)\n \n-    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_spend=None):\n+    def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), seq_num = 0xffffffff, from_node, utxo_to_spend=None, send_tx = True, nVersion = 1, default_fee = False):",
      "path": "test/functional/test_framework/wallet.py",
      "position": 5,
      "original_position": 5,
      "commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "original_commit_id": "5ed2bdef6d71fdef5dc8a230d01443f4886da716",
      "in_reply_to_id": 586078009,
      "user": {
        "login": "stackman27",
        "id": 26356227,
        "node_id": "MDQ6VXNlcjI2MzU2MjI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/26356227?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stackman27",
        "html_url": "https://github.com/stackman27",
        "followers_url": "https://api.github.com/users/stackman27/followers",
        "following_url": "https://api.github.com/users/stackman27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stackman27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stackman27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stackman27/subscriptions",
        "organizations_url": "https://api.github.com/users/stackman27/orgs",
        "repos_url": "https://api.github.com/users/stackman27/repos",
        "events_url": "https://api.github.com/users/stackman27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stackman27/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Gotchu!",
      "created_at": "2021-03-04T15:35:03Z",
      "updated_at": "2021-03-04T15:35:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21014#discussion_r587572312",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/587572312"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21014"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 58,
      "original_line": 58,
      "side": "RIGHT"
    }
  ]
}