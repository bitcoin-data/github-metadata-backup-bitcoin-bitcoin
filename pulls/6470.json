{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470",
    "id": 40728283,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDA3MjgyODM=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6470",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/6470.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/6470.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/6e8d3dd36cc82921f312458e17168788016ceee2",
    "number": 6470,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Super Duper MemPool Limiter",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@sipa @sdaftuar @jtimon @petertodd \nOK, this is the best combination of approaches I could put together.\n\nI took #6455 and I removed the floating relay fee commit.  I really like that idea, but it needs to be much slower acting I think and not subject to potential abuse.  That can be a later improvement.\n\nI added 3 things:\n- Reserved space between the soft cap and hard cap.  The soft cap is currently set to 70% of the hard cap.  Once the soft cap is hit, you first try to evict as in 6455, but if you fail, you have another chance to get in if you are still under the hard cap.  There are 10 \"rate zones\" between the hard cap and soft cap and the effective minRelayRate to get into the mempool doubles for each additional zone.\n- Any required minRelayFee for your transaction alone is considered inside the StageTrimToSize loop.\n- Periodically (once a second) we use the knowledge that surplus fees over the minRelayRate must have been paid if the size of the mempool is over the soft cap.  We use these fees in aggregate to try to trim from the bottom of the mempool.  This allows us to aggregate many small high fee transactions to evict a low paying large transaction or long chain.\n\nThe reject rates in my test setup have dropped to 0.3% for 30k feerate tx's and 0.05% for 60k feerate tx's. (See other results in #6455).\n\nI made an attempt to tweak the looping parameters in StageTrimToSize to something that I think made sense, but with the contrived test setup, and only one set of simulation data, they are probably best evaluated on the basis of intuition and not relying entirely on the resulting rejection rates.\n\nIt turns out the slowest part of StageTrimToSize was GetRand() by a long shot, so I hacked it out, but I'm sure @sipa will want to replace my hack with something nicer.\n\nThe code works as is, but could still use some work, but I think its time to get more eyes on this suggestion for a plan forward.\n",
    "labels": [
      {
        "id": 164208572,
        "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
        "name": "Mempool",
        "color": "fef2c0",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2015-07-23T23:08:18Z",
    "updated_at": "2021-09-08T10:55:31Z",
    "closed_at": "2015-09-02T17:20:35Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "11e7ac8c571c787c5209620b9dc6d6496523684e",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "morcos:surplusTrim",
      "ref": "surplusTrim",
      "sha": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 21699686,
        "node_id": "MDEwOlJlcG9zaXRvcnkyMTY5OTY4Ng==",
        "name": "bitcoin",
        "full_name": "morcos/bitcoin",
        "owner": {
          "login": "morcos",
          "id": 4360349,
          "node_id": "MDQ6VXNlcjQzNjAzNDk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/morcos",
          "html_url": "https://github.com/morcos",
          "followers_url": "https://api.github.com/users/morcos/followers",
          "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
          "organizations_url": "https://api.github.com/users/morcos/orgs",
          "repos_url": "https://api.github.com/users/morcos/repos",
          "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/morcos/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/morcos/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/morcos/bitcoin",
        "archive_url": "https://api.github.com/repos/morcos/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/morcos/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/morcos/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/morcos/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/morcos/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/morcos/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/morcos/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/morcos/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/morcos/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/morcos/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/morcos/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/morcos/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/morcos/bitcoin/events",
        "forks_url": "https://api.github.com/repos/morcos/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/morcos/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/morcos/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/morcos/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/morcos/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/morcos/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/morcos/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/morcos/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/morcos/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/morcos/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/morcos/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/morcos/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/morcos/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/morcos/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/morcos/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/morcos/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:morcos/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/morcos/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/morcos/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/morcos/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/morcos/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/morcos/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/morcos/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/morcos/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/morcos/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/morcos/bitcoin/hooks",
        "svn_url": "https://github.com/morcos/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 119327,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2019-05-22T19:49:00Z",
        "created_at": "2014-07-10T15:39:10Z",
        "updated_at": "2022-02-11T23:59:55Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "ddd8d80c63182aefea56abf743bb9199d9602544",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35475,
        "stargazers_count": 70607,
        "watchers_count": 70607,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 667,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T13:59:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T13:58:20Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 479,
    "deletions": 61,
    "changed_files": 9,
    "commits": 9,
    "review_comments": 22,
    "comments": 27
  },
  "events": [
    {
      "event": "mentioned",
      "id": 363932574,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzYzOTMyNTc0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932574",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "subscribed",
      "id": 363932575,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2MzkzMjU3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932575",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "mentioned",
      "id": 363932576,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzYzOTMyNTc2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932576",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "subscribed",
      "id": 363932577,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2MzkzMjU3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932577",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "mentioned",
      "id": 363932578,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzYzOTMyNTc4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932578",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "subscribed",
      "id": 363932579,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2MzkzMjU3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932579",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "mentioned",
      "id": 363932580,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzYzOTMyNTgw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932580",
      "actor": {
        "login": "petertodd",
        "id": 7042,
        "node_id": "MDQ6VXNlcjcwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/petertodd",
        "html_url": "https://github.com/petertodd",
        "followers_url": "https://api.github.com/users/petertodd/followers",
        "following_url": "https://api.github.com/users/petertodd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/petertodd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/petertodd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
        "organizations_url": "https://api.github.com/users/petertodd/orgs",
        "repos_url": "https://api.github.com/users/petertodd/repos",
        "events_url": "https://api.github.com/users/petertodd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/petertodd/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "subscribed",
      "id": 363932581,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2MzkzMjU4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363932581",
      "actor": {
        "login": "petertodd",
        "id": 7042,
        "node_id": "MDQ6VXNlcjcwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/petertodd",
        "html_url": "https://github.com/petertodd",
        "followers_url": "https://api.github.com/users/petertodd/followers",
        "following_url": "https://api.github.com/users/petertodd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/petertodd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/petertodd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
        "organizations_url": "https://api.github.com/users/petertodd/orgs",
        "repos_url": "https://api.github.com/users/petertodd/repos",
        "events_url": "https://api.github.com/users/petertodd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/petertodd/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:08:18Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMTQ6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMTU6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMjA6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "mentioned",
      "id": 363961928,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzYzOTYxOTI4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363961928",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:51:10Z"
    },
    {
      "event": "subscribed",
      "id": 363961929,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2Mzk2MTkyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/363961929",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-23T23:51:10Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMjI6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "head_ref_force_pushed",
      "id": 364025955,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzY0MDI1OTU1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/364025955",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-24T02:05:12Z"
    },
    {
      "event": "labeled",
      "id": 364165772,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM2NDE2NTc3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/364165772",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-24T06:44:04Z",
      "label": {
        "name": "Mempool",
        "color": "fef2c0"
      }
    },
    {
      "event": "commented",
      "id": 124409428,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDQwOTQyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124409428",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-24T07:56:29Z",
      "updated_at": "2015-07-24T07:56:29Z",
      "author_association": "MEMBER",
      "body": "re: GetRand slowness, wouldn't insecure_rand() be good enough here?\nIf you need both fast and cryptographic randomness you'd have to wait for #5885\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-124409428",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 124598997,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDU5ODk5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124598997",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-24T17:53:58Z",
      "updated_at": "2015-07-24T17:53:58Z",
      "author_association": "MEMBER",
      "body": "I like the approach; I'll review the code in detail soon.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-124598997",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 124859207,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg1OTIwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124859207",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-25T16:26:24Z",
      "updated_at": "2015-07-25T16:26:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "The idea that a transaction must be \"paid for\" when evicted by an unrelated transaction is mistaken.  It creates zero incentive for the evicted author to pay more fees in the future.  He got what he wanted -- his tx was relayed.\n\nIf the decision does not affect the cost, the cost should not affect the decision.\n",
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-124859207",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 124859721,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg1OTcyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124859721",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-25T16:35:41Z",
      "updated_at": "2015-07-25T17:13:48Z",
      "author_association": "MEMBER",
      "body": "The assumption is that when a transaction is evicted, it won't be mined, thus it won't have paid anything at all.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-124859721",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 124861731,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg2MTczMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124861731",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-25T16:55:29Z",
      "updated_at": "2015-07-25T16:55:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa In that case, it also received no benefit.\n",
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-124861731",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 365245083,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY1MjQ1MDgz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/365245083",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-25T16:55:29Z"
    },
    {
      "event": "subscribed",
      "id": 365245084,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NTI0NTA4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/365245084",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-25T16:55:29Z"
    },
    {
      "event": "commented",
      "id": 124862722,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg2MjcyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124862722",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-25T17:09:33Z",
      "updated_at": "2015-07-25T17:09:33Z",
      "author_association": "MEMBER",
      "body": "It got relayed, which has network costs.\n\nThe purpose of this payment requirement is to prevent someone from spamming the network by constantly replacing the lowest priority one, and only paying once.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-124862722",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 124863335,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg2MzMzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124863335",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-25T17:24:09Z",
      "updated_at": "2015-07-25T17:24:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "For DoS protection, all that's needed is (new fee/kb) - (old fee/kb) >= (minimum fee/kb).\n",
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-124863335",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 125227514,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTIyNzUxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125227514",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T14:36:04Z",
      "updated_at": "2015-07-27T14:36:04Z",
      "author_association": "MEMBER",
      "body": "@dgenr8 No, that would let a small transaction erase a large transaction, making space for several new transactions to be cheaply relayed.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125227514",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 366142934,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2MTQyOTM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366142934",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T14:36:04Z"
    },
    {
      "event": "subscribed",
      "id": 366142935,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjE0MjkzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366142935",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T14:36:04Z"
    },
    {
      "event": "mentioned",
      "id": 366151375,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2MTUxMzc1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366151375",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T14:43:31Z"
    },
    {
      "event": "subscribed",
      "id": 366151376,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjE1MTM3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366151376",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T14:43:31Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMjU6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMjk6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMzA6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 125249073,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTI0OTA3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125249073",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T15:40:56Z",
      "updated_at": "2015-07-27T15:40:56Z",
      "author_association": "MEMBER",
      "body": "@jtimon I'd like to add some sanity checking for the command line arguments that are passed in.  I assume that should go in init.cpp?  Where is the appropriate place for me to store variables such as hard cap, mempool expiry time, etc..  so they aren't recalculated every time.   \n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125249073",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 366217887,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2MjE3ODg3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366217887",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T15:40:56Z"
    },
    {
      "event": "subscribed",
      "id": 366217888,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjIxNzg4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366217888",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T15:40:56Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T15:46:30Z",
      "updated_at": "2015-07-27T15:46:30Z",
      "source": {
        "issue": {
          "id": 95635090,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDAyMjA0NTM=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6452",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6452/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6452/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6452/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/6452",
          "number": 6452,
          "state": "closed",
          "state_reason": null,
          "title": "Keep track of recently rejected transactions with a rolling bloom filter",
          "body": "@marcos's #6450, but with a rolling bloom filter instead of a limitedmap. The number of rejected txids saved has been greatly improved, which should help in some attack scenarios. In addition the filter is now cleared every time the chaintip changes, rather than based on a timeout, to better match the cases where a previously rejected transaction would now be valid. (nLockTime, double-spends, etc.)\n",
          "user": {
            "login": "petertodd",
            "id": 7042,
            "node_id": "MDQ6VXNlcjcwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/petertodd",
            "html_url": "https://github.com/petertodd",
            "followers_url": "https://api.github.com/users/petertodd/followers",
            "following_url": "https://api.github.com/users/petertodd/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/petertodd/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/petertodd/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
            "organizations_url": "https://api.github.com/users/petertodd/orgs",
            "repos_url": "https://api.github.com/users/petertodd/repos",
            "events_url": "https://api.github.com/users/petertodd/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/petertodd/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6452",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/6452",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/6452.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/6452.patch"
          },
          "closed_at": "2015-07-31T16:32:01Z",
          "created_at": "2015-07-17T10:55:40Z",
          "updated_at": "2021-09-08T11:47:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "mentioned",
      "id": 366231179,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2MjMxMTc5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366231179",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T15:53:11Z"
    },
    {
      "event": "subscribed",
      "id": 366231180,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjIzMTE4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366231180",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T15:53:11Z"
    },
    {
      "event": "mentioned",
      "id": 366258720,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2MjU4NzIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366258720",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T16:18:19Z"
    },
    {
      "event": "subscribed",
      "id": 366258721,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjI1ODcyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366258721",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T16:18:19Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MTExMzM6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 125264497,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTI2NDQ5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125264497",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T16:28:15Z",
      "updated_at": "2015-07-27T16:28:15Z",
      "author_association": "MEMBER",
      "body": "Needs rebase.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125264497",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T16:28:58Z",
      "updated_at": "2015-07-27T16:28:58Z",
      "source": {
        "issue": {
          "id": 95754297,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDAyNzYwNDA=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6455",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6455/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6455/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6455/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/6455",
          "number": 6455,
          "state": "closed",
          "state_reason": null,
          "title": "Limited mempool + floating relay fee + rejection caching + mempool expiry",
          "body": "This is a demo combination of #6452, #6421, #6453 and a new gradual relay fee adjustment.\n\nContinuously (every second) adjust the relay fee by measuring the mempool size and correcting it towards 71% (sqrt(50%)) of the cap size. The maximum correction speed is equal to doubling or halving the fee per two hours. The relay fee will never go below the -minrelayfee setting. It is not intended to deal with sudden spikes - that's what the hard cap is meant for.\n\nThis was inspired by Jeff Garzik's low/high water mark approach, but has more gradual effects.\n\nTODO: integration with fee estimation. @morcos, feel like having a look at that?\n",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6455",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/6455",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/6455.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/6455.patch"
          },
          "closed_at": "2015-07-27T16:28:58Z",
          "created_at": "2015-07-17T22:07:07Z",
          "updated_at": "2021-09-08T10:47:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 125298357,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTI5ODM1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125298357",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T18:31:33Z",
      "updated_at": "2015-07-27T18:31:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "> that would let a small transaction erase a large transaction, making space for several new transactions to be cheaply relayed\n\n@sipa That is good.  You don't want a 500KB spam-monster tx paying (minimum fee/kb) to require a regular-sized tx to pay 1001 \\* (minimum fee/kb) to dislodge it.  Bad guy could get 1000 little txes relayed anyway by sending them first -- the pay-for-evicted rule creates a race to be first or pay double.\n",
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125298357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 366392653,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2MzkyNjUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366392653",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T18:31:33Z"
    },
    {
      "event": "subscribed",
      "id": 366392655,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjM5MjY1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366392655",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T18:31:33Z"
    },
    {
      "event": "commented",
      "id": 125300493,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTMwMDQ5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125300493",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T18:37:51Z",
      "updated_at": "2015-07-27T18:37:51Z",
      "author_association": "MEMBER",
      "body": "@dgenr8 While that is a potential problem for optimizing what gets into the mempool, note that this PR is attempting to provide a solution so that many small transactions can be used to evict large transaction packages.\n",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125300493",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 366399547,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2Mzk5NTQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366399547",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T18:37:51Z"
    },
    {
      "event": "subscribed",
      "id": 366399548,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjM5OTU0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366399548",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T18:37:51Z"
    },
    {
      "event": "commented",
      "id": 125324736,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTMyNDczNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125324736",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T19:51:47Z",
      "updated_at": "2015-07-27T19:51:47Z",
      "author_association": "MEMBER",
      "body": "@dgenr8 This conversation has been spread over a couple of PR's and IRC, so I apologize if I'm repeating a prior argument, but I think it would be good to explain the reasoning behind the logic in this pull.\n\nPrior to limiting the mempool (or having RBF implemented), we had protection against bandwidth spamming attacks by requiring all transactions that were relayed to be accepted into the mempool and have either fee or priority.  Since those transactions are now in the mempool and can't be recalled, those fees are now at risk for being consumed by being included in a block.  This pull isn't meant to provide some new protection against that attack, but is only meant to protect against OOM attacks by ever expanding mempools.   However, it must be sure not to break that pre-existing protection.\n\nOnce we create a way for transactions to be removed from the mempool, we have to realize that the fees placed on those transactions are no longer at risk.   The approach we've been using is to say that (modulo transactions that have already been mined) the mempool must contain enough fees to pay for the relay cost of all transactions that have been historically broadcast whether they are still in the mempool or not.  What this prevents is someone replacing or evicting their own transactions \"cheaply\" and thereby achieving free relay of their original transactions.   The fact that there might be a race to get into the mempool before it fills up is a slight aberration that occurs as a one off.  We still need a mechanism by which to adjust the minimum relay fee over time in the event that it is too small to dissuade spam. \n\nYour concern about a monster transaction of low fees preventing a small transaction from getting in the mempool is addressed in 4 separate ways in this pull.  \n1) Multiple attempts are made to evict transactions, so being unlucky and trying against one large transaction is insufficient to block  you.\n2) Some portion of the mempool space is reserved for higher and higher fee transactions.  That space is not cheaply fillable with spam and should serve to act as a temporarily higher min relay rate which will keep the relay path open for high fee paying tx's (large or small).\n3) Any tx's occupying the reserve space are periodically looked at in aggregate and used to remove large tx's or chains of tx's from the bottom of the mempool that would otherwise be unevictable.\n4) There is a time based eviction mechanism as a last fall back.\n\nNo doubt further improvements are possible, but I think this is a good step in the right direction.\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125324736",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 366473173,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2NDczMTcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366473173",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T19:51:47Z"
    },
    {
      "event": "subscribed",
      "id": 366473174,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjQ3MzE3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366473174",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-27T19:51:47Z"
    },
    {
      "event": "commented",
      "id": 125392790,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTM5Mjc5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125392790",
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-28T00:43:02Z",
      "updated_at": "2015-07-28T00:43:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "@morcos Thanks.  I feel the capping part of this pull is too complex, and could be simplifed (a little) by removing the \"pay for eviction\" idea, which has no good incentive effect.\n\nThe person paid is the miner, who doesn't need to be paid ~double to mine the evictor tx.  The person who pays is the unlucky evictor.  Evictee gets a chance at cheap fees, and others who come after eviction could pay even less, since there might then be extra space for them.\n\nThe case where evictor == evictee could be handled explicitly, if it were actually possible to target this kind of replacement with all the factors that affect the selection of the evictees, such as propagation variation, node start time variation, mining, and nodes having different mempool size limits.\n",
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125392790",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 366700877,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY2NzAwODc3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366700877",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-28T00:43:02Z"
    },
    {
      "event": "subscribed",
      "id": 366700878,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NjcwMDg3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/366700878",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-28T00:43:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 367716803,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzY3NzE2ODAz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/367716803",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-28T21:18:45Z"
    },
    {
      "event": "commented",
      "id": 125757726,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTc1NzcyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125757726",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-28T21:23:32Z",
      "updated_at": "2015-07-28T21:23:32Z",
      "author_association": "MEMBER",
      "body": "I rebased, addressed many of the comments and did some various cleanups in place.\n\nPlease note I changed the defaults for `-maxmempool` and `-mempoolexpiry`  to 500MB and 1 week respectively.  \n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125757726",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 125915125,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTkxNTEyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125915125",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T10:34:04Z",
      "updated_at": "2015-07-29T10:34:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "@morcos everybody is creating new globals in main, but I hate that. I would at the very least move them to globals/server ot something, but whatever...\nIt would be much nicer if you make them an attribute of an existing class that is used as a global (say, mempool or globalPolicy). Here's a commit in which you can see what I would like to move towards: https://github.com/jtimon/bitcoin/commit/5a42e278c64468e1e0f3ee24e10710b91c754082\nI've been trying to do something like that since 2014 but unfortunately there's still no right place for introducing new policy options and people keep doing everything in main. Next step is #6068 (still without the preparations in util that you could reuse, let me know if you want me to separate those preparations).\n\nEven if you don't do it \"the right way\" ( @luke-jr wanted to create a dynamic GUI form for command line options using something like https://github.com/jtimon/bitcoin/commit/5a42e278c64468e1e0f3ee24e10710b91c754082#diff-01e64f27a2a21a3116825fa22aee0537R30 ), for the case of -maxmempool and -mempoolexpiry, you could at least put them in CTxMempool.\nIf we want them in policy (no strong opinion), the easiest thing IMO is leaving them as locals for now (even though that's not very efficient) and hide them in CStandardPolicy or the policy estimator later.\n\nBut, whatever, there's many things to cleanup already and everybody is doing it wrong, even for new policy options (like fRequireStandard), so why would you spend any \"mental power\" on putting new things in the right place when you're actually solving an urgent problem?\nDo everything in main like everybody else and hopefully it will be cleaned up eventually.\n",
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125915125",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 368196794,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY4MTk2Nzk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/368196794",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T10:34:04Z"
    },
    {
      "event": "subscribed",
      "id": 368196795,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2ODE5Njc5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/368196795",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T10:34:04Z"
    },
    {
      "event": "mentioned",
      "id": 368196796,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY4MTk2Nzk2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/368196796",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T10:34:04Z"
    },
    {
      "event": "subscribed",
      "id": 368196797,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2ODE5Njc5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/368196797",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T10:34:04Z"
    },
    {
      "event": "commented",
      "id": 125968349,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTk2ODM0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125968349",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T14:23:33Z",
      "updated_at": "2015-07-29T14:23:33Z",
      "author_association": "MEMBER",
      "body": "@jtimon OK thanks.  Yes I'm going to leave them as locals for now and if we end up adding sanity checking it can just be done separately in init.cpp for now.  But I do like your idea of moving them to a policy class.  It puts all the logic of what are the reasonable parameters for these arguments in the same place..\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-125968349",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 368388697,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY4Mzg4Njk3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/368388697",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T14:23:33Z"
    },
    {
      "event": "subscribed",
      "id": 368388698,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2ODM4ODY5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/368388698",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-29T14:23:33Z"
    },
    {
      "event": "commented",
      "id": 126163605,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjE2MzYwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/126163605",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-30T02:35:35Z",
      "updated_at": "2015-07-30T08:48:00Z",
      "author_association": "NONE",
      "body": "I have a few questions,\n\n1)  I noted that @morcos stated that he \"removed the floating relay fee commit,\" but is there another commit added that provides some (roughly) equivalent function?   It strikes me that having a floating relay fee added has a necessary dynamic effect ~ the purpose of the floating relay, as discussed in #6455, is to dampen the effect of the limited memory pool, and make it more constant over time.\n\n2) Noted from prior remarks I have made in #6455 that a mempool is not necessarily needed (e.g., relay nodes would not need to be using a mempool; the wallet nodes, would be using a mempool, as was indicated).\n\n3) It was my understanding that there was [a resolution](https://github.com/bitcoin/bitcoin/pull/6201#issuecomment-122512074) that \"Mempool limiting and dynamic fee determination are superior to a static parameter change\" at the end of #6201, which when closed led to #6455 and now, to this pull request.\n\n```\nSo, why not time based expiration as well as a floating relay fee?  Just curious.\n```\n",
      "user": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-126163605",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 369017430,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY5MDE3NDMw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/369017430",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-30T02:35:35Z"
    },
    {
      "event": "subscribed",
      "id": 369017431,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2OTAxNzQzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/369017431",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-30T02:35:35Z"
    },
    {
      "event": "commented",
      "id": 126316075,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjMxNjA3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/126316075",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-30T13:05:12Z",
      "updated_at": "2015-07-30T13:05:12Z",
      "author_association": "MEMBER",
      "body": "Testing & benchmarking.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-126316075",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "commented",
      "id": 126394733,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjM5NDczMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/126394733",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-30T16:31:57Z",
      "updated_at": "2015-07-30T16:31:57Z",
      "author_association": "MEMBER",
      "body": "@ABISprotocol, I still believe we need a floating relay fee.  I just think it needs to act over a much longer time horizon and be less abusable than the one implemented in the commit I removed.  \n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-126394733",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 369652593,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY5NjUyNTkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/369652593",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-30T16:31:57Z"
    },
    {
      "event": "subscribed",
      "id": 369652594,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2OTY1MjU5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/369652594",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-30T16:31:57Z"
    },
    {
      "event": "commented",
      "id": 127150364,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzE1MDM2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/127150364",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T07:44:50Z",
      "updated_at": "2015-08-03T07:44:50Z",
      "author_association": "NONE",
      "body": "@morcos @sipa In what pull request or issue should I look for the floating relay fee, or is that TBD?\n",
      "user": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-127150364",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 371698881,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzcxNjk4ODgx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/371698881",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T07:44:50Z"
    },
    {
      "event": "subscribed",
      "id": 371698882,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3MTY5ODg4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/371698882",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T07:44:50Z"
    },
    {
      "event": "mentioned",
      "id": 371698883,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzcxNjk4ODgz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/371698883",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T07:44:50Z"
    },
    {
      "event": "subscribed",
      "id": 371698884,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3MTY5ODg4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/371698884",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T07:44:50Z"
    },
    {
      "event": "commented",
      "id": 127278779,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzI3ODc3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/127278779",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T15:32:54Z",
      "updated_at": "2015-08-03T15:32:54Z",
      "author_association": "MEMBER",
      "body": "@ABISprotocol This was the commit I removed, https://github.com/sipa/bitcoin/commit/6498673f99da9976df170052648ff2f0026210d2.  But I think the correct answer is TBD.\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-127278779",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 372091392,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzcyMDkxMzky",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/372091392",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T15:32:55Z"
    },
    {
      "event": "subscribed",
      "id": 372091393,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3MjA5MTM5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/372091393",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T15:32:55Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-03T17:44:15Z",
      "updated_at": "2015-08-03T17:44:15Z",
      "source": {
        "issue": {
          "id": 98425524,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDEzNTY5MTM=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6498",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6498/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6498/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6498/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/6498",
          "number": 6498,
          "state": "closed",
          "state_reason": null,
          "title": "Keep track of recently rejected transactions with a rolling bloom filter (cont'd)",
          "body": "Peter Todd is on holiday, so continued from #6452\nAdded a commit that moves recentRejects initialization to the top of InitBlockIndex to avoid not initializing it under some conditions.\n",
          "user": {
            "login": "laanwj",
            "id": 126646,
            "node_id": "MDQ6VXNlcjEyNjY0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laanwj",
            "html_url": "https://github.com/laanwj",
            "followers_url": "https://api.github.com/users/laanwj/followers",
            "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
            "organizations_url": "https://api.github.com/users/laanwj/orgs",
            "repos_url": "https://api.github.com/users/laanwj/repos",
            "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/laanwj/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6498",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/6498",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/6498.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/6498.patch"
          },
          "closed_at": "2015-08-03T18:13:52Z",
          "created_at": "2015-07-31T16:30:57Z",
          "updated_at": "2021-09-08T11:47:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 127808520,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzgwODUyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/127808520",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-05T01:01:22Z",
      "updated_at": "2015-08-05T01:01:22Z",
      "author_association": "NONE",
      "body": "@morcos @sipa Please refer to the number of the pull request for the the floating relay fee in this one at such time when it is created so that the discussion / progress on this can be followed.  So far I have been following this as follows:\n#6201\n#6455\nI'm assuming there will be another pullreq (with a floating relay fee) TBD, my request is that when it is created, please refer to the number of that pullreq here.  Thank you in advance.\n",
      "user": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-127808520",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "mentioned",
      "id": 373671720,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzczNjcxNzIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/373671720",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-05T01:01:22Z"
    },
    {
      "event": "subscribed",
      "id": 373671721,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3MzY3MTcyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/373671721",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-05T01:01:22Z"
    },
    {
      "event": "mentioned",
      "id": 373671722,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzczNjcxNzIy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/373671722",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-05T01:01:22Z"
    },
    {
      "event": "subscribed",
      "id": 373671723,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3MzY3MTcyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/373671723",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-05T01:01:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 374348883,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzc0MzQ4ODgz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/374348883",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-05T15:51:23Z"
    },
    {
      "event": "commented",
      "id": 128047761,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyODA0Nzc2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/128047761",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-05T15:54:16Z",
      "updated_at": "2015-08-05T15:54:16Z",
      "author_association": "MEMBER",
      "body": "Rebased now that #6498 has been merged \n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-128047761",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-08T15:07:02Z",
      "updated_at": "2015-08-08T15:07:02Z",
      "source": {
        "issue": {
          "id": 44933490,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjIyNjA3MjY=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5048",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5048/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5048/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5048/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/5048",
          "number": 5048,
          "state": "closed",
          "state_reason": null,
          "title": "txoutsbyaddress index",
          "body": "Adds new rpc call \"gettxoutsbyaddress\" as requested in #4007.\nDisabled by default, enabled with -txoutsbyaddressindex.\n\nThe index is built from the normal utxo on first use, reindex is not required.\nFor the GUI there is progress shown, on bitcoind you just need to be patient.\n\nThe qa-test includes a simple reorganization.\nI tested all 4 code parts in main.cpp by commenting them out and check if the qa-test fails at the expected line.\nI had to modify the rpc call for this test, as normally wrong outputs in the address index are not exposed to the user, because the rpc call relies on the normal GetCoins call.\nThe rest of the code has been tested in random ad-hoc testing.\nI only tested linux on my machine.\n\nIts all in 1 commit for laziness reasons, but if splitting in multiple commits would help reviewing, I could do that.\n\n![txoutsbyaddress](https://cloud.githubusercontent.com/assets/2814559/4520346/bac8f3e0-4ce8-11e4-9f31-be597965dc77.png)\n\n![txoutsbyaddress3](https://cloud.githubusercontent.com/assets/2814559/4520369/6b9e3c52-4ce9-11e4-81e0-e541caeedf62.png)\n",
          "user": {
            "login": "cozz",
            "id": 2814559,
            "node_id": "MDQ6VXNlcjI4MTQ1NTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2814559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cozz",
            "html_url": "https://github.com/cozz",
            "followers_url": "https://api.github.com/users/cozz/followers",
            "following_url": "https://api.github.com/users/cozz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/cozz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/cozz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/cozz/subscriptions",
            "organizations_url": "https://api.github.com/users/cozz/orgs",
            "repos_url": "https://api.github.com/users/cozz/repos",
            "events_url": "https://api.github.com/users/cozz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/cozz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 55,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5048",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/5048",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/5048.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/5048.patch"
          },
          "closed_at": "2015-08-08T20:14:50Z",
          "created_at": "2014-10-05T23:45:42Z",
          "updated_at": "2021-09-08T12:29:22Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYjkzZTJjYjVkZmJjZmE1ZTIwYzk3NzFmOTYzODM2NDc3NWQ4MzU3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb93e2cb5dfbcfa5e20c9771f9638364775d8357",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bb93e2cb5dfbcfa5e20c9771f9638364775d8357",
      "tree": {
        "sha": "6a01e4529b2208a068e7002f6089c480611183da",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6a01e4529b2208a068e7002f6089c480611183da"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/87f37e259d6deb52ee464edde7aece687eea97a5",
          "sha": "87f37e259d6deb52ee464edde7aece687eea97a5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/87f37e259d6deb52ee464edde7aece687eea97a5"
        }
      ],
      "message": "TxMemPool: Change mapTx to a boost::multi_index_container\n\nIndexes on:\n- Tx Hash\n- Fee Rate (fee-per-kb)",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Ashley Holman",
        "email": "dscvlt@gmail.com",
        "date": "2015-06-24T08:32:20Z"
      },
      "sha": "bb93e2cb5dfbcfa5e20c9771f9638364775d8357"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZGM0ZTcwNTFjMmQ0ZTY1NjlmOTBkOWM3ZTA0N2ZiN2YwZDYwZDlj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9dc4e7051c2d4e6569f90d9c7e047fb7f0d60d9c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9dc4e7051c2d4e6569f90d9c7e047fb7f0d60d9c",
      "tree": {
        "sha": "ff8c125e470a74da02efe9b09af99b801a428fa0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ff8c125e470a74da02efe9b09af99b801a428fa0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb93e2cb5dfbcfa5e20c9771f9638364775d8357",
          "sha": "bb93e2cb5dfbcfa5e20c9771f9638364775d8357",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bb93e2cb5dfbcfa5e20c9771f9638364775d8357"
        }
      ],
      "message": "Move orphan tx handling to a separate log class",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "sipa@ulyssis.org",
        "date": "2015-07-11T14:49:11Z"
      },
      "sha": "9dc4e7051c2d4e6569f90d9c7e047fb7f0d60d9c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNGNmNGJhZWFlMGExODdjZmZiNzcxY2ViNGVhYzc4YTRiY2RmZGIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04cf4baeae0a187cffb771ceb4eac78a4bcdfdb0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/04cf4baeae0a187cffb771ceb4eac78a4bcdfdb0",
      "tree": {
        "sha": "ef8ec4308d4432780d79e424cb6be48135943ff3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ef8ec4308d4432780d79e424cb6be48135943ff3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9dc4e7051c2d4e6569f90d9c7e047fb7f0d60d9c",
          "sha": "9dc4e7051c2d4e6569f90d9c7e047fb7f0d60d9c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9dc4e7051c2d4e6569f90d9c7e047fb7f0d60d9c"
        }
      ],
      "message": "Implement on-the-fly mempool size limitation.",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2015-07-10T21:52:53Z"
      },
      "sha": "04cf4baeae0a187cffb771ceb4eac78a4bcdfdb0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYWM2NDk2NzAzODk0NGI0ZjA0MWIxZmExYjcyNDBlOGNkMDk4MTQ2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dac64967038944b4f041b1fa1b7240e8cd098146",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dac64967038944b4f041b1fa1b7240e8cd098146",
      "tree": {
        "sha": "d29cd7dfb31d9bfcb43edc58a4d51d3fe3bf09c0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d29cd7dfb31d9bfcb43edc58a4d51d3fe3bf09c0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04cf4baeae0a187cffb771ceb4eac78a4bcdfdb0",
          "sha": "04cf4baeae0a187cffb771ceb4eac78a4bcdfdb0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/04cf4baeae0a187cffb771ceb4eac78a4bcdfdb0"
        }
      ],
      "message": "Mempool expiry",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2015-07-18T23:48:58Z"
      },
      "sha": "dac64967038944b4f041b1fa1b7240e8cd098146"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5Mjk3OTUzY2RlMmM3YTUzNjQ1YWNkYmE3YjI5OTQ0MjcyNDNmMzdj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9297953cde2c7a53645acdba7b2994427243f37c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9297953cde2c7a53645acdba7b2994427243f37c",
      "tree": {
        "sha": "d6ac155f685bd24385e3e722238e67919f56882c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d6ac155f685bd24385e3e722238e67919f56882c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dac64967038944b4f041b1fa1b7240e8cd098146",
          "sha": "dac64967038944b4f041b1fa1b7240e8cd098146",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dac64967038944b4f041b1fa1b7240e8cd098146"
        }
      ],
      "message": "Add a notion of reserved space.\n\nThe mempool will now have a soft cap set below its hard cap.  After it fills up to the soft cap, transactions much first try using StageTrimToSize to evict the amount of size they are adding.  If they fail they can still be let into the mempool if they pass a higher relay minimum.  It doubles 10 times between the soft cap and hard cap.",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-07-21T17:52:15Z"
      },
      "sha": "9297953cde2c7a53645acdba7b2994427243f37c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ODgxMzE2NDY2NjU2NTRkNzc1OGI0OGRhZmU1YjZhZDM5NzQ1MTM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/988131646665654d7758b48dafe5b6ad39745134",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/988131646665654d7758b48dafe5b6ad39745134",
      "tree": {
        "sha": "0187db83940eb72328d2c0e49df2a14544345e03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0187db83940eb72328d2c0e49df2a14544345e03"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9297953cde2c7a53645acdba7b2994427243f37c",
          "sha": "9297953cde2c7a53645acdba7b2994427243f37c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9297953cde2c7a53645acdba7b2994427243f37c"
        }
      ],
      "message": "Make StageTrimToSize aware of any minimum relay fee.\n\nStageTrimToSize will make several attempts to find a set of transactions it can evict from the mempool to make room for the new transaction.  It should be aware of any required minimum relay fee that needs to be paid for by the new transaction after accounting for the fees of the deleted transactions.",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-07-16T14:25:33Z"
      },
      "sha": "988131646665654d7758b48dafe5b6ad39745134"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZGQxYjRkZGQ5MzMzZDVkMjQ3ZjcyMGRmYzJjZjdiZjkwNWZjYTM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2dd1b4ddd9333d5d247f720dfc2cf7bf905fca35",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2dd1b4ddd9333d5d247f720dfc2cf7bf905fca35",
      "tree": {
        "sha": "5806450df30a1e54c2de73934aaf8ada1258cd0d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5806450df30a1e54c2de73934aaf8ada1258cd0d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/988131646665654d7758b48dafe5b6ad39745134",
          "sha": "988131646665654d7758b48dafe5b6ad39745134",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/988131646665654d7758b48dafe5b6ad39745134"
        }
      ],
      "message": "Refactor STTS to be usable for surplus trimming as well",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-07-22T15:57:03Z"
      },
      "sha": "2dd1b4ddd9333d5d247f720dfc2cf7bf905fca35"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MGMzOGY4OTU4Mzg2NTFhYmEzMjdjNjNkYjI3N2YyOTI0ZDRkM2Q5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/40c38f895838651aba327c63db277f2924d4d3d9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/40c38f895838651aba327c63db277f2924d4d3d9",
      "tree": {
        "sha": "d122aa69c46030f7aa02e1ff8ad6c637fac29987",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d122aa69c46030f7aa02e1ff8ad6c637fac29987"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2dd1b4ddd9333d5d247f720dfc2cf7bf905fca35",
          "sha": "2dd1b4ddd9333d5d247f720dfc2cf7bf905fca35",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2dd1b4ddd9333d5d247f720dfc2cf7bf905fca35"
        }
      ],
      "message": "Implement Surplus Trim.\n\nUse reserve space between soft cap and hard cap as a reservoir of surplus fees that have been paid above the minRelayTxFee and occasionally use the aggregate usage there to trim from the bottom of the mempool.",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-11T16:23:39Z"
      },
      "author": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-07-22T16:11:34Z"
      },
      "sha": "40c38f895838651aba327c63db277f2924d4d3d9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZThkM2RkMzZjYzgyOTIxZjMxMjQ1OGUxNzE2ODc4ODAxNmNlZWUy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e8d3dd36cc82921f312458e17168788016ceee2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6e8d3dd36cc82921f312458e17168788016ceee2",
      "tree": {
        "sha": "9a07d16698cb669ebe1af1b21b9129e11a815c3d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9a07d16698cb669ebe1af1b21b9129e11a815c3d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/40c38f895838651aba327c63db277f2924d4d3d9",
          "sha": "40c38f895838651aba327c63db277f2924d4d3d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/40c38f895838651aba327c63db277f2924d4d3d9"
        }
      ],
      "message": "Various improvements.\n\nImprove logging\nUse insecure_rand in TrimMempool\nTweak logic of TrimMempool\nAdd occasional larger SurplusTrim.\nBypass eviction on disconnected block txs\nAdditional SurplusTrim for bypassed size\nAcquire locks appropriately",
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-08-14T18:56:14Z"
      },
      "author": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-07-23T20:37:16Z"
      },
      "sha": "6e8d3dd36cc82921f312458e17168788016ceee2"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 382882762,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgyODgyNzYy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/382882762",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-14T19:02:04Z"
    },
    {
      "event": "commented",
      "id": 131210519,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTIxMDUxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/131210519",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-14T19:03:03Z",
      "updated_at": "2015-08-14T19:03:03Z",
      "author_association": "MEMBER",
      "body": "Rebased and squashed various cleanups and small changes into the last commit.\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-131210519",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-14T19:30:10Z",
      "updated_at": "2015-08-14T19:30:10Z",
      "source": {
        "issue": {
          "id": 101087170,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDI0ODk1OTk=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6557",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6557/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6557/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6557/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/6557",
          "number": 6557,
          "state": "closed",
          "state_reason": null,
          "title": "Mempool limiting with descendant package tracking",
          "body": "This builds off #6470 by adding additional state to CTxMemPoolEntry to track the size/fees of a transaction with all its in-mempool descendants (\"packages\"), and then sorts the mempool based on `max(feerate of tx alone, feerate of tx with descendants)`, in order to improve the effectiveness of mempool limiting/eviction code.\n\nThis introduces 4 new policy limits which serve the limit the length and size of chains in the mempool, in order to ensure computational feasibility of the calculations being done to track descendant packages and effectiveness of the mempool limiting algorithms.  A detailed description of the changes made to the mempool as part of this pull can be found in `txmempool.h`.\n\nSee also this email to the bitcoin-dev list, describing the policy limits proposed:\nhttp://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-August/010221.html\n",
          "user": {
            "login": "sdaftuar",
            "id": 7463573,
            "node_id": "MDQ6VXNlcjc0NjM1NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sdaftuar",
            "html_url": "https://github.com/sdaftuar",
            "followers_url": "https://api.github.com/users/sdaftuar/followers",
            "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
            "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
            "repos_url": "https://api.github.com/users/sdaftuar/repos",
            "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6557",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/6557",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/6557.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/6557.patch"
          },
          "closed_at": "2015-10-20T16:18:26Z",
          "created_at": "2015-08-14T19:30:10Z",
          "updated_at": "2021-09-08T11:18:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-08-25T22:13:00Z",
      "updated_at": "2015-08-25T22:13:00Z",
      "source": {
        "issue": {
          "id": 102684914,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDMxMzQxNDA=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6584",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6584/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6584/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6584/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/6584",
          "number": 6584,
          "state": "closed",
          "state_reason": null,
          "title": "Policy: Remove free transactions special case code",
          "body": "This is slightly modified version of #6405 that is rebased on top of #6445 (well, a rebased version of it).\nThe small modification (in the last commit) solves my nit there: https://github.com/bitcoin/bitcoin/pull/6405#discussion_r37712842 \n",
          "user": {
            "login": "jtimon",
            "id": 1008458,
            "node_id": "MDQ6VXNlcjEwMDg0NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jtimon",
            "html_url": "https://github.com/jtimon",
            "followers_url": "https://api.github.com/users/jtimon/followers",
            "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
            "organizations_url": "https://api.github.com/users/jtimon/orgs",
            "repos_url": "https://api.github.com/users/jtimon/repos",
            "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jtimon/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6584",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/6584",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/6584.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/6584.patch"
          },
          "closed_at": "2015-09-03T18:56:23Z",
          "created_at": "2015-08-24T01:56:06Z",
          "updated_at": "2021-09-08T11:17:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "gavinandresen",
        "id": 331997,
        "node_id": "MDQ6VXNlcjMzMTk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gavinandresen",
        "html_url": "https://github.com/gavinandresen",
        "followers_url": "https://api.github.com/users/gavinandresen/followers",
        "following_url": "https://api.github.com/users/gavinandresen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gavinandresen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gavinandresen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
        "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
        "repos_url": "https://api.github.com/users/gavinandresen/repos",
        "events_url": "https://api.github.com/users/gavinandresen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-02T15:24:30Z",
      "updated_at": "2015-09-02T15:24:30Z",
      "source": {
        "issue": {
          "id": 104479979,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDM5OTA3NDc=",
          "url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/56",
          "repository_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt",
          "labels_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/56/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/56/comments",
          "events_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/56/events",
          "html_url": "https://github.com/bitcoinxt/bitcoinxt/pull/56",
          "number": 56,
          "state": "closed",
          "state_reason": null,
          "title": "Limit number of transactions in the memory pool",
          "body": "Implement a simple strategy to keep the memory pool from consuming\nall of memory, by limiting the number of tranasctions stored in\nthe memory pool.\n\nBy default, the limit is 6-blocks-worth of average-sized (500-byte)\ntransactionsl (12,000 transactions for 1MB blocks). Command-line\noption -maxmempooltx overrides the default (and is useful for testing).\n\nWhen the limit is hit, low-priority transactions are dropped\nimmediately. Higher priority transactions are added, and\na random transaction (and their descendants) are evicted\nfrom the mempool.\n\nBUT, transactions generated or submitted by ourselves (via\nsendtoaddress/sendmany/sendrawtransation) are always allowed into\nthe mempool and are never evicted. And transactions marked as\nimportant via the prioritsetransaction RPC call are also never\nevicted.\n\nTo test:\n\nRun with -maxmempooltx=500 -debug=mempool\nexample debug.log output:\n\n```\n2015-09-02 13:17:55 mempool full, dropped tx 0185aa01c280e5bf47fc5e586c1beb712bed3a3ce0f3ac57251bbc49ed786d79\n2015-09-02 13:17:55 mempool full, dropped tx e852c5f2430357ee7485f927f189218fffb73368715e5b884afb31a10ccdac68\n2015-09-02 13:17:55 mempool full, dropped tx 0185aa01c280e5bf47fc5e586c1beb712bed3a3ce0f3ac57251bbc49ed786d79\n2015-09-02 13:17:56 mempool full, dropped tx 30badbcc9721e2d78c480c8b81a4de2274daf6a95b7ff3b32ab40d00dbd2070f\n2015-09-02 13:17:56 mempool full, evicted tx e388638f6fb34dc072a4526ba2a5cd34a6e8169bb3d75c083a16d0990667921d\n2015-09-02 13:17:56 AcceptToMemoryPool: peer=3 /Satoshi:0.11.0/: accepted 7a8bee60593727b4e74033ace208fa463400d7d269b514b7ff2beca31890957b (poolsz 500)\n```\n",
          "user": {
            "login": "gavinandresen",
            "id": 331997,
            "node_id": "MDQ6VXNlcjMzMTk5Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gavinandresen",
            "html_url": "https://github.com/gavinandresen",
            "followers_url": "https://api.github.com/users/gavinandresen/followers",
            "following_url": "https://api.github.com/users/gavinandresen/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/gavinandresen/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/gavinandresen/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
            "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
            "repos_url": "https://api.github.com/users/gavinandresen/repos",
            "events_url": "https://api.github.com/users/gavinandresen/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/pulls/56",
            "html_url": "https://github.com/bitcoinxt/bitcoinxt/pull/56",
            "diff_url": "https://github.com/bitcoinxt/bitcoinxt/pull/56.diff",
            "patch_url": "https://github.com/bitcoinxt/bitcoinxt/pull/56.patch"
          },
          "closed_at": "2015-09-04T15:27:26Z",
          "created_at": "2015-09-02T13:22:48Z",
          "updated_at": "2015-09-09T13:24:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 137177406,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzE3NzQwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/137177406",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-02T17:20:35Z",
      "updated_at": "2015-09-02T17:20:35Z",
      "author_association": "MEMBER",
      "body": "Closing in lieu of #6557, will reopen if we decide for some reason we want the mempool limiting without the descendant package tracking...\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-137177406",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "closed",
      "id": 399205321,
      "node_id": "MDExOkNsb3NlZEV2ZW50Mzk5MjA1MzIx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/399205321",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-02T17:20:35Z"
    },
    {
      "event": "commented",
      "id": 137346005,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzM0NjAwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/137346005",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-03T06:08:20Z",
      "updated_at": "2015-09-03T06:08:20Z",
      "author_association": "NONE",
      "body": "I'm beginning to wonder just how far down the rabbit hole this all goes.  And what happened to the floating relay fee bit?\n",
      "user": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#issuecomment-137346005",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6470"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-10-20T21:25:16Z",
      "updated_at": "2015-10-20T21:25:16Z",
      "source": {
        "issue": {
          "id": 108254533,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDU5NzM3MTk=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6722",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6722/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6722/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6722/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/6722",
          "number": 6722,
          "state": "closed",
          "state_reason": null,
          "title": "Limit mempool by throwing away the cheapest txn and setting min relay fee to it",
          "body": "Tests forthcoming, but I felt bad I still hadnt pushed this.\nSee commitmsg for more details.\n",
          "user": {
            "login": "TheBlueMatt",
            "id": 649246,
            "node_id": "MDQ6VXNlcjY0OTI0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheBlueMatt",
            "html_url": "https://github.com/TheBlueMatt",
            "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
            "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
            "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
            "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
            "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 56,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6722",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/6722",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/6722.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/6722.patch"
          },
          "closed_at": "2015-10-21T06:50:32Z",
          "created_at": "2015-09-25T03:21:16Z",
          "updated_at": "2022-08-16T17:22:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 5271513579,
      "node_id": "LOE_lADOABII584Fxu7yzwAAAAE6NOnr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271513579",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T10:55:31Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35382668",
      "pull_request_review_id": null,
      "id": 35382668,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MzgyNjY4",
      "diff_hunk": "@@ -852,6 +877,12 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n                                    hash.ToString(), nSigOps, MAX_STANDARD_TX_SIGOPS),\n                              REJECT_NONSTANDARD, \"bad-txns-too-many-sigops\");\n \n+        // Expire old transactions before trying to replace low-priority ones.\n+        int expired = pool.Expire(GetTime() - GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60);",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 71,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can't `- GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60` be inside pool.Expire?, it may become an attribute of the txmempool in the future or something.\n",
      "created_at": "2015-07-23T23:16:33Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35382668",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35382668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35382823",
      "pull_request_review_id": null,
      "id": 35382823,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MzgyODIz",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 116,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/mempool/pool don't use the global when you have the parameter\n",
      "created_at": "2015-07-23T23:18:33Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35382823",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35382823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35383584",
      "pull_request_review_id": null,
      "id": 35383584,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MzgzNTg0",
      "diff_hunk": "@@ -921,8 +981,38 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n             return error(\"AcceptToMemoryPool: BUG! PLEASE REPORT THIS! ConnectInputs failed against MANDATORY but not STANDARD flags %s\", hash.ToString());\n         }\n \n+        // Make actually space",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 146,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can't all this code around pool.addUnchecked be moved to a new mempool method that internally calls pool.addUnchecked ?\nYou could go further. stagedelete and nFeesDeleted could just be ctxmempool attributes so that you don't need to pass it to pool.RemoveStagedAndAddUnchecked (or whatever you want to call the method) and pool.StageTrimToSize (or whatever you want to call the method)\n",
      "created_at": "2015-07-23T23:29:37Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35383584",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35383584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35384695",
      "pull_request_review_id": null,
      "id": 35384695,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1Mzg0Njk1",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can't all this new code be part of  mempool.StageTrimToSize ?\nIn fact, I would go further and take anything that depends on nFeesDeleted to txmempool as well (including `csFreeLimiter` `GetBoolArg(\"-relaypriority\", true)` and `GetMinRelayFee`).\nI would also move https://github.com/bitcoin/bitcoin/blob/master/src/main.cpp#L785 there and have all mempool-replacement-related things in one place: txmempool. We could also move some things directly to policy/fees but I'm not going to ask for that much.\n\nI'm sorry but I won't push my nits as branches with fixup! commits anymore on this subject.\nI guess I'll have to wait the ages that will take to move the code later and accept that nobody else but me cares about  the movement being better-than-free right now. I won't miss the chance to beg you though.\nPlease, try some of my movement suggestions and if takes you too long to adapt the parameter too recompile or you don't like what my suggestions are doing to the number of parameters in pool.StageTrimToSize just stop it. And I guess I can just add/maintain all those things in my tomove list. It seems I'm the only one that doesn't love the fact that most of our changes conflict with each other in main.cpp. But I understand, moving things out of main so that things don't need to conflict and don't need to be prioritized is not a priority.\n@sipa I must be getting something wrong or I've been communicating poorly around this. Maybe code doesn't talk as much as I thought after all.\n",
      "created_at": "2015-07-23T23:51:10Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35384695",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35384695"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35542402",
      "pull_request_review_id": null,
      "id": 35542402,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQyNDAy",
      "diff_hunk": "@@ -852,6 +877,12 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n                                    hash.ToString(), nSigOps, MAX_STANDARD_TX_SIGOPS),\n                              REJECT_NONSTANDARD, \"bad-txns-too-many-sigops\");\n \n+        // Expire old transactions before trying to replace low-priority ones.\n+        int expired = pool.Expire(GetTime() - GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60);",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 71,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I would prefer not doing that, and keeping CTxMempool as much as possible a dumb data structure - the decisions about what happens to it (policy?) should stay out of it, IMHO.\n\nEDIT: We're already failing at that pretty badly anyway, it seems, with the feerate index and the trim code inside CTxMempool. Too bad, but disregard this comment.\n",
      "created_at": "2015-07-27T14:39:06Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35542402",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35542402"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35542959",
      "pull_request_review_id": null,
      "id": 35542959,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQyOTU5",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@jtimon Let's first find a solution to the problem at hand.\n\nCode movement that goes into the master branch conflicts with everything, so complicates changes that we want in backports too.\n",
      "created_at": "2015-07-27T14:43:31Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35542959",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35542959"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35543788",
      "pull_request_review_id": null,
      "id": 35543788,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQzNzg4",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 116,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree.\n",
      "created_at": "2015-07-27T14:50:16Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35543788",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35543788"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35544286",
      "pull_request_review_id": null,
      "id": 35544286,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ0Mjg2",
      "diff_hunk": "@@ -921,8 +981,38 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n             return error(\"AcceptToMemoryPool: BUG! PLEASE REPORT THIS! ConnectInputs failed against MANDATORY but not STANDARD flags %s\", hash.ToString());\n         }\n \n+        // Make actually space",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 146,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Storing attributes inside CTxMempool just to avoid passing them around seems ugly. It would be incompatible with some multithreaded modifications, for example.\n\nA cleaner way to do this is having a separate TxMempoolStagedChange class for example that is calculated from an add/delete, kept by AcceptToMemoryPool during validation, and finally applied to the mempool or thrown away.\n",
      "created_at": "2015-07-27T14:53:56Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35544286",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35544286"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35544529",
      "pull_request_review_id": null,
      "id": 35544529,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ0NTI5",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {\n+            size_t expsize = mempool.DynamicMemoryUsage() + mempool.GuessDynamicMemoryUsage(entry);\n+            if (expsize > hardcap)",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 118,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please use { } around the then block.\n",
      "created_at": "2015-07-27T14:55:36Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35544529",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35544529"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35546403",
      "pull_request_review_id": null,
      "id": 35546403,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ2NDAz",
      "diff_hunk": "@@ -429,5 +438,159 @@ bool CCoinsViewMemPool::HaveCoins(const uint256 &txid) const {\n \n size_t CTxMemPool::DynamicMemoryUsage() const {\n     LOCK(cs);\n-    return memusage::DynamicUsage(mapTx) + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+    // Estimate the overhead of mapTx to be 9 pointers + an allocation, as no exact formula for boost::multi_index_contained is implemented.\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) * mapTx.size() + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+}\n+\n+size_t CTxMemPool::GuessDynamicMemoryUsage(const CTxMemPoolEntry& entry) const {\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) + entry.DynamicMemoryUsage() + memusage::IncrementalDynamicUsage(mapNextTx) * entry.GetTx().vin.size();\n+}\n+\n+bool CTxMemPool::StageTrimToSize(size_t sizelimit, const CTxMemPoolEntry& toadd, std::set<uint256>& stage,\n+                                 CAmount& nFeesReserved, CAmount& nFeesRemoved) {\n+    std::set<uint256> protect;\n+    BOOST_FOREACH(const CTxIn& in, toadd.GetTx().vin) {\n+        protect.insert(in.prevout.hash);\n+    }\n+\n+    size_t incUsage = GuessDynamicMemoryUsage(toadd);\n+    size_t expsize = DynamicMemoryUsage() + incUsage; // Track the expected resulting memory usage of the mempool.\n+    if (expsize > sizelimit) {\n+        size_t sizeToTrim = std::min(expsize - sizelimit, incUsage);\n+        return TrimMempool(sizeToTrim, protect, nFeesReserved, toadd.GetTxSize(), toadd.GetFee(), stage, nFeesRemoved, true);\n+    }\n+    else\n+        return true;\n+}\n+\n+bool CTxMemPool::SurplusTrim(int multiplier, CFeeRate minRelayRate, std::set<uint256>& stage, size_t usageToTrim) {\n+    CFeeRate excessRate(multiplier * minRelayRate.GetFeePerK());\n+    std::set<uint256> noprotect;\n+    CAmount nFeesRemoved = 0;\n+    size_t sizeToTrim = usageToTrim / 4;  //Conservatively assume we have transactions at least 1/4 the size of the mempool space they've taken\n+    return TrimMempool(usageToTrim, noprotect, 0, sizeToTrim, excessRate.GetFee(sizeToTrim), stage, nFeesRemoved, false);\n+}\n+\n+bool CTxMemPool::TrimMempool(size_t sizeToTrim, std::set<uint256> &protect, CAmount nFeesReserved, size_t sizeToUse, CAmount feeToUse,\n+                             std::set<uint256>& stage, CAmount &nFeesRemoved, bool mustTrimAllSize) {\n+    size_t usageRemoved = 0;\n+    indexed_transaction_set::nth_index<1>::type::reverse_iterator it = mapTx.get<1>().rbegin();\n+    int fails = 0; // Number of mempool transactions iterated over that were not included in the stage.\n+    int itertotal = 0;\n+    int iterextra = mustTrimAllSize ? 10 : 100; //Allow many more iterations to find large size during SurplusTrim\n+    int iterperfail = mustTrimAllSize ? 5 : 10; //Try to follow more links during SurplusTrim\n+    int failmax = 10; //Try no more than 10 starting transactions\n+    uint64_t skipPattern = GetRand((uint64_t)1<<61);\n+    // Iterate from lowest feerate to highest feerate in the mempool:\n+    while (usageRemoved < sizeToTrim && it != mapTx.get<1>().rend()) {\n+        //Randomly skip between 0 and 7 entries\n+        unsigned int skipNum = std::min(fails,19);\n+        for (unsigned int i = 0; i < ((uint64_t)7 & (skipPattern >> (3*skipNum))) && it != mapTx.get<1>().rend();i++,it++);\n+        if (it == mapTx.get<1>().rend())\n+            break;\n+\n+        const uint256& hash = it->GetTx().GetHash();\n+        if (stage.count(hash)) {\n+            // If the transaction is already staged for deletion, we know its descendants are already processed, so skip it.\n+            it++;\n+            continue;\n+        }\n+        if ((double)it->GetFee() * sizeToUse > (double)feeToUse * it->GetTxSize()) {\n+            // If the transaction's feerate is worse than what we're looking for, we have processed everything in the mempool",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 234,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This comment is technically no longer true since the majority of transactions are being skipped. Maybe the code should be removed altogether now, or does it still offer a benefit? In any case, the comment needs addressing.\n",
      "created_at": "2015-07-27T15:08:58Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35546403",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35546403"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35546588",
      "pull_request_review_id": null,
      "id": 35546588,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ2NTg4",
      "diff_hunk": "@@ -429,5 +438,159 @@ bool CCoinsViewMemPool::HaveCoins(const uint256 &txid) const {\n \n size_t CTxMemPool::DynamicMemoryUsage() const {\n     LOCK(cs);\n-    return memusage::DynamicUsage(mapTx) + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+    // Estimate the overhead of mapTx to be 9 pointers + an allocation, as no exact formula for boost::multi_index_contained is implemented.\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) * mapTx.size() + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+}\n+\n+size_t CTxMemPool::GuessDynamicMemoryUsage(const CTxMemPoolEntry& entry) const {\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) + entry.DynamicMemoryUsage() + memusage::IncrementalDynamicUsage(mapNextTx) * entry.GetTx().vin.size();\n+}\n+\n+bool CTxMemPool::StageTrimToSize(size_t sizelimit, const CTxMemPoolEntry& toadd, std::set<uint256>& stage,\n+                                 CAmount& nFeesReserved, CAmount& nFeesRemoved) {\n+    std::set<uint256> protect;\n+    BOOST_FOREACH(const CTxIn& in, toadd.GetTx().vin) {\n+        protect.insert(in.prevout.hash);\n+    }\n+\n+    size_t incUsage = GuessDynamicMemoryUsage(toadd);\n+    size_t expsize = DynamicMemoryUsage() + incUsage; // Track the expected resulting memory usage of the mempool.\n+    if (expsize > sizelimit) {\n+        size_t sizeToTrim = std::min(expsize - sizelimit, incUsage);\n+        return TrimMempool(sizeToTrim, protect, nFeesReserved, toadd.GetTxSize(), toadd.GetFee(), stage, nFeesRemoved, true);\n+    }\n+    else\n+        return true;\n+}\n+\n+bool CTxMemPool::SurplusTrim(int multiplier, CFeeRate minRelayRate, std::set<uint256>& stage, size_t usageToTrim) {\n+    CFeeRate excessRate(multiplier * minRelayRate.GetFeePerK());\n+    std::set<uint256> noprotect;\n+    CAmount nFeesRemoved = 0;\n+    size_t sizeToTrim = usageToTrim / 4;  //Conservatively assume we have transactions at least 1/4 the size of the mempool space they've taken\n+    return TrimMempool(usageToTrim, noprotect, 0, sizeToTrim, excessRate.GetFee(sizeToTrim), stage, nFeesRemoved, false);\n+}\n+\n+bool CTxMemPool::TrimMempool(size_t sizeToTrim, std::set<uint256> &protect, CAmount nFeesReserved, size_t sizeToUse, CAmount feeToUse,\n+                             std::set<uint256>& stage, CAmount &nFeesRemoved, bool mustTrimAllSize) {\n+    size_t usageRemoved = 0;\n+    indexed_transaction_set::nth_index<1>::type::reverse_iterator it = mapTx.get<1>().rbegin();\n+    int fails = 0; // Number of mempool transactions iterated over that were not included in the stage.\n+    int itertotal = 0;\n+    int iterextra = mustTrimAllSize ? 10 : 100; //Allow many more iterations to find large size during SurplusTrim\n+    int iterperfail = mustTrimAllSize ? 5 : 10; //Try to follow more links during SurplusTrim\n+    int failmax = 10; //Try no more than 10 starting transactions\n+    uint64_t skipPattern = GetRand((uint64_t)1<<61);\n+    // Iterate from lowest feerate to highest feerate in the mempool:\n+    while (usageRemoved < sizeToTrim && it != mapTx.get<1>().rend()) {\n+        //Randomly skip between 0 and 7 entries\n+        unsigned int skipNum = std::min(fails,19);\n+        for (unsigned int i = 0; i < ((uint64_t)7 & (skipPattern >> (3*skipNum))) && it != mapTx.get<1>().rend();i++,it++);\n+        if (it == mapTx.get<1>().rend())\n+            break;\n+\n+        const uint256& hash = it->GetTx().GetHash();\n+        if (stage.count(hash)) {\n+            // If the transaction is already staged for deletion, we know its descendants are already processed, so skip it.\n+            it++;\n+            continue;\n+        }\n+        if ((double)it->GetFee() * sizeToUse > (double)feeToUse * it->GetTxSize()) {\n+            // If the transaction's feerate is worse than what we're looking for, we have processed everything in the mempool\n+            // that could improve the staged set. If we don't have an acceptable solution by now, bail out.\n+            break;\n+        }\n+        std::deque<uint256> todo; // List of hashes that we still need to process (descendants of 'hash').\n+        std::set<uint256> now; // Set of hashes that will need to be added to stage if 'hash' is included.\n+        CAmount nowfee = 0; // Sum of the fees in 'now'.\n+        size_t nowsize = 0; // Sum of the tx sizes in 'now'.\n+        size_t nowusage = 0; // Sum of the memory usages of transactions in 'now'.\n+        todo.push_back(it->GetTx().GetHash()); // Add 'hash' to the todo list, to initiate processing its children.\n+        bool good = true; // Whether including 'hash' (and all its descendants) is a good idea.\n+        // Iterate breadth-first over all descendants of transaction with hash 'hash'.\n+        while (!todo.empty()) {\n+            uint256 hashnow = todo.front();\n+            if (protect.count(hashnow)) {\n+                // If this transaction is in the protected set, we're done with 'hash'.\n+                good = false;\n+                break;\n+            }\n+            itertotal++; // We only count transactions we actually had to go find in the mempool.\n+            if (itertotal > iterextra + iterperfail*(fails+1)) {\n+                good = false;\n+                break;\n+            }\n+            const CTxMemPoolEntry* origTx = &*mapTx.find(hashnow);\n+            nowfee += origTx->GetFee();\n+            if (nFeesReserved + nFeesRemoved + nowfee > feeToUse) {\n+                // If this pushes up to the total fees deleted too high, we're done with 'hash'.\n+                good = false;\n+                break;\n+            }\n+            todo.pop_front();\n+            // Add 'hashnow' to the 'now' set, and update its statistics.\n+            now.insert(hashnow);\n+            nowusage += GuessDynamicMemoryUsage(*origTx);\n+            nowsize += origTx->GetTxSize();\n+            // Find dependencies of 'hashnow' and them to todo.\n+            std::map<COutPoint, CInPoint>::iterator iter = mapNextTx.lower_bound(COutPoint(hashnow, 0));\n+            while (iter != mapNextTx.end() && iter->first.hash == hashnow) {\n+                const uint256& nexthash = iter->second.ptx->GetHash();\n+                if (!(stage.count(nexthash) || now.count(nexthash))) {\n+                    todo.push_back(nexthash);\n+                }\n+                iter++;\n+            }\n+        }\n+        if (good && (double)nowfee * sizeToUse > (double)feeToUse * nowsize) {\n+            // The new transaction's feerate is below that of the set we're removing.\n+            good = false;\n+        }\n+        if (good) {\n+            stage.insert(now.begin(), now.end());\n+            nFeesRemoved += nowfee;\n+            usageRemoved += nowusage;\n+        } else {\n+            fails++;\n+            if (fails > failmax) {\n+                // Bail out after traversing 32 transactions that are not acceptable.",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 291,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Comment should say 10, not 32 - or just refer to the failmax variable.\n",
      "created_at": "2015-07-27T15:10:35Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35546588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35546588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35547904",
      "pull_request_review_id": null,
      "id": 35547904,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ3OTA0",
      "diff_hunk": "@@ -429,5 +438,159 @@ bool CCoinsViewMemPool::HaveCoins(const uint256 &txid) const {\n \n size_t CTxMemPool::DynamicMemoryUsage() const {\n     LOCK(cs);\n-    return memusage::DynamicUsage(mapTx) + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+    // Estimate the overhead of mapTx to be 9 pointers + an allocation, as no exact formula for boost::multi_index_contained is implemented.\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) * mapTx.size() + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+}\n+\n+size_t CTxMemPool::GuessDynamicMemoryUsage(const CTxMemPoolEntry& entry) const {\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) + entry.DynamicMemoryUsage() + memusage::IncrementalDynamicUsage(mapNextTx) * entry.GetTx().vin.size();\n+}\n+\n+bool CTxMemPool::StageTrimToSize(size_t sizelimit, const CTxMemPoolEntry& toadd, std::set<uint256>& stage,\n+                                 CAmount& nFeesReserved, CAmount& nFeesRemoved) {\n+    std::set<uint256> protect;\n+    BOOST_FOREACH(const CTxIn& in, toadd.GetTx().vin) {\n+        protect.insert(in.prevout.hash);\n+    }\n+\n+    size_t incUsage = GuessDynamicMemoryUsage(toadd);\n+    size_t expsize = DynamicMemoryUsage() + incUsage; // Track the expected resulting memory usage of the mempool.\n+    if (expsize > sizelimit) {\n+        size_t sizeToTrim = std::min(expsize - sizelimit, incUsage);\n+        return TrimMempool(sizeToTrim, protect, nFeesReserved, toadd.GetTxSize(), toadd.GetFee(), stage, nFeesRemoved, true);\n+    }\n+    else\n+        return true;\n+}\n+\n+bool CTxMemPool::SurplusTrim(int multiplier, CFeeRate minRelayRate, std::set<uint256>& stage, size_t usageToTrim) {\n+    CFeeRate excessRate(multiplier * minRelayRate.GetFeePerK());\n+    std::set<uint256> noprotect;\n+    CAmount nFeesRemoved = 0;\n+    size_t sizeToTrim = usageToTrim / 4;  //Conservatively assume we have transactions at least 1/4 the size of the mempool space they've taken\n+    return TrimMempool(usageToTrim, noprotect, 0, sizeToTrim, excessRate.GetFee(sizeToTrim), stage, nFeesRemoved, false);\n+}\n+\n+bool CTxMemPool::TrimMempool(size_t sizeToTrim, std::set<uint256> &protect, CAmount nFeesReserved, size_t sizeToUse, CAmount feeToUse,\n+                             std::set<uint256>& stage, CAmount &nFeesRemoved, bool mustTrimAllSize) {\n+    size_t usageRemoved = 0;\n+    indexed_transaction_set::nth_index<1>::type::reverse_iterator it = mapTx.get<1>().rbegin();\n+    int fails = 0; // Number of mempool transactions iterated over that were not included in the stage.\n+    int itertotal = 0;\n+    int iterextra = mustTrimAllSize ? 10 : 100; //Allow many more iterations to find large size during SurplusTrim\n+    int iterperfail = mustTrimAllSize ? 5 : 10; //Try to follow more links during SurplusTrim\n+    int failmax = 10; //Try no more than 10 starting transactions\n+    uint64_t skipPattern = GetRand((uint64_t)1<<61);\n+    // Iterate from lowest feerate to highest feerate in the mempool:\n+    while (usageRemoved < sizeToTrim && it != mapTx.get<1>().rend()) {\n+        //Randomly skip between 0 and 7 entries\n+        unsigned int skipNum = std::min(fails,19);\n+        for (unsigned int i = 0; i < ((uint64_t)7 & (skipPattern >> (3*skipNum))) && it != mapTx.get<1>().rend();i++,it++);\n+        if (it == mapTx.get<1>().rend())\n+            break;\n+\n+        const uint256& hash = it->GetTx().GetHash();\n+        if (stage.count(hash)) {\n+            // If the transaction is already staged for deletion, we know its descendants are already processed, so skip it.\n+            it++;\n+            continue;\n+        }\n+        if ((double)it->GetFee() * sizeToUse > (double)feeToUse * it->GetTxSize()) {\n+            // If the transaction's feerate is worse than what we're looking for, we have processed everything in the mempool",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 234,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree the comment needs changing, but the check is still valuable.  No reason to continue checking further transactions at this point, even if we haven't used up all of our fails.\n",
      "created_at": "2015-07-27T15:20:36Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35547904",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35547904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35551967",
      "pull_request_review_id": null,
      "id": 35551967,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTUxOTY3",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 116,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@morcos If this method call returns false, do we need to wipe stagedelete/nFeesDeleted, or are they guaranteed to be empty/zero?\n",
      "created_at": "2015-07-27T15:53:11Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35551967",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35551967"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35554882",
      "pull_request_review_id": null,
      "id": 35554882,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTU0ODgy",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 116,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@sipa   Neither is the answer.  Perhaps it needs commenting though.  If the transaction is accepted into the reserve space and stagedelete is non-empty then it is both safe and desirable to evict any transactions that were staged.   If the transaction is not accepted into the reserve space, then as before we return failure from ATMP before we have a chance to evict anything.\n\nThe one slight caveat is in the case where you pass entry into the reserve space, but then you fail the rate limiter code directly below it.  In that case, it probably wasn't very fair that your feesDeleted were causing you to be counted as a free transaction.  It's overly conservative and rare behavior though.  I was planning on suggesting a fix but I wanted to see if there were any thoughts on the free relay code remaining in place here before I complicated it.  The suggested fix is that if the transaction is entering the mempool via the reserve space, and then it fails the rate limiter code, you let it in anyway but just wipe stagedelete.  Note that if stagedelete were empty then the tx by definition wouldn't have been subject to the rate limit test because it has a multiple of the minRelayFee.\n",
      "created_at": "2015-07-27T16:18:19Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35554882",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35554882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35555411",
      "pull_request_review_id": null,
      "id": 35555411,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTU1NDEx",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 116,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ACK, understood. That seems fine, but could probably use a comment.\n",
      "created_at": "2015-07-27T16:22:57Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35555411",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35555411"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35555690",
      "pull_request_review_id": null,
      "id": 35555690,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTU1Njkw",
      "diff_hunk": "@@ -429,5 +438,159 @@ bool CCoinsViewMemPool::HaveCoins(const uint256 &txid) const {\n \n size_t CTxMemPool::DynamicMemoryUsage() const {\n     LOCK(cs);\n-    return memusage::DynamicUsage(mapTx) + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+    // Estimate the overhead of mapTx to be 9 pointers + an allocation, as no exact formula for boost::multi_index_contained is implemented.\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) * mapTx.size() + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + cachedInnerUsage;\n+}\n+\n+size_t CTxMemPool::GuessDynamicMemoryUsage(const CTxMemPoolEntry& entry) const {\n+    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 9 * sizeof(void*)) + entry.DynamicMemoryUsage() + memusage::IncrementalDynamicUsage(mapNextTx) * entry.GetTx().vin.size();\n+}\n+\n+bool CTxMemPool::StageTrimToSize(size_t sizelimit, const CTxMemPoolEntry& toadd, std::set<uint256>& stage,\n+                                 CAmount& nFeesReserved, CAmount& nFeesRemoved) {\n+    std::set<uint256> protect;\n+    BOOST_FOREACH(const CTxIn& in, toadd.GetTx().vin) {\n+        protect.insert(in.prevout.hash);\n+    }\n+\n+    size_t incUsage = GuessDynamicMemoryUsage(toadd);\n+    size_t expsize = DynamicMemoryUsage() + incUsage; // Track the expected resulting memory usage of the mempool.\n+    if (expsize > sizelimit) {\n+        size_t sizeToTrim = std::min(expsize - sizelimit, incUsage);\n+        return TrimMempool(sizeToTrim, protect, nFeesReserved, toadd.GetTxSize(), toadd.GetFee(), stage, nFeesRemoved, true);\n+    }\n+    else\n+        return true;\n+}\n+\n+bool CTxMemPool::SurplusTrim(int multiplier, CFeeRate minRelayRate, std::set<uint256>& stage, size_t usageToTrim) {\n+    CFeeRate excessRate(multiplier * minRelayRate.GetFeePerK());\n+    std::set<uint256> noprotect;\n+    CAmount nFeesRemoved = 0;\n+    size_t sizeToTrim = usageToTrim / 4;  //Conservatively assume we have transactions at least 1/4 the size of the mempool space they've taken\n+    return TrimMempool(usageToTrim, noprotect, 0, sizeToTrim, excessRate.GetFee(sizeToTrim), stage, nFeesRemoved, false);\n+}\n+\n+bool CTxMemPool::TrimMempool(size_t sizeToTrim, std::set<uint256> &protect, CAmount nFeesReserved, size_t sizeToUse, CAmount feeToUse,\n+                             std::set<uint256>& stage, CAmount &nFeesRemoved, bool mustTrimAllSize) {\n+    size_t usageRemoved = 0;\n+    indexed_transaction_set::nth_index<1>::type::reverse_iterator it = mapTx.get<1>().rbegin();\n+    int fails = 0; // Number of mempool transactions iterated over that were not included in the stage.\n+    int itertotal = 0;\n+    int iterextra = mustTrimAllSize ? 10 : 100; //Allow many more iterations to find large size during SurplusTrim",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 215,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do you mind turning these into arguments, that get passed from the 2 callsites instead?\n",
      "created_at": "2015-07-27T16:25:43Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35555690",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35555690"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35581287",
      "pull_request_review_id": null,
      "id": 35581287,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTgxMjg3",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {\n+            size_t expsize = mempool.DynamicMemoryUsage() + mempool.GuessDynamicMemoryUsage(entry);\n+            if (expsize > hardcap)",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 118,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No objection to changing, but just want to understand what the style request is related to this.   All then blocks should have braces or only because the else block is multi-line?  A single-line then block without braces appears as example code in developer-notes.md.\n",
      "created_at": "2015-07-27T20:18:29Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35581287",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35581287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35582107",
      "pull_request_review_id": null,
      "id": 35582107,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTgyMTA3",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {\n+            size_t expsize = mempool.DynamicMemoryUsage() + mempool.GuessDynamicMemoryUsage(entry);\n+            if (expsize > hardcap)",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 118,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, I thought we changed that. Never mind then.\n\nI personally dislike those, as they easily lead to mistakes when merging\ndifferent patches (see the OSX SSL bug that was likely the result of it),\nbut I shouldn't ask that as long as our notes use it.\n",
      "created_at": "2015-07-27T20:25:03Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35582107",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35582107"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35744318",
      "pull_request_review_id": null,
      "id": 35744318,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NzQ0MzE4",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own\n+        CAmount nFeesRequired = 0;\n+        if (fLimitFree) {\n+            nFeesRequired = GetMinRelayFee(tx, nSize, true);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\", hash.ToString(), nFees, nFeesRequired),\n+                                 REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n+        }\n+        // If we are not relaying low priority free transactions, then if this tx doesn't have sufficient priority\n+        // it must have minRelayTxFee\n+        if (GetBoolArg(\"-relaypriority\", true) && nFeesRequired < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n+            nFeesRequired =  ::minRelayTxFee.GetFee(nSize);\n+            if (nFees < nFeesRequired)\n+                return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        }\n+\n+        // Try to make space in mempool\n+        size_t softcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 700000;\n+        size_t hardcap = GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000;\n+        size_t capstep = (hardcap - softcap) / 10;\n+        std::set<uint256> stagedelete;\n+        CAmount nFeesDeleted = 0;\n+\n+        if (!mempool.StageTrimToSize(softcap, entry, stagedelete, nFeesRequired, nFeesDeleted)) {\n+            size_t expsize = mempool.DynamicMemoryUsage() + mempool.GuessDynamicMemoryUsage(entry);\n+            if (expsize > hardcap)",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 118,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "c4d87ae1157c4a854329693a40b23e8996c604e0",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The fact is that braces are not necessary in our clang style. And btw, when they're used, the shouldn't be in the next line but in the same line as the if/for/while. I'm happy changing the style, but that's in clang-format.\n",
      "created_at": "2015-07-29T10:03:09Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35744318",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35744318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35746508",
      "pull_request_review_id": null,
      "id": 35746508,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NzQ2NTA4",
      "diff_hunk": "@@ -852,6 +877,12 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n                                    hash.ToString(), nSigOps, MAX_STANDARD_TX_SIGOPS),\n                              REJECT_NONSTANDARD, \"bad-txns-too-many-sigops\");\n \n+        // Expire old transactions before trying to replace low-priority ones.\n+        int expired = pool.Expire(GetTime() - GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60);",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 71,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It is just as easy to move things from txmempool to the policy dir than it is from main (if not easier, given that main is always the part with more development conflicts [unrelated things in theory conflict in code there]).\nBut whatever, I guess it will be a new global in main...\n",
      "created_at": "2015-07-29T10:37:21Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35746508",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35746508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35746831",
      "pull_request_review_id": null,
      "id": 35746831,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NzQ2ODMx",
      "diff_hunk": "@@ -921,8 +981,38 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n             return error(\"AcceptToMemoryPool: BUG! PLEASE REPORT THIS! ConnectInputs failed against MANDATORY but not STANDARD flags %s\", hash.ToString());\n         }\n \n+        // Make actually space",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 146,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "With or without attributes, this code could be just a single-line call to a method in the pool (for example, a modified version of addUnchecked):\n\n```\n+        // Delete staged transactions to actually make space in mempool\n+        if (!stagedelete.empty()) {\n+            LogPrint(\"mempool\", \"Removing %u transactions (%d fees) from the mempool to make space for %s\\n\", stagedelete.size(), nFeesDeleted, tx.GetHash().ToString());\n+            pool.RemoveStaged(stagedelete);\n+        }\n+\n         // Store transaction in memory\n         pool.addUnchecked(hash, entry, !IsInitialBlockDownload());\n+\n+        // Try to use excess relay fees paid by txs above the soft cap to trim in aggregate\n+        int64_t timeNow = GetTime();\n+        size_t curUsage = pool.DynamicMemoryUsage();\n+        size_t trimGoal = 1000000; //Try to trim up to 1MB worth of transactions at a time\n+        if (curUsage > softcap + trimGoal && timeNow > lastSurplusTrimTime) {\n+            // Require at least 1M at highest fee rate we'll try to trim at, and try to trim 1MB\n+            lastSurplusTrimTime = timeNow;\n+            int rateZone = (curUsage - softcap - trimGoal)/capstep + 1;\n+            int rateMultForTrim = 1 << rateZone;\n+            std::set<uint256> stageTrimDelete;\n+            if (pool.SurplusTrim(rateMultForTrim-1, minRelayTxFee, trimGoal, stageTrimDelete)) {\n+                size_t oldUsage = curUsage;\n+                size_t txsToDelete = stageTrimDelete.size();\n+                pool.RemoveStaged(stageTrimDelete);\n+                curUsage = pool.DynamicMemoryUsage();\n+                LogPrint(\"mempool\", \"Removing %u transactions (%ld total usage) using periodic trim from reserve size\\n\", txsToDelete, oldUsage - curUsage);\n+            }\n+        }\n```\n",
      "created_at": "2015-07-29T10:42:40Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35746831",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35746831"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35747045",
      "pull_request_review_id": null,
      "id": 35747045,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NzQ3MDQ1",
      "diff_hunk": "@@ -859,22 +890,51 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height(), mempool.HasNoInputsOf(tx));\n         unsigned int nSize = entry.GetTxSize();\n \n-        // Don't accept it if it can't get into a block\n-        CAmount txMinFee = GetMinRelayFee(tx, nSize, true);\n-        if (fLimitFree && nFees < txMinFee)\n-            return state.DoS(0, error(\"AcceptToMemoryPool: not enough fees %s, %d < %d\",\n-                                      hash.ToString(), nFees, txMinFee),\n-                             REJECT_INSUFFICIENTFEE, \"insufficient fee\");\n-\n-        // Require that free transactions have sufficient priority to be mined in the next block.\n-        if (GetBoolArg(\"-relaypriority\", true) && nFees < ::minRelayTxFee.GetFee(nSize) && !AllowFree(view.GetPriority(tx, chainActive.Height() + 1))) {\n-            return state.DoS(0, false, REJECT_INSUFFICIENTFEE, \"insufficient priority\");\n+        // The fees required to accept this transaction start with the fees required to accept it on its own",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "6e8d3dd36cc82921f312458e17168788016ceee2",
      "original_commit_id": "6b4af964ff15ffec0bc6dccef90f854fd28efddc",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, moving existing code is one thing. But putting new code in txmempool instead of main doesn't make things harder to backport.\nIt feels like I'm always trying to control main.cpp's diet, but when I look somewhere else everybody gives him candy in high quantity. If we keep doing this, main.cpp is always going to be fat no matter how many things I move out of it.\n",
      "created_at": "2015-07-29T10:46:25Z",
      "updated_at": "2015-08-14T19:02:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6470#discussion_r35747045",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35747045"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6470"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}