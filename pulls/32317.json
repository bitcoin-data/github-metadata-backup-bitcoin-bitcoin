{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317",
    "id": 2471245988,
    "node_id": "PR_kwDOABII586TTDik",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32317",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32317.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32317.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
    "number": 32317,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: Separate UTXO set access from validation functions",
    "user": {
      "login": "sedited",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sedited",
      "html_url": "https://github.com/sedited",
      "followers_url": "https://api.github.com/users/sedited/followers",
      "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
      "organizations_url": "https://api.github.com/users/sedited/orgs",
      "repos_url": "https://api.github.com/users/sedited/repos",
      "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sedited/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "The current code makes it hard to call functions for checking the consensus-correctness of a block without having a full UTXO set at hand. This makes implementing features such as Utreexo and non-assumevalid swiftsync, where maintaining a full UTXO set defeats their purpose, through the kernel API difficult. Checks like the coinbase subsidy, or block sigops are only available through `ConnectBlock`, which requires a complete coins cache.\r\n\r\nSolve this by moving accessing coins and the responsibility of spending them out of `ConnectBlock` and into a new separate function called `SpendBlock`. Pass a block's spent coins through the existing `CBlockUndo` data structure to `ConnectBlock`. \r\n\r\nWhile the change is largely a refactor, some smaller behaviour changes were unavoidable. These should be highlighted in the commit messages. The last commit contains the most important part of the coins logic move, the commits before attempt to prepare it piecemeal.\r\n\r\nThis pull request was benchmarked on [benchcoin](https://github.com/bitcoin-dev-tools/benchcoin/pull/162), which showed no performance regression. While discussing this pull request it was noted that pre-fetching and eliminating the need for some additional map lookups might improve performance a bit, but this does not make a measurable difference in the grand scheme of things and was not the motivation for this pull request.\r\n\r\nIn future changes, ConnectBlock could be made even more self contained, accessing the coins from the internal map could be further optimized by consolidating existence checking and spending, and the function eventually exposed in an external kernel API (as done [here](https://github.com/sedited/bitcoin/commit/09e05493010119fc60d310d3e7ffc388de441f9a#diff-f638e65d9278276b2a6ac42ffbbd26d079c3dba752feed5038a25a1ee565d320R947))",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2025-04-21T13:15:46Z",
    "updated_at": "2026-01-25T16:54:18Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "a62c539fb88e239df28b95a98c37f73fdb682b86",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "sedited:spendblock",
      "ref": "spendblock",
      "sha": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "sedited/bitcoin",
        "owner": {
          "login": "sedited",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sedited",
          "html_url": "https://github.com/sedited",
          "followers_url": "https://api.github.com/users/sedited/followers",
          "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
          "organizations_url": "https://api.github.com/users/sedited/orgs",
          "repos_url": "https://api.github.com/users/sedited/repos",
          "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sedited/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/sedited/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sedited/bitcoin",
        "archive_url": "https://api.github.com/repos/sedited/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sedited/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sedited/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sedited/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sedited/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sedited/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sedited/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sedited/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sedited/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sedited/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sedited/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sedited/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sedited/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sedited/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sedited/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sedited/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sedited/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sedited/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sedited/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sedited/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sedited/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sedited/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sedited/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sedited/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sedited/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sedited/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sedited/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sedited/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sedited/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sedited/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sedited/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sedited/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sedited/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sedited/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sedited/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sedited/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sedited/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sedited/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sedited/bitcoin/hooks",
        "svn_url": "https://github.com/sedited/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 6,
        "watchers_count": 6,
        "size": 285456,
        "default_branch": "master",
        "open_issues_count": 4,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-23T12:45:16Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2026-01-23T12:45:49Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "bcf794d5f35b3210861d82b761b13d3ed9df14be",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38804,
        "stargazers_count": 87770,
        "watchers_count": 87770,
        "size": 302252,
        "default_branch": "master",
        "open_issues_count": 754,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-25T14:23:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-01-25T16:38:32Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 425,
    "deletions": 206,
    "changed_files": 16,
    "commits": 8,
    "review_comments": 50,
    "comments": 28
  },
  "events": [
    {
      "event": "commented",
      "id": 2818389716,
      "node_id": "IC_kwDOABII586n_TbU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2818389716",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-21T13:15:49Z",
      "updated_at": "2026-01-25T16:54:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32317.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-3603769464) |\n| Concept ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2785006540), [stickies-v](https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2802813202), [stringintech](https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2837977865), [enirox001](https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2913994757) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34320](https://github.com/bitcoin/bitcoin/pull/34320) (coins: replace remaining `HaveCoin` calls with `GetCoin` by l0rinc)\n* [#34165](https://github.com/bitcoin/bitcoin/pull/34165) (coins: don't mutate main cache when connecting block by andrewtoth)\n* [#34164](https://github.com/bitcoin/bitcoin/pull/34164) (validation: add reusable coins view for ConnectBlock by andrewtoth)\n* [#34004](https://github.com/bitcoin/bitcoin/pull/34004) (Implementation of SwiftSync by rustaceanrob)\n* [#32729](https://github.com/bitcoin/bitcoin/pull/32729) (test,refactor: extract script template helpers & widen sigop count coverage by l0rinc)\n* [#32575](https://github.com/bitcoin/bitcoin/pull/32575) (refactor: Split multithreaded case out of CheckInputScripts by fjahr)\n* [#32468](https://github.com/bitcoin/bitcoin/pull/32468) (rpc: generateblock to allow multiple outputs by polespinasa)\n* [#32427](https://github.com/bitcoin/bitcoin/pull/32427) ((RFC) kernel: Replace leveldb-based BlockTreeDB with flat-file based store by sedited)\n* [#31974](https://github.com/bitcoin/bitcoin/pull/31974) (Drop testnet3 by Sjors)\n* [#31132](https://github.com/bitcoin/bitcoin/pull/31132) (validation: fetch block inputs on parallel threads 3x faster IBD by andrewtoth)\n* [#30342](https://github.com/bitcoin/bitcoin/pull/30342) (kernel, logging: Pass Logger instances to kernel objects by ryanofsky)\n* [#29843](https://github.com/bitcoin/bitcoin/pull/29843) (policy: Allow non-standard scripts with -acceptnonstdtxn=1 (test nets only) by ajtowns)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n* [#29060](https://github.com/bitcoin/bitcoin/pull/29060) (Policy: Report debug message why inputs are non standard by ismaelsadeeq)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\n\n\nPossible typos and grammar issues:\n\n- \"...(amounts and maturity) This does not modify the UTXO set.\" -> \"...(amounts and maturity). This does not modify the UTXO set.\" [Missing sentence separator (period) after the parenthesis makes the sentence run-on and harms readability.]\n\n- \"Return a vector of unspent outputs of coins in the cache that are spent by the provided transaction.\" -> \"Return a vector of unspent outputs (CTxOut) from the cache that are being spent by the provided transaction.\" [The original phrasing is internally contradictory/unclear (\"unspent outputs ... that are spent\"); rewording clarifies that these are the outputs in the cache which the transaction spends.]\n\n- \"@param[in] blockundo   Has to contain all coins spent by block. Written to disk on successful validation\" -> \"@param[in] blockundo   Must contain all coins spent by the block and is written to disk on successful validation.\" [Sentence fragment and missing auxiliary verb; the original is grammatically fragmented and slightly ambiguous.]\n\n\n\n<sup>2025-12-03</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2818389716",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "labeled",
      "id": 17338317960,
      "node_id": "LE_lADOABII586zUH0-zwAAAAQJcbyI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17338317960",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-21T13:15:57Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "renamed",
      "id": 17338318896,
      "node_id": "RTE_lADOABII586zUH0-zwAAAAQJccAw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17338318896",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-21T13:16:03Z",
      "rename": {
        "from": "kernel: Seperate UTXO set access from validation functions",
        "to": "kernel: Separate UTXO set access from validation functions"
      }
    },
    {
      "event": "reviewed",
      "id": 2781269268,
      "node_id": "PRR_kwDOABII586lxs0U",
      "url": null,
      "actor": null,
      "commit_id": "2be3c59151bcb840eb8cbd045a3dada6775ebc9e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-04-21T13:44:14Z",
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2781269268",
      "submitted_at": "2025-04-21T13:44:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "labeled",
      "id": 17339331403,
      "node_id": "LE_lADOABII586zUH0-zwAAAAQJgTNL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17339331403",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-21T14:43:47Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2818629708,
      "node_id": "IC_kwDOABII586oAOBM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2818629708",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-21T14:43:48Z",
      "updated_at": "2025-04-21T14:43:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/40876609750</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2818629708",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17340461844,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQJknMU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17340461844",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "c1b36c4554c486f77e2d64e23465aadd4d20c552",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/c1b36c4554c486f77e2d64e23465aadd4d20c552",
      "created_at": "2025-04-21T16:14:43Z"
    },
    {
      "event": "reviewed",
      "id": 2781806044,
      "node_id": "PRR_kwDOABII586lzv3c",
      "url": null,
      "actor": null,
      "commit_id": "c1b36c4554c486f77e2d64e23465aadd4d20c552",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-04-21T17:14:05Z",
      "author_association": "MEMBER",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2781806044",
      "submitted_at": "2025-04-21T17:14:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17342804772,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQJtjMk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17342804772",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "created_at": "2025-04-21T19:50:40Z"
    },
    {
      "event": "unlabeled",
      "id": 17344092807,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAQJydqH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17344092807",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-21T22:11:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "project_v2_item_status_changed",
      "id": 17352305649,
      "node_id": "PVTISC_lADOABII586zUH0-zwAAAAQKRyvx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17352305649",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-22T11:33:43Z"
    },
    {
      "event": "added_to_project_v2",
      "id": 17352305907,
      "node_id": "ATPVTE_lADOABII586zUH0-zwAAAAQKRyzz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17352305907",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-22T11:33:43Z"
    },
    {
      "event": "reviewed",
      "id": 2785006540,
      "node_id": "PRR_kwDOABII586l_9PM",
      "url": null,
      "actor": null,
      "commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-04-22T18:32:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, as this PR increases the decoupling of components.\r\n\r\nnit: The name `SpendBlock` may not be clear (unless this concept is already known and I'm missing the point).\r\nMaybe `BIP30Validation`, something like that, would be clearer.",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2785006540",
      "submitted_at": "2025-04-22T18:32:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "commented",
      "id": 2858043588,
      "node_id": "IC_kwDOABII586qWkjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2858043588",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-07T10:30:53Z",
      "updated_at": "2025-05-07T10:30:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2785006540\r\n\r\n> nit: The name SpendBlock may not be clear (unless this concept is already known and I'm missing the point).\r\nMaybe BIP30Validation, something like that, would be clearer.\r\n\r\n\r\nIt is doing more than BIP-30 validation, so I don't think that would accurate either. I thought the name was pretty clear for what it does, but I'd be open to other suggestions.",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2858043588",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "reviewed",
      "id": 2823102316,
      "node_id": "PRR_kwDOABII586oRR9s",
      "url": null,
      "actor": null,
      "commit_id": "a7e41326234d3a381fdde0924af74c6561b10798",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-07T20:15:47Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2823102316",
      "submitted_at": "2025-05-07T20:15:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "reviewed",
      "id": 2830723082,
      "node_id": "PRR_kwDOABII586ouWgK",
      "url": null,
      "actor": null,
      "commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-10T10:51:14Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2830723082",
      "submitted_at": "2025-05-10T10:51:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17602733675,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQZNGZr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17602733675",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "created_at": "2025-05-10T16:20:51Z"
    },
    {
      "event": "commented",
      "id": 2869001802,
      "node_id": "IC_kwDOABII586rAX5K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2869001802",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-10T16:21:25Z",
      "updated_at": "2025-05-10T16:21:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 76a8f22c5c5cf48a9c36cc40db9224f0454917d0 -> 16a695fbff4a92eba3eb72ec6aa766e71c52f773 ([spendblock_0](https://github.com/TheCharlatan/bitcoin/tree/spendblock_0) -> [spendblock_1](https://github.com/TheCharlatan/bitcoin/tree/spendblock_1), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_0..spendblock_1))\r\n\r\n* Addressed @stringintech's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2078426205), now using `std::span<T>` as templated argument.",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2869001802",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "mentioned",
      "id": 17602735661,
      "node_id": "MEE_lADOABII586zUH0-zwAAAAQZNG4t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17602735661",
      "actor": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-10T16:21:26Z"
    },
    {
      "event": "subscribed",
      "id": 17602735667,
      "node_id": "SE_lADOABII586zUH0-zwAAAAQZNG4z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17602735667",
      "actor": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-10T16:21:26Z"
    },
    {
      "event": "reviewed",
      "id": 2802813202,
      "node_id": "PRR_kwDOABII586nD4kS",
      "url": null,
      "actor": null,
      "commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-13T15:57:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nReducing the coupling between validation functions and the UTXO set makes the validation functions more usable, and more testable. The approach taken here seems sensible, but I'm going to think about alternatives a bit more.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2802813202",
      "submitted_at": "2025-05-13T15:57:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "reviewed",
      "id": 2837977865,
      "node_id": "PRR_kwDOABII586pKBsJ",
      "url": null,
      "actor": null,
      "commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-13T20:59:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK.\r\nI had a few more comments (sorry for the scattered feedback; didn't have the chance to review everything earlier).",
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-2837977865",
      "submitted_at": "2025-05-13T20:59:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "commented",
      "id": 2878217156,
      "node_id": "IC_kwDOABII586rjhvE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2878217156",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-14T00:04:16Z",
      "updated_at": "2025-05-14T00:04:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "PSA: Bitcoin Core PR Review Club will cover this PR in its next meeting at 2025-05-14 at 17:00 UTC. See https://bitcoincore.reviews/32317 for notes, questions, and instructions on [how to join](https://bitcoincore.reviews/).\r\n\r\n",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2878217156",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17672243969,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQdWQsB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17672243969",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e8ac6d29273c48328f1f77886c3c3f653e6cc58e",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/e8ac6d29273c48328f1f77886c3c3f653e6cc58e",
      "created_at": "2025-05-15T13:25:34Z"
    },
    {
      "event": "commented",
      "id": 2883841466,
      "node_id": "IC_kwDOABII586r4-26",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2883841466",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-15T13:34:38Z",
      "updated_at": "2025-05-15T13:34:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the reviews @stringintech and @stickies-v!\r\n\r\n16a695fbff4a92eba3eb72ec6aa766e71c52f773 -> e8ac6d29273c48328f1f77886c3c3f653e6cc58e ([spendblock_1](https://github.com/TheCharlatan/bitcoin/tree/spendblock_1) -> [spendblock_2](https://github.com/TheCharlatan/bitcoin/tree/spendblock_2), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_1..spendblock_2))\r\n\r\n* Addressed @stickies-v's comments [1](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2065965592), [2](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2080154034), [3](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086983097), [4](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086984869), [5](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086978979) improving docstrings for `ConnectBlock` and `SpendBlock`.\r\n* Addressedd @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2066960211), removed block_hash argument from `ConnectBlock` and `SpendBlock` methods.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2075895517), added `CoinRef` concept.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2075811232), removed unneeded helper, use direct initialization to solve msvc compilation error.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086974181), add assert for `blockundo.vtxundo.size()` to rule out UB.\r\n*Addressed @stringintech's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087539901), pass in empty span to `GetTransactionSigOpCost`.\r\n* Addressed @stringintech's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087577718), update documentation for the removal of the inputs availability check in `CheckTxInputs`.\r\n* Addressed @stringintech's [comment](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087608225), removed line in commit message mentioning execution of the coinbase amount check even when another check has failed previously.",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2883841466",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "mentioned",
      "id": 17672422791,
      "node_id": "MEE_lADOABII586zUH0-zwAAAAQdW8WH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17672422791",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-15T13:34:40Z"
    },
    {
      "event": "subscribed",
      "id": 17672422818,
      "node_id": "SE_lADOABII586zUH0-zwAAAAQdW8Wi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17672422818",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-15T13:34:40Z"
    },
    {
      "event": "mentioned",
      "id": 17672422841,
      "node_id": "MEE_lADOABII586zUH0-zwAAAAQdW8W5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17672422841",
      "actor": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-15T13:34:40Z"
    },
    {
      "event": "subscribed",
      "id": 17672422856,
      "node_id": "SE_lADOABII586zUH0-zwAAAAQdW8XI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17672422856",
      "actor": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-15T13:34:40Z"
    },
    {
      "event": "labeled",
      "id": 17777586568,
      "node_id": "LE_lADOABII586zUH0-zwAAAAQjoHGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17777586568",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T18:19:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17787353857,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQkNXsB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17787353857",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e604a57dccac1c4e6802a3ecc7f4cb4c3229c8ed",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/e604a57dccac1c4e6802a3ecc7f4cb4c3229c8ed",
      "created_at": "2025-05-23T10:09:42Z"
    },
    {
      "event": "commented",
      "id": 2903947412,
      "node_id": "IC_kwDOABII586tFriU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2903947412",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T10:09:50Z",
      "updated_at": "2025-05-23T10:09:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased e8ac6d29273c48328f1f77886c3c3f653e6cc58e -> e604a57dccac1c4e6802a3ecc7f4cb4c3229c8ed ([spendblock_2](https://github.com/TheCharlatan/bitcoin/tree/spendblock_2) -> [spendblock_3](https://github.com/TheCharlatan/bitcoin/tree/spendblock_3), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_2..spendblock_3))\r\n\r\n* Fixed conflict with #32575 ",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2903947412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 17788116083,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAQkQRxz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17788116083",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T11:07:10Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2913994757,
      "node_id": "IC_kwDOABII586tsAgF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2913994757",
      "actor": {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-27T20:45:30Z",
      "updated_at": "2025-05-27T20:45:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. I'll be conducting a detailed commit-by-commit code review shortly.",
      "user": {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2913994757",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "labeled",
      "id": 17888622696,
      "node_id": "LE_lADOABII586zUH0-zwAAAAQqPrho",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17888622696",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-30T16:50:50Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17935345330,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQtB6ay",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17935345330",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "15ff9cb1789b7fe69c0ad24d737712aa6955e9cb",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/15ff9cb1789b7fe69c0ad24d737712aa6955e9cb",
      "created_at": "2025-06-02T14:19:09Z"
    },
    {
      "event": "commented",
      "id": 2930956026,
      "node_id": "IC_kwDOABII586ustb6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2930956026",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-02T14:19:15Z",
      "updated_at": "2025-06-02T14:19:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased e604a57dccac1c4e6802a3ecc7f4cb4c3229c8ed -> 15ff9cb1789b7fe69c0ad24d737712aa6955e9cb ([spendblock_3](https://github.com/TheCharlatan/bitcoin/tree/spendblock_3) -> [spendblock_4](https://github.com/TheCharlatan/bitcoin/tree/spendblock_4), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_3..spendblock_4))\r\n\r\n* Fixed silent merge conflict with #32304",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2930956026",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 17937624737,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAQtKm6h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17937624737",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-02T15:55:42Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17952668138,
      "node_id": "LE_lADOABII586zUH0-zwAAAAQuD_nq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17952668138",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-03T08:56:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17955573557,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQuPE81",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17955573557",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "df0eb65bd98f300618cccd667720f1ccc6145865",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/df0eb65bd98f300618cccd667720f1ccc6145865",
      "created_at": "2025-06-03T11:15:50Z"
    },
    {
      "event": "commented",
      "id": 2934750745,
      "node_id": "IC_kwDOABII586u7L4Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2934750745",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-03T11:16:00Z",
      "updated_at": "2025-06-03T11:16:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 15ff9cb1789b7fe69c0ad24d737712aa6955e9cb -> df0eb65bd98f300618cccd667720f1ccc6145865 ([spendblock_4](https://github.com/TheCharlatan/bitcoin/tree/spendblock_4) -> [spendblock_5](https://github.com/TheCharlatan/bitcoin/tree/spendblock_5), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_4..spendblock_5))\r\n\r\n* Fixed conflict with #32644",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2934750745",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 17958024094,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAQuYbOe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17958024094",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-03T13:19:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "subscribed",
      "id": 18082979409,
      "node_id": "SE_lADOABII586zUH0-zwAAAAQ11F5R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18082979409",
      "actor": {
        "login": "alexanderwiederin",
        "id": 37130778,
        "node_id": "MDQ6VXNlcjM3MTMwNzc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37130778?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alexanderwiederin",
        "html_url": "https://github.com/alexanderwiederin",
        "followers_url": "https://api.github.com/users/alexanderwiederin/followers",
        "following_url": "https://api.github.com/users/alexanderwiederin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alexanderwiederin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alexanderwiederin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alexanderwiederin/subscriptions",
        "organizations_url": "https://api.github.com/users/alexanderwiederin/orgs",
        "repos_url": "https://api.github.com/users/alexanderwiederin/repos",
        "events_url": "https://api.github.com/users/alexanderwiederin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alexanderwiederin/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-10T21:19:56Z"
    },
    {
      "event": "labeled",
      "id": 18102700741,
      "node_id": "LE_lADOABII586zUH0-zwAAAAQ3AUrF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18102700741",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-11T22:21:42Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2966042888,
      "node_id": "IC_kwDOABII586wyjkI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2966042888",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T10:22:44Z",
      "updated_at": "2025-06-12T10:22:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased df0eb65bd98f300618cccd667720f1ccc6145865 -> 969799291d34da706b43209ba1209038ec349424 ([spendblock_5](https://github.com/TheCharlatan/bitcoin/tree/spendblock_5) -> [spendblock_6](https://github.com/TheCharlatan/bitcoin/tree/spendblock_6), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_5..spendblock_6))\r\n\r\n* Fixed conflict with #32673\r\n* Fixed conflict with #32421",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2966042888",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18112249493,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQ3kv6V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18112249493",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "969799291d34da706b43209ba1209038ec349424",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/969799291d34da706b43209ba1209038ec349424",
      "created_at": "2025-06-12T10:22:51Z"
    },
    {
      "event": "unlabeled",
      "id": 18112917706,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAQ3nTDK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18112917706",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T11:03:51Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 18220153545,
      "node_id": "LE_lADOABII586zUH0-zwAAAAQ-AXrJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18220153545",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-19T00:21:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18231472630,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAQ-rjH2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18231472630",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "6e90a0eb605b5477b4e91128e08ed1cc5501a939",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/6e90a0eb605b5477b4e91128e08ed1cc5501a939",
      "created_at": "2025-06-19T14:07:12Z"
    },
    {
      "event": "commented",
      "id": 2988235414,
      "node_id": "IC_kwDOABII586yHNqW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2988235414",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-19T14:08:12Z",
      "updated_at": "2025-06-19T14:08:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 969799291d34da706b43209ba1209038ec349424 -> 6e90a0eb605b5477b4e91128e08ed1cc5501a939 ([spendblock_6](https://github.com/TheCharlatan/bitcoin/tree/spendblock_6) -> [spendblock_7](https://github.com/TheCharlatan/bitcoin/tree/spendblock_7), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_6..spendblock_7))\r\n\r\n* Fixed conflict with #31981 ",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-2988235414",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 18233163926,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAQ-yACW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18233163926",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-19T15:51:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 18494241256,
      "node_id": "LE_lADOABII586zUH0-zwAAAAROV7no",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18494241256",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-06T22:46:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3042934099,
      "node_id": "IC_kwDOABII5861X31T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3042934099",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-06T22:46:36Z",
      "updated_at": "2025-07-06T22:46:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `tidy`: https://github.com/bitcoin/bitcoin/runs/44423644781</sub>\n<sub>LLM reason (âœ¨ experimental): The failure is caused by a compilation error in script_p2sh_tests.cpp due to an incompatible function call to GetP2SHSigOpCount.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3042934099",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18546705747,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAARReEVT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18546705747",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "1f96d1cefc721b579b7aa3b05c2e65df62c0c5cf",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/1f96d1cefc721b579b7aa3b05c2e65df62c0c5cf",
      "created_at": "2025-07-09T13:37:31Z"
    },
    {
      "event": "commented",
      "id": 3052710445,
      "node_id": "IC_kwDOABII58619Kot",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3052710445",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-09T13:37:39Z",
      "updated_at": "2025-07-09T13:37:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 6e90a0eb605b5477b4e91128e08ed1cc5501a939 -> 1f96d1cefc721b579b7aa3b05c2e65df62c0c5cf ([spendblock_7](https://github.com/TheCharlatan/bitcoin/tree/spendblock_7) -> [spendblock_8](https://github.com/TheCharlatan/bitcoin/tree/spendblock_8), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_7..spendblock_8))\r\n\r\n* Fixed silent merge conflict with #32850",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3052710445",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 18549792201,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAARRp13J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18549792201",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-09T16:26:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 18750165571,
      "node_id": "LE_lADOABII586zUH0-zwAAAARdmNJD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18750165571",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-22T11:29:53Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3102322740,
      "node_id": "IC_kwDOABII58646bA0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3102322740",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-22T11:29:55Z",
      "updated_at": "2025-07-22T11:29:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `previous releases, depends DEBUG`: https://github.com/bitcoin/bitcoin/runs/45643912981</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by compilation errors in transaction_tests.cpp due to mismatched function calls to GetP2SHSigOpCount, indicating a code or API mismatch.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3102322740",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unsubscribed",
      "id": 18750223455,
      "node_id": "UE_lADOABII586zUH0-zwAAAARdmbRf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18750223455",
      "actor": {
        "login": "Sufyain",
        "id": 6850981,
        "node_id": "MDQ6VXNlcjY4NTA5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6850981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sufyain",
        "html_url": "https://github.com/Sufyain",
        "followers_url": "https://api.github.com/users/Sufyain/followers",
        "following_url": "https://api.github.com/users/Sufyain/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sufyain/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sufyain/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sufyain/subscriptions",
        "organizations_url": "https://api.github.com/users/Sufyain/orgs",
        "repos_url": "https://api.github.com/users/Sufyain/repos",
        "events_url": "https://api.github.com/users/Sufyain/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sufyain/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-22T11:33:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18792544206,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAARgH3fO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18792544206",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "10c3a0689a3b73eb2b291ee81dd85066fa32497d",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/10c3a0689a3b73eb2b291ee81dd85066fa32497d",
      "created_at": "2025-07-24T10:32:18Z"
    },
    {
      "event": "commented",
      "id": 3112940862,
      "node_id": "IC_kwDOABII5865i7U-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3112940862",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-24T10:32:24Z",
      "updated_at": "2025-07-24T10:32:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 1f96d1cefc721b579b7aa3b05c2e65df62c0c5cf -> 10c3a0689a3b73eb2b291ee81dd85066fa32497d ([spendblock_8](https://github.com/TheCharlatan/bitcoin/tree/spendblock_8) -> [spendblock_9](https://github.com/TheCharlatan/bitcoin/tree/spendblock_9), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_8..spendblock_9))\r\n\r\n* Fixed silent merge conflict with #32521 ",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3112940862",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 18801589198,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAARgqXvO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18801589198",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-24T19:09:33Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 19061279646,
      "node_id": "LE_lADOABII586zUH0-zwAAAARwJAue",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19061279646",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T19:57:40Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19222949080,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAR5xuzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19222949080",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "3843a15f5b5b50d47c2524f607ba0b01c90d42b1",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/3843a15f5b5b50d47c2524f607ba0b01c90d42b1",
      "created_at": "2025-08-19T11:45:28Z"
    },
    {
      "event": "commented",
      "id": 3200417035,
      "node_id": "IC_kwDOABII586-wn0L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3200417035",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-19T11:45:49Z",
      "updated_at": "2025-08-19T11:45:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 10c3a0689a3b73eb2b291ee81dd85066fa32497d -> 3843a15f5b5b50d47c2524f607ba0b01c90d42b1 ([spendblock_9](https://github.com/TheCharlatan/bitcoin/tree/spendblock_9) -> [spendblock_10](https://github.com/TheCharlatan/bitcoin/tree/spendblock_10), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_9..spendblock_10))\r\n\r\n* Fixed merge conflict with #33105",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3200417035",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 19225426900,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAR57LvU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19225426900",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-19T13:55:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 19251423837,
      "node_id": "LE_lADOABII586zUH0-zwAAAAR7eWpd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19251423837",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-20T18:11:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19268306817,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAR8eweB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19268306817",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "5537ac00983a9abd24689411b5d76058d7a02f1b",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/5537ac00983a9abd24689411b5d76058d7a02f1b",
      "created_at": "2025-08-21T14:49:25Z"
    },
    {
      "event": "commented",
      "id": 3210927116,
      "node_id": "IC_kwDOABII586_YtwM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3210927116",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-21T14:49:29Z",
      "updated_at": "2025-08-21T14:49:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 3843a15f5b5b50d47c2524f607ba0b01c90d42b1 -> 5537ac00983a9abd24689411b5d76058d7a02f1b ([spendblock_10](https://github.com/TheCharlatan/bitcoin/tree/spendblock_10) -> [spendblock_11](https://github.com/TheCharlatan/bitcoin/tree/spendblock_11), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_10..spendblock_11))\r\n\r\n* Fixed conflict with #33078",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3210927116",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 19269771567,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAR8kWEv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19269771567",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-21T15:57:35Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19504952906,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAASKlfZK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19504952906",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "created_at": "2025-09-04T13:30:41Z"
    },
    {
      "event": "commented",
      "id": 3253741259,
      "node_id": "IC_kwDOABII587B8CbL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3253741259",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-04T13:31:01Z",
      "updated_at": "2025-09-04T13:31:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 5537ac00983a9abd24689411b5d76058d7a02f1b -> b27be6cb18dde53863d83d2f2f61d4c92916257b ([spendblock_11](https://github.com/TheCharlatan/bitcoin/tree/spendblock_11) -> [spendblock_12](https://github.com/TheCharlatan/bitcoin/tree/spendblock_12), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_11..spendblock_12))\r\n",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3253741259",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "commented",
      "id": 3269734161,
      "node_id": "IC_kwDOABII587C5C8R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3269734161",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-09T09:27:03Z",
      "updated_at": "2025-09-09T09:27:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Pass a block's spent coins through the existing `CBlockUndo` data structure to `ConnectBlock`\r\n\r\nI don't think this is really a good direction. We already have a generic interface for supplying info about unspent coins: `CCoinsView`; I think we should be using that, rather than requiring users to convert their utxo data store into our undo format?\r\n\r\nThe thing that gets in the way of that seems to be the `AccessCoin` function returning a `Coin` by reference rather than value, but that doesn't seem particularly more efficient (it's an 8 byte copy rather than a 56 byte one unless the coin being spent is very non-standard, at least since #32279), and also seems a bit risky (in that the return value's lifetime is dependent on when the cache gets invalidated which is somewhat unpredictable).\r\n\r\nBut that seems to be fixable: https://github.com/ajtowns/bitcoin/commits/202509-ccoinsview/\r\n\r\n(When AccessCoin was introduced in #1677, CScript always involved an additional heap allocation as it was just a `vector<char>`, so the reference would have saved an allocation. That changed a few years later when prevector was introduced in #6914 which allowed small scripts to not require an allocation. However, I haven't actually checked to see if the 8-vs-56-byte issue is actually as trivial as I think it should be)",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3269734161",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "commented",
      "id": 3273948882,
      "node_id": "IC_kwDOABII587DJH7S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3273948882",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-10T08:44:34Z",
      "updated_at": "2025-09-10T08:44:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "My hesitation was mostly about re-using the coins cache as is. In my opinion it is the wrong data structure to use in this case. Potential clients of the kernel are often capable of supplying the coins in order as consumed by a transaction's inputs. Requiring these to be stored in a map seems wrong. I.e. if a utreexo client has all the leaf data to go with a transaction, it should not have to use a less efficient data structure that consumes more memory to pass in the coins. But maybe we have to build out some of the usages here in order to see what the actual drawbacks are? My current thinking is though that just passing in the required coins contiguously, i.e. use the undo data structure, is the more pragmatic solution for most external users that do not wish to implement a utxo set. \r\n\r\nHowever this is also not exactly what I think you are suggesting here, since the `CCoinsView` could eventually provide a view over contiguous data too. As implemented at the moment, that seems more confusing to use though compared to a nested vector of coins.\r\n\r\nAnother alternative solution that was suggested by cfields is introducing a new transaction type that holds the coins alongside the prevouts. I think that would be an interesting alternative too.",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3273948882",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "commented",
      "id": 3277131901,
      "node_id": "IC_kwDOABII587DVRB9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3277131901",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-11T02:19:01Z",
      "updated_at": "2025-09-11T02:19:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "> My hesitation was mostly about re-using the coins cache as is. In my opinion it is the wrong data structure to use in this case. Potential clients of the kernel are often capable of supplying the coins in order as consumed by a transaction's inputs.\r\n\r\nI think that's a false optimisation for two reasons: first, is that the primary client of the bitcoin core kernel is the bitcoin core node software, we should be designing for that case, not for other hypothetical clients; second, looking up a map isn't very expensive in comparison to the other parts of block validation, particular signature validation. So if we already know the exact utxos spent in a block, converting just those utxos into a CCoinsView and using that seems likely to be within the margin of error for any benchmarks on realistic blocks. If we were designing this from scratch for a utreexo-based system, then yeah, the undo-centric approach would make sense (and including the prevouts inside the transaction makes a lot of sense then), but that's not the primary use case here (at least not yet).\r\n\r\nI think constructing a CCoinsView from a block and undo would look something like this (on top of the previous changes I suggested above, untested):\r\n\r\n```c++\r\nclass BlockUndoCoinsView : public CCoinsView\r\n{\r\nprivate:\r\n    struct CoinCmp\r\n    {\r\n        bool operator()(const COutPoint* l, const COutPoint* r) const {\r\n            if (l && r) return *l < *r;\r\n            return r != nullptr;\r\n        }\r\n    };\r\n    std::map<const COutPoint*, const Coin*, CoinCmp> m_coins;\r\n\r\npublic:\r\n    explicit BlockUndoCoinsView(const CBlock& block, const CBlockUndo& undo)\r\n    {\r\n        size_t i = 0;\r\n        for (const auto& txundo : undo.vtxundo) {\r\n            ++i; // skip the coinbase tx\r\n            if (i >= block.vtx.size()) break;\r\n            size_t j = 0;\r\n            const auto& tx = block.vtx[i];\r\n            for (const auto& prevout : txundo.vprevout) {\r\n                if (j >= tx->vin.size()) break;\r\n                const auto& outpoint = tx->vin[j].prevout;\r\n                // XXX skip coins whose txid was from a previous tx in this block? \r\n                m_coins.try_emplace(&outpoint, &prevout);\r\n                ++j;\r\n            }\r\n        }\r\n    }\r\n\r\n    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override\r\n    {\r\n        auto coin = m_coins.find(&outpoint);\r\n        if (coin == m_coins.end()) return std::nullopt;\r\n        return *coin->second;\r\n    }\r\n\r\n    bool HaveCoin(const COutPoint &outpoint) const override\r\n    {\r\n        return m_coins.find(&outpoint) != m_coins.end();\r\n    }\r\n};\r\n```\r\n\r\nI guess what I mean is I think we can achieve the stated goal of this PR (being able to validate blocks/txs without the full utxo set) with a smaller change.\r\n\r\nIf returning a `const Coin&` rather than a copy is needed for performance, it might be better to do that through an RAII cursor object that guarantees the reference remains valid until the cursor is destroyed.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3277131901",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "commented",
      "id": 3280976957,
      "node_id": "IC_kwDOABII587Dj7w9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3280976957",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-11T14:12:00Z",
      "updated_at": "2025-09-11T14:12:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "My goal with this PR was making the bulk of `ConnectBlock` logic work without using a `CCoinsViewCache` by moving the call to `UpdateCoins` out of the function. The side effect of that is that the `CBlockUndo` is populated outside of `ConnectBlock` too and has to be passed in. Since it already holds all the required coins, I rather took those coins vectors, than additionally requiring a view providing the same data (next to the reasons I provided in my comment above).\r\n\r\nThe change was motivated by wanting to provide a single method for validating a block with external coins, such that others can use it verbatim in the near future. The alternative of just changing some of the functions that `ConnectBlock` calls to be able to accept external coins (through either a view or contiguous data), and then splitting the rest of the `ConnectBlock` logic, such as amount, locktime, assumevalid, and validity semantics into separate functions seemed inferior to me. If an external user would want to use these functions to achieve the same outcome, a single function not only seems friendlier, but also less likely to result in bugs.\r\n\r\nI could change this patch set to pass in a `CCoinsView` and then either handle the undo data outside of `ConnectBlock`, or populate it through the view within `ConnectBlock`.\r\n\r\n",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3280976957",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "labeled",
      "id": 20152190147,
      "node_id": "LE_lADOABII586zUH0-zwAAAASxKgTD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20152190147",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-08T00:16:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20242761036,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAS2kAVM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20242761036",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "9ce01e051bae5fb1d48d6d297eb011b13d20ec76",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/9ce01e051bae5fb1d48d6d297eb011b13d20ec76",
      "created_at": "2025-10-13T09:35:56Z"
    },
    {
      "event": "commented",
      "id": 3396649526,
      "node_id": "IC_kwDOABII587KdMI2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3396649526",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-13T09:36:01Z",
      "updated_at": "2025-10-13T09:36:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased b27be6cb18dde53863d83d2f2f61d4c92916257b -> 9ce01e051bae5fb1d48d6d297eb011b13d20ec76 ([spendblock_12](https://github.com/TheCharlatan/bitcoin/tree/spendblock_12) -> [spendblock_13](https://github.com/TheCharlatan/bitcoin/tree/spendblock_13), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_12..spendblock_13))",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3396649526",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 20244883438,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAS2sGfu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20244883438",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-13T11:16:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20740123865,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAATUNSzZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20740123865",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "5988c7172406e3caca32fc78c011d878a1abdf1e",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/5988c7172406e3caca32fc78c011d878a1abdf1e",
      "created_at": "2025-11-05T20:13:29Z"
    },
    {
      "event": "commented",
      "id": 3493153738,
      "node_id": "IC_kwDOABII587QNUvK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3493153738",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-05T20:13:37Z",
      "updated_at": "2025-11-05T20:13:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 9ce01e051bae5fb1d48d6d297eb011b13d20ec76 -> 5988c7172406e3caca32fc78c011d878a1abdf1e ([spendblock_13](https://github.com/TheCharlatan/bitcoin/tree/spendblock_13) -> [spendblock_14](https://github.com/TheCharlatan/bitcoin/tree/spendblock_14), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_13..spendblock_14))\r\n\r\n* Fixed a silent merge conflict ",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3493153738",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "commented",
      "id": 3496243776,
      "node_id": "IC_kwDOABII587QZHJA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3496243776",
      "actor": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-06T09:50:42Z",
      "updated_at": "2025-11-06T09:50:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "A function that takes a `const std::span<T> coins` argument cannot modify `coins`, but it has mutable access to `coins[x]`.",
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3496243776",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "labeled",
      "id": 20789590556,
      "node_id": "LE_lADOABII586zUH0-zwAAAATXJ_oc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20789590556",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-07T14:44:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20889971427,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAATdI6rj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20889971427",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "6493e47fd8d32c030d553f791caa48fcdb848c0b",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/6493e47fd8d32c030d553f791caa48fcdb848c0b",
      "created_at": "2025-11-12T14:27:35Z"
    },
    {
      "event": "commented",
      "id": 3522227364,
      "node_id": "IC_kwDOABII587R8Oyk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3522227364",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-12T14:28:19Z",
      "updated_at": "2025-11-12T14:28:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 5988c7172406e3caca32fc78c011d878a1abdf1e -> 6493e47fd8d32c030d553f791caa48fcdb848c0b ([spendblock_14](https://github.com/TheCharlatan/bitcoin/tree/spendblock_14) -> [spendblock_15](https://github.com/TheCharlatan/bitcoin/tree/spendblock_15), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_14..spendblock_15))\r\n",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3522227364",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "mentioned",
      "id": 20889994457,
      "node_id": "MEE_lADOABII586zUH0-zwAAAATdJATZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20889994457",
      "actor": {
        "login": "param",
        "id": 88536923,
        "node_id": "MDQ6VXNlcjg4NTM2OTIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/88536923?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/param",
        "html_url": "https://github.com/param",
        "followers_url": "https://api.github.com/users/param/followers",
        "following_url": "https://api.github.com/users/param/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/param/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/param/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/param/subscriptions",
        "organizations_url": "https://api.github.com/users/param/orgs",
        "repos_url": "https://api.github.com/users/param/repos",
        "events_url": "https://api.github.com/users/param/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/param/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-12T14:28:24Z"
    },
    {
      "event": "subscribed",
      "id": 20889994541,
      "node_id": "SE_lADOABII586zUH0-zwAAAATdJAUt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20889994541",
      "actor": {
        "login": "param",
        "id": 88536923,
        "node_id": "MDQ6VXNlcjg4NTM2OTIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/88536923?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/param",
        "html_url": "https://github.com/param",
        "followers_url": "https://api.github.com/users/param/followers",
        "following_url": "https://api.github.com/users/param/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/param/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/param/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/param/subscriptions",
        "organizations_url": "https://api.github.com/users/param/orgs",
        "repos_url": "https://api.github.com/users/param/repos",
        "events_url": "https://api.github.com/users/param/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/param/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-12T14:28:25Z"
    },
    {
      "event": "unlabeled",
      "id": 20890342102,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAATdKVLW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20890342102",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-12T14:41:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 21308477112,
      "node_id": "LE_lADOABII586zUH0-zwAAAAT2FY64",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21308477112",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-02T15:00:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU3MDlkMDczZTA2MjgwYzkxNWU3ZDc0ZThmNDllNDkwNDU5OGMzNDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5709d073e06280c915e7d74e8f49e4904598c348",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5709d073e06280c915e7d74e8f49e4904598c348",
      "tree": {
        "sha": "327b4cfafc6ee4d80296183e33fe35c663cb0a8f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/327b4cfafc6ee4d80296183e33fe35c663cb0a8f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 327b4cfafc6ee4d80296183e33fe35c663cb0a8f\nparent bcf794d5f35b3210861d82b761b13d3ed9df14be\nauthor TheCharlatan <seb.kung@gmail.com> 1744967374 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757519 +0100\n\nconsensus: Use Coin span in GetP2SHSigOpCount\n\nMove the responsibility of retrieving coins from GetP2SHSigOpCount to\nits caller.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n\nDefine two explicit template specializations for both a span of\nreferences to coins and a span of coins. This allows using it for both\nCoin entries referenced from the CCoinsViewCache, and from contiguous\nmemory, like the vector in CBlockUndo.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEA8ACgkQm3m0VpHb\nQXME8w/9E90jHZvmXssCVFeSvmIriwyJTGT4l9+jRRIc/5VjxqvVUa9hFACR9Fu8\nCxOUyUgvm9blRZUz844J3VccwqA9U78ik1SldrCsIp9rFtkp5T+MzRE+gC9lBKo7\nkyHVerZ00ZHxkhInhalFCeugygzn8cxjWG3fYSD78KC8K3unY5jT9JiRsGk2hNnV\nyAOTWgnmQzISL3t9WNRzRs7c2TnSynjY5D0KdjkVhl/noD/ae52frWUOTz9QbEHp\n+6O7CbLqxJUQwRPF6OO+zMmKpCTzO2LFIW+xGmRrLym2zui8CJ0mcNteEq5JAQ0e\n7GTA2qugD72SIHMDuXsgbOZtr2yOVvAwSvUvKb9HdRewuzLNYS/faSnfoMJ0Yibk\nXIOPdRj/cKf7WeWJM0mC8w8vJgV2VZ0wGVGWilwcX2/kRbQ5RYNs/j7xERfh5SlF\nVkEV56NtdS4tIWuI3cgVntCx6wGRda2OxhEVhru815ZUDIA6WdEXpf5Ejys1Q87q\nbQP28sY/gvoWMTbXsbOkZYBa8uy1kQiH5pvziJO35DXLShByvJPGT9vSwrnnoDpM\nEdag0KYLl3wy+7/gtGyudJw7ZnnD4JQldlZwRzZKR1sT8bSArdYbL+JExjsDaBV5\nXRtfJeTi9CBTa+Kj6kmNKRhZYqZnHaXwJXCMim68qcZcQ9TcJsw=\n=EGTE\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bcf794d5f35b3210861d82b761b13d3ed9df14be",
          "sha": "bcf794d5f35b3210861d82b761b13d3ed9df14be",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bcf794d5f35b3210861d82b761b13d3ed9df14be"
        }
      ],
      "message": "consensus: Use Coin span in GetP2SHSigOpCount\n\nMove the responsibility of retrieving coins from GetP2SHSigOpCount to\nits caller.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n\nDefine two explicit template specializations for both a span of\nreferences to coins and a span of coins. This allows using it for both\nCoin entries referenced from the CCoinsViewCache, and from contiguous\nmemory, like the vector in CBlockUndo.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:25:19Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-18T09:09:34Z"
      },
      "sha": "5709d073e06280c915e7d74e8f49e4904598c348"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNiZGI0YTg5YTllODUyZGRlZTljZWJhYWYzNDkyNDczYjE2ZTdjYzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6",
      "tree": {
        "sha": "32888a86bf02c8c58188efc6d60ede6ccd62d0da",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/32888a86bf02c8c58188efc6d60ede6ccd62d0da"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 32888a86bf02c8c58188efc6d60ede6ccd62d0da\nparent 5709d073e06280c915e7d74e8f49e4904598c348\nauthor TheCharlatan <seb.kung@gmail.com> 1744973491 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757520 +0100\n\nconsensus: Use Coin span in GetTransactionSigOpCost\n\nMove the responsibility of retrieving coins from GetTransactionSigOpCost\nto its caller.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n\nDefine two explicit template specializations for both a span of\nreferences to coins and a span of coins. This allows using it for both\nCoin entries referenced from the CCoinsViewCache, and from contiguous\nmemory, like the vector in CBlockUndo.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEBAACgkQm3m0VpHb\nQXObpxAAn16KwXSHZkOGwmlby0c4uo9X0u7gj+7OP6fQQGDmwYCphCb4FT4uv/GS\n6Lbr9zRxfXlD4IyslsHKOjThUgvR/E52fuYW9B9hAx1b7CilAOI97Oa5HLJXZWD/\nXBL1aVWPY8/RYyaeQGZA18dL9wnfi/m4bG9itqcE6WkcRM/2cm3y3FD46ARNb9qd\nLDfp7Sfr19dS976N9Wo0ewaL2+zDA4zMFxIw6aRa0RqWFsfbvN3HGyOnVWAUc78p\nHUksr3LHFf3Vgt6E6b4rwNku0fk1+lxV6FDsp/0uMjSja9vGVu7ElOF9yNaPZEoU\n1+9VHFIYKqcrWrABKnAlOMZBeNbmIuJfVngffm1F2/y/KcBcbJX6GYITM9vk+JK9\nqVf/mDEsYwRs/mTQw8uY2kG1Zd/arQrUQMaAZRc2qlaqJ9RoqpfJWWqqtwN7hn8F\n5PqG9yrWvCcPPsTMRvv/voQKFNI1L3LM+VH5qwf3Th33wtLdz+fbJlf+meTBMENa\nOdptBC+j2rgQJI/HCr560HYqDDBZoCbfZe/iwqJuFNQjXWg/h3QJ0a5oSn+6z+Ul\n4uGCDmfZClfsF/t60FdEEFewCl126dco1+pur/+xtisXfTCUJXkBgIpVRExGIxNY\nNT9HIACQZ3DcB4jmB7IvjitZ5UDneF17YD6n5NyzFXiYkyeLBAI=\n=TiUL\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5709d073e06280c915e7d74e8f49e4904598c348",
          "sha": "5709d073e06280c915e7d74e8f49e4904598c348",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5709d073e06280c915e7d74e8f49e4904598c348"
        }
      ],
      "message": "consensus: Use Coin span in GetTransactionSigOpCost\n\nMove the responsibility of retrieving coins from GetTransactionSigOpCost\nto its caller.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n\nDefine two explicit template specializations for both a span of\nreferences to coins and a span of coins. This allows using it for both\nCoin entries referenced from the CCoinsViewCache, and from contiguous\nmemory, like the vector in CBlockUndo.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:25:20Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-18T10:51:31Z"
      },
      "sha": "3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE2MmYyNjY4YmU2ODc4NWY3ZjI3NmY1NDM0YjhjYzcxOGFlMzEzZTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/162f2668be68785f7f276f5434b8cc718ae313e6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/162f2668be68785f7f276f5434b8cc718ae313e6",
      "tree": {
        "sha": "0178f182f54c31c3e4f4de2f61c53bf67b3848d2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0178f182f54c31c3e4f4de2f61c53bf67b3848d2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0178f182f54c31c3e4f4de2f61c53bf67b3848d2\nparent 3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6\nauthor TheCharlatan <seb.kung@gmail.com> 1744981165 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757521 +0100\n\nconsensus: Use Coin span in CheckTxInputs\n\nMove the responsibility of retrieving coins from CheckTxInputs\nto its caller. The missing inputs check will be moved in an upcoming\ncommit.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n\nDefine two explicit template specializations for both a span of\nreferences to coins and a span of coins. This allows using it for both\nCoin entries referenced from the CCoinsViewCache, and from contiguous\nmemory, like the vector in CBlockUndo.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEBEACgkQm3m0VpHb\nQXN+bw//bA+M6qOjN+FKZGaYXeJERtNajQViYif9CBepcAqOkNpyFqfJDV/duYNL\n1hGG0rA1qVWgNI5RNMFPXbZgaJfhnZUst03pyDjNZV5UiykEREVQubiz0KOPzve6\ncfLW9w3aUTIIJFRWwQiqrHScT++tu2J2RV+9gZa1K+xwWXSMM/Wd8hVdD/9/0VX4\n6ylbvForprmfBVkfgQZDf6pDwtNBIYKezCvAx79h4tMD99BMRWQUt9bB2Q/0JFWj\nW5f9ab1S9Ps0Qt5hv/zt0G8UlJ0HAF9uatLJuarPXvWDlEXoH1oh65EArJeVClm0\nE0wCrVgnvJhIEA2+wrCg3H7HWDnsVwpxXODpcV6NkolE+7B3La2ZSrr9ZgPMgBeU\nvRuhZi4Pk5bIKe1xWaxDfYyyYiFjwjj+GPRbeMeBR52S38TdzkIFZYPpOg0+oqTA\nDXHESGYKl6szqhvwd7hQtwpBAWydIv+qUSirkaeY/3gjQ9bJUUfegFsPgXcSMf0F\nFo28m7xIBH4LpCUIqGvPjnrqPPnRasSw+39e5l5osu4HDpK3ddDuON8rNIFCq8tr\n7hxtfeeCuHN7XIbkdptUgCvgfqiY/WHR095RfYldtd+1IAPls3wCCMnJhh9MJImU\nWRWk+zDsnCkbaiE5+OKshrd4zC/LAzbIX80oMEaEMWGXV6GwzA0=\n=I6ki\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6",
          "sha": "3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6"
        }
      ],
      "message": "consensus: Use Coin span in CheckTxInputs\n\nMove the responsibility of retrieving coins from CheckTxInputs\nto its caller. The missing inputs check will be moved in an upcoming\ncommit.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n\nDefine two explicit template specializations for both a span of\nreferences to coins and a span of coins. This allows using it for both\nCoin entries referenced from the CCoinsViewCache, and from contiguous\nmemory, like the vector in CBlockUndo.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:25:21Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-18T12:59:25Z"
      },
      "sha": "162f2668be68785f7f276f5434b8cc718ae313e6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY4MTg2Y2ZhZjYxNjJmNmVmZmM4ODlkMTlhZGE0MGE4ZDg1NmI2MTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f8186cfaf6162f6effc889d19ada40a8d856b610",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f8186cfaf6162f6effc889d19ada40a8d856b610",
      "tree": {
        "sha": "aaf710922f1d172e55f0bf9c1c7b04ef9b4a717b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aaf710922f1d172e55f0bf9c1c7b04ef9b4a717b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree aaf710922f1d172e55f0bf9c1c7b04ef9b4a717b\nparent 162f2668be68785f7f276f5434b8cc718ae313e6\nauthor TheCharlatan <seb.kung@gmail.com> 1745007843 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757522 +0100\n\nvalidation: Use vector of outputs instead of CCoinsViewCache in CheckInputScripts\n\nMove the responsibility of retrieving coins from the CCoinsViewCache\nin CheckInputScripts to its caller.\n\nAdd a helper method in CCoinsViewCache to collect all Coin's outputs\nspent by a transaction's inputs.\n\nCallers of CCoinsViewCache are updated to either pre-fetch the spent\noutputs, or pass in an empty vector if the precomputed transaction data\nhas already been initialized with the required outputs.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEBIACgkQm3m0VpHb\nQXPthw//aWqRIosWbIQBFxldK4QaMXd5lI9DJjoEPHQM37uJbrCdScLojSaa77wd\nWXqtQfkBW5C5tsFjkPedqQ0bEz0pSnTxgYsiaKZp/y5m8p84Hqahf/jeIzkI42ph\nlly6NjuCIx8wQ69dpCc7j2w0yzdHPC251XQQgLcOJxdgfdbifmjWtoyoU4SSwOnY\nrmSBG9UoMM7SMvPCD5GrbivoiRZ23pLBanFSh4H0dQ/l7mpkZbSmAQ24JpMQCIaI\nkZIdi2mmNZvcmykpOkXIxM0c/V/TWQ/KDfJ3qqRvB4nDGlA0dlgLHsCivaz4C5jW\n6D12/2Xzsl9AVwP4baDTQSxxbtEh6vVprtMZUOEFAE12sXkX4Q0nUUSqnE5GwAuC\ncc45I6vmOFmOJebX8kPVqqxzxKYYPZvKBRomoxsTs2uq2awyBE79albGrULhO5Li\ndn7a3j2KK42YlWA4FB+Tj6FQvIp3Gstw46QLazg5aTGiZcIZ5P1mP5e34vqoTSwS\ngXw/xpedp/P9U4c9rKPcd5HsyZv//8oCkScCIXpaybjm8pSebFZt041J0tXkR13t\nx0Qz+C/UqWHQDKccGwPBHeCOjRR2DDZ53WE9wnQD/EVVMywxKhd/5qMw4jj27gVw\nFl5D4XzZAMAKYWkLh/zSxsPykEdJ0KD2Xr5rGUSE5v3y8afHR9c=\n=/sJZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/162f2668be68785f7f276f5434b8cc718ae313e6",
          "sha": "162f2668be68785f7f276f5434b8cc718ae313e6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/162f2668be68785f7f276f5434b8cc718ae313e6"
        }
      ],
      "message": "validation: Use vector of outputs instead of CCoinsViewCache in CheckInputScripts\n\nMove the responsibility of retrieving coins from the CCoinsViewCache\nin CheckInputScripts to its caller.\n\nAdd a helper method in CCoinsViewCache to collect all Coin's outputs\nspent by a transaction's inputs.\n\nCallers of CCoinsViewCache are updated to either pre-fetch the spent\noutputs, or pass in an empty vector if the precomputed transaction data\nhas already been initialized with the required outputs.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:25:22Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-18T20:24:03Z"
      },
      "sha": "f8186cfaf6162f6effc889d19ada40a8d856b610"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM5MzdiMTI3NDU5NzE0MzUxMTFlYWI5NDhlNTA1NTgwNzU0ZDU2YmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c937b12745971435111eab948e505580754d56bd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c937b12745971435111eab948e505580754d56bd",
      "tree": {
        "sha": "8fdcb75b84ed3bd7934c1d8f8c269013ec7904c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8fdcb75b84ed3bd7934c1d8f8c269013ec7904c7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8fdcb75b84ed3bd7934c1d8f8c269013ec7904c7\nparent f8186cfaf6162f6effc889d19ada40a8d856b610\nauthor TheCharlatan <seb.kung@gmail.com> 1745096159 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757522 +0100\n\nvalidation: Add SpendBlock function\n\nMove the BIP30 checks from ConnectBlock to a new SpendBlock method.\nThis is a move-only change, more content to SpendBlock is added in the\nnext commits. The goal is to move logic requiring access to the\nCCoinsViewCache out of ConnectBlock and to the new SpendBlock method.\nSpendBlock will in future handle all UTXO set interactions that\npreviously took place in ConnectBlock.\n\nCallers of ConnectBlock now also need to call SpendBlock before. This is\nenforced in a future commit by adding a CBlockUndo argument that needs\nto be passed to both.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEBMACgkQm3m0VpHb\nQXMGjw/7Bm9+RSx65vTDF8wKcRz9WvolcbM/siVaBiRW0JPY+2pouEvgvEHg7qzQ\nrKVDma68hQ2B3iwV/g3gAvuzlCNb1Vu4F6IWPFttUwR2Lqo7sbY57I6alUR9bLPn\n/aCHwE5buA18arr9he+IVwVJzCJJAiCPXOfzDpe9w6AagTqahE1aALq95hJEvQNO\n9kxr00Gl2F9HQ1tC0fACYi0KxTxVeG1RqGHzWsyzg4U1pPHii7Edo/KiS3TRzlql\nwmISUmTSRC4vehT5WEpbu663qNwhxnmcXwIVyZN0lG+5/vGN6yWm7PQVTsZEWhr1\nul72S0GOxHaPPaxsG3EBQyg3FRFE02JMDYRxxGdPzc+Ro+AX6G19dcou8Ctdipjz\nxU712c8uofZXgMlP2zTcucCV8Onz7g05QP7CJSWQD7s/WuYxIcB34QGqEygQTXJP\nHo1kU8UYJrx3kHbr9mBDzj8Wg+wGmR9HMKHvBousb08M8CKUVxb5uzj8up8MCOH9\n8haMdRzVuWiKsexrXLK4eGxdr+HAzW1SWHRkNidXKqLwY5Yyq0KWo9GJ/8k3lKIm\n+/KbyaF8zi1QDvlcyb/VRkSxQ6leNtDORUDTQruJUpMnDB3PaAYRCdFckMAEukUc\ncESYCYqK6/H90D+Wutc+EAtSeRsB9aDEs/hpBx7rYy5bQZ5JJGo=\n=wiPV\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f8186cfaf6162f6effc889d19ada40a8d856b610",
          "sha": "f8186cfaf6162f6effc889d19ada40a8d856b610",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f8186cfaf6162f6effc889d19ada40a8d856b610"
        }
      ],
      "message": "validation: Add SpendBlock function\n\nMove the BIP30 checks from ConnectBlock to a new SpendBlock method.\nThis is a move-only change, more content to SpendBlock is added in the\nnext commits. The goal is to move logic requiring access to the\nCCoinsViewCache out of ConnectBlock and to the new SpendBlock method.\nSpendBlock will in future handle all UTXO set interactions that\npreviously took place in ConnectBlock.\n\nCallers of ConnectBlock now also need to call SpendBlock before. This is\nenforced in a future commit by adding a CBlockUndo argument that needs\nto be passed to both.\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:25:22Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-19T20:55:59Z"
      },
      "sha": "c937b12745971435111eab948e505580754d56bd"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ5ZjFmYzdhYjMzYzMxZDczYjk4YTI5YzA5YWJlMWJlNWEyNDcyODU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9f1fc7ab33c31d73b98a29c09abe1be5a247285",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d9f1fc7ab33c31d73b98a29c09abe1be5a247285",
      "tree": {
        "sha": "90454c87ff8e5a9819005337927155fcefcf1ad0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/90454c87ff8e5a9819005337927155fcefcf1ad0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 90454c87ff8e5a9819005337927155fcefcf1ad0\nparent c937b12745971435111eab948e505580754d56bd\nauthor TheCharlatan <seb.kung@gmail.com> 1745146123 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757523 +0100\n\nvalidation: Move SetBestBlock out of ConnectBlock\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEBMACgkQm3m0VpHb\nQXMMFhAAu5B0PWTxdQ1plMOxQJ2GXply2ETaDZf6is+ZOqdZtfTBHyUe68XxhoGg\nUHXB98x0xg8LbvczNKC1LhSpWWusUCRyit8+XVlDdbTNIiy/tV5wWRlQEEabQIw4\nDojnHf3b7qVBThxmgcjn2YQvuvMluhK+ZUGsfLnRw3TS8RCO1KE5cQzomWobeOdZ\nNaHox5HmiDTnScrvcbXWl7HoKguWd+J9lvdO+7qJj21qlyioFkQQS4sLgdG9cV9h\nzW3yHKmJfJW8UET7ClV7pic2cTbhoiOep4kdk8893+rABz6F3p2BRFA3OvY60hrQ\nwELsvMTGaKAnEX/MKHOJpoB5SuppuSem3PwVNZIrLtD3OIgMOZWXj9gEsvWExyAa\nsY+JhhL9xfO5W6n1Cp91dMvprpSYVJVFq//+T1chtxdbGCZHGiXztsh7wmsShRJO\nWNglPI3573jtGrqJ7qVM6SCECi+NCaOcRzaAxSSlXfP1UXCcPkNAUYYQ92DIPMJV\n+rdmytLvMEucB3fh2VqliROOaCxK9op10pODLus1TrfaxZvN4QzLam/5mV7iGKHB\nvbxjXHgqPGj9bQmdCzxk0o3kNBi79hfqDQZshTL0RyYZUHygK2qLUIWlMSZIZVdH\nsElCiCKUFjZSRndHyWvfQeRDH7FtchjLm1FxQnz9zljO9LyC8DM=\n=7o/M\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c937b12745971435111eab948e505580754d56bd",
          "sha": "c937b12745971435111eab948e505580754d56bd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c937b12745971435111eab948e505580754d56bd"
        }
      ],
      "message": "validation: Move SetBestBlock out of ConnectBlock\n\nThis is a part of a series of commits for removing access to the\nCCoinsViewCache in consensus verification functions. The goal is to\nallow calling verification functions with pre-fetched, or a user-defined\nset of coins.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:25:23Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-20T10:48:43Z"
      },
      "sha": "d9f1fc7ab33c31d73b98a29c09abe1be5a247285"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMyYTU0OTdlOTk0M2M1OTIwOTQ4MzRmOGVhMmQ3M2YxYjllOTFkYzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c2a5497e9943c592094834f8ea2d73f1b9e91dc7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c2a5497e9943c592094834f8ea2d73f1b9e91dc7",
      "tree": {
        "sha": "c238f5dd824beaa026b51025ade1005a4388b5c2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c238f5dd824beaa026b51025ade1005a4388b5c2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c238f5dd824beaa026b51025ade1005a4388b5c2\nparent d9f1fc7ab33c31d73b98a29c09abe1be5a247285\nauthor TheCharlatan <seb.kung@gmail.com> 1744977596 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757697 +0100\n\nvalidation: Move coin existence and spend check to SpendBlock\n\nMove the remaining UTXO-related operations from ConnectBlock to\nSpendBlock. This includes moving the existence check, the UpdateCoins\ncall, and CBlockUndo generation.\n\nConnectBlock now takes a pre-populated CBlockUndo as an argument and no\nlonger accesses or manipulates the UTXO set.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEMEACgkQm3m0VpHb\nQXN5vBAAh1hg9Ow4SJ4Y30mWlE2ceohLpE7RNQLWdMF/Ags6JkxSGLQdYJswo4l3\nAa5me0xiDrAPY4o6yJKsU+Ig1GfSetQsoo9FU9uxF2ifbzRppExQtv6eaawwzpF5\nlA8wTnzv6JL6hBDWMyeVc5td2T5xZLAcv6ULxMojfWia4uMYw0VHo7DrlCK/94jB\nQzre5XkycgSzHZsSu0nVJYskl2BXGZDiNTSFuZt6gA8lH3wXDbQuzP6Wh8BbMAhH\ndwWxz6i402THOAmHvQ0b8yT+IZKmDcQ0pe9CpSg7fsW3/gqFgMD+Ql6TfO/G9+hE\nZxXlgyUa0WctpOMiHa4ZW8vxGdH9/G4fN4wdXGXVjkSqvVpZHdJ2FbMYY6Or/Jtw\nEgb7dnZENtByDwiYnVwoDPF3AAXD6UYc69LwkVFkI3x3E8BxhDOPXlJFi0I/e+FA\nj3hvphqKfnCmoSMjmNd7hk1BjI8hWNaLF52DiSctfJw0Unio4oA6jPVj1Hm+K8Zi\noiL7yWwU3YWCjyClQKtffr9e51A/8d3K22eiC6WtOt4ORl59U1e89Tc95k/Hd9jV\n05jhDeW90/VjQRgHVW9VhmCu+CDHRQiOVhp1lA27GQLN4GxyDVEWKegzBxdYAith\nbXcR1rfvooho9Wnrc0Mivvst1E/5miFXC20HoaW9Bg+aR8ABozM=\n=BoPY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9f1fc7ab33c31d73b98a29c09abe1be5a247285",
          "sha": "d9f1fc7ab33c31d73b98a29c09abe1be5a247285",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d9f1fc7ab33c31d73b98a29c09abe1be5a247285"
        }
      ],
      "message": "validation: Move coin existence and spend check to SpendBlock\n\nMove the remaining UTXO-related operations from ConnectBlock to\nSpendBlock. This includes moving the existence check, the UpdateCoins\ncall, and CBlockUndo generation.\n\nConnectBlock now takes a pre-populated CBlockUndo as an argument and no\nlonger accesses or manipulates the UTXO set.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:28:17Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-18T11:59:56Z"
      },
      "sha": "c2a5497e9943c592094834f8ea2d73f1b9e91dc7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEwZTk1NzhlYzFmZjFkOGVjNTdmNzZhMzdlMzg5YWVlYjU1NGE2Mzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "tree": {
        "sha": "b5aac01b79d11800b5b2618f4450bffe0feceb82",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b5aac01b79d11800b5b2618f4450bffe0feceb82"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b5aac01b79d11800b5b2618f4450bffe0feceb82\nparent c2a5497e9943c592094834f8ea2d73f1b9e91dc7\nauthor TheCharlatan <seb.kung@gmail.com> 1745264216 +0200\ncommitter sedited <seb.kung@gmail.com> 1764757698 +0100\n\ndoc: Add docstrings for ConnectBlock and SpendBlock\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmkwEMIACgkQm3m0VpHb\nQXMJ1xAAg8uhRxkGZYpCeLPS6ScJ01ecC/ZdQCj31dom6aG/517uNWTcWSyV/7nl\n068cZVI88gq++JgFmouVSi/CDaDJIkdSsW4PyszJ8vJiA/dL8zUFtgwSJQ6UZ475\nploLKGmO7Vqee7giB0+/yrgPouVyV5ZGYyg2HP479pW2qQZfnTPzS8lNRf0R6kD6\nXDQGgOEtSoB/VefVyvdeAsuOTS7+GJTuHiFMaJdLLcEMUCNkmGyxcaXJtGBubxwM\nERtqEP/u+b/71GiWmt0g0WFCx51w+H/rf/eSI2l9559X0NpGcuXvGrO7jWzLOiQh\nyfyTTo2e52kxaDz5H+oPXii2+Mt0KjX0YuJCKmV7bKKJzUUY11Y+6umxAZkACH7k\nVzZmUevZf7FWJ/qEODgG2WMPiWGL1wtjmKust5msIAWbtLyBK5YNp5huRI6lu5pE\nr2ykKDanCU3AFvUqUChVEOrccSvtBkvfRd4cKu10NBrDZSnNLDl705Bfobzxz9pZ\nTaFvfGIg1pYm94dJlw8FnJmByN4Cnkwr94LaR0ESX8wmCBc5W3/KJguczdbDbf9L\nfhYDY37XoJT9aqTspi0SDzykxzkME+IPRMfBZbr2dfIynzV7y1yzKw4J5fewo+nm\nq4kpNOkK8GHDIle1ZtDMOX5ABpofGZJb934I3HyeU9ng8tWV7RE=\n=hbx/\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c2a5497e9943c592094834f8ea2d73f1b9e91dc7",
          "sha": "c2a5497e9943c592094834f8ea2d73f1b9e91dc7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c2a5497e9943c592094834f8ea2d73f1b9e91dc7"
        }
      ],
      "message": "doc: Add docstrings for ConnectBlock and SpendBlock",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-03T10:28:18Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-04-21T19:36:56Z"
      },
      "sha": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21328949969,
      "node_id": "HRFPE_lADOABII586zUH0-zwAAAAT3TfLR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21328949969",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "created_at": "2025-12-03T10:29:11Z"
    },
    {
      "event": "commented",
      "id": 3606147086,
      "node_id": "IC_kwDOABII587W8XAO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3606147086",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-03T10:29:20Z",
      "updated_at": "2025-12-03T10:29:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 6493e47fd8d32c030d553f791caa48fcdb848c0b -> a0e9578ec1ff1d8ec57f76a37e389aeeb554a639 ([spendblock_15](https://github.com/TheCharlatan/bitcoin/tree/spendblock_15) -> [spendblock_16](https://github.com/TheCharlatan/bitcoin/tree/spendblock_16), [compare](https://github.com/TheCharlatan/bitcoin/compare/spendblock_15..spendblock_16))\r\n\r\n* Fixed conflict with #33960",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#issuecomment-3606147086",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32317"
    },
    {
      "event": "unlabeled",
      "id": 21329129781,
      "node_id": "UNLE_lADOABII586zUH0-zwAAAAT3ULE1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21329129781",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-03T10:35:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "project_v2_item_status_changed",
      "id": 21548716623,
      "node_id": "PVTISC_lADOABII586zUH0-zwAAAAUEZ1JP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21548716623",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-14T13:10:20Z"
    },
    {
      "event": "reviewed",
      "id": 3587725625,
      "node_id": "PRR_kwDOABII587V2Fk5",
      "url": null,
      "actor": null,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-17T17:05:45Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\n\nACK first four commits, I think the remaining commits can even be made better.\ncomments are inline",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-3587725625",
      "submitted_at": "2025-12-17T17:05:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "reviewed",
      "id": 3603769464,
      "node_id": "PRR_kwDOABII587WzSh4",
      "url": null,
      "actor": null,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-22T11:55:12Z",
      "author_association": "MEMBER",
      "body": "Code review ACK a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#pullrequestreview-3603769464",
      "submitted_at": "2025-12-22T11:55:12Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
    },
    {
      "event": "review_requested",
      "id": 21703227200,
      "node_id": "RRE_lADOABII586zUH0-zwAAAAUNnPdA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21703227200",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T11:55:16Z",
      "requested_reviewer": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 21703227466,
      "node_id": "RRE_lADOABII586zUH0-zwAAAAUNnPhK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21703227466",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T11:55:17Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 21703227675,
      "node_id": "RRE_lADOABII586zUH0-zwAAAAUNnPkb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21703227675",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T11:55:18Z",
      "requested_reviewer": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052401069",
      "pull_request_review_id": 2781269268,
      "id": 2052401069,
      "node_id": "PRRC_kwDOABII5856VSet",
      "diff_hunk": "@@ -709,6 +709,9 @@ class Chainstate\n     bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n                       CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n+    bool SpendBlock(const CBlock& block, const CBlockIndex* pindex, const uint256& block_hash,",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "2be3c59151bcb840eb8cbd045a3dada6775ebc9e",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In 2be3c59151bcb840eb8cbd045a3dada6775ebc9e \"validation: Add SpendBlock function\": this or the final commit would be a good time to document both `SpendBlock` and `ConnectBlock`.\r\n\r\nIIUC `SpendBlock`:\r\n\r\n1. Checks that all spent coins existed\r\n i) including coins created and spent within the block, in that order\r\n3. Optimistically updates the UTXO set with newly created coins\r\n i) checks BIP30 (not in this order, but conceptually)\r\n4. Populates Undo data\r\n\r\nAnd then `ConnectBlock` does all the other consensus checks (like verifying the input scripts). It uses the Undo data populated by `SpendBlock` and does _not_ need the UTXO set.",
      "created_at": "2025-04-21T13:44:14Z",
      "updated_at": "2025-04-21T14:05:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2052401069",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052401069"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 737,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052668744",
      "pull_request_review_id": 2781698127,
      "id": 2052668744,
      "node_id": "PRRC_kwDOABII5856WT1I",
      "diff_hunk": "@@ -709,6 +709,9 @@ class Chainstate\n     bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n                       CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n+    bool SpendBlock(const CBlock& block, const CBlockIndex* pindex, const uint256& block_hash,",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "2be3c59151bcb840eb8cbd045a3dada6775ebc9e",
      "in_reply_to_id": 2052401069,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yes, that is the gist of it. Will add a commit at the end to add some documentation in the header. ",
      "created_at": "2025-04-21T16:15:45Z",
      "updated_at": "2025-04-21T16:15:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2052668744",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052668744"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 737,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052733269",
      "pull_request_review_id": 2781806044,
      "id": 2052733269,
      "node_id": "PRRC_kwDOABII5856WjlV",
      "diff_hunk": "@@ -706,8 +706,11 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+    bool ConnectBlock(const CBlock& block, const uint256& block_hash, BlockValidationState& state, CBlockIndex* pindex,\n+                      CBlockUndo& blockundo, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 7,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "c1b36c4554c486f77e2d64e23465aadd4d20c552",
      "in_reply_to_id": null,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think it would be clearer to take a vector of spent `Coin`s directly? Or even a span?",
      "created_at": "2025-04-21T17:14:05Z",
      "updated_at": "2025-04-21T17:14:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2052733269",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052733269"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 710,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052869871",
      "pull_request_review_id": 2782028456,
      "id": 2052869871,
      "node_id": "PRRC_kwDOABII5856XE7v",
      "diff_hunk": "@@ -706,8 +706,11 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+    bool ConnectBlock(const CBlock& block, const uint256& block_hash, BlockValidationState& state, CBlockIndex* pindex,\n+                      CBlockUndo& blockundo, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 7,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "c1b36c4554c486f77e2d64e23465aadd4d20c552",
      "in_reply_to_id": 2052733269,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I might be missing something, but it would have to be a span of `CTxUndo`, and you'd have to move `WriteBlockUndo` to `ConnectTip` too, no? I wasn't quite sure about doing that change here though. The implications of separately writing the undo data and raising the `BlockIndex` validity level are not quite clear to me yet. There is always a question where to draw the scope line with these refactors. While it might not be useful to write undo data if we ever get to the alternative kernel API client use cases, there might be other ways to handle that.",
      "created_at": "2025-04-21T19:02:33Z",
      "updated_at": "2025-04-21T19:02:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2052869871",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052869871"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 710,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052906047",
      "pull_request_review_id": 2782088168,
      "id": 2052906047,
      "node_id": "PRRC_kwDOABII5856XNw_",
      "diff_hunk": "@@ -706,8 +706,11 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+    bool ConnectBlock(const CBlock& block, const uint256& block_hash, BlockValidationState& state, CBlockIndex* pindex,\n+                      CBlockUndo& blockundo, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 7,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "c1b36c4554c486f77e2d64e23465aadd4d20c552",
      "in_reply_to_id": 2052733269,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Oh, i was just reading the diff and overlooked `WriteBlockUndo`! Yes that makes sense.",
      "created_at": "2025-04-21T19:37:42Z",
      "updated_at": "2025-04-21T19:37:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2052906047",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2052906047"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 710,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2053511978",
      "pull_request_review_id": 2783110836,
      "id": 2053511978,
      "node_id": "PRRC_kwDOABII5856Zhsq",
      "diff_hunk": "@@ -709,6 +709,9 @@ class Chainstate\n     bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n                       CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n+    bool SpendBlock(const CBlock& block, const CBlockIndex* pindex, const uint256& block_hash,",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "2be3c59151bcb840eb8cbd045a3dada6775ebc9e",
      "in_reply_to_id": 2052401069,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Added a commit.",
      "created_at": "2025-04-22T07:33:03Z",
      "updated_at": "2025-04-22T07:33:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2053511978",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2053511978"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 737,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2065965592",
      "pull_request_review_id": 2802813202,
      "id": 2065965592,
      "node_id": "PRRC_kwDOABII5857JCIY",
      "diff_hunk": "@@ -706,8 +706,36 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data, and raises the block validity in the block index.\n+     *\n+     * @param[in] block       The block to be validated\n+     * @param[in] block_hash  Hash of block\n+     * @param[in] blockundo   Has to contain all coins spent by block. Written to disk on successful validation\n+     * @param[out] state      This may be set to an Error state if any error occurred validating block\n+     * @param[out] pindex     Points to the block map entry associated with block. On successful validation, raises the block validity\n+     * @param[in] fJustCheck  If set, no data is written to disk and pindex's validity is not raised\n+     */\n+    bool ConnectBlock(const CBlock& block, const uint256& block_hash, const CBlockUndo& blockundo, BlockValidationState& state,\n+                      CBlockIndex* pindex, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Spends the coins associated with a block. First checks that the block\n+     * contains no duplicate transactions (BIP30), then for each transaction in\n+     * the block checks that the outputs it is spending exist, spends them, and\n+     * populates the CBlockUndo data structure.\n+     *\n+     * @param[in] block      The block to be spent\n+     * @param[in] pindex     Points to the block map entry associated with block\n+     * @param[in] block_hash Hash of block\n+     * @param[out] view      Its coins are spent and used to populate CBlockUndo during its execution",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 30,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: I think this is an `@param[in,out]`?\r\n\r\n",
      "created_at": "2025-04-29T09:54:43Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2065965592",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2065965592"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2066960211",
      "pull_request_review_id": 2802813202,
      "id": 2066960211,
      "node_id": "PRRC_kwDOABII5857M09T",
      "diff_hunk": "@@ -706,8 +706,36 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data, and raises the block validity in the block index.\n+     *\n+     * @param[in] block       The block to be validated\n+     * @param[in] block_hash  Hash of block",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 12,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I presume adding `block_hash` is done to avoid calculating `CBlockHeader::GetHash()` multiple times? Did you find that to have a measurable impact somewhere?\r\n\r\nI think the most elegant approach would be to implement caching inside `CBlockHeader::GetHash()` (if meaningful), but that would involve a pretty big LoC change making the `CBlockHeader` members private and adding getters.\r\n\r\nIf we stick with this approach, I think at least it should be documented that `block_hash` is duplicated for performance reasons.",
      "created_at": "2025-04-29T16:47:25Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2066960211",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2066960211"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 715,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075811232",
      "pull_request_review_id": 2802813202,
      "id": 2075811232,
      "node_id": "PRRC_kwDOABII5857ul2g",
      "diff_hunk": "@@ -14,6 +14,16 @@\n #include <util/check.h>\n #include <util/moneystr.h>\n \n+template <typename T>\n+static constexpr const Coin& GetCoin(const T& item)\n+{\n+    if constexpr (std::is_same_v<T, std::reference_wrapper<const Coin>>) {\n+        return item.get();\n+    } else {\n+        return item;\n+    }\n+}\n+",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 13,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Since `std::reference_wrapper<T>` implicitly converts to `T&`, I don't think we actually need this helper? At least it compiles fine on my machine. If you've found any compiler issues, perhaps documenting them would be good so we can remove it in the future?\r\n\r\n<details>\r\n<summary>git diff on 76a8f22c5c</summary>\r\n\r\n```diff\r\ndiff --git a/src/consensus/tx_verify.cpp b/src/consensus/tx_verify.cpp\r\nindex 97f8241089..f2a0259b23 100644\r\n--- a/src/consensus/tx_verify.cpp\r\n+++ b/src/consensus/tx_verify.cpp\r\n@@ -14,16 +14,6 @@\r\n #include <util/check.h>\r\n #include <util/moneystr.h>\r\n \r\n-template <typename T>\r\n-static constexpr const Coin& GetCoin(const T& item)\r\n-{\r\n-    if constexpr (std::is_same_v<T, std::reference_wrapper<const Coin>>) {\r\n-        return item.get();\r\n-    } else {\r\n-        return item;\r\n-    }\r\n-}\r\n-\r\n bool IsFinalTx(const CTransaction &tx, int nBlockHeight, int64_t nBlockTime)\r\n {\r\n     if (tx.nLockTime == 0)\r\n@@ -143,7 +133,7 @@ unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins)\r\n     Assert(coins.size() == tx.vin.size());\r\n     auto input_it = tx.vin.begin();\r\n     for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\r\n-        const Coin& coin{GetCoin(*it)};\r\n+        const Coin& coin{*it};\r\n         assert(!coin.IsSpent());\r\n         const CTxOut &prevout = coin.out;\r\n         if (prevout.scriptPubKey.IsPayToScriptHash())\r\n@@ -173,7 +163,7 @@ int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t\r\n     Assert(coins.size() == tx.vin.size());\r\n     auto input_it = tx.vin.begin();\r\n     for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\r\n-        const Coin& coin{GetCoin(*it)};\r\n+        const Coin& coin{*it};\r\n         assert(!coin.IsSpent());\r\n         const CTxOut &prevout = coin.out;\r\n         nSigOps += CountWitnessSigOps(input_it->scriptSig, prevout.scriptPubKey, &input_it->scriptWitness, flags);\r\n@@ -193,7 +183,7 @@ bool Consensus::CheckTxInputs(const CTransaction& tx, TxValidationState& state,\r\n     Assert(coins.size() == tx.vin.size());\r\n     auto input_it = tx.vin.begin();\r\n     for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\r\n-        const Coin& coin{GetCoin(*it)};\r\n+        const Coin& coin{*it};\r\n         assert(!coin.IsSpent());\r\n \r\n         // If prev is coinbase, check that it's matured\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2025-05-06T16:11:07Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2075811232",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075811232"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075895517",
      "pull_request_review_id": 2802813202,
      "id": 2075895517,
      "node_id": "PRRC_kwDOABII5857u6bd",
      "diff_hunk": "@@ -123,62 +133,73 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx)\n     return nSigOps;\n }\n \n-unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& inputs)\n+template <typename T>\n+unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins)\n {\n     if (tx.IsCoinBase())\n         return 0;\n \n     unsigned int nSigOps = 0;\n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n-    {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+    Assert(coins.size() == tx.vin.size());\n+    auto input_it = tx.vin.begin();\n+    for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\n+        const Coin& coin{GetCoin(*it)};\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n         if (prevout.scriptPubKey.IsPayToScriptHash())\n-            nSigOps += prevout.scriptPubKey.GetSigOpCount(tx.vin[i].scriptSig);\n+            nSigOps += prevout.scriptPubKey.GetSigOpCount(input_it->scriptSig);\n     }\n     return nSigOps;\n }\n \n-int64_t GetTransactionSigOpCost(const CTransaction& tx, const CCoinsViewCache& inputs, uint32_t flags)\n+template unsigned int GetP2SHSigOpCount<std::span<const Coin>>(\n+    const CTransaction& tx, const std::span<const Coin>);\n+\n+template unsigned int GetP2SHSigOpCount<std::span<std::reference_wrapper<const Coin>>>(\n+    const CTransaction& tx, const std::span<std::reference_wrapper<const Coin>>);\n+\n+template <typename T>\n+int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t flags)",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 53,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: for non-trivial functions, I think it helps to narrow down `T` instead of having to deduct it from its callsites and usage.\r\n\r\nWhat do you think about adding an `IsCoinRef` concept, and adding `std::span` to the function signature?\r\n\r\n<details>\r\n<summary>git diff on 76a8f22c5c</summary>\r\n\r\n```diff\r\ndiff --git a/src/consensus/tx_verify.cpp b/src/consensus/tx_verify.cpp\r\nindex 97f8241089..ab27387cc4 100644\r\n--- a/src/consensus/tx_verify.cpp\r\n+++ b/src/consensus/tx_verify.cpp\r\n@@ -14,6 +14,8 @@\r\n #include <util/check.h>\r\n #include <util/moneystr.h>\r\n \r\n+#include <span>\r\n+\r\n template <typename T>\r\n static constexpr const Coin& GetCoin(const T& item)\r\n {\r\n@@ -158,8 +160,8 @@ template unsigned int GetP2SHSigOpCount<std::span<const Coin>>(\r\n template unsigned int GetP2SHSigOpCount<std::span<std::reference_wrapper<const Coin>>>(\r\n     const CTransaction& tx, const std::span<std::reference_wrapper<const Coin>>);\r\n \r\n-template <typename T>\r\n-int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t flags)\r\n+template<IsCoinRef CoinRef>\r\n+int64_t GetTransactionSigOpCost(const CTransaction& tx, std::span<CoinRef> coins, uint32_t flags)\r\n {\r\n     int64_t nSigOps = GetLegacySigOpCount(tx) * WITNESS_SCALE_FACTOR;\r\n \r\n@@ -172,18 +174,18 @@ int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t\r\n \r\n     Assert(coins.size() == tx.vin.size());\r\n     auto input_it = tx.vin.begin();\r\n-    for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\r\n-        const Coin& coin{GetCoin(*it)};\r\n+    for (const Coin& coin : coins) {\r\n         assert(!coin.IsSpent());\r\n         const CTxOut &prevout = coin.out;\r\n         nSigOps += CountWitnessSigOps(input_it->scriptSig, prevout.scriptPubKey, &input_it->scriptWitness, flags);\r\n+        ++input_it;\r\n     }\r\n     return nSigOps;\r\n }\r\n-template int64_t GetTransactionSigOpCost<std::span<const Coin>>(\r\n+template int64_t GetTransactionSigOpCost<const Coin>(\r\n     const CTransaction& tx, std::span<const Coin> coins, uint32_t flags);\r\n \r\n-template int64_t GetTransactionSigOpCost<std::span<std::reference_wrapper<const Coin>>>(\r\n+template int64_t GetTransactionSigOpCost<std::reference_wrapper<const Coin>>(\r\n     const CTransaction& tx, const std::span<std::reference_wrapper<const Coin>> coins, uint32_t flags);\r\n \r\n template <typename T>\r\ndiff --git a/src/consensus/tx_verify.h b/src/consensus/tx_verify.h\r\nindex 88b2d6164b..b8ab114306 100644\r\n--- a/src/consensus/tx_verify.h\r\n+++ b/src/consensus/tx_verify.h\r\n@@ -48,6 +48,8 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx);\r\n template <typename T>\r\n unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins);\r\n \r\n+template<typename T>\r\n+concept IsCoinRef = std::convertible_to<T, const Coin&>;\r\n /**\r\n  * Compute total signature operation cost of a transaction.\r\n  * @param[in] tx    Transaction for which we are computing the cost\r\n@@ -55,8 +57,8 @@ unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins);\r\n  * @param[in] flags Script verification flags\r\n  * @return Total signature operation cost of tx\r\n  */\r\n-template <typename T>\r\n-int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t flags);\r\n+template<IsCoinRef CoinRef>\r\n+int64_t GetTransactionSigOpCost(const CTransaction& tx, std::span<CoinRef> coins, uint32_t flags);\r\n \r\n /**\r\n  * Check if transaction is final and can be included in a block with the\r\n\r\n```\r\n</details>\r\n\r\n(the same applies for `GetLegacySigOpCount` and `GetP2SHSigOpCount`)\r\n\r\n_edit: I see this is already (partially) suggested and addressed in https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2078426205, I think adding the `IsCoinRef` concept could still be nice but less important than specifying the `std::span`_",
      "created_at": "2025-05-06T16:49:40Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2075895517",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075895517"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077901694",
      "pull_request_review_id": 2802813202,
      "id": 2077901694,
      "node_id": "PRRC_kwDOABII58572kN-",
      "diff_hunk": "@@ -160,6 +160,29 @@ const Coin& CCoinsViewCache::AccessCoin(const COutPoint &outpoint) const {\n     }\n }\n \n+std::vector<std::reference_wrapper<const Coin>> CCoinsViewCache::AccessCoins(const CTransaction& tx) const\n+{\n+    std::vector<std::reference_wrapper<const Coin>> coins;\n+    coins.reserve(tx.vin.size());\n+    for (const CTxIn& input : tx.vin) {\n+        coins.emplace_back(AccessCoin(input.prevout));\n+    }\n+    return coins;\n+}\n+\n+std::vector<CTxOut> CCoinsViewCache::GetUnspentOutputs(const CTransaction& tx) const\n+{\n+    std::vector<CTxOut> spent_outputs;\n+    spent_outputs.reserve(tx.vin.size());\n+    for (const auto& txin : tx.vin) {\n+        const COutPoint& prevout = txin.prevout;\n+        const Coin& coin = AccessCoin(prevout);\n+        assert(!coin.IsSpent());\n+        spent_outputs.emplace_back(coin.out);\n+    }",
      "path": "src/coins.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think you can use `AccessCoins` here?\r\n\r\n```suggestion\r\n    for (const Coin& coin : AccessCoins(tx)) {\r\n        assert(!coin.IsSpent());\r\n        spent_outputs.emplace_back(coin.out);\r\n    }\r\n```",
      "created_at": "2025-05-07T15:17:42Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2077901694",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077901694"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 180,
      "original_start_line": 177,
      "start_side": "RIGHT",
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077904740",
      "pull_request_review_id": 2802813202,
      "id": 2077904740,
      "node_id": "PRRC_kwDOABII58572k9k",
      "diff_hunk": "@@ -160,6 +160,29 @@ const Coin& CCoinsViewCache::AccessCoin(const COutPoint &outpoint) const {\n     }\n }\n \n+std::vector<std::reference_wrapper<const Coin>> CCoinsViewCache::AccessCoins(const CTransaction& tx) const\n+{\n+    std::vector<std::reference_wrapper<const Coin>> coins;\n+    coins.reserve(tx.vin.size());\n+    for (const CTxIn& input : tx.vin) {\n+        coins.emplace_back(AccessCoin(input.prevout));\n+    }\n+    return coins;\n+}\n+\n+std::vector<CTxOut> CCoinsViewCache::GetUnspentOutputs(const CTransaction& tx) const\n+{\n+    std::vector<CTxOut> spent_outputs;\n+    spent_outputs.reserve(tx.vin.size());\n+    for (const auto& txin : tx.vin) {\n+        const COutPoint& prevout = txin.prevout;\n+        const Coin& coin = AccessCoin(prevout);\n+        assert(!coin.IsSpent());\n+        spent_outputs.emplace_back(coin.out);\n+    }",
      "path": "src/coins.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2077901694,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: inconsistent naming between `GetUnspentOutputs` and `spent_outputs`.",
      "created_at": "2025-05-07T15:19:07Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2077904740",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077904740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 180,
      "original_start_line": 177,
      "start_side": "RIGHT",
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2078426205",
      "pull_request_review_id": 2823102316,
      "id": 2078426205,
      "node_id": "PRRC_kwDOABII58574kRd",
      "diff_hunk": "@@ -39,11 +40,12 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx);\n /**\n  * Count ECDSA signature operations in pay-to-script-hash inputs.\n  *\n- * @param[in] mapInputs Map of previous transactions that have outputs we're spending\n+ * @param[in] coins Sorted span of Coins containing previous transaction outputs we're spending\n  * @return maximum number of sigops required to validate this transaction's inputs\n  * @see CTransaction::FetchInputs\n  */\n-unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& mapInputs);\n+template <typename T>\n+unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins);",
      "path": "src/consensus/tx_verify.h",
      "position": 1,
      "original_position": 19,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "a7e41326234d3a381fdde0924af74c6561b10798",
      "in_reply_to_id": null,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Small nit: I was thinking maybe we could make the template parameter more specific like:\r\n\r\n```cpp\r\ntemplate <typename T>\r\nunsigned int GetP2SHSigOpCount(const CTransaction& tx, const std::span<T> coins)\r\n```\r\n\r\nThis might better align with the \"Sorted span\" mentioned in the docs, where T would then be either `const Coin` or `std::reference_wrapper<const Coin>`. It might also make the implementation slightly more readable when calling iterator methods on the `coins` parameter.",
      "created_at": "2025-05-07T20:15:47Z",
      "updated_at": "2025-05-07T20:28:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2078426205",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2078426205"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 43,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080154034",
      "pull_request_review_id": 2802813202,
      "id": 2080154034,
      "node_id": "PRRC_kwDOABII5857_KGy",
      "diff_hunk": "@@ -706,8 +706,36 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data, and raises the block validity in the block index.",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 9,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n     * undo data to disk, and raises the block validity in the block index.\r\n```",
      "created_at": "2025-05-08T17:30:13Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2080154034",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2080154034"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 712,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083107119",
      "pull_request_review_id": 2830723082,
      "id": 2083107119,
      "node_id": "PRRC_kwDOABII5858KbEv",
      "diff_hunk": "@@ -2161,7 +2172,7 @@ ValidationCache::ValidationCache(const size_t script_execution_cache_bytes, cons\n  * Non-static (and redeclared) in src/test/txvalidationcache_tests.cpp\n  */\n bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\n-                       const CCoinsViewCache& inputs, unsigned int flags, bool cacheSigStore,\n+                       std::vector<CTxOut>&& spent_outputs, unsigned int flags, bool cacheSigStore,\n                        bool cacheFullScriptStore, PrecomputedTransactionData& txdata,",
      "path": "src/validation.cpp",
      "position": 71,
      "original_position": 79,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": null,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is there a reason we keep passing the `spent_outputs` instead of removing it (to simplify the API) and requiring callers to initialize `txdata` before calling `CheckInputScripts`?",
      "created_at": "2025-05-10T10:51:13Z",
      "updated_at": "2025-05-10T10:51:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2083107119",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083107119"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2087,
      "original_start_line": 2174,
      "start_side": "RIGHT",
      "line": 2089,
      "original_line": 2089,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083129268",
      "pull_request_review_id": 2830768309,
      "id": 2083129268,
      "node_id": "PRRC_kwDOABII5858Kge0",
      "diff_hunk": "@@ -39,11 +40,12 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx);\n /**\n  * Count ECDSA signature operations in pay-to-script-hash inputs.\n  *\n- * @param[in] mapInputs Map of previous transactions that have outputs we're spending\n+ * @param[in] coins Sorted span of Coins containing previous transaction outputs we're spending\n  * @return maximum number of sigops required to validate this transaction's inputs\n  * @see CTransaction::FetchInputs\n  */\n-unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& mapInputs);\n+template <typename T>\n+unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins);",
      "path": "src/consensus/tx_verify.h",
      "position": 1,
      "original_position": 19,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "a7e41326234d3a381fdde0924af74c6561b10798",
      "in_reply_to_id": 2078426205,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yeah, that seems better. I had another version of this that tried to enforce everything through concepts, but thought that didn't really help with keeping things clear, so just dropped all the fancy type hints altogether.",
      "created_at": "2025-05-10T12:16:17Z",
      "updated_at": "2025-05-10T12:38:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2083129268",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083129268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 43,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083133917",
      "pull_request_review_id": 2830768309,
      "id": 2083133917,
      "node_id": "PRRC_kwDOABII5858Khnd",
      "diff_hunk": "@@ -2161,7 +2172,7 @@ ValidationCache::ValidationCache(const size_t script_execution_cache_bytes, cons\n  * Non-static (and redeclared) in src/test/txvalidationcache_tests.cpp\n  */\n bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\n-                       const CCoinsViewCache& inputs, unsigned int flags, bool cacheSigStore,\n+                       std::vector<CTxOut>&& spent_outputs, unsigned int flags, bool cacheSigStore,\n                        bool cacheFullScriptStore, PrecomputedTransactionData& txdata,",
      "path": "src/validation.cpp",
      "position": 71,
      "original_position": 79,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2083107119,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "My read is that the call to `txdata.Init` is delayed to after checking the script execution cache for performance reasons. Calling `Init` does some hashing, that would not be required if it is already in the cache. Moving the `spent_outputs` vector construction is already a potential performance downside for potential cache hits, though I think that is more acceptable in the grand scheme of things.",
      "created_at": "2025-05-10T12:38:40Z",
      "updated_at": "2025-05-10T12:38:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2083133917",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083133917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2087,
      "original_start_line": 2174,
      "start_side": "RIGHT",
      "line": 2089,
      "original_line": 2089,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083615207",
      "pull_request_review_id": 2831498521,
      "id": 2083615207,
      "node_id": "PRRC_kwDOABII5858MXHn",
      "diff_hunk": "@@ -2161,7 +2172,7 @@ ValidationCache::ValidationCache(const size_t script_execution_cache_bytes, cons\n  * Non-static (and redeclared) in src/test/txvalidationcache_tests.cpp\n  */\n bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\n-                       const CCoinsViewCache& inputs, unsigned int flags, bool cacheSigStore,\n+                       std::vector<CTxOut>&& spent_outputs, unsigned int flags, bool cacheSigStore,\n                        bool cacheFullScriptStore, PrecomputedTransactionData& txdata,",
      "path": "src/validation.cpp",
      "position": 71,
      "original_position": 79,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2083107119,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Oh, it makes sense. Thanks for the insights.",
      "created_at": "2025-05-11T20:34:28Z",
      "updated_at": "2025-05-11T20:34:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2083615207",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2083615207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2087,
      "original_start_line": 2174,
      "start_side": "RIGHT",
      "line": 2089,
      "original_line": 2089,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086974181",
      "pull_request_review_id": 2802813202,
      "id": 2086974181,
      "node_id": "PRRC_kwDOABII5858ZLLl",
      "diff_hunk": "@@ -2642,19 +2549,19 @@ bool Chainstate::ConnectBlock(const CBlock& block, BlockValidationState& state,\n     CAmount nFees = 0;\n     int nInputs = 0;\n     int64_t nSigOpsCost = 0;\n-    blockundo.vtxundo.reserve(block.vtx.size() - 1);\n     for (unsigned int i = 0; i < block.vtx.size(); i++)\n     {\n         if (!state.IsValid()) break;\n         const CTransaction &tx = *(block.vtx[i]);\n-\n         nInputs += tx.vin.size();\n \n         if (!tx.IsCoinBase())\n         {\n+            auto spent_coins = std::span<const Coin>{blockundo.vtxundo[i - 1].vprevout};",
      "path": "src/validation.cpp",
      "position": 248,
      "original_position": 249,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This is UB if e.g. blockundo is not populated, would add a size assertion at the beginning:\r\n\r\n<details>\r\n<summary>git diff on 16a695fbff</summary>\r\n\r\n```diff\r\ndiff --git a/src/validation.cpp b/src/validation.cpp\r\nindex adec151e14..20e1dc6482 100644\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -2446,6 +2446,7 @@ bool Chainstate::ConnectBlock(const CBlock& block, const uint256& block_hash, co\r\n     assert(pindex);\r\n     Assume(block.GetHash() == block_hash);\r\n     assert(*pindex->phashBlock == block_hash);\r\n+    assert(block.vtx.size() == blockundo.vtxundo.size() + 1);  // blockundo does not contain a CTxUndo for the coinbase\r\n     const bool parallel_script_checks{m_chainman.GetCheckQueue().HasThreads()};\r\n \r\n     const auto time_start{SteadyClock::now()};\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2025-05-13T14:29:46Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086974181",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086974181"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2449,
      "original_line": 2449,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086978979",
      "pull_request_review_id": 2802813202,
      "id": 2086978979,
      "node_id": "PRRC_kwDOABII5858ZMWj",
      "diff_hunk": "@@ -2437,13 +2439,12 @@ static unsigned int GetBlockScriptFlags(const CBlockIndex& block_index, const Ch\n /** Apply the effects of this block (with given index) on the UTXO set represented by coins.\n  *  Validity checks that depend on the UTXO set are also done; ConnectBlock()",
      "path": "src/validation.cpp",
      "position": 1,
      "original_position": 100,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Validity checks that depend on the UTXO set are also done\r\n\r\nnit: I don't think that's correct anymore?",
      "created_at": "2025-05-13T14:31:52Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086978979",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086978979"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2440,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086983097",
      "pull_request_review_id": 2802813202,
      "id": 2086983097,
      "node_id": "PRRC_kwDOABII5858ZNW5",
      "diff_hunk": "@@ -706,8 +706,36 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data, and raises the block validity in the block index.\n+     *\n+     * @param[in] block       The block to be validated\n+     * @param[in] block_hash  Hash of block\n+     * @param[in] blockundo   Has to contain all coins spent by block. Written to disk on successful validation\n+     * @param[out] state      This may be set to an Error state if any error occurred validating block",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 14,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n     * @param[out] state      This is set to an Error state if any error occurred while validating block\r\n```",
      "created_at": "2025-05-13T14:33:45Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086983097",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086983097"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 717,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086984869",
      "pull_request_review_id": 2802813202,
      "id": 2086984869,
      "node_id": "PRRC_kwDOABII5858ZNyl",
      "diff_hunk": "@@ -706,8 +706,36 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data, and raises the block validity in the block index.\n+     *\n+     * @param[in] block       The block to be validated\n+     * @param[in] block_hash  Hash of block\n+     * @param[in] blockundo   Has to contain all coins spent by block. Written to disk on successful validation\n+     * @param[out] state      This may be set to an Error state if any error occurred validating block\n+     * @param[out] pindex     Points to the block map entry associated with block. On successful validation, raises the block validity",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 15,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: grammar change to highlight that `pindex` can be mutated here\r\n```suggestion\r\n     * @param[out] pindex     Points to the block map entry associated with block. On successful validation, its nStatus block validity is raised\r\n```",
      "created_at": "2025-05-13T14:34:38Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2086984869",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086984869"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 718,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087131632",
      "pull_request_review_id": 2802813202,
      "id": 2087131632,
      "node_id": "PRRC_kwDOABII5858Zxnw",
      "diff_hunk": "@@ -124,6 +124,9 @@ static void ValidateCheckInputsForAllFlags(const CTransaction &tx, uint32_t fail\n {\n     PrecomputedTransactionData txdata;\n \n+    std::vector<CTxOut> spent_outputs{active_coins_tip.GetUnspentOutputs(tx)};\n+    txdata.Init(tx, std::move(spent_outputs));",
      "path": "src/test/txvalidationcache_tests.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In a way, it's a bit silly to add a parameter to the `CheckInputScripts` signature to then just move it into another parameter (`txdata`). An alternative approach could be to let the caller handle this, and `assert txdata.m_spent_outputs_ready`, but that could raise runtime assertion errors instead of catching them at compile time.",
      "created_at": "2025-05-13T15:39:14Z",
      "updated_at": "2025-05-13T15:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087131632",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087131632"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 127,
      "original_start_line": 127,
      "start_side": "RIGHT",
      "line": 128,
      "original_line": 128,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087260406",
      "pull_request_review_id": 2837500946,
      "id": 2087260406,
      "node_id": "PRRC_kwDOABII5858aRD2",
      "diff_hunk": "@@ -124,6 +124,9 @@ static void ValidateCheckInputsForAllFlags(const CTransaction &tx, uint32_t fail\n {\n     PrecomputedTransactionData txdata;\n \n+    std::vector<CTxOut> spent_outputs{active_coins_tip.GetUnspentOutputs(tx)};\n+    txdata.Init(tx, std::move(spent_outputs));",
      "path": "src/test/txvalidationcache_tests.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": 2087131632,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "As @TheCharlatan noted [here](https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2083133917), delaying `txdata.Init` could be on purpose for the potential cache hit [here](https://github.com/TheCharlatan/bitcoin/blob/16a695fbff4a92eba3eb72ec6aa766e71c52f773/src/validation.cpp#L2195:L2201). I wonder if there is a cleaner version for achieving the same goal though.\r\n \r\n",
      "created_at": "2025-05-13T16:53:39Z",
      "updated_at": "2025-05-13T16:53:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087260406",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087260406"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 127,
      "original_start_line": 127,
      "start_side": "RIGHT",
      "line": 128,
      "original_line": 128,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087263016",
      "pull_request_review_id": 2837505066,
      "id": 2087263016,
      "node_id": "PRRC_kwDOABII5858aRso",
      "diff_hunk": "@@ -14,6 +14,16 @@\n #include <util/check.h>\n #include <util/moneystr.h>\n \n+template <typename T>\n+static constexpr const Coin& GetCoin(const T& item)\n+{\n+    if constexpr (std::is_same_v<T, std::reference_wrapper<const Coin>>) {\n+        return item.get();\n+    } else {\n+        return item;\n+    }\n+}\n+",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 13,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2075811232,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It compiles for me as well.",
      "created_at": "2025-05-13T16:55:20Z",
      "updated_at": "2025-05-13T16:55:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087263016",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087263016"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087539901",
      "pull_request_review_id": 2837977865,
      "id": 2087539901,
      "node_id": "PRRC_kwDOABII5858bVS9",
      "diff_hunk": "@@ -2687,7 +2594,12 @@ bool Chainstate::ConnectBlock(const CBlock& block, BlockValidationState& state,\n         // * legacy (always)\n         // * p2sh (when P2SH enabled in flags and excludes coinbase)\n         // * witness (when witness enabled in flags and excludes coinbase)\n-        nSigOpsCost += GetTransactionSigOpCost(tx, view, flags);\n+        if (!tx.IsCoinBase()) {\n+            nSigOpsCost += GetTransactionSigOpCost(tx, std::span<const Coin>{blockundo.vtxundo[i - 1].vprevout}, flags);\n+        } else {\n+            std::vector<Coin> coin;\n+            nSigOpsCost += GetTransactionSigOpCost(tx, std::span<const Coin>{coin}, flags);",
      "path": "src/validation.cpp",
      "position": 1,
      "original_position": 276,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Looks like we have an early return in `GetTransactionSigOpCost` for coinbase tx and no use for `coins` span; so maybe we could just pass an empty span here?\r\n```suggestion\r\n            nSigOpsCost += GetTransactionSigOpCost<const Coin>(tx, {}, flags);\r\n```",
      "created_at": "2025-05-13T20:01:17Z",
      "updated_at": "2025-05-13T20:59:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087539901",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087539901"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 2600,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2601,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087577718",
      "pull_request_review_id": 2837977865,
      "id": 2087577718,
      "node_id": "PRRC_kwDOABII5858beh2",
      "diff_hunk": "@@ -123,62 +135,73 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx)\n     return nSigOps;\n }\n \n-unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& inputs)\n+template <typename T>\n+unsigned int GetP2SHSigOpCount(const CTransaction& tx, const std::span<T> coins)\n {\n     if (tx.IsCoinBase())\n         return 0;\n \n     unsigned int nSigOps = 0;\n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n-    {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+    Assert(coins.size() == tx.vin.size());\n+    auto input_it = tx.vin.begin();\n+    for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\n+        const Coin& coin{GetCoin(*it)};\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n         if (prevout.scriptPubKey.IsPayToScriptHash())\n-            nSigOps += prevout.scriptPubKey.GetSigOpCount(tx.vin[i].scriptSig);\n+            nSigOps += prevout.scriptPubKey.GetSigOpCount(input_it->scriptSig);\n     }\n     return nSigOps;\n }\n \n-int64_t GetTransactionSigOpCost(const CTransaction& tx, const CCoinsViewCache& inputs, uint32_t flags)\n+template unsigned int GetP2SHSigOpCount<const Coin>(\n+    const CTransaction& tx, const std::span<const Coin>);\n+\n+template unsigned int GetP2SHSigOpCount<std::reference_wrapper<const Coin>>(\n+    const CTransaction& tx, const std::span<std::reference_wrapper<const Coin>>);\n+\n+template <typename T>\n+int64_t GetTransactionSigOpCost(const CTransaction& tx, const std::span<T> coins, uint32_t flags)\n {\n     int64_t nSigOps = GetLegacySigOpCount(tx) * WITNESS_SCALE_FACTOR;\n \n     if (tx.IsCoinBase())\n         return nSigOps;\n \n     if (flags & SCRIPT_VERIFY_P2SH) {\n-        nSigOps += GetP2SHSigOpCount(tx, inputs) * WITNESS_SCALE_FACTOR;\n+        nSigOps += GetP2SHSigOpCount(tx, coins) * WITNESS_SCALE_FACTOR;\n     }\n \n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n-    {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+    Assert(coins.size() == tx.vin.size());\n+    auto input_it = tx.vin.begin();\n+    for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\n+        const Coin& coin{GetCoin(*it)};\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n-        nSigOps += CountWitnessSigOps(tx.vin[i].scriptSig, prevout.scriptPubKey, &tx.vin[i].scriptWitness, flags);\n+        nSigOps += CountWitnessSigOps(input_it->scriptSig, prevout.scriptPubKey, &input_it->scriptWitness, flags);\n     }\n     return nSigOps;\n }\n+template int64_t GetTransactionSigOpCost<const Coin>(\n+    const CTransaction& tx, std::span<const Coin> coins, uint32_t flags);\n \n-bool Consensus::CheckTxInputs(const CTransaction& tx, TxValidationState& state, const CCoinsViewCache& inputs, int nSpendHeight, CAmount& txfee)\n-{\n-    // are the actual inputs available?\n-    if (!inputs.HaveInputs(tx)) {\n-        return state.Invalid(TxValidationResult::TX_MISSING_INPUTS, \"bad-txns-inputs-missingorspent\",\n-                         strprintf(\"%s: inputs missing/spent\", __func__));\n-    }",
      "path": "src/consensus/tx_verify.cpp",
      "position": 80,
      "original_position": 90,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Do we need to update the [documentation](https://github.com/TheCharlatan/bitcoin/blob/16a695fbff4a92eba3eb72ec6aa766e71c52f773/src/consensus/tx_verify.h#L24:L31) for `CheckTxInputs` now that the input existence check is removed from it? ",
      "created_at": "2025-05-13T20:25:55Z",
      "updated_at": "2025-05-13T20:59:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087577718",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087577718"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 164,
      "original_start_line": 164,
      "start_side": "LEFT",
      "line": 170,
      "original_line": 170,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087608225",
      "pull_request_review_id": 2837977865,
      "id": 2087608225,
      "node_id": "PRRC_kwDOABII5858bl-h",
      "diff_hunk": "@@ -3006,6 +2919,154 @@ static void UpdateTipLog(\n         !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(\n+    const CBlock& block,\n+    const CBlockIndex* pindex,\n+    const uint256& block_hash,\n+    CCoinsViewCache& view,\n+    BlockValidationState& state,\n+    CBlockUndo& blockundo)\n+{\n+    AssertLockHeld(cs_main);\n+    assert(pindex);\n+    Assume(block.GetHash() == block_hash);\n+    assert(*pindex->phashBlock == block_hash);\n+\n+    const CChainParams& params{m_chainman.GetParams()};\n+    // Special case for the genesis block, skipping connection of its transactions\n+    // (its coinbase is unspendable)\n+    if (block_hash == params.GetConsensus().hashGenesisBlock) {\n+        return true;\n+    }\n+\n+    // verify that the view's current state corresponds to the previous block\n+    uint256 hashPrevBlock = pindex->pprev == nullptr ? uint256() : pindex->pprev->GetBlockHash();\n+    assert(hashPrevBlock == view.GetBestBlock());\n+\n+    const auto time_start{SteadyClock::now()};\n+\n+    // Do not allow blocks that contain transactions which 'overwrite' older transactions,\n+    // unless those are already completely spent.\n+    // If such overwrites are allowed, coinbases and transactions depending upon those\n+    // can be duplicated to remove the ability to spend the first instance -- even after\n+    // being sent to another address.\n+    // See BIP30, CVE-2012-1909, and http://r6.ca/blog/20120206T005236Z.html for more information.\n+    // This rule was originally applied to all blocks with a timestamp after March 15, 2012, 0:00 UTC.\n+    // Now that the whole chain is irreversibly beyond that time it is applied to all blocks except the\n+    // two in the chain that violate it. This prevents exploiting the issue against nodes during their\n+    // initial block download.\n+    bool fEnforceBIP30 = !IsBIP30Repeat(*pindex);\n+\n+    // Once BIP34 activated it was not possible to create new duplicate coinbases and thus other than starting\n+    // with the 2 existing duplicate coinbase pairs, not possible to create overwriting txs.  But by the\n+    // time BIP34 activated, in each of the existing pairs the duplicate coinbase had overwritten the first\n+    // before the first had been spent.  Since those coinbases are sufficiently buried it's no longer possible to create further\n+    // duplicate transactions descending from the known pairs either.\n+    // If we're on the known chain at height greater than where BIP34 activated, we can save the db accesses needed for the BIP30 check.\n+\n+    // BIP34 requires that a block at height X (block X) has its coinbase\n+    // scriptSig start with a CScriptNum of X (indicated height X).  The above\n+    // logic of no longer requiring BIP30 once BIP34 activates is flawed in the\n+    // case that there is a block X before the BIP34 height of 227,931 which has\n+    // an indicated height Y where Y is greater than X.  The coinbase for block\n+    // X would also be a valid coinbase for block Y, which could be a BIP30\n+    // violation.  An exhaustive search of all mainnet coinbases before the\n+    // BIP34 height which have an indicated height greater than the block height\n+    // reveals many occurrences. The 3 lowest indicated heights found are\n+    // 209,921, 490,897, and 1,983,702 and thus coinbases for blocks at these 3\n+    // heights would be the first opportunity for BIP30 to be violated.\n+\n+    // The search reveals a great many blocks which have an indicated height\n+    // greater than 1,983,702, so we simply remove the optimization to skip\n+    // BIP30 checking for blocks at height 1,983,702 or higher.  Before we reach\n+    // that block in another 25 years or so, we should take advantage of a\n+    // future consensus change to do a new and improved version of BIP34 that\n+    // will actually prevent ever creating any duplicate coinbases in the\n+    // future.\n+    static constexpr int BIP34_IMPLIES_BIP30_LIMIT = 1983702;\n+\n+    // There is no potential to create a duplicate coinbase at block 209,921\n+    // because this is still before the BIP34 height and so explicit BIP30\n+    // checking is still active.\n+\n+    // The final case is block 176,684 which has an indicated height of\n+    // 490,897. Unfortunately, this issue was not discovered until about 2 weeks\n+    // before block 490,897 so there was not much opportunity to address this\n+    // case other than to carefully analyze it and determine it would not be a\n+    // problem. Block 490,897 was, in fact, mined with a different coinbase than\n+    // block 176,684, but it is important to note that even if it hadn't been or\n+    // is remined on an alternate fork with a duplicate coinbase, we would still\n+    // not run into a BIP30 violation.  This is because the coinbase for 176,684\n+    // is spent in block 185,956 in transaction\n+    // d4f7fbbf92f4a3014a230b2dc70b8058d02eb36ac06b4a0736d9d60eaa9e8781.  This\n+    // spending transaction can't be duplicated because it also spends coinbase\n+    // 0328dd85c331237f18e781d692c92de57649529bd5edf1d01036daea32ffde29.  This\n+    // coinbase has an indicated height of over 4.2 billion, and wouldn't be\n+    // duplicatable until that height, and it's currently impossible to create a\n+    // chain that long. Nevertheless we may wish to consider a future soft fork\n+    // which retroactively prevents block 490,897 from creating a duplicate\n+    // coinbase. The two historical BIP30 violations often provide a confusing\n+    // edge case when manipulating the UTXO and it would be simpler not to have\n+    // another edge case to deal with.\n+\n+    // testnet3 has no blocks before the BIP34 height with indicated heights\n+    // post BIP34 before approximately height 486,000,000. After block\n+    // 1,983,702 testnet3 starts doing unnecessary BIP30 checking again.\n+    assert(pindex->pprev);\n+    CBlockIndex* pindexBIP34height = pindex->pprev->GetAncestor(params.GetConsensus().BIP34Height);\n+    //Only continue to enforce if we're below BIP34 activation height or the block hash at that height doesn't correspond.\n+    fEnforceBIP30 = fEnforceBIP30 && (!pindexBIP34height || !(pindexBIP34height->GetBlockHash() == params.GetConsensus().BIP34Hash));\n+\n+    // TODO: Remove BIP30 checking from block height 1,983,702 on, once we have a\n+    // consensus change that ensures coinbases at those heights cannot\n+    // duplicate earlier coinbases.\n+    if (fEnforceBIP30 || pindex->nHeight >= BIP34_IMPLIES_BIP30_LIMIT) {\n+        for (const auto& tx : block.vtx) {\n+            for (size_t o = 0; o < tx->vout.size(); o++) {\n+                if (view.HaveCoin(COutPoint(tx->GetHash(), o))) {\n+                    return state.Invalid(BlockValidationResult::BLOCK_CONSENSUS, \"bad-txns-BIP30\",\n+                                  \"tried to overwrite transaction\");\n+                }\n+            }\n+        }\n+    }",
      "path": "src/validation.cpp",
      "position": 441,
      "original_position": 437,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": null,
      "user": {
        "login": "stringintech",
        "id": 157148846,
        "node_id": "U_kgDOCV3mrg",
        "avatar_url": "https://avatars.githubusercontent.com/u/157148846?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stringintech",
        "html_url": "https://github.com/stringintech",
        "followers_url": "https://api.github.com/users/stringintech/followers",
        "following_url": "https://api.github.com/users/stringintech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stringintech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stringintech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stringintech/subscriptions",
        "organizations_url": "https://api.github.com/users/stringintech/orgs",
        "repos_url": "https://api.github.com/users/stringintech/repos",
        "events_url": "https://api.github.com/users/stringintech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stringintech/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit 5908680, the description mentions: \"By returning early in case of a BIP30 validation failure, an additional failure check for an invalid block reward in case of its failure is left out.\"\r\n\r\nTo validate my understanding: there are also other checks in `ConnectBlock` before the `!state.IsValid()` check that we may have skipped because of the early return when `SpendBlock` fails - including transaction input validation, script verification, fee range checks, ...; Is that correct?\r\n\r\nIt makes sense to me not to proceed with additional validation if `SpendBlock` already detects a consensus failure, but I'm curious why the previous code continued checking for other consensus violations even after detecting an early BIP30 failure?",
      "created_at": "2025-05-13T20:47:07Z",
      "updated_at": "2025-05-13T20:59:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2087608225",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2087608225"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2909,
      "original_start_line": 3023,
      "start_side": "RIGHT",
      "line": 2918,
      "original_line": 2918,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088470479",
      "pull_request_review_id": 2839409498,
      "id": 2088470479,
      "node_id": "PRRC_kwDOABII5858e4fP",
      "diff_hunk": "@@ -706,8 +706,36 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data, and raises the block validity in the block index.\n+     *\n+     * @param[in] block       The block to be validated\n+     * @param[in] block_hash  Hash of block",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 12,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2066960211,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yes, that is it. I don't think this will actually matter in the grand scheme. I think I'll drop it again.",
      "created_at": "2025-05-14T09:15:27Z",
      "updated_at": "2025-05-14T09:15:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2088470479",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088470479"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 715,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088486315",
      "pull_request_review_id": 2839434209,
      "id": 2088486315,
      "node_id": "PRRC_kwDOABII5858e8Wr",
      "diff_hunk": "@@ -14,6 +14,16 @@\n #include <util/check.h>\n #include <util/moneystr.h>\n \n+template <typename T>\n+static constexpr const Coin& GetCoin(const T& item)\n+{\n+    if constexpr (std::is_same_v<T, std::reference_wrapper<const Coin>>) {\n+        return item.get();\n+    } else {\n+        return item;\n+    }\n+}\n+",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 13,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2075811232,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Pushed the compiler issue on a separate branch here: https://github.com/TheCharlatan/bitcoin/actions/runs/15016860100/job/42196724477#step:10:198 . ",
      "created_at": "2025-05-14T09:23:01Z",
      "updated_at": "2025-05-14T09:23:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2088486315",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088486315"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088492832",
      "pull_request_review_id": 2839444701,
      "id": 2088492832,
      "node_id": "PRRC_kwDOABII5858e98g",
      "diff_hunk": "@@ -123,62 +133,73 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx)\n     return nSigOps;\n }\n \n-unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& inputs)\n+template <typename T>\n+unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins)\n {\n     if (tx.IsCoinBase())\n         return 0;\n \n     unsigned int nSigOps = 0;\n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n-    {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+    Assert(coins.size() == tx.vin.size());\n+    auto input_it = tx.vin.begin();\n+    for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\n+        const Coin& coin{GetCoin(*it)};\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n         if (prevout.scriptPubKey.IsPayToScriptHash())\n-            nSigOps += prevout.scriptPubKey.GetSigOpCount(tx.vin[i].scriptSig);\n+            nSigOps += prevout.scriptPubKey.GetSigOpCount(input_it->scriptSig);\n     }\n     return nSigOps;\n }\n \n-int64_t GetTransactionSigOpCost(const CTransaction& tx, const CCoinsViewCache& inputs, uint32_t flags)\n+template unsigned int GetP2SHSigOpCount<std::span<const Coin>>(\n+    const CTransaction& tx, const std::span<const Coin>);\n+\n+template unsigned int GetP2SHSigOpCount<std::span<std::reference_wrapper<const Coin>>>(\n+    const CTransaction& tx, const std::span<std::reference_wrapper<const Coin>>);\n+\n+template <typename T>\n+int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t flags)",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 53,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2075895517,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> edit: I see this is already (partially) suggested and addressed in https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2078426205, I think adding the IsCoinRef concept could still be nice but less important than specifying the std::span\r\n\r\nI did implement a concept initially, but did not find it really that helpful, since the two usable template variants are concretely defined anyway.",
      "created_at": "2025-05-14T09:26:18Z",
      "updated_at": "2025-05-14T09:26:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2088492832",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088492832"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088577925",
      "pull_request_review_id": 2839584675,
      "id": 2088577925,
      "node_id": "PRRC_kwDOABII5858fSuF",
      "diff_hunk": "@@ -123,62 +133,73 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx)\n     return nSigOps;\n }\n \n-unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& inputs)\n+template <typename T>\n+unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins)\n {\n     if (tx.IsCoinBase())\n         return 0;\n \n     unsigned int nSigOps = 0;\n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n-    {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+    Assert(coins.size() == tx.vin.size());\n+    auto input_it = tx.vin.begin();\n+    for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\n+        const Coin& coin{GetCoin(*it)};\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n         if (prevout.scriptPubKey.IsPayToScriptHash())\n-            nSigOps += prevout.scriptPubKey.GetSigOpCount(tx.vin[i].scriptSig);\n+            nSigOps += prevout.scriptPubKey.GetSigOpCount(input_it->scriptSig);\n     }\n     return nSigOps;\n }\n \n-int64_t GetTransactionSigOpCost(const CTransaction& tx, const CCoinsViewCache& inputs, uint32_t flags)\n+template unsigned int GetP2SHSigOpCount<std::span<const Coin>>(\n+    const CTransaction& tx, const std::span<const Coin>);\n+\n+template unsigned int GetP2SHSigOpCount<std::span<std::reference_wrapper<const Coin>>>(\n+    const CTransaction& tx, const std::span<std::reference_wrapper<const Coin>>);\n+\n+template <typename T>\n+int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t flags)",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 53,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2075895517,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Imo, there are 2 main advantages:\r\n- discoverability: grepping for callsites, template instantiations etc is a lot more cumbersome (and easy to miss) than just inspecting the canonical template definition\r\n- type safety: explicitly narrowing down the actual types that `T` can be makes reviewing the function easier, because you have to think about edge cases less, e.g. will the function still be safe when a new callsite is added\r\n\r\nThis is more a general style preference, and not particularly important for this PR, so feel free to ignore / can mark as resolved.",
      "created_at": "2025-05-14T10:07:16Z",
      "updated_at": "2025-05-14T10:07:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2088577925",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088577925"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088614496",
      "pull_request_review_id": 2839646457,
      "id": 2088614496,
      "node_id": "PRRC_kwDOABII5858fbpg",
      "diff_hunk": "@@ -3006,6 +2919,154 @@ static void UpdateTipLog(\n         !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(\n+    const CBlock& block,\n+    const CBlockIndex* pindex,\n+    const uint256& block_hash,\n+    CCoinsViewCache& view,\n+    BlockValidationState& state,\n+    CBlockUndo& blockundo)\n+{\n+    AssertLockHeld(cs_main);\n+    assert(pindex);\n+    Assume(block.GetHash() == block_hash);\n+    assert(*pindex->phashBlock == block_hash);\n+\n+    const CChainParams& params{m_chainman.GetParams()};\n+    // Special case for the genesis block, skipping connection of its transactions\n+    // (its coinbase is unspendable)\n+    if (block_hash == params.GetConsensus().hashGenesisBlock) {\n+        return true;\n+    }\n+\n+    // verify that the view's current state corresponds to the previous block\n+    uint256 hashPrevBlock = pindex->pprev == nullptr ? uint256() : pindex->pprev->GetBlockHash();\n+    assert(hashPrevBlock == view.GetBestBlock());\n+\n+    const auto time_start{SteadyClock::now()};\n+\n+    // Do not allow blocks that contain transactions which 'overwrite' older transactions,\n+    // unless those are already completely spent.\n+    // If such overwrites are allowed, coinbases and transactions depending upon those\n+    // can be duplicated to remove the ability to spend the first instance -- even after\n+    // being sent to another address.\n+    // See BIP30, CVE-2012-1909, and http://r6.ca/blog/20120206T005236Z.html for more information.\n+    // This rule was originally applied to all blocks with a timestamp after March 15, 2012, 0:00 UTC.\n+    // Now that the whole chain is irreversibly beyond that time it is applied to all blocks except the\n+    // two in the chain that violate it. This prevents exploiting the issue against nodes during their\n+    // initial block download.\n+    bool fEnforceBIP30 = !IsBIP30Repeat(*pindex);\n+\n+    // Once BIP34 activated it was not possible to create new duplicate coinbases and thus other than starting\n+    // with the 2 existing duplicate coinbase pairs, not possible to create overwriting txs.  But by the\n+    // time BIP34 activated, in each of the existing pairs the duplicate coinbase had overwritten the first\n+    // before the first had been spent.  Since those coinbases are sufficiently buried it's no longer possible to create further\n+    // duplicate transactions descending from the known pairs either.\n+    // If we're on the known chain at height greater than where BIP34 activated, we can save the db accesses needed for the BIP30 check.\n+\n+    // BIP34 requires that a block at height X (block X) has its coinbase\n+    // scriptSig start with a CScriptNum of X (indicated height X).  The above\n+    // logic of no longer requiring BIP30 once BIP34 activates is flawed in the\n+    // case that there is a block X before the BIP34 height of 227,931 which has\n+    // an indicated height Y where Y is greater than X.  The coinbase for block\n+    // X would also be a valid coinbase for block Y, which could be a BIP30\n+    // violation.  An exhaustive search of all mainnet coinbases before the\n+    // BIP34 height which have an indicated height greater than the block height\n+    // reveals many occurrences. The 3 lowest indicated heights found are\n+    // 209,921, 490,897, and 1,983,702 and thus coinbases for blocks at these 3\n+    // heights would be the first opportunity for BIP30 to be violated.\n+\n+    // The search reveals a great many blocks which have an indicated height\n+    // greater than 1,983,702, so we simply remove the optimization to skip\n+    // BIP30 checking for blocks at height 1,983,702 or higher.  Before we reach\n+    // that block in another 25 years or so, we should take advantage of a\n+    // future consensus change to do a new and improved version of BIP34 that\n+    // will actually prevent ever creating any duplicate coinbases in the\n+    // future.\n+    static constexpr int BIP34_IMPLIES_BIP30_LIMIT = 1983702;\n+\n+    // There is no potential to create a duplicate coinbase at block 209,921\n+    // because this is still before the BIP34 height and so explicit BIP30\n+    // checking is still active.\n+\n+    // The final case is block 176,684 which has an indicated height of\n+    // 490,897. Unfortunately, this issue was not discovered until about 2 weeks\n+    // before block 490,897 so there was not much opportunity to address this\n+    // case other than to carefully analyze it and determine it would not be a\n+    // problem. Block 490,897 was, in fact, mined with a different coinbase than\n+    // block 176,684, but it is important to note that even if it hadn't been or\n+    // is remined on an alternate fork with a duplicate coinbase, we would still\n+    // not run into a BIP30 violation.  This is because the coinbase for 176,684\n+    // is spent in block 185,956 in transaction\n+    // d4f7fbbf92f4a3014a230b2dc70b8058d02eb36ac06b4a0736d9d60eaa9e8781.  This\n+    // spending transaction can't be duplicated because it also spends coinbase\n+    // 0328dd85c331237f18e781d692c92de57649529bd5edf1d01036daea32ffde29.  This\n+    // coinbase has an indicated height of over 4.2 billion, and wouldn't be\n+    // duplicatable until that height, and it's currently impossible to create a\n+    // chain that long. Nevertheless we may wish to consider a future soft fork\n+    // which retroactively prevents block 490,897 from creating a duplicate\n+    // coinbase. The two historical BIP30 violations often provide a confusing\n+    // edge case when manipulating the UTXO and it would be simpler not to have\n+    // another edge case to deal with.\n+\n+    // testnet3 has no blocks before the BIP34 height with indicated heights\n+    // post BIP34 before approximately height 486,000,000. After block\n+    // 1,983,702 testnet3 starts doing unnecessary BIP30 checking again.\n+    assert(pindex->pprev);\n+    CBlockIndex* pindexBIP34height = pindex->pprev->GetAncestor(params.GetConsensus().BIP34Height);\n+    //Only continue to enforce if we're below BIP34 activation height or the block hash at that height doesn't correspond.\n+    fEnforceBIP30 = fEnforceBIP30 && (!pindexBIP34height || !(pindexBIP34height->GetBlockHash() == params.GetConsensus().BIP34Hash));\n+\n+    // TODO: Remove BIP30 checking from block height 1,983,702 on, once we have a\n+    // consensus change that ensures coinbases at those heights cannot\n+    // duplicate earlier coinbases.\n+    if (fEnforceBIP30 || pindex->nHeight >= BIP34_IMPLIES_BIP30_LIMIT) {\n+        for (const auto& tx : block.vtx) {\n+            for (size_t o = 0; o < tx->vout.size(); o++) {\n+                if (view.HaveCoin(COutPoint(tx->GetHash(), o))) {\n+                    return state.Invalid(BlockValidationResult::BLOCK_CONSENSUS, \"bad-txns-BIP30\",\n+                                  \"tried to overwrite transaction\");\n+                }\n+            }\n+        }\n+    }",
      "path": "src/validation.cpp",
      "position": 441,
      "original_position": 437,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "16a695fbff4a92eba3eb72ec6aa766e71c52f773",
      "in_reply_to_id": 2087608225,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> There are also other checks in ConnectBlock before the !state.IsValid() check that we may have skipped because of the early return when SpendBlock fails - including transaction input validation, script verification, fee range checks, ...; Is that correct?\r\n\r\nGood catch! Actually I think the commit message description is misleading, if not wrong. The checks you mention are skipped in any case, because we check `if (!state.IsValid()) break;`, but similarly the coinbase check won't override the validation result if it is already invalid. The check is still executed though before returning.\r\n\r\n",
      "created_at": "2025-05-14T10:27:31Z",
      "updated_at": "2025-05-14T10:27:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2088614496",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088614496"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2909,
      "original_start_line": 3023,
      "start_side": "RIGHT",
      "line": 2918,
      "original_line": 2918,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088705047",
      "pull_request_review_id": 2839797246,
      "id": 2088705047,
      "node_id": "PRRC_kwDOABII5858fxwX",
      "diff_hunk": "@@ -14,6 +14,16 @@\n #include <util/check.h>\n #include <util/moneystr.h>\n \n+template <typename T>\n+static constexpr const Coin& GetCoin(const T& item)\n+{\n+    if constexpr (std::is_same_v<T, std::reference_wrapper<const Coin>>) {\n+        return item.get();\n+    } else {\n+        return item;\n+    }\n+}\n+",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 13,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2075811232,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It seems like list initializing `coin` is triggering MSVC to copy-initialize a `Coin` temporary, causing a second user-defined conversion and subsequent error. I don't really understand why direct initialization rules are different in this regard, but using it does seem to make MSVC happy: https://github.com/stickies-v/bitcoin/actions/runs/15018875180/job/42203094843\r\n\r\nFix: https://github.com/stickies-v/bitcoin/commit/6f1bc11c336db6dcea2954a03520b7064f0f0e6d",
      "created_at": "2025-05-14T11:20:26Z",
      "updated_at": "2025-05-14T11:20:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2088705047",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088705047"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088847208",
      "pull_request_review_id": 2840029571,
      "id": 2088847208,
      "node_id": "PRRC_kwDOABII5858gUdo",
      "diff_hunk": "@@ -14,6 +14,16 @@\n #include <util/check.h>\n #include <util/moneystr.h>\n \n+template <typename T>\n+static constexpr const Coin& GetCoin(const T& item)\n+{\n+    if constexpr (std::is_same_v<T, std::reference_wrapper<const Coin>>) {\n+        return item.get();\n+    } else {\n+        return item;\n+    }\n+}\n+",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 13,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2075811232,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Sweet, will apply this!",
      "created_at": "2025-05-14T12:41:20Z",
      "updated_at": "2025-05-14T12:41:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2088847208",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2088847208"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2091194407",
      "pull_request_review_id": 2843727904,
      "id": 2091194407,
      "node_id": "PRRC_kwDOABII5858pRgn",
      "diff_hunk": "@@ -160,6 +160,29 @@ const Coin& CCoinsViewCache::AccessCoin(const COutPoint &outpoint) const {\n     }\n }\n \n+std::vector<std::reference_wrapper<const Coin>> CCoinsViewCache::AccessCoins(const CTransaction& tx) const\n+{\n+    std::vector<std::reference_wrapper<const Coin>> coins;\n+    coins.reserve(tx.vin.size());\n+    for (const CTxIn& input : tx.vin) {\n+        coins.emplace_back(AccessCoin(input.prevout));\n+    }\n+    return coins;\n+}\n+\n+std::vector<CTxOut> CCoinsViewCache::GetUnspentOutputs(const CTransaction& tx) const\n+{\n+    std::vector<CTxOut> spent_outputs;\n+    spent_outputs.reserve(tx.vin.size());\n+    for (const auto& txin : tx.vin) {\n+        const COutPoint& prevout = txin.prevout;\n+        const Coin& coin = AccessCoin(prevout);\n+        assert(!coin.IsSpent());\n+        spent_outputs.emplace_back(coin.out);\n+    }",
      "path": "src/coins.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2077901694,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "We could also use `AccessCoin`, but I think accessing it directly is a bit more efficient, because we don't allocate another vector. Do you have a better suggestion for the naming there? It is all a bit confusing.",
      "created_at": "2025-05-15T13:36:08Z",
      "updated_at": "2025-05-15T13:36:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2091194407",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2091194407"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 180,
      "original_start_line": 177,
      "start_side": "RIGHT",
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2091195129",
      "pull_request_review_id": 2843729087,
      "id": 2091195129,
      "node_id": "PRRC_kwDOABII5858pRr5",
      "diff_hunk": "@@ -123,62 +133,73 @@ unsigned int GetLegacySigOpCount(const CTransaction& tx)\n     return nSigOps;\n }\n \n-unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& inputs)\n+template <typename T>\n+unsigned int GetP2SHSigOpCount(const CTransaction& tx, const T coins)\n {\n     if (tx.IsCoinBase())\n         return 0;\n \n     unsigned int nSigOps = 0;\n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n-    {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+    Assert(coins.size() == tx.vin.size());\n+    auto input_it = tx.vin.begin();\n+    for (auto it = coins.begin(); it != coins.end(); ++it, ++input_it) {\n+        const Coin& coin{GetCoin(*it)};\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n         if (prevout.scriptPubKey.IsPayToScriptHash())\n-            nSigOps += prevout.scriptPubKey.GetSigOpCount(tx.vin[i].scriptSig);\n+            nSigOps += prevout.scriptPubKey.GetSigOpCount(input_it->scriptSig);\n     }\n     return nSigOps;\n }\n \n-int64_t GetTransactionSigOpCost(const CTransaction& tx, const CCoinsViewCache& inputs, uint32_t flags)\n+template unsigned int GetP2SHSigOpCount<std::span<const Coin>>(\n+    const CTransaction& tx, const std::span<const Coin>);\n+\n+template unsigned int GetP2SHSigOpCount<std::span<std::reference_wrapper<const Coin>>>(\n+    const CTransaction& tx, const std::span<std::reference_wrapper<const Coin>>);\n+\n+template <typename T>\n+int64_t GetTransactionSigOpCost(const CTransaction& tx, const T coins, uint32_t flags)",
      "path": "src/consensus/tx_verify.cpp",
      "position": 1,
      "original_position": 53,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2075895517,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Thanks, added the the concept.",
      "created_at": "2025-05-15T13:36:31Z",
      "updated_at": "2025-05-15T13:36:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2091195129",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2091195129"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2091196979",
      "pull_request_review_id": 2843731888,
      "id": 2091196979,
      "node_id": "PRRC_kwDOABII5858pSIz",
      "diff_hunk": "@@ -706,8 +706,36 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n-    bool ConnectBlock(const CBlock& block, BlockValidationState& state, CBlockIndex* pindex,\n-                      CCoinsViewCache& view, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data, and raises the block validity in the block index.\n+     *\n+     * @param[in] block       The block to be validated\n+     * @param[in] block_hash  Hash of block",
      "path": "src/validation.h",
      "position": 1,
      "original_position": 12,
      "commit_id": "b27be6cb18dde53863d83d2f2f61d4c92916257b",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2066960211,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Dropped it again, but I also changed things slightly to get the block hash from the block index now.",
      "created_at": "2025-05-15T13:37:21Z",
      "updated_at": "2025-05-15T13:37:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2091196979",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2091196979"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 715,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2113855067",
      "pull_request_review_id": 2878124137,
      "id": 2113855067,
      "node_id": "PRRC_kwDOABII5859_t5b",
      "diff_hunk": "@@ -160,6 +160,29 @@ const Coin& CCoinsViewCache::AccessCoin(const COutPoint &outpoint) const {\n     }\n }\n \n+std::vector<std::reference_wrapper<const Coin>> CCoinsViewCache::AccessCoins(const CTransaction& tx) const\n+{\n+    std::vector<std::reference_wrapper<const Coin>> coins;\n+    coins.reserve(tx.vin.size());\n+    for (const CTxIn& input : tx.vin) {\n+        coins.emplace_back(AccessCoin(input.prevout));\n+    }\n+    return coins;\n+}\n+\n+std::vector<CTxOut> CCoinsViewCache::GetUnspentOutputs(const CTransaction& tx) const\n+{\n+    std::vector<CTxOut> spent_outputs;\n+    spent_outputs.reserve(tx.vin.size());\n+    for (const auto& txin : tx.vin) {\n+        const COutPoint& prevout = txin.prevout;\n+        const Coin& coin = AccessCoin(prevout);\n+        assert(!coin.IsSpent());\n+        spent_outputs.emplace_back(coin.out);\n+    }",
      "path": "src/coins.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2077901694,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I hadn't considered the extra vector allocation, yeah I'm okay leaving this as-is then. \r\n\r\nI did nerd-snipe myself into looking into having `AccessCoins` return a view would be quite elegant in some ways, allowing lazy evaluation, but seems like it would require quite a bit of overhaul and might have other drawbacks I've not considered yet.\r\n\r\n```cpp\r\n    auto AccessCoins(const CTransaction& tx) const\r\n    {\r\n        return tx.vin | std::views::transform([this](const CTxIn& input) -> const Coin& {\r\n            return this->AccessCoin(input.prevout);\r\n        });\r\n    }\r\n```",
      "created_at": "2025-05-29T12:35:34Z",
      "updated_at": "2025-05-29T12:35:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2113855067",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2113855067"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 180,
      "original_start_line": 177,
      "start_side": "RIGHT",
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2459470273",
      "pull_request_review_id": 3375326255,
      "id": 2459470273,
      "node_id": "PRRC_kwDOABII586SmInB",
      "diff_hunk": "@@ -160,6 +160,29 @@ const Coin& CCoinsViewCache::AccessCoin(const COutPoint &outpoint) const {\n     }\n }\n \n+std::vector<std::reference_wrapper<const Coin>> CCoinsViewCache::AccessCoins(const CTransaction& tx) const\n+{\n+    std::vector<std::reference_wrapper<const Coin>> coins;\n+    coins.reserve(tx.vin.size());\n+    for (const CTxIn& input : tx.vin) {\n+        coins.emplace_back(AccessCoin(input.prevout));\n+    }\n+    return coins;\n+}\n+\n+std::vector<CTxOut> CCoinsViewCache::GetUnspentOutputs(const CTransaction& tx) const\n+{\n+    std::vector<CTxOut> spent_outputs;\n+    spent_outputs.reserve(tx.vin.size());\n+    for (const auto& txin : tx.vin) {\n+        const COutPoint& prevout = txin.prevout;\n+        const Coin& coin = AccessCoin(prevout);\n+        assert(!coin.IsSpent());\n+        spent_outputs.emplace_back(coin.out);\n+    }",
      "path": "src/coins.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "76a8f22c5c5cf48a9c36cc40db9224f0454917d0",
      "in_reply_to_id": 2077901694,
      "user": {
        "login": "alexanderwiederin",
        "id": 37130778,
        "node_id": "MDQ6VXNlcjM3MTMwNzc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37130778?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alexanderwiederin",
        "html_url": "https://github.com/alexanderwiederin",
        "followers_url": "https://api.github.com/users/alexanderwiederin/followers",
        "following_url": "https://api.github.com/users/alexanderwiederin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alexanderwiederin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alexanderwiederin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alexanderwiederin/subscriptions",
        "organizations_url": "https://api.github.com/users/alexanderwiederin/orgs",
        "repos_url": "https://api.github.com/users/alexanderwiederin/repos",
        "events_url": "https://api.github.com/users/alexanderwiederin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alexanderwiederin/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Do you have a better suggestion for the naming there? It is all a bit confusing.\r\n\r\nI agree the naming is confusing. I'd suggest `GetUnspentOutputs` -> `GetPreviousOutputs` and `spent_outputs` -> `previous_outputs` to avoid the spent/unspent terminology. What do you think?",
      "created_at": "2025-10-24T09:19:15Z",
      "updated_at": "2025-10-24T09:19:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2459470273",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2459470273"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 180,
      "original_start_line": 177,
      "start_side": "RIGHT",
      "line": 185,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627058813",
      "pull_request_review_id": 3587725625,
      "id": 2627058813,
      "node_id": "PRRC_kwDOABII586clbx9",
      "diff_hunk": "@@ -380,7 +381,8 @@ BOOST_AUTO_TEST_CASE(AreInputsStandard)\n     txToNonStd1.vin[0].scriptSig << std::vector<unsigned char>(sixteenSigops.begin(), sixteenSigops.end());\n \n     BOOST_CHECK(!::AreInputsStandard(CTransaction(txToNonStd1), coins));\n-    BOOST_CHECK_EQUAL(GetP2SHSigOpCount(CTransaction(txToNonStd1), coins), 16U);\n+    auto coinsTxToNonStd1{coins.AccessCoins(CTransaction(txToNonStd1))};",
      "path": "src/test/script_p2sh_tests.cpp",
      "position": 22,
      "original_position": 22,
      "commit_id": "5709d073e06280c915e7d74e8f49e4904598c348",
      "original_commit_id": "5709d073e06280c915e7d74e8f49e4904598c348",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In \"consensus: Use Coin span in GetP2SHSigOpCount\" 5709d073e06280c915e7d74e8f49e4904598c348\r\n\r\nnit: here and other places, these new variables should be snake case?",
      "created_at": "2025-12-17T13:23:21Z",
      "updated_at": "2025-12-17T17:05:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2627058813",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627058813"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 384,
      "original_line": 384,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627185458",
      "pull_request_review_id": 3587725625,
      "id": 2627185458,
      "node_id": "PRRC_kwDOABII586cl6sy",
      "diff_hunk": "@@ -56,12 +56,13 @@ unsigned int GetP2SHSigOpCount(const CTransaction& tx, const std::span<T> coins)\n \n /**\n  * Compute total signature operation cost of a transaction.\n- * @param[in] tx     Transaction for which we are computing the cost\n- * @param[in] inputs Map of previous transactions that have outputs we're spending\n+ * @param[in] tx    Transaction for which we are computing the cost\n+ * @param[in] coins Sorted span of Coins containing previous transaction outputs we're spending",
      "path": "src/consensus/tx_verify.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6",
      "original_commit_id": "3bdb4a89a9e852ddee9cebaaf3492473b16e7cc6",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In \"consensus: Use Coin span in GetP2SHSigOpCount\" 5709d073e06280c915e7d74e8f49e4904598c348\r\n\r\nHere and other commits.\r\nSorted in what order?",
      "created_at": "2025-12-17T13:59:29Z",
      "updated_at": "2025-12-17T17:05:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2627185458",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627185458"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 60,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627829017",
      "pull_request_review_id": 3587725625,
      "id": 2627829017,
      "node_id": "PRRC_kwDOABII586coX0Z",
      "diff_hunk": "@@ -735,9 +735,32 @@ class Chainstate\n     // Block (dis)connection on a given view:\n     DisconnectResult DisconnectBlock(const CBlock& block, const CBlockIndex* pindex, CCoinsViewCache& view)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n+\n+    /**\n+     * Validates the block against the coins in the blockundo data, writes the\n+     * undo data to disk, and raises the block validity in the block index.\n+     *\n+     * @param[in] block       The block to be validated\n+     * @param[in] blockundo   Has to contain all coins spent by block. Written to disk on successful validation\n+     * @param[out] state      This is set to an Error state if any error occurred while validating block\n+     * @param[in, out] pindex Points to the block map entry associated with block. On successful validation, its nStatus block validity is raised.\n+     * @param[in] fJustCheck  If set, no data is written to disk and pindex's validity is not raised\n+     */\n     bool ConnectBlock(const CBlock& block, const CBlockUndo& blockundo, BlockValidationState& state,\n                       CBlockIndex* pindex, bool fJustCheck = false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n+    /**\n+     * Spends the coins associated with a block. First checks that the block\n+     * contains no duplicate transactions (BIP30), then for each transaction in\n+     * the block checks that the outputs it is spending exist, spends them, and\n+     * populates the CBlockUndo data structure.\n+     *\n+     * @param[in] block      The block to be spent\n+     * @param[in] pindex     Points to the block map entry associated with block\n+     * @param[in, out] view  Its coins are spent and used to populate CBlockUndo during its execution\n+     * @param[out] state     This may be set to an Error state if any error occurred processing them\n+     * @param[out] blockundo Coins consumed by the block are added to it.\n+     */\n     bool SpendBlock(const CBlock& block, const CBlockIndex* pindex,",
      "path": "src/validation.h",
      "position": 30,
      "original_position": 30,
      "commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "original_commit_id": "a0e9578ec1ff1d8ec57f76a37e389aeeb554a639",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Since we are doing this,  I think this should also be separated into two functions.\r\n 1. `EnforceBIP30` â€” a method that performs BIP30 validation.\r\n 2. `SpendBlock` â€” for each transaction in the block, checks that the outputs it is spending exist, spends them, and populates the `CBlockUndo` data structure.\r\n\r\nIt would also make testing easier, and removing BIP30 after a consensus cleanup soft fork would be straightforward.\r\n\r\nWhat I will want to see is we have just SpendBlock and  non-contextual block validation using the block data and undo data in a series of consensus rules validation functions.\r\n",
      "created_at": "2025-12-17T16:52:59Z",
      "updated_at": "2025-12-17T17:09:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2627829017",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627829017"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 752,
      "original_start_line": 752,
      "start_side": "RIGHT",
      "line": 764,
      "original_line": 764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627840199",
      "pull_request_review_id": 3587725625,
      "id": 2627840199,
      "node_id": "PRRC_kwDOABII586coajH",
      "diff_hunk": "@@ -2899,6 +2809,127 @@ static void UpdateTipLog(\n                    !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(\n+    const CBlock& block,\n+    const CBlockIndex* pindex,\n+    CCoinsViewCache& view,\n+    BlockValidationState& state)\n+{\n+    AssertLockHeld(cs_main);\n+    assert(pindex);\n+    Assume(pindex->GetBlockHash() == block.GetHash());\n+    auto block_hash{pindex->GetBlockHash()};\n+\n+    const CChainParams& params{m_chainman.GetParams()};\n+    // Special case for the genesis block, skipping connection of its transactions\n+    // (its coinbase is unspendable)\n+    if (block_hash == params.GetConsensus().hashGenesisBlock) {\n+        return true;\n+    }\n+\n+    // verify that the view's current state corresponds to the previous block\n+    uint256 hashPrevBlock = pindex->pprev == nullptr ? uint256() : pindex->pprev->GetBlockHash();\n+    assert(hashPrevBlock == view.GetBestBlock());",
      "path": "src/validation.cpp",
      "position": 128,
      "original_position": 128,
      "commit_id": "c937b12745971435111eab948e505580754d56bd",
      "original_commit_id": "c937b12745971435111eab948e505580754d56bd",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In \"validation: Add SpendBlock function\" c937b12745971435111eab948e505580754d56bd\nwhy duplicate this, I think we should just add a comment warning that we expect they are already executed before?",
      "created_at": "2025-12-17T16:56:29Z",
      "updated_at": "2025-12-17T17:05:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2627840199",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627840199"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2819,
      "original_start_line": 2819,
      "start_side": "RIGHT",
      "line": 2832,
      "original_line": 2832,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627860099",
      "pull_request_review_id": 3587725625,
      "id": 2627860099,
      "node_id": "PRRC_kwDOABII586cofaD",
      "diff_hunk": "@@ -2899,6 +2809,127 @@ static void UpdateTipLog(\n                    !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(",
      "path": "src/validation.cpp",
      "position": 108,
      "original_position": 108,
      "commit_id": "c937b12745971435111eab948e505580754d56bd",
      "original_commit_id": "c937b12745971435111eab948e505580754d56bd",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In \"validation: Add SpendBlock function\" c937b12745971435111eab948e505580754d56bd\n\n> The goal is to move logic requiring access to the\nCCoinsViewCache out of ConnectBlock and to the new SpendBlock method.\nSpendBlock will in future handle all UTXO set interactions that\npreviously took place in ConnectBlock.\n\nThis is counter to the objective of the PR; we are still accessing the UTXO set in this block validation function.\nMy hope was that we would have two UTXO-accessing validation functions that 1 populate the block undo data and 2. BIP30 separately, while the remaining validation functions would simply get passed the block undo data and operate as stateless validation functions.\n\n",
      "created_at": "2025-12-17T17:02:28Z",
      "updated_at": "2025-12-17T17:05:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2627860099",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2627860099"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2812,
      "original_line": 2812,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2628854781",
      "pull_request_review_id": 3589930334,
      "id": 2628854781,
      "node_id": "PRRC_kwDOABII586csSP9",
      "diff_hunk": "@@ -2899,6 +2809,127 @@ static void UpdateTipLog(\n                    !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(\n+    const CBlock& block,\n+    const CBlockIndex* pindex,\n+    CCoinsViewCache& view,\n+    BlockValidationState& state)\n+{\n+    AssertLockHeld(cs_main);\n+    assert(pindex);\n+    Assume(pindex->GetBlockHash() == block.GetHash());\n+    auto block_hash{pindex->GetBlockHash()};\n+\n+    const CChainParams& params{m_chainman.GetParams()};\n+    // Special case for the genesis block, skipping connection of its transactions\n+    // (its coinbase is unspendable)\n+    if (block_hash == params.GetConsensus().hashGenesisBlock) {\n+        return true;\n+    }\n+\n+    // verify that the view's current state corresponds to the previous block\n+    uint256 hashPrevBlock = pindex->pprev == nullptr ? uint256() : pindex->pprev->GetBlockHash();\n+    assert(hashPrevBlock == view.GetBestBlock());",
      "path": "src/validation.cpp",
      "position": 128,
      "original_position": 128,
      "commit_id": "c937b12745971435111eab948e505580754d56bd",
      "original_commit_id": "c937b12745971435111eab948e505580754d56bd",
      "in_reply_to_id": 2627840199,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I'm not sure what you mean here. Afaict this is moved over from `ConnectBlock`.",
      "created_at": "2025-12-17T22:26:40Z",
      "updated_at": "2025-12-18T10:59:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2628854781",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2628854781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2819,
      "original_start_line": 2819,
      "start_side": "RIGHT",
      "line": 2832,
      "original_line": 2832,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2630573322",
      "pull_request_review_id": 3589930334,
      "id": 2630573322,
      "node_id": "PRRC_kwDOABII586cy10K",
      "diff_hunk": "@@ -2899,6 +2809,127 @@ static void UpdateTipLog(\n                    !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(",
      "path": "src/validation.cpp",
      "position": 108,
      "original_position": 108,
      "commit_id": "c937b12745971435111eab948e505580754d56bd",
      "original_commit_id": "c937b12745971435111eab948e505580754d56bd",
      "in_reply_to_id": 2627860099,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It is important that the BIP30 validation is done before we spend the coins. The current split makes sense to me for this reason. Can you elaborate a bit more what you think might not be optimal here?",
      "created_at": "2025-12-18T10:59:27Z",
      "updated_at": "2025-12-18T10:59:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2630573322",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2630573322"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2812,
      "original_line": 2812,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2635217318",
      "pull_request_review_id": 3598754659,
      "id": 2635217318,
      "node_id": "PRRC_kwDOABII586dEjmm",
      "diff_hunk": "@@ -2899,6 +2809,127 @@ static void UpdateTipLog(\n                    !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(",
      "path": "src/validation.cpp",
      "position": 108,
      "original_position": 108,
      "commit_id": "c937b12745971435111eab948e505580754d56bd",
      "original_commit_id": "c937b12745971435111eab948e505580754d56bd",
      "in_reply_to_id": 2627860099,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I'm still not sure if this is a good thing. I don't see why you would ever spend the coins in the utxo set without also doing the bip30 checks beforehand. To this end, I did implement it, but added a tag type that gets passed from BIP30Validate to SpendBlock: https://github.com/sedited/bitcoin/tree/spendblock_17 . Let me know what you think.",
      "created_at": "2025-12-19T14:09:10Z",
      "updated_at": "2025-12-19T14:09:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2635217318",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2635217318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2812,
      "original_line": 2812,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2635221514",
      "pull_request_review_id": 3598759519,
      "id": 2635221514,
      "node_id": "PRRC_kwDOABII586dEkoK",
      "diff_hunk": "@@ -2899,6 +2809,127 @@ static void UpdateTipLog(\n                    !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(\n+    const CBlock& block,\n+    const CBlockIndex* pindex,\n+    CCoinsViewCache& view,\n+    BlockValidationState& state)\n+{\n+    AssertLockHeld(cs_main);\n+    assert(pindex);\n+    Assume(pindex->GetBlockHash() == block.GetHash());\n+    auto block_hash{pindex->GetBlockHash()};\n+\n+    const CChainParams& params{m_chainman.GetParams()};\n+    // Special case for the genesis block, skipping connection of its transactions\n+    // (its coinbase is unspendable)\n+    if (block_hash == params.GetConsensus().hashGenesisBlock) {\n+        return true;\n+    }\n+\n+    // verify that the view's current state corresponds to the previous block\n+    uint256 hashPrevBlock = pindex->pprev == nullptr ? uint256() : pindex->pprev->GetBlockHash();\n+    assert(hashPrevBlock == view.GetBestBlock());",
      "path": "src/validation.cpp",
      "position": 128,
      "original_position": 128,
      "commit_id": "c937b12745971435111eab948e505580754d56bd",
      "original_commit_id": "c937b12745971435111eab948e505580754d56bd",
      "in_reply_to_id": 2627840199,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think I'd rather keep these duplicated for now. These are short-circuits to our logic, similar to how the coinbase checks work in various places. Based on that I'd rather keep them in place. This could also easily be improved in a follow-up.",
      "created_at": "2025-12-19T14:10:42Z",
      "updated_at": "2025-12-19T14:10:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2635221514",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2635221514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": 2819,
      "original_start_line": 2819,
      "start_side": "RIGHT",
      "line": 2832,
      "original_line": 2832,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2639624469",
      "pull_request_review_id": 3603767100,
      "id": 2639624469,
      "node_id": "PRRC_kwDOABII586dVXkV",
      "diff_hunk": "@@ -2899,6 +2809,127 @@ static void UpdateTipLog(\n                    !warning_messages.empty() ? strprintf(\" warning='%s'\", warning_messages) : \"\");\n }\n \n+bool Chainstate::SpendBlock(",
      "path": "src/validation.cpp",
      "position": 108,
      "original_position": 108,
      "commit_id": "c937b12745971435111eab948e505580754d56bd",
      "original_commit_id": "c937b12745971435111eab948e505580754d56bd",
      "in_reply_to_id": 2627860099,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Iâ€™ve reviewed the branch, and it looks good overall. My only concern is the last commit that adds the tag. Initially, I thought it should be the callerâ€™s responsibility to decide whether `bip30validate` is called, rather than mandating it here.\r\n\r\nMy motivation for separating `SpendBlock` from `BIP30Validate` is discussed in:\r\nhttps://github.com/stratum-mining/sv2-apps/issues/120\r\n\r\nThe branch without the last commit would make it easier to implement a variant of the idea described in https://github.com/stratum-mining/sv2-apps/issues/120, where  block validation for this JDS is as follows call `SpendBlock` and then `ConnectBlock` skip BIP30. However, the idea of skipping consensus checks is not acceptable.\r\n\r\nGiven that, Iâ€™m inclined to keep this as-is.\r\nFor https://github.com/stratum-mining/sv2-apps/issues/120, we can instead expose IPC methods: `SpendBlock`, which takes a block and returns the coins, and `ValidateBlock`, which performs the full block validation checks. Since blocks from miners tend to share many transactions, they can still benefit from this approach, because the JDS needs to only call `SpendBlock` to validate newly seen transactions.\r\n\r\nFor Utreexo client, they provide their own undo data and cannot perform BIP30 validation anyway, so they benefit from this approach as well.\r\n\r\nOverall, this is still an improvement over the current status quo.\r\n",
      "created_at": "2025-12-22T11:54:29Z",
      "updated_at": "2025-12-22T11:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32317#discussion_r2639624469",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2639624469"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32317"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2812,
      "original_line": 2812,
      "side": "RIGHT"
    }
  ]
}