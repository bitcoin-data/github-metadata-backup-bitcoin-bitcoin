{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757",
    "id": 2594396603,
    "node_id": "PR_kwDOABII586ao1m7",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32757",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32757.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32757.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32757",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32757/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
    "number": 32757,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "net: Fix Discover() not running when using -bind=0.0.0.0:port",
    "user": {
      "login": "b-l-u-e",
      "id": 32414660,
      "node_id": "MDQ6VXNlcjMyNDE0NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/b-l-u-e",
      "html_url": "https://github.com/b-l-u-e",
      "followers_url": "https://api.github.com/users/b-l-u-e/followers",
      "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
      "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
      "repos_url": "https://api.github.com/users/b-l-u-e/repos",
      "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "**Summary:**  \r\nThis PR fixes two related issues with address discovery when using explicit bind addresses in Bitcoin Core:\r\n\r\n- [#31293: Discover() will not run if listening on any address with an explicit bind=0.0.0.0](https://github.com/bitcoin/bitcoin/issues/31293)\r\n- [#31336: Functional tests: feature_bind_port_discover.py is failing](https://github.com/bitcoin/bitcoin/issues/31336)\r\n\r\n### Problem\r\n\r\nWhen using `-bind=0.0.0.0:port` (or `-bind=::`), the `Discover()` function was not being executed because the code only checked the `bind_on_any` flag. This led to two problems:\r\n- The node would not discover its own local addresses if an explicit \"any\" bind was used.\r\n- The functional test `feature_bind_port_discover.py` would fail, as it expects local addresses to be discovered in these cases.\r\n\r\n### The Fix\r\n\r\nThis PR:\r\n1. **Checks both `bind_on_any` and any bind addresses using `IsBindAny()`**  \r\n   Ensures `Discover()` runs when binding to 0.0.0.0 or ::, even if specified explicitly.\r\n2. **Ensures correct address discovery**  \r\n   The node will now discover its own addresses when using explicit \"any\" binds, matching user expectations and fixing the test.\r\n3. **Maintains backward compatibility**  \r\n   The semantic meaning of `bind_on_any` is preserved as defined in `net.h`:  \r\n   > \"True if the user did not specify -bind= or -whitebind= and thus we should bind on 0.0.0.0 (IPv4) and :: (IPv6)\"\r\n4. **Updates the test to use dynamic ports**  \r\n   The functional test `feature_bind_port_discover.py` is updated to use dynamic ports instead of hardcoded ones, improving reliability.\r\n\r\n### How this PR Differs from #31492\r\n\r\n- Preserves the semantic meaning of `bind_on_any` (see `net.h`).\r\n- Uses a simpler approach: checks `IsBindAny()` on bind addresses, without modifying `GetListenPort()`.\r\n- Avoids code duplication with `DefaultOnionServiceTarget()`.\r\n\r\n### References\r\n\r\n- Implementation follows the approach proposed in my [review comment on #31492](https://github.com/bitcoin/bitcoin/pull/31492#issuecomment-2941773645).\r\n- Closes [#31293](https://github.com/bitcoin/bitcoin/issues/31293) and [#31336](https://github.com/bitcoin/bitcoin/issues/31336).\r\n",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "created_at": "2025-06-16T04:28:44Z",
    "updated_at": "2025-07-22T07:38:28Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "3d982766ca9653be7a36000c6dafbbd1cb466fe5",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "b-l-u-e:net-fix-discover-bind-any",
      "ref": "net-fix-discover-bind-any",
      "sha": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "user": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 947813196,
        "node_id": "R_kgDOOH57TA",
        "name": "bitcoin",
        "full_name": "b-l-u-e/bitcoin",
        "owner": {
          "login": "b-l-u-e",
          "id": 32414660,
          "node_id": "MDQ6VXNlcjMyNDE0NjYw",
          "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/b-l-u-e",
          "html_url": "https://github.com/b-l-u-e",
          "followers_url": "https://api.github.com/users/b-l-u-e/followers",
          "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
          "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
          "repos_url": "https://api.github.com/users/b-l-u-e/repos",
          "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/b-l-u-e/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/b-l-u-e/bitcoin",
        "archive_url": "https://api.github.com/repos/b-l-u-e/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/b-l-u-e/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/b-l-u-e/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/b-l-u-e/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/b-l-u-e/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/b-l-u-e/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/b-l-u-e/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/b-l-u-e/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/b-l-u-e/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/b-l-u-e/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/b-l-u-e/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/b-l-u-e/bitcoin/events",
        "forks_url": "https://api.github.com/repos/b-l-u-e/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/b-l-u-e/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/b-l-u-e/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/b-l-u-e/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/b-l-u-e/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/b-l-u-e/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/b-l-u-e/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/b-l-u-e/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/b-l-u-e/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/b-l-u-e/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/b-l-u-e/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/b-l-u-e/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/b-l-u-e/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/b-l-u-e/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/b-l-u-e/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/b-l-u-e/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:b-l-u-e/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/b-l-u-e/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/b-l-u-e/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/b-l-u-e/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/b-l-u-e/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/b-l-u-e/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/b-l-u-e/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/b-l-u-e/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/b-l-u-e/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/b-l-u-e/bitcoin/hooks",
        "svn_url": "https://github.com/b-l-u-e/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 288364,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-19T05:12:23Z",
        "created_at": "2025-03-13T09:39:25Z",
        "updated_at": "2025-07-19T04:47:46Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "9f713b83dcf7480e6c4447f0f263bef096d55cc7",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37554,
        "stargazers_count": 84673,
        "watchers_count": 84673,
        "size": 289294,
        "default_branch": "master",
        "open_issues_count": 765,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-21T15:02:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-07-22T04:07:05Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
      }
    },
    "author_association": "NONE",
    "draft": false,
    "additions": 73,
    "deletions": 21,
    "changed_files": 2,
    "commits": 2,
    "review_comments": 11,
    "comments": 4
  },
  "events": [
    {
      "event": "commented",
      "id": 2975066035,
      "node_id": "IC_kwDOABII586xU-ez",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2975066035",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-16T04:28:47Z",
      "updated_at": "2025-07-22T07:38:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32757.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-3041523676) |\n| Stale ACK | [PeterWrighten](https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-2944469774), [yuvicc](https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-2947360035), [pinheadmz](https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-3020667324) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#issuecomment-2975066035",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32757"
    },
    {
      "event": "labeled",
      "id": 18161657139,
      "node_id": "LE_lADOABII5867qkfCzwAAAAQ6hOUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18161657139",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-16T04:28:55Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "reviewed",
      "id": 2930796532,
      "node_id": "PRR_kwDOABII586usGf0",
      "url": null,
      "actor": null,
      "commit_id": "5d5bf98bdb567c2233adb92ade4a23621bd1c920",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-2930796532",
      "submitted_at": "2025-06-16T06:34:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18163777491,
      "node_id": "HRFPE_lADOABII5867qkfCzwAAAAQ6pT_T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18163777491",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b17208d5f043eb14870e7349a9e8267ba4ed60e5",
      "commit_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits/b17208d5f043eb14870e7349a9e8267ba4ed60e5",
      "created_at": "2025-06-16T07:19:46Z"
    },
    {
      "event": "review_requested",
      "id": 18164706468,
      "node_id": "RRE_lADOABII5867qkfCzwAAAAQ6s2yk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18164706468",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-16T08:15:37Z",
      "requested_reviewer": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2977128800,
      "node_id": "IC_kwDOABII586xc2Fg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2977128800",
      "actor": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-16T15:40:07Z",
      "updated_at": "2025-06-16T15:40:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nRemoving duplicate code from `DefaultOnionServiceTarget()` is better IMO",
      "user": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#issuecomment-2977128800",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32757"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18174069858,
      "node_id": "HRFPE_lADOABII5867qkfCzwAAAAQ7Qkxi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18174069858",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "776b7ee5855f7572798eff3014030bcc53aa7393",
      "commit_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits/776b7ee5855f7572798eff3014030bcc53aa7393",
      "created_at": "2025-06-16T16:23:52Z"
    },
    {
      "event": "reviewed",
      "id": 2944469774,
      "node_id": "PRR_kwDOABII586vgQsO",
      "url": null,
      "actor": null,
      "commit_id": "776b7ee5855f7572798eff3014030bcc53aa7393",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "utACK 776b7ee\r\nI consider you could report error message when running in original codebase, and in comparison with this PR one. Or you can find related issue and declare to fix them, it could be clearer for reviewers.",
      "user": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-2944469774",
      "submitted_at": "2025-06-20T03:43:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
    },
    {
      "event": "reviewed",
      "id": 2947360035,
      "node_id": "PRR_kwDOABII586vrSUj",
      "url": null,
      "actor": null,
      "commit_id": "776b7ee5855f7572798eff3014030bcc53aa7393",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "lgtm ACK 776b7ee5855f7572798eff3014030bcc53aa7393",
      "user": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-2947360035",
      "submitted_at": "2025-06-20T22:25:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
    },
    {
      "event": "reviewed",
      "id": 2970826081,
      "node_id": "PRR_kwDOABII586xEzVh",
      "url": null,
      "actor": null,
      "commit_id": "776b7ee5855f7572798eff3014030bcc53aa7393",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK 776b7ee585",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-2970826081",
      "submitted_at": "2025-06-30T11:12:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18464897960,
      "node_id": "HRFPE_lADOABII5867qkfCzwAAAARMl_uo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18464897960",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "99f8a6b1f4e816c80fc0af98ade14ff4be1c3f03",
      "commit_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits/99f8a6b1f4e816c80fc0af98ade14ff4be1c3f03",
      "created_at": "2025-07-04T05:45:17Z"
    },
    {
      "event": "commented",
      "id": 3034729829,
      "node_id": "IC_kwDOABII58604k1l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3034729829",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-04T06:50:04Z",
      "updated_at": "2025-07-04T06:51:08Z",
      "author_association": "NONE",
      "body": "@vasild  Thanks for the suggested improvements! I have a question about the `self.extra_args` configuration.\r\n\r\nIn your patch, node 2 only has `-whitebind=0.0.0.0` without any onion bind:\r\n```python\r\n['-discover', f'-whitebind=0.0.0.0:{self.bind_ports[2]}'], # Explicit -whitebind=0.0.0.0\r\n```\r\n\r\nHowever, when I tried this configuration, I encountered port conflicts because the test framework automatically adds an onion bind to node 2, which conflicts with the port already used by node 1.\r\n\r\n**Test Results:**\r\n\r\n**Without dummy onion bind** (your suggested configuration):\r\n```\r\nError: Unable to bind to 127.0.0.1:12866 on this computer. Bitcoin Core is probably already running.\r\nError: Failed to listen on any port. Use -listen=0 if you want this.\r\n```\r\n\r\n**With dummy onion bind** (current implementation):\r\n```\r\nTestFramework (INFO): Tests successful\r\n```\r\n\r\nThe issue is that when using only `-whitebind=0.0.0.0`, the test framework automatically adds an onion bind to the same node, causing a port conflict with other nodes in the test.\r\n\r\nTo avoid this, I added a dummy onion bind:\r\n```python\r\n['-discover', f'-whitebind=0.0.0.0:{self.bind_ports[2]}', f'-bind=127.0.0.1:{self.bind_ports[2]+100}=onion']\r\n```\r\n\r\nThis ensures the test runs successfully while still testing the intended `-whitebind=0.0.0.0` functionality. Would you like me to explore alternative approaches to avoid this port conflict?\r\n\r\nwhat do you think?",
      "user": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#issuecomment-3034729829",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32757"
    },
    {
      "event": "mentioned",
      "id": 18465644752,
      "node_id": "MEE_lADOABII5867qkfCzwAAAARMo2DQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18465644752",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-04T06:51:29Z"
    },
    {
      "event": "subscribed",
      "id": 18465644795,
      "node_id": "SE_lADOABII5867qkfCzwAAAARMo2D7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18465644795",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-04T06:51:29Z"
    },
    {
      "event": "labeled",
      "id": 18465706601,
      "node_id": "LE_lADOABII5867qkfCzwAAAARMpFJp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18465706601",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-04T06:56:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3034742942,
      "node_id": "IC_kwDOABII58604oCe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3034742942",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-04T06:56:41Z",
      "updated_at": "2025-07-04T06:56:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/45342616996</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by lint errors due to trailing whitespace and missing trailing newline in the code.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#issuecomment-3034742942",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32757"
    },
    {
      "event": "unlabeled",
      "id": 18467703942,
      "node_id": "UNLE_lADOABII5867qkfCzwAAAARMwsyG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18467703942",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-04T09:12:28Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18469493940,
      "node_id": "HRFPE_lADOABII5867qkfCzwAAAARM3hy0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18469493940",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ad3f60b0ea59dbbe7aedcfdcca1caddefffe6976",
      "commit_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits/ad3f60b0ea59dbbe7aedcfdcca1caddefffe6976",
      "created_at": "2025-07-04T10:43:28Z"
    },
    {
      "event": "review_requested",
      "id": 18469720067,
      "node_id": "RRE_lADOABII5867qkfCzwAAAARM4ZAD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18469720067",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-04T10:55:02Z",
      "requested_reviewer": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3020667324,
      "node_id": "PRR_kwDOABII5860C7m8",
      "url": null,
      "actor": null,
      "commit_id": "ad3f60b0ea59dbbe7aedcfdcca1caddefffe6976",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK ad3f60b0ea59dbbe7aedcfdcca1caddefffe6976\r\n\r\nBuilt and tested on macos/arm64 and debian/x86. Reviewed code changes which are minimal, this PR searches bind settings for 0.0.0.0 specifically to call Discover() which attempts to add local addresses for peer advertising. Also adds test coverage using `1.1.1.1` and `2.2.2.2` which I was able to set up and check locally on both platforms. Also tested on main.\r\n\r\nI would really like to know if its possible to run this test in CI as [vasild suggested here](https://github.com/bitcoin/bitcoin/issues/31293#issuecomment-2497792487) and if so, should probably be added to this PR\r\n\r\n<details><summary>Show Signature</summary>\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA256\r\n\r\nACK ad3f60b0ea59dbbe7aedcfdcca1caddefffe6976\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCAAdFiEE5hdzzW4BBA4vG9eM5+KYS2KJyToFAmh2awsACgkQ5+KYS2KJ\r\nyTouuhAAmT1tLlOOKdhryZE9K+44Bcsn6prMoLono71Dzf+U+hkQpfxaCcwlI17c\r\nhIW51zz/KZWTudgkDLSWU1RMhCDxMk8XFRdh47TD13OhOVrFJF3Al/uCrMFTXOB5\r\nmPX2c7v6xOvx6DRlqZlCNDKKTOV1gPIM3+vyScmPA68Vh4ibxwzfYK9Lr0ss92fA\r\nceyCZttPOV6v57dazDn2Lm3siGWfS0+urnwf02TIlShklfW6+juz9AWfa8cmHw8E\r\nGjO0D/r6BNW0TSeHSgt8jpxkVuGxl6opVkn+295hkZ4m9PM44eq7C1avK3yL9exl\r\nLlsGdk9e/vsesJZne+hnppux1xivbfRbze0Z2J3fOpSdckU8mL8TpJlnyoRbQXAo\r\nl3Cawmarwjm7sSQBRZsnAHNw6dN8qQ3ICkCPvK86UG8GLXhG76hcQBZY/NmwMqg7\r\nhl8Np64L3bpH8dHU1Q/9gxHy6h3lPw9GNiOZFaQVvGQZicTzY7WxjhHcAevEHDvu\r\nh9JxUBUPyroHxQkX2vDVBiyLM5pz8FtUOb7MWj5K0bFE1fg6IuY8XZog4BC/zWUL\r\neTLX330l883y2WoUrILAyrSe1B0HSt0SEh5yOqdwaBAuJ3lcvpht50D+0Z3wPvXU\r\nFShlGSxgvUHBAaDSf/7aG3d48uYkoSKKnek5i65RZIG1oViucUE=\r\n=snJ5\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\npinheadmz's public key is [on openpgp.org](https://keys.openpgp.org/vks/v1/by-fingerprint/E61773CD6E01040E2F1BD78CE7E2984B6289C93A)\r\n</details>\r\n",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-3020667324",
      "submitted_at": "2025-07-15T14:57:47Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
    },
    {
      "event": "review_requested",
      "id": 18640509101,
      "node_id": "RRE_lADOABII5867qkfCzwAAAARXD5it",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18640509101",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-15T14:57:51Z",
      "requested_reviewer": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 18640509371,
      "node_id": "RRE_lADOABII5867qkfCzwAAAARXD5m7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18640509371",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-15T14:57:52Z",
      "requested_reviewer": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE0N2RhNzk2YWRlOTg1M2FlNmRiYzcxMWY4MjFiZjdkYmI2ZjRlNGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/147da796ade9853ae6dbc711f821bf7dbb6f4e4d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/147da796ade9853ae6dbc711f821bf7dbb6f4e4d",
      "tree": {
        "sha": "f5ce4a9b54b5141eeb085bab7a53e0f3c5ee5a11",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f5ce4a9b54b5141eeb085bab7a53e0f3c5ee5a11"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f5ce4a9b54b5141eeb085bab7a53e0f3c5ee5a11\nparent 184159e4f30c6846cd0324ee07b59e7f8121a5ea\nauthor b-l-u-e <winnie.gitau282@gmail.com> 1751625499 +0300\ncommitter b-l-u-e <winnie.gitau282@gmail.com> 1752645843 +0300\n\nnet: Fix Discover() not running when using -bind=0.0.0.0:port and -whitebind=0.0.0.0\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE1OGoXF/1jSus0Epa6Kc45Y0Hi6wFAmh3QNMACgkQ6Kc45Y0H\ni6zuJQ//cjgVqM75C9ptcZPRAEjLdF3WAXRL5ynypg0oLmkJeKgJ5XJEboMXqSbm\nnfVpWiowbOXr0x+/SCi1LUzbU+7Jy6/UBPvSM7CKDaUg7xkyox41yRxWD3Am9dDs\nqUPbXu6Rq/5SSmE5KJPxeUSrqKX6f58RICOFJPZNAI7E9SB/tBCNoegz+wFcWOuh\n56zMscgC7f+JGxxGQLXZcvLqA6YXELHS2DaC89PZNfy+q5IlCn4AKQxZFwhs97V0\nXfKhkXHDzF2UF55+y2VN2sLxgOxXCjrK5K+Q2gE1O6Y53yORlF3PKhLzuU3OSodQ\neYl0BGd8i9sDX6FyxmBBQCRi90wA6ddGnWzKfdakIWz/JR7OJbbMqxXjLfXPIwS6\nStupX8mLXdY961WWXEz+sej+Q3+cAgeHb3A4soth8aRVzZSHzyOISQFHnuSGBpnf\nPLugX9DU8UDRdkWVTpbEWNq976SXXzqiFXULqTyDPdKNgb8kQjD1ykNY0pnQn/Z8\nfA772tOitpsWO5RaZCBEYk21M5lpYZohLnLDDNcsoTCmsSPH9EbV/kGnaT7fJZZ2\nUQ5RXODQKDtJsYUp/f21vQfXqGYuqpw+v2KUG08f5KDH90FE0piJ4iJaszhWD1dq\nW6xxhKnGfuXmHQWrqrm6pbuE4TtHkQ0QT5/kman3Rxa83T77/1s=\n=qVsS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/184159e4f30c6846cd0324ee07b59e7f8121a5ea",
          "sha": "184159e4f30c6846cd0324ee07b59e7f8121a5ea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/184159e4f30c6846cd0324ee07b59e7f8121a5ea"
        }
      ],
      "message": "net: Fix Discover() not running when using -bind=0.0.0.0:port and -whitebind=0.0.0.0",
      "committer": {
        "name": "b-l-u-e",
        "email": "winnie.gitau282@gmail.com",
        "date": "2025-07-16T06:04:03Z"
      },
      "author": {
        "name": "b-l-u-e",
        "email": "winnie.gitau282@gmail.com",
        "date": "2025-07-04T10:38:19Z"
      },
      "sha": "147da796ade9853ae6dbc711f821bf7dbb6f4e4d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18652007024,
      "node_id": "HRFPE_lADOABII5867qkfCzwAAAARXvwpw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18652007024",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "894fc0ce17d389062c63733c4e911d0d2e9a010f",
      "commit_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits/894fc0ce17d389062c63733c4e911d0d2e9a010f",
      "created_at": "2025-07-16T06:11:16Z"
    },
    {
      "event": "reviewed",
      "id": 3024172439,
      "node_id": "PRR_kwDOABII5860QTWX",
      "url": null,
      "actor": null,
      "commit_id": "894fc0ce17d389062c63733c4e911d0d2e9a010f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Thanks for fixing the nit in the test.\r\n\r\nIn general, nit-fixes should be squashed (not added as an extra commit) so the final commit history is clean and perfect ;-)\r\n\r\nAlso I think you rebased on master which is ok, but it makes review slightly harder because my local copy of your branch is now dozens of commits different from the current state of the PR. I used `git range-diff` to isolate the changes which is why its not like, a super hard rule, but again in general, try not to rebase on master unless you *have to* (to fix a conflict, include other merged commits, etc)",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-3024172439",
      "submitted_at": "2025-07-16T10:27:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18669519254,
      "node_id": "HRFPE_lADOABII5867qkfCzwAAAARYykGW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18669519254",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "57588f7a569c715297e468d244ceba872c6b4b85",
      "commit_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits/57588f7a569c715297e468d244ceba872c6b4b85",
      "created_at": "2025-07-16T23:59:19Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE5Yjc1NDJiNmVhMWFmNzcwZDkzY2JiZjViYjU1ZGFlNjg0MTMzNGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "tree": {
        "sha": "c59bbf5629a122c217fe547d302f9e805fcb212c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c59bbf5629a122c217fe547d302f9e805fcb212c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c59bbf5629a122c217fe547d302f9e805fcb212c\nparent 147da796ade9853ae6dbc711f821bf7dbb6f4e4d\nauthor b-l-u-e <winnie.gitau282@gmail.com> 1751625677 +0300\ncommitter b-l-u-e <winnie.gitau282@gmail.com> 1752711761 +0300\n\ntest: Update feature_bind_port_discover.py to use dynamic ports and add comprehensive test coverage\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE1OGoXF/1jSus0Epa6Kc45Y0Hi6wFAmh4QmAACgkQ6Kc45Y0H\ni6zTow/9EkcwTzcDgp8NjgA2zMF0w9p3Cuh2TGuRFqYdtIfxgT+gWBsQLFzaN/jg\nPR7QnPloOTX20QjI6kFv/2SrdQvEQln0yrRHC9GpPkvcJwW/6zpHViCaWVyQ+y1q\niY/ZoTvx2euZ4dHGH8o6K0A7juIEn3PbY0jOeDi1Uge9e4YB7ly9Bt4emLYwtFQ9\n+kmoVPOshZlQqifPK755lFpxpXvNKZGH6kc7CfWa1m0s8gwJNk9/2mvRpshDK9mX\nIX3TPooQsLessdl7ojt/t/LI7mFlL7CzovdxIRvpbd6mbGRdezrnRiBI/vdb+EQx\nPFvzjHEC8w8vkg+F6RTD9OSQuPkKqko0A4z9bSp5W8JdbzbgDmVmD8dD7VqhmdMm\nFyVzNJ1ABCoY3rwz/Ikb+N1gyVoYANlzDAEIFetJjpYJgH+uOmgX7P+PxO7MjDVD\n7nJgx/y22SWBkaZlC9cj+l07eJbKIB7pVYyDXNOPNxn4htj1flgXzYJaxntXOYm3\n3y8HoWnsm8+YXsSGCdWl3oCfy6iN6llsGOqkP4PzvUFG5FW7j+jo6aMkTly6y7BP\n0ZPzqj4Ihui7KGgZuTQlDgXl0oo3nV5DlvAH4i4XTAHFnYDean7dzN+CIL4jjGDa\n2kunxwy6t36kcfoezys3NnHXnd738f1QhQdx0WrZlb+hL2r+4rs=\n=8WjK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/147da796ade9853ae6dbc711f821bf7dbb6f4e4d",
          "sha": "147da796ade9853ae6dbc711f821bf7dbb6f4e4d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/147da796ade9853ae6dbc711f821bf7dbb6f4e4d"
        }
      ],
      "message": "test: Update feature_bind_port_discover.py to use dynamic ports and add comprehensive test coverage",
      "committer": {
        "name": "b-l-u-e",
        "email": "winnie.gitau282@gmail.com",
        "date": "2025-07-17T00:22:41Z"
      },
      "author": {
        "name": "b-l-u-e",
        "email": "winnie.gitau282@gmail.com",
        "date": "2025-07-04T10:41:17Z"
      },
      "sha": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18669727236,
      "node_id": "HRFPE_lADOABII5867qkfCzwAAAARYzW4E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18669727236",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "commit_url": "https://api.github.com/repos/b-l-u-e/bitcoin/commits/a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "created_at": "2025-07-17T00:23:36Z"
    },
    {
      "event": "review_requested",
      "id": 18677058417,
      "node_id": "RRE_lADOABII5867qkfCzwAAAARZPUtx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18677058417",
      "actor": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-17T10:14:21Z",
      "requested_reviewer": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3041523676,
      "node_id": "PRR_kwDOABII5861Sffc",
      "url": null,
      "actor": null,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Almost ACK a9b7542b6ea1af770d93cbbf5bb55dae6841334f\r\n\r\n> I encountered port conflicts because the test framework automatically adds an onion bind to node 2, \r\n\r\nHmm, I think it is not the test framework but `bitcoind` itself that adds the onion bind. To figure out how `bitcoind` is started, e.g. for `nodes[2]` I look at `/tmp/bitcoin_func_test_.../node2/regtest/debug.log` for the lines like:\r\n```\r\n...\r\nConfig file arg: [regtest] shrinkdebugfile=\"0\"\r\nConfig file arg: [regtest] unsafesqlitesync=\"1\"\r\nCommand-line arg: bind=\"127.0.0.1:23642=onion\"\r\nCommand-line arg: datadir=\"/tmp/bitcoin_func_test_h7qvveos/node2\"\r\n...\r\n```\r\n> which conflicts with the port already used by node 1\r\n\r\nAre you sure it is `nodes[1]` and `nodes[2]` conflicting? What is the error message? What is the output of `./test/functional/combine_logs.py |grep 'Bound to'`? I got `nodes[2]` to bind the whitebind and tor on the same port, see my comment below.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#pullrequestreview-3041523676",
      "submitted_at": "2025-07-22T07:38:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149150275",
      "pull_request_review_id": 2930796532,
      "id": 2149150275,
      "node_id": "PRRC_kwDOABII586AGW5D",
      "diff_hunk": "@@ -503,7 +503,7 @@ void SetupServerArgs(ArgsManager& argsman, bool can_listen_ipc)\n                    ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-pid=<file>\", strprintf(\"Specify pid file. Relative paths will be prefixed by a net-specific datadir location. (default: %s)\", BITCOIN_PID_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-prune=<n>\", strprintf(\"Reduce storage requirements by enabling pruning (deleting) of old blocks. This allows the pruneblockchain RPC to be called to delete specific blocks and enables automatic pruning of old blocks if a target size in MiB is provided. This mode is incompatible with -txindex. \"\n-            \"Warning: Reverting this setting requires re-downloading the entire blockchain. \"\n+                                           \"Warning: Reverting this setting requires re-downloading the entire blockchain. \"",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "5d5bf98bdb567c2233adb92ade4a23621bd1c920",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "all the whitespace changes look unrelated. Please remove them again. Otherwise, it is unclear what you are really changing in this commit.",
      "created_at": "2025-06-16T06:34:51Z",
      "updated_at": "2025-06-16T06:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2149150275",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149150275"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 506,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2159718431",
      "pull_request_review_id": 2947360035,
      "id": 2159718431,
      "node_id": "PRRC_kwDOABII586AurAf",
      "diff_hunk": "@@ -2024,7 +2024,17 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         StartTorControl(onion_service_target);\n     }\n \n-    if (connOptions.bind_on_any) {\n+    bool should_discover = connOptions.bind_on_any;\n+    if (!should_discover) {\n+        for (const auto& bind_addr : connOptions.vBinds) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "705fe3571947334cde80c71e8ba5db1398866b0d",
      "in_reply_to_id": null,
      "user": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "What about `-whitebind` here? \r\nThere was a patch suggestion from vasild [here](https://github.com/bitcoin/bitcoin/pull/31492/files#r2071427640) ",
      "created_at": "2025-06-20T22:14:21Z",
      "updated_at": "2025-06-20T22:25:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2159718431",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2159718431"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2029,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2159720833",
      "pull_request_review_id": 2947360035,
      "id": 2159720833,
      "node_id": "PRRC_kwDOABII586AurmB",
      "diff_hunk": "@@ -2024,7 +2024,17 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         StartTorControl(onion_service_target);\n     }\n \n-    if (connOptions.bind_on_any) {\n+    bool should_discover = connOptions.bind_on_any;\n+    if (!should_discover) {\n+        for (const auto& bind_addr : connOptions.vBinds) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "705fe3571947334cde80c71e8ba5db1398866b0d",
      "in_reply_to_id": 2159718431,
      "user": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "ahh my bad its already checked with `bind_on_any` bool.",
      "created_at": "2025-06-20T22:17:58Z",
      "updated_at": "2025-06-20T22:25:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2159720833",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2159720833"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2029,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2174811056",
      "pull_request_review_id": 2970813878,
      "id": 2174811056,
      "node_id": "PRRC_kwDOABII586BoPuw",
      "diff_hunk": "@@ -2024,7 +2024,17 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         StartTorControl(onion_service_target);\n     }\n \n-    if (connOptions.bind_on_any) {\n+    bool should_discover = connOptions.bind_on_any;\n+    if (!should_discover) {\n+        for (const auto& bind_addr : connOptions.vBinds) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "705fe3571947334cde80c71e8ba5db1398866b0d",
      "in_reply_to_id": 2159718431,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> its already checked with `bind_on_any` bool.\r\n\r\nI do not think so - the `bind_on_any` bool will be true if `-whitebind` and `-bind` are not given. The current patch will not run `Discover()` if `-whitebind=0.0.0.0` is used but it should. Here is an example patch to fix that:\r\n\r\n```diff\r\n--- i/src/init.cpp\r\n+++ w/src/init.cpp\r\n@@ -2030,12 +2030,20 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\r\n             if (bind_addr.IsBindAny()) {\r\n                 should_discover = true;\r\n                 break;\r\n             }\r\n         }\r\n     }\r\n+    if (!should_discover) {\r\n+        for (const auto& whitebind : connOptions.vWhiteBinds) {\r\n+            if (whitebind.m_service.IsBindAny()) {\r\n+                should_discover = true;\r\n+                break;\r\n+            }\r\n+        }\r\n+    }\r\n     \r\n     if (should_discover) {\r\n         // Only add all IP addresses of the machine if we would be listening on\r\n         // any address - 0.0.0.0 (IPv4) and :: (IPv6).\r\n         Discover();\r\n     }\r\n```\r\nyou can amend it to 705fe35719 `net: Fix Discover() not running when using -bind=0.0.0.0:port`",
      "created_at": "2025-06-30T11:04:22Z",
      "updated_at": "2025-06-30T11:04:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2174811056",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2174811056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2029,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2174818751",
      "pull_request_review_id": 2970826081,
      "id": 2174818751,
      "node_id": "PRRC_kwDOABII586BoRm_",
      "diff_hunk": "@@ -2024,7 +2024,17 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         StartTorControl(onion_service_target);\n     }\n ",
      "path": "src/init.cpp",
      "position": 3,
      "original_position": 3,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "776b7ee5855f7572798eff3014030bcc53aa7393",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Would be nice to keep the [length of lines in commit messages shorter](https://dev.to/noelworden/improving-your-commit-message-with-the-50-72-rule-3g79).",
      "created_at": "2025-06-30T11:09:00Z",
      "updated_at": "2025-06-30T11:12:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2174818751",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2174818751"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2033,
      "original_line": 2033,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2174824246",
      "pull_request_review_id": 2970826081,
      "id": 2174824246,
      "node_id": "PRRC_kwDOABII586BoS82",
      "diff_hunk": "@@ -25,16 +26,17 @@\n ADDR1 = '1.1.1.1'\n ADDR2 = '2.2.2.2'\n \n-BIND_PORT = 31001\n-\n class BindPortDiscoverTest(BitcoinTestFramework):\n     def set_test_params(self):\n         # Avoid any -bind= on the command line. Force the framework to avoid adding -bind=127.0.0.1.\n         self.setup_clean_chain = True\n         self.bind_to_localhost_only = False\n+        # Get dynamic ports for each node from the test framework\n+        self.bind_port_0 = p2p_port(0)\n+        self.bind_port_1 = p2p_port(1)\n         self.extra_args = [\n-            ['-discover', f'-port={BIND_PORT}'], # bind on any",
      "path": "test/functional/feature_bind_port_discover.py",
      "position": 27,
      "original_position": 23,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "776b7ee5855f7572798eff3014030bcc53aa7393",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The testing framework will add `-bind=0.0.0.0`, we want to test this. But we also want to test if no `-bind` is given at all. Here is a patch to do that and also to test `-whitebind=0.0.0.0`:\r\n\r\n```diff\r\n--- i/test/functional/feature_bind_port_discover.py\r\n+++ w/test/functional/feature_bind_port_discover.py\r\n@@ -26,23 +26,47 @@ from test_framework.util import (\r\n ADDR1 = '1.1.1.1'\r\n ADDR2 = '2.2.2.2'\r\n \r\n class BindPortDiscoverTest(BitcoinTestFramework):\r\n     def set_test_params(self):\r\n         # Avoid any -bind= on the command line. Force the framework to avoid adding -bind=127.0.0.1.\r\n-        self.setup_clean_chain = True\r\n         self.bind_to_localhost_only = False\r\n         # Get dynamic ports for each node from the test framework\r\n-        self.bind_port_0 = p2p_port(0)\r\n-        self.bind_port_1 = p2p_port(1)\r\n+        self.bind_ports = [\r\n+            p2p_port(0),\r\n+            p2p_port(2), # node0 will use their port + 1 for onion listen, which is the same as p2p_port(1), so avoid collision\r\n+            p2p_port(3),\r\n+            p2p_port(4),\r\n+        ]\r\n         self.extra_args = [\r\n-            ['-discover', f'-port={self.bind_port_0}'], # bind on any\r\n-            ['-discover', f'-bind={ADDR1}:{self.bind_port_1}'],\r\n+            ['-discover', f'-port={self.bind_ports[0]}', '-listen=1'], # Without any -bind\r\n+            ['-discover', f'-bind=0.0.0.0:{self.bind_ports[1]}'], # Explicit -bind=0.0.0.0\r\n+            ['-discover', f'-whitebind=0.0.0.0:{self.bind_ports[2]}'], # Explicit -whitebind=0.0.0.0\r\n+            ['-discover', f'-bind={ADDR1}:{self.bind_ports[3]}'], # Explicit -bind=routable_addr\r\n         ]\r\n         self.num_nodes = len(self.extra_args)\r\n \r\n+    def setup_network(self):\r\n+        \"\"\"\r\n+        BitcoinTestFramework.setup_network() without connecting node0 to node1,\r\n+        we don't need that and avoiding it makes the test faster.\r\n+        \"\"\"\r\n+        self.setup_nodes()\r\n+\r\n+    def setup_nodes(self):\r\n+        \"\"\"\r\n+        BitcoinTestFramework.setup_nodes() with overriden has_explicit_bind=True\r\n+        for each node and without the chain setup.\r\n+        \"\"\"\r\n+        self.add_nodes(self.num_nodes, self.extra_args)\r\n+        # TestNode.start() will add -bind= to extra_args if has_explicit_bind is\r\n+        # False. We do not want any -bind= thus set has_explicit_bind to True.\r\n+        for node in self.nodes:\r\n+            node.has_explicit_bind = True\r\n+        self.start_nodes()\r\n+\r\n     def add_options(self, parser):\r\n         parser.add_argument(\r\n             \"--ihave1111and2222\", action='store_true', dest=\"ihave1111and2222\",\r\n             help=f\"Run the test, assuming {ADDR1} and {ADDR2} are configured on the machine\",\r\n             default=False)\r\n \r\n@@ -51,33 +75,39 @@ class BindPortDiscoverTest(BitcoinTestFramework):\r\n             raise SkipTest(\r\n                 f\"To run this test make sure that {ADDR1} and {ADDR2} (routable addresses) are \"\r\n                 \"assigned to the interfaces on this machine and rerun with --ihave1111and2222\")\r\n \r\n     def run_test(self):\r\n         self.log.info(\r\n-                \"Test that if -bind= is not passed then all addresses are \"\r\n+                \"Test that if -bind= is not passed or -bind=0.0.0.0 is used then all addresses are \"\r\n                 \"added to localaddresses\")\r\n-        found_addr1 = False\r\n-        found_addr2 = False\r\n-        for local in self.nodes[0].getnetworkinfo()['localaddresses']:\r\n-            if local['address'] == ADDR1:\r\n-                found_addr1 = True\r\n-                assert_equal(local['port'], self.bind_port_0)\r\n-            if local['address'] == ADDR2:\r\n-                found_addr2 = True\r\n-                assert_equal(local['port'], self.bind_port_0)\r\n-        assert found_addr1\r\n-        assert found_addr2\r\n+        for i in [0, 1, 2]:\r\n+            found_addr1 = False\r\n+            found_addr2 = False\r\n+            for local in self.nodes[i].getnetworkinfo()['localaddresses']:\r\n+                if local['address'] == ADDR1:\r\n+                    found_addr1 = True\r\n+                    assert_equal(local['port'], self.bind_ports[i])\r\n+                if local['address'] == ADDR2:\r\n+                    found_addr2 = True\r\n+                    assert_equal(local['port'], self.bind_ports[i])\r\n+            if not found_addr1:\r\n+                self.log.error(f\"Address {ADDR1} not found in node{i}'s local addresses: {local}\")\r\n+                assert False\r\n+            if not found_addr2:\r\n+                self.log.error(f\"Address {ADDR2} not found in node{i}'s local addresses: {local}\")\r\n+                assert False\r\n \r\n         self.log.info(\r\n-                \"Test that if -bind= is passed then only that address is \"\r\n+                \"Test that if -bind=routable_addr is passed then only that address is \"\r\n                 \"added to localaddresses\")\r\n         found_addr1 = False\r\n-        for local in self.nodes[1].getnetworkinfo()['localaddresses']:\r\n+        i = 3\r\n+        for local in self.nodes[i].getnetworkinfo()['localaddresses']:\r\n             if local['address'] == ADDR1:\r\n                 found_addr1 = True\r\n-                assert_equal(local['port'], self.bind_port_1)\r\n+                assert_equal(local['port'], self.bind_ports[i])\r\n             assert_not_equal(local['address'], ADDR2)\r\n         assert found_addr1\r\n \r\n if __name__ == '__main__':\r\n     BindPortDiscoverTest(__file__).main()\r\n```",
      "created_at": "2025-06-30T11:12:30Z",
      "updated_at": "2025-06-30T11:13:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2174824246",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2174824246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2176886961",
      "pull_request_review_id": 2974294568,
      "id": 2176886961,
      "node_id": "PRRC_kwDOABII586BwKix",
      "diff_hunk": "@@ -2024,7 +2024,17 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         StartTorControl(onion_service_target);\n     }\n \n-    if (connOptions.bind_on_any) {\n+    bool should_discover = connOptions.bind_on_any;\n+    if (!should_discover) {\n+        for (const auto& bind_addr : connOptions.vBinds) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "705fe3571947334cde80c71e8ba5db1398866b0d",
      "in_reply_to_id": 2159718431,
      "user": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "thank you for the suggestion.",
      "created_at": "2025-07-01T08:50:57Z",
      "updated_at": "2025-07-01T08:50:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2176886961",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2176886961"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2029,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2176889079",
      "pull_request_review_id": 2974297800,
      "id": 2176889079,
      "node_id": "PRRC_kwDOABII586BwLD3",
      "diff_hunk": "@@ -25,16 +26,17 @@\n ADDR1 = '1.1.1.1'\n ADDR2 = '2.2.2.2'\n \n-BIND_PORT = 31001\n-\n class BindPortDiscoverTest(BitcoinTestFramework):\n     def set_test_params(self):\n         # Avoid any -bind= on the command line. Force the framework to avoid adding -bind=127.0.0.1.\n         self.setup_clean_chain = True\n         self.bind_to_localhost_only = False\n+        # Get dynamic ports for each node from the test framework\n+        self.bind_port_0 = p2p_port(0)\n+        self.bind_port_1 = p2p_port(1)\n         self.extra_args = [\n-            ['-discover', f'-port={BIND_PORT}'], # bind on any",
      "path": "test/functional/feature_bind_port_discover.py",
      "position": 27,
      "original_position": 23,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "776b7ee5855f7572798eff3014030bcc53aa7393",
      "in_reply_to_id": 2174824246,
      "user": {
        "login": "b-l-u-e",
        "id": 32414660,
        "node_id": "MDQ6VXNlcjMyNDE0NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32414660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/b-l-u-e",
        "html_url": "https://github.com/b-l-u-e",
        "followers_url": "https://api.github.com/users/b-l-u-e/followers",
        "following_url": "https://api.github.com/users/b-l-u-e/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/b-l-u-e/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/b-l-u-e/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/b-l-u-e/subscriptions",
        "organizations_url": "https://api.github.com/users/b-l-u-e/orgs",
        "repos_url": "https://api.github.com/users/b-l-u-e/repos",
        "events_url": "https://api.github.com/users/b-l-u-e/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/b-l-u-e/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "thank you for the suggestion..i will make changes",
      "created_at": "2025-07-01T08:51:34Z",
      "updated_at": "2025-07-01T08:51:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2176889079",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2176889079"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2207665334",
      "pull_request_review_id": 3020667324,
      "id": 2207665334,
      "node_id": "PRRC_kwDOABII586Dlky2",
      "diff_hunk": "@@ -52,28 +78,34 @@ def skip_test_if_missing_module(self):\n \n     def run_test(self):\n         self.log.info(\n-                \"Test that if -bind= is not passed then all addresses are \"\n+                \"Test that if -bind= is not passed or -bind=0.0.0.0 is used then all addresses are \"\n                 \"added to localaddresses\")\n-        found_addr1 = False\n-        found_addr2 = False\n-        for local in self.nodes[0].getnetworkinfo()['localaddresses']:\n-            if local['address'] == ADDR1:\n-                found_addr1 = True\n-                assert_equal(local['port'], BIND_PORT)\n-            if local['address'] == ADDR2:\n-                found_addr2 = True\n-                assert_equal(local['port'], BIND_PORT)\n-        assert found_addr1\n-        assert found_addr2\n+        for i in [0, 1, 2]:\n+            found_addr1 = False\n+            found_addr2 = False\n+            for local in self.nodes[i].getnetworkinfo()['localaddresses']:\n+                if local['address'] == ADDR1:\n+                    found_addr1 = True\n+                    assert_equal(local['port'], self.bind_ports[i])\n+                if local['address'] == ADDR2:\n+                    found_addr2 = True\n+                    assert_equal(local['port'], self.bind_ports[i])\n+            if not found_addr1:\n+                self.log.error(f\"Address {ADDR1} not found in node{i}'s local addresses: {local}\")\n+                assert False\n+            if not found_addr2:\n+                self.log.error(f\"Address {ADDR2} not found in node{i}'s local addresses: {local}\")\n+                assert False",
      "path": "test/functional/feature_bind_port_discover.py",
      "position": null,
      "original_position": 91,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "ad3f60b0ea59dbbe7aedcfdcca1caddefffe6976",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The variable `local` in these lines is being used outside the `for` loop which defines it. If `localaddresses` is empty `[]` the error message itself will cause an error.",
      "created_at": "2025-07-15T14:25:00Z",
      "updated_at": "2025-07-15T14:57:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2207665334",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2207665334"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": 93,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 99,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2209917430",
      "pull_request_review_id": 3024172439,
      "id": 2209917430,
      "node_id": "PRRC_kwDOABII586DuKn2",
      "diff_hunk": "@@ -91,10 +91,10 @@ def run_test(self):\n                     found_addr2 = True\n                     assert_equal(local['port'], self.bind_ports[i])\n             if not found_addr1:\n-                self.log.error(f\"Address {ADDR1} not found in node{i}'s local addresses: {local}\")\n+                self.log.error(f\"Address {ADDR1} not found in node{i}'s local addresses: {self.nodes[i].getnetworkinfo()['localaddresses']}\")\n                 assert False\n             if not found_addr2:\n-                self.log.error(f\"Address {ADDR2} not found in node{i}'s local addresses: {local}\")\n+                self.log.error(f\"Address {ADDR2} not found in node{i}'s local addresses: {self.nodes[i].getnetworkinfo()['localaddresses']}\")",
      "path": "test/functional/feature_bind_port_discover.py",
      "position": null,
      "original_position": 9,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "894fc0ce17d389062c63733c4e911d0d2e9a010f",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If you really want to log the RPC output, you could capture it in a variable just before the `for local in...` and then iterate that variable inside the for loop, and print it in the error message. It's easy to reproduce this if you need to test it (I had trouble getting 1.1.1.1 and 2.2.2.2 set up on my machine for this test!)",
      "created_at": "2025-07-16T10:23:19Z",
      "updated_at": "2025-07-16T10:27:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2209917430",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2209917430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": 94,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 97,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2221491082",
      "pull_request_review_id": 3041523676,
      "id": 2221491082,
      "node_id": "PRRC_kwDOABII586EaUOK",
      "diff_hunk": "@@ -25,19 +26,44 @@\n ADDR1 = '1.1.1.1'\n ADDR2 = '2.2.2.2'\n \n-BIND_PORT = 31001\n-\n class BindPortDiscoverTest(BitcoinTestFramework):\n     def set_test_params(self):\n         # Avoid any -bind= on the command line. Force the framework to avoid adding -bind=127.0.0.1.\n-        self.setup_clean_chain = True\n         self.bind_to_localhost_only = False\n+        # Get dynamic ports for each node from the test framework\n+        self.bind_ports = [\n+            p2p_port(0),\n+            p2p_port(2), # node0 will use their port + 1 for onion listen, which is the same as p2p_port(1), so avoid collision\n+            p2p_port(3),\n+            p2p_port(4),\n+        ]\n         self.extra_args = [\n-            ['-discover', f'-port={BIND_PORT}'], # bind on any\n-            ['-discover', f'-bind={ADDR1}:{BIND_PORT}'],\n+            ['-discover', f'-port={self.bind_ports[0]}', '-listen=1'], # Without any -bind\n+            ['-discover', f'-bind=0.0.0.0:{self.bind_ports[1]}'], # Explicit -bind=0.0.0.0\n+            # Explicit -whitebind=0.0.0.0, add dummy onion bind to avoid port conflict\n+            ['-discover', f'-whitebind=0.0.0.0:{self.bind_ports[2]}', f'-bind=127.0.0.1:{self.bind_ports[2]+100}=onion'],",
      "path": "test/functional/feature_bind_port_discover.py",
      "position": 32,
      "original_position": 32,
      "commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "original_commit_id": "a9b7542b6ea1af770d93cbbf5bb55dae6841334f",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The testing framework is designed so that it can run parallel executions on the same machine. For example, running two separate tests independently at the same time. To avoid port collisions between such independent executions is has `p2p_port(n)` and `tor_port(n)` which allocate ports in a range which (hopefully) will not overlap with the range from another test that executes concurrently (e.g. in another terminal). This `+100` seems a odds with this, maybe it could cause collisions.\r\n\r\nI would suggest to use only use `p2p_port()` or `tor_port()`. Something like this:\r\n\r\n```diff\r\n--- i/test/functional/feature_bind_port_discover.py\r\n+++ w/test/functional/feature_bind_port_discover.py\r\n@@ -8,12 +8,13 @@ Test that -discover does not add all interfaces' addresses if we listen on only\r\n \r\n from test_framework.test_framework import BitcoinTestFramework, SkipTest\r\n from test_framework.util import (\r\n     assert_equal,\r\n     assert_not_equal,\r\n     p2p_port,\r\n+    tor_port,\r\n )\r\n \r\n # We need to bind to a routable address for this test to exercise the relevant code\r\n # and also must have another routable address on another interface which must not\r\n # be named \"lo\" or \"lo0\".\r\n # To set these routable addresses on the machine, use:\r\n@@ -37,14 +38,14 @@ class BindPortDiscoverTest(BitcoinTestFramework):\r\n             p2p_port(3),\r\n             p2p_port(4),\r\n         ]\r\n         self.extra_args = [\r\n             ['-discover', f'-port={self.bind_ports[0]}', '-listen=1'], # Without any -bind\r\n             ['-discover', f'-bind=0.0.0.0:{self.bind_ports[1]}'], # Explicit -bind=0.0.0.0\r\n-            # Explicit -whitebind=0.0.0.0, add dummy onion bind to avoid port conflict\r\n-            ['-discover', f'-whitebind=0.0.0.0:{self.bind_ports[2]}', f'-bind=127.0.0.1:{self.bind_ports[2]+100}=onion'],\r\n+            # Explicit -whitebind=0.0.0.0, add onion bind to avoid port conflict\r\n+            ['-discover', f'-whitebind=0.0.0.0:{self.bind_ports[2]}', f'-bind=127.0.0.1:{tor_port(3)}=onion'],\r\n             ['-discover', f'-bind={ADDR1}:{self.bind_ports[3]}'], # Explicit -bind=routable_addr\r\n         ]\r\n         self.num_nodes = len(self.extra_args)\r\n \r\n     def setup_network(self):\r\n         \"\"\"\r\n```\r\n\r\nNote: the above patch avoids having `nodes[2]` bind on the same port for whitebind and tor. Without the above patch:\r\n\r\n```\r\nCommand-line arg: whitebind=\"0.0.0.0:11107\"\r\n...\r\nBound to 0.0.0.0:11107\r\nBound to 127.0.0.1:11107\r\n```\r\nwith it:\r\n```\r\nCommand-line arg: whitebind=\"0.0.0.0:13642\"\r\n...\r\nBound to 0.0.0.0:13642\r\nBound to 127.0.0.1:23642\r\n```\r\nif you got it conflicting with the port of `nodes[1]`, then that is a different issue.",
      "created_at": "2025-07-22T07:29:28Z",
      "updated_at": "2025-07-22T07:38:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32757#discussion_r2221491082",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2221491082"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32757"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 44,
      "original_line": 44,
      "side": "RIGHT"
    }
  ]
}