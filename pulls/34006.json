{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006",
    "id": 3071647442,
    "node_id": "PR_kwDOABII5863FZ7S",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34006",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34006.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34006.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/faa23738fc2576e412edb04a4004fab537a3098e",
    "number": 34006,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Add util::Expected (std::expected)",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "Some low-level code could benefit from being able to use `std::expected` from C++23:\r\n\r\n* Currently, some code is using `std::optional<E>` to denote an optional error. This is fine, but a bit confusing, because `std::optional` is normally used for values, not errors. Using `std::expected<void, E>` is clearer.\r\n* Currently, some code is using `std::variant<V, E>` to denote either a value or an error. This is fine, but a bit verbose, because `std::variant` requires a visitor or get_if/holds_alternative instead of a simple call of the `operator bool` for `std::expected`.\r\n\r\nIn theory, `util::Result` could be taught to behave similar to `std::expected` (see https://github.com/bitcoin/bitcoin/pull/34005). However, it is unclear if this is the right approach:\r\n\r\n* `util::Result` is mostly meant for higher level code, where errors come with translated error messages.\r\n* `std::expected` is mostly meant for lower level code, where errors could be an enum, or any other type.\r\n* https://github.com/bitcoin/bitcoin/pull/25665 aims to minimize the memory footprint of the error by wrapping it in a unique_ptr internally. `std::expected` requires the value and error to be \"nested within it\" (https://cplusplus.github.io/LWG/issue4141). So from a memory-layout perspective, the two are not compatible.\r\n* `std::expected` also comes with `std::unexpected`, which also does not map cleanly to `util::Result`.\r\n\r\nSo just add a minimal drop-in port of `std::expected`.",
    "labels": [],
    "created_at": "2025-12-04T14:36:17Z",
    "updated_at": "2025-12-09T08:29:33Z",
    "closed_at": "2025-12-09T01:12:03Z",
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2025-12-09T01:12:03Z",
    "merged_by": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "merge_commit_sha": "d5c8199b7904f4b13230d5677d4528591e4d5b41",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "maflcko:2512-exp",
      "ref": "2512-exp",
      "sha": "faa23738fc2576e412edb04a4004fab537a3098e",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "bitcoin-core",
        "full_name": "maflcko/bitcoin-core",
        "owner": {
          "login": "maflcko",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maflcko",
          "html_url": "https://github.com/maflcko",
          "followers_url": "https://api.github.com/users/maflcko/followers",
          "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
          "organizations_url": "https://api.github.com/users/maflcko/orgs",
          "repos_url": "https://api.github.com/users/maflcko/repos",
          "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/maflcko/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/maflcko/bitcoin-core",
        "fork": true,
        "url": "https://api.github.com/repos/maflcko/bitcoin-core",
        "archive_url": "https://api.github.com/repos/maflcko/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/maflcko/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/maflcko/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/maflcko/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/maflcko/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/maflcko/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/maflcko/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/maflcko/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/maflcko/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/maflcko/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/maflcko/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/maflcko/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/maflcko/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/maflcko/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/maflcko/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/maflcko/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/maflcko/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/maflcko/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/maflcko/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/maflcko/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/maflcko/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:maflcko/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/maflcko/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/maflcko/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/maflcko/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/maflcko/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/maflcko/bitcoin-core/hooks",
        "svn_url": "https://github.com/maflcko/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 25,
        "watchers_count": 25,
        "size": 266531,
        "default_branch": "master",
        "open_issues_count": 14,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-12-09T07:56:25Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2025-11-12T21:28:40Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e68517208b4cc02fa4e9e6a8de0fc43b536a3b02",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38313,
        "stargazers_count": 87163,
        "watchers_count": 87163,
        "size": 300094,
        "default_branch": "master",
        "open_issues_count": 722,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-12-09T01:12:01Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-12-09T08:02:40Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 191,
    "deletions": 20,
    "changed_files": 15,
    "commits": 2,
    "review_comments": 63,
    "comments": 14
  },
  "events": [
    {
      "event": "commented",
      "id": 3612561613,
      "node_id": "IC_kwDOABII587XU1DN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3612561613",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T14:36:27Z",
      "updated_at": "2025-12-08T16:01:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34006.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [romanz](https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3547700709), [sedited](https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3549497745), [hodlinator](https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3550883332), [rkrux](https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3551060765), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3552578391), [stickies-v](https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3552257782) |\n| Concept ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3612759553), [arejula27](https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3546080852) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33160](https://github.com/bitcoin/bitcoin/pull/33160) (bench: Add more realistic Coin Selection Bench by murchandamus)\n* [#28690](https://github.com/bitcoin/bitcoin/pull/28690) (build: Introduce internal kernel library by sedited)\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure types and ability to merge result values by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3612561613",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "commented",
      "id": 3612743633,
      "node_id": "IC_kwDOABII587XVhfR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3612743633",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T15:16:21Z",
      "updated_at": "2025-12-04T15:16:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3612743633",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "commented",
      "id": 3612759553,
      "node_id": "IC_kwDOABII587XVlYB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3612759553",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T15:19:41Z",
      "updated_at": "2025-12-04T15:19:41Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\n`FetchBlock()` is a good usage example.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3612759553",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21363478216,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT5XM7I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21363478216",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "facd77c6246040861d4f7519bf6a28e2db969478",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/facd77c6246040861d4f7519bf6a28e2db969478",
      "created_at": "2025-12-04T15:59:09Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21364115471,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT5ZogP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21364115471",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "created_at": "2025-12-04T16:26:01Z"
    },
    {
      "event": "labeled",
      "id": 21364131342,
      "node_id": "LE_lADOABII587cPLu6zwAAAAT5ZsYO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21364131342",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T16:26:42Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3613330088,
      "node_id": "IC_kwDOABII587XXwqo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3613330088",
      "actor": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T17:12:22Z",
      "updated_at": "2025-12-04T17:12:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Some low-level code could benefit from being able to use `std::expected` from C++23.\r\n\r\nCan you elaborate? How would it benefit? Over what alternative?",
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3613330088",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "commented",
      "id": 3613425769,
      "node_id": "IC_kwDOABII587XYIBp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3613425769",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T17:29:09Z",
      "updated_at": "2025-12-04T17:29:09Z",
      "author_association": "MEMBER",
      "body": "> > Some low-level code could benefit from being able to use `std::expected` from C++23.\r\n> \r\n> Can you elaborate? How would it benefit? Over what alternative?\r\n\r\nSure. The alternatives were listed in doc diff in the commit, but I've pulled it out and put in the pull description as well.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3613425769",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "unlabeled",
      "id": 21365905577,
      "node_id": "UNLE_lADOABII587cPLu6zwAAAAT5gdip",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21365905577",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T17:43:14Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3613640791,
      "node_id": "IC_kwDOABII587XY8hX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3613640791",
      "actor": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T18:07:45Z",
      "updated_at": "2025-12-04T18:07:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > > Some low-level code could benefit from being able to use `std::expected` from C++23.\r\n> > \r\n> > Can you elaborate? How would it benefit? Over what alternative?\r\n> \r\n> Sure. The alternatives were listed in doc diff in the commit, but I've pulled it out and put in the pull description as well.\r\n\r\nWhat is wrong with the most obvious approach to error handling?",
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3613640791",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "commented",
      "id": 3613873411,
      "node_id": "IC_kwDOABII587XZ1UD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3613873411",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-04T18:54:19Z",
      "updated_at": "2025-12-04T18:54:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. We have a lot of low-level code where `std::expected` would be useful, and this PR enables that without having to wait for C++23. (#34005 is another PR that does the same thing and seems like a good approach as well.)\r\n\r\nI do think `util::Result` can provide a lot of useful functionality for higher-level code that `std::expected` doesn't, and I've been testing that idea in various PRs (#25665, #25722, #29700, #26022). But I think the fate of the `util::Result` class is a separate question, and that the classes can be compatible and each used where they make sense.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3613873411",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "reviewed",
      "id": 3541953136,
      "node_id": "PRR_kwDOABII587THepw",
      "url": null,
      "actor": null,
      "commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-04T20:26:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. Functions with return type `std::optional<E>` returning a truthy value on failure is unintuitive, this is much better.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3541953136",
      "submitted_at": "2025-12-04T20:26:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "commented",
      "id": 3615621559,
      "node_id": "IC_kwDOABII587XggG3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3615621559",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T07:26:27Z",
      "updated_at": "2025-12-05T07:26:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3613640791\r\n\r\n> What is wrong with the most obvious approach to error handling?\r\n\r\nI am guessing you are asking why not just use exceptions? If so, I think they could be an alternative for these situations too. I'd be curious how a similar function contract could be enforced with an exception. ",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3615621559",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "commented",
      "id": 3615779397,
      "node_id": "IC_kwDOABII587XhGpF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3615779397",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T08:24:01Z",
      "updated_at": "2025-12-05T08:24:01Z",
      "author_association": "MEMBER",
      "body": "> just use exceptions?\r\n\r\nI don't think exceptions are a suitable alternative for low-level code in this repo, where `std::expected` is appropriate. In places where exceptions are used today, it is tedious to review the code and its behavior. For example, the same exception from an IO error in a database will sometimes terminate the program unclean, and sometimes cleanly shut down the program (https://github.com/bitcoin/bitcoin/pull/33042#issuecomment-3116540946), depending on which thread or with module called the function that threw.\r\n\r\nIf you are referring to P3166, then I don't think it made it into C++26 (https://github.com/cplusplus/papers/issues/1829#issuecomment-2983235299), so I don't think it is a practical alternative in places where `std::expected` is appropriate.\r\n\r\nI am not saying there is no use-case for exceptions today, but I don't think the presence of exceptions is a valid reason to rule out the use of `std::expected`.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3615779397",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "reviewed",
      "id": 3544455114,
      "node_id": "PRR_kwDOABII587TRBfK",
      "url": null,
      "actor": null,
      "commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T12:14:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK fa1eee4f46fd089d6e19b124addee7c7679585f4\n\nI prefer introducing `util::Expected` as a distinct type from `util::Result`, with a clear upgrade path to `std::expected` once we have C++23. (Maybe `util::Result` can later be implemented as a special case of `util::Expected`).\n\nRecently suggested `std::variant` in another PR instead of using out-parameters (https://github.com/bitcoin/bitcoin/pull/33657#discussion_r2584393520) but would strongly prefer `util::Expected`, had it existed.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3544455114",
      "submitted_at": "2025-12-05T12:14:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "reviewed",
      "id": 3544689017,
      "node_id": "PRR_kwDOABII587TR6l5",
      "url": null,
      "actor": null,
      "commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T13:03:26Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3544689017",
      "submitted_at": "2025-12-05T13:03:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21384785886,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT6oe_e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21384785886",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fa80cca5dd193668300df891876287dacca6159e",
      "created_at": "2025-12-05T13:29:41Z"
    },
    {
      "event": "reviewed",
      "id": 3544661442,
      "node_id": "PRR_kwDOABII587TRz3C",
      "url": null,
      "actor": null,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T13:40:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa80cca5dd193668300df891876287dacca6159e. Looks great! This is a minimal implementation of the std::expected class that may be marginally less efficient (doesn't have a void specialization, may do some unnecessary moves/copies) and lacks some features, but is usable and can be expanded, and is basically as simple as possible. I left some comments and suggestions below but none are important. I also updated the #25665 PR description to compare the `Result` and `Expected` classes.\n\n\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3544661442",
      "submitted_at": "2025-12-05T13:40:28Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "review_requested",
      "id": 21384987375,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT6pQLv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21384987375",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T13:40:32Z",
      "requested_reviewer": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 21384987666,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT6pQQS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21384987666",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T13:40:33Z",
      "requested_reviewer": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 21384987951,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT6pQUv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21384987951",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T13:40:34Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 21384988271,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT6pQZv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21384988271",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T13:40:35Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21385478214,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT6rIBG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21385478214",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "created_at": "2025-12-05T14:05:53Z"
    },
    {
      "event": "labeled",
      "id": 21385488748,
      "node_id": "LE_lADOABII587cPLu6zwAAAAT6rKls",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21385488748",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T14:06:24Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3545066334,
      "node_id": "PRR_kwDOABII587TTWte",
      "url": null,
      "actor": null,
      "commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T14:41:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3545066334",
      "submitted_at": "2025-12-05T14:41:19Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "reviewed",
      "id": 3545090345,
      "node_id": "PRR_kwDOABII587TTckp",
      "url": null,
      "actor": null,
      "commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T14:47:32Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3545090345",
      "submitted_at": "2025-12-05T14:47:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "review_requested",
      "id": 21386354707,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT6ueAT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21386354707",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T14:47:38Z",
      "requested_reviewer": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "unlabeled",
      "id": 21387066929,
      "node_id": "UNLE_lADOABII587cPLu6zwAAAAT6xL4x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21387066929",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T15:22:13Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3545590480,
      "node_id": "PRR_kwDOABII587TVWrQ",
      "url": null,
      "actor": null,
      "commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T17:07:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3545590480",
      "submitted_at": "2025-12-05T17:07:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "reviewed",
      "id": 3546080852,
      "node_id": "PRR_kwDOABII587TXOZU",
      "url": null,
      "actor": null,
      "commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-05T23:18:23Z",
      "author_association": "NONE",
      "body": "\r\nConcept ACK [fa76a6620012fb738639d8fd7ce17b185bfd376c]\r\n\r\nThis PR is valuable because it creates a smooth path toward adopting the new C++23 standard. Instead of requiring a full refactor to `std::expected` all at once, it allows the codebase to transition gradually, simply by replacing `utils::expected` with `std::expected` later on.\r\n\r\nI also like the idea of introducing this error handling paradigm into the repository. `expected` is a clean way to handle errors and aligns with the modern programming languages such as Rust, where a function returns either a value or an error. By contrast, `try`/`catch` approach (also mentioned in the discussion)  often lead to poor error handling, either vague error messages or overly complex and hard-to-reason-about control flow. Using an explicit result type avoids these issues.\r\n\r\n`std::optional` is  currently used in this repo  as an approximation of this pattern, but it isnt a correct fit. A function can succeed with a value, succeed without a value, or fail with an error, all of which `optional` cannot distinguish cleanly.\r\n\r\nLooking forward, Id like to consider using only `std::expected` throughout the codebase, with `utils::Result` becoming a thin wrapper around `std::expected` only when additional logging is required. Alternatively, instead of `utils::Result` we could provide static helper functions, which consumes `std::expected` to make error logging  user-friendly. Unifying the error-handling approach would make maintenance and review easier, since developers wouldnt need to think about which mechanism is appropriate for each function, there would be just one.\r\n\r\nHowever, as I mentioned in an inline comment, there are also good arguments in favor of keeping both types. If we go in that direction, I would suggest improving the documentation and adding a constructor (or conversion path) from `utils::expected` to `utils::Result`. This would make it easier to use both patterns together: `utils::expected` for nested or lower-level functions, and `utils::Result` only at the top level where a user-facing error message is ultimately needed.",
      "user": {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3546080852",
      "submitted_at": "2025-12-05T19:27:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "review_requested",
      "id": 21391671214,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT7Cv-u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21391671214",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-05T19:27:38Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3547326027,
      "node_id": "PRR_kwDOABII587Tb-ZL",
      "url": null,
      "actor": null,
      "commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-06T09:18:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3547326027",
      "submitted_at": "2025-12-06T09:18:58Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "review_requested",
      "id": 21398913727,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT7eYK_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21398913727",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T09:19:03Z",
      "requested_reviewer": {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21398959384,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT7ejUY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21398959384",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fafbb55ebdee3ece07e24e8549ecf4fb9bd3e8f0",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fafbb55ebdee3ece07e24e8549ecf4fb9bd3e8f0",
      "created_at": "2025-12-06T09:31:33Z"
    },
    {
      "event": "labeled",
      "id": 21398961473,
      "node_id": "LE_lADOABII587cPLu6zwAAAAT7ej1B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21398961473",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T09:32:09Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21399037761,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT7e2dB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399037761",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fa8c6dbc83915c9b97b2a33c3f35c09429453628",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fa8c6dbc83915c9b97b2a33c3f35c09429453628",
      "created_at": "2025-12-06T09:53:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21399119109,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT7fKUF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399119109",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fa4e4b9c535da671bd8dbbfdf07bcd2019168289",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fa4e4b9c535da671bd8dbbfdf07bcd2019168289",
      "created_at": "2025-12-06T10:12:52Z"
    },
    {
      "event": "commented",
      "id": 3619893884,
      "node_id": "IC_kwDOABII587XwzJ8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3619893884",
      "actor": {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T10:41:01Z",
      "updated_at": "2025-12-06T10:46:16Z",
      "author_association": "NONE",
      "body": "@maflcko Do you think it will be interesting to follow the `std::expected` class methods and add:\r\n- [value_or](https://en.cppreference.com/w/cpp/utility/expected/value_or.html)\r\n- [error_or](https://en.cppreference.com/w/cpp/utility/expected/error_or.html)\r\n\r\nI think it will be valuable and will give more flexibility in error handling cases",
      "user": {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3619893884",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "mentioned",
      "id": 21399255801,
      "node_id": "MEE_lADOABII587cPLu6zwAAAAT7frr5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399255801",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T10:41:03Z"
    },
    {
      "event": "subscribed",
      "id": 21399255808,
      "node_id": "SE_lADOABII587cPLu6zwAAAAT7frsA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399255808",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T10:41:03Z"
    },
    {
      "event": "unlabeled",
      "id": 21399566526,
      "node_id": "UNLE_lADOABII587cPLu6zwAAAAT7g3i-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399566526",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T11:28:19Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21399817572,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT7h01k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399817572",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "faec3ace85f3ff14a3512fe709500e7720604f25",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/faec3ace85f3ff14a3512fe709500e7720604f25",
      "created_at": "2025-12-06T11:49:27Z"
    },
    {
      "event": "commented",
      "id": 3620016424,
      "node_id": "IC_kwDOABII587XxREo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3620016424",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T11:49:59Z",
      "updated_at": "2025-12-06T11:49:59Z",
      "author_association": "MEMBER",
      "body": "> @maflcko Do you think it will be interesting to follow the `std::expected` class methods and add:\r\n> \r\n>     * [value_or](https://en.cppreference.com/w/cpp/utility/expected/value_or.html)\r\n> \r\n>     * [error_or](https://en.cppreference.com/w/cpp/utility/expected/error_or.html)\r\n> \r\n> \r\n> I think it will be valuable and will give more flexibility in error handling cases\r\n\r\nI don't see a valid use-case for `error_or`, but i guess value_or may come in handy possibly in the future. Other than that, please refer to the docs:\r\n\r\n```\r\n/// The util::Expected class provides a standard way for low-level functions to\r\n/// return either error values or result values.\r\n///\r\n/// It provides a smaller version of std::expected from C++23. Missing features\r\n/// can be added, if needed.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3620016424",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "mentioned",
      "id": 21399823159,
      "node_id": "MEE_lADOABII587cPLu6zwAAAAT7h2M3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399823159",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T11:50:00Z"
    },
    {
      "event": "subscribed",
      "id": 21399823229,
      "node_id": "SE_lADOABII587cPLu6zwAAAAT7h2N9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399823229",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T11:50:01Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMTE0YmUyN2IxN2VkMzJjMWQ5YTcxMDZmMzEzYTBkZjg3NTVmYTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa114be27b17ed32c1d9a7106f313a0df8755fa2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa114be27b17ed32c1d9a7106f313a0df8755fa2",
      "tree": {
        "sha": "a4300faa01f560073791df57172c3cf3d241c6e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a4300faa01f560073791df57172c3cf3d241c6e6"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree a4300faa01f560073791df57172c3cf3d241c6e6\nparent e68517208b4cc02fa4e9e6a8de0fc43b536a3b02\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1764860059 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1765022781 +0100\n\nAdd util::Expected (std::expected)\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQBphelyTiDWrOhT30UKHYARrJpAnj1VOfQZDJcUWAbWx3cMqNTaZbgEeS94O0j+AXU\nYSfaz5AoJVhUspw0VBZgo=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e68517208b4cc02fa4e9e6a8de0fc43b536a3b02",
          "sha": "e68517208b4cc02fa4e9e6a8de0fc43b536a3b02",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e68517208b4cc02fa4e9e6a8de0fc43b536a3b02"
        }
      ],
      "message": "Add util::Expected (std::expected)",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-12-06T12:06:21Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-12-04T14:54:19Z"
      },
      "sha": "fa114be27b17ed32c1d9a7106f313a0df8755fa2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYTIzNzM4ZmMyNTc2ZTQxMmVkYjA0YTQwMDRmYWI1MzdhMzA5OGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa23738fc2576e412edb04a4004fab537a3098e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/faa23738fc2576e412edb04a4004fab537a3098e",
      "tree": {
        "sha": "dccb952efdc7205ee8ecdc5baa16b59486f4cd08",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dccb952efdc7205ee8ecdc5baa16b59486f4cd08"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree dccb952efdc7205ee8ecdc5baa16b59486f4cd08\nparent fa114be27b17ed32c1d9a7106f313a0df8755fa2\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1765013514 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1765022788 +0100\n\nrefactor: Enable clang-tidy bugprone-unused-return-value\n\nThis requires some small refactors to silence false-positive warnings.\n\nAlso, expand the bugprone-unused-return-value.CheckedReturnTypes option\nto include util::Result, and util::Expected.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQNqTJZaslhCs2yVsZVyWopwIkJlsMc8eUc/V5g8ypHnBLXfAbORIp7NNbftf0Bao9n\nuLMm6+hiGYntRrCI0Z4gc=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa114be27b17ed32c1d9a7106f313a0df8755fa2",
          "sha": "fa114be27b17ed32c1d9a7106f313a0df8755fa2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa114be27b17ed32c1d9a7106f313a0df8755fa2"
        }
      ],
      "message": "refactor: Enable clang-tidy bugprone-unused-return-value\n\nThis requires some small refactors to silence false-positive warnings.\n\nAlso, expand the bugprone-unused-return-value.CheckedReturnTypes option\nto include util::Result, and util::Expected.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-12-06T12:06:28Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-12-06T09:31:54Z"
      },
      "sha": "faa23738fc2576e412edb04a4004fab537a3098e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21399964134,
      "node_id": "HRFPE_lADOABII587cPLu6zwAAAAT7iYnm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399964134",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/faa23738fc2576e412edb04a4004fab537a3098e",
      "created_at": "2025-12-06T12:06:39Z"
    },
    {
      "event": "labeled",
      "id": 21399966815,
      "node_id": "LE_lADOABII587cPLu6zwAAAAT7iZRf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21399966815",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T12:07:08Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3620058438,
      "node_id": "IC_kwDOABII587XxbVG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3620058438",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T12:07:25Z",
      "updated_at": "2025-12-06T12:07:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n At least one of the CI tasks failed.\n<sub>Task `tidy`: https://github.com/bitcoin/bitcoin/actions/runs/19988056440/job/57324791049</sub>\n<sub>LLM reason ( experimental): clang-tidy failure: use-after-move detected in util_expected_tests.cpp, causing CI to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3620058438",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "unlabeled",
      "id": 21400707816,
      "node_id": "UNLE_lADOABII587cPLu6zwAAAAT7lOLo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21400707816",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T13:23:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3547700709,
      "node_id": "PRR_kwDOABII587TdZ3l",
      "url": null,
      "actor": null,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-06T15:35:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "tACK faa23738fc\r\n\r\nWorks with #33657 (rebased over this PR).",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3547700709",
      "submitted_at": "2025-12-06T14:35:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "review_requested",
      "id": 21401305415,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT7ngFH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21401305415",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T14:35:16Z",
      "requested_reviewer": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 21401305541,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT7ngHF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21401305541",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T14:35:18Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3547855505,
      "node_id": "PRR_kwDOABII587Td_qR",
      "url": null,
      "actor": null,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-06T16:07:26Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3547855505",
      "submitted_at": "2025-12-06T16:07:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "review_requested",
      "id": 21402078112,
      "node_id": "RRE_lADOABII587cPLu6zwAAAAT7qcug",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21402078112",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-06T16:07:32Z",
      "requested_reviewer": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3549497745,
      "node_id": "PRR_kwDOABII587TkQmR",
      "url": null,
      "actor": null,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-07T18:56:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re-ACK faa23738fc2576e412edb04a4004fab537a3098e",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3549497745",
      "submitted_at": "2025-12-07T18:56:05Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "reviewed",
      "id": 3550883332,
      "node_id": "PRR_kwDOABII587Tpi4E",
      "url": null,
      "actor": null,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-08T09:07:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK faa23738fc2576e412edb04a4004fab537a3098e",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3550883332",
      "submitted_at": "2025-12-08T09:07:30Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "reviewed",
      "id": 3551060765,
      "node_id": "PRR_kwDOABII587TqOMd",
      "url": null,
      "actor": null,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-08T09:34:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "light Code Review ACK faa23738fc2576e412edb04a4004fab537a3098e\r\n\r\nOnboard with the intent of using (util/std)::Expected for the use cases mentioned in the PR description.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3551060765",
      "submitted_at": "2025-12-08T09:34:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "reviewed",
      "id": 3552578391,
      "node_id": "PRR_kwDOABII587TwAtX",
      "url": null,
      "actor": null,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-09T01:09:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK faa23738fc2576e412edb04a4004fab537a3098e, only adding `value_or` implementation and `CheckedReturnTypes` clang-tidy commit since last review.\r\n\r\nI think this is ok to merge as-is but I left some suggestions about `value_or`, and I think the `[[maybe_unused]] auto _{...}` uses in the second commit are pretty ugly and it would be nice if they could be changed to use `(void)` instead.\r\n\r\nIt could also be nice make the other suggested improvements, but not important:\r\n\r\n- Avoiding returning `std::monostate` as suggested by hodlinator: https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592454740\r\n- Throwing BadExpectedAccess in release builds, aborting in debug builds as suggested by hodlinator https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597679959 seems reasonable\r\n- Adding Unexpected accessor as suggested by stickies https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2593341384 also seems reasonable\r\n- Using in_place_index suggested by stickies https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2598773353\r\n- Improving httpserver as suggested by stickies https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599122933\r\n\r\nEDIT: Linked to more suggestions",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3552578391",
      "submitted_at": "2025-12-08T15:51:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "reviewed",
      "id": 3552257782,
      "node_id": "PRR_kwDOABII587Tuyb2",
      "url": null,
      "actor": null,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-08T16:01:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK faa23738fc2576e412edb04a4004fab537a3098e\r\n\r\nCurrent code seems fine to merge as-is, but I would prefer addressing more of the outstanding comments (from myself and other reviewers) first.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3552257782",
      "submitted_at": "2025-12-08T16:01:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
    },
    {
      "event": "merged",
      "id": 21440486909,
      "node_id": "ME_lADOABII587cPLu6zwAAAAT98939",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21440486909",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d5c8199b7904f4b13230d5677d4528591e4d5b41",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d5c8199b7904f4b13230d5677d4528591e4d5b41",
      "created_at": "2025-12-09T01:12:03Z"
    },
    {
      "event": "closed",
      "id": 21440486922,
      "node_id": "CE_lADOABII587cPLu6zwAAAAT9894K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21440486922",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T01:12:03Z"
    },
    {
      "event": "commented",
      "id": 3629757028,
      "node_id": "IC_kwDOABII587YWbJk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3629757028",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T01:13:40Z",
      "updated_at": "2025-12-09T01:13:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "I merged this since it seems like a clear improvement that other changes can build on. Also took \"whichever happens earlier\" (https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599410546) as a hint to mean the author is happy to see this merged as is. Followup suggestion are listed in: https://github.com/bitcoin/bitcoin/pull/34006#pullrequestreview-3552578391\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3629757028",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    },
    {
      "event": "head_ref_deleted",
      "id": 21444939816,
      "node_id": "HRDE_lADOABII587cPLu6zwAAAAT-N9Ao",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21444939816",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T06:26:18Z"
    },
    {
      "event": "commented",
      "id": 3630985370,
      "node_id": "IC_kwDOABII587YbHCa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3630985370",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-09T08:29:33Z",
      "updated_at": "2025-12-09T08:29:33Z",
      "author_association": "MEMBER",
      "body": "I pushed https://github.com/bitcoin/bitcoin/pull/34032 to add all of the unused member functions requested by reviewers, and resolved the threads here. let me know if I have forgotten anything.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#issuecomment-3630985370",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34006"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592454740",
      "pull_request_review_id": 3544455114,
      "id": 2592454740,
      "node_id": "PRRC_kwDOABII586ahbhU",
      "diff_hunk": "@@ -536,8 +536,8 @@ static RPCHelpMan getblockfrompeer()\n         throw JSONRPCError(RPC_MISC_ERROR, \"Block already downloaded\");\n     }\n \n-    if (const auto err{peerman.FetchBlock(peer_id, *index)}) {\n-        throw JSONRPCError(RPC_MISC_ERROR, err.value());\n+    if (const auto res{peerman.FetchBlock(peer_id, *index)}; !res) {",
      "path": "src/rpc/blockchain.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This example shows that replacing `std::optional<ErrorType>` with `util::Expected<void, ErrorType>` is not totally risk-free as the old condition would still compile but be inverted. `err.value()` on the next line would have failed in this case though since it would return `void` which is an invalid argument type to the `JSONRPCError`-ctor.\n\nIt's tempting to add constraints to `value()` like so:\n```C++\n    constexpr const T& value() const LIFETIMEBOUND\n        requires(!std::is_same_v<V, void>)\n    {\n        assert(has_value());\n        return std::get<0>(m_data);\n    }\n    constexpr T& value() LIFETIMEBOUND\n        requires(!std::is_same_v<V, void>)\n    {\n        assert(has_value());\n        return std::get<0>(m_data);\n    }\n```\nBut I think that makes replacing `util::Expected` with `std::expected` in the future a hard-fork.",
      "created_at": "2025-12-05T12:02:43Z",
      "updated_at": "2025-12-05T12:14:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592454740",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592454740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 539,
      "original_line": 539,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592580254",
      "pull_request_review_id": 3544629717,
      "id": 2592580254,
      "node_id": "PRRC_kwDOABII586ah6Ke",
      "diff_hunk": "@@ -536,8 +536,8 @@ static RPCHelpMan getblockfrompeer()\n         throw JSONRPCError(RPC_MISC_ERROR, \"Block already downloaded\");\n     }\n \n-    if (const auto err{peerman.FetchBlock(peer_id, *index)}) {\n-        throw JSONRPCError(RPC_MISC_ERROR, err.value());\n+    if (const auto res{peerman.FetchBlock(peer_id, *index)}; !res) {",
      "path": "src/rpc/blockchain.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592454740,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> This example shows that replacing `std::optional<ErrorType>` with `util::Expected<void, ErrorType>` is not totally risk-free as the old condition would still compile but be inverted.\r\n\r\nYes, the inversions is one of the reasons to do this change. I agree there is a risk, but is should be pretty obvious for reviewers to look out for. Also, hopefully the cases are rare where the value type and the error type are close enough to make `value()` and `error()` swappable at the call-site.\r\n\r\n> constraints\r\n\r\nSeems fine to add them, because I don't think there will ever be code to unwrap a void result, but as you say, they don't exist in `std::expected`, so I'll leave as-is for now.",
      "created_at": "2025-12-05T12:45:05Z",
      "updated_at": "2025-12-05T12:45:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592580254",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592580254"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 539,
      "original_line": 539,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592606248",
      "pull_request_review_id": 3544661442,
      "id": 2592606248,
      "node_id": "PRRC_kwDOABII586aiAgo",
      "diff_hunk": "@@ -103,7 +104,7 @@ class PeerManager : public CValidationInterface, public NetEventsInterface\n      * @param[in]  block_index  The blockindex\n      * @returns std::nullopt if a request was successfully made, otherwise an error message",
      "path": "src/net_processing.h",
      "position": 1,
      "original_position": 10,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa1eee4f46fd089d6e19b124addee7c7679585f4)\n\nLooks like comment needs to be updated",
      "created_at": "2025-12-05T12:54:30Z",
      "updated_at": "2025-12-05T13:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592606248",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592606248"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592628772",
      "pull_request_review_id": 3544661442,
      "id": 2592628772,
      "node_id": "PRRC_kwDOABII586aiGAk",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 37,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa1eee4f46fd089d6e19b124addee7c7679585f4)\n\nIs there a reason to use std::monostate{} here instead of T{}? Actual `std::expected` class seems to allow default construction",
      "created_at": "2025-12-05T13:03:05Z",
      "updated_at": "2025-12-05T13:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592628772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592628772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592629697",
      "pull_request_review_id": 3544689017,
      "id": 2592629697,
      "node_id": "PRRC_kwDOABII586aiGPB",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());",
      "path": "src/util/expected.h",
      "position": 52,
      "original_position": 49,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Requires `#include <cassert>`.",
      "created_at": "2025-12-05T13:03:26Z",
      "updated_at": "2025-12-05T13:03:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592629697",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592629697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592667468",
      "pull_request_review_id": 3544661442,
      "id": 2592667468,
      "node_id": "PRRC_kwDOABII586aiPdM",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 33,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa1eee4f46fd089d6e19b124addee7c7679585f4)\n\nNormally T is a template parameter and internal types like this have more descriptive names. Would suggest renaming V to T to match std::expected [documentation](https://en.cppreference.com/w/cpp/utility/expected.html) and T to ValueType or similar",
      "created_at": "2025-12-05T13:17:16Z",
      "updated_at": "2025-12-05T13:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592667468",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592667468"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592674188",
      "pull_request_review_id": 3544661442,
      "id": 2592674188,
      "node_id": "PRRC_kwDOABII586aiRGM",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 47,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa1eee4f46fd089d6e19b124addee7c7679585f4)\n\nMight be better to use `V` instead f T here. My concern is just that with `Expected<void>` this will leak std::monostate and monostate should be a private implementation detail. Similarly for other accessors below returning `T`",
      "created_at": "2025-12-05T13:19:47Z",
      "updated_at": "2025-12-05T13:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592674188",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592674188"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592682040",
      "pull_request_review_id": 3544661442,
      "id": 2592682040,
      "node_id": "PRRC_kwDOABII586aiTA4",
      "diff_hunk": "@@ -0,0 +1,55 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#include <test/util/setup_common.h>\n+#include <util/expected.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+using namespace util;\n+\n+BOOST_AUTO_TEST_SUITE(util_expected_tests)\n+\n+BOOST_AUTO_TEST_CASE(expected_value)\n+{\n+    struct Obj {\n+        int x;\n+    };\n+    Expected<Obj, int> e{Obj{42}};",
      "path": "src/test/util_expected_tests.cpp",
      "position": 1,
      "original_position": 19,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa1eee4f46fd089d6e19b124addee7c7679585f4)\n\nMaybe add a test for a default constructed instance (if this will be supported)",
      "created_at": "2025-12-05T13:22:38Z",
      "updated_at": "2025-12-05T13:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592682040",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592682040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592686682",
      "pull_request_review_id": 3544661442,
      "id": 2592686682,
      "node_id": "PRRC_kwDOABII586aiUJa",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+    constexpr T& value() LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+\n+    constexpr const E& error() const LIFETIMEBOUND\n+    {\n+        assert(!has_value());\n+        return std::get<1>(m_data);\n+    }\n+    constexpr E& error() LIFETIMEBOUND\n+    {\n+        assert(!has_value());\n+        return std::get<1>(m_data);\n+    }\n+\n+    constexpr T& operator*() { return value(); }",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 69,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa1eee4f46fd089d6e19b124addee7c7679585f4)\n\nShould these have LIFETIMEBOUND annotations?",
      "created_at": "2025-12-05T13:24:18Z",
      "updated_at": "2025-12-05T13:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592686682",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592686682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592702057",
      "pull_request_review_id": 3544661442,
      "id": 2592702057,
      "node_id": "PRRC_kwDOABII586aiX5p",
      "diff_hunk": "@@ -21,9 +21,9 @@ struct Error {\n //!\n //! It is intended for high-level functions that need to report error strings to\n //! end users. Lower-level functions that don't need this error-reporting and\n-//! only need error-handling should avoid util::Result and instead use standard\n-//! classes like std::optional, std::variant, and std::tuple, or custom structs\n-//! and enum types to return function results.\n+//! that only need error-handling should avoid util::Result and instead use\n+//! util::Expected, or custom structs and enum types to return function",
      "path": "src/util/result.h",
      "position": 1,
      "original_position": 8,
      "commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa1eee4f46fd089d6e19b124addee7c7679585f4)\n\nIMO std::optional and std::variant are still appropriate to use in many cases and it would nice to keep mentioning them.",
      "created_at": "2025-12-05T13:29:32Z",
      "updated_at": "2025-12-05T13:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592702057",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592702057"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592703927",
      "pull_request_review_id": 3544781895,
      "id": 2592703927,
      "node_id": "PRRC_kwDOABII586aiYW3",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());",
      "path": "src/util/expected.h",
      "position": 52,
      "original_position": 49,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592629697,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, added 3 includes. Let's see what the iwyu ci thinks.\r\n\r\nEdit:\r\n\r\n```\r\n\r\n(/home/admin/actions-runner/_work/_temp/src/util/expected.h has correct #includes/fwd-decls)\r\n\r\n(/home/admin/actions-runner/_work/_temp/src/util/expected.cpp has correct #includes/fwd-decls)\r\n```\r\n\r\nhttps://github.com/bitcoin/bitcoin/actions/runs/19964480963/job/57252616519?pr=34006#step:11:25408",
      "created_at": "2025-12-05T13:30:15Z",
      "updated_at": "2025-12-05T13:53:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592703927",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592703927"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592819775",
      "pull_request_review_id": 3544925982,
      "id": 2592819775,
      "node_id": "PRRC_kwDOABII586ai0o_",
      "diff_hunk": "@@ -21,9 +21,9 @@ struct Error {\n //!\n //! It is intended for high-level functions that need to report error strings to\n //! end users. Lower-level functions that don't need this error-reporting and\n-//! only need error-handling should avoid util::Result and instead use standard\n-//! classes like std::optional, std::variant, and std::tuple, or custom structs\n-//! and enum types to return function results.\n+//! that only need error-handling should avoid util::Result and instead use\n+//! util::Expected, or custom structs and enum types to return function",
      "path": "src/util/result.h",
      "position": 1,
      "original_position": 8,
      "commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592702057,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, done",
      "created_at": "2025-12-05T14:08:07Z",
      "updated_at": "2025-12-05T14:08:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592819775",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592819775"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592819855",
      "pull_request_review_id": 3544926100,
      "id": 2592819855,
      "node_id": "PRRC_kwDOABII586ai0qP",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+    constexpr T& value() LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+\n+    constexpr const E& error() const LIFETIMEBOUND\n+    {\n+        assert(!has_value());\n+        return std::get<1>(m_data);\n+    }\n+    constexpr E& error() LIFETIMEBOUND\n+    {\n+        assert(!has_value());\n+        return std::get<1>(m_data);\n+    }\n+\n+    constexpr T& operator*() { return value(); }",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 69,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592686682,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, done",
      "created_at": "2025-12-05T14:08:09Z",
      "updated_at": "2025-12-05T14:08:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592819855",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592819855"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592819984",
      "pull_request_review_id": 3544926243,
      "id": 2592819984,
      "node_id": "PRRC_kwDOABII586ai0sQ",
      "diff_hunk": "@@ -0,0 +1,55 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#include <test/util/setup_common.h>\n+#include <util/expected.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+using namespace util;\n+\n+BOOST_AUTO_TEST_SUITE(util_expected_tests)\n+\n+BOOST_AUTO_TEST_CASE(expected_value)\n+{\n+    struct Obj {\n+        int x;\n+    };\n+    Expected<Obj, int> e{Obj{42}};",
      "path": "src/test/util_expected_tests.cpp",
      "position": 1,
      "original_position": 19,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592682040,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, done",
      "created_at": "2025-12-05T14:08:12Z",
      "updated_at": "2025-12-05T14:08:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592819984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592819984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820086",
      "pull_request_review_id": 3544926362,
      "id": 2592820086,
      "node_id": "PRRC_kwDOABII586ai0t2",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 47,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592674188,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "You are right, but I can't see this going wrong in practise, so I'll leave this as-is for now and postpone to a follow-up. (The solution would probably be to specialize, but that requires writing a lot more code)",
      "created_at": "2025-12-05T14:08:14Z",
      "updated_at": "2025-12-05T14:10:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592820086",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820086"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820508",
      "pull_request_review_id": 3544926838,
      "id": 2592820508,
      "node_id": "PRRC_kwDOABII586ai00c",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 33,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592667468,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, done",
      "created_at": "2025-12-05T14:08:23Z",
      "updated_at": "2025-12-05T14:08:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592820508",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820693",
      "pull_request_review_id": 3544927111,
      "id": 2592820693,
      "node_id": "PRRC_kwDOABII586ai03V",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 37,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592628772,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, used T{}",
      "created_at": "2025-12-05T14:08:27Z",
      "updated_at": "2025-12-05T14:08:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592820693",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820889",
      "pull_request_review_id": 3544927329,
      "id": 2592820889,
      "node_id": "PRRC_kwDOABII586ai06Z",
      "diff_hunk": "@@ -103,7 +104,7 @@ class PeerManager : public CValidationInterface, public NetEventsInterface\n      * @param[in]  block_index  The blockindex\n      * @returns std::nullopt if a request was successfully made, otherwise an error message",
      "path": "src/net_processing.h",
      "position": 1,
      "original_position": 10,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592606248,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, removed this line",
      "created_at": "2025-12-05T14:08:31Z",
      "updated_at": "2025-12-05T14:08:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592820889",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592820889"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592946847",
      "pull_request_review_id": 3545090345,
      "id": 2592946847,
      "node_id": "PRRC_kwDOABII586ajTqf",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());",
      "path": "src/util/expected.h",
      "position": 52,
      "original_position": 52,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: Not a fan of exceptions, and agree that it is a logic error to call `value()` or `error()` without first checking the state. But I think it might be slightly safer to `throw` here and below instead of asserting, so we have less of a behavior change once `util::Expected` is replaced by `std::expected`.\n\nOtherwise users might experience changes under rare/improbable conditions where the process would shut down/crash before, and after the switch it would catch the exception and continue.",
      "created_at": "2025-12-05T14:47:32Z",
      "updated_at": "2025-12-05T14:47:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592946847",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2592946847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593341384",
      "pull_request_review_id": 3545590480,
      "id": 2593341384,
      "node_id": "PRRC_kwDOABII586akz_I",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;",
      "path": "src/util/expected.h",
      "position": 24,
      "original_position": 24,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`std::unexpected` exposes [`std::unexpected::error()`](https://en.cppreference.com/w/cpp/utility/expected/unexpected.html#error) instead of `.err`. Since this is a public member, it might get used and thus make drop-in replacements a bit more involved?",
      "created_at": "2025-12-05T16:55:33Z",
      "updated_at": "2025-12-05T17:07:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2593341384",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593341384"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593365020",
      "pull_request_review_id": 3545590480,
      "id": 2593365020,
      "node_id": "PRRC_kwDOABII586ak5wc",
      "diff_hunk": "@@ -101,9 +102,8 @@ class PeerManager : public CValidationInterface, public NetEventsInterface\n      *\n      * @param[in]  peer_id      The peer id\n      * @param[in]  block_index  The blockindex\n-     * @returns std::nullopt if a request was successfully made, otherwise an error message\n      */\n-    virtual std::optional<std::string> FetchBlock(NodeId peer_id, const CBlockIndex& block_index) = 0;\n+    virtual util::Expected<void, std::string> FetchBlock(NodeId peer_id, const CBlockIndex& block_index) = 0;",
      "path": "src/net_processing.h",
      "position": 15,
      "original_position": 15,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This should probably be `[[nodiscard]]`? Could perhaps more generally enforce that with `bugprone-unused-return-value` for `std::expected`?",
      "created_at": "2025-12-05T17:04:15Z",
      "updated_at": "2025-12-05T17:07:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2593365020",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593365020"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 106,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593700975",
      "pull_request_review_id": 3546080852,
      "id": 2593700975,
      "node_id": "PRRC_kwDOABII586amLxv",
      "diff_hunk": "@@ -11,6 +11,7 @@\n #include <node/txorphanage.h>\n #include <protocol.h>\n #include <threadsafety.h>\n+#include <util/expected.h>",
      "path": "src/net_processing.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": null,
      "user": {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I wouldnt modify `src/net_processing.h` in this PR. Even though its a good showcase of the improvement, there are other functions that still use `std::optional` for errors, for example, line 828 in `src/netbase.cpp`. Updating only these functions and not the others feels arbitrary and unrelated to the scope of this PR. I suggest moving these changes to a separate PR and making the update more exhaustive.",
      "created_at": "2025-12-05T19:10:28Z",
      "updated_at": "2025-12-05T19:33:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2593700975",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593700975"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 14,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593725731",
      "pull_request_review_id": 3546080852,
      "id": 2593725731,
      "node_id": "PRRC_kwDOABII586amR0j",
      "diff_hunk": "@@ -21,8 +21,8 @@ struct Error {\n //!\n //! It is intended for high-level functions that need to report error strings to",
      "path": "src/util/result.h",
      "position": 2,
      "original_position": 2,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": null,
      "user": {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think the current wording is a bit vague. It might be rewritten along the lines of:\r\n```\r\n//! It is intended for high-level functions that need to report error strings **directly**\r\n//! to end users. Any lower-level functions that don't need this error-reporting...\r\n\r\n```\r\nHowever, Result in our codebase isnt limited to reporting errors to end users. As @ryanofsky noted in PR #25665, there are broader use cases. One strong example is:\r\n>Result may also be a better choice than std::expected when returning pointer values. (Followup #26022 adds a ResultPtr specialization that avoids double dereferencing.)\r\n\r\nI think these considerations should also be part of the discussion for this PR, and we should agree on the responsibilities of each type. Consequently, the documentation should be updated to reflect these broader use cases more accurately.",
      "created_at": "2025-12-05T19:19:25Z",
      "updated_at": "2025-12-05T19:27:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2593725731",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2593725731"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594622794",
      "pull_request_review_id": 3547259766,
      "id": 2594622794,
      "node_id": "PRRC_kwDOABII586aps1K",
      "diff_hunk": "@@ -11,6 +11,7 @@\n #include <node/txorphanage.h>\n #include <protocol.h>\n #include <threadsafety.h>\n+#include <util/expected.h>",
      "path": "src/net_processing.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593700975,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> I wouldnt modify `src/net_processing.h` in this PR. Even though its a good showcase of the improvement, there are other functions that still use `std::optional` for errors, for example, line 828 in `src/netbase.cpp`.\r\n\r\nNo, it is not. This is a valid and intended use of `std::optional`:\r\n\r\n```\r\n    std::optional<CNetAddr> addr{LookupHost(str_addr, /*fAllowLookup=*/false)};\r\n    if (addr.has_value()) {\r\n```\r\n\r\nI'll leave as-is for now. Also, I'll keep touching the file, so that a valid and intended use of `std::expected` can be seen.",
      "created_at": "2025-12-06T07:23:02Z",
      "updated_at": "2025-12-06T07:23:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594622794",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594622794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 14,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594623314",
      "pull_request_review_id": 3547260176,
      "id": 2594623314,
      "node_id": "PRRC_kwDOABII586aps9S",
      "diff_hunk": "@@ -21,8 +21,8 @@ struct Error {\n //!\n //! It is intended for high-level functions that need to report error strings to",
      "path": "src/util/result.h",
      "position": 2,
      "original_position": 2,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593725731,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> However, Result in our codebase isnt limited to reporting errors to end users. As @ryanofsky noted in PR #25665, there are broader use cases. One strong example is:\r\n> \r\n> > Result may also be a better choice than std::expected when returning pointer values. (Followup #26022 adds a ResultPtr specialization that avoids double dereferencing.)\r\n\r\nThx, this is a good point. However, I think modifying the Result and Expected docs for ResultPtr is unrelated to this pull and can be done in the pull introducing ResultPtr.\r\n\r\nI'll leave as-is for now.",
      "created_at": "2025-12-06T07:24:34Z",
      "updated_at": "2025-12-06T07:24:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594623314",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594623314"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594623940",
      "pull_request_review_id": 3547260634,
      "id": 2594623940,
      "node_id": "PRRC_kwDOABII586aptHE",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;",
      "path": "src/util/expected.h",
      "position": 24,
      "original_position": 24,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593341384,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I know, and this was intentional. I can't imagine a real code snippet in this code-base that uses `.err` or `.error()`. The only use-case of Unexpected is to serve as a marker, which Expected constructor to pick internally. Am I missing something?",
      "created_at": "2025-12-06T07:26:19Z",
      "updated_at": "2025-12-06T07:26:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594623940",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594623940"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594671525",
      "pull_request_review_id": 3547321406,
      "id": 2594671525,
      "node_id": "PRRC_kwDOABII586ap4ul",
      "diff_hunk": "@@ -11,6 +11,7 @@\n #include <node/txorphanage.h>\n #include <protocol.h>\n #include <threadsafety.h>\n+#include <util/expected.h>",
      "path": "src/net_processing.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593700975,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`FetchBlock()` is only used by the `getblockfrompeer` RPC (which I introduced in #20295), so it's a nice and fairly isolated example to use.\r\n\r\nTypically we gradually replace old code with more modern patterns while editing something in the same area, so the other examples will follow later.",
      "created_at": "2025-12-06T09:05:56Z",
      "updated_at": "2025-12-06T09:06:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594671525",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594671525"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 14,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594681281",
      "pull_request_review_id": 3547329472,
      "id": 2594681281,
      "node_id": "PRRC_kwDOABII586ap7HB",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());",
      "path": "src/util/expected.h",
      "position": 52,
      "original_position": 52,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2592946847,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I see your point, but exactly the same scenario can happen without this pull, when an `util::Result` is replaced by `std::expected`. (And the inverse can happen when going the other way)\n\nI don't feel strongly, but I think it is minimally safer to assert here, because for our code-base it is a programming logic error to call `value` when a value does not exist. So it seems minimally better to be able to detect those cases more easily while we have Expected (before switching to `std::expected`)\n\n\nI understand the stdlib went a different path, looking at https://en.cppreference.com/w/cpp/experimental/optional/bad_optional_access.html, which initially inherited from logic_error, but later (https://en.cppreference.com/w/cpp/utility/bad_optional_access.html) it was only derived from std::exception.\n\n\nIn any case, I don't feel strongly, and I don't think (and hope) any of this will matter in practise, and I am happy to push this patch, if you insist: (edit: probably at least keeping an `Assume(has_value())`)\n\n```diff\ndiff --git a/src/util/expected.h b/src/util/expected.h\nindex 6938c97..081c263 100644\n--- a/src/util/expected.h\n+++ b/src/util/expected.h\n@@ -8,6 +8,7 @@\n #include <attributes.h>\n \n #include <cassert>\n+#include <exception>\n #include <type_traits>\n #include <utility>\n #include <variant>\n@@ -24,6 +25,11 @@ public:\n     E err;\n };\n \n+struct BadExpectedAccess : std::exception\n+{\n+    const char* what() const noexcept override { return \"Bad util::Expected access\"; }\n+};\n+\n /// The util::Expected class provides a standard way for low-level functions to\n /// return either error values or result values.\n ///\n@@ -49,12 +55,16 @@ public:\n \n     constexpr const ValueType& value() const LIFETIMEBOUND\n     {\n-        assert(has_value());\n+        if (!has_value()) {\n+            throw BadExpectedAccess{};\n+        }\n         return std::get<0>(m_data);\n     }\n     constexpr ValueType& value() LIFETIMEBOUND\n     {\n-        assert(has_value());\n+        if (!has_value()) {\n+            throw BadExpectedAccess{};\n+        }\n         return std::get<0>(m_data);\n     }\n \n",
      "created_at": "2025-12-06T09:29:58Z",
      "updated_at": "2025-12-07T13:25:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594681281",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594681281"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594681480",
      "pull_request_review_id": 3547329664,
      "id": 2594681480,
      "node_id": "PRRC_kwDOABII586ap7KI",
      "diff_hunk": "@@ -101,9 +102,8 @@ class PeerManager : public CValidationInterface, public NetEventsInterface\n      *\n      * @param[in]  peer_id      The peer id\n      * @param[in]  block_index  The blockindex\n-     * @returns std::nullopt if a request was successfully made, otherwise an error message\n      */\n-    virtual std::optional<std::string> FetchBlock(NodeId peer_id, const CBlockIndex& block_index) = 0;\n+    virtual util::Expected<void, std::string> FetchBlock(NodeId peer_id, const CBlockIndex& block_index) = 0;",
      "path": "src/net_processing.h",
      "position": 15,
      "original_position": 15,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593365020,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Thanks. Very nice, pushed a commit to do that.",
      "created_at": "2025-12-06T09:30:38Z",
      "updated_at": "2025-12-06T09:30:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594681480",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594681480"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 106,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594702214",
      "pull_request_review_id": 3547353982,
      "id": 2594702214,
      "node_id": "PRRC_kwDOABII586aqAOG",
      "diff_hunk": "@@ -21,8 +21,8 @@ struct Error {\n //!\n //! It is intended for high-level functions that need to report error strings to",
      "path": "src/util/result.h",
      "position": 2,
      "original_position": 2,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593725731,
      "user": {
        "login": "arejula27",
        "id": 46299278,
        "node_id": "MDQ6VXNlcjQ2Mjk5Mjc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46299278?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/arejula27",
        "html_url": "https://github.com/arejula27",
        "followers_url": "https://api.github.com/users/arejula27/followers",
        "following_url": "https://api.github.com/users/arejula27/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/arejula27/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/arejula27/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/arejula27/subscriptions",
        "organizations_url": "https://api.github.com/users/arejula27/orgs",
        "repos_url": "https://api.github.com/users/arejula27/repos",
        "events_url": "https://api.github.com/users/arejula27/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/arejula27/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Agree, I started with your review, and now I am doing #25665. The doc improvement I suggested feels more suitable in the other one; however, I would like you to consider adding **directly**  as I mentioned, as you already did some small text corrections on `results.h`",
      "created_at": "2025-12-06T10:12:18Z",
      "updated_at": "2025-12-06T10:12:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594702214",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594702214"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594785458",
      "pull_request_review_id": 3547487479,
      "id": 2594785458,
      "node_id": "PRRC_kwDOABII586aqUiy",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;",
      "path": "src/util/expected.h",
      "position": 24,
      "original_position": 24,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593341384,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I haven't used `std::{un}expected` yet in practice, so I'm not really familiar with real life use cases yet. From research, one use case that seems plausible is to write a handler for failure cases (e.g. to log and then abort). Templating that function on `std::unexpected<E>` seems sensible? There are of course plenty of other ways to write that handler, but my point is that because it's public people _might_ do it, and then that'll break drop-in replacement. Regardless, it probably will be a rare occurence, and it should be an easy fix when we switch to `std::expected`, so I'm not worried either way. I agree with the approach of this PR to not complicate the implementation any more than necessary. Up to you what you prefer.",
      "created_at": "2025-12-06T12:08:53Z",
      "updated_at": "2025-12-06T12:08:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594785458",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594785458"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594802701",
      "pull_request_review_id": 3547510647,
      "id": 2594802701,
      "node_id": "PRRC_kwDOABII586aqYwN",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;",
      "path": "src/util/expected.h",
      "position": 24,
      "original_position": 24,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593341384,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Regardless, it probably will be a rare occurence, and it should be an easy fix when we switch to `std::expected`, so I'm not worried either way.\r\n\r\nSame. Will leave as-is for now, but happy to push any diff, or review a follow-up, if there is need.",
      "created_at": "2025-12-06T12:27:32Z",
      "updated_at": "2025-12-06T12:27:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2594802701",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2594802701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2595077727",
      "pull_request_review_id": 3547855505,
      "id": 2595077727,
      "node_id": "PRRC_kwDOABII586arb5f",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": null,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Can't this be released when creating the `ProxyClient`? Looks like `destroy_connection` being true means the client is taking ownership of the connection.",
      "created_at": "2025-12-06T16:07:26Z",
      "updated_at": "2025-12-06T16:07:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2595077727",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2595077727"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2596258697",
      "pull_request_review_id": 3549240800,
      "id": 2596258697,
      "node_id": "PRRC_kwDOABII586av8OJ",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In modern languages like Rust, yes. But not in C++, because there is no order of evaluation of the function arguments.\r\n\r\nSo `make_unique(client->m_rpc, client.release())` will lead to a nullptr deref (segfault).\r\n\r\nI could rewrite this to use `new ProxyClient{client->m_rpc, client.release()}`, because for braced-init, the order is defined, but I am not sure if this is better, because it violates https://clang.llvm.org/extra/clang-tidy/checks/modernize/make-unique.html",
      "created_at": "2025-12-07T11:54:31Z",
      "updated_at": "2025-12-07T11:54:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2596258697",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2596258697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2596259276",
      "pull_request_review_id": 3549241216,
      "id": 2596259276,
      "node_id": "PRRC_kwDOABII586av8XM",
      "diff_hunk": "@@ -21,8 +21,8 @@ struct Error {\n //!\n //! It is intended for high-level functions that need to report error strings to",
      "path": "src/util/result.h",
      "position": 2,
      "original_position": 2,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593725731,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> I would like you to consider adding **directly** as I mentioned, as you already did some small text corrections on `results.h`\r\n\r\nNot sure. I am not touching this line, so I'll leave as-is for now.",
      "created_at": "2025-12-07T11:55:45Z",
      "updated_at": "2025-12-07T11:55:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2596259276",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2596259276"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597671961",
      "pull_request_review_id": 3550883332,
      "id": 2597671961,
      "node_id": "PRRC_kwDOABII586a1VQZ",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "(Tried old-school `(void)connection_client.release();` and `[[maybe_unused]] (void)connection_client.release();` to avoid the noisy scope but they don't pass clang-tidy).",
      "created_at": "2025-12-08T08:58:48Z",
      "updated_at": "2025-12-08T09:07:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597671961",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597671961"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597679959",
      "pull_request_review_id": 3550883332,
      "id": 2597679959,
      "node_id": "PRRC_kwDOABII586a1XNX",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());",
      "path": "src/util/expected.h",
      "position": 52,
      "original_position": 52,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2592946847,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The above patch + `Assume()` would be nice but I won't insist if you prefer not to, in this case.",
      "created_at": "2025-12-08T09:00:31Z",
      "updated_at": "2025-12-08T09:07:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597679959",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597679959"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597689237",
      "pull_request_review_id": 3550883332,
      "id": 2597689237,
      "node_id": "PRRC_kwDOABII586a1ZeV",
      "diff_hunk": "@@ -101,9 +102,8 @@ class PeerManager : public CValidationInterface, public NetEventsInterface\n      *\n      * @param[in]  peer_id      The peer id\n      * @param[in]  block_index  The blockindex\n-     * @returns std::nullopt if a request was successfully made, otherwise an error message\n      */\n-    virtual std::optional<std::string> FetchBlock(NodeId peer_id, const CBlockIndex& block_index) = 0;\n+    virtual util::Expected<void, std::string> FetchBlock(NodeId peer_id, const CBlockIndex& block_index) = 0;",
      "path": "src/net_processing.h",
      "position": 15,
      "original_position": 15,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593365020,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Great suggestion about `bugprone-unused-return-value`!",
      "created_at": "2025-12-08T09:02:41Z",
      "updated_at": "2025-12-08T09:07:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597689237",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597689237"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 106,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597786362",
      "pull_request_review_id": 3551025794,
      "id": 2597786362,
      "node_id": "PRRC_kwDOABII586a1xL6",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "There is an `AllowCastToVoid` option in https://clang.llvm.org/extra/clang-tidy/checks/bugprone/unused-return-value.html. `(void)` would be shorter than `[[maybe_unused]] auto _`. No strong opinion, but maybe it can be changed in a follow-up?",
      "created_at": "2025-12-08T09:26:05Z",
      "updated_at": "2025-12-08T09:26:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597786362",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597786362"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597791146",
      "pull_request_review_id": 3551031471,
      "id": 2597791146,
      "node_id": "PRRC_kwDOABII586a1yWq",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());",
      "path": "src/util/expected.h",
      "position": 52,
      "original_position": 52,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2592946847,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Will leave for a follow-up :)",
      "created_at": "2025-12-08T09:26:57Z",
      "updated_at": "2025-12-08T09:26:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597791146",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597791146"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597809962",
      "pull_request_review_id": 3551053953,
      "id": 2597809962,
      "node_id": "PRRC_kwDOABII586a128q",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Oh, hm... it would be great to not need the scopes any longer. On the other hand `(void)expression` is more cryptic than `[[maybe_unused]]`.\r\n\r\nSlight preference for enabling `AllowCastToVoid` if you retouch. Maybe if I notice these scopes becoming annoyingly frequent I would follow up.",
      "created_at": "2025-12-08T09:32:18Z",
      "updated_at": "2025-12-08T09:32:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597809962",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597809962"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597905915",
      "pull_request_review_id": 3551168296,
      "id": 2597905915,
      "node_id": "PRRC_kwDOABII586a2OX7",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Slight preference for enabling `AllowCastToVoid` if you retouch. Maybe if I notice these scopes becoming annoyingly frequent I would follow up.\r\n\r\nYeah, I tend to agree and will probably do this in a follow-up.\r\n\r\nIn Rust, one can use several `let _` in the same scope. However, in C++, using several `auto _` in the same scope is only possible in C++26, in which case the `[[maybe_unused]]` is redundant anyway.\r\n\r\nSo I think allowing `(void)` for now, until C++26, is probably best.\r\n\r\nRef: https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&code=fn+main%28%29+%7B%0A++++let+_+%3D+do_something%28%29%3B%0A++++let+_+%3D+do_something_else%28%29%3B%0A%7D%0A%0Afn+do_something%28%29+-%3E+Result%3Ci32%2C+%26%27static+str%3E+%7B%0A++++Ok%281%29%0A%7D%0A%0Afn+do_something_else%28%29+-%3E+Result%3C%28%29%2C+%26%27static+str%3E+%7B%0A++++Err%28%22oops%22%29%0A%7D\r\nand https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAMzwBtMA7AQwFtMQByARg9KtQYEAysib0QXACx8BBAKoBnTAAUAHpwAMvAFYTStJg1DIApACYAQuYukl9ZATwDKjdAGFUtAK4sGIM6SuADJ4DJgAcj4ARpjEEgDMpAAOqAqETgwe3r7%2ByanpAiFhkSwxcVyJdpgOGUIETMQEWT5%2BAVU1AnUNBEUR0bEJtvWNzTltwz2hfaUDFQCUtqhexMjsHObxocjeWADUJvFumKpJ1QSY6AfYJhoAghtbO5j7hwoExKHAVzf3d2/oIBAx1ODguBzcoQIpF2/0Bbw%2BRiuu3QqAA%2BgpUGwCAhPhA5vsAOwWXbETAEZYMXZcA7EkwEgAiPx%2BsKBJzOYMOADdUHh0NCWfDPkiUejMWScUZUZhaEo8YSrHddkqSWSKTCCACQF4wmzQegIOYzKhUEkFIa5jSmQymXdIbsWExQnK6QrbsrdkwvERdqiXSKMViJcA8XTGfFXe7Pd7fUT/WLsZ8pTLMCHreGrfSOAtaJwAKy8PwcLSkVCcNzWawwpYrZ4bHikAiaLMLADWIEkZgAdAA2ACc8S4GkkXFzve7BO7AA4AjmOJIC02S5xeAoQBoG02FnBYDBEChMUk6LFyJQ0CxD/Q4sARwEaLRzsRVxAoouoqEGgBPTj1t/MYgfgB5KJtDOb9eDPNhBAAhhaC/IteCwKIvGANwxBlMDSCwB0jHEeDMLwUkak5TBVzw45qi9NZi0haVF1oPAomIT8PCwRd3jwFgMOI4golSTB6UwbDgHooxNz4AxgAUAA1PBMAAdwA05C3rfhBBEMR2CkGRBEUFR1Dw3QuH0QxjArSx9AY1dIAWE1HAEUiAFoALMXYHP%2BA56VMSxrDMbteFQbiPiwKy8VsaUzgyFwGHcTwWj0YIphKMo9BSNI7MyWKciM1KCgYXoktmML7HSroRkyvwjPaEqJny/pyiGbpRgqhrGlqmZygWDFllWCRszzBc8NLDhdlUSduwc7tJF2YBkGQKlc07FyIFwQgSH2MwBzmXhG3guZWxAXN11nedSE4ybO1zCpuy4MaCQJIczEnUhC2LIaVzXDddtIbc9yWAgki9E8IDPC9YnCVg1lG8bJt2bYTN2SdOw0JHeAuVagr0VThFEcQtKx3S1EXQzSDkpikjAvqOHzZ7FyGgCvQBghdlQKgRrGiappmuaR0W3YIA8c8j2IdbNu2zcFgQTAmCwOJQuO3hOPiBbJDG%2BJJwqMwzF7XMCS4XsacG5dbA%2BnatD20g20entc3iSRJAJXszA0LhrtHfROHiAbXqN02s2%2B3cfogJAQaFoGQ8vFADCMMwuEHPg6AfJ8Xzw39Pww1P/yAkCHAwiDGAIaDYMXRDkNQ2h0O4BDBJM3Di3wQjHGI0ji3I5BKMXGjZ2LejGOYjAqO2j5OMr0huN4pQBKEkTQC%2BqgJOk2SFKUjCsfU3HpHxpRCYM3Io9M7zzJ7kKbKSdLHOc1z3PiTyzIsDb/MC3kSPgTrwo6PwIFcJr4uitrkuy/I6Vv4ALShkP%2BhUqq1AmMAoqEVOg1USnVPQbxGrlWQQg4oSCuCdWrD1bB7sqZe38pwNm0MppwyMLsGOnYuBIz5itIgws6xbU%2Bmbfaw5OwdkermbsPDJwaBjrHAhJ0zqSE4UrB2E5eHxD7Lwg23sODvXXL7LcAckB/UZmHA8QtwZsE4FDDmsM95UgJEjGhqN8CMN5JjWQa9NIb1kATfSxZdABFJkwcmldKbUxesQjg9N/pemZqzAxMMKHACobQ2hGg%2BYC1BkwjaZgWEqIllLGWlBKYiJAErC6k0nYbVtt2eIGhba5nkX4pRrDmwW38IjaRdsHZOxdiOfWs5PblKXIoqp5tZxmCIZ0sWu0FjcTSM4SQQA",
      "created_at": "2025-12-08T09:59:22Z",
      "updated_at": "2025-12-08T09:59:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597905915",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597905915"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597954811",
      "pull_request_review_id": 3551229042,
      "id": 2597954811,
      "node_id": "PRRC_kwDOABII586a2aT7",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Yeah, I tend to agree and will probably do this in a follow-up.\r\n\r\n:heart: \r\n\r\n> In Rust, one can use several let _ in the same scope.\r\n\r\nWell, Rust practically encourages shadowing variables. :vomiting_face:\r\n\r\n> However, in C++, using several auto _ in the same scope is only possible in C++26, in which case the [[maybe_unused]] is redundant anyway.\r\n\r\nNice!",
      "created_at": "2025-12-08T10:15:07Z",
      "updated_at": "2025-12-08T10:15:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597954811",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2597954811"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2598773353",
      "pull_request_review_id": 3552257782,
      "id": 2598773353,
      "node_id": "PRRC_kwDOABII586a5iJp",
      "diff_hunk": "@@ -0,0 +1,92 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}",
      "path": "src/util/expected.h",
      "position": 43,
      "original_position": 43,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: can use `std::in_place_index` shorthand\r\n\r\n```suggestion\r\n    constexpr Expected() : m_data{std::in_place_index<0>, ValueType{}} {}\r\n    constexpr Expected(ValueType v) : m_data{std::in_place_index<0>, std::move(v)} {}\r\n    template <class Err>\r\n    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index<1>, std::move(u.err)}\r\n```",
      "created_at": "2025-12-08T14:06:03Z",
      "updated_at": "2025-12-08T16:01:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2598773353",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2598773353"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": 40,
      "original_start_line": 40,
      "start_side": "RIGHT",
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2598943386",
      "pull_request_review_id": 3552257782,
      "id": 2598943386,
      "node_id": "PRRC_kwDOABII586a6Lqa",
      "diff_hunk": "@@ -63,6 +63,7 @@ add_library(bitcoinkernel\n   ../uint256.cpp\n   ../util/chaintype.cpp\n   ../util/check.cpp\n+  ../util/expected.cpp",
      "path": "src/kernel/CMakeLists.txt",
      "position": 4,
      "original_position": 4,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I don't think kernel is currently using this? It seems like this should be in `util/CMakeLists.txt`, and only added to the kernel lib when the files it includes actually use it? `util/expected.cpp` is currently empty of course, so currently should all behave the same way.",
      "created_at": "2025-12-08T14:54:43Z",
      "updated_at": "2025-12-08T16:01:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2598943386",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2598943386"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 66,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599018832",
      "pull_request_review_id": 3552578391,
      "id": 2599018832,
      "node_id": "PRRC_kwDOABII586a6eFQ",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2597786362\r\n\r\nVery much agree with having this code use `(void)` not `[[maybe_unused]] auto _{}`. I don't understand why clang-tidy would encourage the latter.",
      "created_at": "2025-12-08T15:16:47Z",
      "updated_at": "2025-12-08T15:51:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599018832",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599018832"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599049418",
      "pull_request_review_id": 3552578391,
      "id": 2599049418,
      "node_id": "PRRC_kwDOABII586a6ljK",
      "diff_hunk": "@@ -0,0 +1,92 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+    constexpr ValueType& value() LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+\n+    template <class U>\n+    ValueType value_or(U&& default_value) const&",
      "path": "src/util/expected.h",
      "position": 62,
      "original_position": 62,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa114be27b17ed32c1d9a7106f313a0df8755fa2",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa114be27b17ed32c1d9a7106f313a0df8755fa2)\r\n\r\nNot very important, but since value_or methods are template methods it would make sense for them to return `T` instead of `ValueType` to avoid returning std::monostate.",
      "created_at": "2025-12-08T15:24:33Z",
      "updated_at": "2025-12-08T15:51:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599049418",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599049418"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 62,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599070287",
      "pull_request_review_id": 3552578391,
      "id": 2599070287,
      "node_id": "PRRC_kwDOABII586a6qpP",
      "diff_hunk": "@@ -0,0 +1,92 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+    constexpr ValueType& value() LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+\n+    template <class U>\n+    ValueType value_or(U&& default_value) const&\n+    {\n+        return has_value() ? value() : std::forward<U>(default_value);\n+    }\n+    template <class U>\n+    ValueType value_or(U&& default_value) &&\n+    {\n+        return has_value() ? std::move(value()) : std::forward<U>(default_value);\n+    }",
      "path": "src/util/expected.h",
      "position": 70,
      "original_position": 70,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa114be27b17ed32c1d9a7106f313a0df8755fa2",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"Add util::Expected (std::expected)\" (fa114be27b17ed32c1d9a7106f313a0df8755fa2)\r\n\r\nNot very important, but it's not consistent for `std::move(result).value_or(...)` to move from the result when `std::move(result).value()` does not move from it.\r\n\r\nThe upstream `std::expected` seems to move in both cases by defining a `value() &&` overload. (If you added that overload this line could also be simplified changing `std::move(value())` to `value()`)\r\n\r\nWould suggest making `value()` and `value_or()` methods more consistent by either having them both return an rvalue when the result object is an rvalue, or having neither of them do this. Latter would be a little simpler, but former would be more consistent with `std::expected`",
      "created_at": "2025-12-08T15:30:49Z",
      "updated_at": "2025-12-08T15:51:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599070287",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599070287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": 66,
      "original_start_line": 66,
      "start_side": "RIGHT",
      "line": 70,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599097104",
      "pull_request_review_id": 3552578391,
      "id": 2599097104,
      "node_id": "PRRC_kwDOABII586a6xMQ",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 47,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592674188,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592820086\r\n\r\n> You are right, but I can't see this going wrong in practise, so I'll leave this as-is for now and postpone to a follow-up. (The solution would probably be to specialize, but that requires writing a lot more code)\r\n\r\nI think hodlinator's solution adding requires clauses might avoid the need to specialize https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592454740",
      "created_at": "2025-12-08T15:39:01Z",
      "updated_at": "2025-12-08T15:51:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599097104",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599097104"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599122933",
      "pull_request_review_id": 3552257782,
      "id": 2599122933,
      "node_id": "PRRC_kwDOABII586a63f1",
      "diff_hunk": "@@ -330,7 +330,7 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n         std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(std::move(hreq), path, i->handler));\n         assert(g_work_queue);\n         if (g_work_queue->Enqueue(item.get())) {\n-            item.release(); /* if true, queue took ownership */\n+            [[maybe_unused]] auto _{item.release()}; /* if true, queue took ownership */",
      "path": "src/httpserver.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It's a larger diff, so I'm happy to keep this as-is, but I think this is actually quite a nice use-case for `util::Expected` to improve the ownership semantics of `Enqeue`. Ownership can be transferred unambiguously with:\r\n\r\n<details>\r\n<summary>git diff on faa23738fc</summary>\r\n\r\n```diff\r\ndiff --git a/src/httpserver.cpp b/src/httpserver.cpp\r\nindex abfcb455e1..de6c837ed2 100644\r\n--- a/src/httpserver.cpp\r\n+++ b/src/httpserver.cpp\r\n@@ -14,11 +14,13 @@\r\n #include <rpc/protocol.h>\r\n #include <sync.h>\r\n #include <util/check.h>\r\n+#include <util/expected.h>\r\n #include <util/signalinterrupt.h>\r\n #include <util/strencodings.h>\r\n #include <util/threadnames.h>\r\n #include <util/translation.h>\r\n \r\n+#include <concepts>\r\n #include <condition_variable>\r\n #include <cstdio>\r\n #include <cstdlib>\r\n@@ -89,16 +91,18 @@ public:\r\n     /** Precondition: worker threads have all stopped (they have been joined).\r\n      */\r\n     ~WorkQueue() = default;\r\n-    /** Enqueue a work item */\r\n-    bool Enqueue(WorkItem* item) EXCLUSIVE_LOCKS_REQUIRED(!cs)\r\n+    /** Enqueue a work item. Returns the item back on failure. */\r\n+    template <typename DerivedItem>\r\n+        requires std::derived_from<DerivedItem, WorkItem>\r\n+    util::Expected<void, std::unique_ptr<DerivedItem>> Enqueue(std::unique_ptr<DerivedItem> item) EXCLUSIVE_LOCKS_REQUIRED(!cs)\r\n     {\r\n         LOCK(cs);\r\n         if (!running || queue.size() >= maxDepth) {\r\n-            return false;\r\n+            return util::Unexpected{std::move(item)};\r\n         }\r\n-        queue.emplace_back(std::unique_ptr<WorkItem>(item));\r\n+        queue.push_back(std::move(item));\r\n         cond.notify_one();\r\n-        return true;\r\n+        return {};\r\n     }\r\n     /** Thread function */\r\n     void Run() EXCLUSIVE_LOCKS_REQUIRED(!cs)\r\n@@ -329,11 +333,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\r\n     if (i != iend) {\r\n         std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(std::move(hreq), path, i->handler));\r\n         assert(g_work_queue);\r\n-        if (g_work_queue->Enqueue(item.get())) {\r\n-            [[maybe_unused]] auto _{item.release()}; /* if true, queue took ownership */\r\n-        } else {\r\n+        if (auto res{g_work_queue->Enqueue(std::move(item))}; !res) {\r\n             LogWarning(\"Request rejected because http work queue depth exceeded, it can be increased with the -rpcworkqueue= setting\");\r\n-            item->req->WriteReply(HTTP_SERVICE_UNAVAILABLE, \"Work queue depth exceeded\");\r\n+            res.error()->req->WriteReply(HTTP_SERVICE_UNAVAILABLE, \"Work queue depth exceeded\");\r\n         }\r\n     } else {\r\n         hreq->WriteReply(HTTP_NOT_FOUND);\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2025-12-08T15:45:11Z",
      "updated_at": "2025-12-08T16:01:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599122933",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599122933"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 333,
      "original_line": 333,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599169803",
      "pull_request_review_id": 3552257782,
      "id": 2599169803,
      "node_id": "PRRC_kwDOABII586a7C8L",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "An alternative approach is to first extract `bootstrap_cap` and remove the ownership ambiguity:\r\n\r\n<details>\r\n<summary>git diff on faa23738fc</summary>\r\n\r\n```diff\r\ndiff --git a/src/ipc/test/ipc_test.cpp b/src/ipc/test/ipc_test.cpp\r\nindex 506facdecf..6e0a5d19be 100644\r\n--- a/src/ipc/test/ipc_test.cpp\r\n+++ b/src/ipc/test/ipc_test.cpp\r\n@@ -60,12 +60,10 @@ void IpcPipeTest()\r\n         auto pipe = loop.m_io_context.provider->newTwoWayPipe();\r\n \r\n         auto connection_client = std::make_unique<mp::Connection>(loop, kj::mv(pipe.ends[0]));\r\n+        auto bootstrap_cap = connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>();\r\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\r\n-            connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\r\n-            connection_client.get(), /* destroy_connection= */ true);\r\n-        {\r\n-            [[maybe_unused]] auto _{connection_client.release()};\r\n-        }\r\n+            std::move(bootstrap_cap),\r\n+            connection_client.release(), /* destroy_connection= */ true);\r\n         foo_promise.set_value(std::move(foo_client));\r\n \r\n         auto connection_server = std::make_unique<mp::Connection>(loop, kj::mv(pipe.ends[1]), [&](mp::Connection& connection) {\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2025-12-08T15:56:00Z",
      "updated_at": "2025-12-08T16:01:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599169803",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599169803"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599397406",
      "pull_request_review_id": 3553087380,
      "id": 2599397406,
      "node_id": "PRRC_kwDOABII586a76ge",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 47,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592674188,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> I think hodlinator's solution adding requires clauses might avoid the need to specialize [#34006 (comment)](https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2592454740)\r\n\r\nNo, I don't think this will generally be more correct. `std::expected<void, B>::value()` exists, so hiding it will make it differ from the std version.\r\n\r\nI think the only way to replicate all behavior of `std::expected` 100%, would be to implement it exactly the same way. I'd prefer not to write the void-specialization (and tests for it), but if someone wants to write a diff, it can be added to this pull, or a follow-up.",
      "created_at": "2025-12-08T16:59:49Z",
      "updated_at": "2025-12-08T16:59:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599397406",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599397406"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599407230",
      "pull_request_review_id": 3553099015,
      "id": 2599407230,
      "node_id": "PRRC_kwDOABII586a785-",
      "diff_hunk": "@@ -63,6 +63,7 @@ add_library(bitcoinkernel\n   ../uint256.cpp\n   ../util/chaintype.cpp\n   ../util/check.cpp\n+  ../util/expected.cpp",
      "path": "src/kernel/CMakeLists.txt",
      "position": 4,
      "original_position": 4,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2598943386,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It'll be used in the kernel, soon. So I'd rather avoid the churn. In any case, it will likely remain empty, and behavior should all be the same. So I think it doesn't matter and my preference would be to just keep this as-is for now.",
      "created_at": "2025-12-08T17:02:16Z",
      "updated_at": "2025-12-08T17:02:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599407230",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599407230"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 66,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599410546",
      "pull_request_review_id": 3553103141,
      "id": 2599410546,
      "node_id": "PRRC_kwDOABII586a79ty",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "ok, i'll try to fixup the second commit tomorrow, or in a follow-up, whichever happens earlier.",
      "created_at": "2025-12-08T17:03:07Z",
      "updated_at": "2025-12-08T17:03:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599410546",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2599410546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2600677706",
      "pull_request_review_id": 3554775413,
      "id": 2600677706,
      "node_id": "PRRC_kwDOABII586bAzFK",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2599410546\r\n\r\nFWIW, I think an explicit `(void)connection_client.release()` statement would make it more obvious that `connection_client` is null than the other other alternatives of calling `release()` inline or it assigning to a `_` variable. Similarly, I don't think would be very useful to declare a `bootstrap_cap` variable that is immediately moved from and unusable. But any of the approaches seems ok.",
      "created_at": "2025-12-09T01:00:35Z",
      "updated_at": "2025-12-09T01:13:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2600677706",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2600677706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601567460",
      "pull_request_review_id": 3556057821,
      "id": 2601567460,
      "node_id": "PRRC_kwDOABII586bEMTk",
      "diff_hunk": "@@ -0,0 +1,78 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class V, class E>\n+class Expected\n+{\n+private:\n+    using T = std::conditional_t<std::is_same_v<V, void>, std::monostate, V>;\n+    std::variant<T, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, std::monostate{}} {} // constructor for void\n+    constexpr Expected(T v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const T& value() const LIFETIMEBOUND",
      "path": "src/util/expected.h",
      "position": 1,
      "original_position": 47,
      "commit_id": "fa80cca5dd193668300df891876287dacca6159e",
      "original_commit_id": "fa1eee4f46fd089d6e19b124addee7c7679585f4",
      "in_reply_to_id": 2592674188,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, added `void std::expected<void, B>::value()` in https://github.com/bitcoin/bitcoin/pull/34032/commits, fa4794dfeb9eddf703c9ea5c5a29433063038639",
      "created_at": "2025-12-09T08:21:26Z",
      "updated_at": "2025-12-09T08:21:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601567460",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601567460"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601569108",
      "pull_request_review_id": 3556060041,
      "id": 2601569108,
      "node_id": "PRRC_kwDOABII586bEMtU",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());",
      "path": "src/util/expected.h",
      "position": 52,
      "original_position": 52,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2592946847,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, pushed in https://github.com/bitcoin/bitcoin/pull/34032/commits , faf8b247ba9b23e7c4300019de972b947bfbc698",
      "created_at": "2025-12-09T08:21:58Z",
      "updated_at": "2025-12-09T08:21:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601569108",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601569108"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601570571",
      "pull_request_review_id": 3556061817,
      "id": 2601570571,
      "node_id": "PRRC_kwDOABII586bENEL",
      "diff_hunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;",
      "path": "src/util/expected.h",
      "position": 24,
      "original_position": 24,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa76a6620012fb738639d8fd7ce17b185bfd376c",
      "in_reply_to_id": 2593341384,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, pushed in https://github.com/bitcoin/bitcoin/pull/34032/commits, fa7ceec5b07fbc99c4cc247803f78fb8b019c138",
      "created_at": "2025-12-09T08:22:29Z",
      "updated_at": "2025-12-09T08:22:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601570571",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601570571"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601573527",
      "pull_request_review_id": 3556065555,
      "id": 2601573527,
      "node_id": "PRRC_kwDOABII586bENyX",
      "diff_hunk": "@@ -63,7 +63,9 @@ void IpcPipeTest()\n         auto foo_client = std::make_unique<mp::ProxyClient<gen::FooInterface>>(\n             connection_client->m_rpc_system->bootstrap(mp::ServerVatId().vat_id).castAs<gen::FooInterface>(),\n             connection_client.get(), /* destroy_connection= */ true);\n-        connection_client.release();\n+        {\n+            [[maybe_unused]] auto _{connection_client.release()};",
      "path": "src/ipc/test/ipc_test.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2595077727,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Well, Rust practically encourages shadowing variables. \r\n\r\nI love it :heart_eyes: \r\n\r\n\r\n\r\n> (void)\r\n\r\nThx, pushed https://github.com/bitcoin/bitcoin/pull/34032/commits, fa5811c2e80c48af598c646c5c917472623c55fb",
      "created_at": "2025-12-09T08:23:31Z",
      "updated_at": "2025-12-09T08:23:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601573527",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601573527"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601578414",
      "pull_request_review_id": 3556072346,
      "id": 2601578414,
      "node_id": "PRRC_kwDOABII586bEO-u",
      "diff_hunk": "@@ -0,0 +1,92 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+    constexpr ValueType& value() LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+\n+    template <class U>\n+    ValueType value_or(U&& default_value) const&",
      "path": "src/util/expected.h",
      "position": 62,
      "original_position": 62,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa114be27b17ed32c1d9a7106f313a0df8755fa2",
      "in_reply_to_id": 2599049418,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, fixed as a side-effect of https://github.com/bitcoin/bitcoin/pull/34032/commits , fa4794dfeb9eddf703c9ea5c5a29433063038639",
      "created_at": "2025-12-09T08:25:04Z",
      "updated_at": "2025-12-09T08:25:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601578414",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601578414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 62,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601580170",
      "pull_request_review_id": 3556074848,
      "id": 2601580170,
      "node_id": "PRRC_kwDOABII586bEPaK",
      "diff_hunk": "@@ -0,0 +1,92 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}\n+    {\n+    }\n+\n+    constexpr bool has_value() const noexcept { return m_data.index() == 0; }\n+    constexpr explicit operator bool() const noexcept { return has_value(); }\n+\n+    constexpr const ValueType& value() const LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+    constexpr ValueType& value() LIFETIMEBOUND\n+    {\n+        assert(has_value());\n+        return std::get<0>(m_data);\n+    }\n+\n+    template <class U>\n+    ValueType value_or(U&& default_value) const&\n+    {\n+        return has_value() ? value() : std::forward<U>(default_value);\n+    }\n+    template <class U>\n+    ValueType value_or(U&& default_value) &&\n+    {\n+        return has_value() ? std::move(value()) : std::forward<U>(default_value);\n+    }",
      "path": "src/util/expected.h",
      "position": 70,
      "original_position": 70,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "fa114be27b17ed32c1d9a7106f313a0df8755fa2",
      "in_reply_to_id": 2599070287,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Sure, pushed https://github.com/bitcoin/bitcoin/pull/34032/commits, fa20a50f46307b45a82a6e4283a945ef2f9f92a2",
      "created_at": "2025-12-09T08:25:37Z",
      "updated_at": "2025-12-09T08:25:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601580170",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601580170"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": 66,
      "original_start_line": 66,
      "start_side": "RIGHT",
      "line": 70,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601583952",
      "pull_request_review_id": 3556080550,
      "id": 2601583952,
      "node_id": "PRRC_kwDOABII586bEQVQ",
      "diff_hunk": "@@ -0,0 +1,92 @@\n+// Copyright (c) The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://opensource.org/license/mit.\n+\n+#ifndef BITCOIN_UTIL_EXPECTED_H\n+#define BITCOIN_UTIL_EXPECTED_H\n+\n+#include <attributes.h>\n+\n+#include <cassert>\n+#include <type_traits>\n+#include <utility>\n+#include <variant>\n+\n+namespace util {\n+\n+/// The util::Unexpected class represents an unexpected value stored in\n+/// util::Expected.\n+template <class E>\n+class Unexpected\n+{\n+public:\n+    constexpr explicit Unexpected(E e) : err(std::move(e)) {}\n+    E err;\n+};\n+\n+/// The util::Expected class provides a standard way for low-level functions to\n+/// return either error values or result values.\n+///\n+/// It provides a smaller version of std::expected from C++23. Missing features\n+/// can be added, if needed.\n+template <class T, class E>\n+class Expected\n+{\n+private:\n+    using ValueType = std::conditional_t<std::is_same_v<T, void>, std::monostate, T>;\n+    std::variant<ValueType, E> m_data;\n+\n+public:\n+    constexpr Expected() : m_data{std::in_place_index_t<0>{}, ValueType{}} {}\n+    constexpr Expected(ValueType v) : m_data{std::in_place_index_t<0>{}, std::move(v)} {}\n+    template <class Err>\n+    constexpr Expected(Unexpected<Err> u) : m_data{std::in_place_index_t<1>{}, std::move(u.err)}",
      "path": "src/util/expected.h",
      "position": 43,
      "original_position": 43,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2598773353,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, this is part of https://github.com/bitcoin/bitcoin/pull/34032/commits, fa4794dfeb9eddf703c9ea5c5a29433063038639",
      "created_at": "2025-12-09T08:26:51Z",
      "updated_at": "2025-12-09T08:26:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601583952",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601583952"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": 40,
      "original_start_line": 40,
      "start_side": "RIGHT",
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601585428",
      "pull_request_review_id": 3556082423,
      "id": 2601585428,
      "node_id": "PRRC_kwDOABII586bEQsU",
      "diff_hunk": "@@ -330,7 +330,7 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n         std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(std::move(hreq), path, i->handler));\n         assert(g_work_queue);\n         if (g_work_queue->Enqueue(item.get())) {\n-            item.release(); /* if true, queue took ownership */\n+            [[maybe_unused]] auto _{item.release()}; /* if true, queue took ownership */",
      "path": "src/httpserver.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "original_commit_id": "faa23738fc2576e412edb04a4004fab537a3098e",
      "in_reply_to_id": 2599122933,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "left as-is for now",
      "created_at": "2025-12-09T08:27:20Z",
      "updated_at": "2025-12-09T08:27:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34006#discussion_r2601585428",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2601585428"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34006"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 333,
      "original_line": 333,
      "side": "RIGHT"
    }
  ]
}