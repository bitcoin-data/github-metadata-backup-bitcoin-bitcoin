{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
    "id": 1720989971,
    "node_id": "PR_kwDOABII585mlDkT",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29421",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29421.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29421.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
    "number": 29421,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "net: make the list of known message types a compile time constant",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Turn the `std::vector` to `std::array` because it is cheaper and allows us to have the number of the messages as a compile time constant: `g_all_net_message_types.size()` which can be used in future code to build other `std::array`s with that size.\r\n\r\n---\r\n\r\nThis change is part of https://github.com/bitcoin/bitcoin/pull/29418 but it makes sense on its own and would be good to have it, regardless of the fate of https://github.com/bitcoin/bitcoin/pull/29418. Also, if this is merged, that would reduce the size of https://github.com/bitcoin/bitcoin/pull/29418, thus the current standalone PR.",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "created_at": "2024-02-11T15:40:54Z",
    "updated_at": "2024-02-15T14:58:33Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "bcfc8171fdeae3c7e019461363e6fdc28e7d6042",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "vasild:message_types_compile_constant",
      "ref": "message_types_compile_constant",
      "sha": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 226535,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-15T14:46:59Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2024-02-06T12:56:54Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "baed5edeb611d949982c849461949c645f8998a7",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36804,
        "stargazers_count": 73995,
        "watchers_count": 73995,
        "size": 249299,
        "default_branch": "master",
        "open_issues_count": 678,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-15T14:47:03Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-02-15T13:39:20Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 84,
    "deletions": 131,
    "changed_files": 5,
    "commits": 2,
    "review_comments": 11,
    "comments": 3
  },
  "events": [
    {
      "event": "commented",
      "id": 1937788973,
      "node_id": "IC_kwDOABII585zgFAt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937788973",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T15:40:56Z",
      "updated_at": "2024-02-14T16:45:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29421).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [epiccurious](https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937914503) |\n| Stale ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1880064231) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937788973",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "labeled",
      "id": 11767372929,
      "node_id": "LE_lADOABII585-5pMnzwAAAAK9Y9yB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11767372929",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T15:40:59Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 1937914503,
      "node_id": "IC_kwDOABII585zgjqH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937914503",
      "actor": {
        "login": "epiccurious",
        "id": 109078515,
        "node_id": "U_kgDOBoBn8w",
        "avatar_url": "https://avatars.githubusercontent.com/u/109078515?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/epiccurious",
        "html_url": "https://github.com/epiccurious",
        "followers_url": "https://api.github.com/users/epiccurious/followers",
        "following_url": "https://api.github.com/users/epiccurious/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/epiccurious/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/epiccurious/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/epiccurious/subscriptions",
        "organizations_url": "https://api.github.com/users/epiccurious/orgs",
        "repos_url": "https://api.github.com/users/epiccurious/repos",
        "events_url": "https://api.github.com/users/epiccurious/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/epiccurious/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T23:40:47Z",
      "updated_at": "2024-02-11T23:40:47Z",
      "author_association": "NONE",
      "body": "Concept ACK 2e312ea909ae6c466007acf791ea0e3356e954cb.",
      "user": {
        "login": "epiccurious",
        "id": 109078515,
        "node_id": "U_kgDOBoBn8w",
        "avatar_url": "https://avatars.githubusercontent.com/u/109078515?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/epiccurious",
        "html_url": "https://github.com/epiccurious",
        "followers_url": "https://api.github.com/users/epiccurious/followers",
        "following_url": "https://api.github.com/users/epiccurious/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/epiccurious/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/epiccurious/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/epiccurious/subscriptions",
        "organizations_url": "https://api.github.com/users/epiccurious/orgs",
        "repos_url": "https://api.github.com/users/epiccurious/repos",
        "events_url": "https://api.github.com/users/epiccurious/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/epiccurious/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937914503",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T01:25:35Z",
      "updated_at": "2024-02-12T01:25:35Z",
      "source": {
        "issue": {
          "id": 2006252565,
          "node_id": "PR_kwDOABII585gIEzm",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28926",
          "number": 28926,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: add 'getnetmsgstats' RPC",
          "body": "This picks up #27534 with a rebase and a few fixups, now squashed. See #27534 for more background information.\r\n\r\nConsiderations from the previous draft:\r\n\r\n> Should we allow dimensions to be rearraged?\r\n> \r\n> When it comes time to gather up the RPC results, @vasild has provided an [alternate implementation](https://github.com/vasild/bitcoin/commits/getnetmsgstats) that uses an array instead of the MultiMap structure. This results in two changes:\r\n> \r\n>> using the stack over the heap (yay!)\r\n>> enforcing a strict ordering of dimensions (direction, network, connection type, message type)\r\n> \r\n> Aside from being good for memory, the reasoning here is allowing users to rearrange dimensions may be too confusing. I personally really like the ability to rearrange dimensions, which is why I have not integrated that solution into this PR, but am open to whatever the larger community prefers :) [Link](https://github.com/bitcoin/bitcoin/pull/27534#issue-1685662150)\r\n\r\n^ I have looked at the alternative implementation (thanks @vasild!), but prefer the current version myself so long as the performance is not an issue. I've left this as-is for now. If folks here think that it might be an issue then I can investigate the alternative further. See the next consideration for additional reasoning on sticking with the current approach.\r\n\r\n> Now that an effort has been made to remove the friendship between CConnman and CNode (see this PR: https://github.com/bitcoin/bitcoin/pull/27257) I'm unsure if this (recording network stats on a CConnman object) belongs here. [Link](https://github.com/bitcoin/bitcoin/pull/27534#discussion_r1179508199)\r\n\r\n^ These changes make @valid's alternative approach a bit harder to rebase and AB test with the current approach, as it relied on access to the `CNode` msg queue, and #27257 included the change: \"CNode's message processing queue is made private in the process and its mutex is turned into a non-recursive mutex.\" It can be worked around, but I'm not convinced it will be worth it.\r\n\r\n> this function should handle if index > NUM_NET_MESSAGE_TYPES [Link](https://github.com/bitcoin/bitcoin/pull/27534#discussion_r1191793368)\r\n\r\n^ I took this suggestion as part in 800ec2ac762cb48ac667cdf04de263634404569e\r\n\r\n> https://github.com/bitcoin/bitcoin/pull/27534#discussion_r1191798171\r\n\r\n^ I refactored this array in c909dc5704465aa96ce4496ed14452719e0b7860 to make it more comprehensible in the source code.\r\n\r\nAdditional considerations from OP:\r\n\r\n* The code organisation was mainly taken care of by @satsie, with _src/netstats.{h\\|cpp}_ now code from the netstats namespace instead of being contained within _net.cpp_\r\n",
          "user": {
            "login": "willcl-ark",
            "id": 6606587,
            "node_id": "MDQ6VXNlcjY2MDY1ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willcl-ark",
            "html_url": "https://github.com/willcl-ark",
            "followers_url": "https://api.github.com/users/willcl-ark/followers",
            "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
            "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
            "repos_url": "https://api.github.com/users/willcl-ark/repos",
            "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28926",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28926",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28926.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28926.patch"
          },
          "closed_at": "2024-02-12T08:26:28Z",
          "created_at": "2023-11-22T12:37:19Z",
          "updated_at": "2024-02-12T08:30:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1880064231,
      "node_id": "PRR_kwDOABII585wD4Dn",
      "url": null,
      "actor": null,
      "commit_id": "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 2e312ea909ae6c466007acf791ea0e3356e954cb\r\n\r\nThis is a clean tidy-up, and as mentioned useful for #29418 but stands on it's own (as a smalle improvement) too.\r\n\r\nLeft one req for comment update if touched again.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1880064231",
      "submitted_at": "2024-02-14T11:46:40Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11804454728,
      "node_id": "HRFPE_lADOABII585-5pMnzwAAAAK_ma9I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11804454728",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-14T16:45:33Z"
    },
    {
      "event": "commented",
      "id": 1944215847,
      "node_id": "IC_kwDOABII585z4mEn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944215847",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-14T16:47:52Z",
      "updated_at": "2024-02-14T16:47:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "`2e312ea909...808fe4ef80`: update comment, see https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489333827",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1944215847",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "reviewed",
      "id": 1882128538,
      "node_id": "PRR_kwDOABII585wLwCa",
      "url": null,
      "actor": null,
      "commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1882128538",
      "submitted_at": "2024-02-15T08:57:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T13:43:17Z",
      "updated_at": "2024-02-15T13:43:17Z",
      "source": {
        "issue": {
          "id": 1823081141,
          "node_id": "PR_kwDOABII585Weln1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28165",
          "number": 28165,
          "state": "closed",
          "state_reason": null,
          "title": "net: transport abstraction",
          "body": "This PR furthers the P2P message serialization/deserialization abstraction introduced in #16202 and #16562, in preparation for introducing the BIP324 v2 transport (making this part of #27634). However, nothing in this PR is BIP324-specific, and it contains a number of independently useful improvements.\r\n\r\nThe overall idea is to have a single object in every `CNode` (called `m_transport`) that is responsible for converting sent messages to wire bytes, and for converting received wire bytes back to messages, while having as little as possible knowledge about this conversion process in higher-level net code. To accomplish that, there is an abstract `Transport` class with (currently) a single `V1Transport` implementation.\r\n\r\nStructurally, the above is accomplished by:\r\n* Merging the `TransportDeserializer` and `TransportSerializer` classes into a single `Transport` class, which encompasses both the sending and receiving side. For `V1Transport` these two sides are entirely separate, but this assumption doesn't hold for the BIP324 transport where e.g. the sending encryption key depends on the DH key negotiation data received from the other side. Merging the two means a future `V2Transport` can handle all this interaction without callers needing to be aware.\r\n* Removing the assumption that each message is sent using a computed header followed by (unmodified) data bytes. To achieve that, the sending side of `Transport` mirrors what the receiver side does: callers can set a message to be sent, then ask what bytes must be sent out, and then allowing them to transition to the next message.\r\n* Adding internal locks to protect the sending and receiving state of the `V1Transport` implementation. I believe these aren't strictly needed (opinions welcome) as there is no real way to use `Transport` objects in a multi-threaded fashion without some form of external synchronization (e.g. \"get next bytes to send\" isn't meaningful to call from multiple threads at the same time without mechanism to control the order they'll actually get sent). Still, I feel it's cleaner to make the object responsible for its own consistency (as we definitely do not want the entire object to be under a single external GUARDED_BY, as that'd prevent simultaneous sending and receiving).\r\n* Moving the conversion of messages to bytes on the sending side from `PushMessage` to `SocketSendData`, which is needed to deal with the fact that a transport may not immediately be able to send messages.\r\n\r\nThis PR is not a refactor, though some commits are. Among the semantic changes are:\r\n* Changing the send buffer pushback mechanism to trigger based on the memory usage of the buffer rather than the amount of bytes to be sent. This is both closer to the desired behavior, and makes the buffering independent from transport details (which is why it's included here).\r\n* When optimistic send is not applicable, the V1 message checksum calculation now runs in the net thread rather than the message handling thread. I believe that's generally an improvement, as the message handling thread is far more computationally bottlenecked already.\r\n* The checksum calculation now runs under the `CNode::cs_vSend` lock, which does mean no two checksum calculations for messages sent to the same node can run in parallel, even if running in separate threads. Despite that limitation, having the checksum for non-optimistic sends moved in the net thread is still an improvement, I believe.\r\n* Statistics for per-message-type sent bytes are now updated when the bytes are actually handed to the OS rather than in `PushMessage`. This is because the actual serialized sizes aren't known until they've gone through the transport object.\r\n\r\nA fuzz test of the entire `V1Transport` is included. More elaborate rationale for each of the changes can be found in the commit messages.",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28165",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28165",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28165.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28165.patch"
          },
          "closed_at": "2023-08-24T12:55:51Z",
          "created_at": "2023-07-26T20:04:07Z",
          "updated_at": "2024-02-15T13:59:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI2M2I3MDNlZmM4ODBiMzg4NGI4NDY2YTMyMzhlYjU5OTJiNThhYzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b63b703efc880b3884b8466a3238eb5992b58ac4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b63b703efc880b3884b8466a3238eb5992b58ac4",
      "tree": {
        "sha": "a7266239b9e81c16fa148283f27b55ca656bcb86",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a7266239b9e81c16fa148283f27b55ca656bcb86"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a7266239b9e81c16fa148283f27b55ca656bcb86\nparent 7143d4388407ab3d12005e55a02d5e8f334e4dc9\nauthor Vasil Dimov <vd@FreeBSD.org> 1700134467 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1708008363 +0100\n\nnet: make the list of known message types a compile time constant\n\nTurn the `std::vector` to `std::array` because it is cheaper and\nallows us to have the number of the messages as a compile time\nconstant: `g_all_net_message_types.size()` which can be used in\nfuture code to build other `std::array`s with that size.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmXOI6sACgkQVN8G9ktV\ny7/eRh//UyAuGXxhnnR0Ps4nTsRwXkO2z1Jm0AodLG1Xa+oWP1RlkK5iVIviDl7s\n1mC2jsAd5eRKKUniWxoZ/gOyO5KuaSKQreUqHvMW/toHzgwq+PzDAQwlpog9zqVN\n2Dg4UyuHIIunKk+fLYeJJpBkx+PHnwYOjWET8ZIe5E8v1qFCYGSAcFIiW6gnEiSl\nmScy1Rs712FvIa5U4M2BamjFTb/CvRRH9OoK0a8Yo0jwvuYFp5UpLCVuV10UBPS6\nhBQZo5lfNGIHQpkW4c5Cg41HMaGLYikvtHfVLqwrV+r2cWit53drdeFcDmiTm0NQ\nxL1aXp6jejiaGUjvUK0ue6/g8UgLvDbChF52IzIsnZr0IElGfhy+vJqdLOGNTQuP\nNV8Ipg8z9gPXfo2K5mRFQtjFDi2aG9OuvxdT7fmIaGPf8c0YqCqX/htYxDnzCY+4\n+V66RpRJZIwndue9C5tO58kTRUw8/xLvrxgMIZZdnDJCpGq0JlhB9oNML/OB+V1z\nvp+/DfchISoKQDU6zX6DNgTlqF2flUEymxaiaxahuVk8oi2FtfMBHC9ZircWIs/9\neer2yPx1o1eTVH1fTzOnir7c6BvmpgV7IKi9T6B5AraPVmg4Kbk/HYzmJTy5Wsam\n8rfGqlVeAoXASIjqCf5494gMkKfDP11fCQCCM8CB6FHXFjEdNVEIlAnn4MOYcJZE\nywEWe7ThkSnxYoIQiZbIs4NBWWKioq5NgukT0JK4sQJyqbzhN2hN0lrLYCJnjDZp\nlZtHMkVkswACF2OEe739ZXiUrLIk92bSMPX6tKNswMkDgR24qcEAcLxh6KyxcxL7\nhfrE95e/09fMkdQ8UMtRUnIvR2PVciFDdsNiofptPrhvUlse3JO/1lGyNsSEwWt/\nWqyGOObFrR2p1s+GBlCVLef5vaoUnFq4BB3OedaiaFZ5GUInyIZErS134GTqdv9S\n7RCzGtSdfMmivf3BXBvpxrHe3ByhHG0y1voSa+E3/XZAomrxX12eoNNpNi1ui9qC\nc1dXIYutBvxGGpKEFIrgroHPWCLYUPBu6sNCDB0Isj78YXOWOLVAJr5ifaxRMFZ/\nOa4Iu9x4pXrPYvkcd4WhbqsH4P84NotEa5bFK7Hju01aKgVfs1q6gJNkc+3/PbG3\nwb7BXJnMsyB/de2F+PHGfl/ChiWpcqI13VwlKG/0QZfAnaZfOKae/7h8Kyd4gUZV\nd81BP9FRtzXh6qMNPrZgnwmSpO0/2QO3FTxLHksCXoZ2eW/rVaLb34A+HA7gMWDS\nxBXidrPnMxMQexScBKi8DQJOxwcrXcgiDinSZJGliWUYKxc+K0b3cszYeYnS9DyJ\nN5+Cerbjj8maiDEFKd1kujVJdHBARg==\n=HaPa\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7143d4388407ab3d12005e55a02d5e8f334e4dc9",
          "sha": "7143d4388407ab3d12005e55a02d5e8f334e4dc9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7143d4388407ab3d12005e55a02d5e8f334e4dc9"
        }
      ],
      "message": "net: make the list of known message types a compile time constant\n\nTurn the `std::vector` to `std::array` because it is cheaper and\nallows us to have the number of the messages as a compile time\nconstant: `g_all_net_message_types.size()` which can be used in\nfuture code to build other `std::array`s with that size.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2024-02-15T14:46:03Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-11-16T11:34:27Z"
      },
      "sha": "b63b703efc880b3884b8466a3238eb5992b58ac4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMyOTM1MGY0ZDcyMjMxYWU0NGIxMmE3ODNhOGQ0YzZiZDNhZjBmNzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "tree": {
        "sha": "71dee29cc6940b710b794009f90e1b935c8293a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/71dee29cc6940b710b794009f90e1b935c8293a9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 71dee29cc6940b710b794009f90e1b935c8293a9\nparent b63b703efc880b3884b8466a3238eb5992b58ac4\nauthor Vasil Dimov <vd@FreeBSD.org> 1708007548 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1708008363 +0100\n\nprotocol: make message types constexpr\n\nAs a side effect the names of the constants do not have to be\nrepeated in `src/protocol.cpp`.\n\nAlso make `g_all_net_message_types` `constexpr` - it can be\nbecause now `NetMsgType::*` are `constexpr`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmXOI6wACgkQVN8G9ktV\ny7+OOx/8DgPPv5JcZeeIADRnofHuabeZiWixMbawORN84WJPzja00cC/sEKDXQdJ\nz67/NUmwnPGWP3ZTDWG6RZ4v38iGKtqOAQCtv3ffh3iCuVAH2Epklg4RT391Bvby\njHu30Zixj0X3Bww7jX9SVZOvJPOxxeICosCcnjs1lNqUtPIugpR7oYuJ/c/8GJce\nYjmle41RrkN2LchxFj9SxllsXZK0cV+ymkMszG90fwzhW2IENkmTMLf5Gu7jNY1s\nJ1th6hAEgL2FrWTjTv6oVQZfbSThjOquvb0JsQJ6bebcqkKP9/dTUwJduDiCoGeW\nvL7vF/20pByxmmww5au+Iz176sBzSkXSFpoyvm24Nnp7D9yWv+zindXzB/nCij7m\nmeYbgnkvnw9HlmHLgsP17oLV+AW69Ijd1bGvWKhVNGfCl7NdnufTDIoFAPTkvWoT\nXN6fxvUt4XxAcjxwdyOkbgPaYQZ0lOBUtN7lqjrUIeSsuuy6V7nWWbPepCxYU3XR\n7gHlWAvjbbrzRBBQNDtY6yHjsbAJ+MjLThTTY104VIpEPTahAAKKuYzTzZDvBbGS\nw6/m6ugjm8XZJAt+sEWynvyZw9TB23ZTdlKL0ydNndHOSiM6sOJMJ81s5VFsOWYF\nMWjK27Dz7B4+zR0dJStXbKTmt855Kt+DDif83hf+m5MlXHfKg6DNxN6vFrzOFsh1\nPtkHyeq8s0yY5g2Iu36nvxJSTQspOzQG2Lxa3ISvJNEtaHzMdANCjZ+qtF5SPW0N\nzePkcjWT1SoT1NWy3VooFVKMzil5SKgMglCIiGCGxsYTGEXcj94EKFnbwj+PZujB\n2AO7YZIwq8AW7r3z4O529sgQ5s3b8Ir/zJi6tXsWrv7KNvW5xRd8ngwT9awBmB8l\n2jOpwfHOmqOnwLVBkl4sXBXeUsDnKUTrHzKL2ZYjZWal1ius3vk4MRpCHfT47Nae\nUyjBN8HY34qx8mMVwPQEB78b8Jw86+s2FN+fh7bAzv4rIE6bVfAJQmCNzxUP04uH\nNIbOkIzTgU0PFQBIkzNCcKwzz6II8oRSKtsMEZOQTE8rL7pSaKvt74M2PfkmtoXd\npc9Snk2g+GLDORbKCwl9c3yqUvitGosOBv6WzD4xThvDFILTfXUGbduJMI1dxc7h\ngi+6xrptZ3+35UDlTVo5ktSv/dWBfYLZZYLcC/i+WhQ61gAprHZIpdFQs/QKmcGL\n7i9Tkh/+wfECPPsH9oWIAbsDeSENGHSYJALgCED/N57sGRHT1B3RgWF/Rx85BIFI\npg3EXTj+2ZacRl45JJo815nwHxcUMq7VauNf8IUvBwa1q/kdENaqSIdF0k557czE\ns6PhizCNOiUdHPFepv5BkOoRdv3rmA==\n=0Z0u\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b63b703efc880b3884b8466a3238eb5992b58ac4",
          "sha": "b63b703efc880b3884b8466a3238eb5992b58ac4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b63b703efc880b3884b8466a3238eb5992b58ac4"
        }
      ],
      "message": "protocol: make message types constexpr\n\nAs a side effect the names of the constants do not have to be\nrepeated in `src/protocol.cpp`.\n\nAlso make `g_all_net_message_types` `constexpr` - it can be\nbecause now `NetMsgType::*` are `constexpr`.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2024-02-15T14:46:03Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2024-02-15T14:32:28Z"
      },
      "sha": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11816531085,
      "node_id": "HRFPE_lADOABII585-5pMnzwAAAALAUfSN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11816531085",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T14:47:01Z"
    },
    {
      "event": "reviewed",
      "id": 1883000247,
      "node_id": "PRR_kwDOABII585wPE23",
      "url": null,
      "actor": null,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1883000247",
      "submitted_at": "2024-02-15T14:53:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489333827",
      "pull_request_review_id": 1880064231,
      "id": 1489333827,
      "node_id": "PRRC_kwDOABII585YxW5D",
      "diff_hunk": "@@ -47,47 +47,6 @@ const char* WTXIDRELAY = \"wtxidrelay\";\n const char* SENDTXRCNCL = \"sendtxrcncl\";\n } // namespace NetMsgType\n \n-/** All known message types. Keep this in the same order as the list of",
      "path": "src/protocol.cpp",
      "position": 44,
      "original_position": 4,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is a comment in src/protocol.h#56 which could be updated to reflect the new constant too:\r\n\r\n```cpp\r\n/**\r\n * Bitcoin protocol message types. When adding new message types, don't forget\r\n * to update allNetMessageTypes in protocol.cpp.\r\n */\r\n```",
      "created_at": "2024-02-14T11:37:07Z",
      "updated_at": "2024-02-14T11:46:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489333827",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489333827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 50,
      "original_line": 50,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489781074",
      "pull_request_review_id": 1880787749,
      "id": 1489781074,
      "node_id": "PRRC_kwDOABII585YzEFS",
      "diff_hunk": "@@ -47,47 +47,6 @@ const char* WTXIDRELAY = \"wtxidrelay\";\n const char* SENDTXRCNCL = \"sendtxrcncl\";\n } // namespace NetMsgType\n \n-/** All known message types. Keep this in the same order as the list of",
      "path": "src/protocol.cpp",
      "position": 44,
      "original_position": 4,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "in_reply_to_id": 1489333827,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated, thanks!",
      "created_at": "2024-02-14T16:47:15Z",
      "updated_at": "2024-02-14T16:47:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489781074",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489781074"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 50,
      "original_line": 50,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490642807",
      "pull_request_review_id": 1882128538,
      "id": 1490642807,
      "node_id": "PRRC_kwDOABII585Y2Wd3",
      "diff_hunk": "@@ -3701,7 +3701,7 @@ CNode::CNode(NodeId idIn,\n {\n     if (inbound_onion) assert(conn_type_in == ConnectionType::INBOUND);\n \n-    for (const std::string &msg : getAllNetMessageTypes())\n+    for (const auto& msg : g_all_net_message_types)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    for (const auto& msg : g_all_net_message_types) {\r\n```\r\n\r\nnit: Add missing `{` while touching?",
      "created_at": "2024-02-15T08:46:45Z",
      "updated_at": "2024-02-15T08:57:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490642807",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490642807"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3704,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490651364",
      "pull_request_review_id": 1882128538,
      "id": 1490651364,
      "node_id": "PRRC_kwDOABII585Y2Yjk",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not constexpr?\r\n\r\nAlso, this may put a copy of this array in all translation units, but I guess this is fine, as there is no other way to achieve it.",
      "created_at": "2024-02-15T08:53:37Z",
      "updated_at": "2024-02-15T08:57:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490651364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490651364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490653235",
      "pull_request_review_id": 1882128538,
      "id": 1490653235,
      "node_id": "PRRC_kwDOABII585Y2ZAz",
      "diff_hunk": "@@ -21,13 +21,12 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n     std::sort(g_all_messages.begin(), g_all_messages.end());",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why the sort? Also, are you sure that sorting pointers is comparing the content it points  to, as opposed to the memory address value?",
      "created_at": "2024-02-15T08:55:05Z",
      "updated_at": "2024-02-15T08:57:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490653235",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490653235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491131500",
      "pull_request_review_id": 1882985345,
      "id": 1491131500,
      "node_id": "PRRC_kwDOABII585Y4Nxs",
      "diff_hunk": "@@ -3701,7 +3701,7 @@ CNode::CNode(NodeId idIn,\n {\n     if (inbound_onion) assert(conn_type_in == ConnectionType::INBOUND);\n \n-    for (const std::string &msg : getAllNetMessageTypes())\n+    for (const auto& msg : g_all_net_message_types)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490642807,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2024-02-15T14:47:18Z",
      "updated_at": "2024-02-15T14:47:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491131500",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491131500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3704,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491133503",
      "pull_request_review_id": 1882988504,
      "id": 1491133503,
      "node_id": "PRRC_kwDOABII585Y4OQ_",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490651364,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done as a separate commit because it required changing `NetMsgType::*` constants to `constexpr` as well.\r\n\r\nA +36 / -77 change, thanks!",
      "created_at": "2024-02-15T14:48:39Z",
      "updated_at": "2024-02-15T14:48:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491133503",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491133503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491136346",
      "pull_request_review_id": 1882993054,
      "id": 1491136346,
      "node_id": "PRRC_kwDOABII585Y4O9a",
      "diff_hunk": "@@ -21,13 +21,12 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n     std::sort(g_all_messages.begin(), g_all_messages.end());",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490653235,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Why the sort?\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/28165#discussion_r1491029750\r\n\r\nYou are right that comparing the pointers here is wrong. I added a custom sort function to compare the contents. Thanks!",
      "created_at": "2024-02-15T14:50:31Z",
      "updated_at": "2024-02-15T14:50:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491136346",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491136346"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491140321",
      "pull_request_review_id": 1883000247,
      "id": 1491140321,
      "node_id": "PRRC_kwDOABII585Y4P7h",
      "diff_hunk": "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: If `string_view` are stored, the compiler can derive this code and you won't have to change this line of code.",
      "created_at": "2024-02-15T14:53:05Z",
      "updated_at": "2024-02-15T14:53:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491140321",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491140321"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491144268",
      "pull_request_review_id": 1883006434,
      "id": 1491144268,
      "node_id": "PRRC_kwDOABII585Y4Q5M",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490651364,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now it may put all string literals in all translation units as well. Would be good to benchmark the effect, if any.",
      "created_at": "2024-02-15T14:55:32Z",
      "updated_at": "2024-02-15T14:55:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491144268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491144268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491148886",
      "pull_request_review_id": 1883013954,
      "id": 1491148886,
      "node_id": "PRRC_kwDOABII585Y4SBW",
      "diff_hunk": "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "in_reply_to_id": 1491140321,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just tried that - if I store the constants as `string_view`, e.g. `constexpr std::string_view VERSION{\"version\"};`, then I get this greeting:\r\n\r\n```\r\ntest/util/net.cpp:34:9: error: no matching function for call to 'Make'\r\n   34 |         NetMsg::Make(NetMsgType::VERSION,\r\n      |         ^~~~~~~~~~~~\r\n./netmessagemaker.h:14:23: note: candidate function template not viable: no known conversion from 'const std::string_view' (aka 'const basic_string_view<char>') to 'std::string' (aka 'basic_string<char>') for 1st argument\r\n   14 |     CSerializedNetMsg Make(std::string msg_type, Args&&... args)\r\n      |                       ^    ~~~~~~~~~~~~~~~~~~~~\r\n```",
      "created_at": "2024-02-15T14:58:33Z",
      "updated_at": "2024-02-15T14:58:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491148886",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491148886"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    }
  ]
}