{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
    "id": 1720989971,
    "node_id": "PR_kwDOABII585mlDkT",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29421",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29421.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29421.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fd6a481995592e166537c2e397a815a5e5e5e50f",
    "number": 29421,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "net: make the list of known message types a compile time constant",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Turn the `std::vector` to `std::array` because it is cheaper and allows us to have the number of the messages as a compile time constant: `g_all_net_message_types.size()` which can be used in future code to build other `std::array`s with that size.\r\n\r\n---\r\n\r\nThis change is part of https://github.com/bitcoin/bitcoin/pull/29418 but it makes sense on its own and would be good to have it, regardless of the fate of https://github.com/bitcoin/bitcoin/pull/29418. Also, if this is merged, that would reduce the size of https://github.com/bitcoin/bitcoin/pull/29418, thus the current standalone PR.",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "created_at": "2024-02-11T15:40:54Z",
    "updated_at": "2024-02-28T14:38:29Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "2fb52ef94cfdcc964acf8964994a9d4375d7f853",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "vasild:message_types_compile_constant",
      "ref": "message_types_compile_constant",
      "sha": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 227180,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-28T14:37:05Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2024-02-06T12:56:54Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "ba907f96ad37c09c49c0e1532fad118fcb8dd4a8",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34698,
        "stargazers_count": 74240,
        "watchers_count": 74240,
        "size": 250478,
        "default_branch": "master",
        "open_issues_count": 690,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-28T14:37:08Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-02-28T14:51:02Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 86,
    "deletions": 133,
    "changed_files": 6,
    "commits": 2,
    "review_comments": 20,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 1937788973,
      "node_id": "IC_kwDOABII585zgFAt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937788973",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T15:40:56Z",
      "updated_at": "2024-02-28T13:51:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29421).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1969029491) |\n| Concept ACK | [epiccurious](https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937914503), [Empact](https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1965919604) |\n| Stale ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1880064231) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29418](https://github.com/bitcoin/bitcoin/pull/29418) (rpc: provide per message stats for global traffic via new RPC 'getnetmsgstats' by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937788973",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "labeled",
      "id": 11767372929,
      "node_id": "LE_lADOABII585-5pMnzwAAAAK9Y9yB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11767372929",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T15:40:59Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 1937914503,
      "node_id": "IC_kwDOABII585zgjqH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937914503",
      "actor": {
        "login": "epiccurious",
        "id": 109078515,
        "node_id": "U_kgDOBoBn8w",
        "avatar_url": "https://avatars.githubusercontent.com/u/109078515?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/epiccurious",
        "html_url": "https://github.com/epiccurious",
        "followers_url": "https://api.github.com/users/epiccurious/followers",
        "following_url": "https://api.github.com/users/epiccurious/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/epiccurious/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/epiccurious/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/epiccurious/subscriptions",
        "organizations_url": "https://api.github.com/users/epiccurious/orgs",
        "repos_url": "https://api.github.com/users/epiccurious/repos",
        "events_url": "https://api.github.com/users/epiccurious/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/epiccurious/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T23:40:47Z",
      "updated_at": "2024-02-11T23:40:47Z",
      "author_association": "NONE",
      "body": "Concept ACK 2e312ea909ae6c466007acf791ea0e3356e954cb.",
      "user": {
        "login": "epiccurious",
        "id": 109078515,
        "node_id": "U_kgDOBoBn8w",
        "avatar_url": "https://avatars.githubusercontent.com/u/109078515?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/epiccurious",
        "html_url": "https://github.com/epiccurious",
        "followers_url": "https://api.github.com/users/epiccurious/followers",
        "following_url": "https://api.github.com/users/epiccurious/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/epiccurious/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/epiccurious/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/epiccurious/subscriptions",
        "organizations_url": "https://api.github.com/users/epiccurious/orgs",
        "repos_url": "https://api.github.com/users/epiccurious/repos",
        "events_url": "https://api.github.com/users/epiccurious/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/epiccurious/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937914503",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T01:25:35Z",
      "updated_at": "2024-02-12T01:25:35Z",
      "source": {
        "issue": {
          "id": 2006252565,
          "node_id": "PR_kwDOABII585gIEzm",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28926/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28926",
          "number": 28926,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: add 'getnetmsgstats' RPC",
          "body": "This picks up #27534 with a rebase and a few fixups, now squashed. See #27534 for more background information.\r\n\r\nConsiderations from the previous draft:\r\n\r\n> Should we allow dimensions to be rearraged?\r\n> \r\n> When it comes time to gather up the RPC results, @vasild has provided an [alternate implementation](https://github.com/vasild/bitcoin/commits/getnetmsgstats) that uses an array instead of the MultiMap structure. This results in two changes:\r\n> \r\n>> using the stack over the heap (yay!)\r\n>> enforcing a strict ordering of dimensions (direction, network, connection type, message type)\r\n> \r\n> Aside from being good for memory, the reasoning here is allowing users to rearrange dimensions may be too confusing. I personally really like the ability to rearrange dimensions, which is why I have not integrated that solution into this PR, but am open to whatever the larger community prefers :) [Link](https://github.com/bitcoin/bitcoin/pull/27534#issue-1685662150)\r\n\r\n^ I have looked at the alternative implementation (thanks @vasild!), but prefer the current version myself so long as the performance is not an issue. I've left this as-is for now. If folks here think that it might be an issue then I can investigate the alternative further. See the next consideration for additional reasoning on sticking with the current approach.\r\n\r\n> Now that an effort has been made to remove the friendship between CConnman and CNode (see this PR: https://github.com/bitcoin/bitcoin/pull/27257) I'm unsure if this (recording network stats on a CConnman object) belongs here. [Link](https://github.com/bitcoin/bitcoin/pull/27534#discussion_r1179508199)\r\n\r\n^ These changes make @valid's alternative approach a bit harder to rebase and AB test with the current approach, as it relied on access to the `CNode` msg queue, and #27257 included the change: \"CNode's message processing queue is made private in the process and its mutex is turned into a non-recursive mutex.\" It can be worked around, but I'm not convinced it will be worth it.\r\n\r\n> this function should handle if index > NUM_NET_MESSAGE_TYPES [Link](https://github.com/bitcoin/bitcoin/pull/27534#discussion_r1191793368)\r\n\r\n^ I took this suggestion as part in 800ec2ac762cb48ac667cdf04de263634404569e\r\n\r\n> https://github.com/bitcoin/bitcoin/pull/27534#discussion_r1191798171\r\n\r\n^ I refactored this array in c909dc5704465aa96ce4496ed14452719e0b7860 to make it more comprehensible in the source code.\r\n\r\nAdditional considerations from OP:\r\n\r\n* The code organisation was mainly taken care of by @satsie, with _src/netstats.{h\\|cpp}_ now code from the netstats namespace instead of being contained within _net.cpp_\r\n",
          "user": {
            "login": "willcl-ark",
            "id": 6606587,
            "node_id": "MDQ6VXNlcjY2MDY1ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willcl-ark",
            "html_url": "https://github.com/willcl-ark",
            "followers_url": "https://api.github.com/users/willcl-ark/followers",
            "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
            "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
            "repos_url": "https://api.github.com/users/willcl-ark/repos",
            "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28926",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28926",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28926.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28926.patch"
          },
          "closed_at": "2024-02-12T08:26:28Z",
          "created_at": "2023-11-22T12:37:19Z",
          "updated_at": "2024-02-12T08:30:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1880064231,
      "node_id": "PRR_kwDOABII585wD4Dn",
      "url": null,
      "actor": null,
      "commit_id": "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 2e312ea909ae6c466007acf791ea0e3356e954cb\r\n\r\nThis is a clean tidy-up, and as mentioned useful for #29418 but stands on it's own (as a smalle improvement) too.\r\n\r\nLeft one req for comment update if touched again.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1880064231",
      "submitted_at": "2024-02-14T11:46:40Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11804454728,
      "node_id": "HRFPE_lADOABII585-5pMnzwAAAAK_ma9I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11804454728",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-14T16:45:33Z"
    },
    {
      "event": "commented",
      "id": 1944215847,
      "node_id": "IC_kwDOABII585z4mEn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944215847",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-14T16:47:52Z",
      "updated_at": "2024-02-14T16:47:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "`2e312ea909...808fe4ef80`: update comment, see https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489333827",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1944215847",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "reviewed",
      "id": 1882128538,
      "node_id": "PRR_kwDOABII585wLwCa",
      "url": null,
      "actor": null,
      "commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1882128538",
      "submitted_at": "2024-02-15T08:57:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T13:43:17Z",
      "updated_at": "2024-02-15T13:43:17Z",
      "source": {
        "issue": {
          "id": 1823081141,
          "node_id": "PR_kwDOABII585Weln1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28165/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28165",
          "number": 28165,
          "state": "closed",
          "state_reason": null,
          "title": "net: transport abstraction",
          "body": "This PR furthers the P2P message serialization/deserialization abstraction introduced in #16202 and #16562, in preparation for introducing the BIP324 v2 transport (making this part of #27634). However, nothing in this PR is BIP324-specific, and it contains a number of independently useful improvements.\r\n\r\nThe overall idea is to have a single object in every `CNode` (called `m_transport`) that is responsible for converting sent messages to wire bytes, and for converting received wire bytes back to messages, while having as little as possible knowledge about this conversion process in higher-level net code. To accomplish that, there is an abstract `Transport` class with (currently) a single `V1Transport` implementation.\r\n\r\nStructurally, the above is accomplished by:\r\n* Merging the `TransportDeserializer` and `TransportSerializer` classes into a single `Transport` class, which encompasses both the sending and receiving side. For `V1Transport` these two sides are entirely separate, but this assumption doesn't hold for the BIP324 transport where e.g. the sending encryption key depends on the DH key negotiation data received from the other side. Merging the two means a future `V2Transport` can handle all this interaction without callers needing to be aware.\r\n* Removing the assumption that each message is sent using a computed header followed by (unmodified) data bytes. To achieve that, the sending side of `Transport` mirrors what the receiver side does: callers can set a message to be sent, then ask what bytes must be sent out, and then allowing them to transition to the next message.\r\n* Adding internal locks to protect the sending and receiving state of the `V1Transport` implementation. I believe these aren't strictly needed (opinions welcome) as there is no real way to use `Transport` objects in a multi-threaded fashion without some form of external synchronization (e.g. \"get next bytes to send\" isn't meaningful to call from multiple threads at the same time without mechanism to control the order they'll actually get sent). Still, I feel it's cleaner to make the object responsible for its own consistency (as we definitely do not want the entire object to be under a single external GUARDED_BY, as that'd prevent simultaneous sending and receiving).\r\n* Moving the conversion of messages to bytes on the sending side from `PushMessage` to `SocketSendData`, which is needed to deal with the fact that a transport may not immediately be able to send messages.\r\n\r\nThis PR is not a refactor, though some commits are. Among the semantic changes are:\r\n* Changing the send buffer pushback mechanism to trigger based on the memory usage of the buffer rather than the amount of bytes to be sent. This is both closer to the desired behavior, and makes the buffering independent from transport details (which is why it's included here).\r\n* When optimistic send is not applicable, the V1 message checksum calculation now runs in the net thread rather than the message handling thread. I believe that's generally an improvement, as the message handling thread is far more computationally bottlenecked already.\r\n* The checksum calculation now runs under the `CNode::cs_vSend` lock, which does mean no two checksum calculations for messages sent to the same node can run in parallel, even if running in separate threads. Despite that limitation, having the checksum for non-optimistic sends moved in the net thread is still an improvement, I believe.\r\n* Statistics for per-message-type sent bytes are now updated when the bytes are actually handed to the OS rather than in `PushMessage`. This is because the actual serialized sizes aren't known until they've gone through the transport object.\r\n\r\nA fuzz test of the entire `V1Transport` is included. More elaborate rationale for each of the changes can be found in the commit messages.",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28165",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28165",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28165.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28165.patch"
          },
          "closed_at": "2023-08-24T12:55:51Z",
          "created_at": "2023-07-26T20:04:07Z",
          "updated_at": "2024-02-15T13:59:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11816531085,
      "node_id": "HRFPE_lADOABII585-5pMnzwAAAALAUfSN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11816531085",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T14:47:01Z"
    },
    {
      "event": "reviewed",
      "id": 1883000247,
      "node_id": "PRR_kwDOABII585wPE23",
      "url": null,
      "actor": null,
      "commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1883000247",
      "submitted_at": "2024-02-15T14:53:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T18:37:28Z",
      "updated_at": "2024-02-15T18:37:28Z",
      "source": {
        "issue": {
          "id": 2128913200,
          "node_id": "PR_kwDOABII585mkqvf",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29418",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29418/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29418/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29418/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29418",
          "number": 29418,
          "state": "open",
          "state_reason": null,
          "title": "rpc: provide per message stats for global traffic via new RPC 'getnetmsgstats'",
          "body": "Introduce a new RPC, `getnetmsgstats` to retrieve traffic bytes and count of messages possibly broken down by:\r\n* direction (sent or received)\r\n* network (ipv4, tor, etc)\r\n* connection type (outbound-full-relay, block-relay-only, etc)\r\n* message type (verack, ping, etc)\r\n\r\nImplements: https://github.com/bitcoin/bitcoin/issues/26337 Add per message stats to getnettotals rpc\r\n\r\n---\r\n\r\nExamples:\r\n\r\n<details>\r\n<summary>bitcoin-cli getnetmsgstats '[\"direction\", \"network\", \"connection_type\", \"message_type\"]'</summary>\r\n\r\n```\r\n{\r\n  \"bytes\": 5392756,\r\n  \"count\": 32683\r\n}\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>bitcoin-cli getnetmsgstats '[\"direction\", \"network\", \"connection_type\"]'</summary>\r\n\r\n```\r\n{\r\n  \"sendcmpct\": {\r\n    \"bytes\": 975,\r\n    \"count\": 31\r\n  },\r\n  \"sendaddrv2\": {\r\n    \"bytes\": 816,\r\n    \"count\": 28\r\n  },\r\n  \"headers\": {\r\n    \"bytes\": 1786,\r\n    \"count\": 28\r\n  },\r\n  \"feefilter\": {\r\n    \"bytes\": 816,\r\n    \"count\": 27\r\n  },\r\n  \"version\": {\r\n    \"bytes\": 4843,\r\n    \"count\": 37\r\n  },\r\n  \"ping\": {\r\n    \"bytes\": 1104,\r\n    \"count\": 36\r\n  },\r\n  \"getaddr\": {\r\n    \"bytes\": 384,\r\n    \"count\": 13\r\n  },\r\n  \"block\": {\r\n    \"bytes\": 5128467,\r\n    \"count\": 20365\r\n  },\r\n  \"getheaders\": {\r\n    \"bytes\": 29436,\r\n    \"count\": 28\r\n  },\r\n  \"pong\": {\r\n    \"bytes\": 1040,\r\n    \"count\": 34\r\n  },\r\n  \"getdata\": {\r\n    \"bytes\": 1218925,\r\n    \"count\": 20008\r\n  },\r\n  \"sendheaders\": {\r\n    \"bytes\": 447,\r\n    \"count\": 16\r\n  },\r\n  \"wtxidrelay\": {\r\n    \"bytes\": 816,\r\n    \"count\": 28\r\n  },\r\n  \"addrv2\": {\r\n    \"bytes\": 301161,\r\n    \"count\": 25\r\n  },\r\n  \"verack\": {\r\n    \"bytes\": 816,\r\n    \"count\": 28\r\n  }\r\n}\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>bitcoin-cli getnetmsgstats '[\"direction\", \"connection_type\", \"message_type\"]'</summary>\r\n\r\n```\r\n{\r\n  \"i2p\": {\r\n    \"bytes\": 1311861,\r\n    \"count\": 8226\r\n  },\r\n  \"onion\": {\r\n    \"bytes\": 3932760,\r\n    \"count\": 24272\r\n  },\r\n  \"ipv6\": {\r\n    \"bytes\": 631265,\r\n    \"count\": 3362\r\n  },\r\n  \"ipv4\": {\r\n    \"bytes\": 1300106,\r\n    \"count\": 7773\r\n  }\r\n}\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>bitcoin-cli getnetmsgstats</summary>\r\n\r\n```\r\n{\r\n  \"recv\": {\r\n    \"i2p\": {\r\n      \"manual\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 90,\r\n          \"count\": 3\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 309,\r\n          \"count\": 3\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 87,\r\n          \"count\": 3\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 408,\r\n          \"count\": 3\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 87,\r\n          \"count\": 3\r\n        },\r\n        \"block\": {\r\n          \"bytes\": 432950,\r\n          \"count\": 1794\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 3150,\r\n          \"count\": 3\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 87,\r\n          \"count\": 3\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        },\r\n        \"addrv2\": {\r\n          \"bytes\": 68508,\r\n          \"count\": 3\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        }\r\n      }\r\n    },\r\n    \"onion\": {\r\n      \"block-relay-only\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 66,\r\n          \"count\": 2\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 106,\r\n          \"count\": 1\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 32,\r\n          \"count\": 1\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 126,\r\n          \"count\": 1\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 64,\r\n          \"count\": 2\r\n        },\r\n        \"block\": {\r\n          \"bytes\": 478479,\r\n          \"count\": 1896\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 1053,\r\n          \"count\": 1\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 64,\r\n          \"count\": 2\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        }\r\n      },\r\n      \"outbound-full-relay\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 195,\r\n          \"count\": 6\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 527,\r\n          \"count\": 5\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 157,\r\n          \"count\": 5\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 639,\r\n          \"count\": 5\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 189,\r\n          \"count\": 6\r\n        },\r\n        \"block\": {\r\n          \"bytes\": 1465688,\r\n          \"count\": 5957\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 5262,\r\n          \"count\": 5\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 189,\r\n          \"count\": 6\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        },\r\n        \"addrv2\": {\r\n          \"bytes\": 120693,\r\n          \"count\": 9\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        }\r\n      }\r\n    },\r\n    \"ipv6\": {\r\n      \"manual\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 120,\r\n          \"count\": 4\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 132,\r\n          \"count\": 4\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 412,\r\n          \"count\": 4\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 116,\r\n          \"count\": 4\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 544,\r\n          \"count\": 4\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 116,\r\n          \"count\": 4\r\n        },\r\n        \"block\": {\r\n          \"bytes\": 138074,\r\n          \"count\": 583\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 4200,\r\n          \"count\": 4\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 116,\r\n          \"count\": 4\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 132,\r\n          \"count\": 4\r\n        },\r\n        \"addrv2\": {\r\n          \"bytes\": 93436,\r\n          \"count\": 4\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 132,\r\n          \"count\": 4\r\n        }\r\n      },\r\n      \"outbound-full-relay\": {\r\n        \"version\": {\r\n          \"bytes\": 126,\r\n          \"count\": 1\r\n        }\r\n      }\r\n    },\r\n    \"ipv4\": {\r\n      \"outbound-full-relay\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 66,\r\n          \"count\": 2\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 106,\r\n          \"count\": 1\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 32,\r\n          \"count\": 1\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 252,\r\n          \"count\": 2\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 32,\r\n          \"count\": 1\r\n        },\r\n        \"block\": {\r\n          \"bytes\": 313988,\r\n          \"count\": 1255\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 1053,\r\n          \"count\": 1\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 32,\r\n          \"count\": 1\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"addrv2\": {\r\n          \"bytes\": 40,\r\n          \"count\": 1\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"sent\": {\r\n    \"i2p\": {\r\n      \"manual\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 90,\r\n          \"count\": 3\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 66,\r\n          \"count\": 3\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 87,\r\n          \"count\": 3\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 544,\r\n          \"count\": 4\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 87,\r\n          \"count\": 3\r\n        },\r\n        \"getaddr\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 3150,\r\n          \"count\": 3\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 87,\r\n          \"count\": 3\r\n        },\r\n        \"getdata\": {\r\n          \"bytes\": 105382,\r\n          \"count\": 1789\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        }\r\n      }\r\n    },\r\n    \"onion\": {\r\n      \"block-relay-only\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 33,\r\n          \"count\": 1\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 25,\r\n          \"count\": 1\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 127,\r\n          \"count\": 1\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 64,\r\n          \"count\": 2\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 1053,\r\n          \"count\": 1\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 64,\r\n          \"count\": 2\r\n        },\r\n        \"getdata\": {\r\n          \"bytes\": 115932,\r\n          \"count\": 1884\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        }\r\n      },\r\n      \"outbound-full-relay\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 162,\r\n          \"count\": 5\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 122,\r\n          \"count\": 5\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 157,\r\n          \"count\": 5\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 771,\r\n          \"count\": 6\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 221,\r\n          \"count\": 7\r\n        },\r\n        \"getaddr\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 5262,\r\n          \"count\": 5\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 189,\r\n          \"count\": 6\r\n        },\r\n        \"getdata\": {\r\n          \"bytes\": 363478,\r\n          \"count\": 5932\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        },\r\n        \"addrv2\": {\r\n          \"bytes\": 231,\r\n          \"count\": 4\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 129,\r\n          \"count\": 5\r\n        }\r\n      }\r\n    },\r\n    \"ipv6\": {\r\n      \"manual\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 120,\r\n          \"count\": 4\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 132,\r\n          \"count\": 4\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 88,\r\n          \"count\": 4\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 116,\r\n          \"count\": 4\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 544,\r\n          \"count\": 4\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 116,\r\n          \"count\": 4\r\n        },\r\n        \"getaddr\": {\r\n          \"bytes\": 132,\r\n          \"count\": 4\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 4200,\r\n          \"count\": 4\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 116,\r\n          \"count\": 4\r\n        },\r\n        \"getdata\": {\r\n          \"bytes\": 35492,\r\n          \"count\": 584\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 99,\r\n          \"count\": 3\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 132,\r\n          \"count\": 4\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 132,\r\n          \"count\": 4\r\n        }\r\n      },\r\n      \"outbound-full-relay\": {\r\n        \"version\": {\r\n          \"bytes\": 254,\r\n          \"count\": 2\r\n        }\r\n      }\r\n    },\r\n    \"ipv4\": {\r\n      \"outbound-full-relay\": {\r\n        \"sendcmpct\": {\r\n          \"bytes\": 33,\r\n          \"count\": 1\r\n        },\r\n        \"sendaddrv2\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"headers\": {\r\n          \"bytes\": 25,\r\n          \"count\": 1\r\n        },\r\n        \"feefilter\": {\r\n          \"bytes\": 32,\r\n          \"count\": 1\r\n        },\r\n        \"version\": {\r\n          \"bytes\": 508,\r\n          \"count\": 4\r\n        },\r\n        \"ping\": {\r\n          \"bytes\": 32,\r\n          \"count\": 1\r\n        },\r\n        \"getaddr\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"getheaders\": {\r\n          \"bytes\": 1053,\r\n          \"count\": 1\r\n        },\r\n        \"pong\": {\r\n          \"bytes\": 32,\r\n          \"count\": 1\r\n        },\r\n        \"getdata\": {\r\n          \"bytes\": 76531,\r\n          \"count\": 1231\r\n        },\r\n        \"sendheaders\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"wtxidrelay\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        },\r\n        \"verack\": {\r\n          \"bytes\": 24,\r\n          \"count\": 1\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n</details>\r\n\r\n---\r\n\r\nPrevious incarnations of this:\r\nhttps://github.com/bitcoin/bitcoin/pull/27534 rpc: add 'getnetmsgstats', new rpc to view network message statistics (Thank you, @satsie!)\r\nhttps://github.com/bitcoin/bitcoin/pull/28926 rpc: add 'getnetmsgstats' RPC (Thank you, @willcl-ark!)",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29418",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29418",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29418.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29418.patch"
          },
          "created_at": "2024-02-11T09:32:51Z",
          "updated_at": "2024-02-15T18:37:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11819590074,
      "node_id": "HRFPE_lADOABII585-5pMnzwAAAALAgKG6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11819590074",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-15T18:58:54Z"
    },
    {
      "event": "reviewed",
      "id": 1902666642,
      "node_id": "PRR_kwDOABII585xaGOS",
      "url": null,
      "actor": null,
      "commit_id": "c7c613c414e1c1456c63f63cd90367092788f840",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1902666642",
      "submitted_at": "2024-02-27T06:58:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    },
    {
      "event": "reviewed",
      "id": 1902678013,
      "node_id": "PRR_kwDOABII585xaI_9",
      "url": null,
      "actor": null,
      "commit_id": "c7c613c414e1c1456c63f63cd90367092788f840",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1902678013",
      "submitted_at": "2024-02-27T07:07:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
    },
    {
      "event": "commented",
      "id": 1965919604,
      "node_id": "IC_kwDOABII5851LY10",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1965919604",
      "actor": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T07:12:48Z",
      "updated_at": "2024-02-27T07:12:48Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1965919604",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "commented",
      "id": 1969029491,
      "node_id": "IC_kwDOABII5851XQFz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1969029491",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T13:51:12Z",
      "updated_at": "2024-02-28T13:51:12Z",
      "author_association": "MEMBER",
      "body": "Seems fine, but NACK on the approach. This switches a vector of `std::string` objects (which is type-safe) to an array of raw pointers (not type-safe). This has already lead to a bug in this pull request, and is asking for more bugs to happen in the future, so I don't think it is worth it as-is.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1969029491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgzOWFkOTViMjMxMDUwYWJiNTQwMTExMDJjOWU1M2M1MzQyYjZiYmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/839ad95b231050abb54011102c9e53c5342b6bba",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/839ad95b231050abb54011102c9e53c5342b6bba",
      "tree": {
        "sha": "a1a1ffb9d3fbe0f19fd031e9bc46e93a395fd745",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a1a1ffb9d3fbe0f19fd031e9bc46e93a395fd745"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a1a1ffb9d3fbe0f19fd031e9bc46e93a395fd745\nparent ba907f96ad37c09c49c0e1532fad118fcb8dd4a8\nauthor Vasil Dimov <vd@FreeBSD.org> 1700134467 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1709129945 +0100\n\nnet: make the list of known message types a compile time constant\n\nTurn the `std::vector` to `std::array` because it is cheaper and\nallows us to have the number of the messages as a compile time\nconstant: `ALL_NET_MESSAGE_TYPES.size()` which can be used in\nfuture code to build other `std::array`s with that size.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmXfQOMACgkQVN8G9ktV\ny79LkSAAq/yVE10IUG2+Pir/iTq3uhZhv8ZwdODOrbz5EmBQgpC0pX+QY9CjVvvk\nq7jo9gehD2Yr4ZKuKPJPnZHBhBaIgnklWIFGVu3LkASwLUrtHmc3FVnQFf07hXkx\nU6BUr0dUXWRUNbHgT8xkLNZmBSWlzCazhZBzmKlgk9wzU/KKmO1rS5keivR6NlDC\n7ka5OhPpVxjyI1S9DSoEv4K1QMkYqMBnKufjI2cZLVCrbpoJNmYXNB5mZGkVTaxm\ncfKjvUK8w/84HejQV9dd6rMqi1VR9mTvFBI1kI+MGF18Tr5tnBevmg1HkbwQXAlK\nc6VfaqJIfvVpCL6aQLF/W+pboyDHXBKlBEFukj57SLLnlJJLQE0vuFkxY4e/QZCe\nIIiN9QU3PAD4YQgmogxsmkJdZIe3wOFYIcRuROIbpLJWdZpvh9p0NXj1tYl+XiXA\nP+5NUzPsbg3RLc5zjlYamqBL+Bjh+jM8q7cBDEq8JdVcuyYtry5G7iIiUFRkGGIU\nR9jniywcjlu7qZOCCLvYU1CZ+Pe7lCHka4lS6v5iQ+3bJUAFOJDxCjd8RvvTG8lg\nrS7qBq8j4t7eW++12NucedH96jL5gVPCd9wWVQP48I0yVt2xsm22DxPWX8zczJD3\n86gcKbrEnqqeOZhD4XcsnDfocxMWYy5dIcxfD9vKvOCF426s78kgcVWdMxRfTCTj\nCg18CBe3nATc9xsJDzOg24Qm3A6EJx9xUFK6hZhwjbcDkF9WQ9HFb+DH8kgedXE/\nLyCS5SOpcXc1EQgOqeh/5PLTa4x8sdaIUR//+Yn5Q8KsKhGiU3HnGWteU+Q4TG8H\nqHh37JftHIEetNd6aG4Qjax5/6+72lWIVnZd5AcisaFcRP4DI6IaJl15X44Xh9q7\ncjcXDuoFVJTyuQQkuKySrXld+QUgnVpVmpUw/rd6qvMlwSlqJHeR/iMXoxf21ASh\np23WbkxHsqKBUL3PyglTHp0444JwGSf+C8FyLeCx4A/n7D+cQpujmwLDUptpkniq\nt8fdzzWtKp5unotUmvMSu8PMkWApkmoW5tEIyzBrkzMdC1rBJJFtytiXvQWQAR+i\nzDug1qljg+j7T764MzANPYZAzJ9/ML8C/KcgJDrhZdQ3pADpc4pf1gBj2aBJfPe8\nnRDm3ms+YSyeVwq0gSaojZ55oq+5eUdDmKCCqGFCuSQ6OwGzvNuThGO7MMZ4lDvJ\nRlCesNQmrkAhWJ6zHD6DfxumSqA5kG5O87tryzSmf4wJxqG2LTXe5309D7FzHVp2\nYBqeJE1J0pQat1gSbTKr/wm1Br9UBvDneDnM6Z128kWBLA7/I8jONql1Ki8VqHag\n0pRee1ma/pKouTRi3+TVW+Sj0iu2ng==\n=y3rY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba907f96ad37c09c49c0e1532fad118fcb8dd4a8",
          "sha": "ba907f96ad37c09c49c0e1532fad118fcb8dd4a8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ba907f96ad37c09c49c0e1532fad118fcb8dd4a8"
        }
      ],
      "message": "net: make the list of known message types a compile time constant\n\nTurn the `std::vector` to `std::array` because it is cheaper and\nallows us to have the number of the messages as a compile time\nconstant: `ALL_NET_MESSAGE_TYPES.size()` which can be used in\nfuture code to build other `std::array`s with that size.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2024-02-28T14:19:05Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-11-16T11:34:27Z"
      },
      "sha": "839ad95b231050abb54011102c9e53c5342b6bba"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZkNmE0ODE5OTU1OTJlMTY2NTM3YzJlMzk3YTgxNWE1ZTVlNWU1MGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fd6a481995592e166537c2e397a815a5e5e5e50f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fd6a481995592e166537c2e397a815a5e5e5e50f",
      "tree": {
        "sha": "843ba8707b3349040a6359cc834e1d2c6e1c6da0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/843ba8707b3349040a6359cc834e1d2c6e1c6da0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 843ba8707b3349040a6359cc834e1d2c6e1c6da0\nparent 839ad95b231050abb54011102c9e53c5342b6bba\nauthor Vasil Dimov <vd@FreeBSD.org> 1708007548 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1709130968 +0100\n\nprotocol: make message types constexpr\n\nAs a side effect the names of the constants do not have to be\nrepeated in `src/protocol.cpp`.\n\nAlso make `g_all_net_message_types` `constexpr` - it can be\nbecause now `NetMsgType::*` are `constexpr`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmXfRNoACgkQVN8G9ktV\ny7+i1SAAiWG/+bDOCI2jL1xC6SBlD+C6Vp22C5FMbaj1NLjEluxLhZ4nKdQ4/eon\nfPuhw94wDpx3XPoybOjts2gzc6jveJnELaHc92h8Y/ELfxzgq+BeGBBtyhT4PQvS\n5x9gLgccCvDyHKDhOLOckupZocD7BAVwZJPWDCwFg+U/LzDF1Ll6kcGOBL+8K8Ow\npq/tJpBRx8/SFVN0iSdLmWDOrPL7h9vyEgT1ndxCz10gobYgb4RijLriBoCYD3qk\nhL6r5ivAQnYxTAq4jNke2t9HwWZbWTGUQfzvLE0QD1EtTfFikf/vs1GWOLKISq0a\nYNom2v8a8ZKMMmO9wz2q/YDOTc9us8m8gQPreDDUDQESmZ2KOElttNvTndL1HDIi\n5BzhxoDxQiMrvPZ024cqkQYb4NaufUOsI9CiQUhWWN7A9FzdGIcqnWlbMu5G/5+B\nnPzAW+H+4WBCg3q8AKeQM01o1zOCLGWpU2EqmaPlOT5329iJ0NtXHPLFdLINE8au\ne2tZ9DlkyQ0dc46ea/ZtSDBoFGpBFDe1fvz7nbbkLmEupl0aL1mh8n3prhoMOENq\nijtIi5VkHV4Bpmn9V50NHNtFiHsy+SuygdGAdFaAELte4IqnfhaEiGgfAeje+Mf6\nHO5RPT8KHqKy3w4jYMz2KQ8RwVlxg+Z8Bg2OLbxkr5tJLQT8BVbdfH/Oj+3s+ovL\nFidI0/n3zr4alvRcr+8v4aXoQ0Xy/GryeFXT9RljC2T9tPM4bYnqM+rmBaGFbsZc\n3HUyrC5TZ2g0W0RFeBNkaPaAwzTOYJT1vQstOxaSdYkxXaxFvd+qx2Zdr3CTZAUP\nHYXS5Ryr60pAnzWv+QEufC1XBvMxkIE0LhYUruhbvMba7tQ6Akg+WIMuaO5aygcH\njfB8aSCWbfREJy+2tdViJpgcSKzKrAXb602vBCX2pL0XTUE+p4HL3OhzDATTfix0\nXmeX4WsfNmq2y0C5ObC5Obf5EDmQaPBa/rnZI6h+cbRo/8S528myPBMwxjrRn/v/\nbJ9D4LozIvg89htqIWs9lcFxCndY6ZgZjtRht9maE7R1sbd6tueBl2O0y0zXTw3f\nOAHQCqzUTS3ucvZSxZtrR6TlQFven3iku8wka6GZiauWpye3aeRLtSnQU0THhD7u\niFzhTtb0Hz8xA4sCcD5x9JFYTXFTsUvefIbJc98euDWLFRqUFssJqs68e4g+B5jt\n8ZpZ1EHZzNvh0XmViDWpU7eDTflayj3Rc2PnHiDJ2JPlqnf9GB4aZ1hj5Kh7EhXx\ntnFs1waYpzMBr1YGJdXIKqm4dj11N5tktn8D7I0WYY/cPnfPMqON4q0bjC28goOA\ngJryrL4ER3WZpLNhZ8V8E0SsrarkEQ==\n=Bao7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/839ad95b231050abb54011102c9e53c5342b6bba",
          "sha": "839ad95b231050abb54011102c9e53c5342b6bba",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/839ad95b231050abb54011102c9e53c5342b6bba"
        }
      ],
      "message": "protocol: make message types constexpr\n\nAs a side effect the names of the constants do not have to be\nrepeated in `src/protocol.cpp`.\n\nAlso make `g_all_net_message_types` `constexpr` - it can be\nbecause now `NetMsgType::*` are `constexpr`.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2024-02-28T14:36:08Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2024-02-15T14:32:28Z"
      },
      "sha": "fd6a481995592e166537c2e397a815a5e5e5e50f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11952682843,
      "node_id": "HRFPE_lADOABII585-5pMnzwAAAALIb3db",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11952682843",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T14:37:07Z"
    },
    {
      "event": "commented",
      "id": 1969126291,
      "node_id": "IC_kwDOABII5851XnuT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1969126291",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T14:38:17Z",
      "updated_at": "2024-02-28T14:38:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "`c7c613c414...fd6a481995`: rename `g_all_net_message_types` to `ALL_NET_MESSAGE_TYPES` as per https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503734070",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1969126291",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29421"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489333827",
      "pull_request_review_id": 1880064231,
      "id": 1489333827,
      "node_id": "PRRC_kwDOABII585YxW5D",
      "diff_hunk": "@@ -47,47 +47,6 @@ const char* WTXIDRELAY = \"wtxidrelay\";\n const char* SENDTXRCNCL = \"sendtxrcncl\";\n } // namespace NetMsgType\n \n-/** All known message types. Keep this in the same order as the list of",
      "path": "src/protocol.cpp",
      "position": 44,
      "original_position": 4,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is a comment in src/protocol.h#56 which could be updated to reflect the new constant too:\r\n\r\n```cpp\r\n/**\r\n * Bitcoin protocol message types. When adding new message types, don't forget\r\n * to update allNetMessageTypes in protocol.cpp.\r\n */\r\n```",
      "created_at": "2024-02-14T11:37:07Z",
      "updated_at": "2024-02-14T11:46:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489333827",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489333827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 50,
      "original_line": 50,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489781074",
      "pull_request_review_id": 1880787749,
      "id": 1489781074,
      "node_id": "PRRC_kwDOABII585YzEFS",
      "diff_hunk": "@@ -47,47 +47,6 @@ const char* WTXIDRELAY = \"wtxidrelay\";\n const char* SENDTXRCNCL = \"sendtxrcncl\";\n } // namespace NetMsgType\n \n-/** All known message types. Keep this in the same order as the list of",
      "path": "src/protocol.cpp",
      "position": 44,
      "original_position": 4,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "in_reply_to_id": 1489333827,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated, thanks!",
      "created_at": "2024-02-14T16:47:15Z",
      "updated_at": "2024-02-14T16:47:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489781074",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489781074"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 50,
      "original_line": 50,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490642807",
      "pull_request_review_id": 1882128538,
      "id": 1490642807,
      "node_id": "PRRC_kwDOABII585Y2Wd3",
      "diff_hunk": "@@ -3701,7 +3701,7 @@ CNode::CNode(NodeId idIn,\n {\n     if (inbound_onion) assert(conn_type_in == ConnectionType::INBOUND);\n \n-    for (const std::string &msg : getAllNetMessageTypes())\n+    for (const auto& msg : g_all_net_message_types)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    for (const auto& msg : g_all_net_message_types) {\r\n```\r\n\r\nnit: Add missing `{` while touching?",
      "created_at": "2024-02-15T08:46:45Z",
      "updated_at": "2024-02-15T08:57:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490642807",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490642807"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3704,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490651364",
      "pull_request_review_id": 1882128538,
      "id": 1490651364,
      "node_id": "PRRC_kwDOABII585Y2Yjk",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not constexpr?\r\n\r\nAlso, this may put a copy of this array in all translation units, but I guess this is fine, as there is no other way to achieve it.",
      "created_at": "2024-02-15T08:53:37Z",
      "updated_at": "2024-02-15T08:57:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490651364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490651364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490653235",
      "pull_request_review_id": 1882128538,
      "id": 1490653235,
      "node_id": "PRRC_kwDOABII585Y2ZAz",
      "diff_hunk": "@@ -21,13 +21,12 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n     std::sort(g_all_messages.begin(), g_all_messages.end());",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why the sort? Also, are you sure that sorting pointers is comparing the content it points  to, as opposed to the memory address value?",
      "created_at": "2024-02-15T08:55:05Z",
      "updated_at": "2024-02-15T08:57:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490653235",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490653235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491131500",
      "pull_request_review_id": 1882985345,
      "id": 1491131500,
      "node_id": "PRRC_kwDOABII585Y4Nxs",
      "diff_hunk": "@@ -3701,7 +3701,7 @@ CNode::CNode(NodeId idIn,\n {\n     if (inbound_onion) assert(conn_type_in == ConnectionType::INBOUND);\n \n-    for (const std::string &msg : getAllNetMessageTypes())\n+    for (const auto& msg : g_all_net_message_types)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490642807,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2024-02-15T14:47:18Z",
      "updated_at": "2024-02-15T14:47:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491131500",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491131500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3704,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491133503",
      "pull_request_review_id": 1882988504,
      "id": 1491133503,
      "node_id": "PRRC_kwDOABII585Y4OQ_",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490651364,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done as a separate commit because it required changing `NetMsgType::*` constants to `constexpr` as well.\r\n\r\nA +36 / -77 change, thanks!",
      "created_at": "2024-02-15T14:48:39Z",
      "updated_at": "2024-02-15T14:48:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491133503",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491133503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491136346",
      "pull_request_review_id": 1882993054,
      "id": 1491136346,
      "node_id": "PRRC_kwDOABII585Y4O9a",
      "diff_hunk": "@@ -21,13 +21,12 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n     std::sort(g_all_messages.begin(), g_all_messages.end());",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490653235,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Why the sort?\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/28165#discussion_r1491029750\r\n\r\nYou are right that comparing the pointers here is wrong. I added a custom sort function to compare the contents. Thanks!",
      "created_at": "2024-02-15T14:50:31Z",
      "updated_at": "2024-02-15T14:50:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491136346",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491136346"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491140321",
      "pull_request_review_id": 1883000247,
      "id": 1491140321,
      "node_id": "PRRC_kwDOABII585Y4P7h",
      "diff_hunk": "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: If `string_view` are stored, the compiler can derive this code and you won't have to change this line of code.",
      "created_at": "2024-02-15T14:53:05Z",
      "updated_at": "2024-02-15T14:53:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491140321",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491140321"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491144268",
      "pull_request_review_id": 1883006434,
      "id": 1491144268,
      "node_id": "PRRC_kwDOABII585Y4Q5M",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490651364,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now it may put all string literals in all translation units as well. Would be good to benchmark the effect, if any.",
      "created_at": "2024-02-15T14:55:32Z",
      "updated_at": "2024-02-15T14:55:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491144268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491144268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491148886",
      "pull_request_review_id": 1883013954,
      "id": 1491148886,
      "node_id": "PRRC_kwDOABII585Y4SBW",
      "diff_hunk": "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "in_reply_to_id": 1491140321,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just tried that - if I store the constants as `string_view`, e.g. `constexpr std::string_view VERSION{\"version\"};`, then I get this greeting:\r\n\r\n```\r\ntest/util/net.cpp:34:9: error: no matching function for call to 'Make'\r\n   34 |         NetMsg::Make(NetMsgType::VERSION,\r\n      |         ^~~~~~~~~~~~\r\n./netmessagemaker.h:14:23: note: candidate function template not viable: no known conversion from 'const std::string_view' (aka 'const basic_string_view<char>') to 'std::string' (aka 'basic_string<char>') for 1st argument\r\n   14 |     CSerializedNetMsg Make(std::string msg_type, Args&&... args)\r\n      |                       ^    ~~~~~~~~~~~~~~~~~~~~\r\n```",
      "created_at": "2024-02-15T14:58:33Z",
      "updated_at": "2024-02-15T14:58:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491148886",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491148886"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491483794",
      "pull_request_review_id": 1883600032,
      "id": 1491483794,
      "node_id": "PRRC_kwDOABII585Y5jyS",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490651364,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is relevant: https://stackoverflow.com/questions/45987571/difference-between-constexpr-and-static-constexpr-global-variable\r\n\r\nI made the following experiment:\r\n\r\n`s.h`:\r\n```cpp\r\nconstexpr const char* s{\"aabbcc\"};\r\n```\r\n\r\n`a.cc`:\r\n```cpp\r\n#include \"s.h\"\r\n#include <stdio.h>\r\nvoid a()\r\n{\r\n    printf(\"a(): %p, %s\\n\", &s, s);\r\n}\r\n```\r\n\r\n`b.cc`:\r\n```cpp\r\n#include \"s.h\"\r\n#include <stdio.h>\r\nvoid b()\r\n{\r\n    printf(\"b(): %p, %s\\n\", &s, s);\r\n}\r\n```\r\n`main.cc`:\r\n```cpp\r\nvoid a();\r\nvoid b();\r\nint main(int, char**)\r\n{\r\n    a();\r\n    b();\r\n    return 0;\r\n}\r\n```\r\n\r\n```sh\r\n$ clang++-devel -c a.cc -o a.o\r\n$ clang++-devel -c b.cc -o b.o\r\n$ clang++-devel -c main.cc -o main.o\r\n$ clang++-devel a.o b.o main.o -o main\r\n$ ./main\r\na(): 0x200578, aabbcc\r\nb(): 0x200580, aabbcc\r\n```\r\nAlso checked that the `main` executable contains the string `aabbcc` just once, so it is not duplicated. But there are two different pointers pointing to it.\r\n\r\nThen I changed the header `s.h` to:\r\n```cpp\r\ninline constexpr const char* s{\"aabbcc\"};\r\n```\r\n\r\nAnd re-ran:\r\n```sh\r\n$ ./main\r\na(): 0x200578, aabbcc\r\nb(): 0x200578, aabbcc\r\n```\r\n\r\nnow it is the same pointer.\r\n\r\nSo, I added `inline` to the variables involved.",
      "created_at": "2024-02-15T19:00:48Z",
      "updated_at": "2024-02-15T19:00:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491483794",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491483794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494531483",
      "pull_request_review_id": 1888388367,
      "id": 1494531483,
      "node_id": "PRRC_kwDOABII585ZFL2b",
      "diff_hunk": "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "in_reply_to_id": 1491140321,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I meant just for the array, for now.\r\n\r\n```cpp\r\ninline constexpr std::array g_all_net_message_types{std::to_array<std::string_view>({",
      "created_at": "2024-02-19T13:12:55Z",
      "updated_at": "2024-02-19T13:12:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1494531483",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494531483"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503727466",
      "pull_request_review_id": 1902666642,
      "id": 1503727466,
      "node_id": "PRRC_kwDOABII585ZoQ9q",
      "diff_hunk": "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};",
      "path": "src/protocol.h",
      "position": 14,
      "original_position": 14,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c7c613c414e1c1456c63f63cd90367092788f840",
      "in_reply_to_id": null,
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You can drop `inline` as `constexpr` is implicitly `inline`.\r\n> A static data member (i.e. static class member or namespace-scope variable) declared constexpr on its first declaration is implicitly an inline variable.\r\nhttps://en.cppreference.com/w/cpp/language/inline",
      "created_at": "2024-02-27T06:58:52Z",
      "updated_at": "2024-02-27T06:58:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503727466",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503727466"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503734070",
      "pull_request_review_id": 1902678013,
      "id": 1503734070,
      "node_id": "PRRC_kwDOABII585ZoSk2",
      "diff_hunk": "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};\n /**\n  * The verack message acknowledges a previously-received version message,\n  * informing the connecting node that it can begin to send other messages.\n  */\n-extern const char* VERACK;\n+inline constexpr const char* VERACK{\"verack\"};\n /**\n  * The addr (IP address) message relays connection information for peers on the\n  * network.\n  */\n-extern const char* ADDR;\n+inline constexpr const char* ADDR{\"addr\"};\n /**\n  * The addrv2 message relays connection information for peers on the network just\n  * like the addr message, but is extended to allow gossiping of longer node\n  * addresses (see BIP155).\n  */\n-extern const char *ADDRV2;\n+inline constexpr const char* ADDRV2{\"addrv2\"};\n /**\n  * The sendaddrv2 message signals support for receiving ADDRV2 messages (BIP155).\n  * It also implies that its sender can encode as ADDRV2 and would send ADDRV2\n  * instead of ADDR to a peer that has signaled ADDRV2 support by sending SENDADDRV2.\n  */\n-extern const char *SENDADDRV2;\n+inline constexpr const char* SENDADDRV2{\"sendaddrv2\"};\n /**\n  * The inv message (inventory message) transmits one or more inventories of\n  * objects known to the transmitting peer.\n  */\n-extern const char* INV;\n+inline constexpr const char* INV{\"inv\"};\n /**\n  * The getdata message requests one or more data objects from another node.\n  */\n-extern const char* GETDATA;\n+inline constexpr const char* GETDATA{\"getdata\"};\n /**\n  * The merkleblock message is a reply to a getdata message which requested a\n  * block using the inventory type MSG_MERKLEBLOCK.\n  * @since protocol version 70001 as described by BIP37.\n  */\n-extern const char* MERKLEBLOCK;\n+inline constexpr const char* MERKLEBLOCK{\"merkleblock\"};\n /**\n  * The getblocks message requests an inv message that provides block header\n  * hashes starting from a particular point in the block chain.\n  */\n-extern const char* GETBLOCKS;\n+inline constexpr const char* GETBLOCKS{\"getblocks\"};\n /**\n  * The getheaders message requests a headers message that provides block\n  * headers starting from a particular point in the block chain.\n  * @since protocol version 31800.\n  */\n-extern const char* GETHEADERS;\n+inline constexpr const char* GETHEADERS{\"getheaders\"};\n /**\n  * The tx message transmits a single transaction.\n  */\n-extern const char* TX;\n+inline constexpr const char* TX{\"tx\"};\n /**\n  * The headers message sends one or more block headers to a node which\n  * previously requested certain headers with a getheaders message.\n  * @since protocol version 31800.\n  */\n-extern const char* HEADERS;\n+inline constexpr const char* HEADERS{\"headers\"};\n /**\n  * The block message transmits a single serialized block.\n  */\n-extern const char* BLOCK;\n+inline constexpr const char* BLOCK{\"block\"};\n /**\n  * The getaddr message requests an addr message from the receiving node,\n  * preferably one with lots of IP addresses of other receiving nodes.\n  */\n-extern const char* GETADDR;\n+inline constexpr const char* GETADDR{\"getaddr\"};\n /**\n  * The mempool message requests the TXIDs of transactions that the receiving\n  * node has verified as valid but which have not yet appeared in a block.\n  * @since protocol version 60002 as described by BIP35.\n  *   Only available with service bit NODE_BLOOM, see also BIP111.\n  */\n-extern const char* MEMPOOL;\n+inline constexpr const char* MEMPOOL{\"mempool\"};\n /**\n  * The ping message is sent periodically to help confirm that the receiving\n  * peer is still connected.\n  */\n-extern const char* PING;\n+inline constexpr const char* PING{\"ping\"};\n /**\n  * The pong message replies to a ping message, proving to the pinging node that\n  * the ponging node is still alive.\n  * @since protocol version 60001 as described by BIP31.\n  */\n-extern const char* PONG;\n+inline constexpr const char* PONG{\"pong\"};\n /**\n  * The notfound message is a reply to a getdata message which requested an\n  * object the receiving node does not have available for relay.\n  * @since protocol version 70001.\n  */\n-extern const char* NOTFOUND;\n+inline constexpr const char* NOTFOUND{\"notfound\"};\n /**\n  * The filterload message tells the receiving peer to filter all relayed\n  * transactions and requested merkle blocks through the provided filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERLOAD;\n+inline constexpr const char* FILTERLOAD{\"filterload\"};\n /**\n  * The filteradd message tells the receiving peer to add a single element to a\n  * previously-set bloom filter, such as a new public key.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERADD;\n+inline constexpr const char* FILTERADD{\"filteradd\"};\n /**\n  * The filterclear message tells the receiving peer to remove a previously-set\n  * bloom filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERCLEAR;\n+inline constexpr const char* FILTERCLEAR{\"filterclear\"};\n /**\n  * Indicates that a node prefers to receive new block announcements via a\n  * \"headers\" message rather than an \"inv\".\n  * @since protocol version 70012 as described by BIP130.\n  */\n-extern const char* SENDHEADERS;\n+inline constexpr const char* SENDHEADERS{\"sendheaders\"};\n /**\n  * The feefilter message tells the receiving peer not to inv us any txs\n  * which do not meet the specified min fee rate.\n  * @since protocol version 70013 as described by BIP133\n  */\n-extern const char* FEEFILTER;\n+inline constexpr const char* FEEFILTER{\"feefilter\"};\n /**\n  * Contains a 1-byte bool and 8-byte LE version number.\n  * Indicates that a node is willing to provide blocks via \"cmpctblock\" messages.\n  * May indicate that a node prefers to receive new block announcements via a\n  * \"cmpctblock\" message rather than an \"inv\", depending on message contents.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* SENDCMPCT;\n+inline constexpr const char* SENDCMPCT{\"sendcmpct\"};\n /**\n  * Contains a CBlockHeaderAndShortTxIDs object - providing a header and\n  * list of \"short txids\".\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* CMPCTBLOCK;\n+inline constexpr const char* CMPCTBLOCK{\"cmpctblock\"};\n /**\n  * Contains a BlockTransactionsRequest\n  * Peer should respond with \"blocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* GETBLOCKTXN;\n+inline constexpr const char* GETBLOCKTXN{\"getblocktxn\"};\n /**\n  * Contains a BlockTransactions.\n  * Sent in response to a \"getblocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* BLOCKTXN;\n+inline constexpr const char* BLOCKTXN{\"blocktxn\"};\n /**\n  * getcfilters requests compact filters for a range of blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFILTERS;\n+inline constexpr const char* GETCFILTERS{\"getcfilters\"};\n /**\n  * cfilter is a response to a getcfilters request containing a single compact\n  * filter.\n  */\n-extern const char* CFILTER;\n+inline constexpr const char* CFILTER{\"cfilter\"};\n /**\n  * getcfheaders requests a compact filter header and the filter hashes for a\n  * range of blocks, which can then be used to reconstruct the filter headers\n  * for those blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFHEADERS;\n+inline constexpr const char* GETCFHEADERS{\"getcfheaders\"};\n /**\n  * cfheaders is a response to a getcfheaders request containing a filter header\n  * and a vector of filter hashes for each subsequent block in the requested range.\n  */\n-extern const char* CFHEADERS;\n+inline constexpr const char* CFHEADERS{\"cfheaders\"};\n /**\n  * getcfcheckpt requests evenly spaced compact filter headers, enabling\n  * parallelized download and validation of the headers between them.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFCHECKPT;\n+inline constexpr const char* GETCFCHECKPT{\"getcfcheckpt\"};\n /**\n  * cfcheckpt is a response to a getcfcheckpt request containing a vector of\n  * evenly spaced filter headers for blocks on the requested chain.\n  */\n-extern const char* CFCHECKPT;\n+inline constexpr const char* CFCHECKPT{\"cfcheckpt\"};\n /**\n  * Indicates that a node prefers to relay transactions via wtxid, rather than\n  * txid.\n  * @since protocol version 70016 as described by BIP 339.\n  */\n-extern const char* WTXIDRELAY;\n+inline constexpr const char* WTXIDRELAY{\"wtxidrelay\"};\n /**\n  * Contains a 4-byte version number and an 8-byte salt.\n  * The salt is used to compute short txids needed for efficient\n  * txreconciliation, as described by BIP 330.\n  */\n-extern const char* SENDTXRCNCL;\n+inline constexpr const char* SENDTXRCNCL{\"sendtxrcncl\"};\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+inline constexpr std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 255,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c7c613c414e1c1456c63f63cd90367092788f840",
      "in_reply_to_id": null,
      "user": {
        "login": "Empact",
        "id": 5470,
        "node_id": "MDQ6VXNlcjU0NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Empact",
        "html_url": "https://github.com/Empact",
        "followers_url": "https://api.github.com/users/Empact/followers",
        "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
        "organizations_url": "https://api.github.com/users/Empact/orgs",
        "repos_url": "https://api.github.com/users/Empact/repos",
        "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Empact/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As a constant rather than a variable, seems this should be `ALL_NET_MESSAGE_TYPES`. See developer-notes.md.",
      "created_at": "2024-02-27T07:07:17Z",
      "updated_at": "2024-02-27T07:07:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503734070",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503734070"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 270,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505975963",
      "pull_request_review_id": 1906289345,
      "id": 1505975963,
      "node_id": "PRRC_kwDOABII585Zw16b",
      "diff_hunk": "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "in_reply_to_id": 1491140321,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Then another:\r\n\r\n```\r\nnet.cpp:3705:31: error: no viable overloaded operator[] for type 'mapMsgTypeSize' (aka 'map<basic_string<char>, unsigned long>')\r\n 3705 |         mapRecvBytesPerMsgType[msg] = 0;\r\n      |         ~~~~~~~~~~~~~~~~~~~~~~^~~~\r\n/usr/include/c++/v1/map:1203:18: note: candidate function not viable: no known conversion from 'const value_type' (aka 'const std::string_view') to 'const key_type' (aka 'const std::string') for 1st argument\r\n 1203 |     mapped_type& operator[](const key_type& __k);\r\n      |                  ^          ~~~~~~~~~~~~~~~~~~~\r\n```\r\n\r\nIt is possible to get over that by changing `mapMsgTypeSize` and `NET_MESSAGE_TYPE_OTHER` to:\r\n```cpp\r\ninline constexpr std::string_view NET_MESSAGE_TYPE_OTHER{\"*other*\"};\r\nusing mapMsgTypeSize = std::map</* message type */ std::string_view, /* total bytes */ uint64_t>;\r\n```\r\nbut then there is another error from `rpc/net.cpp` and I think this would spill off the scope of this PR.",
      "created_at": "2024-02-28T13:36:11Z",
      "updated_at": "2024-02-28T13:36:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1505975963",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505975963"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505991495",
      "pull_request_review_id": 1906313864,
      "id": 1505991495,
      "node_id": "PRRC_kwDOABII585Zw5tH",
      "diff_hunk": "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "path": "src/test/fuzz/p2p_transport_serialization.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "in_reply_to_id": 1491140321,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You are replacing a vector of `std::string` objects with an array of raw pointers. I don't think this is a benefit, as it will lead to silently wrong code. (Recall that you forgot to call `strcmp` initially?)\r\n\r\nReviewers will have to review everything in any case. Whether the code is touched or not doesn't matter. What matters is whether the code changes behavior or not, and whether the change in behavior is intentional.\r\n\r\n\r\n\r\n",
      "created_at": "2024-02-28T13:46:53Z",
      "updated_at": "2024-02-28T13:46:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1505991495",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505991495"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506004519",
      "pull_request_review_id": 1906334884,
      "id": 1506004519,
      "node_id": "PRRC_kwDOABII585Zw84n",
      "diff_hunk": "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "in_reply_to_id": 1490651364,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In our case the variables are inside a namespace. Hinted by https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503727466 I changed the above to put `s` inside a namespace and got the same result as above. Tried gcc 12, clang 15/17/19.",
      "created_at": "2024-02-28T13:55:46Z",
      "updated_at": "2024-02-28T13:55:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506004519",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506004519"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 271,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506021433",
      "pull_request_review_id": 1906362811,
      "id": 1506021433,
      "node_id": "PRRC_kwDOABII585ZxBA5",
      "diff_hunk": "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};",
      "path": "src/protocol.h",
      "position": 14,
      "original_position": 14,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c7c613c414e1c1456c63f63cd90367092788f840",
      "in_reply_to_id": 1503727466,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> `constexpr` is implicitly `inline`\r\n\r\nNo, `static constexpr` is implicitly `inline`. And there is no `static` in our case. If I add `static`, then those would be defined in each `.cpp` file. See https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491483794. The best is to leave it `inline constexpr` (without `static`) because then they are defined just once for all `.cpp` files.",
      "created_at": "2024-02-28T14:07:24Z",
      "updated_at": "2024-02-28T14:07:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506021433",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506021433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506071982",
      "pull_request_review_id": 1906445388,
      "id": 1506071982,
      "node_id": "PRRC_kwDOABII585ZxNWu",
      "diff_hunk": "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};\n /**\n  * The verack message acknowledges a previously-received version message,\n  * informing the connecting node that it can begin to send other messages.\n  */\n-extern const char* VERACK;\n+inline constexpr const char* VERACK{\"verack\"};\n /**\n  * The addr (IP address) message relays connection information for peers on the\n  * network.\n  */\n-extern const char* ADDR;\n+inline constexpr const char* ADDR{\"addr\"};\n /**\n  * The addrv2 message relays connection information for peers on the network just\n  * like the addr message, but is extended to allow gossiping of longer node\n  * addresses (see BIP155).\n  */\n-extern const char *ADDRV2;\n+inline constexpr const char* ADDRV2{\"addrv2\"};\n /**\n  * The sendaddrv2 message signals support for receiving ADDRV2 messages (BIP155).\n  * It also implies that its sender can encode as ADDRV2 and would send ADDRV2\n  * instead of ADDR to a peer that has signaled ADDRV2 support by sending SENDADDRV2.\n  */\n-extern const char *SENDADDRV2;\n+inline constexpr const char* SENDADDRV2{\"sendaddrv2\"};\n /**\n  * The inv message (inventory message) transmits one or more inventories of\n  * objects known to the transmitting peer.\n  */\n-extern const char* INV;\n+inline constexpr const char* INV{\"inv\"};\n /**\n  * The getdata message requests one or more data objects from another node.\n  */\n-extern const char* GETDATA;\n+inline constexpr const char* GETDATA{\"getdata\"};\n /**\n  * The merkleblock message is a reply to a getdata message which requested a\n  * block using the inventory type MSG_MERKLEBLOCK.\n  * @since protocol version 70001 as described by BIP37.\n  */\n-extern const char* MERKLEBLOCK;\n+inline constexpr const char* MERKLEBLOCK{\"merkleblock\"};\n /**\n  * The getblocks message requests an inv message that provides block header\n  * hashes starting from a particular point in the block chain.\n  */\n-extern const char* GETBLOCKS;\n+inline constexpr const char* GETBLOCKS{\"getblocks\"};\n /**\n  * The getheaders message requests a headers message that provides block\n  * headers starting from a particular point in the block chain.\n  * @since protocol version 31800.\n  */\n-extern const char* GETHEADERS;\n+inline constexpr const char* GETHEADERS{\"getheaders\"};\n /**\n  * The tx message transmits a single transaction.\n  */\n-extern const char* TX;\n+inline constexpr const char* TX{\"tx\"};\n /**\n  * The headers message sends one or more block headers to a node which\n  * previously requested certain headers with a getheaders message.\n  * @since protocol version 31800.\n  */\n-extern const char* HEADERS;\n+inline constexpr const char* HEADERS{\"headers\"};\n /**\n  * The block message transmits a single serialized block.\n  */\n-extern const char* BLOCK;\n+inline constexpr const char* BLOCK{\"block\"};\n /**\n  * The getaddr message requests an addr message from the receiving node,\n  * preferably one with lots of IP addresses of other receiving nodes.\n  */\n-extern const char* GETADDR;\n+inline constexpr const char* GETADDR{\"getaddr\"};\n /**\n  * The mempool message requests the TXIDs of transactions that the receiving\n  * node has verified as valid but which have not yet appeared in a block.\n  * @since protocol version 60002 as described by BIP35.\n  *   Only available with service bit NODE_BLOOM, see also BIP111.\n  */\n-extern const char* MEMPOOL;\n+inline constexpr const char* MEMPOOL{\"mempool\"};\n /**\n  * The ping message is sent periodically to help confirm that the receiving\n  * peer is still connected.\n  */\n-extern const char* PING;\n+inline constexpr const char* PING{\"ping\"};\n /**\n  * The pong message replies to a ping message, proving to the pinging node that\n  * the ponging node is still alive.\n  * @since protocol version 60001 as described by BIP31.\n  */\n-extern const char* PONG;\n+inline constexpr const char* PONG{\"pong\"};\n /**\n  * The notfound message is a reply to a getdata message which requested an\n  * object the receiving node does not have available for relay.\n  * @since protocol version 70001.\n  */\n-extern const char* NOTFOUND;\n+inline constexpr const char* NOTFOUND{\"notfound\"};\n /**\n  * The filterload message tells the receiving peer to filter all relayed\n  * transactions and requested merkle blocks through the provided filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERLOAD;\n+inline constexpr const char* FILTERLOAD{\"filterload\"};\n /**\n  * The filteradd message tells the receiving peer to add a single element to a\n  * previously-set bloom filter, such as a new public key.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERADD;\n+inline constexpr const char* FILTERADD{\"filteradd\"};\n /**\n  * The filterclear message tells the receiving peer to remove a previously-set\n  * bloom filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERCLEAR;\n+inline constexpr const char* FILTERCLEAR{\"filterclear\"};\n /**\n  * Indicates that a node prefers to receive new block announcements via a\n  * \"headers\" message rather than an \"inv\".\n  * @since protocol version 70012 as described by BIP130.\n  */\n-extern const char* SENDHEADERS;\n+inline constexpr const char* SENDHEADERS{\"sendheaders\"};\n /**\n  * The feefilter message tells the receiving peer not to inv us any txs\n  * which do not meet the specified min fee rate.\n  * @since protocol version 70013 as described by BIP133\n  */\n-extern const char* FEEFILTER;\n+inline constexpr const char* FEEFILTER{\"feefilter\"};\n /**\n  * Contains a 1-byte bool and 8-byte LE version number.\n  * Indicates that a node is willing to provide blocks via \"cmpctblock\" messages.\n  * May indicate that a node prefers to receive new block announcements via a\n  * \"cmpctblock\" message rather than an \"inv\", depending on message contents.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* SENDCMPCT;\n+inline constexpr const char* SENDCMPCT{\"sendcmpct\"};\n /**\n  * Contains a CBlockHeaderAndShortTxIDs object - providing a header and\n  * list of \"short txids\".\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* CMPCTBLOCK;\n+inline constexpr const char* CMPCTBLOCK{\"cmpctblock\"};\n /**\n  * Contains a BlockTransactionsRequest\n  * Peer should respond with \"blocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* GETBLOCKTXN;\n+inline constexpr const char* GETBLOCKTXN{\"getblocktxn\"};\n /**\n  * Contains a BlockTransactions.\n  * Sent in response to a \"getblocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* BLOCKTXN;\n+inline constexpr const char* BLOCKTXN{\"blocktxn\"};\n /**\n  * getcfilters requests compact filters for a range of blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFILTERS;\n+inline constexpr const char* GETCFILTERS{\"getcfilters\"};\n /**\n  * cfilter is a response to a getcfilters request containing a single compact\n  * filter.\n  */\n-extern const char* CFILTER;\n+inline constexpr const char* CFILTER{\"cfilter\"};\n /**\n  * getcfheaders requests a compact filter header and the filter hashes for a\n  * range of blocks, which can then be used to reconstruct the filter headers\n  * for those blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFHEADERS;\n+inline constexpr const char* GETCFHEADERS{\"getcfheaders\"};\n /**\n  * cfheaders is a response to a getcfheaders request containing a filter header\n  * and a vector of filter hashes for each subsequent block in the requested range.\n  */\n-extern const char* CFHEADERS;\n+inline constexpr const char* CFHEADERS{\"cfheaders\"};\n /**\n  * getcfcheckpt requests evenly spaced compact filter headers, enabling\n  * parallelized download and validation of the headers between them.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFCHECKPT;\n+inline constexpr const char* GETCFCHECKPT{\"getcfcheckpt\"};\n /**\n  * cfcheckpt is a response to a getcfcheckpt request containing a vector of\n  * evenly spaced filter headers for blocks on the requested chain.\n  */\n-extern const char* CFCHECKPT;\n+inline constexpr const char* CFCHECKPT{\"cfcheckpt\"};\n /**\n  * Indicates that a node prefers to relay transactions via wtxid, rather than\n  * txid.\n  * @since protocol version 70016 as described by BIP 339.\n  */\n-extern const char* WTXIDRELAY;\n+inline constexpr const char* WTXIDRELAY{\"wtxidrelay\"};\n /**\n  * Contains a 4-byte version number and an 8-byte salt.\n  * The salt is used to compute short txids needed for efficient\n  * txreconciliation, as described by BIP 330.\n  */\n-extern const char* SENDTXRCNCL;\n+inline constexpr const char* SENDTXRCNCL{\"sendtxrcncl\"};\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+inline constexpr std::array g_all_net_message_types{",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 255,
      "commit_id": "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "original_commit_id": "c7c613c414e1c1456c63f63cd90367092788f840",
      "in_reply_to_id": 1503734070,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2024-02-28T14:38:29Z",
      "updated_at": "2024-02-28T14:38:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506071982",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506071982"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 270,
      "side": "RIGHT"
    }
  ]
}