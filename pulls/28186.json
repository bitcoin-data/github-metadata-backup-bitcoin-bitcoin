{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186",
    "id": 1455168620,
    "node_id": "PR_kwDOABII585WvBxs",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28186",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28186.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28186.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
    "number": 28186,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "kernel: Prune leveldb headers",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Leveldb headers are currently included in the `dbwrapper.h` file and thus available to many of Bitcoin Core's source files. However, leveldb-specific functionality should be abstracted by the `dbwrapper` and does not need to be available to the rest of the code. Having leveldb included in a widely-used header such as `dbwrapper.h` bloats the entire project's header tree.\r\n\r\nThe `dbwrapper` is a key component of the libbitcoinkernel library. Future users of this library would not want to contend with  having the leveldb headers exposed and potentially polluting their project's namespace.\r\n\r\nFor these reasons, the leveldb headers are removed from the `dbwrapper` by moving leveldb-specific code to the implementation file and creating a [pimpl](https://en.cppreference.com/w/cpp/language/pimpl) where leveldb member variables are indispensable. As a final step, the leveldb include flags are removed from the `BITCOIN_INCLUDES` and moved to places where the dbwrapper is compiled.\r\n\r\n---\r\n\r\nThis pull request is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587), and more specifically its stage 1 step 3 \"Decouple most non-consensus headers from libbitcoinkernel\".",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2023-07-30T15:10:03Z",
    "updated_at": "2024-08-06T13:03:27Z",
    "closed_at": "2023-08-07T20:31:57Z",
    "mergeable_state": "unknown",
    "merged_at": "2023-08-07T20:31:57Z",
    "merge_commit_sha": "b565485c24c0feacae559a7f6f7b83d7516ca58d",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "TheCharlatan:cleaveLeveldbHeaders",
      "ref": "cleaveLeveldbHeaders",
      "sha": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 242051,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-08-06T11:07:13Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2024-07-31T20:06:24Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "be443328037162f265cc85d05b1a7665b5f104d2",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35959,
        "stargazers_count": 77750,
        "watchers_count": 77750,
        "size": 265081,
        "default_branch": "master",
        "open_issues_count": 666,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-08-06T13:43:08Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-08-06T13:55:36Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 254,
    "deletions": 159,
    "changed_files": 15,
    "commits": 16,
    "review_comments": 38,
    "comments": 15
  },
  "events": [
    {
      "event": "commented",
      "id": 1657197143,
      "node_id": "IC_kwDOABII585ixtJX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657197143",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-30T15:10:05Z",
      "updated_at": "2023-08-07T15:24:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1667875787), [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1565583066) |\n| Concept ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657264383), [dergoegge](https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657827011) |\n| Stale ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1557474340) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/149](https://github.com/bitcoin-core/gui/pull/149) (Intro: Have user choose assumevalid by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657197143",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "labeled",
      "id": 9956926837,
      "node_id": "LE_lADOABII585s9JcVzwAAAAJReqV1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9956926837",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-30T15:10:07Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "commented",
      "id": 1657264383,
      "node_id": "IC_kwDOABII585ix9j_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657264383",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-30T20:52:38Z",
      "updated_at": "2023-07-30T20:52:38Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657264383",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "commented",
      "id": 1657827011,
      "node_id": "IC_kwDOABII585i0G7D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657827011",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-31T07:33:42Z",
      "updated_at": "2023-07-31T07:33:42Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657827011",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "commented",
      "id": 1657883999,
      "node_id": "IC_kwDOABII585i0U1f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657883999",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-31T08:11:46Z",
      "updated_at": "2023-07-31T08:11:46Z",
      "author_association": "MEMBER",
      "body": "> The dbwrapper is a key component of the libbitcoinkernel library. Future users of this library would not want to contend with having the leveldb headers exposed and potentially polluting their project's namespace.\r\n\r\nNot sure about the motivation. I don't think any user should include the dbwrapper either? No user should be directly writing or reading from the db. The only reason why they'd have to include the header is to get access to `DBOptions`, which would alternatively and trivially be achieved by moving `DBOptions` into a separate header, no?\r\n\r\nAnd if you are worried about the `txdb.h` include, maybe do a pimpl there? IIRC https://github.com/bitcoin/bitcoin/pull/22242 did that, or something like that.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657883999",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "commented",
      "id": 1657995803,
      "node_id": "IC_kwDOABII585i0wIb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657995803",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-31T09:23:26Z",
      "updated_at": "2023-07-31T09:23:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657883999\r\n\r\n>  I don't think any user should include the dbwrapper either? No user should be directly writing or reading from the db. \r\n\r\nIt's hard to speculate on how this will be used in the future. Something calling the db directly for e.g. data science use cases would not be unheard of.\r\n\r\n> And if you are worried about the txdb.h include, maybe do a pimpl there? IIRC https://github.com/bitcoin/bitcoin/pull/22242 did that, or something like that.\r\n\r\nI am also thinking about the `base.h` include. Though not in the kernel, it pollutes a very significant portion of source files. Implementing a pimpl in `base.h` could work, but I don't think that would really be preferable to this PR here. Getting rid of a big, unused besides a single source file include with a bunch of mostly move-only changes seems like a win to me. If this is not sufficient motivation for you though, I'd be happy to work with a reopened #22242, and separate PR for splitting the `DBOptions` and `DBParams`.\r\n\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1657995803",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "commented",
      "id": 1659784274,
      "node_id": "IC_kwDOABII585i7kxS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1659784274",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T08:07:25Z",
      "updated_at": "2023-08-01T08:07:25Z",
      "author_association": "MEMBER",
      "body": "Thanks, makes sense. I initially wondered about the 15 commits and +100 LOC, but having more commits for this template-heavy code makes it easier to review, and I found a way to reduce the number of LOC. Just a style nit though, feel free to ignore.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1659784274",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "reviewed",
      "id": 1556273554,
      "node_id": "PRR_kwDOABII585cwtmS",
      "url": null,
      "actor": null,
      "commit_id": "0280dc44d227ae34e8fcbb708833bfe9d66c7b5f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "review ACK 0280dc44d227ae34e8fcbb708833bfe9d66c7b5f ðŸ”¨\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK 0280dc44d227ae34e8fcbb708833bfe9d66c7b5f ðŸ”¨\r\nEwQOJEQzugff502JSeduHe1I8VbH7Du0bAvETIvbAxyKfRuGdPQJ9HgpXRv4wHXJz97qTnvIhTIdbkKbnucEAg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1556273554",
      "submitted_at": "2023-08-01T08:07:41Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "reviewed",
      "id": 1556486530,
      "node_id": "PRR_kwDOABII585cxhmC",
      "url": null,
      "actor": null,
      "commit_id": "0280dc44d227ae34e8fcbb708833bfe9d66c7b5f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 0280dc44d227ae34e8fcbb708833bfe9d66c7b5f modulo 6005165242cf090589934133f01f9dbd496612f1.\r\n\r\nI also checked that all the intermediate commits compile and pass the tests (on Ubuntu 23.04).\r\n\r\nI'm not familiar with the LevelBD code, but the refactor makes sense to me.\r\n\r\nI'll look at 6005165242cf090589934133f01f9dbd496612f1 later since it might get simplified based on @MarcoFalke's suggestion.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1556486530",
      "submitted_at": "2023-08-01T09:57:21Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "commented",
      "id": 1660036495,
      "node_id": "IC_kwDOABII585i8iWP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660036495",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T10:31:51Z",
      "updated_at": "2023-08-01T10:31:51Z",
      "author_association": "MEMBER",
      "body": "> I'd be happy to work with a reopened #22242\r\n\r\nI guess that pull is mostly orthogonal (shouldn't (silently) conflict with this one). Rebased and reopened in https://github.com/bitcoin/bitcoin/pull/28195",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1660036495",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9978320093,
      "node_id": "HRFPE_lADOABII585s9JcVzwAAAAJSwRTd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978320093",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:40:16Z"
    },
    {
      "event": "commented",
      "id": 1660581208,
      "node_id": "IC_kwDOABII585i-nVY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660581208",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:41:09Z",
      "updated_at": "2023-08-01T15:41:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the reviews @Sjors and @MarcoFalke,\r\n\r\nUpdated 0280dc44d227ae34e8fcbb708833bfe9d66c7b5f -> e8a3a0a0d761c8544e20ffc3ee3d4c1029c44518 ([cleaveLeveldbHeaders_0](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_0) -> [cleaveLeveldbHeaders_1](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_1),  [compare](https://github.com/TheCharlatan/bitcoin/compare/cleaveLeveldbHeaders_0..cleaveLeveldbHeaders_1))\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280179325), added namespace close comment.\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280188384), returned comment to its proper place.\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280201239), applied `clang-format-diff` suggestion.\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280202266), call constructor with curly braces.\r\n* Addressed @Sjors's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280311080), dropped `p` in pimpl naming for both instances.\r\n* Addressed @Sjors's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280383910), re-added comment for handle error function.\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280255522), added `DBContext()` helper function. Also polished up the initialization of `m_db_context`.\r\n* Applied @MarcoFalke's [patch](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280242366), removed the reader class and replaced it with some simple lambdas.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1660581208",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "mentioned",
      "id": 9978329219,
      "node_id": "MEE_lADOABII585s9JcVzwAAAAJSwTiD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978329219",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:41:10Z"
    },
    {
      "event": "subscribed",
      "id": 9978329235,
      "node_id": "SE_lADOABII585s9JcVzwAAAAJSwTiT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978329235",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:41:10Z"
    },
    {
      "event": "mentioned",
      "id": 9978329262,
      "node_id": "MEE_lADOABII585s9JcVzwAAAAJSwTiu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978329262",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:41:10Z"
    },
    {
      "event": "subscribed",
      "id": 9978329273,
      "node_id": "SE_lADOABII585s9JcVzwAAAAJSwTi5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978329273",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:41:10Z"
    },
    {
      "event": "commented",
      "id": 1660604025,
      "node_id": "IC_kwDOABII585i-s55",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660604025",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:52:09Z",
      "updated_at": "2023-08-01T15:52:09Z",
      "author_association": "MEMBER",
      "body": "re-ACK e8a3a0a0d761c8544e20ffc3ee3d4c1029c44518  ðŸ—ž\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK e8a3a0a0d761c8544e20ffc3ee3d4c1029c44518  ðŸ—ž\r\nH6bBOIgZy20U7oO/DsSwT8YNb6GfT92ONblBYOrZTkfGEfWVP/VaQ7KBD5xXg9+vmO9WNcCQBEkDecHYcykwDg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1660604025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "review_requested",
      "id": 9978448906,
      "node_id": "RRE_lADOABII585s9JcVzwAAAAJSwwwK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978448906",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:52:13Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1557474340,
      "node_id": "PRR_kwDOABII585c1Swk",
      "url": null,
      "actor": null,
      "commit_id": "e8a3a0a0d761c8544e20ffc3ee3d4c1029c44518",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK e8a3a0a0d761c8544e20ffc3ee3d4c1029c44518",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1557474340",
      "submitted_at": "2023-08-01T17:15:05Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "reviewed",
      "id": 1556786030,
      "node_id": "PRR_kwDOABII585cyqtu",
      "url": null,
      "actor": null,
      "commit_id": "e8a3a0a0d761c8544e20ffc3ee3d4c1029c44518",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, did a first run-through of the code but will dig into it deeper.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1556786030",
      "submitted_at": "2023-08-01T17:28:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFmYzUzNGRmOWFkYmY1NTk5YjI4NmI1ZGMzNTMxYTRiOWFjMmQwNTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/afc534df9adbf5599b286b5dc3531a4b9ac2d056",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/afc534df9adbf5599b286b5dc3531a4b9ac2d056",
      "tree": {
        "sha": "6a4c255643b3dfe01d641dc2a7776564b84af531",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6a4c255643b3dfe01d641dc2a7776564b84af531"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6a4c255643b3dfe01d641dc2a7776564b84af531\nparent 42a9110899a9020417f0397456168aea6ac6ade9\nauthor TheCharlatan <seb.kung@gmail.com> 1689275865 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1690920855 +0200\n\nrefactor: Wrap DestroyDB in dbwrapper helper\n\nWrap leveldb::DestroyDB in a helper function without exposing\nleveldb-specifics.\n\nAlso, add missing optional include.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTJZ5kACgkQm3m0VpHb\nQXNP+A/8D4BKdahyMgW+m6qrAtkC+ThVjyKY9Y2g8oSq5c+gIIT6+gsARI6wjTmf\ngeY83EX4b7+VxYcPgT/fbQPAox5hFWR4h8zyO4vKAKVyDTkr7iIg5BHV9Qlwgo1J\n84hPH7iWF5OMhYNs5hfMgLj0RJDhkVEbZv2Da/+hs5kZY9lplv9GScS7X/owNUkj\ncPk40OgHe7kAwgD6E2T81+0A7devgtHy17GsAnmRFov/UVaiK2denjclLTy9C1n1\nldt6fNVCE6W5TwdUDxCnArBLXcsG7gDbxUPFFqw86ZmbqNBazw/u922xq+6CnHb/\n8WalS6BpwzLdP0HPbqC8T8cOpVOyXZo+qTrtwubsURDG/FHHdrcX3fmi/i6CHYVM\nzS1OydfefY1CAmRPX8vbdxkfBNFqT9998UyIfDdQyD03a6dS0CVH5i/jrkPzjbtI\nnWE23BdQVor/IYqGh8Px70xO9cHhzO3T2KcCbn+Rw3+ijVZdgwa7nTZJDtlRWaTD\nM8UqMLbU0r5B3sTKPSAWh14n7sx8PFInLbebIWEt+K5Q4GK3sAKKIBbokLBPam2u\nKCDeiHvWlmA4TmJSRIcSxG+r+pBFg2jaDbZouQq9SX3DHyYP0JlqEQcpMApiAXGB\n2+HsupWgJj8CTmz4oAeDbItwuqP7sOEyWdpUJrp5F1E76Qd9Ahs=\n=M70T\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42a9110899a9020417f0397456168aea6ac6ade9",
          "sha": "42a9110899a9020417f0397456168aea6ac6ade9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/42a9110899a9020417f0397456168aea6ac6ade9"
        }
      ],
      "message": "refactor: Wrap DestroyDB in dbwrapper helper\n\nWrap leveldb::DestroyDB in a helper function without exposing\nleveldb-specifics.\n\nAlso, add missing optional include.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-01T20:14:15Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-13T19:17:45Z"
      },
      "sha": "afc534df9adbf5599b286b5dc3531a4b9ac2d056"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9981291908,
      "node_id": "HRFPE_lADOABII585s9JcVzwAAAAJS7m2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9981291908",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T21:23:45Z"
    },
    {
      "event": "commented",
      "id": 1661120330,
      "node_id": "IC_kwDOABII585jAq9K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1661120330",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T21:24:00Z",
      "updated_at": "2023-08-01T21:24:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the review @stickies-v,\r\n\r\nUpdated e8a3a0a0d761c8544e20ffc3ee3d4c1029c44518 -> 8c4481ed3713931247e4cedcb5733d3598050eb7 ([cleaveLeveldbHeaders_1](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_1) -> [cleaveLeveldbHeaders_2](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_2),  [compare](https://github.com/TheCharlatan/bitcoin/compare/cleaveLeveldbHeaders_1..cleaveLeveldbHeaders_2))\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280498519), added `const` qualifier in DestroyDB's `path_str` arg.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280862595), and [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280943436), added `const` qualifiers to the `DataStream` arguments where applicable.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1661120330",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "mentioned",
      "id": 9981293889,
      "node_id": "MEE_lADOABII585s9JcVzwAAAAJS7nVB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9981293889",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T21:24:00Z"
    },
    {
      "event": "subscribed",
      "id": 9981293901,
      "node_id": "SE_lADOABII585s9JcVzwAAAAJS7nVN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9981293901",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T21:24:00Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9998768133,
      "node_id": "HRFPE_lADOABII585s9JcVzwAAAAJT-RgF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9998768133",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T12:58:59Z"
    },
    {
      "event": "commented",
      "id": 1663941035,
      "node_id": "IC_kwDOABII585jLbmr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1663941035",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T12:59:05Z",
      "updated_at": "2023-08-03T13:07:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the re-review @MarcoFalke,\r\n\r\nUpdated 8c4481ed3713931247e4cedcb5733d3598050eb7 -> f26396732b940095380d76ed77685e0fb11294b8 ([cleaveLeveldbHeaders_2](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_2) -> [cleaveLeveldbHeaders_3](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_3),  [compare](https://github.com/TheCharlatan/bitcoin/compare/cleaveLeveldbHeaders_2..cleaveLeveldbHeaders_3))\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1281421788), moved `CharCast` to implementation file\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1281421341), using `Span` now instead of `DataStream` types for passing immutable raw bytes.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1663941035",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "mentioned",
      "id": 9998769323,
      "node_id": "MEE_lADOABII585s9JcVzwAAAAJT-Ryr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9998769323",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T12:59:05Z"
    },
    {
      "event": "subscribed",
      "id": 9998769333,
      "node_id": "SE_lADOABII585s9JcVzwAAAAJT-Ry1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9998769333",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T12:59:05Z"
    },
    {
      "event": "reviewed",
      "id": 1561130522,
      "node_id": "PRR_kwDOABII585dDPYa",
      "url": null,
      "actor": null,
      "commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1561130522",
      "submitted_at": "2023-08-03T13:40:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "labeled",
      "id": 9999676556,
      "node_id": "LE_lADOABII585s9JcVzwAAAAJUBvSM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9999676556",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T14:20:13Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9999930818,
      "node_id": "HRFPE_lADOABII585s9JcVzwAAAAJUCtXC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9999930818",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T14:42:12Z"
    },
    {
      "event": "commented",
      "id": 1664121698,
      "node_id": "IC_kwDOABII585jMHti",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1664121698",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T14:42:37Z",
      "updated_at": "2023-08-03T14:42:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated f26396732b940095380d76ed77685e0fb11294b8 -> 3fb2dac2ce78092c1006ee082c536bea1b69a152 ([cleaveLeveldbHeaders_3](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_3) -> [cleaveLeveldbHeaders_4](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_4),  [compare](https://github.com/TheCharlatan/bitcoin/compare/cleaveLeveldbHeaders_3..cleaveLeveldbHeaders_4))\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283223804), changed `const Span<const std::byte>&` to `Span<const std::byte>`.\r\n* Split out renaming of some of the key variables into a separate commit at the end.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1664121698",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "mentioned",
      "id": 9999935348,
      "node_id": "MEE_lADOABII585s9JcVzwAAAAJUCud0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9999935348",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T14:42:37Z"
    },
    {
      "event": "subscribed",
      "id": 9999935369,
      "node_id": "SE_lADOABII585s9JcVzwAAAAJUCueJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9999935369",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T14:42:37Z"
    },
    {
      "event": "reviewed",
      "id": 1560934462,
      "node_id": "PRR_kwDOABII585dCfg-",
      "url": null,
      "actor": null,
      "commit_id": "3fb2dac2ce78092c1006ee082c536bea1b69a152",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "light crACK 3fb2dac2ce78092c1006ee082c536bea1b69a152",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1560934462",
      "submitted_at": "2023-08-03T14:48:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "review_requested",
      "id": 10000002304,
      "node_id": "RRE_lADOABII585s9JcVzwAAAAJUC-0A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10000002304",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T14:48:38Z",
      "requested_reviewer": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 10000002324,
      "node_id": "RRE_lADOABII585s9JcVzwAAAAJUC-0U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10000002324",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T14:48:38Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "unlabeled",
      "id": 10001060493,
      "node_id": "UNLE_lADOABII585s9JcVzwAAAAJUHBKN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10001060493",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T16:34:05Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1562868143,
      "node_id": "PRR_kwDOABII585dJ3mv",
      "url": null,
      "actor": null,
      "commit_id": "3fb2dac2ce78092c1006ee082c536bea1b69a152",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 3fb2dac2ce78092c1006ee082c536bea1b69a152\r\n\r\nI would however strongly prefer to [simplify the lambda logic](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283260447), and probably [this duplication should also be removed](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283281451).",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1562868143",
      "submitted_at": "2023-08-04T13:54:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUzMmVlODEyYTQ5OWUxM2IxMjNhZjZiODQxNWQ4ZGUxZjM4MDRmMGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/532ee812a499e13b123af6b8415d8de1f3804f0f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/532ee812a499e13b123af6b8415d8de1f3804f0f",
      "tree": {
        "sha": "8351be5d8fd3553aa510c87199c19a28d53c6954",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8351be5d8fd3553aa510c87199c19a28d53c6954"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8351be5d8fd3553aa510c87199c19a28d53c6954\nparent afc534df9adbf5599b286b5dc3531a4b9ac2d056\nauthor TheCharlatan <seb.kung@gmail.com> 1689277126 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224067 +0200\n\nrefactor: Split dbwrapper CDBBatch::Write implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOCAQACgkQm3m0VpHb\nQXPDMxAAqXW5qH3Lxx5zXNHJOhiZDHPxm8eiVnb93YRfG9FYDZpwczRRfVK1NwJ1\ndYPuS+4OmgMIAp6sDdGBqNBy88Z++UiaJzK9JfqWLbMbXruKU2iP0sfp5WdyS/yA\nYckVx44ZX9F6lE4LPJRBDNQ5H6GYYFjz/TATaCSUt90Rs6NWmevO1QGB9eWUX6sW\nKBcvINHA7phnkmAgxlVy65cLcUi3ZjG2zufhhy5oVocnd8cp4KwavVh8hAyMZS2J\nY/TRJOKKfFchaqktQKUcSN8BI0pxumrhHo8z1zfkkSrPIoE5eKFNIyyXWWwaGbzp\n14yTpboet1I8SroQdOTzoq+WI1wTxFHUHYLuBjOfsZdQL3tpWJLiA+h0P84VMOlZ\ni2DGjWOk3BmPRqyKDLLujK0pejbakS6NDuuQ9Zvr9Q090QVVV+BWth+RrapjD/sU\n4a+apxYUbDBFycMuQwWbkj1BtjQNwbynR4kRrUbCh8y1cJZGclS0Cgir3P3KpSfu\nxPv7vT3YyL9pT5I7lddE3livviu3INpVmb93HGW8avCHLVlMqRNskZkM7sF9AUZb\n80Z7O6aR34yGlogTTWZB1gDDTF5BmdYrTF+9HnXYZDT2aeyZRDA5TjBTyEnxDyZX\nqK72F/Ef72G/zTwICS/Bbke6nQUldEunS1BOO/0PzpGbcrfFDQA=\n=Vg49\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/afc534df9adbf5599b286b5dc3531a4b9ac2d056",
          "sha": "afc534df9adbf5599b286b5dc3531a4b9ac2d056",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/afc534df9adbf5599b286b5dc3531a4b9ac2d056"
        }
      ],
      "message": "refactor: Split dbwrapper CDBBatch::Write implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:27:47Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-13T19:38:46Z"
      },
      "sha": "532ee812a499e13b123af6b8415d8de1f3804f0f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI5ODcwYzkyMGRjNDc1ZWM3NTllYWY3MzM5ZWE0MmFlY2JhOTIxMzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9870c920dc475ec759eaf7339ea42aecba92138",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b9870c920dc475ec759eaf7339ea42aecba92138",
      "tree": {
        "sha": "764decc38fda125d083a3787311a877def5faf82",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/764decc38fda125d083a3787311a877def5faf82"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 764decc38fda125d083a3787311a877def5faf82\nparent 532ee812a499e13b123af6b8415d8de1f3804f0f\nauthor TheCharlatan <seb.kung@gmail.com> 1689277585 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224073 +0200\n\nrefactor: Split dbwrapper CDBatch::Erase implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOCAkACgkQm3m0VpHb\nQXMKnQ/+O36JdQnu0G/w0mzqZUqT/iJNrVI/WXRPwF8seojx2XFBHoon4ss6GF4F\nwr17TZddZALUfQCttXHfgcIJIwkVtduYOrpTLZTqcH6Q00ZAk1rOjykIgfewpWtu\nwvb7HwJvZvarxiFy/fvwx8pDEvyuloExmClpet3RkIHJW/ghXDpIiTwcIlPvPiBF\nJdHWvModIrRpScoFf0bWa4xQXz+kaRia2+YIik5hvpY2rZXIHDEcfHRXqSwx5tGK\nBTYfe/YlBot8m7jEI+niqupHg9K97tatERPVoIkiWc1APwdrj9fiShXGU+75E5z6\nG5QfTgRPUCCsPZFqVamKjm7XPGD/V/16O7VE1S3PKjd1IVE8RNcc4zn0jdQKg6cz\nrjAQEm2VYPEgtIiCGJ1BG2wFJ1Lx495d1F0R10it6O8WuzpWhD+nrOj56+APo1VF\nQ2ip9Jd2jKEdrAnfYCSW8ZcwuHVm2gg4G92RiMoAqKU9wl/ThyO11FO+6j21hSLH\nO0U0l/lyFtX4p6zBbAY5mlq0NVTmL7HiijvZB7e3tPdKoToYTbskXb/Ufo1lCbnJ\n3RAJvVw6VNpSM7Lfl9LFobzOkENefFWNFNz6NRzVOtup7IrcQGX3K8xjOMsmCwqw\nGgdFntzU9NduaYHFANJVo1VWUrcnNmYW9scLjiPMFO91AC0jHw8=\n=ADId\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/532ee812a499e13b123af6b8415d8de1f3804f0f",
          "sha": "532ee812a499e13b123af6b8415d8de1f3804f0f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/532ee812a499e13b123af6b8415d8de1f3804f0f"
        }
      ],
      "message": "refactor: Split dbwrapper CDBatch::Erase implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:27:53Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-13T19:46:25Z"
      },
      "sha": "b9870c920dc475ec759eaf7339ea42aecba92138"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVhODEzNWRlN2U2MTcyNTljZGEzZmM3YjFjOGU3NTY5ZDQ1NGZkNTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ea8135de7e617259cda3fc7b1c8e7569d454fd57",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ea8135de7e617259cda3fc7b1c8e7569d454fd57",
      "tree": {
        "sha": "80977fb61e0af7bc58b23b2c4298507bdbcb2b89",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/80977fb61e0af7bc58b23b2c4298507bdbcb2b89"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 80977fb61e0af7bc58b23b2c4298507bdbcb2b89\nparent b9870c920dc475ec759eaf7339ea42aecba92138\nauthor TheCharlatan <seb.kung@gmail.com> 1689278107 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224958 +0200\n\nrefactor: Pimpl leveldb::batch for CDBBatch\n\nHide the leveldb::WriteBatch member variable with a pimpl in order not\nto expose it directly in the header.\n\nAlso move CDBBatch::Clear to the dbwrapper implementation to use the new\nimpl_batch.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC38ACgkQm3m0VpHb\nQXMSBw/+JevKRsDxTkD+baGnmAZtVAGChP9VLyOuAKJGfRcPTxmWKJaMVsDFkOs+\nOSxrMVJ2r4dexPpPM577B15d2DmrLTRkO6mp0mWZps7I+H4h812xseGtQOOopPZ6\ndiuvQk08VCpdDskg/M3jPrFvwlcC3UdYNOKeXS5JLfjtW+S3c+sZ/rCMDGFnzXHX\nTJYhW7cPBm+cd2HP+blH2nzjozlv8alttTUdJmSmTZHCuds7zR/DykOiT9Y4I898\nkXwBdjS9gmNe2WM4+xjbxZ+DXlcGCtmJIRNTqRPRrDiu/5U6JJXy9bkO4LagUzlC\n1Pavwa5tXSTIYDzjEsZCXtgQz7ZRAYOYUwujQSgMjXwXynMwOzJrmqchrN+Dne/p\nh+sPqrP4plgv3A4SvB2pZGsbdsuHmxwVIDu1ZA1yLgMYAFL7/ARf3PSv0GmBp40I\nLLYh1dgebhXn9IuWGkn8otmae3Fy021IJm1VClpCmZrycXoCiClHpn8j9xCocvNE\nUxM5qZhjzshWJWH8AXlAVdyXa6vCoQiYTAjQUHDhKp7PKlvDR0MaQodOZlLOHnHt\n8QLb9AQbrzEdJlT0IoDi8CcSkMy9a1A9x0cBI5sks60tfKaTdWCjP287YNhIp2Qh\nnj7vwZvWCbXCA9ZTCxks0/pM7eiVSSOTc4qQ4TzK422x20oEuYI=\n=9271\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9870c920dc475ec759eaf7339ea42aecba92138",
          "sha": "b9870c920dc475ec759eaf7339ea42aecba92138",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b9870c920dc475ec759eaf7339ea42aecba92138"
        }
      ],
      "message": "refactor: Pimpl leveldb::batch for CDBBatch\n\nHide the leveldb::WriteBatch member variable with a pimpl in order not\nto expose it directly in the header.\n\nAlso move CDBBatch::Clear to the dbwrapper implementation to use the new\nimpl_batch.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:38Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-13T19:55:07Z"
      },
      "sha": "ea8135de7e617259cda3fc7b1c8e7569d454fd57"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ3NDM3OTA4Y2RmMjQyNjI2MjYzYmE5ZDU1NDFhZGRjZGRhZGM1OTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d7437908cdf242626263ba9d5541addcddadc594",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d7437908cdf242626263ba9d5541addcddadc594",
      "tree": {
        "sha": "d3b8b3d6cfd3f1b195e26043b7c1f0777ae12a48",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d3b8b3d6cfd3f1b195e26043b7c1f0777ae12a48"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d3b8b3d6cfd3f1b195e26043b7c1f0777ae12a48\nparent ea8135de7e617259cda3fc7b1c8e7569d454fd57\nauthor TheCharlatan <seb.kung@gmail.com> 1690577630 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224965 +0200\n\nrefactor: Split dbwrapper CDBIterator::Seek implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC4UACgkQm3m0VpHb\nQXM3Zg/+I1CUdUP+9+uQliFj/V3ll/JNIeCNjjQHHrNXOLzqEZONbKE0zboPxz7m\nsVridL51cDjN1iprDI7dS/v8hgoofo4RW4Xmva78PC0WVyjfJgsIzRDI/3gtGbd+\n0l7/lsV+TjEvqJa9W8PgbYTVwoQY3gYyouIk4QrNkaa050W4D4Szb5mxoxD88APQ\n6qzY5FSTsuxQbX5gqcTBFJUz+P1Mr7PxjRp6IVmJT2/BC1Q4ZonK29fimuruz6qt\nXRvvl2OpAwko/5njFf7L3+9xv+K7JkfPaGU/3rxsyuo6wJ2EpU/bcjtt3IDMPHM0\nm702bqjCqSEgiItSkfYPtnpqXfb7kjngFZ+xVkqaAZ8qKw2CcKP6Ftx7X6iNExkq\nIlHqEGCcarMgdzVtz19LS6mMJgGGoAsHVo2qMBfsWlZ0czNz8r73NYAdlXnbDqAR\niF1XzpZdW6xDFe+amOdubArtcXqbPzfTjEZ5IUeR5L0AF/5attLpvqWFnn3WM89n\n1mGarfqyUG9nFWtUQ1M7V1fR2S7YasFQ9rx5rwdMHLrUE87iNkvTLuszian1w6mA\nknImulvY3JK79NzczzW0vVsT7IkCG+/YZX2sTAgYY4evZ9ro/Er1G63VICbw7cvD\nkcSnTBOiBzXzNyzrNwNlbLSt/i9ZK4Wdj0xILxrmauqrp2FZgTA=\n=VAL9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ea8135de7e617259cda3fc7b1c8e7569d454fd57",
          "sha": "ea8135de7e617259cda3fc7b1c8e7569d454fd57",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ea8135de7e617259cda3fc7b1c8e7569d454fd57"
        }
      ],
      "message": "refactor: Split dbwrapper CDBIterator::Seek implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:45Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-28T20:53:50Z"
      },
      "sha": "d7437908cdf242626263ba9d5541addcddadc594"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI3YTFhYjVjYjRlNjAyMzBmNjJjOTRlZmIzYTEwZDA3YzlhZjQ4ODM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b7a1ab5cb4e60230f62c94efb3a10d07c9af4883",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b7a1ab5cb4e60230f62c94efb3a10d07c9af4883",
      "tree": {
        "sha": "41dfc81d8240e4ad46d43280d381bf9e96abf515",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/41dfc81d8240e4ad46d43280d381bf9e96abf515"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 41dfc81d8240e4ad46d43280d381bf9e96abf515\nparent d7437908cdf242626263ba9d5541addcddadc594\nauthor TheCharlatan <seb.kung@gmail.com> 1689326486 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224968 +0200\n\nrefactor: Split dbwrapper CDBIterator::GetKey implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC4gACgkQm3m0VpHb\nQXMMww/5AW+QOdH0QxbTpL20Yg5q9SPMDdHCE4Jc5QTvzz0ogHC4U7ykmLdu9m5a\nfhrPNcEt5Tf5EE7bFeU/Xh/hHY5iXTFLwnJeSZVmArB5GtlEY8lt9gp8Kr5SAVRt\nrnJufUUkk6LFsfK/Falc34NZNX3Tfk/eo5OBQXwG9b88WUt96Cd3WNhDJDzVCOSP\ne4WFQET6krgDkGeOPkK6u+2HmwfYcF/Gx9PghTjpp0Gjo8ljIk6WT85utSxnCNn0\nmC+TiJt0GB+xWdvIirAGlZcp3Wgi2ScG4jPrfZeTg39WJWn3KDHbaH/45kRvKk1M\nz1aKfdOWt0U9B8lTf8pjUgg9QUKYVsMK+bKf0BoiA6wtyGDswan/rILE7rnlPlsD\n5FqCh7pGWIRVIb1+4m+UgpAWH8iBYnauxJSdLRwGcCostCLIDrjSwDP6+izyCCM8\nO66J3a+Z8uLJiffjY7wg9qgFI3tJuk1f/BAi++UxSTqKbKDedB2MDWJPO61NfSBv\nJXyMbGjnrSxHayZS4f75QBkmGfX3BnQ5aGBo428a2VYtqjbg8L/86niPSfUqHmXO\niji8KhEvJKlVaIHRWoBOqzTu5t4vOesU7nz8hsl02XONVpu826ZKh8gBcnbbf1kO\nRTktF+/e/NtbM+XROIyKoH8SqNefgz+/sM/MUOIWJCoLr+GTuuA=\n=gso6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d7437908cdf242626263ba9d5541addcddadc594",
          "sha": "d7437908cdf242626263ba9d5541addcddadc594",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d7437908cdf242626263ba9d5541addcddadc594"
        }
      ],
      "message": "refactor: Split dbwrapper CDBIterator::GetKey implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:48Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-14T09:21:26Z"
      },
      "sha": "b7a1ab5cb4e60230f62c94efb3a10d07c9af4883"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVmOTQxZmYxMjgxZTc2MzA4YzNlNzQ2ZTU5MjM3NWJlYzAyM2U5ZTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef941ff1281e76308c3e746e592375bec023e9e4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ef941ff1281e76308c3e746e592375bec023e9e4",
      "tree": {
        "sha": "c47d288c3c2aa819139af440f21d7cc374804fee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c47d288c3c2aa819139af440f21d7cc374804fee"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c47d288c3c2aa819139af440f21d7cc374804fee\nparent b7a1ab5cb4e60230f62c94efb3a10d07c9af4883\nauthor TheCharlatan <seb.kung@gmail.com> 1689327052 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224971 +0200\n\nrefactor: Split dbwrapper CDBIterator::GetValue implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC4sACgkQm3m0VpHb\nQXNqbg//feWrwc+0g0SwRA1eX3rJR1lKZk4FKWMbJm9mfgqhPyj+3xgjbhLxhe3K\n9oX3FU11OpVQm7WLd1LvSRsE74wVE+AznP5Z6fQ/rD63zM8+U8Cc4du6HVB+ns8T\nMUc+hhwSZziSg6TC1vkCwWjWoChBL4c54r8hjrAm8CAk4anMTl47nfujvfp4335Z\nblNpWk+7OG9ru8DfvsnFaAfLrNUuTY3WTLol9+7ISk60ODNtsQdxSrvFRUtNkBpF\nunjz8RDUFMjyfg7LpZLthETnXZQCUcdGF0ZPfhlVnP90C5vMkTXYV2v3mK8glzxM\nxTvE1vAuSoqlF0DeWjyx97OXCGAFDnRnG+idxNG+eRDzXbB+LN23xMQzcaFXxseS\nvD7R57b/ekO88/3uo2jq+M6PwDhHwVu9iD3RhmZX1IoALNspac0N+HQo6b51ECr3\nqlTobiDO/5GSJGaDSMtzHpYhTWwVQugKPHF0NThjpNbSbrl4nuIRSJEXjnU2pH2y\n5X+hR1d9utETDUF5ngDS7sKqXlXF4enm1aFytv3Km20rhxiyo2Q9b05VYbQK1zX1\nywRMNWSbkjsqSIn1hXPX1JwtdPtJN1TqGWXlOVy2cwlr5N0ekBIaT1xkD0w5eouH\neFFVkpVR+85CerP+/eQQpqCoI168RipMEZfTkW3I5To1qmPqe0k=\n=0FpS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b7a1ab5cb4e60230f62c94efb3a10d07c9af4883",
          "sha": "b7a1ab5cb4e60230f62c94efb3a10d07c9af4883",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b7a1ab5cb4e60230f62c94efb3a10d07c9af4883"
        }
      ],
      "message": "refactor: Split dbwrapper CDBIterator::GetValue implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:51Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-14T09:30:52Z"
      },
      "sha": "ef941ff1281e76308c3e746e592375bec023e9e4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU0YWYyNDA4ZjJhYzU5Nzg4NTY3YjZmYzhjYjNhNjhmYzQzZGE5ZmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e4af2408f2ac59788567b6fc8cb3a68fc43da9fe",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e4af2408f2ac59788567b6fc8cb3a68fc43da9fe",
      "tree": {
        "sha": "cde480915e567295a700b55c191febc7ea4bdc42",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cde480915e567295a700b55c191febc7ea4bdc42"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cde480915e567295a700b55c191febc7ea4bdc42\nparent ef941ff1281e76308c3e746e592375bec023e9e4\nauthor TheCharlatan <seb.kung@gmail.com> 1690625015 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224973 +0200\n\nrefactor: Pimpl leveldb::Iterator for CDBIterator\n\nHide the leveldb::Iterator member variable with a pimpl in order not to\nexpose it directly in the header.\n\nAlso, move CDBWrapper::NewIterator to the dbwrapper implementation to\nuse the pimpl for CDBIterator initialziation.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC40ACgkQm3m0VpHb\nQXOB0w//cDvUpMqJT5j1vE7BsW10YaUBO5XM5XZ2Jj+npYCKCq1I7ecJeds8jvqn\nmHCR+E+ffdCltbGn9rFPicrbj1Tt0K6Uy+VXegRfp2JyEof9BJy9tInB6/s5xnWd\nlbn4Fcfj/dJumC1kaknEFb5AqAWG2BnMmZoEvhMBH22cE/We3aFYBncqlh0vEW+5\nK2pZRN3LECt58u0E7IGHovQOryd7oB1ODyK6g8svVdm8eBipNhEKelPviHEJBRum\ny5HsmDA7GIO8NlW1UZckyo9PUcubw1xySiYGVuUTaYeI78+yNMeLWCHUtgSkJ9fd\nb0C0kXDyTJp3mBoCtgBa2l1YtLaDe3Tiwmr2RSm6n7AMJTuRpmZX2/MO44d2NJME\nnV5J8R8RNHr4ywAbRhQIPRLEIHdemc93TYaeDaVrpiOpjfDg08rEw8HAaBUzSB8u\nJk3BJbi4rAFeIvZ3L+RqXQhPmkrJlNFq0+tTGD+sS/u4Dj9UKScUVeiDprYM8ZUB\n/E6ky/1EfWCHHZv17+S5afSZFvt88FqDuopY44Sx4mKUrdKrE1PaldM6sWuK4j17\nBKQ5WbrRN94griSmrJ8hQemSIFlDq4tgExkbJRYeUqLU8aD+HMeyHegwhMubFqjx\nLqzFfS/b4j4GTZK4Eumcue+qd/LBjJPYlZecDYPdNdZvg/ur7us=\n=C9m3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef941ff1281e76308c3e746e592375bec023e9e4",
          "sha": "ef941ff1281e76308c3e746e592375bec023e9e4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ef941ff1281e76308c3e746e592375bec023e9e4"
        }
      ],
      "message": "refactor: Pimpl leveldb::Iterator for CDBIterator\n\nHide the leveldb::Iterator member variable with a pimpl in order not to\nexpose it directly in the header.\n\nAlso, move CDBWrapper::NewIterator to the dbwrapper implementation to\nuse the pimpl for CDBIterator initialziation.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:53Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-29T10:03:35Z"
      },
      "sha": "e4af2408f2ac59788567b6fc8cb3a68fc43da9fe"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg0MDU4ZTBlZWQ5YzA1YmMzMDk4NGIzOTEzMWU4OGFkMTQyNTYyOGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84058e0eed9c05bc30984b39131e88ad1425628f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/84058e0eed9c05bc30984b39131e88ad1425628f",
      "tree": {
        "sha": "67fee8661ebfc5369a09b78e17640fa499389b42",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/67fee8661ebfc5369a09b78e17640fa499389b42"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 67fee8661ebfc5369a09b78e17640fa499389b42\nparent e4af2408f2ac59788567b6fc8cb3a68fc43da9fe\nauthor TheCharlatan <seb.kung@gmail.com> 1689327973 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224975 +0200\n\nrefactor: Split dbwrapper CDBWrapper::Read implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC48ACgkQm3m0VpHb\nQXMY4g/+OiEVK/xH4DybhGN2pv5NyaSzXMYMrOB+ndTzXLtepzluV1Tcnl8W8MWA\n+wv8JEYVS6cBvHSeUZF3QwOSKxloxhak+D5sN0MpUiDFaM5puiJpGs7wojs1Lb2k\nqPtIcfUX/l6J4S1HO1frH0cXSFtlplK5p4BRYczr2+92LlTXOH0VlN7m13A2iNBf\n+mfaTnCJIb88eqmtpetIXQYBrvRkxLnJsyELr8nQpF2iUzRjcM26f06c57nedY0Q\nXHBYT/vEqaINbpX7TtiJ9n1DTywOW3Lbm5tYhmsNUwkhef9zluSHb7Ad9GVzVeMv\nvgZh7PkHI4x7DnqO05FHEk0IKwfJNd+3nU5uUHrmnfmfcBNNDQMOTxxSMA343Aj2\nzeFLxHnmeXJ0zea63mAk5WHIIew+cs+wYylxDSKl3oNaoeIbu5vvLIK6k8bCccRs\nPtPJHA6jL8xKI/4QSIBXEsmj6D932hFg+TYfl6CYuQQ3rCPROYHpaHZ6lB5dHJiJ\njTb6iVSG9pLzu/KvLMBHPfbOT8glkFeOraoTTVunQhK2+tpsBj95mL67sylWcweB\njKTY7kY9zsGBqtGlE8pqYAjLWogS1S4SaiCKLE05GOpQnBwOx0zivIfV7dGLY20n\ntKaBU6BPaoDuaYRqc4sEqnwJ7qxjMDmHeLNTDn+ZIZyMfBfGABQ=\n=MMz+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e4af2408f2ac59788567b6fc8cb3a68fc43da9fe",
          "sha": "e4af2408f2ac59788567b6fc8cb3a68fc43da9fe",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e4af2408f2ac59788567b6fc8cb3a68fc43da9fe"
        }
      ],
      "message": "refactor: Split dbwrapper CDBWrapper::Read implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:55Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-14T09:46:13Z"
      },
      "sha": "84058e0eed9c05bc30984b39131e88ad1425628f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE1YzJlYjU3NDg0MzE0YjA0ZWM5NDUyM2QxNGUwZWYwYzZjNDZkNGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a5c2eb57484314b04ec94523d14e0ef0c6c46d4f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a5c2eb57484314b04ec94523d14e0ef0c6c46d4f",
      "tree": {
        "sha": "1ebf2e8c4fde3f8589ab5cca3f46ca752b68b695",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1ebf2e8c4fde3f8589ab5cca3f46ca752b68b695"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1ebf2e8c4fde3f8589ab5cca3f46ca752b68b695\nparent 84058e0eed9c05bc30984b39131e88ad1425628f\nauthor TheCharlatan <seb.kung@gmail.com> 1690628761 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224976 +0200\n\nrefactor: Fix logging.h includes\n\nThese were uncovered as missing by the next commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC5AACgkQm3m0VpHb\nQXNE9xAAt82nN8M5yBOny6zS3fGf4FMQ5xLv48G0NkGpPxcbZlLk/eCBXDMCme45\njYuAmdrEEofElpRQk0AVLRTRRWUgFkVz5jk4jjrH+e+FYkQPPQsJCXdFNRjnC+AC\n6GQhiH1N8FCgTP6x5v0vpzky95ZMz4xZvBV6A6uG8hwmtfoRRVTAt4K522b5xcPV\nkPNPZdTruwLs/QLhD62f5323j+u8pVCNYsWwOeZTNHxkEvY5x9XZdIWZmbuBVUT4\nauOjhOOQm8T5K+9f2eD3cwzkywUVT8xM4UM5MImoQeByQM6BvR8OwjULb11jhdJZ\nFfXKULtd2UYXLeVX33n7/45v1Iuo0SMq1N276oELzEJIzeNeQBco1lpsmSL8Piue\n1DTQaVE4LaWh0+Rv+9TFmn10jKznjA7IdGYyp+2I1Fxx7KPiHVluQtwc27Z880PM\nHdISqdlt5llMw/nOi5Ms27v5qzIml71OXODk0UxCPVPk6/zGDxropmBRtXj1W7op\nPJkpp+BS5p6bFzkEaqJaOt1sjo+TrJxylT88LFN+8csSbLkqfiEV6Ih6IeYHzrJy\nHFPnajjdTVUMkiwBctyt35aVPxHhbRRnT4UOYqcAgOdGBpYfxhFXCERqhsdq47Ve\nOMQhXuWnpy2rzRY7DHtkXyPo+vitKmajwxY2Zi2Fb2kdolvPPRo=\n=29pK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84058e0eed9c05bc30984b39131e88ad1425628f",
          "sha": "84058e0eed9c05bc30984b39131e88ad1425628f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/84058e0eed9c05bc30984b39131e88ad1425628f"
        }
      ],
      "message": "refactor: Fix logging.h includes\n\nThese were uncovered as missing by the next commit.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:56Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-29T11:06:01Z"
      },
      "sha": "a5c2eb57484314b04ec94523d14e0ef0c6c46d4f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRlZGUwZWVmN2FkYjc0MTNmNjJmNWFiZDY4Y2FjOGUwMTYzNWJhNGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dede0eef7adb7413f62f5abd68cac8e01635ba4a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dede0eef7adb7413f62f5abd68cac8e01635ba4a",
      "tree": {
        "sha": "a4c26e3a77fa83561881b8d10325ad3f41c28d95",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a4c26e3a77fa83561881b8d10325ad3f41c28d95"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a4c26e3a77fa83561881b8d10325ad3f41c28d95\nparent a5c2eb57484314b04ec94523d14e0ef0c6c46d4f\nauthor TheCharlatan <seb.kung@gmail.com> 1689328404 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224978 +0200\n\nrefactor: Split dbwrapper CDBWrapper::Exists implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC5IACgkQm3m0VpHb\nQXOO2g/8DuzHlWhhjh+X4oBLHWaiy0cNHwZsBQ98zLXUcQRMhZZuubcHRbRoFB23\nWBxqhZN0DY7RohS0wezfZ08sR15EAXAP9FabqfS+QLxNihLjyn5tar+GjiT5vieJ\nG+KEBLAPsL6p0c3EBf3KGVGJ3h33p5kChaX8IKercI6Be+eVnSKP+zAZlP3SbzZA\n/BI42c7w4/UrtB0FBs71UJLt7I7Zb7tt98lMmn5oFOmvpczVTAbrHu7RvKFe8aYJ\nMU23V9bw5j8nRE3Fk8IQdBCH9Dr4nUaprKAz1D0vpzF3zS9GvN0KK+8Tl8iZ5vub\n5hNrhIyvd4CCl0i+UEcHqM/pP6bW70D1qu5z4EXPinhEuK6TgOyRS7UbcIGKU8th\nTwROTej0JVxHzdJG1NdJAuu8h9UP27N/Ta+y9ggfi/h8PRfyRxIBST+Zaok+NFWX\n/i3htYRJHuqttnX2/DPy81hbW+oZG2hAq6sCuM0pZ1T3Rw0xWSNCvboMqV8bZFwy\nFbASmLQ2kccdgCr9WxRWQ+EV5h0XAoPN8fbgxv6Aetp7l6gFXs5VzNDx9jCrUE4s\n4u/0xZh/CJ95kpEkrYfv5CpcMQAZm99g7krUNaCDbseRhX9LUW6VuH6ghx4EPjyX\niqgKYG26BoHbbuyejtEQdzeXIn8nhgQSz+qYzcsvd7CtxjDUxhU=\n=jrI5\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a5c2eb57484314b04ec94523d14e0ef0c6c46d4f",
          "sha": "a5c2eb57484314b04ec94523d14e0ef0c6c46d4f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a5c2eb57484314b04ec94523d14e0ef0c6c46d4f"
        }
      ],
      "message": "refactor: Split dbwrapper CDBWrapper::Exists implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:58Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-14T09:53:24Z"
      },
      "sha": "dede0eef7adb7413f62f5abd68cac8e01635ba4a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU4NjQ0ODg4OGI3MmY3Yzg3ZGI0ZGNkMzBmYzRlNDA0NGFmYWUxM2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/586448888b72f7c87db4dcd30fc4e4044afae13b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/586448888b72f7c87db4dcd30fc4e4044afae13b",
      "tree": {
        "sha": "ffbc735cb1f4ba441b00be4c717c91f179e2fb8b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ffbc735cb1f4ba441b00be4c717c91f179e2fb8b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ffbc735cb1f4ba441b00be4c717c91f179e2fb8b\nparent dede0eef7adb7413f62f5abd68cac8e01635ba4a\nauthor TheCharlatan <seb.kung@gmail.com> 1690617890 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224979 +0200\n\nrefactor: Move HandleError to dbwrapper implementation\n\nMake it a static function in dbwrapper.cpp, since it is not used\nelsewhere and when left in the header, would expose a leveldb type.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC5MACgkQm3m0VpHb\nQXN/fQ//V6ujuSOlvImCARHnoZnb24+RKZMtYGUlHH66KPh4iaQSjorCYk3++7w5\nbPuDv+IxvKbdzrQjifIqgFlJbvZd6DXvb0qCz6VCBWvcCsZbp4Q6nvb+zIFNu8kV\nDYfa9Hgj6QhYK0tAdwGHMwXBIGFF8EuewEc95dy9QZ3A783lQphrcGX4fp58BrPt\nE/73DYJlcyg8jCKXjJY4dCDvejuj/XraqfkuKbXRpvUiY5Miwo4Tsdkjt9hJRbWD\nRu1afiT6g7VGyJfHgOoz5szJ1lbcslxB1VP3jSqsocBWGNwfvRsiRPkkwDxhsyeP\nWafZBlHJPBFtIe9eNhK5K0HCk+Dz4RUQphHfS1+cgaog1pSwqFCeBor4QRTsCRaK\ndridmp31EHps5BRw7nXfWiRTjNy/rM/rGcLFfZt2aljGVnVS1A6JKxN0KbdJaWMb\ntKOBimEA22jFzgBJe0hDdsP+pGvI+PVyti+RWOIwqfMYLD6DURqZ8Cb9BY14dLnA\nTr84MtiU1SqWhq/DacWI/EYS6zkNBpjGSVStnM9v/xzEKm3c62Qf0EUtKjXS2Bza\nsY9WSFxKBeVzd3X/5YM1aFCIsQ9n1XcoBZctv7TEdACwYkrTc0k3ORV1Uu1c75lb\nb8eeeAYiC3HbRWpEO+qi6c4iBcH8MvLsOTF3vgM2SLB3bFNiqmU=\n=6jHp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dede0eef7adb7413f62f5abd68cac8e01635ba4a",
          "sha": "dede0eef7adb7413f62f5abd68cac8e01635ba4a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dede0eef7adb7413f62f5abd68cac8e01635ba4a"
        }
      ],
      "message": "refactor: Move HandleError to dbwrapper implementation\n\nMake it a static function in dbwrapper.cpp, since it is not used\nelsewhere and when left in the header, would expose a leveldb type.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:42:59Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-29T08:04:50Z"
      },
      "sha": "586448888b72f7c87db4dcd30fc4e4044afae13b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM1MzRhNjE1ZTkzNDUyYTVmNTA5YWFmNWY2OGM2MDAzOTFhOThkNmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c534a615e93452a5f509aaf5f68c600391a98d6a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c534a615e93452a5f509aaf5f68c600391a98d6a",
      "tree": {
        "sha": "5ba2aa8df4dd8e0bfa087bfcc458e134ea6dbe1a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ba2aa8df4dd8e0bfa087bfcc458e134ea6dbe1a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5ba2aa8df4dd8e0bfa087bfcc458e134ea6dbe1a\nparent 586448888b72f7c87db4dcd30fc4e4044afae13b\nauthor TheCharlatan <seb.kung@gmail.com> 1689329081 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691224981 +0200\n\nrefactor: Split dbwrapper CDBWrapper::EstimateSize implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nSince CharCast is no longer needed in the header, move it to the\nimplementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTOC5UACgkQm3m0VpHb\nQXNRSxAAoAW6IkBILQMfJNEq4repZZCy8Hz+SaHc25XQh5W2xNiQYKj08wV/Jl4t\n8lU4Vx1+6pgXyhVBkd2RE9qmNkilK4VY21cizxCChOhHKNCMLOV9o4wlg95k/izM\nLoK1LSbzOhuBdfcuK9s5+Psq6j/NlN+B4m6xKXgHHVQixGClCPusmdsqZDH8ukrd\nHM9KmswW45WAVLyxvSk0Hgc5ha6wk0r13SOEisyh0Fi5Ztiq43tBHSvtVwJgZiTd\neUvU3h/dNayuQn9uuHHKTzc/CPnMeu4yRIXGL5UNyxBfPjNo9qU+Z/mOE9oY791Y\nIB52tpQe5lVyQFfKkMvqXBDVhTNigcFXlx7AoTvps3XOOmRhEw/1ogu2pDe8cKIR\nlkpsxa8OIGYQhXwaXv8aNL+8Jp0FSxzE0iIiN3ZqVhDXv/OqOdh5a3JPhdm/euhl\nDjaCveCuBEIkZR5L/sklVinrqJ6BKWd80j9ZpwggNbRfSkqndBw4+6h4Thb6Yn01\nv+fSvmEf4AyZj58CxzaDb1wDeLFI2ZzJ+4FrrU8f/6pgdGyiTndnKHYM8H3IWPCy\n91npuf1hm1zqW3Q0NazE7kEkft1gtKxM8eHE4MDJXUzpaanXRqQBBZCpgU0kD0W8\n7V2i5gS+CSirjFZlRq8szE8ZLYFaDlI9r2Si6iULCK2siso6p5Q=\n=/zcD\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/586448888b72f7c87db4dcd30fc4e4044afae13b",
          "sha": "586448888b72f7c87db4dcd30fc4e4044afae13b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/586448888b72f7c87db4dcd30fc4e4044afae13b"
        }
      ],
      "message": "refactor: Split dbwrapper CDBWrapper::EstimateSize implementation\n\nKeep the generic serialization in the header, while moving\nleveldb-specifics to the implementation file.\n\nSince CharCast is no longer needed in the header, move it to the\nimplementation file.\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:43:01Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-14T10:04:41Z"
      },
      "sha": "c534a615e93452a5f509aaf5f68c600391a98d6a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM5NWIzN2Q2NDFiMWVlZDRhNjJkNTVjYTUzNDJhNmVkOGM3YTFjZTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7",
      "tree": {
        "sha": "d0c4edda4df492400552b70d291170e9aba550f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d0c4edda4df492400552b70d291170e9aba550f0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d0c4edda4df492400552b70d291170e9aba550f0\nparent c534a615e93452a5f509aaf5f68c600391a98d6a\nauthor TheCharlatan <seb.kung@gmail.com> 1689330680 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691225112 +0200\n\nrefactor: Move CDBWrapper leveldb members to their own context struct\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTODBgACgkQm3m0VpHb\nQXNOPBAAw6ac/mQ0X0YsxF4Dp+7bvbLDU4VRhE+5Zuv1EUCBPcA/ZFr1ir3LBRJt\n1rHkKESPiT9Kpt6ABi/2Gomxf3owXFcB4iTgxpb6hrUBNDfT3+r8721fYCDb2LT+\n0iIyVIW5W3jPTYAd5m+ESuFtZ4Rey1mfsQE7h72iAw/66Xh6sR6bEJWK1g+e3k9N\nwCJ3viIbKqxnpka7RYQoz4UlnJtg4jAOUUYBU2iLgXoHCxUhRyklA6JOmWFGcb5N\nBxLnQ11rMCh59BvsOd0E6va0Q7mZgwYUy7+BxhHrdl5GqOLmb6BX9v3mRzz7s2vb\n+qF5rZ3Nmw2bSkQvdhOjpzCxmD+Sz6yR8vpZ2kNdXtnJjwKIySrFi/PYE50ZyTnS\nxn1rmu+jWlwJKCjweYyQICmXSWCR7Q2kgc5pwpk2Rm8bMn/fWTTsH5meiEA+d6gm\n60L5ZcIClyEPk1kl9qHcRd3bTA1W9bQp3/EkqbjSRqtm7cofQQJVijPB1Gzo7jLt\nL1W2xIOs+nemrfa/+QTbVCQizu4MWcvjKtgnjY8U0Q4xfwryKWaZaxun5rBDRv9C\n9aJcg8iMQwlyICfc+tJBjGYDvofoxo2R2434hJGJDxuHQ9Dqr2tIdnVBWq281IFy\nAankJi6fi1YaFg4RhsP0zxd3GvrQ8GxoEZMZAxeIV1TsWpPgNgs=\n=5NsB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c534a615e93452a5f509aaf5f68c600391a98d6a",
          "sha": "c534a615e93452a5f509aaf5f68c600391a98d6a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c534a615e93452a5f509aaf5f68c600391a98d6a"
        }
      ],
      "message": "refactor: Move CDBWrapper leveldb members to their own context struct\n\nThe context of this commit is an effort to decouple the dbwrapper header\nfile from leveldb includes. To this end, the includes are moved to the\ndbwrapper implementation file. This is done as part of the kernel\nproject to reduce the number of required includes for users of the\nkernel.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:45:12Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-14T10:31:20Z"
      },
      "sha": "c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJlOGYxNTlhYzU5YjllNzAwY2JkMzMxNGVkNzFlYmYzOWJkNWI2N2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/be8f159ac59b9e700cbd3314ed71ebf39bd5b67a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/be8f159ac59b9e700cbd3314ed71ebf39bd5b67a",
      "tree": {
        "sha": "bc6183cb29f5a5ae0f045449aa30dc7f29f11b90",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bc6183cb29f5a5ae0f045449aa30dc7f29f11b90"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree bc6183cb29f5a5ae0f045449aa30dc7f29f11b90\nparent c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7\nauthor TheCharlatan <seb.kung@gmail.com> 1690703743 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691225117 +0200\n\nbuild: Remove leveldb from BITCOIN_INCLUDES\n\nSince leveldb is no longer in our header tree, move its include flags to\nwhereever dbwrapper.cpp is built.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTODB0ACgkQm3m0VpHb\nQXM0mg//YNyC40UNV/TPkmvWpSAOKwHLTe15bmX69DBU/2R2rHeRMtFkIx3Aorr5\nSuSLgvCgLG2vuW3SPwhDi3Nubley70slErxccrz/Qc/U4ZbVfi2kvIUC1yoPx9Ko\n8XLHJtD71F++SmWLG6rzTkYg6u2/oANE9Awna+AuwNKMldpWjLogSc77yA43vVsp\n0MvAkKiMQNVb8zTMJsZkJBKNEcy2P0vMtSobfZOLNmSo6L88+/ZSIFPZQ2woKO12\nCa8FVEka2uwW7h2EMn+HE4/YdZ9r40MyxPTW9g+zWQtl1hNlPAbb8a9sh3DVs+TO\np5lt+n+/tjQtR0L4CWkr+l7j2gZNxVG8o75uHNNqWURlYxBURdHHYJjkC+1JWgee\npyALjskGcszobFH/xoOnkl2zWiM9ryYP8d+t4ZzQxZiVOFNKxfZB5rM2D37t4Ae+\nwKxohiEYKvugcDYcaE0fu7ogANM+jEznXK0II2CEOqcMG0+NA8J9jNxq8tHOV5ZQ\n2e0xILzJInrpU6llFk+GKvK5o9WIwq/czbTOaXaavNSWT17LE49XrGP8OTKWD5kH\n1WLbf93qoyQ5i9+GBZS3wionmQb3dFGWGZEWutIr//zb3ynm4N149hXK3rvUJ8op\njwXcwJKA3MY1B4jFdsRTfhmUqIRJZwsPUgXK+WszBGkRSEEVDQs=\n=iJ9a\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7",
          "sha": "c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7"
        }
      ],
      "message": "build: Remove leveldb from BITCOIN_INCLUDES\n\nSince leveldb is no longer in our header tree, move its include flags to\nwhereever dbwrapper.cpp is built.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:45:17Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-07-30T07:55:43Z"
      },
      "sha": "be8f159ac59b9e700cbd3314ed71ebf39bd5b67a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ4ZjEyMjJhYzUwZjA4OWEwYWYyOWVhZjhjZTA1NTViYWQ4MzY2ZWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "tree": {
        "sha": "a1658f75bd4d7ffc6655e15ce99767a592fd04d4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a1658f75bd4d7ffc6655e15ce99767a592fd04d4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a1658f75bd4d7ffc6655e15ce99767a592fd04d4\nparent be8f159ac59b9e700cbd3314ed71ebf39bd5b67a\nauthor TheCharlatan <seb.kung@gmail.com> 1691071679 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1691225119 +0200\n\nrefactor: Correct dbwrapper key naming\n\nThe ss- prefix should connotate a DataStream variable. Now that these\nvariables are byte spans, drop the prefix.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmTODB8ACgkQm3m0VpHb\nQXOumA/7BMLNoiI8dR7S0zNnL5e5bKbDsAVnPXk/mO0wTwpwq6D2ySXwpbUVbywD\nDdecCnb66+xlI/lt39J0hPbKK0wZXukmcqGEaGIpfD3N+dL8eePGNLN74o7rMgFG\nfm0N0ll98koCpjwuwUDF5T11qWCew6wtPTRH03AiO4x1W8g9DQsMjHQ3Ar5DzkiA\nHGNhkOkT/vAOJcsRQkG/Kde0NBgz6LmmDnl/PQbR8gcLygDNsFW+RCZHgKJ3T7zX\nsx/AWPxRX3vqvswGIJUa0BOFs6GOUOcIawJswHrM3BPS6zj74SEx82oKr/cLUDVo\naXFDVe7RMhaWuxvA9waClrv7rJ71SiXE8g5iedPtnYigpL49wkBDwWI/C+29Kv7F\nZCMwn0fU3z/NN1iPNATHl8v4NupFVNDY1waCq+drTEIwXiYaVhMGfjPXNj/9+sdJ\n33HP6KEeWk0XG0q3Q4juLHRVY//VOS0R74q+AWs9+KHThAo8SoNzgV6jeRAHfYJB\nm8lIGZkEnGo7fXKEYkC3T9EBTGnMaZLCGF5G44d0bWNQDX/gvKaPJqH51WY6Rigd\nnYja386QuMa2rbIAYrbNygxUb8CcWL6H4aXywi33LrAr9Tx2HyvHQfON2I5WMkq0\nLzbgQEUiPQvaT69IZ1tSXtz+BZVN0SRpT8so3v5DogW3cMua9G8=\n=N7JQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/be8f159ac59b9e700cbd3314ed71ebf39bd5b67a",
          "sha": "be8f159ac59b9e700cbd3314ed71ebf39bd5b67a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/be8f159ac59b9e700cbd3314ed71ebf39bd5b67a"
        }
      ],
      "message": "refactor: Correct dbwrapper key naming\n\nThe ss- prefix should connotate a DataStream variable. Now that these\nvariables are byte spans, drop the prefix.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-05T08:45:19Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-08-03T14:07:59Z"
      },
      "sha": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10014911781,
      "node_id": "HRFPE_lADOABII585s9JcVzwAAAAJU720l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10014911781",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-05T10:02:02Z"
    },
    {
      "event": "commented",
      "id": 1666459887,
      "node_id": "IC_kwDOABII585jVCjv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1666459887",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-05T10:02:36Z",
      "updated_at": "2023-08-05T10:02:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the review @stickies-v,\r\n\r\nUpdated 3fb2dac2ce78092c1006ee082c536bea1b69a152 -> 1be04724a3ac061859118c09b90e2e15ea8d04b0 ([cleaveLeveldbHeaders_4](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_4) -> [cleaveLeveldbHeaders_5](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_5),  [compare](https://github.com/TheCharlatan/bitcoin/compare/cleaveLeveldbHeaders_4..cleaveLeveldbHeaders_5))\r\n\r\n* Addressed @stickies-v's [comment_1](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283098892) and [comment_2](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283280722), added some line breaks in constructor lists.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283260447), further split up the `CDBWrapper::Read` implementation. The `ReadImpl` now returns an option of the read database value string.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283281451), removed left over `m_db_context` initializer.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283286314), added `LIFETIMEBOUND` to `DBContext` reference getter.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1284419848), added docstring to `m_db_contex` `CDBWrapper` member variable.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1666459887",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "mentioned",
      "id": 10014912486,
      "node_id": "MEE_lADOABII585s9JcVzwAAAAJU72_m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10014912486",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-05T10:02:37Z"
    },
    {
      "event": "subscribed",
      "id": 10014912489,
      "node_id": "SE_lADOABII585s9JcVzwAAAAJU72_p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10014912489",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-05T10:02:37Z"
    },
    {
      "event": "reviewed",
      "id": 1565082131,
      "node_id": "PRR_kwDOABII585dSUIT",
      "url": null,
      "actor": null,
      "commit_id": "1be04724a3ac061859118c09b90e2e15ea8d04b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 1be04724a3ac061859118c09b90e2e15ea8d04b0\r\n\r\nnit: these don't seem to actually have been addressed\r\n> Addressed @stickies-v's https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283098892 and https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283280722, added some line breaks in constructor lists.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1565082131",
      "submitted_at": "2023-08-07T11:05:11Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10024178835,
      "node_id": "HRFPE_lADOABII585s9JcVzwAAAAJVfNST",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10024178835",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-07T13:31:43Z"
    },
    {
      "event": "commented",
      "id": 1667870906,
      "node_id": "IC_kwDOABII585jabC6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1667870906",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-07T13:34:35Z",
      "updated_at": "2023-08-07T13:36:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 1be04724a3ac061859118c09b90e2e15ea8d04b0 -> d8f1222ac50f089a0af29eaf8ce0555bad8366ef ([cleaveLeveldbHeaders_5](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_5) -> [cleaveLeveldbHeaders_6](https://github.com/TheCharlatan/bitcoin/tree/cleaveLeveldbHeaders_6),  [compare](https://github.com/TheCharlatan/bitcoin/compare/cleaveLeveldbHeaders_5..cleaveLeveldbHeaders_6))\r\n\r\nSorry for the re-push @stickies-v, did not include two changes in my previous push by mistake that should have addressed your latest comments. Pushed now.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1667870906",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "mentioned",
      "id": 10024211630,
      "node_id": "MEE_lADOABII585s9JcVzwAAAAJVfVSu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10024211630",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-07T13:34:36Z"
    },
    {
      "event": "subscribed",
      "id": 10024211653,
      "node_id": "SE_lADOABII585s9JcVzwAAAAJVfVTF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10024211653",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-07T13:34:36Z"
    },
    {
      "event": "commented",
      "id": 1667875787,
      "node_id": "IC_kwDOABII585jacPL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1667875787",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-07T13:37:10Z",
      "updated_at": "2023-08-07T13:37:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK https://github.com/bitcoin/bitcoin/commit/d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#issuecomment-1667875787",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28186"
    },
    {
      "event": "reviewed",
      "id": 1565583066,
      "node_id": "PRR_kwDOABII585dUOba",
      "url": null,
      "actor": null,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK d8f1222ac50f089a0af29eaf8ce0555bad8366ef  ðŸ” \r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: ACK d8f1222ac50f089a0af29eaf8ce0555bad8366ef  ðŸ” \r\n9kmrmmglu0pLTAnlkFVLGRaV07BiskXJWhuBAXoJ8FtylkMHfRojj+S77g6nhGaMuZlTOzX7YETCJ4ZtX4yEAw==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#pullrequestreview-1565583066",
      "submitted_at": "2023-08-07T15:24:40Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
    },
    {
      "event": "merged",
      "id": 10028479397,
      "node_id": "ME_lADOABII585s9JcVzwAAAAJVvnOl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10028479397",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b565485c24c0feacae559a7f6f7b83d7516ca58d",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b565485c24c0feacae559a7f6f7b83d7516ca58d",
      "created_at": "2023-08-07T20:31:57Z"
    },
    {
      "event": "closed",
      "id": 10028479440,
      "node_id": "CE_lADOABII585s9JcVzwAAAAJVvnPQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10028479440",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-07T20:31:58Z"
    },
    {
      "event": "referenced",
      "id": 10051177365,
      "node_id": "REFE_lADOABII585s9JcVzwAAAAJXGMuV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10051177365",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1a49aed60eeb7a7f615c19cf671414265aa257ac",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/1a49aed60eeb7a7f615c19cf671414265aa257ac",
      "created_at": "2023-08-09T19:02:12Z"
    },
    {
      "event": "locked",
      "id": 13778403512,
      "node_id": "LOE_lADOABII585s9JcVzwAAAAM1QcC4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13778403512",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-06T13:03:27Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280179325",
      "pull_request_review_id": 1556273554,
      "id": 1280179325,
      "node_id": "PRRC_kwDOABII585MTfx9",
      "diff_hunk": "@@ -84,6 +81,8 @@ const std::vector<unsigned char>& GetObfuscateKey(const CDBWrapper &w);\n \n };",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 21,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "4735590b9f3bdfc248086e0e20c9d56fa6156e1c",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "unrelated nit in 4735590b9f3bdfc248086e0e20c9d56fa6156e1c: Add missing `}; // namespace dbwrapper_private` (via clang-format) to clarify the new function is not in the namespace?",
      "created_at": "2023-08-01T06:50:47Z",
      "updated_at": "2023-08-01T08:07:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280179325",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280179325"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280188384",
      "pull_request_review_id": 1556273554,
      "id": 1280188384,
      "node_id": "PRRC_kwDOABII585MTh_g",
      "diff_hunk": "@@ -101,16 +103,9 @@ class CDBBatch\n     void EraseImpl(DataStream& ssKey);\n \n public:\n-    /**\n-     * @param[in] _parent   CDBWrapper that this batch is to be submitted to\n-     */",
      "path": "src/dbwrapper.h",
      "position": 91,
      "original_position": 26,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "74b5c3dac581b7597668a6a0cc55678d2af296da",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "74b5c3dac581b7597668a6a0cc55678d2af296da: Any reason to remove the docs from the header?",
      "created_at": "2023-08-01T07:01:09Z",
      "updated_at": "2023-08-01T08:07:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280188384",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280188384"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280201239",
      "pull_request_review_id": 1556273554,
      "id": 1280201239,
      "node_id": "PRRC_kwDOABII585MTlIX",
      "diff_hunk": "@@ -312,10 +313,7 @@ class CDBWrapper\n     // Get an estimate of LevelDB memory usage (in bytes).\n     size_t DynamicMemoryUsage() const;\n \n-    CDBIterator *NewIterator()\n-    {\n-        return new CDBIterator(*this, pdb->NewIterator(iteroptions));\n-    }\n+    CDBIterator *NewIterator();",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 40,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "029ac57bf6a987f50c31bb8c80e77989fc53d85a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "029ac57bf6a987f50c31bb8c80e77989fc53d85a: nit: missing clang-format?",
      "created_at": "2023-08-01T07:15:09Z",
      "updated_at": "2023-08-01T08:07:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280201239",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280201239"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 316,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280202266",
      "pull_request_review_id": 1556273554,
      "id": 1280202266,
      "node_id": "PRRC_kwDOABII585MTlYa",
      "diff_hunk": "@@ -307,26 +308,39 @@ bool CDBWrapper::IsEmpty()\n     return !(it->Valid());\n }\n \n+struct CDBIterator::IteratorImpl {\n+    const std::unique_ptr<leveldb::Iterator> iter;\n+\n+    explicit IteratorImpl(leveldb::Iterator* _iter) : iter{_iter} {}\n+};\n+\n+CDBIterator::CDBIterator(const CDBWrapper& _parent, std::unique_ptr<IteratorImpl> _piter) : parent(_parent), m_pimpl_iter(std::move(_piter)) {}\n+\n+CDBIterator* CDBWrapper::NewIterator()\n+{\n+    return new CDBIterator(*this, std::make_unique<CDBIterator::IteratorImpl>(pdb->NewIterator(iteroptions)));",
      "path": "src/dbwrapper.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "029ac57bf6a987f50c31bb8c80e77989fc53d85a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "029ac57bf6a987f50c31bb8c80e77989fc53d85a: nit: I don't think you need to specify `CDBIterator::` to `make_unique` when you are already in the `CDBIterator::` scope? \r\n\r\nAlso could use `{}` for the constructor, instead of `()`?",
      "created_at": "2023-08-01T07:16:17Z",
      "updated_at": "2023-08-01T08:07:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280202266",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280202266"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280242366",
      "pull_request_review_id": 1556273554,
      "id": 1280242366,
      "node_id": "PRRC_kwDOABII585MTvK-",
      "diff_hunk": "@@ -232,6 +232,36 @@ class CDBWrapper\n     //! whether or not the database resides in memory\n     bool m_is_memory;\n \n+    class ReaderBase\n+    {\n+    public:\n+        virtual void ReadValueFromStream(CDataStream& ssValue) = 0;\n+        virtual void WriteKeyToStream(DataStream& ssKey) = 0;\n+    };\n+\n+    template <typename K, typename V>\n+    class Reader : public ReaderBase\n+    {\n+    private:\n+        const K& key;\n+        V& value;\n+\n+    public:\n+        Reader(const K& key, V& value) : key{key}, value{value} {}\n+\n+        void ReadValueFromStream(CDataStream& ssValue) override\n+        {\n+            ssValue >> value;\n+        }\n+\n+        void WriteKeyToStream(DataStream& ssKey) override\n+        {\n+            ssKey << key;\n+        }\n+    };",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 30,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "6005165242cf090589934133f01f9dbd496612f1",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "6005165242cf090589934133f01f9dbd496612f1: I think you can  remove all of those classes/inheritance/constructors by  using two lambdas?\r\n\r\n\r\n```diff\r\ndiff --git a/src/dbwrapper.cpp b/src/dbwrapper.cpp\r\nindex 94883ec669..71ec3b5f91 100644\r\n--- a/src/dbwrapper.cpp\r\n+++ b/src/dbwrapper.cpp\r\n@@ -300,11 +300,11 @@ std::vector<unsigned char> CDBWrapper::CreateObfuscateKey() const\r\n     return ret;\r\n }\r\n \r\n-bool CDBWrapper::ReadImpl(CDBWrapper::ReaderBase& reader) const\r\n+bool CDBWrapper::ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const\r\n {\r\n     DataStream ssKey{};\r\n     ssKey.reserve(DBWRAPPER_PREALLOC_KEY_SIZE);\r\n-    reader.WriteKeyToStream(ssKey);\r\n+    write_key_to_stream(ssKey);\r\n     leveldb::Slice slKey(CharCast(ssKey.data()), ssKey.size());\r\n \r\n     std::string strValue;\r\n@@ -318,7 +318,7 @@ bool CDBWrapper::ReadImpl(CDBWrapper::ReaderBase& reader) const\r\n     try {\r\n         CDataStream ssValue{MakeByteSpan(strValue), SER_DISK, CLIENT_VERSION};\r\n         ssValue.Xor(obfuscate_key);\r\n-        reader.ReadValueFromStream(ssValue);\r\n+        read_value_from_stream(ssValue);\r\n     } catch (const std::exception&) {\r\n         return false;\r\n     }\r\ndiff --git a/src/dbwrapper.h b/src/dbwrapper.h\r\nindex 2a2a23c72d..6d3524f063 100644\r\n--- a/src/dbwrapper.h\r\n+++ b/src/dbwrapper.h\r\n@@ -15,6 +15,7 @@\r\n #include <cstddef>\r\n #include <cstdint>\r\n #include <exception>\r\n+#include <functional>\r\n #include <leveldb/db.h>\r\n #include <leveldb/options.h>\r\n #include <leveldb/slice.h>\r\n@@ -232,35 +233,7 @@ private:\r\n     //! whether or not the database resides in memory\r\n     bool m_is_memory;\r\n \r\n-    class ReaderBase\r\n-    {\r\n-    public:\r\n-        virtual void ReadValueFromStream(CDataStream& ssValue) = 0;\r\n-        virtual void WriteKeyToStream(DataStream& ssKey) = 0;\r\n-    };\r\n-\r\n-    template <typename K, typename V>\r\n-    class Reader : public ReaderBase\r\n-    {\r\n-    private:\r\n-        const K& key;\r\n-        V& value;\r\n-\r\n-    public:\r\n-        Reader(const K& key, V& value) : key{key}, value{value} {}\r\n-\r\n-        void ReadValueFromStream(CDataStream& ssValue) override\r\n-        {\r\n-            ssValue >> value;\r\n-        }\r\n-\r\n-        void WriteKeyToStream(DataStream& ssKey) override\r\n-        {\r\n-            ssKey << key;\r\n-        }\r\n-    };\r\n-\r\n-    bool ReadImpl(ReaderBase& reader) const;\r\n+    bool ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const;\r\n \r\n public:\r\n     CDBWrapper(const DBParams& params);\r\n@@ -272,8 +245,9 @@ public:\r\n     template <typename K, typename V>\r\n     bool Read(const K& key, V& value) const\r\n     {\r\n-        Reader reader{key, value};\r\n-        return ReadImpl(reader);\r\n+        auto write_key_to_stream{[&key](DataStream& ssKey) { ssKey << key; }};\r\n+        auto read_value_from_stream{[&value](CDataStream& ssValue) { ssValue >> value; }};\r\n+        return ReadImpl(write_key_to_stream, read_value_from_stream);\r\n     }\r\n \r\n     template <typename K, typename V>\r\n",
      "created_at": "2023-08-01T07:54:30Z",
      "updated_at": "2023-08-01T10:01:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280242366",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280242366"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280255522",
      "pull_request_review_id": 1556273554,
      "id": 1280255522,
      "node_id": "PRRC_kwDOABII585MTyYi",
      "diff_hunk": "@@ -179,30 +174,13 @@ class CDBIterator\n     }\n };\n \n+struct LevelDBContext;\n+\n class CDBWrapper\n {\n     friend const std::vector<unsigned char>& dbwrapper_private::GetObfuscateKey(const CDBWrapper &w);\n private:\n-    //! custom environment this database is using (may be nullptr in case of default environment)\n-    leveldb::Env* penv;\n-\n-    //! database options used\n-    leveldb::Options options;\n-\n-    //! options used when reading from the database\n-    leveldb::ReadOptions readoptions;\n-\n-    //! options used when iterating over values of the database\n-    leveldb::ReadOptions iteroptions;\n-\n-    //! options used when writing to the database\n-    leveldb::WriteOptions writeoptions;\n-\n-    //! options used when sync writing to the database\n-    leveldb::WriteOptions syncoptions;\n-\n-    //! the database itself\n-    leveldb::DB* pdb;\n+    std::unique_ptr<LevelDBContext> m_db_context;",
      "path": "src/dbwrapper.h",
      "position": 235,
      "original_position": 47,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "9fd6debc9f50955507d1540310ae4928b561bea0",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 9fd6debc9f50955507d1540310ae4928b561bea0: This is assumed to never be null and heavily used. What do you think about an inline private helper:\r\n\r\n\r\n```cpp\r\nauto& DBContext() { return *Assert(m_db_context); }",
      "created_at": "2023-08-01T08:06:19Z",
      "updated_at": "2023-08-01T08:07:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280255522",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280255522"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 187,
      "original_line": 187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280311080",
      "pull_request_review_id": 1556486530,
      "id": 1280311080,
      "node_id": "PRRC_kwDOABII585MT_8o",
      "diff_hunk": "@@ -90,7 +90,9 @@ class CDBBatch\n \n private:\n     const CDBWrapper &parent;\n-    leveldb::WriteBatch batch;\n+\n+    struct WriteBatchImpl;\n+    const std::unique_ptr<WriteBatchImpl> m_pimpl_batch;",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 16,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "74b5c3dac581b7597668a6a0cc55678d2af296da",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "74b5c3dac581b7597668a6a0cc55678d2af296da: `m_impl_batch` (since we don't use `p` for pointers) or `m_impl` (the pattern used in e.g. `AddrManImpl`)?",
      "created_at": "2023-08-01T08:54:08Z",
      "updated_at": "2023-08-01T09:57:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280311080",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280311080"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280383910",
      "pull_request_review_id": 1556486530,
      "id": 1280383910,
      "node_id": "PRRC_kwDOABII585MURum",
      "diff_hunk": "@@ -67,10 +66,6 @@ class CDBWrapper;\n  */\n namespace dbwrapper_private {\n \n-/** Handle database error by throwing dbwrapper_error exception.",
      "path": "src/dbwrapper.h",
      "position": 54,
      "original_position": 12,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "ca6f83d88cb241786676bfb341fc27f6467d39ee",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ca6f83d88cb241786676bfb341fc27f6467d39ee: this description, although not amazing, went missing",
      "created_at": "2023-08-01T09:50:34Z",
      "updated_at": "2023-08-01T09:57:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280383910",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280383910"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 75,
      "original_line": 75,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280498519",
      "pull_request_review_id": 1556786030,
      "id": 1280498519,
      "node_id": "PRRC_kwDOABII585MUttX",
      "diff_hunk": "@@ -27,6 +27,11 @@\n #include <memory>\n #include <optional>\n \n+bool DestroyDB(std::string& path_str)",
      "path": "src/dbwrapper.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "4735590b9f3bdfc248086e0e20c9d56fa6156e1c",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: `const std::string&`?",
      "created_at": "2023-08-01T11:35:59Z",
      "updated_at": "2023-08-01T17:28:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280498519",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280498519"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280723077",
      "pull_request_review_id": 1556786030,
      "id": 1280723077,
      "node_id": "PRRC_kwDOABII585MVkiF",
      "diff_hunk": "@@ -97,6 +97,8 @@ class CDBBatch\n \n     size_t size_estimate{0};\n \n+    void WriteImpl(DataStream& ssKey, CDataStream& ssValue);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "93099c4ae6067e6d3e9a8857e72f34efdffd0039",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`WriteImpl`, `ssKey` and `ssValue` are all `CDBBatch` class members, I'm not sure passing these as parameters makes sense? And if so, I think `ssKey` should be `const`.\r\n\r\nAt first sight, I'm not entirely sure why `ssKey` and `ssValue` are `CDBBatch` members when they get resized and cleared in every operation, so perhaps cleaning that up is the better way to go, but I don't like the ambiguity the current implementation introduces.\r\n\r\nAnd this comment applies pretty much identically to 5c9e87fcde410e6dc1a60f0f138ff842fdbcf328",
      "created_at": "2023-08-01T14:22:10Z",
      "updated_at": "2023-08-01T17:28:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280723077",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280723077"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280829946",
      "pull_request_review_id": 1557308076,
      "id": 1280829946,
      "node_id": "PRRC_kwDOABII585MV-n6",
      "diff_hunk": "@@ -232,6 +232,36 @@ class CDBWrapper\n     //! whether or not the database resides in memory\n     bool m_is_memory;\n \n+    class ReaderBase\n+    {\n+    public:\n+        virtual void ReadValueFromStream(CDataStream& ssValue) = 0;\n+        virtual void WriteKeyToStream(DataStream& ssKey) = 0;\n+    };\n+\n+    template <typename K, typename V>\n+    class Reader : public ReaderBase\n+    {\n+    private:\n+        const K& key;\n+        V& value;\n+\n+    public:\n+        Reader(const K& key, V& value) : key{key}, value{value} {}\n+\n+        void ReadValueFromStream(CDataStream& ssValue) override\n+        {\n+            ssValue >> value;\n+        }\n+\n+        void WriteKeyToStream(DataStream& ssKey) override\n+        {\n+            ssKey << key;\n+        }\n+    };",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 30,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "6005165242cf090589934133f01f9dbd496612f1",
      "in_reply_to_id": 1280242366,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you, this is much simpler indeed.",
      "created_at": "2023-08-01T15:41:17Z",
      "updated_at": "2023-08-01T15:41:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280829946",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280829946"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280830109",
      "pull_request_review_id": 1557308316,
      "id": 1280830109,
      "node_id": "PRRC_kwDOABII585MV-qd",
      "diff_hunk": "@@ -307,26 +308,39 @@ bool CDBWrapper::IsEmpty()\n     return !(it->Valid());\n }\n \n+struct CDBIterator::IteratorImpl {\n+    const std::unique_ptr<leveldb::Iterator> iter;\n+\n+    explicit IteratorImpl(leveldb::Iterator* _iter) : iter{_iter} {}\n+};\n+\n+CDBIterator::CDBIterator(const CDBWrapper& _parent, std::unique_ptr<IteratorImpl> _piter) : parent(_parent), m_pimpl_iter(std::move(_piter)) {}\n+\n+CDBIterator* CDBWrapper::NewIterator()\n+{\n+    return new CDBIterator(*this, std::make_unique<CDBIterator::IteratorImpl>(pdb->NewIterator(iteroptions)));",
      "path": "src/dbwrapper.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "029ac57bf6a987f50c31bb8c80e77989fc53d85a",
      "in_reply_to_id": 1280202266,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we are in the `CDBWrapper::` scope here.",
      "created_at": "2023-08-01T15:41:24Z",
      "updated_at": "2023-08-01T15:41:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280830109",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280830109"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280862595",
      "pull_request_review_id": 1556786030,
      "id": 1280862595,
      "node_id": "PRRC_kwDOABII585MWGmD",
      "diff_hunk": "@@ -140,6 +140,8 @@ class CDBIterator\n     const CDBWrapper &parent;\n     leveldb::Iterator *piter;\n \n+    void SeekImpl(DataStream& ssKey);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "b669a40741dba987a21d72fb331d72b5f47db72e",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: `const DataStream& ssKey`?",
      "created_at": "2023-08-01T16:08:38Z",
      "updated_at": "2023-08-01T17:28:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280862595",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280862595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280943436",
      "pull_request_review_id": 1556786030,
      "id": 1280943436,
      "node_id": "PRRC_kwDOABII585MWaVM",
      "diff_hunk": "@@ -237,6 +236,7 @@ class CDBWrapper\n     bool m_is_memory;\n \n     bool ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const;\n+    bool ExistsImpl(DataStream& ssKey) const;",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 28,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f29222d8e1a46a1d28b7eae5b4a2c15924105cec",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: `const DataStream& ssKey`?",
      "created_at": "2023-08-01T17:27:33Z",
      "updated_at": "2023-08-01T17:28:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280943436",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280943436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 239,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280972174",
      "pull_request_review_id": 1557537938,
      "id": 1280972174,
      "node_id": "PRRC_kwDOABII585MWhWO",
      "diff_hunk": "@@ -97,6 +97,8 @@ class CDBBatch\n \n     size_t size_estimate{0};\n \n+    void WriteImpl(DataStream& ssKey, CDataStream& ssValue);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "93099c4ae6067e6d3e9a8857e72f34efdffd0039",
      "in_reply_to_id": 1280723077,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> At first sight, I'm not entirely sure why ssKey and ssValue are CDBBatch members when they get resized and cleared in every operation\r\n\r\nHaven't checked it, but if there is more than one operation, they may save a dealloc+alloc?",
      "created_at": "2023-08-01T17:57:38Z",
      "updated_at": "2023-08-01T17:57:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1280972174",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1280972174"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281161914",
      "pull_request_review_id": 1557848663,
      "id": 1281161914,
      "node_id": "PRRC_kwDOABII585MXPq6",
      "diff_hunk": "@@ -97,6 +97,8 @@ class CDBBatch\n \n     size_t size_estimate{0};\n \n+    void WriteImpl(DataStream& ssKey, CDataStream& ssValue);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "93099c4ae6067e6d3e9a8857e72f34efdffd0039",
      "in_reply_to_id": 1280723077,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> WriteImpl, ssKey and ssValue are all CDBBatch class members, I'm not sure passing these as parameters makes sense? And if so, I think ssKey should be const.\r\n\r\nThis gave me pause too, but it felt clearer to me this way. Let me know if you think passing them arguments here is more confusing.\r\n\r\n> At first sight, I'm not entirely sure why ssKey and ssValue are CDBBatch members when they get resized and cleared in every operation, so perhaps cleaning that up is the better way to go, but I don't like the ambiguity the current implementation introduces.\r\n\r\nAFAIU they don't get resized in every operation. Clear should not be de-allocating its memory and if it is already at the correct capacity, calling `reserve` should not be doing anything.",
      "created_at": "2023-08-01T21:14:23Z",
      "updated_at": "2023-08-01T21:14:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1281161914",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281161914"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281421341",
      "pull_request_review_id": 1558238398,
      "id": 1281421341,
      "node_id": "PRRC_kwDOABII585MYPAd",
      "diff_hunk": "@@ -237,6 +236,7 @@ class CDBWrapper\n     bool m_is_memory;\n \n     bool ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const;\n+    bool ExistsImpl(DataStream& ssKey) const;",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 28,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f29222d8e1a46a1d28b7eae5b4a2c15924105cec",
      "in_reply_to_id": 1280943436,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "style nit: `const DataStream&` seems fine here, but if you want to pass an immutable view of raw bytes, `Span<const std::byte>` may be better. (`Span{ssKey}` should do the conversion, but it will likely happen implicitly by the compiler already).\r\n\r\n",
      "created_at": "2023-08-02T05:44:06Z",
      "updated_at": "2023-08-02T05:44:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1281421341",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281421341"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 239,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281421788",
      "pull_request_review_id": 1558240046,
      "id": 1281421788,
      "node_id": "PRRC_kwDOABII585MYPHc",
      "diff_hunk": "@@ -237,6 +236,7 @@ class CDBWrapper\n     bool m_is_memory;\n \n     bool ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const;\n+    bool ExistsImpl(DataStream& ssKey) const;",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 28,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f29222d8e1a46a1d28b7eae5b4a2c15924105cec",
      "in_reply_to_id": 1280943436,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, `CharCast` can be moved to the cpp file in the last commit, if you want",
      "created_at": "2023-08-02T05:44:39Z",
      "updated_at": "2023-08-02T05:44:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1281421788",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281421788"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 239,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282316651",
      "pull_request_review_id": 1559672607,
      "id": 1282316651,
      "node_id": "PRRC_kwDOABII585Mbplr",
      "diff_hunk": "@@ -97,6 +97,8 @@ class CDBBatch\n \n     size_t size_estimate{0};\n \n+    void WriteImpl(DataStream& ssKey, CDataStream& ssValue);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "93099c4ae6067e6d3e9a8857e72f34efdffd0039",
      "in_reply_to_id": 1280723077,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Alright yeah I was a bit too quick with my initial suggestion, the current implementation makes sense from a (de)alloc perspective, thanks for pointing that out both.\r\n\r\n> Let me know if you think passing them arguments here is more confusing.\r\n\r\nI still don't really like it, but I agree that taking these 2 arguments is the most natural interface for `WriteImpl`. The only reason we have this weirdness is just because `Write` wants to do some allocation optimization. So I'm okay keeping it like this.\r\n\r\nAnother approach that could work is to make `ssKey` and `ssValue` static vars? It means we would allocate one additional `DataStream` in `Erase`, but I think on the `CDBWrapper` level that's no big deal?",
      "created_at": "2023-08-02T19:13:02Z",
      "updated_at": "2023-08-02T19:15:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1282316651",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282316651"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283023840",
      "pull_request_review_id": 1560822742,
      "id": 1283023840,
      "node_id": "PRRC_kwDOABII585MeWPg",
      "diff_hunk": "@@ -97,6 +97,8 @@ class CDBBatch\n \n     size_t size_estimate{0};\n \n+    void WriteImpl(DataStream& ssKey, CDataStream& ssValue);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "93099c4ae6067e6d3e9a8857e72f34efdffd0039",
      "in_reply_to_id": 1280723077,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, unless any objections this would have my preference, less side effects and easier to understand imo:\r\n\r\n<details>\r\n<summary>git diff on 26fe348e6e05d9b50614fdcba9cfb7a711ae86dc</summary>\r\n\r\n```diff\r\ndiff --git a/src/dbwrapper.h b/src/dbwrapper.h\r\nindex 54c4685c48..48a6c9af00 100644\r\n--- a/src/dbwrapper.h\r\n+++ b/src/dbwrapper.h\r\n@@ -92,9 +92,6 @@ private:\r\n     const CDBWrapper &parent;\r\n     leveldb::WriteBatch batch;\r\n \r\n-    DataStream ssKey{};\r\n-    CDataStream ssValue;\r\n-\r\n     size_t size_estimate{0};\r\n \r\n     void WriteImpl(const DataStream& ssKey, CDataStream& ssValue);\r\n@@ -103,7 +100,7 @@ public:\r\n     /**\r\n      * @param[in] _parent   CDBWrapper that this batch is to be submitted to\r\n      */\r\n-    explicit CDBBatch(const CDBWrapper& _parent) : parent(_parent), ssValue(SER_DISK, CLIENT_VERSION){};\r\n+    explicit CDBBatch(const CDBWrapper& _parent) : parent(_parent){};\r\n \r\n     void Clear()\r\n     {\r\n@@ -114,6 +111,9 @@ public:\r\n     template <typename K, typename V>\r\n     void Write(const K& key, const V& value)\r\n     {\r\n+        static DataStream ssKey{};\r\n+        static CDataStream ssValue{SER_DISK, CLIENT_VERSION};\r\n+\r\n         ssKey.reserve(DBWRAPPER_PREALLOC_KEY_SIZE);\r\n         ssValue.reserve(DBWRAPPER_PREALLOC_VALUE_SIZE);\r\n         ssKey << key;\r\n@@ -126,6 +126,8 @@ public:\r\n     template <typename K>\r\n     void Erase(const K& key)\r\n     {\r\n+        static DataStream ssKey{};\r\n+\r\n         ssKey.reserve(DBWRAPPER_PREALLOC_KEY_SIZE);\r\n         ssKey << key;\r\n         leveldb::Slice slKey(CharCast(ssKey.data()), ssKey.size());\r\n\r\n```\r\n</details>",
      "created_at": "2023-08-03T10:49:58Z",
      "updated_at": "2023-08-03T10:49:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283023840",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283023840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283055797",
      "pull_request_review_id": 1560871235,
      "id": 1283055797,
      "node_id": "PRRC_kwDOABII585MeeC1",
      "diff_hunk": "@@ -97,6 +97,8 @@ class CDBBatch\n \n     size_t size_estimate{0};\n \n+    void WriteImpl(DataStream& ssKey, CDataStream& ssValue);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "93099c4ae6067e6d3e9a8857e72f34efdffd0039",
      "in_reply_to_id": 1280723077,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not sure about making this a static var. Now the allocations survive beyond the lifetime of the `CDBBatch` objects and I am not sure if this is entirely safe.",
      "created_at": "2023-08-03T11:20:51Z",
      "updated_at": "2023-08-03T11:20:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283055797",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283055797"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283080816",
      "pull_request_review_id": 1560909041,
      "id": 1283080816,
      "node_id": "PRRC_kwDOABII585MekJw",
      "diff_hunk": "@@ -97,6 +97,8 @@ class CDBBatch\n \n     size_t size_estimate{0};\n \n+    void WriteImpl(DataStream& ssKey, CDataStream& ssValue);",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "93099c4ae6067e6d3e9a8857e72f34efdffd0039",
      "in_reply_to_id": 1280723077,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point. Okay, let's mark as resolved.",
      "created_at": "2023-08-03T11:45:26Z",
      "updated_at": "2023-08-03T11:45:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283080816",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283080816"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283098892",
      "pull_request_review_id": 1560934462,
      "id": 1283098892,
      "node_id": "PRRC_kwDOABII585MeokM",
      "diff_hunk": "@@ -127,24 +150,90 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;\n }\n \n+struct CDBBatch::WriteBatchImpl {\n+    leveldb::WriteBatch batch;\n+};\n+\n+CDBBatch::CDBBatch(const CDBWrapper& _parent) : parent(_parent), m_impl_batch{std::make_unique<CDBBatch::WriteBatchImpl>()}, ssValue(SER_DISK, CLIENT_VERSION){};",
      "path": "src/dbwrapper.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "8c4481ed3713931247e4cedcb5733d3598050eb7",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: that's a pretty long line",
      "created_at": "2023-08-03T11:57:31Z",
      "updated_at": "2023-08-03T14:48:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283098892",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283098892"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283223804",
      "pull_request_review_id": 1561130522,
      "id": 1283223804,
      "node_id": "PRRC_kwDOABII585MfHD8",
      "diff_hunk": "@@ -127,24 +152,90 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;\n }\n \n+struct CDBBatch::WriteBatchImpl {\n+    leveldb::WriteBatch batch;\n+};\n+\n+CDBBatch::CDBBatch(const CDBWrapper& _parent) : parent(_parent), m_impl_batch{std::make_unique<CDBBatch::WriteBatchImpl>()}, ssValue(SER_DISK, CLIENT_VERSION){};\n+\n+CDBBatch::~CDBBatch() = default;\n+\n+void CDBBatch::Clear()\n+{\n+    m_impl_batch->batch.Clear();\n+    size_estimate = 0;\n+}\n+\n+void CDBBatch::WriteImpl(const Span<const std::byte>& key, CDataStream& ssValue)",
      "path": "src/dbwrapper.cpp",
      "position": null,
      "original_position": 64,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\nvoid CDBBatch::WriteImpl(Span<const std::byte> ssKey, CDataStream& ssValue)\r\n```\r\n\r\nSpan is cheap to copy, so there is no need to add `const&`. Also, it would be better to do the renames in a separate commit. (Maybe at the end for all touched lines in this pull, or not at all). Otherwise, this breaks review options such as `--color-moved=dimmed-zebra   --color-moved-ws=ignore-all-space`",
      "created_at": "2023-08-03T13:40:54Z",
      "updated_at": "2023-08-03T13:40:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283223804",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283223804"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283260447",
      "pull_request_review_id": 1560934462,
      "id": 1283260447,
      "node_id": "PRRC_kwDOABII585MfQAf",
      "diff_hunk": "",
      "path": "src/dbwrapper.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "original_commit_id": "39c5b07ab530fdc123a41598e11eafd9060f49fe",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's not immediately obvious to me why we can't stick to our usual pattern of using a `const DataStream& ssKey, CDataStream& ssValue` function signature, and instead resort to lambdas as is done here. I think the below code is much more straightforward, but perhaps I'm missing some nuance or drawbacks?\r\n\r\n<details>\r\n<summary>git diff on f26396732b940095380d76ed77685e0fb11294b8</summary>\r\n\r\n```diff\r\ndiff --git a/src/dbwrapper.cpp b/src/dbwrapper.cpp\r\nindex 1b2548f262..cb27b739fe 100644\r\n--- a/src/dbwrapper.cpp\r\n+++ b/src/dbwrapper.cpp\r\n@@ -335,11 +335,8 @@ std::vector<unsigned char> CDBWrapper::CreateObfuscateKey() const\r\n     return ret;\r\n }\r\n \r\n-bool CDBWrapper::ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const\r\n+bool CDBWrapper::ReadImpl(const DataStream& ssKey, CDataStream& ssValue) const\r\n {\r\n-    DataStream ssKey{};\r\n-    ssKey.reserve(DBWRAPPER_PREALLOC_KEY_SIZE);\r\n-    write_key_to_stream(ssKey);\r\n     leveldb::Slice slKey(CharCast(ssKey.data()), ssKey.size());\r\n \r\n     std::string strValue;\r\n@@ -351,9 +348,8 @@ bool CDBWrapper::ReadImpl(std::function<void(DataStream&)> write_key_to_stream,\r\n         HandleError(status);\r\n     }\r\n     try {\r\n-        CDataStream ssValue{MakeByteSpan(strValue), SER_DISK, CLIENT_VERSION};\r\n+        ssValue << MakeByteSpan(strValue);\r\n         ssValue.Xor(obfuscate_key);\r\n-        read_value_from_stream(ssValue);\r\n     } catch (const std::exception&) {\r\n         return false;\r\n     }\r\ndiff --git a/src/dbwrapper.h b/src/dbwrapper.h\r\nindex e48d077a80..e9536b8e7a 100644\r\n--- a/src/dbwrapper.h\r\n+++ b/src/dbwrapper.h\r\n@@ -205,7 +205,7 @@ private:\r\n     //! whether or not the database resides in memory\r\n     bool m_is_memory;\r\n \r\n-    bool ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const;\r\n+    bool ReadImpl(const DataStream& ssKey, CDataStream& ssValue) const;\r\n     bool ExistsImpl(const Span<const std::byte>& key) const;\r\n     size_t EstimateSizeImpl(const Span<const std::byte>& key1, const Span<const std::byte>& key2) const;\r\n     auto& DBContext() const { return *Assert(m_db_context); }\r\n@@ -220,9 +220,16 @@ public:\r\n     template <typename K, typename V>\r\n     bool Read(const K& key, V& value) const\r\n     {\r\n-        auto write_key_to_stream{[&key](DataStream& ssKey) { ssKey << key; }};\r\n-        auto read_value_from_stream{[&value](CDataStream& ssValue) { ssValue >> value; }};\r\n-        return ReadImpl(write_key_to_stream, read_value_from_stream);\r\n+        DataStream ssKey{};\r\n+        ssKey.reserve(DBWRAPPER_PREALLOC_KEY_SIZE);\r\n+        ssKey << key;\r\n+\r\n+        CDataStream ssValue{SER_DISK, CLIENT_VERSION};\r\n+        if(ReadImpl(ssKey, ssValue)) {\r\n+            ssValue >> value;\r\n+            return true;\r\n+        }\r\n+        return false;\r\n     }\r\n \r\n     template <typename K, typename V>\r\n\r\n```\r\n</details>",
      "created_at": "2023-08-03T14:07:04Z",
      "updated_at": "2023-08-03T14:48:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283260447",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283260447"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283280722",
      "pull_request_review_id": 1560934462,
      "id": 1283280722,
      "node_id": "PRRC_kwDOABII585MfU9S",
      "diff_hunk": "@@ -127,24 +152,90 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;\n }\n \n+struct CDBBatch::WriteBatchImpl {\n+    leveldb::WriteBatch batch;\n+};\n+\n+CDBBatch::CDBBatch(const CDBWrapper& _parent) : parent(_parent), m_impl_batch{std::make_unique<CDBBatch::WriteBatchImpl>()}, ssValue(SER_DISK, CLIENT_VERSION){};\n+\n+CDBBatch::~CDBBatch() = default;\n+\n+void CDBBatch::Clear()\n+{\n+    m_impl_batch->batch.Clear();\n+    size_estimate = 0;\n+}\n+\n+void CDBBatch::WriteImpl(const Span<const std::byte>& key, CDataStream& ssValue)\n+{\n+    leveldb::Slice slKey(CharCast(key.data()), key.size());\n+    ssValue.Xor(dbwrapper_private::GetObfuscateKey(parent));\n+    leveldb::Slice slValue(CharCast(ssValue.data()), ssValue.size());\n+    m_impl_batch->batch.Put(slKey, slValue);\n+    // LevelDB serializes writes as:\n+    // - byte: header\n+    // - varint: key length (1 byte up to 127B, 2 bytes up to 16383B, ...)\n+    // - byte[]: key\n+    // - varint: value length\n+    // - byte[]: value\n+    // The formula below assumes the key and value are both less than 16k.\n+    size_estimate += 3 + (slKey.size() > 127) + slKey.size() + (slValue.size() > 127) + slValue.size();\n+}\n+\n+void CDBBatch::EraseImpl(const Span<const std::byte>& key)\n+{\n+    leveldb::Slice slKey(CharCast(key.data()), key.size());\n+    m_impl_batch->batch.Delete(slKey);\n+    // LevelDB serializes erases as:\n+    // - byte: header\n+    // - varint: key length\n+    // - byte[]: key\n+    // The formula below assumes the key is less than 16kB.\n+    size_estimate += 2 + (slKey.size() > 127) + slKey.size();\n+}\n+\n+struct LevelDBContext {\n+    //! custom environment this database is using (may be nullptr in case of default environment)\n+    leveldb::Env* penv;\n+\n+    //! database options used\n+    leveldb::Options options;\n+\n+    //! options used when reading from the database\n+    leveldb::ReadOptions readoptions;\n+\n+    //! options used when iterating over values of the database\n+    leveldb::ReadOptions iteroptions;\n+\n+    //! options used when writing to the database\n+    leveldb::WriteOptions writeoptions;\n+\n+    //! options used when sync writing to the database\n+    leveldb::WriteOptions syncoptions;\n+\n+    //! the database itself\n+    leveldb::DB* pdb;\n+};\n+\n CDBWrapper::CDBWrapper(const DBParams& params)\n-    : m_name{fs::PathToString(params.path.stem())}, m_path{params.path}, m_is_memory{params.memory_only}\n+    : m_db_context{std::make_unique<LevelDBContext>()}, m_name{fs::PathToString(params.path.stem())}, m_path{params.path}, m_is_memory{params.memory_only}",
      "path": "src/dbwrapper.cpp",
      "position": 119,
      "original_position": 117,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: pretty long line",
      "created_at": "2023-08-03T14:21:50Z",
      "updated_at": "2023-08-03T14:48:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283280722",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283280722"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 223,
      "original_line": 223,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283281451",
      "pull_request_review_id": 1560934462,
      "id": 1283281451,
      "node_id": "PRRC_kwDOABII585MfVIr",
      "diff_hunk": "@@ -127,24 +152,90 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;\n }\n \n+struct CDBBatch::WriteBatchImpl {\n+    leveldb::WriteBatch batch;\n+};\n+\n+CDBBatch::CDBBatch(const CDBWrapper& _parent) : parent(_parent), m_impl_batch{std::make_unique<CDBBatch::WriteBatchImpl>()}, ssValue(SER_DISK, CLIENT_VERSION){};\n+\n+CDBBatch::~CDBBatch() = default;\n+\n+void CDBBatch::Clear()\n+{\n+    m_impl_batch->batch.Clear();\n+    size_estimate = 0;\n+}\n+\n+void CDBBatch::WriteImpl(const Span<const std::byte>& key, CDataStream& ssValue)\n+{\n+    leveldb::Slice slKey(CharCast(key.data()), key.size());\n+    ssValue.Xor(dbwrapper_private::GetObfuscateKey(parent));\n+    leveldb::Slice slValue(CharCast(ssValue.data()), ssValue.size());\n+    m_impl_batch->batch.Put(slKey, slValue);\n+    // LevelDB serializes writes as:\n+    // - byte: header\n+    // - varint: key length (1 byte up to 127B, 2 bytes up to 16383B, ...)\n+    // - byte[]: key\n+    // - varint: value length\n+    // - byte[]: value\n+    // The formula below assumes the key and value are both less than 16k.\n+    size_estimate += 3 + (slKey.size() > 127) + slKey.size() + (slValue.size() > 127) + slValue.size();\n+}\n+\n+void CDBBatch::EraseImpl(const Span<const std::byte>& key)\n+{\n+    leveldb::Slice slKey(CharCast(key.data()), key.size());\n+    m_impl_batch->batch.Delete(slKey);\n+    // LevelDB serializes erases as:\n+    // - byte: header\n+    // - varint: key length\n+    // - byte[]: key\n+    // The formula below assumes the key is less than 16kB.\n+    size_estimate += 2 + (slKey.size() > 127) + slKey.size();\n+}\n+\n+struct LevelDBContext {\n+    //! custom environment this database is using (may be nullptr in case of default environment)\n+    leveldb::Env* penv;\n+\n+    //! database options used\n+    leveldb::Options options;\n+\n+    //! options used when reading from the database\n+    leveldb::ReadOptions readoptions;\n+\n+    //! options used when iterating over values of the database\n+    leveldb::ReadOptions iteroptions;\n+\n+    //! options used when writing to the database\n+    leveldb::WriteOptions writeoptions;\n+\n+    //! options used when sync writing to the database\n+    leveldb::WriteOptions syncoptions;\n+\n+    //! the database itself\n+    leveldb::DB* pdb;\n+};\n+\n CDBWrapper::CDBWrapper(const DBParams& params)\n-    : m_name{fs::PathToString(params.path.stem())}, m_path{params.path}, m_is_memory{params.memory_only}\n+    : m_db_context{std::make_unique<LevelDBContext>()}, m_name{fs::PathToString(params.path.stem())}, m_path{params.path}, m_is_memory{params.memory_only}\n {\n-    penv = nullptr;\n-    readoptions.verify_checksums = true;\n-    iteroptions.verify_checksums = true;\n-    iteroptions.fill_cache = false;\n-    syncoptions.sync = true;\n-    options = GetOptions(params.cache_bytes);\n-    options.create_if_missing = true;\n+    m_db_context = std::make_unique<LevelDBContext>();",
      "path": "src/dbwrapper.cpp",
      "position": null,
      "original_position": 126,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this needs to be removed?",
      "created_at": "2023-08-03T14:22:21Z",
      "updated_at": "2023-08-03T14:48:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283281451",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283281451"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 223,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283286314",
      "pull_request_review_id": 1560934462,
      "id": 1283286314,
      "node_id": "PRRC_kwDOABII585MfWUq",
      "diff_hunk": "@@ -254,6 +205,11 @@ class CDBWrapper\n     //! whether or not the database resides in memory\n     bool m_is_memory;\n \n+    bool ReadImpl(std::function<void(DataStream&)> write_key_to_stream, std::function<void(CDataStream&)> read_value_from_stream) const;\n+    bool ExistsImpl(const Span<const std::byte>& key) const;\n+    size_t EstimateSizeImpl(const Span<const std::byte>& key1, const Span<const std::byte>& key2) const;\n+    auto& DBContext() const { return *Assert(m_db_context); }",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 244,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think this needs a `LIFETIMEBOUND`.\r\n\r\nAlso: suggested alternative name `DBContextRef()` to highlight that the return value can mutate our `CDBWrapper` state? No strong view on it though, happy with the current one too, just a suggestion.",
      "created_at": "2023-08-03T14:25:42Z",
      "updated_at": "2023-08-03T14:48:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283286314",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283286314"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283298874",
      "pull_request_review_id": 1560934462,
      "id": 1283298874,
      "node_id": "PRRC_kwDOABII585MfZY6",
      "diff_hunk": "@@ -127,24 +152,90 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;\n }\n \n+struct CDBBatch::WriteBatchImpl {\n+    leveldb::WriteBatch batch;\n+};\n+\n+CDBBatch::CDBBatch(const CDBWrapper& _parent) : parent(_parent), m_impl_batch{std::make_unique<CDBBatch::WriteBatchImpl>()}, ssValue(SER_DISK, CLIENT_VERSION){};\n+\n+CDBBatch::~CDBBatch() = default;\n+\n+void CDBBatch::Clear()\n+{\n+    m_impl_batch->batch.Clear();\n+    size_estimate = 0;\n+}\n+\n+void CDBBatch::WriteImpl(const Span<const std::byte>& key, CDataStream& ssValue)\n+{\n+    leveldb::Slice slKey(CharCast(key.data()), key.size());\n+    ssValue.Xor(dbwrapper_private::GetObfuscateKey(parent));\n+    leveldb::Slice slValue(CharCast(ssValue.data()), ssValue.size());\n+    m_impl_batch->batch.Put(slKey, slValue);\n+    // LevelDB serializes writes as:\n+    // - byte: header\n+    // - varint: key length (1 byte up to 127B, 2 bytes up to 16383B, ...)\n+    // - byte[]: key\n+    // - varint: value length\n+    // - byte[]: value\n+    // The formula below assumes the key and value are both less than 16k.\n+    size_estimate += 3 + (slKey.size() > 127) + slKey.size() + (slValue.size() > 127) + slValue.size();\n+}\n+\n+void CDBBatch::EraseImpl(const Span<const std::byte>& key)\n+{\n+    leveldb::Slice slKey(CharCast(key.data()), key.size());\n+    m_impl_batch->batch.Delete(slKey);\n+    // LevelDB serializes erases as:\n+    // - byte: header\n+    // - varint: key length\n+    // - byte[]: key\n+    // The formula below assumes the key is less than 16kB.\n+    size_estimate += 2 + (slKey.size() > 127) + slKey.size();\n+}\n+\n+struct LevelDBContext {\n+    //! custom environment this database is using (may be nullptr in case of default environment)\n+    leveldb::Env* penv;\n+\n+    //! database options used\n+    leveldb::Options options;\n+\n+    //! options used when reading from the database\n+    leveldb::ReadOptions readoptions;\n+\n+    //! options used when iterating over values of the database\n+    leveldb::ReadOptions iteroptions;\n+\n+    //! options used when writing to the database\n+    leveldb::WriteOptions writeoptions;\n+\n+    //! options used when sync writing to the database\n+    leveldb::WriteOptions syncoptions;\n+\n+    //! the database itself\n+    leveldb::DB* pdb;\n+};\n+\n CDBWrapper::CDBWrapper(const DBParams& params)\n-    : m_name{fs::PathToString(params.path.stem())}, m_path{params.path}, m_is_memory{params.memory_only}\n+    : m_db_context{std::make_unique<LevelDBContext>()}, m_name{fs::PathToString(params.path.stem())}, m_path{params.path}, m_is_memory{params.memory_only}\n {\n-    penv = nullptr;\n-    readoptions.verify_checksums = true;\n-    iteroptions.verify_checksums = true;\n-    iteroptions.fill_cache = false;\n-    syncoptions.sync = true;\n-    options = GetOptions(params.cache_bytes);\n-    options.create_if_missing = true;\n+    m_db_context = std::make_unique<LevelDBContext>();\n+    DBContext().penv = nullptr;",
      "path": "src/dbwrapper.cpp",
      "position": 128,
      "original_position": 127,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Would this be an improvement, to highlight the reference nature of `db_context`, as well as I think generally it's slightly cleaner to not call `DBContext()` every time (I know it's a very cheap call)? Not sure though, would be a lot of change, happy to keep as is.\r\n\r\n```suggestion\r\n    auto& db_context{DBContext()};\r\n    db_context.penv = nullptr;\r\n```",
      "created_at": "2023-08-03T14:33:53Z",
      "updated_at": "2023-08-03T14:50:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283298874",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283298874"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 225,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283315877",
      "pull_request_review_id": 1560934462,
      "id": 1283315877,
      "node_id": "PRRC_kwDOABII585Mfdil",
      "diff_hunk": "@@ -185,16 +276,16 @@ CDBWrapper::CDBWrapper(const DBParams& params)\n \n CDBWrapper::~CDBWrapper()\n {\n-    delete pdb;\n-    pdb = nullptr;\n-    delete options.filter_policy;\n-    options.filter_policy = nullptr;\n-    delete options.info_log;\n-    options.info_log = nullptr;\n-    delete options.block_cache;\n-    options.block_cache = nullptr;\n-    delete penv;\n-    options.env = nullptr;\n+    delete DBContext().pdb;\n+    DBContext().pdb = nullptr;\n+    delete DBContext().options.filter_policy;\n+    DBContext().options.filter_policy = nullptr;\n+    delete DBContext().options.info_log;\n+    DBContext().options.info_log = nullptr;\n+    delete DBContext().options.block_cache;\n+    DBContext().options.block_cache = nullptr;\n+    delete DBContext().penv;\n+    DBContext().options.env = nullptr;",
      "path": "src/dbwrapper.cpp",
      "position": 190,
      "original_position": 189,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "3fb2dac2ce78092c1006ee082c536bea1b69a152",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: would it make sense to move this to the `LevelDBContext` destructor?",
      "created_at": "2023-08-03T14:46:00Z",
      "updated_at": "2023-08-03T14:48:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283315877",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283315877"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": 280,
      "original_start_line": 279,
      "start_side": "RIGHT",
      "line": 289,
      "original_line": 289,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283434519",
      "pull_request_review_id": 1561449777,
      "id": 1283434519,
      "node_id": "PRRC_kwDOABII585Mf6gX",
      "diff_hunk": "",
      "path": "src/dbwrapper.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "original_commit_id": "39c5b07ab530fdc123a41598e11eafd9060f49fe",
      "in_reply_to_id": 1283260447,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I originally did this to keep the stream reading within the try catch block, while changing as few lines in the implementation as possible. We could just return the string value though in the `ReadImpl` and then complete the data reading in the `Read` function.",
      "created_at": "2023-08-03T16:18:06Z",
      "updated_at": "2023-08-03T16:18:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283434519",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283434519"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283455714",
      "pull_request_review_id": 1561479929,
      "id": 1283455714,
      "node_id": "PRRC_kwDOABII585Mf_ri",
      "diff_hunk": "",
      "path": "src/dbwrapper.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "f26396732b940095380d76ed77685e0fb11294b8",
      "original_commit_id": "39c5b07ab530fdc123a41598e11eafd9060f49fe",
      "in_reply_to_id": 1283260447,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I generally like your approach of keeping it as clean a move as possible, and in the other commits am okay with foregoing some slight improvements because of that. Here, though, I feel like we're making both the interface and implementation way too complex because of it, so personally I'd much rather make some more changes.",
      "created_at": "2023-08-03T16:36:54Z",
      "updated_at": "2023-08-03T16:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1283455714",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283455714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284419848",
      "pull_request_review_id": 1562868143,
      "id": 1284419848,
      "node_id": "PRRC_kwDOABII585MjrEI",
      "diff_hunk": "@@ -209,30 +177,13 @@ class CDBIterator\n     }\n };\n \n+struct LevelDBContext;\n+\n class CDBWrapper\n {\n     friend const std::vector<unsigned char>& dbwrapper_private::GetObfuscateKey(const CDBWrapper &w);\n private:\n-    //! custom environment this database is using (may be nullptr in case of default environment)\n-    leveldb::Env* penv;\n-\n-    //! database options used\n-    leveldb::Options options;\n-\n-    //! options used when reading from the database\n-    leveldb::ReadOptions readoptions;\n-\n-    //! options used when iterating over values of the database\n-    leveldb::ReadOptions iteroptions;\n-\n-    //! options used when writing to the database\n-    leveldb::WriteOptions writeoptions;\n-\n-    //! options used when sync writing to the database\n-    leveldb::WriteOptions syncoptions;\n-\n-    //! the database itself\n-    leveldb::DB* pdb;\n+    std::unique_ptr<LevelDBContext> m_db_context;",
      "path": "src/dbwrapper.h",
      "position": 235,
      "original_position": 233,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "3fb2dac2ce78092c1006ee082c536bea1b69a152",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: missing docstring",
      "created_at": "2023-08-04T13:23:40Z",
      "updated_at": "2023-08-04T13:54:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1284419848",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284419848"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 187,
      "original_line": 187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284999471",
      "pull_request_review_id": 1563822941,
      "id": 1284999471,
      "node_id": "PRRC_kwDOABII585Ml4kv",
      "diff_hunk": "@@ -185,16 +276,16 @@ CDBWrapper::CDBWrapper(const DBParams& params)\n \n CDBWrapper::~CDBWrapper()\n {\n-    delete pdb;\n-    pdb = nullptr;\n-    delete options.filter_policy;\n-    options.filter_policy = nullptr;\n-    delete options.info_log;\n-    options.info_log = nullptr;\n-    delete options.block_cache;\n-    options.block_cache = nullptr;\n-    delete penv;\n-    options.env = nullptr;\n+    delete DBContext().pdb;\n+    DBContext().pdb = nullptr;\n+    delete DBContext().options.filter_policy;\n+    DBContext().options.filter_policy = nullptr;\n+    delete DBContext().options.info_log;\n+    DBContext().options.info_log = nullptr;\n+    delete DBContext().options.block_cache;\n+    DBContext().options.block_cache = nullptr;\n+    delete DBContext().penv;\n+    DBContext().options.env = nullptr;",
      "path": "src/dbwrapper.cpp",
      "position": 190,
      "original_position": 189,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "3fb2dac2ce78092c1006ee082c536bea1b69a152",
      "in_reply_to_id": 1283315877,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It would, but then we'd also have to forward-declare a destructor class for it and I don't think it's really worth doing that.",
      "created_at": "2023-08-05T08:19:48Z",
      "updated_at": "2023-08-05T08:19:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1284999471",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284999471"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": 280,
      "original_start_line": 279,
      "start_side": "RIGHT",
      "line": 289,
      "original_line": 289,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285714365",
      "pull_request_review_id": 1565082131,
      "id": 1285714365,
      "node_id": "PRRC_kwDOABII585MonG9",
      "diff_hunk": "@@ -5,28 +5,22 @@\n #ifndef BITCOIN_DBWRAPPER_H\n #define BITCOIN_DBWRAPPER_H\n \n+#include <attributes.h>\n #include <clientversion.h>\n-#include <logging.h>\n #include <serialize.h>\n #include <span.h>\n #include <streams.h>\n+#include <util/check.h>\n #include <util/fs.h>\n \n #include <cstddef>\n-#include <cstdint>\n #include <exception>\n-#include <leveldb/db.h>\n-#include <leveldb/iterator.h>\n-#include <leveldb/options.h>\n-#include <leveldb/slice.h>\n-#include <leveldb/status.h>\n-#include <leveldb/write_batch.h>\n+#include <functional>",
      "path": "src/dbwrapper.h",
      "position": null,
      "original_position": 22,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "1be04724a3ac061859118c09b90e2e15ea8d04b0",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: No longer needed, I think? (in 9a63566be5445e7026517f38f10ed760a90dbe2f)",
      "created_at": "2023-08-07T11:00:39Z",
      "updated_at": "2023-08-07T11:05:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1285714365",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285714365"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285881301",
      "pull_request_review_id": 1565353682,
      "id": 1285881301,
      "node_id": "PRRC_kwDOABII585MpP3V",
      "diff_hunk": "@@ -185,16 +276,16 @@ CDBWrapper::CDBWrapper(const DBParams& params)\n \n CDBWrapper::~CDBWrapper()\n {\n-    delete pdb;\n-    pdb = nullptr;\n-    delete options.filter_policy;\n-    options.filter_policy = nullptr;\n-    delete options.info_log;\n-    options.info_log = nullptr;\n-    delete options.block_cache;\n-    options.block_cache = nullptr;\n-    delete penv;\n-    options.env = nullptr;\n+    delete DBContext().pdb;\n+    DBContext().pdb = nullptr;\n+    delete DBContext().options.filter_policy;\n+    DBContext().options.filter_policy = nullptr;\n+    delete DBContext().options.info_log;\n+    DBContext().options.info_log = nullptr;\n+    delete DBContext().options.block_cache;\n+    DBContext().options.block_cache = nullptr;\n+    delete DBContext().penv;\n+    DBContext().options.env = nullptr;",
      "path": "src/dbwrapper.cpp",
      "position": 190,
      "original_position": 189,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "3fb2dac2ce78092c1006ee082c536bea1b69a152",
      "in_reply_to_id": 1283315877,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fair enough. Can easily improve later if/when necessary.",
      "created_at": "2023-08-07T13:38:25Z",
      "updated_at": "2023-08-07T13:38:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1285881301",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285881301"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": 280,
      "original_start_line": 279,
      "start_side": "RIGHT",
      "line": 289,
      "original_line": 289,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286025216",
      "pull_request_review_id": 1565583066,
      "id": 1286025216,
      "node_id": "PRRC_kwDOABII585MpzAA",
      "diff_hunk": "@@ -136,12 +138,28 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;\n }\n \n+struct CDBBatch::WriteBatchImpl {\n+    leveldb::WriteBatch batch;\n+};\n+\n+CDBBatch::CDBBatch(const CDBWrapper& _parent) : parent(_parent),\n+                                                m_impl_batch{std::make_unique<CDBBatch::WriteBatchImpl>()},\n+                                                ssValue(SER_DISK, CLIENT_VERSION){};",
      "path": "src/dbwrapper.cpp",
      "position": 56,
      "original_position": 21,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "ea8135de7e617259cda3fc7b1c8e7569d454fd57",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "style nit in ea8135de7e617259cda3fc7b1c8e7569d454fd57: May be better to add a newline before `:` to reduce the leading whitespace bloating block.",
      "created_at": "2023-08-07T15:13:23Z",
      "updated_at": "2023-08-07T15:24:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1286025216",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286025216"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": 159,
      "original_start_line": 145,
      "start_side": "RIGHT",
      "line": 161,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286038136",
      "pull_request_review_id": 1565583066,
      "id": 1286038136,
      "node_id": "PRRC_kwDOABII585Mp2J4",
      "diff_hunk": "@@ -365,11 +388,12 @@ struct CDBIterator::IteratorImpl {\n     explicit IteratorImpl(leveldb::Iterator* _iter) : iter{_iter} {}\n };\n \n-CDBIterator::CDBIterator(const CDBWrapper& _parent, std::unique_ptr<IteratorImpl> _piter) : parent(_parent), m_impl_iter(std::move(_piter)) {}\n+CDBIterator::CDBIterator(const CDBWrapper& _parent, std::unique_ptr<IteratorImpl> _piter) : parent(_parent),\n+                                                                                            m_impl_iter(std::move(_piter)) {}",
      "path": "src/dbwrapper.cpp",
      "position": 277,
      "original_position": 152,
      "commit_id": "d8f1222ac50f089a0af29eaf8ce0555bad8366ef",
      "original_commit_id": "c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "c95b37d641b1eed4a62d55ca5342a6ed8c7a1ce7: same",
      "created_at": "2023-08-07T15:24:31Z",
      "updated_at": "2023-08-07T15:24:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28186#discussion_r1286038136",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286038136"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28186"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 392,
      "original_line": 392,
      "side": "RIGHT"
    }
  ]
}