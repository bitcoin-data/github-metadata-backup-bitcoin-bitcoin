{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469",
    "id": 1973406255,
    "node_id": "PR_kwDOABII5851n8ov",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30469",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30469.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30469.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/c76797481155754329ec6a6f58e8402569043944",
    "number": 30469,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "index: Fix coinstats overflow",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Closes https://github.com/bitcoin/bitcoin/issues/26362\r\n\r\nThis continues the work that was started with #26426. It fixes the overflow issue by switching most of the values tracked in the index from historical totals to values per block. The only effect of this is that it requires iterating over all the entries to get to these historical values, however nothing changes for the capabilities of the RPCs we have today because the switched values were always report per block and the totals were used in concepts like #19792.\r\n\r\nThe current approach opts for a simple solution: The new version of the index goes into a separate location in the datadir (`index/coinstatsindex/` rather than `index/coinstats/` before, the new naming is more consistent with the naming of the other indexes). There is no explicit concept of versioning of the index which earlier versions of this PR had. Having the two different versions of the index in separate places allows for downgrading of the node without having to rebuild the index. However, there will be a warning printed in the logs if the new code (v30) detects the old index still being present. Beyond v31 the old index will be automatically deleted.",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/72",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72/labels",
      "id": 12172984,
      "node_id": "MI_kwDOABII584Aub64",
      "number": 72,
      "state": "open",
      "title": "30.0",
      "description": "",
      "creator": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "open_issues": 11,
      "closed_issues": 83,
      "created_at": "2025-01-15T19:21:36Z",
      "updated_at": "2025-09-08T12:42:00Z"
    },
    "created_at": "2024-07-17T10:46:19Z",
    "updated_at": "2025-09-08T12:56:32Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "71c459111e23675529f3e15c0c01d1e16f1f52d0",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "fjahr:2024-07-csi-overflow-2",
      "ref": "2024-07-csi-overflow-2",
      "sha": "c76797481155754329ec6a6f58e8402569043944",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 196253948,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTYyNTM5NDg=",
        "name": "bitcoin",
        "full_name": "fjahr/bitcoin",
        "owner": {
          "login": "fjahr",
          "id": 1322187,
          "node_id": "MDQ6VXNlcjEzMjIxODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fjahr",
          "html_url": "https://github.com/fjahr",
          "followers_url": "https://api.github.com/users/fjahr/followers",
          "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
          "organizations_url": "https://api.github.com/users/fjahr/orgs",
          "repos_url": "https://api.github.com/users/fjahr/repos",
          "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/fjahr/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/fjahr/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/fjahr/bitcoin",
        "archive_url": "https://api.github.com/repos/fjahr/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/fjahr/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/fjahr/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/fjahr/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/fjahr/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/fjahr/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/fjahr/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/fjahr/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/fjahr/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/fjahr/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/fjahr/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/fjahr/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/fjahr/bitcoin/events",
        "forks_url": "https://api.github.com/repos/fjahr/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/fjahr/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/fjahr/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/fjahr/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/fjahr/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/fjahr/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/fjahr/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/fjahr/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/fjahr/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/fjahr/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/fjahr/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/fjahr/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/fjahr/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/fjahr/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/fjahr/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/fjahr/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:fjahr/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/fjahr/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/fjahr/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/fjahr/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/fjahr/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/fjahr/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/fjahr/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/fjahr/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/fjahr/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/fjahr/bitcoin/hooks",
        "svn_url": "https://github.com/fjahr/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 277416,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-09-08T11:31:08Z",
        "created_at": "2019-07-10T18:11:06Z",
        "updated_at": "2024-07-23T22:14:45Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "36e40417de3fcaa776fb7bb8ebf3a23db4266572",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37751,
        "stargazers_count": 85393,
        "watchers_count": 85393,
        "size": 292073,
        "default_branch": "master",
        "open_issues_count": 779,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-09-08T12:41:58Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-09-08T12:42:05Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 200,
    "deletions": 126,
    "changed_files": 10,
    "commits": 9,
    "review_comments": 48,
    "comments": 31
  },
  "events": [
    {
      "event": "commented",
      "id": 2233005541,
      "node_id": "IC_kwDOABII586FGPXl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2233005541",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-17T10:46:22Z",
      "updated_at": "2025-09-07T15:41:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/30469.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3137273070) |\n| Approach ACK | [ajtowns](https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3167118313) |\n| Stale ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2938363032), [achow101](https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3225666624) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33306](https://github.com/bitcoin/bitcoin/pull/33306) (index: Force database compaction in coinstatsindex by fjahr)\n* [#32997](https://github.com/bitcoin/bitcoin/pull/32997) (index: Deduplicate HashKey / HeightKey handling by mzumsande)\n* [#32541](https://github.com/bitcoin/bitcoin/pull/32541) (index: store per-block transaction locations for efficient lookups by romanz)\n* [#31308](https://github.com/bitcoin/bitcoin/pull/31308) (ci, iwyu: Treat warnings as errors for specific directories by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\nPossible typos and grammar issues:\n\n- // These per-block values should fit uint64 under normal circumstances -> uint64_t / fit in a uint64_t [missing word \"in\" and use of the standard type name; makes the comment slightly unclear about the intended type]\n\n\n<sup>drahtbot_id_5_m</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2233005541",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "labeled",
      "id": 13534691654,
      "node_id": "LE_lADOABII586P16NYzwAAAAMmuwFG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13534691654",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-17T10:46:24Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "labeled",
      "id": 13537231807,
      "node_id": "LE_lADOABII586P16NYzwAAAAMm4cO_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13537231807",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-17T13:56:14Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13617762514,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAMrrpDS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13617762514",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "14c68eb653d7e1ca3291b94074cf403ffdb2207e",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/14c68eb653d7e1ca3291b94074cf403ffdb2207e",
      "created_at": "2024-07-23T15:32:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13618545747,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAMruoRT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13618545747",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "73dd2c3acae58b8c9882dc7084fba0fd9f293c7b",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/73dd2c3acae58b8c9882dc7084fba0fd9f293c7b",
      "created_at": "2024-07-23T16:34:42Z"
    },
    {
      "event": "reviewed",
      "id": 2194705197,
      "node_id": "PRR_kwDOABII586C0Ist",
      "url": null,
      "actor": null,
      "commit_id": "73dd2c3acae58b8c9882dc7084fba0fd9f293c7b",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2024-07-23T18:07:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nHaven't tested anything yet, but did you check what happens in case of a downgrade? (an index generated with this PR is loaded with master)",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2194705197",
      "submitted_at": "2024-07-23T18:07:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "unlabeled",
      "id": 13622775341,
      "node_id": "UNLE_lADOABII586P16NYzwAAAAMr-w4t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13622775341",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-23T23:46:45Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2197320864,
      "node_id": "PRR_kwDOABII586C-HSg",
      "url": null,
      "actor": null,
      "commit_id": "73dd2c3acae58b8c9882dc7084fba0fd9f293c7b",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2024-07-24T17:09:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Since rebuilding the coinstatsindex takes a long time and it's not corrupted (yet) on mainnet I thought that auto-migrating to the new format instead of making the user reindex might be more user-friendly:\r\nI tried that out in https://github.com/mzumsande/bitcoin/commits/202407_coinstats_v1_automigrate/  (just an untested POC -  also doesn't process any blocks saved by hash instead of height yet, but that should be possible to add.)\r\nWhat do you think of that option?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2197320864",
      "submitted_at": "2024-07-24T17:09:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "labeled",
      "id": 14173247418,
      "node_id": "LE_lADOABII586P16NYzwAAAANMype6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14173247418",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-08T05:02:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 14255835725,
      "node_id": "UNLE_lADOABII586P16NYzwAAAANRtspN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14255835725",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-14T00:36:25Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 14620284758,
      "node_id": "LE_lADOABII586P16NYzwAAAANnb9dW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14620284758",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-13T18:21:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "review_requested",
      "id": 14659584330,
      "node_id": "RRE_lADOABII586P16NYzwAAAANpx4FK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14659584330",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T15:13:43Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "unlabeled",
      "id": 14729291157,
      "node_id": "UNLE_lADOABII586P16NYzwAAAANt7yWV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14729291157",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-19T05:26:33Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 16795427999,
      "node_id": "LE_lADOABII586P16NYzwAAAAPpFeSf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16795427999",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-17T06:31:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17048963566,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAP4Monu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17048963566",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "31dab6b94d90f8b89faf19ca97976a31597101e7",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/31dab6b94d90f8b89faf19ca97976a31597101e7",
      "created_at": "2025-03-30T20:48:56Z"
    },
    {
      "event": "commented",
      "id": 2764743201,
      "node_id": "IC_kwDOABII586kyqIh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2764743201",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T20:59:33Z",
      "updated_at": "2025-03-30T20:59:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Picking this up again after this has gone a bit quiet for a while. After having a brief conversation about it with @mzumsande at CoreDev I took another look at his migration idea. Initially I was a bit undecided honestly but I now think that it's reasonable to try this and I would like to open this up for additional approach feedback from other reviewers. Aside from a rebase this has now cherry-picked @mzumsande 's draft commit with minor changes by me and I adapted the tests to check the new behavior is a separate commit. Test-each-commit CI will probably fail right now but I plan to make a clean history once I have some additional feedback that including the migration is the way to go.\r\n\r\nI have also tested the migration behavior on Signet again and it looks good to me.\r\n\r\n```\r\n2025-03-30T18:08:00Z Opened LevelDB successfully\r\n2025-03-30T18:08:00Z Using obfuscation key for /Users/FJ/Library/Application Support/Bitcoin/signet/indexes/coinstats/db: 0000000000000000\r\n2025-03-30T18:08:00Z Migrating coinstatsindex to new format (v1). This might take a few minutes.\r\n2025-03-30T18:08:00Z Migrating block at height 240000\r\n2025-03-30T18:08:00Z Migrating block at height 230000\r\n2025-03-30T18:08:00Z Migrating block at height 220000\r\n2025-03-30T18:08:00Z Migrating block at height 210000\r\n2025-03-30T18:08:00Z Migrating block at height 200000\r\n2025-03-30T18:08:00Z Migrating block at height 190000\r\n2025-03-30T18:08:00Z Migrating block at height 180000\r\n2025-03-30T18:08:00Z Migrating block at height 170000\r\n2025-03-30T18:08:00Z Migrating block at height 160000\r\n2025-03-30T18:08:00Z Migrating block at height 150000\r\n2025-03-30T18:08:00Z Migrating block at height 140000\r\n2025-03-30T18:08:00Z Migrating block at height 130000\r\n2025-03-30T18:08:00Z Migrating block at height 120000\r\n2025-03-30T18:08:00Z [error] Coinstatsindex is corrupted at height 112516\r\n2025-03-30T18:08:00Z [error] coinstatsindex migration: Error while migrating to v1. In order to rebuild the index, remove the indexes/coinstats directory in your datadir\r\n```",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2764743201",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 17048988064,
      "node_id": "MEE_lADOABII586P16NYzwAAAAP4Mumg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17048988064",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T20:59:35Z"
    },
    {
      "event": "subscribed",
      "id": 17048988069,
      "node_id": "SE_lADOABII586P16NYzwAAAAP4Muml",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17048988069",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T20:59:35Z"
    },
    {
      "event": "unlabeled",
      "id": 17049096587,
      "node_id": "UNLE_lADOABII586P16NYzwAAAAP4NJGL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17049096587",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T21:50:03Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17397253033,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQM9QOp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17397253033",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "53af99dea468f39b0e04c33912e1b5e255ef544c",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/53af99dea468f39b0e04c33912e1b5e255ef544c",
      "created_at": "2025-04-24T21:01:40Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17409079116,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQNqXdM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17409079116",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a5813613e93e88a627a172af8c0a271300822e90",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/a5813613e93e88a627a172af8c0a271300822e90",
      "created_at": "2025-04-25T16:20:05Z"
    },
    {
      "event": "commented",
      "id": 2831451724,
      "node_id": "IC_kwDOABII586oxIZM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2831451724",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-25T21:20:30Z",
      "updated_at": "2025-04-25T21:20:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "Needed to reorg the commits a bit to get the test-every-commit CI to pass",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2831451724",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "commented",
      "id": 2831459829,
      "node_id": "IC_kwDOABII586oxKX1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2831459829",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-25T21:26:22Z",
      "updated_at": "2025-04-25T21:26:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "I guess this could use a bug label too if someone with permission can get around to that :)",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2831459829",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "milestoned",
      "id": 17412772109,
      "node_id": "MIE_lADOABII586P16NYzwAAAAQN4dEN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17412772109",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-25T22:18:58Z",
      "milestone": {
        "title": "30.0"
      }
    },
    {
      "event": "labeled",
      "id": 17603431569,
      "node_id": "LE_lADOABII586P16NYzwAAAAQZPwyR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17603431569",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-10T20:42:48Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2895744563,
      "node_id": "IC_kwDOABII586smY4z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2895744563",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T20:25:00Z",
      "updated_at": "2025-05-20T20:25:00Z",
      "author_association": "MEMBER",
      "body": "Looks like CI failed",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2895744563",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17762164023,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQitR03",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17762164023",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/73571b9c196626f56ad459267cac5149f255aa3c",
      "created_at": "2025-05-21T23:03:07Z"
    },
    {
      "event": "unlabeled",
      "id": 17763727467,
      "node_id": "UNLE_lADOABII586P16NYzwAAAAQizPhr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17763727467",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T02:31:09Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2901105674,
      "node_id": "IC_kwDOABII586s61wK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2901105674",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T12:47:16Z",
      "updated_at": "2025-05-22T12:47:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Looks like CI failed\r\n\r\nThanks, I had missed that. Seems to have been a silent merge conflict. Kind of weird that only one environment failed but I have come up with an easier way to produce the corrupted db failure case and added some documentation on that as well.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2901105674",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "commented",
      "id": 2901167688,
      "node_id": "IC_kwDOABII586s7E5I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2901167688",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T13:07:05Z",
      "updated_at": "2025-05-22T13:07:05Z",
      "author_association": "MEMBER",
      "body": "> Kind of weird that only one environment failed\r\n\r\nThere are not enough CI resources to re-run every task on every pull request every few days. The CI resources would have to be ~doubled for that. For now, only the lint and previous-releases task are re-run.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2901167688",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "commented",
      "id": 2901197602,
      "node_id": "IC_kwDOABII586s7MMi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2901197602",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T13:17:08Z",
      "updated_at": "2025-05-22T13:17:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > Kind of weird that only one environment failed\r\n> \r\n> There are not enough CI resources to re-run every task on every pull request every few days. The CI resources would have to be ~doubled for that. For now, only the lint and previous-releases task are re-run.\r\n\r\nGood to know, thanks!",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2901197602",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "unsubscribed",
      "id": 17795020445,
      "node_id": "UE_lADOABII586P16NYzwAAAAQkqnad",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17795020445",
      "actor": {
        "login": "deehochberg",
        "id": 185879065,
        "node_id": "U_kgDOCxRKGQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/185879065?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deehochberg",
        "html_url": "https://github.com/deehochberg",
        "followers_url": "https://api.github.com/users/deehochberg/followers",
        "following_url": "https://api.github.com/users/deehochberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deehochberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deehochberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deehochberg/subscriptions",
        "organizations_url": "https://api.github.com/users/deehochberg/orgs",
        "repos_url": "https://api.github.com/users/deehochberg/repos",
        "events_url": "https://api.github.com/users/deehochberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deehochberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T18:59:26Z"
    },
    {
      "event": "reviewed",
      "id": 2865638569,
      "node_id": "PRR_kwDOABII586qziyp",
      "url": null,
      "actor": null,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-23T20:40:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK\r\n\r\nThis all looks good to me, but I am not sure if embedding the database in our functional test suite is a good idea. I don't think it is too much data, but I am not sure how stable it is in terms of file formats. Is this really compatible with all posix systems? Then again it could just be removed once/if it starts becoming unreliable.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2865638569",
      "submitted_at": "2025-05-23T20:40:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "reviewed",
      "id": 2867562458,
      "node_id": "PRR_kwDOABII586q64fa",
      "url": null,
      "actor": null,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-26T07:41:54Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2867562458",
      "submitted_at": "2025-05-26T07:41:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17979181676,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQvpIps",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17979181676",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f629353a0aa306b711df7b39411fbeebcc843062",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/f629353a0aa306b711df7b39411fbeebcc843062",
      "created_at": "2025-06-04T10:46:12Z"
    },
    {
      "event": "commented",
      "id": 2939541299,
      "node_id": "IC_kwDOABII586vNdcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2939541299",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T10:49:13Z",
      "updated_at": "2025-06-04T10:49:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "I have pushed a new version with a simplified approach as suggested by @maflcko. This puts the fixed version into a new path and removes the old version after a grace period. This makes downgrading possible and uses less code. I think this approach isn't too far off from the migration since syncing the index and running the migration are both processes that take some time.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2939541299",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 17979230489,
      "node_id": "MEE_lADOABII586P16NYzwAAAAQvpUkZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17979230489",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T10:49:14Z"
    },
    {
      "event": "subscribed",
      "id": 17979230516,
      "node_id": "SE_lADOABII586P16NYzwAAAAQvpUk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17979230516",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T10:49:15Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17979241107,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQvpXKT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17979241107",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9ff7d7a3d44bf466c9d9debbbd777bc0d65ba663",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/9ff7d7a3d44bf466c9d9debbbd777bc0d65ba663",
      "created_at": "2025-06-04T10:49:54Z"
    },
    {
      "event": "labeled",
      "id": 17979250627,
      "node_id": "LE_lADOABII586P16NYzwAAAAQvpZfD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17979250627",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T10:50:33Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2939545986,
      "node_id": "IC_kwDOABII586vNemC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2939545986",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T10:50:35Z",
      "updated_at": "2025-06-04T10:50:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/43456257400</sub>\n<sub>LLM reason (âœ¨ experimental): Lint check failure due to unused import errors detected by ruff.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2939545986",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17980912462,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQvvvNO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17980912462",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "eda239df24e0935869a240c149a301be5286eac8",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/eda239df24e0935869a240c149a301be5286eac8",
      "created_at": "2025-06-04T12:35:56Z"
    },
    {
      "event": "unlabeled",
      "id": 17981886967,
      "node_id": "UNLE_lADOABII586P16NYzwAAAAQvzdH3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17981886967",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-04T13:28:40Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 18124215350,
      "node_id": "LE_lADOABII586P16NYzwAAAAQ4SZQ2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18124215350",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T23:47:13Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18142233279,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQ5XIK_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18142233279",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "created_at": "2025-06-13T22:11:43Z"
    },
    {
      "event": "renamed",
      "id": 18142236199,
      "node_id": "RTE_lADOABII586P16NYzwAAAAQ5XI4n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18142236199",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T22:11:59Z",
      "rename": {
        "from": "index: Fix coinstats overflow and introduce index versioning",
        "to": "index: Fix coinstats overflow"
      }
    },
    {
      "event": "unlabeled",
      "id": 18143207275,
      "node_id": "UNLE_lADOABII586P16NYzwAAAAQ5a19r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18143207275",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T23:53:36Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2973741178,
      "node_id": "IC_kwDOABII586xP7B6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2973741178",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-15T12:13:56Z",
      "updated_at": "2025-06-15T12:13:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "The new approach seems fine to me, but the pull request description needs updating. In general I'm not too big a fan of leaving unused data lying around, but waiting for a deprecation cycle seems like a good compromise. ",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2973741178",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "commented",
      "id": 2974656905,
      "node_id": "IC_kwDOABII586xTamJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2974656905",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-15T19:35:55Z",
      "updated_at": "2025-06-15T19:35:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated the description",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-2974656905",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "reviewed",
      "id": 2930844133,
      "node_id": "PRR_kwDOABII586usSHl",
      "url": null,
      "actor": null,
      "commit_id": "1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-06-16T06:56:49Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2930844133",
      "submitted_at": "2025-06-16T06:56:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "reviewed",
      "id": 2930988665,
      "node_id": "PRR_kwDOABII586us1Z5",
      "url": null,
      "actor": null,
      "commit_id": "1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-06-16T07:50:04Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2930988665",
      "submitted_at": "2025-06-16T07:50:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18199556849,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAQ8xzLx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18199556849",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "33668270eeecab4ec2a47d92a71f97abf9d0aceb",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/33668270eeecab4ec2a47d92a71f97abf9d0aceb",
      "created_at": "2025-06-17T23:00:29Z"
    },
    {
      "event": "reviewed",
      "id": 2938363032,
      "node_id": "PRR_kwDOABII586vI9yY",
      "url": null,
      "actor": null,
      "commit_id": "33668270eeecab4ec2a47d92a71f97abf9d0aceb",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-06-18T09:01:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 33668270eeecab4ec2a47d92a71f97abf9d0aceb",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2938363032",
      "submitted_at": "2025-06-18T09:01:40Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "review_requested",
      "id": 18206117201,
      "node_id": "RRE_lADOABII586P16NYzwAAAAQ9K01R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18206117201",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-18T09:01:44Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "labeled",
      "id": 18515837352,
      "node_id": "LE_lADOABII586P16NYzwAAAARPoUGo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18515837352",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-08T02:02:55Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18527325900,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAARQUI7M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18527325900",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e5eb7d346772691e5d402ff4e1852bc50231a0a0",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/e5eb7d346772691e5d402ff4e1852bc50231a0a0",
      "created_at": "2025-07-08T14:01:46Z"
    },
    {
      "event": "commented",
      "id": 3049095473,
      "node_id": "IC_kwDOABII5861vYEx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3049095473",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-08T14:01:57Z",
      "updated_at": "2025-07-08T14:01:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3049095473",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "unlabeled",
      "id": 18528421603,
      "node_id": "UNLE_lADOABII586P16NYzwAAAARQYUbj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18528421603",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-08T14:55:21Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2998999955,
      "node_id": "PRR_kwDOABII586ywRuT",
      "url": null,
      "actor": null,
      "commit_id": "e5eb7d346772691e5d402ff4e1852bc50231a0a0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-08T22:09:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "nit: cummulative -> cumulative in 5bbbcc120f1139655787e7454277bb2d73cb49e4 description\r\n\r\nLooks good to me besides the nits.\r\n\r\nThis will also need a release note, warning users that existing indexes will be resynced, which will probably take a few days for mainnet.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-2998999955",
      "submitted_at": "2025-07-08T22:09:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18606839716,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAARVDdek",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18606839716",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "10757eb99f5c3d5bfa8b2f0e67dfa18656c3cefe",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/10757eb99f5c3d5bfa8b2f0e67dfa18656c3cefe",
      "created_at": "2025-07-13T21:36:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18606856610,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAARVDhmi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18606856610",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a7430689731d787edcc0f429f9d1779fd3465762",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/a7430689731d787edcc0f429f9d1779fd3465762",
      "created_at": "2025-07-13T21:43:01Z"
    },
    {
      "event": "labeled",
      "id": 18606857118,
      "node_id": "LE_lADOABII586P16NYzwAAAARVDhue",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18606857118",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-13T21:43:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3067317332,
      "node_id": "IC_kwDOABII586204xU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3067317332",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-13T21:43:12Z",
      "updated_at": "2025-07-13T21:43:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/45886862186</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by a syntax error in a Python lint check due to an unterminated f-string.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3067317332",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18606931050,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAARVDzxq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18606931050",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7685e4cb86c7e36d2e102bf614b61e6e88268ca5",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/7685e4cb86c7e36d2e102bf614b61e6e88268ca5",
      "created_at": "2025-07-13T22:04:49Z"
    },
    {
      "event": "commented",
      "id": 3067328764,
      "node_id": "IC_kwDOABII586207j8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3067328764",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-13T22:06:10Z",
      "updated_at": "2025-07-13T22:06:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed @mzumsande 's comments and added a release note.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3067328764",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 18606940152,
      "node_id": "MEE_lADOABII586P16NYzwAAAARVD1_4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18606940152",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-13T22:06:11Z"
    },
    {
      "event": "subscribed",
      "id": 18606940159,
      "node_id": "SE_lADOABII586P16NYzwAAAARVD1__",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18606940159",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-13T22:06:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18619560256,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAARVz_FA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18619560256",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "226b54a9564a4c1e92bfcd1cf53f68e24cb458d8",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/226b54a9564a4c1e92bfcd1cf53f68e24cb458d8",
      "created_at": "2025-07-14T14:36:35Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18620552896,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAARV3xbA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18620552896",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4cb2c0520211634ee3caf6d4c3a1e65b2bdb2dc6",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/4cb2c0520211634ee3caf6d4c3a1e65b2bdb2dc6",
      "created_at": "2025-07-14T15:28:57Z"
    },
    {
      "event": "unlabeled",
      "id": 18625357755,
      "node_id": "UNLE_lADOABII586P16NYzwAAAARWKGe7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18625357755",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-14T20:38:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3039291923,
      "node_id": "PRR_kwDOABII5861J-oT",
      "url": null,
      "actor": null,
      "commit_id": "4cb2c0520211634ee3caf6d4c3a1e65b2bdb2dc6",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-21T19:22:05Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3039291923",
      "submitted_at": "2025-07-21T19:22:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "commented",
      "id": 3137646098,
      "node_id": "IC_kwDOABII5867BK4S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3137646098",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-30T19:58:58Z",
      "updated_at": "2025-07-30T19:58:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 4cb2c0520211634ee3caf6d4c3a1e65b2bdb2dc6\r\n\r\nMy comment above is not blocking (could also be done later) - considering that this is tagged for 30.0 and feature freeze is soon, I wonder if we should aim for that, or combine it with #26966 (which I think could be enabled for coinstatsindex relatively easily, FYI @furszy) so that all of the users with existing indexes would have the option to resync much faster.\r\n",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3137646098",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 18906667499,
      "node_id": "MEE_lADOABII586P16NYzwAAAARm7Nnr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18906667499",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-30T19:58:59Z"
    },
    {
      "event": "subscribed",
      "id": 18906667579,
      "node_id": "SE_lADOABII586P16NYzwAAAARm7No7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18906667579",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-30T19:59:00Z"
    },
    {
      "event": "review_requested",
      "id": 18906668177,
      "node_id": "RRE_lADOABII586P16NYzwAAAARm7NyR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18906668177",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-30T19:59:02Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 3148815473,
      "node_id": "IC_kwDOABII5867rxxx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3148815473",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-04T00:30:44Z",
      "updated_at": "2025-08-04T00:30:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "> which I think could be enabled for coinstatsindex relatively easily, FYI @furszy\r\n\r\nNot sure if I maybe misunderstand that part but do you mean parallelization could be enabled easily for coinstatsindex? I haven't reviewed https://github.com/bitcoin/bitcoin/pull/26966 in depth yet but I don't think that's the case because the blocks have to be processed in order.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3148815473",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 18960091359,
      "node_id": "MEE_lADOABII586P16NYzwAAAARqHAjf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18960091359",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-04T00:30:45Z"
    },
    {
      "event": "subscribed",
      "id": 18960091370,
      "node_id": "SE_lADOABII586P16NYzwAAAARqHAjq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18960091370",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-04T00:30:45Z"
    },
    {
      "event": "reviewed",
      "id": 3082638040,
      "node_id": "PRR_kwDOABII5863vVLY",
      "url": null,
      "actor": null,
      "commit_id": "4cb2c0520211634ee3caf6d4c3a1e65b2bdb2dc6",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-04T04:27:24Z",
      "author_association": "MEMBER",
      "body": "> > which I think could be enabled for coinstatsindex relatively easily, FYI @furszy\r\n> \r\n> Not sure if I maybe misunderstand that part but do you mean parallelization could be enabled easily for coinstatsindex? I haven't reviewed #26966 in depth yet but I don't think that's the case because the blocks have to be processed in order.\r\n\r\nIt shouldn't take me much to parallelize it. Most fields here are essentially accumulators. Blocks can be read from disk and processed in parallel. Only the dump to disk has to be done sequentially; merging all accumulators that requires it (the `total_*` ones) + computing the accumulated `muhash`. Also, disk writes can be batched this way too.\r\n\r\nCan find a similar workflow in #26966 for the block filter index: fa4348463dc44099ef1fdccb919056a0be44b97d. Which had comparable constraints due to the filter headersâ€™ chain structure (each header references its predecessor).",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3082638040",
      "submitted_at": "2025-08-04T04:27:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "commented",
      "id": 3151434723,
      "node_id": "IC_kwDOABII58671xPj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3151434723",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-04T16:23:39Z",
      "updated_at": "2025-08-04T16:23:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Can find a similar workflow in https://github.com/bitcoin/bitcoin/pull/26966 for the block filter index: https://github.com/bitcoin/bitcoin/commit/fa4348463dc44099ef1fdccb919056a0be44b97d. Which had comparable constraints due to the filter headersâ€™ chain structure (each header references its predecessor).\r\n\r\nAh, I see, cool, I didn't know this PR went that far.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3151434723",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "reviewed",
      "id": 3085549849,
      "node_id": "PRR_kwDOABII58636cEZ",
      "url": null,
      "actor": null,
      "commit_id": "4cb2c0520211634ee3caf6d4c3a1e65b2bdb2dc6",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-04T20:00:05Z",
      "author_association": "MEMBER",
      "body": "I strongly prefer to have the changes from #33134 be combined with this PR. IMO it would make the change in this PR easier to review.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3085549849",
      "submitted_at": "2025-08-04T20:00:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19183318644,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAR3ajZ0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19183318644",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ca79480a9989379d20279540314fe9bc6b88f0f0",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/ca79480a9989379d20279540314fe9bc6b88f0f0",
      "created_at": "2025-08-15T23:26:16Z"
    },
    {
      "event": "commented",
      "id": 3193004540,
      "node_id": "IC_kwDOABII586-UWH8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3193004540",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-15T23:37:48Z",
      "updated_at": "2025-08-15T23:37:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I strongly prefer to have the changes from https://github.com/bitcoin/bitcoin/pull/33134 be combined with this PR. IMO it would make the change in this PR easier to review.\r\n\r\nI have pulled the changes in here and closed #33134. Together with the feedback I received over there I am not sure it's still easier to review but I did my best to split the commits cleanly as @l0rinc requested. However this required quite a bit of retouching the same lines.\r\n\r\nAside from the feedback from @l0rinc I have added a commit that let's us skip db reads when appending a new block as @furszy suggested [here](https://github.com/bitcoin/bitcoin/pull/33134#pullrequestreview-3085424612). However this requires keeping part of the member variables around so looking for renewed acks on that approach.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3193004540",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 19183378795,
      "node_id": "MEE_lADOABII586P16NYzwAAAAR3ayFr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19183378795",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-15T23:37:50Z"
    },
    {
      "event": "subscribed",
      "id": 19183378802,
      "node_id": "SE_lADOABII586P16NYzwAAAAR3ayFy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19183378802",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-15T23:37:50Z"
    },
    {
      "event": "mentioned",
      "id": 19183378813,
      "node_id": "MEE_lADOABII586P16NYzwAAAAR3ayF9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19183378813",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-15T23:37:50Z"
    },
    {
      "event": "subscribed",
      "id": 19183378819,
      "node_id": "SE_lADOABII586P16NYzwAAAAR3ayGD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19183378819",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-15T23:37:50Z"
    },
    {
      "event": "commented",
      "id": 3193137619,
      "node_id": "IC_kwDOABII586-U2nT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3193137619",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-16T01:51:44Z",
      "updated_at": "2025-08-16T01:51:44Z",
      "author_association": "MEMBER",
      "body": "ACK ca79480a9989379d20279540314fe9bc6b88f0f0",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3193137619",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "review_requested",
      "id": 19184056988,
      "node_id": "RRE_lADOABII586P16NYzwAAAAR3dXqc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19184056988",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-16T01:51:49Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 3193738651,
      "node_id": "IC_kwDOABII586-XJWb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3193738651",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-16T15:29:27Z",
      "updated_at": "2025-08-16T15:29:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "The failed CI job looks unrelated fwiw, downloading a previous release failed.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3193738651",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19191026519,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAR339NX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19191026519",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "761c25b9d4c7b544ff04c20f6dd4c2c6243e90b0",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/761c25b9d4c7b544ff04c20f6dd4c2c6243e90b0",
      "created_at": "2025-08-17T12:05:21Z"
    },
    {
      "event": "commented",
      "id": 3194342110,
      "node_id": "IC_kwDOABII586-Zcre",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3194342110",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-17T12:06:24Z",
      "updated_at": "2025-08-17T12:06:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "Fixed a comment that still had an old path as noted by @hodlinator ",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3194342110",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 19191029879,
      "node_id": "MEE_lADOABII586P16NYzwAAAAR33-B3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19191029879",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-17T12:06:24Z"
    },
    {
      "event": "subscribed",
      "id": 19191029891,
      "node_id": "SE_lADOABII586P16NYzwAAAAR33-CD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19191029891",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-17T12:06:25Z"
    },
    {
      "event": "reviewed",
      "id": 3127023658,
      "node_id": "PRR_kwDOABII5866Ypgq",
      "url": null,
      "actor": null,
      "commit_id": "761c25b9d4c7b544ff04c20f6dd4c2c6243e90b0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-18T07:00:43Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3127023658",
      "submitted_at": "2025-08-18T07:00:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19205492452,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAAR4vI7k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19205492452",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4e1a3d407c68ed55902978260a25d3d00389e9dc",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/4e1a3d407c68ed55902978260a25d3d00389e9dc",
      "created_at": "2025-08-18T14:40:15Z"
    },
    {
      "event": "reviewed",
      "id": 3129757943,
      "node_id": "PRR_kwDOABII5866jFD3",
      "url": null,
      "actor": null,
      "commit_id": "4e1a3d407c68ed55902978260a25d3d00389e9dc",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-18T20:35:16Z",
      "author_association": "MEMBER",
      "body": "053ac55eb569be6b49c5249a7d8c0eeaa149a18b seems like it could cause incorrect total statistics if somehow we ever have the situation where we are appending a block that doesn't build on the index's current block hash.\r\n\r\nThis behavior does match what we do today with the running total members, but it feels incorrect. Although that sounds like it should really be a fatal error.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3129757943",
      "submitted_at": "2025-08-18T20:34:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "reviewed",
      "id": 3137273070,
      "node_id": "PRR_kwDOABII5866_vzu",
      "url": null,
      "actor": null,
      "commit_id": "4e1a3d407c68ed55902978260a25d3d00389e9dc",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-20T16:02:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "I like the approach, though it's a little bit weird that \r\n`m_total_amount` and `m_total_unspendable_amount` are first removed in e54317bf7c1b93d790e169759f64a4564a96ea5f, and after that reintroduced in 053ac55eb569be6b49c5249a7d8c0eeaa149a18b.   Happy to ACK once @achow101's point about `m_total_unspendables_bip30` is addressed (which I also tripped over).\r\n\r\n> somehow we ever have the situation where we are appending a block that doesn't build on the index's current block hash.\r\n\r\nI kinda view it as a basic principle of the index design that this shouldn't be possible, relying on the order of `Block(Dis)Connected` signals. The most critical point for this seems to be the transition between `Sync()` and signal-based processing, otherwise I can't see how we could get into that situaion.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3137273070",
      "submitted_at": "2025-08-20T16:02:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19332005900,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAASARwAM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19332005900",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "03a7318a4df196bff97438caa57693ca02706029",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/03a7318a4df196bff97438caa57693ca02706029",
      "created_at": "2025-08-25T23:19:09Z"
    },
    {
      "event": "commented",
      "id": 3222023488,
      "node_id": "IC_kwDOABII587ADC1A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3222023488",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-25T23:19:59Z",
      "updated_at": "2025-08-25T23:19:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "First of all, sorry for the late reply, I will do my best to respond faster despite travelling at the moment.\r\n\r\n> [053ac55](https://github.com/bitcoin/bitcoin/commit/053ac55eb569be6b49c5249a7d8c0eeaa149a18b) seems like it could cause incorrect total statistics if somehow we ever have the situation where we are appending a block that doesn't build on the index's current block hash.\r\n> \r\n> This behavior does match what we do today with the running total members, but it feels incorrect. Although that sounds like it should really be a fatal error.\r\n\r\nHm, I am not sure how this is possible. When a block is connected (`BaseIndex::BlockConnected`) we check that the new block's prev block is our best block, if not we try to rewind first:\r\n\r\n```\r\n        if (best_block_index != pindex->pprev && !Rewind(best_block_index, pindex->pprev)) {\r\n```\r\n\r\nAnd in [053ac55](https://github.com/bitcoin/bitcoin/commit/053ac55eb569be6b49c5249a7d8c0eeaa149a18b) we also check the same thing:\r\n\r\n```\r\n        uint256 expected_block_hash{*Assert(block.prev_hash)};\r\n        if (m_current_block_hash != expected_block_hash) {\r\n```\r\n\r\nI agree with @mzumsande that this is assumed to be guaranteed by the base index behavior but I think this could probably be documented better. We do have a `_test_reorg_index` in `feature_coinstatsindex.py` which should cover this but the particular edge case @mzumsande mentions is really hard to hit.\r\n\r\n> I like the approach, though it's a little bit weird that\r\nm_total_amount and m_total_unspendable_amount are first removed in https://github.com/bitcoin/bitcoin/commit/e54317bf7c1b93d790e169759f64a4564a96ea5f, and after that reintroduced in https://github.com/bitcoin/bitcoin/commit/053ac55eb569be6b49c5249a7d8c0eeaa149a18b.\r\n\r\nYeah, sorry about that but I didn't find a better way to make the commits self-contained as requested in https://github.com/bitcoin/bitcoin/pull/33134. Looking at it again now, it's probably possible to do this better and I can give it another shot if you like.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3222023488",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "mentioned",
      "id": 19332014546,
      "node_id": "MEE_lADOABII586P16NYzwAAAASARyHS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19332014546",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-25T23:20:00Z"
    },
    {
      "event": "subscribed",
      "id": 19332014562,
      "node_id": "SE_lADOABII586P16NYzwAAAASARyHi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19332014562",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-25T23:20:00Z"
    },
    {
      "event": "commented",
      "id": 3222024490,
      "node_id": "IC_kwDOABII587ADDEq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3222024490",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-25T23:20:37Z",
      "updated_at": "2025-08-25T23:20:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed the feedback and also rebased for good measure since there were recent changes to the indexing.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3222024490",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "commented",
      "id": 3225666624,
      "node_id": "IC_kwDOABII587AQ8RA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3225666624",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-26T20:41:07Z",
      "updated_at": "2025-08-26T20:41:07Z",
      "author_association": "MEMBER",
      "body": "ACK dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3225666624",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "review_requested",
      "id": 19355439668,
      "node_id": "RRE_lADOABII586P16NYzwAAAASBrJI0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19355439668",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-26T20:41:14Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3166891787,
      "node_id": "PRR_kwDOABII5868wu8L",
      "url": null,
      "actor": null,
      "commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-28T23:50:49Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3166891787",
      "submitted_at": "2025-08-28T23:50:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "reviewed",
      "id": 3167118313,
      "node_id": "PRR_kwDOABII5868xmPp",
      "url": null,
      "actor": null,
      "commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-29T03:18:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Sorry for not looking at this earlier. Approach ACK.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3167118313",
      "submitted_at": "2025-08-29T03:18:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "commented",
      "id": 3235597424,
      "node_id": "IC_kwDOABII587A20xw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3235597424",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-29T03:27:35Z",
      "updated_at": "2025-08-29T03:27:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "When running this index over signet, I end up with ~700 55kB ldb files, and a single 8.8MB ldb file. That seems like something is probably suboptimal?",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3235597424",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19448926679,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAASHPxHX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19448926679",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5978a26181d4386e43625a60753263697f613d70",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/5978a26181d4386e43625a60753263697f613d70",
      "created_at": "2025-09-01T23:53:41Z"
    },
    {
      "event": "commented",
      "id": 3243423289,
      "node_id": "IC_kwDOABII587BUrY5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3243423289",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-02T00:00:14Z",
      "updated_at": "2025-09-02T14:57:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "> When running this index over signet, I end up with ~700 55kB ldb files, and a single 8.8MB ldb file. That seems like something is probably suboptimal?\r\n\r\nThis doesnâ€™t seem to be caused by this change afaict, my old coinstatsindex on signet has the same file structure. I have tried to find the cause for this but so far I canâ€™t really say for sure where the difference to the other indexes lies. There does not seem to be any difference in configuration and I looked into additional batching db writes but this became a big, messy change and did not seem to change much. My best guess is that during sync the blocks are written so fast that there is never any compaction of the database as it happens for the other indexes. Forcing compaction of the database merges these 55k files and it doesnâ€™t slow down down the index sync in any meaningful way. I have added a commit for this but this could also be done in a separate PR since it doesnâ€™t seem related to the changes here. But if we want it in v30 itâ€™s probably easier to leave it here since itâ€™s also just a small change. Of course it would be preferred to understand the actual cause for this behavior in LeveDB but I wanted to provide an update here regardless.\r\n",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3243423289",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "labeled",
      "id": 19449423288,
      "node_id": "LE_lADOABII586P16NYzwAAAASHRqW4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19449423288",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-02T01:10:50Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3243496575,
      "node_id": "IC_kwDOABII587BU9R_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3243496575",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-02T01:10:53Z",
      "updated_at": "2025-09-02T01:10:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `ARM, unit tests, no functional tests`: https://github.com/bitcoin/bitcoin/runs/49360561051</sub>\n<sub>LLM reason (âœ¨ experimental): Segmentation fault in mptest IPC path (callFnAsyncParams) causing the test suite to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3243496575",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "unlabeled",
      "id": 19454282692,
      "node_id": "UNLE_lADOABII586P16NYzwAAAASHkMvE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19454282692",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-02T08:21:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3178227240,
      "node_id": "PRR_kwDOABII5869b-Yo",
      "url": null,
      "actor": null,
      "commit_id": "5978a26181d4386e43625a60753263697f613d70",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-09-02T21:58:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Did another round of review, and everything looked good to me.\r\nI would prefer to have ef01a192d0ad821bb3d332ae69cd8b58c010b45d as a separate PR as suggested: As far as I understand it doesn't break compatibility and therefore doesn't need to be bundled with this.\r\n\r\nHappy to A CK after this.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3178227240",
      "submitted_at": "2025-09-02T21:58:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYjg0MmIzMjQ4NzQ0ZmIwMDMwNDg2ZjY0ZDNmZWJlODE1ZjgzNzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab842b3248744fb0030486f64d3febe815f8377",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fab842b3248744fb0030486f64d3febe815f8377",
      "tree": {
        "sha": "9151841ddc969ea8b5ff545341f8f8e502d91666",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9151841ddc969ea8b5ff545341f8f8e502d91666"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9151841ddc969ea8b5ff545341f8f8e502d91666\nparent 2562fe1b2b63c3a510735ba417935340d533a844\nauthor Fabian Jahr <fjahr@protonmail.com> 1755272603 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1756994244 +0200\n\nindex, refactor: Rename ReverseBlock to RevertBlock\n\nSemantically this is the correct name for what the function is doing.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi5msQVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNLYMP/1a6mn77F9I7fAMp0RxVnPcrnXB4\nxK95Mqm3vRpKsoLmuPsd7mbmQ8Wyjrs0UUAjMPKu7eKKPVHskXvyH3eHzjWWjZdG\n7ioN464X2ZFDTo8+BUEZeYI731364y0Ri7VDLzkgO/fHubfd41DmrDJSiwPTSBJ5\nxVMjbsE6lTUJT6NhO9bJb8XI1zIG1A4ce62S+NCqJIAqDgrSFSHkNu6GLhlkY/vg\n0+8jy31rLT90FmRV2BulTV5KQWWMgPMzkCP5ktjoOuBxlLDh7eBOa/umTSkxvirE\nIMAAqFucFeo4H/O0wYGJ1ItAgDrWGjs6j0ReKoZwxGlbGMk0hgh90pljVl3oOOqy\nsvfXrJCCpVcG5jyCA+JeYisQ6EWQDMxPp/E6CL4LHtWagEqtA+P6+A7iTpQQLAJ4\nhL6qGCMsH5JULzE0y1kgv2K8cEju+0Dv6aA/6g2Pmou0OQP4xLldTKnJ+uxGxW0/\nDMEKcjwIxyiM8+a0q/FYDjcWt4wGM2knFI9WyDWOBBuCQrN0X2BPyI3tgz6ucbpp\nP4rZF4QNDEXB8QKT10Ie8w4C1bh+jQHFpESytOJh4sIXiha0PP0fyudr92P547HD\nVERjNsxZDfIY0aMGKyMKXIuhhkP8eAM5uHtdz3aHC+pkLVPV/CFo3IdBRFXn7hZU\nQH4NrGKX5pxMiwYD\n=UUWR\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2562fe1b2b63c3a510735ba417935340d533a844",
          "sha": "2562fe1b2b63c3a510735ba417935340d533a844",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2562fe1b2b63c3a510735ba417935340d533a844"
        }
      ],
      "message": "index, refactor: Rename ReverseBlock to RevertBlock\n\nSemantically this is the correct name for what the function is doing.",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-04T13:57:24Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-08-15T15:43:23Z"
      },
      "sha": "fab842b3248744fb0030486f64d3febe815f8377"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg0ZTgxM2EwMmJiN2IzYzczNWFlNDEzZjA2YzBmYzE1NmJmZWI3YWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84e813a02bb7b3c735ae413f06c0fc156bfeb7ac",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/84e813a02bb7b3c735ae413f06c0fc156bfeb7ac",
      "tree": {
        "sha": "12e594410a99448d3cd3a23285caf1e5b93fcb53",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/12e594410a99448d3cd3a23285caf1e5b93fcb53"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 12e594410a99448d3cd3a23285caf1e5b93fcb53\nparent fab842b3248744fb0030486f64d3febe815f8377\nauthor Fabian Jahr <fjahr@protonmail.com> 1755274147 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1756994245 +0200\n\nindex, refactor: DRY coinbase check\n\nAlso marks a few additional variables const.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi5msUVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNj7kP+QEVCa/kbObGNy5MxnMiatYQzpX8\nCEGtco81ZdNEw3GknLJOinpEiR93mDpHOg343FBvWgeLsgKgYxsoQ2oOKd+LJROT\nU2eMwz6U1P4N+/+YnqVuiyF11hJO9IoZUhZjhIy6mPxhNAlHLnwzPS3hDmm+HIV/\nTozt6JxsxVpqTcPTeqRgUnMJjEaDYukJ0nSPyL+m2yJlIGvEF5LiswWu7FAtySgP\nkLUpm+ncc4t8jtH1HB5wT84Yrg+QqatN9RSyTBbzen8YdjWeMwrGqKoOzBLRjk2y\nHcZDvuZEoi/1fKKFAYiwo2Lj254YkYbp4oVMHaY6KJNFklPS9B4Qh4HqEk8bD6+M\n2zZ1vkI8Dv2jkG4qfXZJHJuWkUWnwTeGmmucRtgm6jw1QA3+15Km8/PR+vTJ2GqV\nKdX4azUIRJBtL1/ZZFcXUwA87fGfynA23uLuVW48uwnqQpveo5UY3khoOepYVTaw\n6fmteoDn7aAsuG+dX5s8Am1pIiG07tp72SrUZ4IvIlE4mKeM5sV7qcRrj+GJEd2Z\n0lczRFWQGMZ6YWKUXYGe4MNJmdXDRz6LBp7g68BEJDVtcnbbtIZ5EcCubwJNT+em\n3x4XZ1eT/l2u4dzzYo2EOZi4E/Fytw+eeMq2A7B+ZfHsz9NDYPDYJhstisuI2NWH\n4tYCxYOHRCY4iLqJ\n=ayuR\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab842b3248744fb0030486f64d3febe815f8377",
          "sha": "fab842b3248744fb0030486f64d3febe815f8377",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fab842b3248744fb0030486f64d3febe815f8377"
        }
      ],
      "message": "index, refactor: DRY coinbase check\n\nAlso marks a few additional variables const.",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-04T13:57:25Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-08-15T16:09:07Z"
      },
      "sha": "84e813a02bb7b3c735ae413f06c0fc156bfeb7ac"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19508586508,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAASKzWgM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19508586508",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f013fbf711031ef0bda3585ec935107b223f1d9a",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/f013fbf711031ef0bda3585ec935107b223f1d9a",
      "created_at": "2025-09-04T15:58:23Z"
    },
    {
      "event": "commented",
      "id": 3254450772,
      "node_id": "IC_kwDOABII587B-vpU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3254450772",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-04T16:10:33Z",
      "updated_at": "2025-09-04T16:10:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Dear reviewers, sorry for another slight change in approach here but I think this should be the last one and I think it makes reasoning about the review easier or at least not harder. Given the discussion about remaining (edge case) potential for overflows I have decided to switch the values we store to `arith_uint256`. This feels cleaner to me than dealing with overflows with additional code and a shared field etc. The nice side-effect of this is that this makes it feasible to keep the total values rather than per-block, which means all the changes that were needed to make the change to per-block can go away which simplifies the actual fix commit a bit. Making the values per-block was partly motivated by keeping the `CAmount` type which is the semantically correct type but it has become clear to me now that this was not the right choice and I think switching to `arith_uint256` is the right move.\r\n\r\n> I would prefer to have https://github.com/bitcoin/bitcoin/commit/ef01a192d0ad821bb3d332ae69cd8b58c010b45d as a separate PR as suggested: As far as I understand it doesn't break compatibility and therefore doesn't need to be bundled with this.\r\n\r\nDone in #33306.\r\n\r\n> it would be good to add a little explanation to this commit https://github.com/bitcoin/bitcoin/commit/4a72b62a0d9345c1720de538cd3b42659f7d046b - maybe just saying that it's not practically relevant because of the huge reorgs it would require, but that RevertBlock should be consistent with CustomAppend.\r\n\r\nDone.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3254450772",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "commented",
      "id": 3254558440,
      "node_id": "IC_kwDOABII587B_J7o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3254558440",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-04T16:40:06Z",
      "updated_at": "2025-09-04T16:41:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hm, not clear to me why clang-tidy CI complains here about lines (or even files) I haven't touched in this PR. But that's what the last fixup commit I just pushed is for.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3254558440",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    },
    {
      "event": "reviewed",
      "id": 3186533494,
      "node_id": "PRR_kwDOABII58697qR2",
      "url": null,
      "actor": null,
      "commit_id": "2ceb1b36fb48ccdf8f84e4e4c7d77668d2f59fad",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-09-04T18:11:36Z",
      "author_association": "MEMBER",
      "body": "> Hm, not clear to me why clang-tidy CI complains here about lines (or even files) I haven't touched in this PR. But that's what the last fixup commit I just pushed is for.\r\n\r\nI haven't checked this, but the new struct is no longer trivially copyable, so it may have effects outside of the lines you have touched.\r\n\r\n<details><summary>a diff</summary>\r\n\r\nwe should probably make it trivially copyable, but this seems unrelated.\r\n\r\n```diff\r\ndiff --git a/src/arith_uint256.h b/src/arith_uint256.h\r\nindex 0cf7aa44b0..14e09c3a6a 100644\r\n--- a/src/arith_uint256.h\r\n+++ b/src/arith_uint256.h\r\n@@ -37,21 +37,6 @@ public:\r\n             pn[i] = 0;\r\n     }\r\n \r\n-    base_uint(const base_uint& b)\r\n-    {\r\n-        for (int i = 0; i < WIDTH; i++)\r\n-            pn[i] = b.pn[i];\r\n-    }\r\n-\r\n-    base_uint& operator=(const base_uint& b)\r\n-    {\r\n-        if (this != &b) {\r\n-            for (int i = 0; i < WIDTH; i++)\r\n-                pn[i] = b.pn[i];\r\n-        }\r\n-        return *this;\r\n-    }\r\n-\r\n     base_uint(uint64_t b)\r\n     {\r\n         pn[0] = (unsigned int)b;\r\n```\r\n\r\n</details>",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#pullrequestreview-3186533494",
      "submitted_at": "2025-09-04T18:11:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQzMWEwNzZhZTZlM2NjMzJhODcyNWQ0YTAxNDgzZDI3YzUwODFhMzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/431a076ae6e3cc32a8725d4a01483d27c5081a34",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/431a076ae6e3cc32a8725d4a01483d27c5081a34",
      "tree": {
        "sha": "fb44307e71ff8d5b83b60090f76256cc9f54080c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fb44307e71ff8d5b83b60090f76256cc9f54080c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fb44307e71ff8d5b83b60090f76256cc9f54080c\nparent 84e813a02bb7b3c735ae413f06c0fc156bfeb7ac\nauthor Fabian Jahr <fjahr@protonmail.com> 1754313915 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1757258460 +0200\n\nindex: Fix coinstatsindex overflow issue\n\nThe index originally stored cumulative values in a CAmount type but this allowed for\npotential overflow issues which were observed on Signet. Fix this by\nstoring the values that are in danger of overflowing in a arith_uint256.\n\nAlso turns an unnecessary copy into a reference in RevertBlock and\nCustomAppend and gets\nrid of the explicit total unspendable tracking which can be calculated\nby adding the four categories of unspendables together.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi9ou4VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNfcEP/i+eZaoyusiVefOvtNtvLscB1T1y\nM9djA9YzF0ryhK5E3WvdI/hVYo4jl+IkMPeLAB3yV8gMCdz5xVYDO27cz/IdEuhC\nG1lav3QndhQb29CSlhCdPmtNkXra2zplSKJKR3r/3w7UQg4cEs7wuLqD3AY+YN1U\n/2Vtq5gNnq8JgC2i+faVdubSFXJORVGGavpmGY5JIOLtC5e8poticX4NaBuuKW61\nNd2ONhENoAR5F0h7fMVATw5KcrrSPHBgZ8hzVEVIFtTQSjoMy52AtXvczxfaTZe0\nR19i2WpLwlobnCSOoAD3OUcZZNuwkCjAnQGg1xMS5mMu4uXirurbTbU4zCRHfokX\n7Nsv2bKvDD5qn3bAnbC2Y3aahXGL503ITkbMqT16DNxgFpIodguJleilv85VsOfe\nnjV1rCbrPTibWlDpcSpmJ09CohcgMSlraawsGKGSTgp3zOXK6Qa/29L+5437ai9+\np51qu809OFu2B667USpxZLz3PpkqdVUBY7f+OAcc54aGVDDhysZf9e+CGUw+hjQg\nC7aWl3Ii9m0npJCW91uVRVNnEPHoLdRKDovcNMhOP2wfvQIdc5AbjeqcITfWWCn9\ngQedi8slmP5eFyZUMQD7CNs5QAl1ut3NCVEt3Fvav4FB4+wAC1FffGwBEdMcbzdL\nVhQm+AShhQHA1CMV\n=UEWP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84e813a02bb7b3c735ae413f06c0fc156bfeb7ac",
          "sha": "84e813a02bb7b3c735ae413f06c0fc156bfeb7ac",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/84e813a02bb7b3c735ae413f06c0fc156bfeb7ac"
        }
      ],
      "message": "index: Fix coinstatsindex overflow issue\n\nThe index originally stored cumulative values in a CAmount type but this allowed for\npotential overflow issues which were observed on Signet. Fix this by\nstoring the values that are in danger of overflowing in a arith_uint256.\n\nAlso turns an unnecessary copy into a reference in RevertBlock and\nCustomAppend and gets\nrid of the explicit total unspendable tracking which can be calculated\nby adding the four categories of unspendables together.",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-07T15:21:00Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-08-04T13:25:15Z"
      },
      "sha": "431a076ae6e3cc32a8725d4a01483d27c5081a34"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIyZThiNjRkZGMzNTExMjRhYzEzOTBlZTkwNmE4ZmNkMjc4MWNhNTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2e8b64ddc351124ac1390ee906a8fcd2781ca50",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b2e8b64ddc351124ac1390ee906a8fcd2781ca50",
      "tree": {
        "sha": "d2008863eacb370aaabaf22749105fd30ad9a9a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d2008863eacb370aaabaf22749105fd30ad9a9a6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d2008863eacb370aaabaf22749105fd30ad9a9a6\nparent 431a076ae6e3cc32a8725d4a01483d27c5081a34\nauthor Fabian Jahr <fjahr@protonmail.com> 1755296429 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1757258479 +0200\n\nindex, refactor: Append blocks to coinstatsindex without db read\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi9ou8VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNffsP/A8K8Gb5VDOuG0lhJLBsRslFtqw+\nX6c5+ssG+lzUo3VUblHPfZACUp5ELGRHHyDHOVZ/vhmewdfh51SBUoqLedvzcJHr\nsXLLBS8LNKsZvewE7yJ6+yQKK9T8vEaaSkuA/TyswSY/onCRVTlsndGmCZdOseNX\nkB68Wt37YFLMRqmzNvUQ5PuAO9OqpijdZ2lpYJIxN3UmKDb5xWxlA1so3lXmaCx5\nWy3CfDg6wx68uQ0yO9n0hRWop/AeOWPtlrlqq8UT2ofH8Fjmgm0tbRzKksCdHUn4\n3mGqgEscTEBIIsdlHaB27hJYxcSceVBfkojJ3aIMzOmx/a9UN8f6cOEgMiJl2MYG\n3eYbH2o0ipdZFJxjxborYxWdFidfxKv51cG5BCI+/zTtUQqtNjehwc6SQeCLRsgo\nYa+8TV4P7cbZT3ohYG9C1w2sW7uS8qjebVwdURXE4bsrXnodMFfUswnm6e7jNEd/\ncDPRJJMgLOFtJwoZ1acTWXiEUgDmnRF+oQ7LMHTQ105+pVtKnA7KY0txFfGiMLMF\nmohGKbvuhu21uhLJzFWE4Eb0D0mLptfSqY4WC0kbV3t0M2ovI0eeJe8P9gUbMvec\n9zsg7/pI83N8TpDbgsBacOOgT+b8PHY7wkp//yGgWgkpARa0fl2VZDvIKW8hEDuh\nflo3cwAWCRrrQVBa\n=Fcto\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/431a076ae6e3cc32a8725d4a01483d27c5081a34",
          "sha": "431a076ae6e3cc32a8725d4a01483d27c5081a34",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/431a076ae6e3cc32a8725d4a01483d27c5081a34"
        }
      ],
      "message": "index, refactor: Append blocks to coinstatsindex without db read",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-07T15:21:19Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-08-15T22:20:29Z"
      },
      "sha": "b2e8b64ddc351124ac1390ee906a8fcd2781ca50"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJiOGQ2NzMxODMyOTRhNDNjNzE2ZmY4NzM4ZGEyNDkyZjNkN2E5NGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb8d673183294a43c716ff8738da2492f3d7a94b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bb8d673183294a43c716ff8738da2492f3d7a94b",
      "tree": {
        "sha": "1da1e9f3b3c22cabce123142df86de66e2f2333d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1da1e9f3b3c22cabce123142df86de66e2f2333d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1da1e9f3b3c22cabce123142df86de66e2f2333d\nparent b2e8b64ddc351124ac1390ee906a8fcd2781ca50\nauthor Fabian Jahr <fjahr@protonmail.com> 1748896814 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1757258479 +0200\n\ntest: Add coinstatsindex compatibility test\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi9ou8VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNMYsQAKHwnnNqmcN+3Ca1cSrPCCVMRgJ3\n1aZCVykm4vu506qRuvEAL/udDcxsEFMqmK0CGmGSr9Crur5ynf7uTO6IlZw7xqsz\nPxw8ZhQ7CFaBVDXiWtQufyqB6syUfGEOmGSMYWmSsBmiBtLEfsqoJxI10RoTWCy3\nPq81mujyeCNLPaWxV6bulZpak4z7LoUaqU0lYd5I0todwPfE+/u8EAnKIdV56y3M\n/VszUb0laNTRewwu0kUPEJDZgN3/nMS/yB40C2FJWL5YmnkVpq3KhohmHNFXnqu8\nX/wDEWWgzd4CTv7m2rnVJyroqYFnvJjes0/8PlXYF6yuSX8SQc7JL0oeWdQV/x5u\n8IBkWicqPnDXOsQjwr5y4YzaH0cNMxHDV/j8h5VNwnE5keG4zVLSmBcMyGRcTjB6\nStpRCU2y61YuT6d8QbdTqlFvlz4YruQq5vWCReybMpdjZjgur9B/QolQCzuMOZ27\noaJb4bQm7M3pN2GkD4QsTKzuVuu+bdV/g/R7Is779ryT23GdZpoCITnT00VMwV5f\nWh+Q3UvQNhKQ3enLrVEvO8tYpxwZSmXyKyYumRpDqf5JAly8bJSWqPLE379O/sSm\nwXB9t/+seXR2A5f71mr/FVjsII2NW6t5vzJ9YxlJUINEZwTfNMLE63AiQJ3Q+C02\n3TZLu0KOmauOStfw\n=pjpm\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2e8b64ddc351124ac1390ee906a8fcd2781ca50",
          "sha": "b2e8b64ddc351124ac1390ee906a8fcd2781ca50",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b2e8b64ddc351124ac1390ee906a8fcd2781ca50"
        }
      ],
      "message": "test: Add coinstatsindex compatibility test",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-07T15:21:19Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-06-02T20:40:14Z"
      },
      "sha": "bb8d673183294a43c716ff8738da2492f3d7a94b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUxZGY5ZGU4ZTViOWM4ZWNkODMzOWQ5NWI2MzBmMzEyZmNiOTQxNGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/51df9de8e5b9c8ecd8339d95b630f312fcb9414e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/51df9de8e5b9c8ecd8339d95b630f312fcb9414e",
      "tree": {
        "sha": "4e52695dc92cd194ffe524bc5e3ab965321e91d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4e52695dc92cd194ffe524bc5e3ab965321e91d5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4e52695dc92cd194ffe524bc5e3ab965321e91d5\nparent bb8d673183294a43c716ff8738da2492f3d7a94b\nauthor Fabian Jahr <fjahr@protonmail.com> 1752503761 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1757258479 +0200\n\ndoc: Add release note for 30469\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi9ou8VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNuNwQAIJR/22mBeIaAm1QZyCUJ9NanZmV\nXSSxWA9F1tG7J89kLCNE8FYNqiTmdOU32gpIPGuDQ3Jf9NZEKI/uI1cEsk0q1FI2\n3Q5mSDfp0rBSHdFWqht2s2lHJlT12Lmpa5Sexl8pnyaFFm+QztrsgzEifa87Stay\niPsCVOIbRjrj6YJdDriTYaN+JhLgprR4XJ5cXKpbyJ5ORlW5Z3f7FJ5iE9Sufdvx\n8f7AfT91vL1q6kW03F7GeiIgiZR14Gfz/XtgwcUfOa05Btntc/P0VWVpP+lf4dPj\nBkKSZCvPWSfR6AruoX0dmZGjuQGFhdp3i8b7oCRAAycVD6imGemBh8HgpBpfL3+A\nTMEj+uLPHILCYOJ31xxD4IehjWTaGGdSFaDkNbfNuVJT7cdDTm5nwZP4boBCtGDv\ngbAU0SzTN+uoh0OeJYXS4JhDnlbez6P+wmPi00tbiVUQG/H8NbkO+EyqOkRpdcfU\n0g7KI3TUMheNr+AdBrFo3i+TTXb/vgrJtTBv4H51fmXUrjN0/+uaTqAS8hM4FXGA\nX5nviaGb1FIn5jCv7LZ9Rbd2gEhBqx9uUWNX4C4iuJTZjDq8bbYSyfik/Wdry9ub\nov/foHEyJ9Xip3lmvcAWFJHzSph1cm4xrhWvBUCyFkMonS+cQtmPJJtscAdRu5ui\nZwijp7WygBJfKrdO\n=SYXS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb8d673183294a43c716ff8738da2492f3d7a94b",
          "sha": "bb8d673183294a43c716ff8738da2492f3d7a94b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bb8d673183294a43c716ff8738da2492f3d7a94b"
        }
      ],
      "message": "doc: Add release note for 30469",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-07T15:21:19Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-07-14T14:36:01Z"
      },
      "sha": "51df9de8e5b9c8ecd8339d95b630f312fcb9414e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM3YzRmYmExZjRjMTg2MzJiY2ViMTZmNDFmNWE4ZjFhNjFmYjkwOTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37c4fba1f4c18632bceb16f41f5a8f1a61fb9096",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/37c4fba1f4c18632bceb16f41f5a8f1a61fb9096",
      "tree": {
        "sha": "e02935f315ffa51b9f61cb8e60dc792c40976def",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e02935f315ffa51b9f61cb8e60dc792c40976def"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e02935f315ffa51b9f61cb8e60dc792c40976def\nparent 51df9de8e5b9c8ecd8339d95b630f312fcb9414e\nauthor Fabian Jahr <fjahr@protonmail.com> 1756164084 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1757258479 +0200\n\nindex: Check BIP30 blocks when rewinding Coinstatsindex\n\nThis is practically irrelevant due to the unlikeliness of a re-org\nreaching so deep that it would drop the BIP30 blocks from the chain\n(91842 and 91880). However this serves as documentation and ensures that\nthe functions RevertBlock and CustomAppend are consistent.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi9ou8VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNKisP/3t75Jf5OWW8poCzMbiL6098mt8s\nXyrMO/u+IRxpD46H67FJia7FgEh2OF3I1S+eF9s8OEw+tB/qJYXTZhHdP4UEglkm\nJSq2+9Olac0woWIM97HOWuia7VTOphW9DNYrw+Tmd7MzqTkgamZHqel8Y+b/Le82\nAShGejJe6SdhLOf5/vebeK8cC9SWa7YNWhhPgLdIwEJp456gycCDDtUllIoKkiu5\nTx4WI8JRPtKrbllmGI+YcGQTtYswuHNu33u6ckNCYp5zV0fWJ+hLwtGcDdh58xBo\ngY1K76n+8L0ukJhy5TFQaviN2FoNWcb2CFttvxBPoVH++gUrs7ylnwwbv3w5P+n/\naBTRrNDiXpbqvPbheb+FLSiSNQgvq2VTxGt1XUsquddxz8JTXWE6TxI2XyRnUEg0\nPhC2aGGijdozLg76STx6ej07JKSixJirn1hMjfeD1F3+N1exc4bOgoXBPzYQ2hI2\nNPmFFjXtHc9gVkrQUVRz6hNQr+OjUnLwrm9EPaoKe2XlphC4ShqOmeI8gCSOOW3x\ni74O0jI21zOZUNdAJcNqoVfDilYfGx+bYjrl+ixxWPEFsiC7WX0VCRX0E9x5Cs2y\nS2LCm/4dKSphAgxM5sXcxYe+zVKKsef28gz7u2UiIkhj1+GTL83Y6Ec//XXuofz8\ndQ/xCo6uSi/VdZM0\n=D8/Q\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/51df9de8e5b9c8ecd8339d95b630f312fcb9414e",
          "sha": "51df9de8e5b9c8ecd8339d95b630f312fcb9414e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/51df9de8e5b9c8ecd8339d95b630f312fcb9414e"
        }
      ],
      "message": "index: Check BIP30 blocks when rewinding Coinstatsindex\n\nThis is practically irrelevant due to the unlikeliness of a re-org\nreaching so deep that it would drop the BIP30 blocks from the chain\n(91842 and 91880). However this serves as documentation and ensures that\nthe functions RevertBlock and CustomAppend are consistent.",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-07T15:21:19Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-08-25T23:21:24Z"
      },
      "sha": "37c4fba1f4c18632bceb16f41f5a8f1a61fb9096"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU0ZGMzNGVjMjI3OTM3OGM3OGZhMmQ5MTU1NjY4ZTM5ZTIwZGVjZGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/54dc34ec2279378c78fa2d9155668e39e20decda",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/54dc34ec2279378c78fa2d9155668e39e20decda",
      "tree": {
        "sha": "54a0cd54670fc1020ccded2fb3b4cbddfff4ed5a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/54a0cd54670fc1020ccded2fb3b4cbddfff4ed5a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 54a0cd54670fc1020ccded2fb3b4cbddfff4ed5a\nparent 37c4fba1f4c18632bceb16f41f5a8f1a61fb9096\nauthor Fabian Jahr <fjahr@protonmail.com> 1756762004 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1757258479 +0200\n\nindex: Remove unused coinstatsindex recovery code\n\nThe coinstatsindex currently looks for block data at a hash key if the prev block in CustomAppend is different than expected. This is not needed since base index should always prevent us ending up in this scenario since it should rewind the index before calling CustomAppend in this case. But even if we run into this and our belt-and-suspenders code is getting hit, the index could not recover properly from the hash key index data so it can be removed without any real impact.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi9ou8VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNNrYQAKk24oD/Rmyhz4vILTYl/4TDCyTX\nkznao62kBiCb2Id6bRzbnBOli9YzEEH0uVOIBJVfDO9cFY8rlNfZT/WklmrCnZnk\nURXghNtmFnmaXMrn1EsRVBQAwwhI/muLeogZ60x+C5D4dl0EVTy2yPby4jaQSM+m\nfFWB3/z5jc1eWe61MiF1GC0g/msUTgj4QVEJnJ7awrJ/W569xa/STv/tt4CoH02i\nrDmi0FrxI4G/vCSXukh5U/m/BFWgP0tkSGl7RpEDQ6oqqkbxGy/HZKCLscQnVzwl\n3YT+AY+1ZLBMv5kOUmntcGmPDPG0sNUFJja/WKHrv1A2liw09Fq7o/IVwDyxDYPM\n3NkWVABV6kvqlNtwWwhA+qmz+2KmsM8MEIwDIbCA+0s3yPDJto2cDlesQFReMDYs\n4jbhwIRq09gWXJJ5Vu9wQJAUaoSfpXf2TE9NtJCwRjgQCSuiUFstwAHArjTXXtlU\nxcme9ePFpYi8F1bXdRsTEn6BdwKqbzh9hWHd3RDgwvkFKh9VYsG2MdKbDmfQhdEL\nNjy5is139QmjMHyMjt/S9OV/3bQjc/a8DdgVbbZhlEuREpZOWlQ0XkPJyMKPheDr\nGohj/t5qKVD9wrNcjIYKP0S7K1EKUkPee/pBN2Z6o9k3lUcVATpUDt/pkJ06MkI1\nqqLRs8baqcz885dd\n=y6DT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37c4fba1f4c18632bceb16f41f5a8f1a61fb9096",
          "sha": "37c4fba1f4c18632bceb16f41f5a8f1a61fb9096",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/37c4fba1f4c18632bceb16f41f5a8f1a61fb9096"
        }
      ],
      "message": "index: Remove unused coinstatsindex recovery code\n\nThe coinstatsindex currently looks for block data at a hash key if the prev block in CustomAppend is different than expected. This is not needed since base index should always prevent us ending up in this scenario since it should rewind the index before calling CustomAppend in this case. But even if we run into this and our belt-and-suspenders code is getting hit, the index could not recover properly from the hash key index data so it can be removed without any real impact.",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-07T15:21:19Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-01T21:26:44Z"
      },
      "sha": "54dc34ec2279378c78fa2d9155668e39e20decda"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM3Njc5NzQ4MTE1NTc1NDMyOWVjNmE2ZjU4ZTg0MDI1NjkwNDM5NDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c76797481155754329ec6a6f58e8402569043944",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c76797481155754329ec6a6f58e8402569043944",
      "tree": {
        "sha": "0a18f4c2f3726e35c2b64feae48ebe1fa508d222",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0a18f4c2f3726e35c2b64feae48ebe1fa508d222"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0a18f4c2f3726e35c2b64feae48ebe1fa508d222\nparent 54dc34ec2279378c78fa2d9155668e39e20decda\nauthor Fabian Jahr <fjahr@protonmail.com> 1757003698 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1757258911 +0200\n\nclang-tidy: Fix critical warnings\n\nThe std::move in coinstatsindex was not necessary since it was passed as a const reference argument.\n\nThe other change in the utxo supply fuzz test changes a line that seems to have triggered a false alarm.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmi9pNUVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jN2IUP/Roz+1eOghDhHjWxvIkGjDd0wt31\nsKXJ+EgDnBI5kns1gHTrYOmjpqJRNI6IvwyCIOzyiwYV6iyNV5rlE8IfHZA5OxTJ\n342Bw9gLsBxqjP1wXvb72RC9g1OZp0tpSTmZcZC8DcztizZm4Y0L37iXkHQblPFv\nVC336JIi7Ln2v+U/G9sjVxDjAsCp123pXT6jTByN6NePRrwr3K2ZnSVdl5kwrlSq\n1/c8UPWiLvHj1HiYVA7c2CY3h431iUO1pnR5R+RESZE0m+moHTCRVbtKREFnp9YA\nr/pNuBDP1pxZiNllI1rUlC5iWuE2eVkOCki6kRKbiDvKKkFKtwndVGY9zvx2G+c/\nTP+rRF4Ux9JlkHv5puwcJR3S9vdVoSjNx2gyDgh6Fr37QoHsCsIige64Ag/a0uQm\n+5f+YvdVIUF5gKQeB2BORd40200lDqYVxGEPZdlzO3Wcl7biyKuc7mjzi7IkZneE\nPuo3YcTDfnwMBxbc3EqiejkDb/jrT6HWrhqd8OFxYCmyc/P31FmDeUDdpDViwCl2\nkNNAh9MNqLSqw2DS2s2xBDNEQDPOvZrTFgDGSj2fpPitv/kjNgvJ3hYSTLfwVWaa\nWtxYv6/UneZUd4r+nQB0FV5t9X6nCKDPi3eEJKH2Nfsg3Ki85EM5Evw8EVUtyZvz\nzA3d4ydSktbvRW11\n=cWyA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/54dc34ec2279378c78fa2d9155668e39e20decda",
          "sha": "54dc34ec2279378c78fa2d9155668e39e20decda",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/54dc34ec2279378c78fa2d9155668e39e20decda"
        }
      ],
      "message": "clang-tidy: Fix critical warnings\n\nThe std::move in coinstatsindex was not necessary since it was passed as a const reference argument.\n\nThe other change in the utxo supply fuzz test changes a line that seems to have triggered a false alarm.",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-07T15:28:31Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-09-04T16:34:58Z"
      },
      "sha": "c76797481155754329ec6a6f58e8402569043944"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19551287222,
      "node_id": "HRFPE_lADOABII586P16NYzwAAAASNWPe2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19551287222",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/c76797481155754329ec6a6f58e8402569043944",
      "created_at": "2025-09-07T15:41:00Z"
    },
    {
      "event": "commented",
      "id": 3263892384,
      "node_id": "IC_kwDOABII587Ciwug",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3263892384",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-07T16:34:34Z",
      "updated_at": "2025-09-07T16:34:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I haven't checked this, but the new struct is no longer trivially copyable, so it may have effects outside of the lines you have touched.\r\n\r\nCorrect, I confirmed this with `static_assert(std::is_trivially_copyable_v<DBVal>)`. I am not sure how to test that there are additional effects from this.\r\n\r\n> we should probably make it trivially copyable, but this seems unrelated.\r\n\r\nThis seems like a good change to me but I have[ opened a separate PR](https://github.com/bitcoin/bitcoin/pull/33332) for it since I am not sure if this is really necessary to do here. If reviewers would like to see it merged together with this the other PR could still be fast tracked I guess or I can merge it here. But it rather seems like it's comparable to the LevelDB compaction issue. ",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#issuecomment-3263892384",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30469"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105373992",
      "pull_request_review_id": 2865638569,
      "id": 2105373992,
      "node_id": "PRRC_kwDOABII5859fXUo",
      "diff_hunk": "@@ -533,3 +540,56 @@ bool CoinStatsIndex::ReverseBlock(const CBlock& block, const CBlockIndex* pindex\n \n     return true;\n }\n+\n+bool CoinStatsIndex::MigrateToV1() {\n+    LogInfo(\"Migrating coinstatsindex to new format (v1). This might take a few minutes.\\n\");\n+    CDBBatch batch(*m_db);\n+    DBVal entry;\n+    DBVal entry_prev;\n+    const CBlockIndex *pindex{m_best_block_index};\n+    if (!LookUpOne(*m_db, {pindex->GetBlockHash(), pindex->nHeight}, entry)) {\n+        return false;\n+    }\n+\n+    // Loop backwards until we hit the genesis block which doesn't need to be updated\n+    while (pindex->pprev) {\n+        if (pindex->nHeight % 10000 == 0) LogInfo(\"Migrating block at height %i\\n\", pindex->nHeight);",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 33,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "803151920789253edc42360642df40bdbe1b967c",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nit: I think this message should be a little clearer. How about: \"Migrating coinstatsindex, current block height %s\".",
      "created_at": "2025-05-23T20:28:08Z",
      "updated_at": "2025-05-23T20:40:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2105373992",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105373992"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 556,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2106750204",
      "pull_request_review_id": 2867562458,
      "id": 2106750204,
      "node_id": "PRRC_kwDOABII5859knT8",
      "diff_hunk": "",
      "path": "test/functional/data/coinstatsindex_v0_corrupt/000006.log",
      "position": 1,
      "original_position": 1,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "original_commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It is \"just\" 20kB, but I think we'd want to avoid adding binary blobs to the repo at this point. At a minimum, it would be good to have a reason to do this.\r\n\r\nThe alternative of just using a previous release to create it on-demand has many benefits:\r\n\r\n* It works on Windows as well\r\n* It doesn't bloat the git history by 20+ kB forever\r\n* It is easier to review and easier to adapt",
      "created_at": "2025-05-26T07:41:53Z",
      "updated_at": "2025-05-26T07:41:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2106750204",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2106750204"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107034420",
      "pull_request_review_id": 2867973965,
      "id": 2107034420,
      "node_id": "PRRC_kwDOABII5859lss0",
      "diff_hunk": "",
      "path": "test/functional/data/coinstatsindex_v0_corrupt/000006.log",
      "position": 1,
      "original_position": 1,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "original_commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "in_reply_to_id": 2106750204,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> This all looks good to me, but I am not sure if embedding the database in our functional test suite is a good idea. I don't think it is too much data, but I am not sure how stable it is in terms of file formats. Is this really compatible with all posix systems? Then again it could just be removed once/if it starts becoming unreliable.\r\n\r\n> It is \"just\" 20kB, but I think we'd want to avoid adding binary blobs to the repo at this point. At a minimum, it would be good to have a reason to do this.\r\n\r\nHappy to try other approaches that are more stable and easier to grasp, I did think about alternative approaches too. My personal \"best\" alternative I could come up with was to add a leveldb python library to our test framework and edit the db on the fly with it, e.g. [plyvel](https://github.com/wbolster/plyvel). On the one hand, I am not sure if it's worth adding such a dependency for this test case, on the other hand this could be used to simulate leveldb corruption for all kinds of tests all over the codebase so that may make it worth it. What are your thoughts on that?\r\n\r\n> The alternative of just using a previous release to create it on-demand\r\n\r\nMaybe I am not getting it but how would you create the corrupt index with the previous release in the test? The only way I can think of is to mine a deterministic chain long enough to overflow the values just like it happened in signet. But that would require a lot of blocks to be mined and this would make the test extremely slow, probably prohibiting it from being run on the CI. And for being run locally the previous releases would be needed so I fear this test would hardly be run ever. So if this is the way to do it the downsides outweigh the benefits. But you probably have something else in mind that I am not able to think of right now... \r\n\r\nOr maybe you would discard the corruption test and only do the happy path test?",
      "created_at": "2025-05-26T10:29:11Z",
      "updated_at": "2025-05-26T10:32:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2107034420",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107034420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107076197",
      "pull_request_review_id": 2868038077,
      "id": 2107076197,
      "node_id": "PRRC_kwDOABII5859l25l",
      "diff_hunk": "",
      "path": "test/functional/data/coinstatsindex_v0_corrupt/000006.log",
      "position": 1,
      "original_position": 1,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "original_commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "in_reply_to_id": 2106750204,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Or maybe you would discard the corruption test and only do the happy path test?\r\n\r\nYeah, I wonder if we can reliably test anything other than the happy path anyway. Generally, once UB happened, there is no reliable way to recover from it. While in practise here, most likely you'll end up with negative values, I don't think this is guaranteed by the C++ standard and probably not something to be able to rely on.\r\n\r\nTaking a step back, the size of the index is probably small and it is not too hard to re-create it. So an alternative to attempting to migrate it, could be to just have the index sit under a new name/folder for new releases from now. This should allow downgrades to previous releases to continue using the prior index on a best-effort-basis without user involvement. On upgrades, the new location is used without user involvement. A warning could be printed on every start to offer the user to delete the old index, if they don't need it for use with previous releases?",
      "created_at": "2025-05-26T10:56:26Z",
      "updated_at": "2025-05-26T10:56:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2107076197",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107076197"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2122135447",
      "pull_request_review_id": 2889907750,
      "id": 2122135447,
      "node_id": "PRRC_kwDOABII585-fTeX",
      "diff_hunk": "",
      "path": "test/functional/data/coinstatsindex_v0_corrupt/000006.log",
      "position": 1,
      "original_position": 1,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "original_commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "in_reply_to_id": 2106750204,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Yeah, I wonder if we can reliably test anything other than the happy path anyway. Generally, once UB happened, there is no reliable way to recover from it. While in practise here, most likely you'll end up with negative values, I don't think this is guaranteed by the C++ standard and probably not something to be able to rely on.\r\n\r\nSure, there is no guarantee that the check that the corruption test is testing will actually be hit for every corrupt index. I still think it would be good to have test coverage here but I am also happy to remove it (and implement the rest with a previous release) if other reviewers agree we only need the happy path.\r\n\r\n> Taking a step back, the size of the index is probably small and it is not too hard to re-create it. So an alternative to attempting to migrate it, could be to just have the index sit under a new name/folder for new releases from now. This should allow downgrades to previous releases to continue using the prior index on a best-effort-basis without user involvement. On upgrades, the new location is used without user involvement. A warning could be printed on every start to offer the user to delete the old index, if they don't need it for use with previous releases?\r\n\r\nHmm, the size of the mainnet coinstats index on my machine is 160MB, but I'm not sure I like any amount of data that will be left over in the users datadir potentially forever. Worst case the user has also used the node for Testnet3 and Signet and it may be over 500MB total. I am not sure how many people notice such warnings and act on them, so I am kind of on the fence between these two solutions. Is there any precedent for something like this that could give some guidance @maflcko ? Nevertheless, it would indeed be a way simpler fix, I have sketched this out here: https://github.com/fjahr/bitcoin/tree/2024-07-csi-overflow-2-keep The fix commit is almost the same except for the folder name change. And then there is a simple compatibility test. The versioning code and migration are scrapped.\r\n\r\nI am currently undecided between (potentially) leaving data on users disk that may not be used and making downgrading possible. I will have to think about this a little bit more I would be happy to hear more feedback what other reviewers think. Maybe it's even worth bringing it up on IRC to get some more input.",
      "created_at": "2025-06-02T20:54:20Z",
      "updated_at": "2025-06-02T20:54:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2122135447",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2122135447"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2122723920",
      "pull_request_review_id": 2890706644,
      "id": 2122723920,
      "node_id": "PRRC_kwDOABII585-hjJQ",
      "diff_hunk": "",
      "path": "test/functional/data/coinstatsindex_v0_corrupt/000006.log",
      "position": 1,
      "original_position": 1,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "original_commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "in_reply_to_id": 2106750204,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Deleting the folder right away should be fine, too. (This is what this pull is doing?) An alternative would be to delay the deletion until the next major release and keep the old data for one release.",
      "created_at": "2025-06-03T05:31:55Z",
      "updated_at": "2025-06-03T05:31:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2122723920",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2122723920"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2126292213",
      "pull_request_review_id": 2896236906,
      "id": 2126292213,
      "node_id": "PRRC_kwDOABII585-vKT1",
      "diff_hunk": "",
      "path": "test/functional/data/coinstatsindex_v0_corrupt/000006.log",
      "position": 1,
      "original_position": 1,
      "commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "original_commit_id": "73571b9c196626f56ad459267cac5149f255aa3c",
      "in_reply_to_id": 2106750204,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "No, it wasn't deleting it because it sounded like it should be kept around but yeah, deleting makes sense startin from a future version. I will just go with >=31 for now, if this gets backported the version check can be adapted accordingly.",
      "created_at": "2025-06-04T10:46:15Z",
      "updated_at": "2025-06-04T10:46:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2126292213",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2126292213"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149180888",
      "pull_request_review_id": 2930844133,
      "id": 2149180888,
      "node_id": "PRRC_kwDOABII586AGeXY",
      "diff_hunk": "@@ -106,16 +107,41 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superceded by a fixed version at \"indexes/coinstatsindex\".\n+    // The original index is kept around until the next release in case users\n+    // decide to downgrade their node.\n+    // TODO: This may be removed some time after v29 has reached end of life.\n+    auto old_path = gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\";\n+    if (fs::exists(old_path)) {\n+        if (CLIENT_VERSION >= 310000) {\n+            fs::remove_all(old_path);\n+            LogInfo(\"Old version of coinstatsindex was found at %s and deleted.\", fs::PathToString(old_path));\n+        } else {\n+            LogWarning(\"Old version of coinstatsindex found at %s. This folder can be safely deleted unless you \" \\\n+                \"plan to downgrade your node to version 29 or lower.\", fs::PathToString(old_path));",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 73,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "not sure about changing the software behavior based on the version number. This will cause test failures when the version is bumped after the branch off (or it will require to change the tests in the same commit that bumps the version). This seems odd. Also, at least one of the branches will be dead code. So I think it would be better to just inline the non-dead code and have the dead code in a code comment (or other comment) with a note to adjust it after the branch-off.",
      "created_at": "2025-06-16T06:56:48Z",
      "updated_at": "2025-06-16T06:56:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2149180888",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149180888"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 122,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149272978",
      "pull_request_review_id": 2930988665,
      "id": 2149272978,
      "node_id": "PRRC_kwDOABII586AG02S",
      "diff_hunk": "@@ -106,16 +107,41 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superceded by a fixed version at \"indexes/coinstatsindex\".",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 62,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "\r\n    superceded -> superseded [correct spelling of â€œsupersededâ€]\r\n",
      "created_at": "2025-06-16T07:50:04Z",
      "updated_at": "2025-06-16T07:50:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2149272978",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149272978"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 111,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2153304062",
      "pull_request_review_id": 2937286235,
      "id": 2153304062,
      "node_id": "PRRC_kwDOABII586AWM_-",
      "diff_hunk": "@@ -106,16 +107,41 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superceded by a fixed version at \"indexes/coinstatsindex\".\n+    // The original index is kept around until the next release in case users\n+    // decide to downgrade their node.\n+    // TODO: This may be removed some time after v29 has reached end of life.\n+    auto old_path = gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\";\n+    if (fs::exists(old_path)) {\n+        if (CLIENT_VERSION >= 310000) {\n+            fs::remove_all(old_path);\n+            LogInfo(\"Old version of coinstatsindex was found at %s and deleted.\", fs::PathToString(old_path));\n+        } else {\n+            LogWarning(\"Old version of coinstatsindex found at %s. This folder can be safely deleted unless you \" \\\n+                \"plan to downgrade your node to version 29 or lower.\", fs::PathToString(old_path));",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 73,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "in_reply_to_id": 2149180888,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Removed the version specific removal and replaced it with a TODO to delete the index in the future.",
      "created_at": "2025-06-17T23:01:41Z",
      "updated_at": "2025-06-17T23:01:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2153304062",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2153304062"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 122,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2153304452",
      "pull_request_review_id": 2937286721,
      "id": 2153304452,
      "node_id": "PRRC_kwDOABII586AWNGE",
      "diff_hunk": "@@ -106,16 +107,41 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superceded by a fixed version at \"indexes/coinstatsindex\".",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 62,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "1a1b7cf3c514aeb344bb9895a37f11c603914881",
      "in_reply_to_id": 2149272978,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2025-06-17T23:02:06Z",
      "updated_at": "2025-06-17T23:02:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2153304452",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2153304452"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 111,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2193373429",
      "pull_request_review_id": 2998999955,
      "id": 2193373429,
      "node_id": "PRRC_kwDOABII586CvDj1",
      "diff_hunk": "@@ -154,7 +154,7 @@ def check_clean_start(extra_args):\n                 'startup_args': ['-blockfilterindex=1'],\n             },\n             {\n-                'filepath_glob': 'indexes/coinstats/db/*.*',\n+                'filepath_glob': 'indexes/coinstatsindex/db/*.*',",
      "path": "test/functional/feature_init.py",
      "position": 14,
      "original_position": 5,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "5bbbcc120f1139655787e7454277bb2d73cb49e4",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "it's commented out, but could also update line 131 above.\r\nAlso, `doc/files.md` should be updated.",
      "created_at": "2025-07-08T20:20:25Z",
      "updated_at": "2025-07-08T22:09:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2193373429",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2193373429"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2193512334",
      "pull_request_review_id": 2998999955,
      "id": 2193512334,
      "node_id": "PRRC_kwDOABII586CvleO",
      "diff_hunk": "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test coinstatsindex across node versions.\n+\n+This test may be removed some time after v29 has reached end of life.\n+\"\"\"\n+\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+class CoinStatsIndexTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.supports_cli = False\n+        self.extra_args = [[\"-coinstatsindex\"],[\"-coinstatsindex\"]]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_nodes(self):\n+        self.add_nodes(\n+            self.num_nodes,\n+            extra_args=self.extra_args,\n+            versions=[\n+                None,\n+                280000,\n+            ],\n+        )\n+        self.start_nodes()\n+\n+    def run_test(self):\n+        self._test_coin_stats_index_compatibility()\n+\n+    def _test_coin_stats_index_compatibility(self):\n+        node = self.nodes[0]\n+        legacy_node = self.nodes[1]\n+        for n in self.nodes:\n+            self.wait_until(lambda: n.getindexinfo()['coinstatsindex']['synced'] is True)\n+\n+        self.log.info(\"Test that gettxoutsetinfo() output is consistent between the different index versions\")\n+        res0 = node.gettxoutsetinfo('muhash')\n+        res1 = legacy_node.gettxoutsetinfo('muhash')\n+        assert_equal(res1, res0)\n+\n+        self.log.info(\"Test that gettxoutsetinfo() output is consistent for the new index running on a datadir with the old version\")\n+        self.stop_nodes()\n+        shutil.rmtree(node.chain_path / \"indexes\" / \"coinstatsindex\")\n+        shutil.copytree(legacy_node.chain_path / \"indexes\" / \"coinstats\", node.chain_path / \"indexes\" / \"coinstats\")\n+        msg = f\"[CoinStatsIndex] [warning] Old version of coinstatsindex found at {node.chain_path}/indexes/coinstats. This folder can be safely deleted unless you plan to downgrade your node to version 29 or lower.\"",
      "path": "test/functional/feature_coinstatsindex_compatibility.py",
      "position": 1,
      "original_position": 54,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "e5eb7d346772691e5d402ff4e1852bc50231a0a0",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "FYI test fails because of some windows path-printing isues.",
      "created_at": "2025-07-08T22:02:28Z",
      "updated_at": "2025-07-08T22:09:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2193512334",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2193512334"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2203533119",
      "pull_request_review_id": 3014320397,
      "id": 2203533119,
      "node_id": "PRRC_kwDOABII586DVz8_",
      "diff_hunk": "@@ -154,7 +154,7 @@ def check_clean_start(extra_args):\n                 'startup_args': ['-blockfilterindex=1'],\n             },\n             {\n-                'filepath_glob': 'indexes/coinstats/db/*.*',\n+                'filepath_glob': 'indexes/coinstatsindex/db/*.*',",
      "path": "test/functional/feature_init.py",
      "position": 14,
      "original_position": 5,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "5bbbcc120f1139655787e7454277bb2d73cb49e4",
      "in_reply_to_id": 2193373429,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2025-07-13T21:46:18Z",
      "updated_at": "2025-07-13T21:46:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2203533119",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2203533119"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2203537800",
      "pull_request_review_id": 3014326069,
      "id": 2203537800,
      "node_id": "PRRC_kwDOABII586DV1GI",
      "diff_hunk": "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test coinstatsindex across node versions.\n+\n+This test may be removed some time after v29 has reached end of life.\n+\"\"\"\n+\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+class CoinStatsIndexTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.supports_cli = False\n+        self.extra_args = [[\"-coinstatsindex\"],[\"-coinstatsindex\"]]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_nodes(self):\n+        self.add_nodes(\n+            self.num_nodes,\n+            extra_args=self.extra_args,\n+            versions=[\n+                None,\n+                280000,\n+            ],\n+        )\n+        self.start_nodes()\n+\n+    def run_test(self):\n+        self._test_coin_stats_index_compatibility()\n+\n+    def _test_coin_stats_index_compatibility(self):\n+        node = self.nodes[0]\n+        legacy_node = self.nodes[1]\n+        for n in self.nodes:\n+            self.wait_until(lambda: n.getindexinfo()['coinstatsindex']['synced'] is True)\n+\n+        self.log.info(\"Test that gettxoutsetinfo() output is consistent between the different index versions\")\n+        res0 = node.gettxoutsetinfo('muhash')\n+        res1 = legacy_node.gettxoutsetinfo('muhash')\n+        assert_equal(res1, res0)\n+\n+        self.log.info(\"Test that gettxoutsetinfo() output is consistent for the new index running on a datadir with the old version\")\n+        self.stop_nodes()\n+        shutil.rmtree(node.chain_path / \"indexes\" / \"coinstatsindex\")\n+        shutil.copytree(legacy_node.chain_path / \"indexes\" / \"coinstats\", node.chain_path / \"indexes\" / \"coinstats\")\n+        msg = f\"[CoinStatsIndex] [warning] Old version of coinstatsindex found at {node.chain_path}/indexes/coinstats. This folder can be safely deleted unless you plan to downgrade your node to version 29 or lower.\"",
      "path": "test/functional/feature_coinstatsindex_compatibility.py",
      "position": 1,
      "original_position": 54,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "e5eb7d346772691e5d402ff4e1852bc50231a0a0",
      "in_reply_to_id": 2193512334,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed, and thanks for the ping, I missed the failed CI initially.",
      "created_at": "2025-07-13T22:05:30Z",
      "updated_at": "2025-07-13T22:05:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2203537800",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2203537800"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2219983800",
      "pull_request_review_id": 3039291923,
      "id": 2219983800,
      "node_id": "PRRC_kwDOABII586EUkO4",
      "diff_hunk": "@@ -106,16 +107,36 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superseded by a fixed version at \"indexes/coinstatsindex\".\n+    // The original index is kept around until the next release in case users\n+    // decide to downgrade their node.\n+    auto old_path = gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\";\n+    if (fs::exists(old_path)) {\n+        // TODO: Change this to deleting the old index with v31.\n+        LogWarning(\"Old version of coinstatsindex found at %s. This folder can be safely deleted unless you \" \\\n+            \"plan to downgrade your node to version 29 or lower.\", fs::PathToString(old_path));\n+    }\n+    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstatsindex\"};\n     fs::create_directories(path);\n \n     m_db = std::make_unique<CoinStatsIndex::DB>(path / \"db\", n_cache_size, f_memory, f_wipe);\n }\n \n bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n-    const CAmount block_subsidy{GetBlockSubsidy(block.height, Params().GetConsensus())};\n-    m_total_subsidy += block_subsidy;\n+    CAmount block_unspendable{0};\n+    CBlockUndo block_undo{};\n+\n+    m_block_prevout_spent_amount = 0;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 84,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "4fc1b2214baf10d0481c11ab0fc1de2b5d55d687",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I wonder if it wouldn't be simpler if all of the `m_block_xyz` class members were just local variables within `CoinStatsIndex::CustomAppend` instead.\r\nThe previous values are being overwritten here with each new block, and as far as I can see the saved values (while being set to correct values in `CustomInit` and `ReverseBlock`) are not used anywhere - except for \r\n[this line](https://github.com/fjahr/bitcoin/blob/4cb2c0520211634ee3caf6d4c3a1e65b2bdb2dc6/src/index/coinstatsindex.cpp#L483C5-L483C31) in `ReverseBlock` - but we could also use the value from `read_out` there (if we don't want to calculate the diff).",
      "created_at": "2025-07-21T18:46:00Z",
      "updated_at": "2025-07-21T19:22:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2219983800",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2219983800"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2243912114",
      "pull_request_review_id": 3073409349,
      "id": 2243912114,
      "node_id": "PRRC_kwDOABII586Fv2Gy",
      "diff_hunk": "@@ -106,16 +107,36 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superseded by a fixed version at \"indexes/coinstatsindex\".\n+    // The original index is kept around until the next release in case users\n+    // decide to downgrade their node.\n+    auto old_path = gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\";\n+    if (fs::exists(old_path)) {\n+        // TODO: Change this to deleting the old index with v31.\n+        LogWarning(\"Old version of coinstatsindex found at %s. This folder can be safely deleted unless you \" \\\n+            \"plan to downgrade your node to version 29 or lower.\", fs::PathToString(old_path));\n+    }\n+    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstatsindex\"};\n     fs::create_directories(path);\n \n     m_db = std::make_unique<CoinStatsIndex::DB>(path / \"db\", n_cache_size, f_memory, f_wipe);\n }\n \n bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n-    const CAmount block_subsidy{GetBlockSubsidy(block.height, Params().GetConsensus())};\n-    m_total_subsidy += block_subsidy;\n+    CAmount block_unspendable{0};\n+    CBlockUndo block_undo{};\n+\n+    m_block_prevout_spent_amount = 0;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 84,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "4fc1b2214baf10d0481c11ab0fc1de2b5d55d687",
      "in_reply_to_id": 2219983800,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I also think it would be better to drop the `m_block_*` class members since they're basically only used by `CustomAppend`.",
      "created_at": "2025-07-30T21:38:29Z",
      "updated_at": "2025-07-30T21:38:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2243912114",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2243912114"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2250201595",
      "pull_request_review_id": 3082428720,
      "id": 2250201595,
      "node_id": "PRRC_kwDOABII586GH1n7",
      "diff_hunk": "@@ -106,16 +107,36 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superseded by a fixed version at \"indexes/coinstatsindex\".\n+    // The original index is kept around until the next release in case users\n+    // decide to downgrade their node.\n+    auto old_path = gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\";\n+    if (fs::exists(old_path)) {\n+        // TODO: Change this to deleting the old index with v31.\n+        LogWarning(\"Old version of coinstatsindex found at %s. This folder can be safely deleted unless you \" \\\n+            \"plan to downgrade your node to version 29 or lower.\", fs::PathToString(old_path));\n+    }\n+    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstatsindex\"};\n     fs::create_directories(path);\n \n     m_db = std::make_unique<CoinStatsIndex::DB>(path / \"db\", n_cache_size, f_memory, f_wipe);\n }\n \n bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n-    const CAmount block_subsidy{GetBlockSubsidy(block.height, Params().GetConsensus())};\n-    m_total_subsidy += block_subsidy;\n+    CAmount block_unspendable{0};\n+    CBlockUndo block_undo{};\n+\n+    m_block_prevout_spent_amount = 0;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 84,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "4fc1b2214baf10d0481c11ab0fc1de2b5d55d687",
      "in_reply_to_id": 2219983800,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ok, I am working on a PR for this and I should have it ready by tomorrow but I think it's better to keep it separate from this one.",
      "created_at": "2025-08-04T00:21:54Z",
      "updated_at": "2025-08-04T00:21:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2250201595",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2250201595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2251979669",
      "pull_request_review_id": 3084928588,
      "id": 2251979669,
      "node_id": "PRRC_kwDOABII586GOnuV",
      "diff_hunk": "@@ -106,16 +107,36 @@ std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n     : BaseIndex(std::move(chain), \"coinstatsindex\")\n {\n-    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\"};\n+    // An earlier version of the index used \"indexes/coinstats\" but it contained\n+    // a bug and is superseded by a fixed version at \"indexes/coinstatsindex\".\n+    // The original index is kept around until the next release in case users\n+    // decide to downgrade their node.\n+    auto old_path = gArgs.GetDataDirNet() / \"indexes\" / \"coinstats\";\n+    if (fs::exists(old_path)) {\n+        // TODO: Change this to deleting the old index with v31.\n+        LogWarning(\"Old version of coinstatsindex found at %s. This folder can be safely deleted unless you \" \\\n+            \"plan to downgrade your node to version 29 or lower.\", fs::PathToString(old_path));\n+    }\n+    fs::path path{gArgs.GetDataDirNet() / \"indexes\" / \"coinstatsindex\"};\n     fs::create_directories(path);\n \n     m_db = std::make_unique<CoinStatsIndex::DB>(path / \"db\", n_cache_size, f_memory, f_wipe);\n }\n \n bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n-    const CAmount block_subsidy{GetBlockSubsidy(block.height, Params().GetConsensus())};\n-    m_total_subsidy += block_subsidy;\n+    CAmount block_unspendable{0};\n+    CBlockUndo block_undo{};\n+\n+    m_block_prevout_spent_amount = 0;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 84,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "4fc1b2214baf10d0481c11ab0fc1de2b5d55d687",
      "in_reply_to_id": 2219983800,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Addressed in #33134",
      "created_at": "2025-08-04T16:22:51Z",
      "updated_at": "2025-08-04T16:22:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2251979669",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2251979669"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2252442694",
      "pull_request_review_id": 3085549849,
      "id": 2252442694,
      "node_id": "PRRC_kwDOABII586GQYxG",
      "diff_hunk": "@@ -48,24 +48,26 @@ struct CCoinsStats {\n \n     // Following values are only available from coinstats index\n \n-    //! Total cumulative amount of block subsidies up to and including this block\n-    CAmount total_subsidy{0};\n-    //! Total cumulative amount of unspendable coins up to and including this block\n+    //! Amount of unspendable coins in this block",
      "path": "src/kernel/coinstats.h",
      "position": 1,
      "original_position": 7,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "4fc1b2214baf10d0481c11ab0fc1de2b5d55d687",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 4fc1b2214baf10d0481c11ab0fc1de2b5d55d687 \"index: Fix coinstatsindex overflow issue\"\r\n\r\n`total_unspendable_amount` is still a cumulative value, not per block.",
      "created_at": "2025-08-04T19:52:54Z",
      "updated_at": "2025-08-04T20:00:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2252442694",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2252442694"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2280025687",
      "pull_request_review_id": 3125350761,
      "id": 2280025687,
      "node_id": "PRRC_kwDOABII586H5m5X",
      "diff_hunk": "@@ -48,24 +48,26 @@ struct CCoinsStats {\n \n     // Following values are only available from coinstats index\n \n-    //! Total cumulative amount of block subsidies up to and including this block\n-    CAmount total_subsidy{0};\n-    //! Total cumulative amount of unspendable coins up to and including this block\n+    //! Amount of unspendable coins in this block",
      "path": "src/kernel/coinstats.h",
      "position": 1,
      "original_position": 7,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "4fc1b2214baf10d0481c11ab0fc1de2b5d55d687",
      "in_reply_to_id": 2252442694,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed the comment",
      "created_at": "2025-08-15T23:31:52Z",
      "updated_at": "2025-08-15T23:31:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2280025687",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2280025687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2280550050",
      "pull_request_review_id": 3125992481,
      "id": 2280550050,
      "node_id": "PRRC_kwDOABII586H7m6i",
      "diff_hunk": "@@ -154,7 +154,7 @@ def check_clean_start(extra_args):\n                 'startup_args': ['-blockfilterindex=1'],\n             },\n             {\n-                'filepath_glob': 'indexes/coinstats/db/*.*',\n+                'filepath_glob': 'indexes/coinstatsindex/db/*.*',",
      "path": "test/functional/feature_init.py",
      "position": 14,
      "original_position": 5,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "5bbbcc120f1139655787e7454277bb2d73cb49e4",
      "in_reply_to_id": 2193373429,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Still see `indexes/coinstats/db/` above?\r\nhttps://github.com/bitcoin/bitcoin/blob/ca79480a9989379d20279540314fe9bc6b88f0f0/test/functional/feature_init.py#L131",
      "created_at": "2025-08-16T19:01:13Z",
      "updated_at": "2025-08-16T19:01:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2280550050",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2280550050"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2280853108",
      "pull_request_review_id": 3126315623,
      "id": 2280853108,
      "node_id": "PRRC_kwDOABII586H8w50",
      "diff_hunk": "@@ -154,7 +154,7 @@ def check_clean_start(extra_args):\n                 'startup_args': ['-blockfilterindex=1'],\n             },\n             {\n-                'filepath_glob': 'indexes/coinstats/db/*.*',\n+                'filepath_glob': 'indexes/coinstatsindex/db/*.*',",
      "path": "test/functional/feature_init.py",
      "position": 14,
      "original_position": 5,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "5bbbcc120f1139655787e7454277bb2d73cb49e4",
      "in_reply_to_id": 2193373429,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed the comment too.",
      "created_at": "2025-08-17T12:05:38Z",
      "updated_at": "2025-08-17T12:05:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2280853108",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2280853108"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2281470612",
      "pull_request_review_id": 3127023658,
      "id": 2281470612,
      "node_id": "PRRC_kwDOABII586H_HqU",
      "diff_hunk": "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test coinstatsindex across node versions.\n+\n+This test may be removed some time after v29 has reached end of life.\n+\"\"\"\n+\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+class CoinStatsIndexTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.supports_cli = False\n+        self.extra_args = [[\"-coinstatsindex\"],[\"-coinstatsindex\"]]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_nodes(self):\n+        self.add_nodes(\n+            self.num_nodes,\n+            extra_args=self.extra_args,\n+            versions=[\n+                None,\n+                280000,",
      "path": "test/functional/feature_coinstatsindex_compatibility.py",
      "position": 1,
      "original_position": 31,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "761c25b9d4c7b544ff04c20f6dd4c2c6243e90b0",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "you can't use this version, because it has not been downloaded (see the ci failure).\n\nYou'll have to download this version or use a downloaded version.",
      "created_at": "2025-08-18T07:00:43Z",
      "updated_at": "2025-08-18T07:00:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2281470612",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2281470612"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2282801398",
      "pull_request_review_id": 3128953282,
      "id": 2282801398,
      "node_id": "PRRC_kwDOABII586IEMj2",
      "diff_hunk": "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test coinstatsindex across node versions.\n+\n+This test may be removed some time after v29 has reached end of life.\n+\"\"\"\n+\n+import shutil\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+class CoinStatsIndexTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.supports_cli = False\n+        self.extra_args = [[\"-coinstatsindex\"],[\"-coinstatsindex\"]]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_previous_releases()\n+\n+    def setup_nodes(self):\n+        self.add_nodes(\n+            self.num_nodes,\n+            extra_args=self.extra_args,\n+            versions=[\n+                None,\n+                280000,",
      "path": "test/functional/feature_coinstatsindex_compatibility.py",
      "position": 1,
      "original_position": 31,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "761c25b9d4c7b544ff04c20f6dd4c2c6243e90b0",
      "in_reply_to_id": 2281470612,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed, I missed that this had changed.",
      "created_at": "2025-08-18T15:51:15Z",
      "updated_at": "2025-08-18T15:51:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2282801398",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2282801398"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2283353869",
      "pull_request_review_id": 3129757943,
      "id": 2283353869,
      "node_id": "PRRC_kwDOABII586IGTcN",
      "diff_hunk": "@@ -413,11 +414,16 @@ bool CoinStatsIndex::RevertBlock(const interfaces::BlockInfo& block)\n     assert(block.undo_data);\n     for (size_t i = 0; i < block.data->vtx.size(); ++i) {\n         const auto& tx{block.data->vtx.at(i)};\n+        const bool is_coinbase{tx->IsCoinBase()};\n+\n+        if (is_coinbase && IsBIP30Unspendable(block.hash, block.height)) {\n+            continue;\n+        }",
      "path": "src/index/coinstatsindex.cpp",
      "position": 276,
      "original_position": 56,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "b8c5bf71a4be4756740fb7b8a6a580153b007475",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In b8c5bf71a4be4756740fb7b8a6a580153b007475 \"index, refactor: DRY coinbase check\"\r\n\r\nThis seems like a bug fix that should be in it's own commit.\r\n\r\nShould this be decrementing `m_total_unspendable_amount` and `m_total_unspendables_bip30` to reverse what the similar code in `CustomAppend` does? This doesn't really matter once those members are removed.",
      "created_at": "2025-08-18T20:10:24Z",
      "updated_at": "2025-08-18T20:34:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2283353869",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2283353869"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": 423,
      "original_start_line": 419,
      "start_side": "RIGHT",
      "line": 425,
      "original_line": 425,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2299342031",
      "pull_request_review_id": 3153306138,
      "id": 2299342031,
      "node_id": "PRRC_kwDOABII586JDSzP",
      "diff_hunk": "@@ -413,11 +414,16 @@ bool CoinStatsIndex::RevertBlock(const interfaces::BlockInfo& block)\n     assert(block.undo_data);\n     for (size_t i = 0; i < block.data->vtx.size(); ++i) {\n         const auto& tx{block.data->vtx.at(i)};\n+        const bool is_coinbase{tx->IsCoinBase()};\n+\n+        if (is_coinbase && IsBIP30Unspendable(block.hash, block.height)) {\n+            continue;\n+        }",
      "path": "src/index/coinstatsindex.cpp",
      "position": 276,
      "original_position": 56,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "b8c5bf71a4be4756740fb7b8a6a580153b007475",
      "in_reply_to_id": 2283353869,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I find it almost a philosophical question if we should cover reorganizing the BIP30 blocks so I honestly didn't really think much about this and I added it almost by accident when reorganizing (is that a pun?) all the commits between the changes here and #33134 but I guess the removal of the checkpoints and surrounding discussions recently pushed me more into the camp of doing this fully correctly and this is why I added it when I previously didn't. I will move this into it's own commit.\r\n\r\n> This doesn't really matter once those members are removed.\r\n\r\nRight, after all changes here are applied the `m_total_unspendables_bip30` doesn't need fixing because it is removed it's replacement (`block_unspendables_bip30`) is handled differently. The value is now calculated only per block so there shouldn't be an issue because the behavior is not \"rolling this value back and forth\" like it used to with the member variable tracking. If a BIP30 block would be reorged, it would be moved to the hash key index (`CopyHeightIndexToHashIndex` in `CustomRemove`) and the new block at the same height would never save a value for it when it goes through `CustomAppend` because the `IsBIP30Unspendable` wouldn't apply because the hash should be different.\r\n\r\nAnd for `m_total_unspendable_amount` we don't need a fix because we pull its value out of the prev block record and update the member variable with this instead of rolling it back:\r\n\r\n```\r\n    m_total_unspendable_amount = read_out.second.total_unspendable_amount;\r\n```\r\n\r\nThen `m_total_unspendable_amount` is used in `CustomAppend` to calculate the value for the next block that comes in. We would need to do this if we were implementing `RevertBlock` without a disk read like I am doing here with `CustomAppend` but I think having the consistency check of the muhash is good to have so we get this for free when we read the prev block anyway.\r\n\r\nI am taking the easy out here by moving the \"fix\" of adding the conditional to the end of the commits. Then I think the commits should be consistent again.",
      "created_at": "2025-08-25T23:19:47Z",
      "updated_at": "2025-08-25T23:19:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2299342031",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2299342031"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": 423,
      "original_start_line": 419,
      "start_side": "RIGHT",
      "line": 425,
      "original_line": 425,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308783181",
      "pull_request_review_id": 3166891787,
      "id": 2308783181,
      "node_id": "PRRC_kwDOABII586JnTxN",
      "diff_hunk": "@@ -115,11 +115,10 @@ CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t\n bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n     const CAmount block_subsidy{GetBlockSubsidy(block.height, Params().GetConsensus())};\n-    m_total_subsidy += block_subsidy;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "e7b111a63067cf6c66140228c28ab1fa96f7ff18",
      "in_reply_to_id": null,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit https://github.com/bitcoin/bitcoin/pull/30469/commits/e7b111a63067cf6c66140228c28ab1fa96f7ff18 (_refactor, index: Remove member variables in coinstatsindex_):\r\n\r\nfor other reviewers: `read_out.second.total_subidy` is updated below:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/e7b111a63067cf6c66140228c28ab1fa96f7ff18/src/index/coinstatsindex.cpp#L200",
      "created_at": "2025-08-28T23:29:17Z",
      "updated_at": "2025-08-28T23:50:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2308783181",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308783181"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 118,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308806966",
      "pull_request_review_id": 3166891787,
      "id": 2308806966,
      "node_id": "PRRC_kwDOABII586JnZk2",
      "diff_hunk": "@@ -155,22 +172,22 @@ bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n \n                 // Skip unspendable coins\n                 if (coin.out.scriptPubKey.IsUnspendable()) {\n-                    read_out.second.total_unspendable_amount += coin.out.nValue;\n-                    read_out.second.total_unspendables_scripts += coin.out.nValue;\n+                    block_unspendable += coin.out.nValue;\n+                    new_value.second.block_unspendables_scripts += coin.out.nValue;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 107,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "c2bc3b97f741fc9e154653935d2c9612e73a3891",
      "in_reply_to_id": null,
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Isn't incrementing `new_value.second.block_unspendables_scripts` undefined behavior since it never gets initialized? (and the other `block_*` members of DBVal) ",
      "created_at": "2025-08-28T23:50:38Z",
      "updated_at": "2025-08-28T23:50:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2308806966",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308806966"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308952120",
      "pull_request_review_id": 3167118313,
      "id": 2308952120,
      "node_id": "PRRC_kwDOABII586Jn9A4",
      "diff_hunk": "@@ -48,24 +48,26 @@ struct CCoinsStats {\n \n     // Following values are only available from coinstats index\n \n-    //! Total cumulative amount of block subsidies up to and including this block\n-    CAmount total_subsidy{0};\n-    //! Total cumulative amount of unspendable coins up to and including this block\n+    //! Total amount of unspendable coins\n     CAmount total_unspendable_amount{0};\n-    //! Total cumulative amount of prevouts spent up to and including this block\n-    CAmount total_prevout_spent_amount{0};\n-    //! Total cumulative amount of outputs created up to and including this block\n-    CAmount total_new_outputs_ex_coinbase_amount{0};\n-    //! Total cumulative amount of coinbase outputs up to and including this block\n-    CAmount total_coinbase_amount{0};\n-    //! The unspendable coinbase amount from the genesis block\n-    CAmount total_unspendables_genesis_block{0};\n-    //! The two unspendable coinbase outputs total amount caused by BIP30\n-    CAmount total_unspendables_bip30{0};\n-    //! Total cumulative amount of outputs sent to unspendable scripts (OP_RETURN for example) up to and including this block\n-    CAmount total_unspendables_scripts{0};\n-    //! Total cumulative amount of coins lost due to unclaimed miner rewards up to and including this block\n-    CAmount total_unspendables_unclaimed_rewards{0};\n+\n+    //! Amount of block subsidies in this block\n+    CAmount block_subsidy{0};\n+    //! Amount of prevouts spent in this block\n+    CAmount block_prevout_spent_amount{0};\n+    //! Amount of outputs created in this block\n+    CAmount block_new_outputs_ex_coinbase_amount{0};\n+    //! Amount of coinbase outputs in this block\n+    CAmount block_coinbase_amount{0};\n+\n+    //! The unspendable coinbase output amount from the genesis block\n+    CAmount block_unspendables_genesis_block{0};\n+    //! The unspendable coinbase output amounts caused by BIP30\n+    CAmount block_unspendables_bip30{0};\n+    //! Amount of outputs sent to unspendable scripts (OP_RETURN for example) in this block\n+    CAmount block_unspendables_scripts{0};\n+    //! Amount of coins lost due to unclaimed miner rewards in this block\n+    CAmount block_unspendables_unclaimed_rewards{0};",
      "path": "src/kernel/coinstats.h",
      "position": 1,
      "original_position": 40,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Keeping the `block_unspendables_*` as cumulative totals would be more flexible, and would be nice to be able to directly query. (dropping `total_unspendable_amount` would be possible in that case, considering it's just the sum of these totals)\r\n\r\nLikewise keeping `total_subsidy`.\r\n\r\nWith those values, `total_subsidy = total_amount + total_unspendable_amount` should be an accounting identity, with `total_amount` also matching a manual sum of values in the utxo set, and `total_subsidy` being precisely satoshi's issuance schedule. Having that be conveniently indexed would be good for quick auditing IMO.",
      "created_at": "2025-08-29T02:16:16Z",
      "updated_at": "2025-08-29T03:18:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2308952120",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308952120"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308974859",
      "pull_request_review_id": 3167118313,
      "id": 2308974859,
      "node_id": "PRRC_kwDOABII586JoCkL",
      "diff_hunk": "@@ -115,20 +125,17 @@ CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t\n bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n     const CAmount block_subsidy{GetBlockSubsidy(block.height, Params().GetConsensus())};\n-    m_total_subsidy += block_subsidy;\n+    CAmount block_unspendable{0};\n+    std::pair<uint256, DBVal> new_value;\n \n     // Ignore genesis block\n     if (block.height > 0) {\n-        std::pair<uint256, DBVal> read_out;\n-        if (!m_db->Read(DBHeightKey(block.height - 1), read_out)) {\n-            return false;\n-        }\n-\n         uint256 expected_block_hash{*Assert(block.prev_hash)};\n-        if (read_out.first != expected_block_hash) {\n+        if (m_current_block_hash != expected_block_hash) {\n             LogWarning(\"previous block header belongs to unexpected block %s; expected %s\",\n-                      read_out.first.ToString(), expected_block_hash.ToString());\n+                      m_current_block_hash.ToString(), expected_block_hash.ToString());",
      "path": "src/index/coinstatsindex.cpp",
      "position": 108,
      "original_position": 87,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Shouldn't this be an error even if you can find the previous block header? You'll calculate incorrect values for `total_amount` otherwise?",
      "created_at": "2025-08-29T02:32:44Z",
      "updated_at": "2025-08-29T03:18:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2308974859",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308974859"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 143,
      "original_line": 143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308983931",
      "pull_request_review_id": 3167118313,
      "id": 2308983931,
      "node_id": "PRRC_kwDOABII586JoEx7",
      "diff_hunk": "@@ -155,22 +172,22 @@ bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n \n                 // Skip unspendable coins\n                 if (coin.out.scriptPubKey.IsUnspendable()) {\n-                    read_out.second.total_unspendable_amount += coin.out.nValue;\n-                    read_out.second.total_unspendables_scripts += coin.out.nValue;\n+                    block_unspendable += coin.out.nValue;\n+                    new_value.second.block_unspendables_scripts += coin.out.nValue;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 107,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "c2bc3b97f741fc9e154653935d2c9612e73a3891",
      "in_reply_to_id": 2308806966,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I also have this question. Adding `{0}` default initializers in the `struct DBVal` declaration seems sensible?",
      "created_at": "2025-08-29T02:41:41Z",
      "updated_at": "2025-08-29T03:18:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2308983931",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308983931"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308987847",
      "pull_request_review_id": 3167118313,
      "id": 2308987847,
      "node_id": "PRRC_kwDOABII586JoFvH",
      "diff_hunk": "@@ -174,16 +182,16 @@ bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n             }\n \n             // The coinbase tx has no undo data since no former output is spent\n-            if (!tx->IsCoinBase()) {\n+            if (!is_coinbase) {\n                 const auto& tx_undo{Assert(block.undo_data)->vtxundo.at(i - 1)};\n \n                 for (size_t j = 0; j < tx_undo.vprevout.size(); ++j) {\n-                    Coin coin{tx_undo.vprevout[j]};\n-                    COutPoint outpoint{tx->vin[j].prevout.hash, tx->vin[j].prevout.n};\n+                    const Coin coin{tx_undo.vprevout[j]};",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 148,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This could be a reference rather than a copy: `const Coin& coin{tx_undox.vprevout[j]};` ",
      "created_at": "2025-08-29T02:45:57Z",
      "updated_at": "2025-08-29T03:18:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2308987847",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2308987847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2309010798",
      "pull_request_review_id": 3167118313,
      "id": 2309010798,
      "node_id": "PRRC_kwDOABII586JoLVu",
      "diff_hunk": "@@ -31,31 +31,31 @@ struct DBVal {\n     uint64_t transaction_output_count;\n     uint64_t bogo_size;\n     CAmount total_amount;\n-    CAmount total_subsidy;\n+    CAmount block_subsidy;\n     CAmount total_unspendable_amount;\n-    CAmount total_prevout_spent_amount;\n-    CAmount total_new_outputs_ex_coinbase_amount;\n-    CAmount total_coinbase_amount;\n-    CAmount total_unspendables_genesis_block;\n-    CAmount total_unspendables_bip30;\n-    CAmount total_unspendables_scripts;\n-    CAmount total_unspendables_unclaimed_rewards;\n+    CAmount block_prevout_spent_amount;\n+    CAmount block_new_outputs_ex_coinbase_amount;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 15,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Both `prevout_spent_amount` and `new_outputs_ex_coinbase_amount` can overflow an int64_t in extreme cases -- filling a block with 15000 65-byte transactions (975kvB) repeatedly spending the same 7M BTC will hit 105 billion BTC, which is 1.05e19 sats which is about 13% more than 2**63-1 which is the max value a CAmount can store, and this is undefined behaviour in C++. (You'd need to cycle spends of ~12M BTC or more to overflow a uint64_t, though that is not undefined behaviour)\r\n\r\nEven if we don't want to actually fix this now because it's implausible for mainnet and would require a deliberate attack even on test nets (and is not even possible on regtest, as the halving schedule means total supply is only 15k rtBTC), having a dummy overflow field for these two values that's always set to zero would make it possible to fix this in future without having to reindex the entire blockchain.",
      "created_at": "2025-08-29T03:05:33Z",
      "updated_at": "2025-08-29T03:23:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2309010798",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2309010798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314667768",
      "pull_request_review_id": 3174594481,
      "id": 2314667768,
      "node_id": "PRRC_kwDOABII586J9wb4",
      "diff_hunk": "@@ -174,16 +182,16 @@ bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n             }\n \n             // The coinbase tx has no undo data since no former output is spent\n-            if (!tx->IsCoinBase()) {\n+            if (!is_coinbase) {\n                 const auto& tx_undo{Assert(block.undo_data)->vtxundo.at(i - 1)};\n \n                 for (size_t j = 0; j < tx_undo.vprevout.size(); ++j) {\n-                    Coin coin{tx_undo.vprevout[j]};\n-                    COutPoint outpoint{tx->vin[j].prevout.hash, tx->vin[j].prevout.n};\n+                    const Coin coin{tx_undo.vprevout[j]};",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 148,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": 2308987847,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2025-09-01T23:54:05Z",
      "updated_at": "2025-09-01T23:54:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2314667768",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314667768"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314668014",
      "pull_request_review_id": 3174594706,
      "id": 2314668014,
      "node_id": "PRRC_kwDOABII586J9wfu",
      "diff_hunk": "@@ -31,31 +31,31 @@ struct DBVal {\n     uint64_t transaction_output_count;\n     uint64_t bogo_size;\n     CAmount total_amount;\n-    CAmount total_subsidy;\n+    CAmount block_subsidy;\n     CAmount total_unspendable_amount;\n-    CAmount total_prevout_spent_amount;\n-    CAmount total_new_outputs_ex_coinbase_amount;\n-    CAmount total_coinbase_amount;\n-    CAmount total_unspendables_genesis_block;\n-    CAmount total_unspendables_bip30;\n-    CAmount total_unspendables_scripts;\n-    CAmount total_unspendables_unclaimed_rewards;\n+    CAmount block_prevout_spent_amount;\n+    CAmount block_new_outputs_ex_coinbase_amount;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 15,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": 2309010798,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Hm, I am not sure on this one. It sounds like this is so unlikely that the overflow value would probably go without an implementation of how to use it until something that triggers this actually happens. E.g. even if something goes on that looks suspicious the next release may be a few months out so the attack could already be carried out. In that case users would need to resync again anyway if Iâ€™m not mistaken. So I would prefer to only add this if there is a clear path to implement the overflow functionality by v31 which means there should be multiple people agreeing that this is important enough to get review. I am happy to do this if there is appetite to review it.\r\n\r\nPotentially moving the values to uint seems like the a low impact change but itâ€™s also quite unsatisfying because it worsens the â€œsemantic correctnessâ€ by using a less descriptive type and it also doesnâ€™t fix the problem completely. What do you think about introducing a `PositiveAmount` type, an unsigned `CAmount`? It might be worth it since that could be used in other places as well?\r\n\r\nFor the overflow field, do I understand correctly that you would want to use one overflow field for multiple values?",
      "created_at": "2025-09-01T23:54:29Z",
      "updated_at": "2025-09-01T23:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2314668014",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314668014"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314668306",
      "pull_request_review_id": 3174594940,
      "id": 2314668306,
      "node_id": "PRRC_kwDOABII586J9wkS",
      "diff_hunk": "@@ -115,20 +125,17 @@ CoinStatsIndex::CoinStatsIndex(std::unique_ptr<interfaces::Chain> chain, size_t\n bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n     const CAmount block_subsidy{GetBlockSubsidy(block.height, Params().GetConsensus())};\n-    m_total_subsidy += block_subsidy;\n+    CAmount block_unspendable{0};\n+    std::pair<uint256, DBVal> new_value;\n \n     // Ignore genesis block\n     if (block.height > 0) {\n-        std::pair<uint256, DBVal> read_out;\n-        if (!m_db->Read(DBHeightKey(block.height - 1), read_out)) {\n-            return false;\n-        }\n-\n         uint256 expected_block_hash{*Assert(block.prev_hash)};\n-        if (read_out.first != expected_block_hash) {\n+        if (m_current_block_hash != expected_block_hash) {\n             LogWarning(\"previous block header belongs to unexpected block %s; expected %s\",\n-                      read_out.first.ToString(), expected_block_hash.ToString());\n+                      m_current_block_hash.ToString(), expected_block_hash.ToString());",
      "path": "src/index/coinstatsindex.cpp",
      "position": 108,
      "original_position": 87,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": 2308974859,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Right, this code is \"belts-and-suspenders\" since we should never end up here since the base index should rewind us in this case before entering `CustomAppend`. So I will turn this into an error and drop the hashkey query below since we aren't recovering from that anyway.\r\n\r\nThis isn't something that is added here so it could be a separate PR but I will add it here since it simplifies the code a bit.",
      "created_at": "2025-09-01T23:54:55Z",
      "updated_at": "2025-09-01T23:54:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2314668306",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314668306"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 143,
      "original_line": 143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314668493",
      "pull_request_review_id": 3174595103,
      "id": 2314668493,
      "node_id": "PRRC_kwDOABII586J9wnN",
      "diff_hunk": "@@ -155,22 +172,22 @@ bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n \n                 // Skip unspendable coins\n                 if (coin.out.scriptPubKey.IsUnspendable()) {\n-                    read_out.second.total_unspendable_amount += coin.out.nValue;\n-                    read_out.second.total_unspendables_scripts += coin.out.nValue;\n+                    block_unspendable += coin.out.nValue;\n+                    new_value.second.block_unspendables_scripts += coin.out.nValue;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 107,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "c2bc3b97f741fc9e154653935d2c9612e73a3891",
      "in_reply_to_id": 2308806966,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Adding {0} default initializers in the struct DBVal declaration seems sensible?\r\n\r\nDone",
      "created_at": "2025-09-01T23:55:14Z",
      "updated_at": "2025-09-01T23:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2314668493",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314668493"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314670363",
      "pull_request_review_id": 3174597121,
      "id": 2314670363,
      "node_id": "PRRC_kwDOABII586J9xEb",
      "diff_hunk": "@@ -48,24 +48,26 @@ struct CCoinsStats {\n \n     // Following values are only available from coinstats index\n \n-    //! Total cumulative amount of block subsidies up to and including this block\n-    CAmount total_subsidy{0};\n-    //! Total cumulative amount of unspendable coins up to and including this block\n+    //! Total amount of unspendable coins\n     CAmount total_unspendable_amount{0};\n-    //! Total cumulative amount of prevouts spent up to and including this block\n-    CAmount total_prevout_spent_amount{0};\n-    //! Total cumulative amount of outputs created up to and including this block\n-    CAmount total_new_outputs_ex_coinbase_amount{0};\n-    //! Total cumulative amount of coinbase outputs up to and including this block\n-    CAmount total_coinbase_amount{0};\n-    //! The unspendable coinbase amount from the genesis block\n-    CAmount total_unspendables_genesis_block{0};\n-    //! The two unspendable coinbase outputs total amount caused by BIP30\n-    CAmount total_unspendables_bip30{0};\n-    //! Total cumulative amount of outputs sent to unspendable scripts (OP_RETURN for example) up to and including this block\n-    CAmount total_unspendables_scripts{0};\n-    //! Total cumulative amount of coins lost due to unclaimed miner rewards up to and including this block\n-    CAmount total_unspendables_unclaimed_rewards{0};\n+\n+    //! Amount of block subsidies in this block\n+    CAmount block_subsidy{0};\n+    //! Amount of prevouts spent in this block\n+    CAmount block_prevout_spent_amount{0};\n+    //! Amount of outputs created in this block\n+    CAmount block_new_outputs_ex_coinbase_amount{0};\n+    //! Amount of coinbase outputs in this block\n+    CAmount block_coinbase_amount{0};\n+\n+    //! The unspendable coinbase output amount from the genesis block\n+    CAmount block_unspendables_genesis_block{0};\n+    //! The unspendable coinbase output amounts caused by BIP30\n+    CAmount block_unspendables_bip30{0};\n+    //! Amount of outputs sent to unspendable scripts (OP_RETURN for example) in this block\n+    CAmount block_unspendables_scripts{0};\n+    //! Amount of coins lost due to unclaimed miner rewards in this block\n+    CAmount block_unspendables_unclaimed_rewards{0};",
      "path": "src/kernel/coinstats.h",
      "position": 1,
      "original_position": 40,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": 2308952120,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ok, this basically means we are only turning the values into per-block that are most in danger of overflowing. I have done this and since we are not removing most of the members anymore, I squashed that commit which I hope should make review a bit easier now as well. At least overall the change is simpler with this, I think.",
      "created_at": "2025-09-01T23:58:56Z",
      "updated_at": "2025-09-01T23:58:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2314670363",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314670363"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314824654",
      "pull_request_review_id": 3174771484,
      "id": 2314824654,
      "node_id": "PRRC_kwDOABII586J-WvO",
      "diff_hunk": "@@ -31,31 +31,31 @@ struct DBVal {\n     uint64_t transaction_output_count;\n     uint64_t bogo_size;\n     CAmount total_amount;\n-    CAmount total_subsidy;\n+    CAmount block_subsidy;\n     CAmount total_unspendable_amount;\n-    CAmount total_prevout_spent_amount;\n-    CAmount total_new_outputs_ex_coinbase_amount;\n-    CAmount total_coinbase_amount;\n-    CAmount total_unspendables_genesis_block;\n-    CAmount total_unspendables_bip30;\n-    CAmount total_unspendables_scripts;\n-    CAmount total_unspendables_unclaimed_rewards;\n+    CAmount block_prevout_spent_amount;\n+    CAmount block_new_outputs_ex_coinbase_amount;",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 15,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": 2309010798,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "You only need 65 bits to handle a 1MB block full of 61B txs cycling 21M BTC, so could:\r\n * add a single uint8_t that we'd use two bits from for each \r\n * add two uint16_t's to count the number of times MAX_MONEY is exceeded\r\n * use __int128 or arith_uint256 for those fields\r\n\r\nCould also just cap the value:\r\n\r\n```c++\r\nstatic inline void cap_add(CAmount& v, CAmount x)\r\n{\r\n    if (std::numeric_limits<CAmount>::max() - x < v) {\r\n        v = std::numeric_limits<CAmount>::max();\r\n    } else {\r\n        v += x;\r\n    }\r\n}\r\n...\r\ncap_add(value.second.block_new_outputs_ex_coinbase_amount, coin.out.nValue);\r\n...\r\ncap_add(value.second.block_prevout_spent_amount, coin.out.nValue);\r\n```\r\n\r\nOr could combine the two components:\r\n\r\n```c++\r\nvalue.second.block_net_spent += coin.out.nValue; // for each vin\r\nvalue.second.block_net_spent -= coin.out.nValue; // for each vout\r\n```\r\n\r\nwhich should give you the fees that the coinbase should be collecting, which seems like the only really meaningful thing you can do with those numbers anyway. That would be a change to the gettxoutsetinfo RPC though.",
      "created_at": "2025-09-02T03:20:39Z",
      "updated_at": "2025-09-02T03:20:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2314824654",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2314824654"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2317244666",
      "pull_request_review_id": 3178227240,
      "id": 2317244666,
      "node_id": "PRRC_kwDOABII586KHlj6",
      "diff_hunk": "@@ -413,11 +414,16 @@ bool CoinStatsIndex::RevertBlock(const interfaces::BlockInfo& block)\n     assert(block.undo_data);\n     for (size_t i = 0; i < block.data->vtx.size(); ++i) {\n         const auto& tx{block.data->vtx.at(i)};\n+        const bool is_coinbase{tx->IsCoinBase()};\n+\n+        if (is_coinbase && IsBIP30Unspendable(block.hash, block.height)) {\n+            continue;\n+        }",
      "path": "src/index/coinstatsindex.cpp",
      "position": 276,
      "original_position": 56,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "b8c5bf71a4be4756740fb7b8a6a580153b007475",
      "in_reply_to_id": 2283353869,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "it would be good to add a little explanation to this commit 4a72b62a0d9345c1720de538cd3b42659f7d046b - maybe just saying that it's not practically relevant because of the huge reorgs it would require, but that `RevertBlock` should be consistent with `CustomAppend`.",
      "created_at": "2025-09-02T21:48:54Z",
      "updated_at": "2025-09-02T21:58:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2317244666",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2317244666"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": 423,
      "original_start_line": 419,
      "start_side": "RIGHT",
      "line": 425,
      "original_line": 425,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2323036958",
      "pull_request_review_id": 3186533494,
      "id": 2323036958,
      "node_id": "PRRC_kwDOABII586Kdrse",
      "diff_hunk": "@@ -153,7 +153,7 @@ FUZZ_TARGET(utxo_total_supply)\n                 node::RegenerateCommitments(*current_block, chainman);\n                 const bool was_valid = !MineBlock(node, current_block).IsNull();\n \n-                const auto prev_utxo_stats = utxo_stats;\n+                const auto& prev_utxo_stats = utxo_stats;",
      "path": "src/test/fuzz/utxo_total_supply.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "2ceb1b36fb48ccdf8f84e4e4c7d77668d2f59fad",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "this looks like a false positive in clang-tidy and this looks like the wrong fix. `utxo_stats` is mutable, and taking a const reference does not make it immutable.\r\n\r\n(In languages with a borrow checker, this wouldn't even compile, see https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=b8c78ddbe26b30473498b64a47ba2a6b)\r\n\r\nThe correct fix is to disable the clang-tidy rule in this line, or globally.",
      "created_at": "2025-09-04T18:09:22Z",
      "updated_at": "2025-09-04T18:11:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2323036958",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2323036958"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2324788471",
      "pull_request_review_id": 3188928309,
      "id": 2324788471,
      "node_id": "PRRC_kwDOABII586KkXT3",
      "diff_hunk": "@@ -174,16 +182,16 @@ bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n             }\n \n             // The coinbase tx has no undo data since no former output is spent\n-            if (!tx->IsCoinBase()) {\n+            if (!is_coinbase) {\n                 const auto& tx_undo{Assert(block.undo_data)->vtxundo.at(i - 1)};\n \n                 for (size_t j = 0; j < tx_undo.vprevout.size(); ++j) {\n-                    Coin coin{tx_undo.vprevout[j]};\n-                    COutPoint outpoint{tx->vin[j].prevout.hash, tx->vin[j].prevout.n};\n+                    const Coin coin{tx_undo.vprevout[j]};",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 148,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": 2308987847,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Was this reverted by mistake?",
      "created_at": "2025-09-05T11:05:19Z",
      "updated_at": "2025-09-05T11:05:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2324788471",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2324788471"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2325764786",
      "pull_request_review_id": 3190386923,
      "id": 2325764786,
      "node_id": "PRRC_kwDOABII586KoFqy",
      "diff_hunk": "@@ -153,7 +153,7 @@ FUZZ_TARGET(utxo_total_supply)\n                 node::RegenerateCommitments(*current_block, chainman);\n                 const bool was_valid = !MineBlock(node, current_block).IsNull();\n \n-                const auto prev_utxo_stats = utxo_stats;\n+                const auto& prev_utxo_stats = utxo_stats;",
      "path": "src/test/fuzz/utxo_total_supply.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "2ceb1b36fb48ccdf8f84e4e4c7d77668d2f59fad",
      "in_reply_to_id": 2323036958,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "More to the point, taking an alias `auto& foo = bar` means that the later comparison `foo.hashSerialized == bar.hashSerialized` is just `bar.hashSerialized == bar.hashSerialized` which isn't very useful. `const uint256 prev_hash_serialized{utxo_stats.hashSerialized};` seems like it would be better.",
      "created_at": "2025-09-05T18:22:33Z",
      "updated_at": "2025-09-05T18:22:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2325764786",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2325764786"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2328739222",
      "pull_request_review_id": 3194500346,
      "id": 2328739222,
      "node_id": "PRRC_kwDOABII586Kzb2W",
      "diff_hunk": "@@ -174,16 +182,16 @@ bool CoinStatsIndex::CustomAppend(const interfaces::BlockInfo& block)\n             }\n \n             // The coinbase tx has no undo data since no former output is spent\n-            if (!tx->IsCoinBase()) {\n+            if (!is_coinbase) {\n                 const auto& tx_undo{Assert(block.undo_data)->vtxundo.at(i - 1)};\n \n                 for (size_t j = 0; j < tx_undo.vprevout.size(); ++j) {\n-                    Coin coin{tx_undo.vprevout[j]};\n-                    COutPoint outpoint{tx->vin[j].prevout.hash, tx->vin[j].prevout.n};\n+                    const Coin coin{tx_undo.vprevout[j]};",
      "path": "src/index/coinstatsindex.cpp",
      "position": 1,
      "original_position": 148,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "dd7e696762b4863a5f06d150c4fe3fb882ac69dc",
      "in_reply_to_id": 2308987847,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ah, I seem to have only applied this to `RevertBlock` but not `CustomAppend`, both have this identical LOC. Fixed.",
      "created_at": "2025-09-07T15:50:57Z",
      "updated_at": "2025-09-07T15:50:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2328739222",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2328739222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2328743555",
      "pull_request_review_id": 3194503684,
      "id": 2328743555,
      "node_id": "PRRC_kwDOABII586Kzc6D",
      "diff_hunk": "@@ -153,7 +153,7 @@ FUZZ_TARGET(utxo_total_supply)\n                 node::RegenerateCommitments(*current_block, chainman);\n                 const bool was_valid = !MineBlock(node, current_block).IsNull();\n \n-                const auto prev_utxo_stats = utxo_stats;\n+                const auto& prev_utxo_stats = utxo_stats;",
      "path": "src/test/fuzz/utxo_total_supply.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "c76797481155754329ec6a6f58e8402569043944",
      "original_commit_id": "2ceb1b36fb48ccdf8f84e4e4c7d77668d2f59fad",
      "in_reply_to_id": 2323036958,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> const uint256 prev_hash_serialized{utxo_stats.hashSerialized}; seems like it would be better.\r\n\r\nTaken",
      "created_at": "2025-09-07T16:03:53Z",
      "updated_at": "2025-09-07T16:03:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30469#discussion_r2328743555",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2328743555"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30469"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    }
  ]
}