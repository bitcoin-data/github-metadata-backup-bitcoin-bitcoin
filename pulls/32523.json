{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523",
    "id": 2523420479,
    "node_id": "PR_kwDOABII586WaFc_",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32523",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32523.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32523.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32523",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32523/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/6e5f730c8160165e5fca6fd7ef0c072204595aec",
    "number": 32523,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: Remove watchonly behavior and isminetypes",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Descriptor wallets do not use the watchonly behavior as it is not possible to mix watchonly and non-watchonly in a descriptor wallet. With legacy wallets now removed, all of the watchonly handling and reporting code is no longer needed. This PR removes watchonly options and results from the RPCs and the handling of watchonly things from the wallet's internals.\r\n\r\nAdditionally, ISMINE_USED is removed as its use is only as a filter for cached balances. This PR changes the caching to utilize bools and explicit member variables to account for the avoid_reuse case so that ISMINE_USED is no longer necessary.\r\n\r\nWith both ISMINE_USED and ISMINE_WATCHONLY being no longer necessary, the entire isminetype enum can be deleted as well, with the various `IsMine()` functions now returning bools.\r\n\r\nThis builds upon #32459 which removes most of the watchonly things from the GUI.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/72",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72/labels",
      "id": 12172984,
      "node_id": "MI_kwDOABII584Aub64",
      "number": 72,
      "state": "open",
      "title": "30.0",
      "description": "",
      "creator": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "open_issues": 9,
      "closed_issues": 24,
      "created_at": "2025-01-15T19:21:36Z",
      "updated_at": "2025-05-23T08:00:48Z"
    },
    "created_at": "2025-05-16T01:53:31Z",
    "updated_at": "2025-05-26T18:33:52Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "22cb398c3fd448fac44cf3fedc999ab9f664c10d",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "achow101:delete-isminetypes",
      "ref": "delete-isminetypes",
      "sha": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 45006379,
        "node_id": "MDEwOlJlcG9zaXRvcnk0NTAwNjM3OQ==",
        "name": "bitcoin",
        "full_name": "achow101/bitcoin",
        "owner": {
          "login": "achow101",
          "id": 3782274,
          "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/achow101",
          "html_url": "https://github.com/achow101",
          "followers_url": "https://api.github.com/users/achow101/followers",
          "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
          "organizations_url": "https://api.github.com/users/achow101/orgs",
          "repos_url": "https://api.github.com/users/achow101/repos",
          "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/achow101/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/achow101/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/achow101/bitcoin",
        "archive_url": "https://api.github.com/repos/achow101/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/achow101/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/achow101/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/achow101/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/achow101/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/achow101/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/achow101/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/achow101/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/achow101/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/achow101/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/achow101/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/achow101/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/achow101/bitcoin/events",
        "forks_url": "https://api.github.com/repos/achow101/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/achow101/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/achow101/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/achow101/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/achow101/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/achow101/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/achow101/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/achow101/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/achow101/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/achow101/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/achow101/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/achow101/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/achow101/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/achow101/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/achow101/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/achow101/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:achow101/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/achow101/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/achow101/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/achow101/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/achow101/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/achow101/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/achow101/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/achow101/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/achow101/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/achow101/bitcoin/hooks",
        "svn_url": "https://github.com/achow101/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 8,
        "stargazers_count": 42,
        "watchers_count": 42,
        "size": 296003,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-26T18:28:44Z",
        "created_at": "2015-10-27T00:20:28Z",
        "updated_at": "2025-05-11T17:20:16Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2df824f4e62b6bc569044819cd64f66f3839ba13",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37262,
        "stargazers_count": 83815,
        "watchers_count": 83815,
        "size": 282986,
        "default_branch": "master",
        "open_issues_count": 738,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-23T19:35:01Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-26T18:36:38Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 250,
    "deletions": 505,
    "changed_files": 43,
    "commits": 8,
    "review_comments": 23,
    "comments": 5
  },
  "events": [
    {
      "event": "commented",
      "id": 2885430569,
      "node_id": "IC_kwDOABII586r_C0p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2885430569",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T01:53:34Z",
      "updated_at": "2025-05-24T07:01:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32523.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32607](https://github.com/bitcoin/bitcoin/pull/32607) (rpc: Note in fundrawtransaction doc, fee rate is for package by benthecarman)\n* [#31664](https://github.com/bitcoin/bitcoin/pull/31664) (Fees:  add Fee rate Forecaster Manager by ismaelsadeeq)\n* [#30157](https://github.com/bitcoin/bitcoin/pull/30157) (Fee Estimation via Fee rate Forecasters by ismaelsadeeq)\n* [#29062](https://github.com/bitcoin/bitcoin/pull/29062) (Wallet: (Refactor) GetBalance to calculate used balance by BrandonOdiwuor)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#issuecomment-2885430569",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32523"
    },
    {
      "event": "labeled",
      "id": 17681406867,
      "node_id": "LE_lADOABII58622eIOzwAAAAQd5NuT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17681406867",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T01:54:18Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "labeled",
      "id": 17681642208,
      "node_id": "LE_lADOABII58622eIOzwAAAAQd6HLg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17681642208",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T02:28:16Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2885474739,
      "node_id": "IC_kwDOABII586r_Nmz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2885474739",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T02:28:17Z",
      "updated_at": "2025-05-16T02:28:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `MSan, depends`: https://github.com/bitcoin/bitcoin/runs/42330203892</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is due to a thread safety error in `spend.cpp`.\n</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#issuecomment-2885474739",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32523"
    },
    {
      "event": "milestoned",
      "id": 17683289871,
      "node_id": "MIE_lADOABII58622eIOzwAAAAQeAZcP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17683289871",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T06:17:22Z",
      "milestone": {
        "title": "30.0"
      }
    },
    {
      "event": "labeled",
      "id": 17685691716,
      "node_id": "LE_lADOABII58622eIOzwAAAAQeJj1E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17685691716",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T09:20:14Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2886387048,
      "node_id": "IC_kwDOABII586sCsVo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886387048",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T10:56:41Z",
      "updated_at": "2025-05-16T10:56:41Z",
      "author_association": "MEMBER",
      "body": "```bash\r\n /home/runner/work/_temp/src/wallet/spend.cpp:474:12: error: calling function 'AvailableCoins' requires holding mutex 'wallet.cs_wallet' exclusively [-Werror,-Wthread-safety-analysis]\r\n  474 |     return AvailableCoins(wallet, coinControl, /*feerate=*/ std::nullopt, params);\r\n      |            ^\r\n1 error generated.\r\n```",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#issuecomment-2886387048",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32523"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17692825835,
      "node_id": "HRFPE_lADOABII58622eIOzwAAAAQekxjr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17692825835",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "75729d475e469503f5b0f8a2dcad5671caad7eda",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/75729d475e469503f5b0f8a2dcad5671caad7eda",
      "created_at": "2025-05-16T18:14:56Z"
    },
    {
      "event": "unlabeled",
      "id": 17692952133,
      "node_id": "UNLE_lADOABII58622eIOzwAAAAQelQZF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17692952133",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T18:27:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 17695327652,
      "node_id": "UNLE_lADOABII58622eIOzwAAAAQeuUWk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17695327652",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T23:12:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17721944484,
      "node_id": "LE_lADOABII58622eIOzwAAAAQgT2mk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17721944484",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-19T20:48:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17723986276,
      "node_id": "HRFPE_lADOABII58622eIOzwAAAAQgbpFk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17723986276",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6a77821b7c3176fc5b26040c363ce50c4994ffa7",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/6a77821b7c3176fc5b26040c363ce50c4994ffa7",
      "created_at": "2025-05-20T00:55:41Z"
    },
    {
      "event": "unlabeled",
      "id": 17724132773,
      "node_id": "UNLE_lADOABII58622eIOzwAAAAQgcM2l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17724132773",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T01:13:29Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17749914420,
      "node_id": "LE_lADOABII58622eIOzwAAAAQh-jM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17749914420",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T09:28:40Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkxZjdkYWY1ODY1ZjY0Y2M3YzZlZGRmZmQ4MzQzMzBkODZmOGQ5MWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/91f7daf5865f64cc7c6eddffd834330d86f8d91d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/91f7daf5865f64cc7c6eddffd834330d86f8d91d",
      "tree": {
        "sha": "94d9322f02377c862a273cec3c785fc9d91cd1cd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/94d9322f02377c862a273cec3c785fc9d91cd1cd"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/87ec923d3a7af7b30613174b41c6fb11671df466",
          "sha": "87ec923d3a7af7b30613174b41c6fb11671df466",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/87ec923d3a7af7b30613174b41c6fb11671df466"
        }
      ],
      "message": "wallet: Remove watchonly balances\n\nDescriptor wallets do not have mixed mine and watchonly, so there is no\nneed to report a watchonly balance.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-21T17:38:48Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-15T22:31:16Z"
      },
      "sha": "91f7daf5865f64cc7c6eddffd834330d86f8d91d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlYzA0ZDRjNGVmZTllMTJmMDJmNTYxZDNjOWZkMjM5NzJjNGExYmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "tree": {
        "sha": "84a77dacbba5eb59cb55c13bdf723a948086e148",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/84a77dacbba5eb59cb55c13bdf723a948086e148"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/91f7daf5865f64cc7c6eddffd834330d86f8d91d",
          "sha": "91f7daf5865f64cc7c6eddffd834330d86f8d91d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/91f7daf5865f64cc7c6eddffd834330d86f8d91d"
        }
      ],
      "message": "wallet, rpc: Remove watchonly from RPCs\n\nDescriptor wallets don't have a conception of watchonly within a wallet,\nso remove all of these options and results from the RPCs",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-21T17:38:48Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-15T22:47:47Z"
      },
      "sha": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlYmYxMjYyOTU4YzE5OGY3YWI1OTgzZDUwY2E0NDdhMzBiOWQwOGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ebf1262958c198f7ab5983d50ca447a30b9d08d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8ebf1262958c198f7ab5983d50ca447a30b9d08d",
      "tree": {
        "sha": "42f48983c657376b9ee01c914162068076db65c8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/42f48983c657376b9ee01c914162068076db65c8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
          "sha": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd"
        }
      ],
      "message": "wallet, spend: Remove fWatchOnly from CCoinControl\n\nDescriptor wallets do not have a concept of watchonly within a wallet,\nso remove the watchonly option from coin control.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-21T17:38:48Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-15T22:51:34Z"
      },
      "sha": "8ebf1262958c198f7ab5983d50ca447a30b9d08d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg4NGM2MzI5ZTNkNTFkOTdkMDM1NTZiYmNkNzlkYmUzMWFhNGQyY2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/884c6329e3d51d97d03556bbcd79dbe31aa4d2cd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/884c6329e3d51d97d03556bbcd79dbe31aa4d2cd",
      "tree": {
        "sha": "fd42137c7c5bdb875b5780fadf373db61afe4e75",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fd42137c7c5bdb875b5780fadf373db61afe4e75"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ebf1262958c198f7ab5983d50ca447a30b9d08d",
          "sha": "8ebf1262958c198f7ab5983d50ca447a30b9d08d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8ebf1262958c198f7ab5983d50ca447a30b9d08d"
        }
      ],
      "message": "wallet: Remove ISMINE_WATCH_ONLY\n\nISMINE_WATCH_ONLY has been removed from all places it was being used,\nand migration does not need ISMINE_WATCH_ONLY, so remove the enum.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-21T17:38:48Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-15T23:48:00Z"
      },
      "sha": "884c6329e3d51d97d03556bbcd79dbe31aa4d2cd"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNjZjYxOGJmM2I4OGE5NWEwMTQ2M2U2YTk2ZmM4ZDliYzUyZmU1N2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d",
      "tree": {
        "sha": "1858c297a775633da5c6def91f8163574c427bb3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1858c297a775633da5c6def91f8163574c427bb3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/884c6329e3d51d97d03556bbcd79dbe31aa4d2cd",
          "sha": "884c6329e3d51d97d03556bbcd79dbe31aa4d2cd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/884c6329e3d51d97d03556bbcd79dbe31aa4d2cd"
        }
      ],
      "message": "wallet: Remove ISMINE_USED\n\nThis isminetype is not a real isminetype as it is never returned by\nIsMine. This is only used for isminefilters in one function, which can\nbe better represented with a bool parameter.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-21T17:38:48Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-15T21:14:16Z"
      },
      "sha": "ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIxZWU2YTI4N2RkYzRkYWMzMWI2NWExYmJjODRlNzBiYWQ3ZWFkMzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b1ee6a287ddc4dac31b65a1bbc84e70bad7ead38",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b1ee6a287ddc4dac31b65a1bbc84e70bad7ead38",
      "tree": {
        "sha": "2285eaeead8252c4635d739caa34d9c58bc27fd3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2285eaeead8252c4635d739caa34d9c58bc27fd3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d",
          "sha": "ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d"
        }
      ],
      "message": "interfaces, gui: Remove is_mine output parameter from getAddress\n\nThe is_mine output parameter is never used by any callers.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-21T17:38:48Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-16T00:27:44Z"
      },
      "sha": "b1ee6a287ddc4dac31b65a1bbc84e70bad7ead38"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17758505570,
      "node_id": "HRFPE_lADOABII58622eIOzwAAAAQifUpi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17758505570",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f3ab751206d4c3db8696ee541f9d253ce162f295",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/f3ab751206d4c3db8696ee541f9d253ce162f295",
      "created_at": "2025-05-21T17:51:33Z"
    },
    {
      "event": "commented",
      "id": 2898773591,
      "node_id": "IC_kwDOABII586sx8ZX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2898773591",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T17:51:43Z",
      "updated_at": "2025-05-21T17:51:43Z",
      "author_association": "MEMBER",
      "body": "Rebased, ready for review.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#issuecomment-2898773591",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32523"
    },
    {
      "event": "ready_for_review",
      "id": 17758507865,
      "node_id": "RFRE_lADOABII58622eIOzwAAAAQifVNZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17758507865",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T17:51:44Z"
    },
    {
      "event": "commented",
      "id": 2898830691,
      "node_id": "IC_kwDOABII586syKVj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2898830691",
      "actor": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T18:13:49Z",
      "updated_at": "2025-05-21T18:15:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "This PR comes at a right time. I'm prioritising reviewing this one because it removes `isminetype`.\r\n\r\n#27286: The new wallet unspents model in memory is using `isminetype` currently and I'd prefer to not have it checked into master only to be removed subsequently. This PR changes should also ease the review of the other PR.\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/27286/commits/d637af8a9786e38f1ba140ed828a3d5009e62926#diff-d41d68c5a65d67956c91b33ca86da7df1981d84a0b15b4a186deea566563fed5R372",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#issuecomment-2898830691",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32523"
    },
    {
      "event": "unlabeled",
      "id": 17759061598,
      "node_id": "UNLE_lADOABII58622eIOzwAAAAQihcZe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17759061598",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T18:33:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17761567428,
      "node_id": "LE_lADOABII58622eIOzwAAAAQirALE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17761567428",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T22:00:52Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2860781255,
      "node_id": "PRR_kwDOABII586qhA7H",
      "url": null,
      "actor": null,
      "commit_id": "f3ab751206d4c3db8696ee541f9d253ce162f295",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Initial code review f3ab751206d4c3db8696ee541f9d253ce162f295\r\n\r\nI'm in favour of this clean up: maintaining watch-only per output is cumbersome in the code and seems complicated to me from a user's point of view as well, great that the descriptor wallets provide watch-only behaviour on the wallet level.\r\n\r\nThe CI error seems unrelated as it's a timeout in the external signer test and it's happening in other PRs as well.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#pullrequestreview-2860781255",
      "submitted_at": "2025-05-22T14:46:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU2ZmQwMDM3Mjk1MWJkYzA2NDYyYjc0YTlkMDc4YzMzYTVmNzVlNzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6fd00372951bdc06462b74a9d078c33a5f75e78",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e6fd00372951bdc06462b74a9d078c33a5f75e78",
      "tree": {
        "sha": "3b08c4481114020048481a01822cb9b03e99ef91",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3b08c4481114020048481a01822cb9b03e99ef91"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b1ee6a287ddc4dac31b65a1bbc84e70bad7ead38",
          "sha": "b1ee6a287ddc4dac31b65a1bbc84e70bad7ead38",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b1ee6a287ddc4dac31b65a1bbc84e70bad7ead38"
        }
      ],
      "message": "wallet: Remove COutput::spendable and AvailableCoinsListUnspent\n\nIn descriptor wallets, we consider all outputs to be spendable as we no\nlonger have mixed mine and watchonly in a wallet. As such,\nCOutput::spendable is meaningless and can be removed.\n\nFurthermore, CoinFilterParams::only_spendable can be removed as that was\nessentially checking for COutput::spendable.\n\nLastly, AvailableCoinsListUnspent can also be removed as the wrapper is\nnow only setting the feerate to std::nullopt which is trivial enough that\na dedicated wrapper is not needed.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-22T18:50:05Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-16T00:57:38Z"
      },
      "sha": "e6fd00372951bdc06462b74a9d078c33a5f75e78"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZlNWY3MzBjODE2MDE2NWU1ZmNhNmZkN2VmMGMwNzIyMDQ1OTVhZWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "tree": {
        "sha": "f12389709932cbc4a4fcb67e66fe07d3a14c8280",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f12389709932cbc4a4fcb67e66fe07d3a14c8280"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6fd00372951bdc06462b74a9d078c33a5f75e78",
          "sha": "e6fd00372951bdc06462b74a9d078c33a5f75e78",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e6fd00372951bdc06462b74a9d078c33a5f75e78"
        }
      ],
      "message": "wallet: Remove isminetype\n\nSince the only remaining isminetypes are ISMINE_NO and ISMINE_SPENDABLE,\nthis enum is now just a bool and can be removed. IsMine is changed to\nreturn a bool and any usage of isminetypes and isminefilters are changed\nto be the remaining ISMINE_SPENDABLE case.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-22T18:50:37Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-05-16T00:01:46Z"
      },
      "sha": "6e5f730c8160165e5fca6fd7ef0c072204595aec"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17777992683,
      "node_id": "HRFPE_lADOABII58622eIOzwAAAAQjpqPr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17777992683",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "created_at": "2025-05-22T18:52:16Z"
    },
    {
      "event": "unlabeled",
      "id": 17778703316,
      "node_id": "UNLE_lADOABII58622eIOzwAAAAQjsXvU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17778703316",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T19:49:03Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2866249442,
      "node_id": "PRR_kwDOABII586q137i",
      "url": null,
      "actor": null,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I had to stop the re-review midway because I started sensing that, if feasible, maybe the first 4 commits can be a separate PR that removes the watch only stuff separately. Otherwise this is a bit too much to unpack in one shot from a data consistency POV. The alternative could be that the `ISMINE_USED` and the following changes can be a separate PR.\r\n\r\nThe e6fd00372951bdc06462b74a9d078c33a5f75e78 commit contains few comment formatting related changes as well that are slightly distracting.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#pullrequestreview-2866249442",
      "submitted_at": "2025-05-26T14:12:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
    },
    {
      "event": "reviewed",
      "id": 2868285706,
      "node_id": "PRR_kwDOABII586q9pEK",
      "url": null,
      "actor": null,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#pullrequestreview-2868285706",
      "submitted_at": "2025-05-26T14:44:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102275063",
      "pull_request_review_id": 2860781255,
      "id": 2102275063,
      "node_id": "PRRC_kwDOABII5859Tiv3",
      "diff_hunk": "@@ -401,7 +400,7 @@ RPCHelpMan getaddressinfo()\n                         {RPCResult::Type::OBJ, \"embedded\", /*optional=*/true, \"Information about the address embedded in P2SH or P2WSH, if relevant and known.\",\n                         {\n                             {RPCResult::Type::ELISION, \"\", \"Includes all getaddressinfo output fields for the embedded address, excluding metadata (timestamp, hdkeypath, hdseedid)\\n\"\n-                            \"and relation to the wallet (ismine, iswatchonly).\"},\n+                            \"and relation to the wallet (ismine).\"},",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 13,
      "original_position": 13,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nit:\r\n```diff\r\n- \"and relation to the wallet (ismine).\"},\r\n+ \"and relation to the wallet.\"},",
      "created_at": "2025-05-22T10:59:11Z",
      "updated_at": "2025-05-22T14:46:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2102275063",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102275063"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 404,
      "original_start_line": 404,
      "start_side": "LEFT",
      "line": 403,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102275537",
      "pull_request_review_id": 2860781255,
      "id": 2102275537,
      "node_id": "PRRC_kwDOABII5859Ti3R",
      "diff_hunk": "@@ -89,8 +89,6 @@ class CCoinControl\n     //! If true, the selection process can add extra unselected inputs from the wallet\n     //! while requires all selected inputs be used\n     bool m_allow_other_inputs = true;\n-    //! Includes watch only addresses which are solvable",
      "path": "src/wallet/coincontrol.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "8ebf1262958c198f7ab5983d50ca447a30b9d08d",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "IMO this was quite complicated to reason about and have in the wallet.",
      "created_at": "2025-05-22T10:59:29Z",
      "updated_at": "2025-05-22T14:46:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2102275537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102275537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 92,
      "original_line": 92,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102613956",
      "pull_request_review_id": 2860781255,
      "id": 2102613956,
      "node_id": "PRRC_kwDOABII5859U1fE",
      "diff_hunk": "@@ -127,21 +128,35 @@ std::string TxStateString(const T& state)\n }\n \n /**\n- * Cachable amount subdivided into watchonly and spendable parts.\n+ * Cachable amount subdivided into avoid reuse and all balances\n  */\n struct CachableAmount\n {\n-    // NO and ALL are never (supposed to be) cached\n-    std::bitset<ISMINE_ENUM_ELEMENTS> m_cached;\n-    CAmount m_value[ISMINE_ENUM_ELEMENTS];\n+    std::optional<CAmount> m_avoid_reuse_value;\n+    std::optional<CAmount> m_all_value;",
      "path": "src/wallet/transaction.h",
      "position": 21,
      "original_position": 21,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d wallet: Remove ISMINE_USED\r\n\r\nWhile I'm in favour of cleaning up the `ismine` enum and type, I find the consistent passing of `avoid_reuse` bool in all the caller functions quite cognitively loaded; the related if/else checks in the functions of this struct adds more.\r\n\r\nI did like `CachableAmount` previously storing the amounts in an array. Keeping the array but with a different enum `CachableAmountType` would get rid of the if/else blocks and `CachableAmountType` can be passed in the caller functions just like `AmountType` is passed.\r\n\r\nOne more reason I'm leaning towards this is because `avoid_reuse` is something that's integrated all the way from `createwallet` RPC and also has a corresponding wallet flag as well named `WALLET_FLAG_AVOID_REUSE`. Hence, I don't think it'd be a stretch to introduce a corresponding enum value.",
      "created_at": "2025-05-22T13:47:33Z",
      "updated_at": "2025-05-22T14:49:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2102613956",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102613956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 134,
      "original_start_line": 134,
      "start_side": "LEFT",
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102670556",
      "pull_request_review_id": 2860781255,
      "id": 2102670556,
      "node_id": "PRRC_kwDOABII5859VDTc",
      "diff_hunk": "@@ -305,7 +305,7 @@ util::Result<PreSelectedInputs> FetchSelectedInputs(const CWallet& wallet, const\n         }\n \n         /* Set some defaults for depth, spendable, solvable, safe, time, and from_me as these don't matter for preset inputs since no selection is being done. */",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 3,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1c5483eae3de5443849bea1534af4ae163f39cc6",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```diff\r\n- /* Set some defaults for depth, spendable, solvable, \r\n+ /* Set some defaults for depth, solvable, \r\n```",
      "created_at": "2025-05-22T14:10:16Z",
      "updated_at": "2025-05-22T14:46:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2102670556",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102670556"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 307,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102693407",
      "pull_request_review_id": 2860781255,
      "id": 2102693407,
      "node_id": "PRRC_kwDOABII5859VI4f",
      "diff_hunk": "@@ -699,7 +699,7 @@ RPCHelpMan listunspent()\n                 entry.pushKV(\"ancestorfees\", uint64_t(ancestor_fees));\n             }\n         }\n-        entry.pushKV(\"spendable\", out.spendable);\n+        entry.pushKV(\"spendable\", true); // Any coins we list are always spendable",
      "path": "src/wallet/rpc/coins.cpp",
      "position": 38,
      "original_position": 14,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1c5483eae3de5443849bea1534af4ae163f39cc6",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Would removing this property from the response categorise the diff as a breaking change?\r\nLooks a little odd to me to display this as `true` for watch only wallets as well because the wallet doesn't have private keys and thus I feel it should not be a decision maker on this. ",
      "created_at": "2025-05-22T14:20:27Z",
      "updated_at": "2025-05-22T14:47:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2102693407",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102693407"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 704,
      "original_start_line": 702,
      "start_side": "LEFT",
      "line": 702,
      "original_line": 702,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102737979",
      "pull_request_review_id": 2860781255,
      "id": 2102737979,
      "node_id": "PRRC_kwDOABII5859VTw7",
      "diff_hunk": "@@ -197,15 +197,15 @@ IsMineResult LegacyWalletIsMineInnerDONOTUSE(const LegacyDataSPKM& keystore, con\n \n } // namespace\n \n-isminetype LegacyDataSPKM::IsMine(const CScript& script) const\n+bool LegacyDataSPKM::IsMine(const CScript& script) const\n {\n     switch (LegacyWalletIsMineInnerDONOTUSE(*this, script, IsMineSigVersion::TOP)) {\n     case IsMineResult::INVALID:\n     case IsMineResult::NO:\n-        return ISMINE_NO;\n+        return false;\n     case IsMineResult::WATCH_ONLY:\n     case IsMineResult::SPENDABLE:\n-        return ISMINE_SPENDABLE;\n+        return true;\n     }",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "f3ab751206d4c3db8696ee541f9d253ce162f295",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Note: this is okay because this is used only during wallet migration from legacy to descriptor.",
      "created_at": "2025-05-22T14:39:42Z",
      "updated_at": "2025-05-22T14:46:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2102737979",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102737979"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": 200,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 209,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102766865",
      "pull_request_review_id": 2861562744,
      "id": 2102766865,
      "node_id": "PRRC_kwDOABII5859Va0R",
      "diff_hunk": "@@ -401,7 +400,7 @@ RPCHelpMan getaddressinfo()\n                         {RPCResult::Type::OBJ, \"embedded\", /*optional=*/true, \"Information about the address embedded in P2SH or P2WSH, if relevant and known.\",\n                         {\n                             {RPCResult::Type::ELISION, \"\", \"Includes all getaddressinfo output fields for the embedded address, excluding metadata (timestamp, hdkeypath, hdseedid)\\n\"\n-                            \"and relation to the wallet (ismine, iswatchonly).\"},\n+                            \"and relation to the wallet (ismine).\"},",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 13,
      "original_position": 13,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "in_reply_to_id": 2102275063,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Please ignore this suggestion. I had suggested because it felt a bit odd to me to have just 1 item here but leaving `ismine` is actually helpful to give context in the help section.",
      "created_at": "2025-05-22T14:52:01Z",
      "updated_at": "2025-05-22T14:52:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2102766865",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102766865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 404,
      "original_start_line": 404,
      "start_side": "LEFT",
      "line": 403,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2103202649",
      "pull_request_review_id": 2862258424,
      "id": 2103202649,
      "node_id": "PRRC_kwDOABII5859XFNZ",
      "diff_hunk": "@@ -127,21 +128,35 @@ std::string TxStateString(const T& state)\n }\n \n /**\n- * Cachable amount subdivided into watchonly and spendable parts.\n+ * Cachable amount subdivided into avoid reuse and all balances\n  */\n struct CachableAmount\n {\n-    // NO and ALL are never (supposed to be) cached\n-    std::bitset<ISMINE_ENUM_ELEMENTS> m_cached;\n-    CAmount m_value[ISMINE_ENUM_ELEMENTS];\n+    std::optional<CAmount> m_avoid_reuse_value;\n+    std::optional<CAmount> m_all_value;",
      "path": "src/wallet/transaction.h",
      "position": 21,
      "original_position": 21,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d",
      "in_reply_to_id": 2102613956,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I actually did try to implement it with an enum originally, but it got pretty complicated and I think just having it has a bool is significantly easier to read and reason about.",
      "created_at": "2025-05-22T18:48:44Z",
      "updated_at": "2025-05-22T18:48:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2103202649",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2103202649"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 134,
      "original_start_line": 134,
      "start_side": "LEFT",
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2103207660",
      "pull_request_review_id": 2862267181,
      "id": 2103207660,
      "node_id": "PRRC_kwDOABII5859XGbs",
      "diff_hunk": "@@ -699,7 +699,7 @@ RPCHelpMan listunspent()\n                 entry.pushKV(\"ancestorfees\", uint64_t(ancestor_fees));\n             }\n         }\n-        entry.pushKV(\"spendable\", out.spendable);\n+        entry.pushKV(\"spendable\", true); // Any coins we list are always spendable",
      "path": "src/wallet/rpc/coins.cpp",
      "position": 38,
      "original_position": 14,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1c5483eae3de5443849bea1534af4ae163f39cc6",
      "in_reply_to_id": 2102693407,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Would removing this property from the response categorise the diff as a breaking change?\r\n\r\nYes, that's mainly why this is preserved.\r\n\r\n>  Looks a little odd to me to display this as true for watch only wallets as well because the wallet doesn't have private keys and thus I feel it should not be a decision maker on this.\r\n\r\nThis is the current behavior anyways.",
      "created_at": "2025-05-22T18:51:40Z",
      "updated_at": "2025-05-22T18:51:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2103207660",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2103207660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 704,
      "original_start_line": 702,
      "start_side": "LEFT",
      "line": 702,
      "original_line": 702,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2103209325",
      "pull_request_review_id": 2862269982,
      "id": 2103209325,
      "node_id": "PRRC_kwDOABII5859XG1t",
      "diff_hunk": "@@ -305,7 +305,7 @@ util::Result<PreSelectedInputs> FetchSelectedInputs(const CWallet& wallet, const\n         }\n \n         /* Set some defaults for depth, spendable, solvable, safe, time, and from_me as these don't matter for preset inputs since no selection is being done. */",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 3,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1c5483eae3de5443849bea1534af4ae163f39cc6",
      "in_reply_to_id": 2102670556,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2025-05-22T18:52:19Z",
      "updated_at": "2025-05-22T18:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2103209325",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2103209325"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 307,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105777223",
      "pull_request_review_id": 2866249442,
      "id": 2105777223,
      "node_id": "PRRC_kwDOABII5859g5xH",
      "diff_hunk": "@@ -769,19 +769,19 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     util::Result<CTxDestination> GetNewDestination(const OutputType type, const std::string label);\n     util::Result<CTxDestination> GetNewChangeDestination(const OutputType type);\n \n-    isminetype IsMine(const CTxDestination& dest) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n-    isminetype IsMine(const CScript& script) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    bool IsMine(const CTxDestination& dest) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    bool IsMine(const CScript& script) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     /**\n      * Returns amount of debit if the input matches the\n      * filter, otherwise returns 0\n      */",
      "path": "src/wallet/wallet.h",
      "position": 11,
      "original_position": 11,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "There is no filter passed anymore.",
      "created_at": "2025-05-24T10:05:06Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2105777223",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105777223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 774,
      "original_start_line": 774,
      "start_side": "RIGHT",
      "line": 777,
      "original_line": 777,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105777713",
      "pull_request_review_id": 2866249442,
      "id": 2105777713,
      "node_id": "PRRC_kwDOABII5859g54x",
      "diff_hunk": "@@ -8,31 +8,30 @@\n #include <consensus/amount.h>\n #include <util/transaction_identifier.h>\n #include <wallet/transaction.h>\n-#include <wallet/types.h>\n #include <wallet/wallet.h>\n \n namespace wallet {\n-isminetype InputIsMine(const CWallet& wallet, const CTxIn& txin) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n+bool InputIsMine(const CWallet& wallet, const CTxIn& txin) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n \n /** Returns whether all of the inputs match the filter */",
      "path": "src/wallet/receive.h",
      "position": 11,
      "original_position": 11,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "No filter passed now.",
      "created_at": "2025-05-24T10:08:05Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2105777713",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105777713"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105777838",
      "pull_request_review_id": 2866249442,
      "id": 2105777838,
      "node_id": "PRRC_kwDOABII5859g56u",
      "diff_hunk": "@@ -8,31 +8,30 @@\n #include <consensus/amount.h>\n #include <util/transaction_identifier.h>\n #include <wallet/transaction.h>\n-#include <wallet/types.h>\n #include <wallet/wallet.h>\n \n namespace wallet {\n-isminetype InputIsMine(const CWallet& wallet, const CTxIn& txin) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n+bool InputIsMine(const CWallet& wallet, const CTxIn& txin) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n \n /** Returns whether all of the inputs match the filter */\n-bool AllInputsMine(const CWallet& wallet, const CTransaction& tx, const isminefilter& filter);\n+bool AllInputsMine(const CWallet& wallet, const CTransaction& tx);\n \n-CAmount OutputGetCredit(const CWallet& wallet, const CTxOut& txout, const isminefilter& filter);\n-CAmount TxGetCredit(const CWallet& wallet, const CTransaction& tx, const isminefilter& filter);\n+CAmount OutputGetCredit(const CWallet& wallet, const CTxOut& txout);\n+CAmount TxGetCredit(const CWallet& wallet, const CTransaction& tx);\n \n bool ScriptIsChange(const CWallet& wallet, const CScript& script) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n bool OutputIsChange(const CWallet& wallet, const CTxOut& txout) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n CAmount OutputGetChange(const CWallet& wallet, const CTxOut& txout) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n CAmount TxGetChange(const CWallet& wallet, const CTransaction& tx);\n \n-CAmount CachedTxGetCredit(const CWallet& wallet, const CWalletTx& wtx, const isminefilter& filter)\n+CAmount CachedTxGetCredit(const CWallet& wallet, const CWalletTx& wtx, bool avoid_reuse)\n     EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n //! filter decides which addresses will count towards the debit",
      "path": "src/wallet/receive.h",
      "position": 28,
      "original_position": 28,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Same here.",
      "created_at": "2025-05-24T10:08:45Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2105777838",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2105777838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107241475",
      "pull_request_review_id": 2868285706,
      "id": 2107241475,
      "node_id": "PRRC_kwDOABII5859mfQD",
      "diff_hunk": "@@ -379,7 +379,6 @@ RPCHelpMan getaddressinfo()\n                         {RPCResult::Type::STR, \"address\", \"The bitcoin address validated.\"},\n                         {RPCResult::Type::STR_HEX, \"scriptPubKey\", \"The hex-encoded output script generated by the address.\"},\n                         {RPCResult::Type::BOOL, \"ismine\", \"If the address is yours.\"},\n-                        {RPCResult::Type::BOOL, \"iswatchonly\", \"If the address is watchonly.\"},",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in 1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd: The RPC result removals should probably have a release note?",
      "created_at": "2025-05-26T12:32:13Z",
      "updated_at": "2025-05-26T14:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107241475",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107241475"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 382,
      "original_line": 382,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107252018",
      "pull_request_review_id": 2868285706,
      "id": 2107252018,
      "node_id": "PRRC_kwDOABII5859mh0y",
      "diff_hunk": "@@ -515,12 +512,7 @@ CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransact\n \n     std::optional<unsigned int> change_position;\n     bool lockUnspents = false;\n-    if (!options.isNull()) {\n-      if (options.type() == UniValue::VBOOL) {\n-        // backward compatibility bool only fallback\n-        coinControl.fAllowWatchOnly = options.get_bool();\n-      }\n-      else {\n+    if (!options.isNull() && options.isObject()) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in https://github.com/bitcoin/bitcoin/commit/1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd: Why is the backward-compat guard for `options.isObject()` needed? Seems better to remove `&& options.isObject()`?",
      "created_at": "2025-05-26T12:38:32Z",
      "updated_at": "2025-05-26T14:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107252018",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107252018"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 515,
      "original_line": 515,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107283500",
      "pull_request_review_id": 2866249442,
      "id": 2107283500,
      "node_id": "PRRC_kwDOABII5859mpgs",
      "diff_hunk": "@@ -39,26 +34,26 @@ QList<TransactionRecord> TransactionRecord::decomposeTransaction(const interface\n     Txid hash = wtx.tx->GetHash();\n     std::map<std::string, std::string> mapValue = wtx.value_map;\n \n-    isminetype fAllFromMe = ISMINE_SPENDABLE;\n+    bool all_from_me = true;\n     bool any_from_me = false;\n     if (wtx.is_coinbase) {\n-        fAllFromMe = ISMINE_NO;\n+        all_from_me = false;\n     } else {\n-        for (const isminetype mine : wtx.txin_is_mine)\n+        for (const bool mine : wtx.txin_is_mine)\n         {\n-            if(fAllFromMe > mine) fAllFromMe = mine;\n+            all_from_me &= mine;",
      "path": "src/qt/transactionrecord.cpp",
      "position": 32,
      "original_position": 32,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not a bug but would prefer to have a logical `and` here instead of a bitwise one because `all_from_me` is strictly a boolean in cpp.\r\n\r\n```\r\nall_from_me = all_from_me && mine;\r\n```\r\n\r\nRef: https://stackoverflow.com/a/24560",
      "created_at": "2025-05-26T12:50:47Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107283500",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107283500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 44,
      "original_line": 44,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107326256",
      "pull_request_review_id": 2866249442,
      "id": 2107326256,
      "node_id": "PRRC_kwDOABII5859mz8w",
      "diff_hunk": "@@ -1573,41 +1573,41 @@ CAmount CWallet::GetDebit(const CTxIn &txin, const isminefilter& filter) const\n         {\n             const CWalletTx& prev = (*mi).second;\n             if (txin.prevout.n < prev.tx->vout.size())\n-                if (IsMine(prev.tx->vout[txin.prevout.n]) & filter)\n+                if (IsMine(prev.tx->vout[txin.prevout.n]))\n                     return prev.tx->vout[txin.prevout.n].nValue;\n         }\n     }\n     return 0;\n }\n \n-isminetype CWallet::IsMine(const CTxOut& txout) const\n+bool CWallet::IsMine(const CTxOut& txout) const\n {\n     AssertLockHeld(cs_wallet);\n     return IsMine(txout.scriptPubKey);\n }\n \n-isminetype CWallet::IsMine(const CTxDestination& dest) const\n+bool CWallet::IsMine(const CTxDestination& dest) const\n {\n     AssertLockHeld(cs_wallet);\n     return IsMine(GetScriptForDestination(dest));\n }\n \n-isminetype CWallet::IsMine(const CScript& script) const\n+bool CWallet::IsMine(const CScript& script) const\n {\n     AssertLockHeld(cs_wallet);\n \n     // Search the cache so that IsMine is called only on the relevant SPKMs instead of on everything in m_spk_managers\n     const auto& it = m_cached_spks.find(script);\n     if (it != m_cached_spks.end()) {\n-        isminetype res = ISMINE_NO;\n+        bool res = false;\n         for (const auto& spkm : it->second) {\n-            res = std::max(res, spkm->IsMine(script));\n+            res |= spkm->IsMine(script);",
      "path": "src/wallet/wallet.cpp",
      "position": 49,
      "original_position": 49,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Same point of using logical `and` here.",
      "created_at": "2025-05-26T13:08:04Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107326256",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107326256"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1604,
      "original_line": 1604,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107371939",
      "pull_request_review_id": 2866249442,
      "id": 2107371939,
      "node_id": "PRRC_kwDOABII5859m_Gj",
      "diff_hunk": "@@ -74,10 +73,10 @@ WalletTx MakeWalletTx(CWallet& wallet, const CWalletTx& wtx)\n         result.txout_address.emplace_back();\n         result.txout_address_is_mine.emplace_back(ExtractDestination(txout.scriptPubKey, result.txout_address.back()) ?\n                                                       wallet.IsMine(result.txout_address.back()) :\n-                                                      ISMINE_NO);\n+                                                      false);\n     }\n-    result.credit = CachedTxGetCredit(wallet, wtx, ISMINE_ALL);\n-    result.debit = CachedTxGetDebit(wallet, wtx, ISMINE_ALL);\n+    result.credit = CachedTxGetCredit(wallet, wtx, /*avoid_reuse=*/false);\n+    result.debit = CachedTxGetDebit(wallet, wtx, /*avoid_reuse=*/false);",
      "path": "src/wallet/interfaces.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```\r\nenum isminetype : unsigned int {\r\n    ISMINE_NO         = 0,\r\n    ISMINE_WATCH_ONLY = 1 << 0,\r\n    ISMINE_SPENDABLE  = 1 << 1,\r\n    ISMINE_USED       = 1 << 2,\r\n    ISMINE_ALL        = ISMINE_WATCH_ONLY | ISMINE_SPENDABLE,\r\n    ISMINE_ALL_USED   = ISMINE_ALL | ISMINE_USED,\r\n    ISMINE_ENUM_ELEMENTS,\r\n};\r\n```\r\n\r\n`ISMINE_ALL` didn't include `ISMINE_USED`, i.e., it avoided used ones probably because it wanted to avoid reuse. Should it not be replaced with `/*avoid_reuse=*/true` otherwise it ends up getting the \"all\" amount that contains \"used\" as well?\r\n\r\nOr have I misunderstood the intent here?",
      "created_at": "2025-05-26T13:34:00Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107371939",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107371939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 79,
      "original_start_line": 79,
      "start_side": "LEFT",
      "line": 79,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107373819",
      "pull_request_review_id": 2866249442,
      "id": 2107373819,
      "node_id": "PRRC_kwDOABII5859m_j7",
      "diff_hunk": "@@ -127,21 +128,35 @@ std::string TxStateString(const T& state)\n }\n \n /**\n- * Cachable amount subdivided into watchonly and spendable parts.\n+ * Cachable amount subdivided into avoid reuse and all balances",
      "path": "src/wallet/transaction.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The ccf618bf3b88a95a01463e6a96fc8d9bc52fe57d message can include the boolean param name.\r\n\r\n> This isminetype is not a real isminetype as it is never returned by\r\nIsMine. This is only used for isminefilters in one function, which can\r\nbe better represented with a bool parameter.",
      "created_at": "2025-05-26T13:35:10Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107373819",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107373819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 130,
      "original_start_line": 130,
      "start_side": "LEFT",
      "line": 131,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107393628",
      "pull_request_review_id": 2866249442,
      "id": 2107393628,
      "node_id": "PRRC_kwDOABII5859nEZc",
      "diff_hunk": "@@ -110,6 +108,11 @@ def test_send(self, from_wallet, to_wallet=None, amount=None, data=None,\n         if len(options.keys()) == 0:\n             options = None\n \n+        expect_sign = from_wallet.getwalletinfo()[\"private_keys_enabled\"]\n+        expect_sign &= solving_data is None\n+        if inputs is not None:\n+            expect_sign &= all([\"weight\" not in i for i in inputs])",
      "path": "test/functional/wallet_send.py",
      "position": 25,
      "original_position": 25,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Bitwise `and` for booleans is fine in Python I guess but I find it odd to read it.",
      "created_at": "2025-05-26T13:46:28Z",
      "updated_at": "2025-05-26T14:12:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107393628",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107393628"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 111,
      "original_start_line": 111,
      "start_side": "RIGHT",
      "line": 114,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107486198",
      "pull_request_review_id": 2868652120,
      "id": 2107486198,
      "node_id": "PRRC_kwDOABII5859na_2",
      "diff_hunk": "@@ -74,10 +73,10 @@ WalletTx MakeWalletTx(CWallet& wallet, const CWalletTx& wtx)\n         result.txout_address.emplace_back();\n         result.txout_address_is_mine.emplace_back(ExtractDestination(txout.scriptPubKey, result.txout_address.back()) ?\n                                                       wallet.IsMine(result.txout_address.back()) :\n-                                                      ISMINE_NO);\n+                                                      false);\n     }\n-    result.credit = CachedTxGetCredit(wallet, wtx, ISMINE_ALL);\n-    result.debit = CachedTxGetDebit(wallet, wtx, ISMINE_ALL);\n+    result.credit = CachedTxGetCredit(wallet, wtx, /*avoid_reuse=*/false);\n+    result.debit = CachedTxGetDebit(wallet, wtx, /*avoid_reuse=*/false);",
      "path": "src/wallet/interfaces.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "in_reply_to_id": 2107371939,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "As per this earlier statement, `avoid_reuse: true` does translate to \"don't use ISMINE_USED\".\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/32523/files#diff-69473389a98be9232528ccdef04f9fa51ce8c5558e64994e15589be924eebae3L296\r\n\r\n```\r\nisminefilter reuse_filter = avoid_reuse ? ISMINE_NO : ISMINE_USED;\r\n```",
      "created_at": "2025-05-26T14:42:04Z",
      "updated_at": "2025-05-26T14:42:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107486198",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107486198"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": 79,
      "original_start_line": 79,
      "start_side": "LEFT",
      "line": 79,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107489803",
      "pull_request_review_id": 2868285706,
      "id": 2107489803,
      "node_id": "PRRC_kwDOABII5859nb4L",
      "diff_hunk": "@@ -29,21 +29,6 @@ bool GetAvoidReuseFlag(const CWallet& wallet, const UniValue& param) {\n     return avoid_reuse;\n }\n \n-/** Used by RPC commands that have an include_watchonly parameter.\n- *  We default to true for watchonly wallets if include_watchonly isn't\n- *  explicitly set.\n- */\n-bool ParseIncludeWatchonly(const UniValue& include_watchonly, const CWallet& wallet)\n-{\n-    if (include_watchonly.isNull()) {\n-        // if include_watchonly isn't explicitly set, then check if we have a watchonly wallet\n-        return wallet.IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);",
      "path": "src/wallet/rpc/util.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd: I don't think this is correct. Descriptor wallets can't mix watchonly and non-watchonly, but they still need this for size estimation.\r\n\r\nAt least locally when I try `fundrawtransaction \"020000000001002d310100000000160014a3a5a66c36a754cb95d32f5489a6f856aa30586000000000\" '{\"fee_rate\":3.331}'`, I get now a smaller fee result for a watch-only wallet.\r\n\r\nI guess it would be good to add a test for this on current master or earlier in this pull, then fixup any later commits to not fail the test.",
      "created_at": "2025-05-26T14:44:21Z",
      "updated_at": "2025-05-26T14:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107489803",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107489803"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107732522",
      "pull_request_review_id": 2868999573,
      "id": 2107732522,
      "node_id": "PRRC_kwDOABII5859oXIq",
      "diff_hunk": "@@ -515,12 +512,7 @@ CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransact\n \n     std::optional<unsigned int> change_position;\n     bool lockUnspents = false;\n-    if (!options.isNull()) {\n-      if (options.type() == UniValue::VBOOL) {\n-        // backward compatibility bool only fallback\n-        coinControl.fAllowWatchOnly = options.get_bool();\n-      }\n-      else {\n+    if (!options.isNull() && options.isObject()) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "6e5f730c8160165e5fca6fd7ef0c072204595aec",
      "original_commit_id": "1ec04d4c4efe9e12f02f561d3c9fd23972c4a1bd",
      "in_reply_to_id": 2107252018,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Since this RPC allowed all other types to be aliases for watchonly stuff, I added the backwards compatibility guard for any scripts/programs that may be setting the old parameter instead of an options object. The parameter is ignored because watchonly is no longer a thing, but this way it doesn't throw for any callers written in that way.",
      "created_at": "2025-05-26T18:33:51Z",
      "updated_at": "2025-05-26T18:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32523#discussion_r2107732522",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107732522"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32523"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 515,
      "original_line": 515,
      "side": "RIGHT"
    }
  ]
}