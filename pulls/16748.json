{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748",
    "id": 312044991,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyMDQ0OTkx",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16748",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/16748.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/16748.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e54fb70b3dfeed37b0955c5814507f7c59c615d2",
    "number": 16748,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "[WIP] Add support for addrv2 (BIP155)",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Original BIP: https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki\r\nFollowup discussions after the BIP was merged: https://github.com/bitcoin/bips/pull/766\r\n\r\nThis rough WIP PR aims to allow propagating addresses with `addrv2` messages, and signaling support for `addrv2` messages with `sendaddrv2` message.\r\n\r\nThe commits are structured such that every single commit should compile and pass tests.\r\n\r\nTODO:\r\n- [ ] Wayyyyyyy more tests.\r\n\r\nThings I'd like feedback on:\r\n- What would be the best way to split up https://github.com/bitcoin/bitcoin/commit/e6009922077ce330bc76b82b9c3aa1e813e40356? I've tried to split it up in multiple ways but every time I attempt to do it, it just increases the total diff.\r\n- In https://github.com/bitcoin/bitcoin/commit/fb78590939ff2d8c008cfd68f2f7df816389ac01, we introduce `CJDNS` as a new supported network. `CJDNS` addresses are simple IPv6 addresses under a certain prefix, \r\n- In https://github.com/bitcoin/bitcoin/commit/e10f8bfcaec44cf1e7b73c390225b80644e8367f, I'm wondering if there are better ways of structuring the code for ignoring single `addr` entries, and the entire message.\r\n\r\n-----\r\n\r\nThings that surprised me:\r\n- `addrMe` was deprecated and no one seemed to remember: https://github.com/bitcoin/bips/pull/766#issuecomment-524444473\r\n",
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2019-08-28T21:32:46Z",
    "updated_at": "2022-02-15T10:36:07Z",
    "closed_at": "2020-05-20T16:49:54Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "c2e21aac442b5c90226687e1e4d95e23d03f032b",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "dongcarl:2019-07-addrv2v4",
      "ref": "2019-07-addrv2v4",
      "sha": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 97671618,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NzY3MTYxOA==",
        "name": "bitcoin",
        "full_name": "dongcarl/bitcoin",
        "owner": {
          "login": "dongcarl",
          "id": 3445290,
          "node_id": "MDQ6VXNlcjM0NDUyOTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/dongcarl",
          "html_url": "https://github.com/dongcarl",
          "followers_url": "https://api.github.com/users/dongcarl/followers",
          "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
          "organizations_url": "https://api.github.com/users/dongcarl/orgs",
          "repos_url": "https://api.github.com/users/dongcarl/repos",
          "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/dongcarl/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/dongcarl/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/dongcarl/bitcoin",
        "archive_url": "https://api.github.com/repos/dongcarl/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/dongcarl/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/dongcarl/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/dongcarl/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/dongcarl/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/dongcarl/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/dongcarl/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/dongcarl/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/dongcarl/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/dongcarl/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/dongcarl/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/dongcarl/bitcoin/events",
        "forks_url": "https://api.github.com/repos/dongcarl/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/dongcarl/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/dongcarl/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/dongcarl/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/dongcarl/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/dongcarl/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/dongcarl/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/dongcarl/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/dongcarl/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/dongcarl/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/dongcarl/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/dongcarl/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/dongcarl/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:dongcarl/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/dongcarl/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/dongcarl/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/dongcarl/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/dongcarl/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/dongcarl/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/dongcarl/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/dongcarl/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/dongcarl/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/dongcarl/bitcoin/hooks",
        "svn_url": "https://github.com/dongcarl/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 204504,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-28T17:13:06Z",
        "created_at": "2017-07-19T04:07:18Z",
        "updated_at": "2022-06-03T10:08:14Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "93305e6d46b49d43c86cde6b6235caa0c68639eb",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69853,
        "watchers_count": 69853,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-08T22:17:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T07:25:15Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 397,
    "deletions": 103,
    "changed_files": 12,
    "commits": 8,
    "review_comments": 14,
    "comments": 11
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmY2MyYTA3ZjUwMWIwNmJhNjY5ZGNhNzUxYmJmY2IzOTE3OTU5NTgy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fcc2a07f501b06ba669dca751bbfcb3917959582",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fcc2a07f501b06ba669dca751bbfcb3917959582",
      "tree": {
        "sha": "1c7c82684bec26be1d6681a3d7c8f154948b59bb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c7c82684bec26be1d6681a3d7c8f154948b59bb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1c7c82684bec26be1d6681a3d7c8f154948b59bb\nparent e5abb59a9a66723dd1d9a01f65e467636eb24f2d\nauthor Carl Dong <contact@carldong.me> 1567010095 -0400\ncommitter Carl Dong <contact@carldong.me> 1567011507 -0400\n\nrefactor: Tidy up CNetAddr construction\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1msrMACgkQDMUhUxl5\nkaUeRQ//W22yk7SOuf8VNZ2MVFTXTxLy7RupVBR5Yz+qaQERv1WZyK6DwFnNjNwC\ndfH1SKz+/DzncVxxIkfq/87hDX08cRQveJ8A7UF1Wst0FksPEW23HmkB879lu9XH\n6I476gG9H5/s6FeE5V6tAMimT6pXMPJxxCNvo+Dn87nVJgbZKa1wktWHuPsdLh0u\nyw7xV+vn2IowshK+9lBbT+nvjM83j/xl5ivTqM3vc5pYjcCeX+HgTgRPhQSG/SUv\np+aWfWdkaDauxPehKW8TYmx/2NOJ/putP9EBaG1xcgRD90/Nr+98Rpmyh1PzkE7K\nafYrEj9KilneGX7uKrPmju0aPJHMn8/854JLOP6R+wWOZa+CnFIBENKbpgOAFDFx\nQ5VwC3hF0qaUrZ3JjaNf2594lkTc5f5PqCvjCz6GfrXAJ1LtGRXAqcKvDmquj0NL\nuPvvnXF9IZbR4CvJY76MUjfPgrOqOBN1dvp0O8jtCOwz7WjewZHceD0pMMOouEgO\nXCPA5HkGWmSUtfbBTPiCeeMHIAIVg8RNLI81zwyi0Zo2LGCd2dyWEd11LyycIS0O\nrZ3jvtdy0caZft5/tB2qbvyvxJeopBexgmYnXQbMd9ZruMw5sQ9W8/S+yiW48HmU\n89zByIPU0BiY09+X4V+6YJbm9roqCRDe8TXar3OkSNlYDNEOkFQ=\n=f9Zk\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5abb59a9a66723dd1d9a01f65e467636eb24f2d",
          "sha": "e5abb59a9a66723dd1d9a01f65e467636eb24f2d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e5abb59a9a66723dd1d9a01f65e467636eb24f2d"
        }
      ],
      "message": "refactor: Tidy up CNetAddr construction",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T16:58:27Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T16:34:55Z"
      },
      "sha": "fcc2a07f501b06ba669dca751bbfcb3917959582"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYmJlODg1ZjZjYjc2YWMzOTRmZGYzY2MyYTU2ZGNhYzBkNjdiZGYw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0bbe885f6cb76ac394fdf3cc2a56dcac0d67bdf0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0bbe885f6cb76ac394fdf3cc2a56dcac0d67bdf0",
      "tree": {
        "sha": "562016ea3043d770c75f0d48027f11d42076cb97",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/562016ea3043d770c75f0d48027f11d42076cb97"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 562016ea3043d770c75f0d48027f11d42076cb97\nparent fcc2a07f501b06ba669dca751bbfcb3917959582\nauthor Carl Dong <contact@carldong.me> 1567010054 -0400\ncommitter Carl Dong <contact@carldong.me> 1567026901 -0400\n\nrefactor: Serialize CService as CNetAddr\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1m7tUACgkQDMUhUxl5\nkaWBmw/+Jn7pRnKO8H2upSK773nLvvyc6Jjr4n8tWo2LYaTU4FfE4IR+VC9h/4+1\n0ME2zAW/zsFPsIWhVTlFQuzt7qgsxbC+e22u0OzIHtTnRfCHkUf54Gw1+w5bWlW0\nyCSU5wmoBLMbGb0Px/v6W1bRWkEywFzvkRR+nkUrGpp6IQTav2mBjDT+lsJqrAJu\n5epxEShr0BYwPlgXoYLHiX5YbM3wguCVaNEet01RlZfKdhdkHKLtiMJLkZlaKltE\n5dzdvU/Jph1flT/hCklgHHgv6j7rOopUEAx2gGx2nXTb7qh8qdNtnYNzyhyTVoxN\njy/B/EhhDkbkFAd8eIzk6DxnIBE6nwYPVnr95SPE5T8B3yc9XxKnMQ0TBSoOqUjF\nVJLNTsVU2+TKeeDu8e1yjWd65nPsULaZ9fFbrDGjvAHiSMMLeym0bAuIB7at7bBh\nEAKHop2TIoIdgGdwqHFsrYWK/fBxM5GvVq+a0SIWrVrMUMMSNy9Z3VM8rOmb0OTa\n0rA+w6va4akgF5EkvFtThhws4JvohBJlj/c83gGGyN4nicGLW8AXNCgFANdOXVzR\n1vP6b3cbpDTXh6CbkMbOQDSuuHUF7gKUjVgqJ5TjfTw9XW+2l5wojxOOykooRAN8\n7nfbBq4kM8N075LRPE1Us4P/oZd9NgUedWfzgefQZQLbz+BwYGI=\n=qImW\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fcc2a07f501b06ba669dca751bbfcb3917959582",
          "sha": "fcc2a07f501b06ba669dca751bbfcb3917959582",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fcc2a07f501b06ba669dca751bbfcb3917959582"
        }
      ],
      "message": "refactor: Serialize CService as CNetAddr",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T21:15:01Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T16:34:14Z"
      },
      "sha": "0bbe885f6cb76ac394fdf3cc2a56dcac0d67bdf0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNjAwOTkyMjA3N2NlMzMwYmM3NmI4MmI5YzNhYTFlODEzZTQwMzU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6009922077ce330bc76b82b9c3aa1e813e40356",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e6009922077ce330bc76b82b9c3aa1e813e40356",
      "tree": {
        "sha": "1299f68d4a4abf9a668e9632328ddc05672d68cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1299f68d4a4abf9a668e9632328ddc05672d68cf"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1299f68d4a4abf9a668e9632328ddc05672d68cf\nparent 0bbe885f6cb76ac394fdf3cc2a56dcac0d67bdf0\nauthor Carl Dong <contact@carldong.me> 1567020620 -0400\ncommitter Carl Dong <contact@carldong.me> 1567026902 -0400\n\nRefactor NetAddr in an API compatible way in preparation for addrv2\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1m7tYACgkQDMUhUxl5\nkaXWyBAAsp4SZvsz6Lcu86k4BJierChTojyk/VxwVzxbCY426L23CpXOvBRYhepN\nwh2cR3BAHgnDluTeygHpMPBGjl7FSu+HeEAofQzdyDB+NP1+Hd6RMvsMwvPpu9dv\na5CRI2aJh7FZkFLnmSBXVWbisc/R2dNyJeTFSvEWty6DUAOzV55tiSYZyi51QQRI\nfExayxCxp0xrsVYhx8INw4CDfqAWb9fIcUDxG6EhC/vhOoTPeNbxnrUo3XIx+A7m\ne2GXU2iEvHcDv223c4epBwNB6hURy7nHk2mmHGlXirX1QyG02QKmyWGyjbjWmHvW\nefL5JsJXFiO9s/Gqf2SB9bK8bvbNXmJ3btQ2rJFo3pD9s5WgVD0XUwFxL6iKG6WV\nY+qtTfCQ8uxKAsM116bHH+vZlYzvzqq16Gwegl4ncyFdSjqmvOedYvRninhkFGIM\n9u195+oEybUT+dKPrkA6hbn4Mm140gWZTqvuPYoJJ2sU0/ccQpxaeS689Cg+5472\n2EdUcjfiiMb6ORKPH3akfny3go8l6rX94ezM3k4R4m9xQwlQ5+iYMk5bTzqsQOXQ\nsjzIRqHDHgBa0EEfgdtcnte2UKz4EuwNPSSHEIs53t6ncgm0bSrEGXSscwdkKBf9\nfYckqEkMzVz9qUhV+NeixRfU1tYiOnExNUo5vo6zIn1Yma9x+Ck=\n=lsiE\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0bbe885f6cb76ac394fdf3cc2a56dcac0d67bdf0",
          "sha": "0bbe885f6cb76ac394fdf3cc2a56dcac0d67bdf0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0bbe885f6cb76ac394fdf3cc2a56dcac0d67bdf0"
        }
      ],
      "message": "Refactor NetAddr in an API compatible way in preparation for addrv2",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T21:15:02Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T19:30:20Z"
      },
      "sha": "e6009922077ce330bc76b82b9c3aa1e813e40356"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYjc4NTkwOTM5ZmYyZDhjMDA4Y2ZkNjhmMmY3ZGY4MTYzODlhYzAx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fb78590939ff2d8c008cfd68f2f7df816389ac01",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fb78590939ff2d8c008cfd68f2f7df816389ac01",
      "tree": {
        "sha": "cdf5feb4b3135fd0d85294ff21ef2cda960ebc4d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cdf5feb4b3135fd0d85294ff21ef2cda960ebc4d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cdf5feb4b3135fd0d85294ff21ef2cda960ebc4d\nparent e6009922077ce330bc76b82b9c3aa1e813e40356\nauthor Carl Dong <contact@carldong.me> 1567004934 -0400\ncommitter Carl Dong <contact@carldong.me> 1567026903 -0400\n\nAdd support for v2-only Networks\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1m7tcACgkQDMUhUxl5\nkaVORg/6AmQFxAx9++cIkzHr7tNq/zXEIrC2so+lPlN6lys6lkVluWkxOslVDqXj\nGjtqD0s4hGe1qTSum7g+KzKgEcPH6zGq2qHwpdfZNIlbtqNPa4i6N/BYMSBwkLXJ\n/WNFtB7jEUHr2ySlGEn4cALp+E/Z/g1ZktO3yYMfWu/RMrjsi6iR2wHeu8FQC6t7\nb9vZ4em/OL5vvFTXN4MFBDg15MyMOVXOJDDPpkks3uJ7A+SFoLnz4B7K0aNct3Po\n2kxF5T5wuTMEFeulmgAsdCNXTzqw6a9UMwcaX6tv1hLH8wThVZEEi2JfusXeZq6s\nOICC4M0sTVD0D1aUKeHpG7zrsBkp3gD3ULpNUTomhGDEqipgf/hfw+Km3dgZjGf6\ntBGoYskj1zEVlwOEaf5omP5ZngF1vNRl8de9D6WogGtximJMdJEnX7rzEISGCg8t\n0D8o+89yMShcCRQCi0Eop+Kla8pFCb9sxQc4Ymy5CHdE79YXw3yF/4LSkW7mhHb9\nZKVWp5r6Aa3EyPIkuROdkMZWe/K0LcbF8MdU3cr0UePmHvOw7yevBQk27yeCLBvE\nslXUYOOY4IybTDTncuv2b795dO9MzHI+eYPWrjdCkLfxF/zY4pE6PMfEtij/QP/Y\nae8AAC5F3FbAAWPfdXkp526/na5S0rT/wlgSbTpSErKEnS8+p7Y=\n=0x18\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6009922077ce330bc76b82b9c3aa1e813e40356",
          "sha": "e6009922077ce330bc76b82b9c3aa1e813e40356",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e6009922077ce330bc76b82b9c3aa1e813e40356"
        }
      ],
      "message": "Add support for v2-only Networks",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T21:15:03Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T15:08:54Z"
      },
      "sha": "fb78590939ff2d8c008cfd68f2f7df816389ac01"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMTBmOGJmY2FlYzQ0Y2YxZTdiNzNjMzkwMjI1YjgwNjQ0ZTgzNjdm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e10f8bfcaec44cf1e7b73c390225b80644e8367f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e10f8bfcaec44cf1e7b73c390225b80644e8367f",
      "tree": {
        "sha": "c118abb0f8370d8603789ef535159ab1aa70b1fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c118abb0f8370d8603789ef535159ab1aa70b1fe"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c118abb0f8370d8603789ef535159ab1aa70b1fe\nparent fb78590939ff2d8c008cfd68f2f7df816389ac01\nauthor Carl Dong <contact@carldong.me> 1567005309 -0400\ncommitter Carl Dong <contact@carldong.me> 1567026904 -0400\n\nIntroduce addrv2 serialization\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1m7tgACgkQDMUhUxl5\nkaURExAAudpxxZ45pwW8ylfyX36FZbYDWlckH7y05pUJe56A9ZcoTZLB7cWyqrsx\nCdrxkwz7RhSEfzhDsVO5suSf/zSTQERYsD8aVi671uuaDgUcAhBBY/XXe9E+9POB\ngfzilqAOn4WazdEv535e0qpu/9nNokwSbGgUfhKxmdqIgkOpqn6N1VpknNMiVlOq\nc1J1bxsPERBKJAmSUlJqUHRkq7Rx7bOSiyY0IlXJe9BL+wcutfSpaxps7ifNETH6\nDwcI4Zmtpe7AEZOEforn55eykb6E2QomsKEPxEOjE1nPMuOmC8bScbA/7Ike5+jS\nG+y5zYexIc6DQ5kV8qmIRYuC6ETbnaCQDrtKd6pBhvrR4F8lvWxR3rf2l3XTM6cc\nF93h84ESUxx/j0cageSsEs4tHaETs/cyVmvtAsbKc4vyoSHN2Unry9YPtaMraYJu\n1nlyfIxVWfnbVm7TFHhycTi0vd/wUyjhOCHBBx21PTqsC2vVDMn+9lH/VGXXplWi\n0/lNWZivZPC8ulaZWMpMUAWAIxXQvSm2EYLZgtEoHfsclLwVJCrYDxxoIwhGOWGF\nb4aH+T/y2Pab9j0RfiFJ+xMF3vWNG84HNldS2HMALuIv0rUirn5gDwniIEYTaV3Y\nPXsEBXSaGH8jAEJhxeki8tul3W2syp8i7tGqNvSzWX8XoEWg2MM=\n=L1N9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fb78590939ff2d8c008cfd68f2f7df816389ac01",
          "sha": "fb78590939ff2d8c008cfd68f2f7df816389ac01",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fb78590939ff2d8c008cfd68f2f7df816389ac01"
        }
      ],
      "message": "Introduce addrv2 serialization",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T21:15:04Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T15:15:09Z"
      },
      "sha": "e10f8bfcaec44cf1e7b73c390225b80644e8367f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMmRmYWM3Nzk5ZGMzYTFmZWJmZTZkMDA5ZGViZjI4ZDU5YzY0NDY1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/02dfac7799dc3a1febfe6d009debf28d59c64465",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/02dfac7799dc3a1febfe6d009debf28d59c64465",
      "tree": {
        "sha": "d7bcbe4dfbd0233757d3e357fdf2ee29df1219fa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d7bcbe4dfbd0233757d3e357fdf2ee29df1219fa"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d7bcbe4dfbd0233757d3e357fdf2ee29df1219fa\nparent e10f8bfcaec44cf1e7b73c390225b80644e8367f\nauthor Carl Dong <contact@carldong.me> 1564691280 -0400\ncommitter Carl Dong <contact@carldong.me> 1567026905 -0400\n\nfeat: Adapt addrman to addrv2, write tests\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1m7tkACgkQDMUhUxl5\nkaWonxAAzpMnVeMZ1rRE1KvbP8NMW6XmR9rtvc0zI1yUU210tQIZ0ciexgCysH6I\nsgpgiDWyrJW3WaW53AiDo4pJV3YdE6cLQsG86iokRARctJY29wyHoZltey3zPLie\nXBCkR2AsrJv0UFeXGCpEEIZrbVEWgAe+KZTSiC6XXFwpb7dxc1KBChqTZEHBrSRv\nJ8u0O1avINBtZTQAuu4Vr8DmIT+pgPmeQalkh+tgLbTYTzGBjM5PI7Bd1wAzdsZ6\n1g53/7251TwdnfgLz+ONpRrA2XMqfUp/51sspZGK46OP1cgtQI3GcftiKqeBpWVi\n4KRZ+fm+bhrTpcXwmrYjlgSbaCOyHMpRsWIy1E9hx/J6FTXwiBao8ueo9jQqKug9\nDkyetlJDwpqAtkgj/OTjl8jO25MCtKMV8qHA1/HMMkd1/9BzyXH2DwCMRjLs/ROU\nsiWlHVZeDlNGKDobSOewZFnYSmcg+053N3NqMwXNKFZJiGcmQwHHycCQUuSa8PiT\nPebEBDfAo+UBEb+6JfTo25fyX8YEf4hrhaDZFGF5j9hzQvGa9hi3u0TTsvc6DSI/\n/Q45l4rx5cF4OsPyp71HbrJfalW7lQOarVDZAqNEGA73cZbeh0r8ufSoLQaFMdnD\nNbFc5Jk8NlI8EAjawt8qaeejuNWgUv+zjJUc9bKmDS2pBClMgZE=\n=ilDO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e10f8bfcaec44cf1e7b73c390225b80644e8367f",
          "sha": "e10f8bfcaec44cf1e7b73c390225b80644e8367f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e10f8bfcaec44cf1e7b73c390225b80644e8367f"
        }
      ],
      "message": "feat: Adapt addrman to addrv2, write tests",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T21:15:05Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-01T20:28:00Z"
      },
      "sha": "02dfac7799dc3a1febfe6d009debf28d59c64465"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMDQxNGE2YTE3ZWEyY2Y1ODEyYjQ1ZGJkZGYzMTgwNTljZGUwYjdl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
      "tree": {
        "sha": "e053ef492e72aa2b7d90a346bf2fb0c2901971d7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e053ef492e72aa2b7d90a346bf2fb0c2901971d7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e053ef492e72aa2b7d90a346bf2fb0c2901971d7\nparent 02dfac7799dc3a1febfe6d009debf28d59c64465\nauthor Carl Dong <contact@carldong.me> 1566324280 -0400\ncommitter Carl Dong <contact@carldong.me> 1567026906 -0400\n\nfeat: net_processing code for addrv2\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1m7toACgkQDMUhUxl5\nkaXrhw/+JjhiCT9IuEnIyLbBCQcptc40ez+b8QGcQEgsYrgVP3buV2Y+DdPrmfBj\nOQ7VwanCu8LoTUn58+hBc7hwoC6PRFbMcmraar+O78vVGVAOcrQgd6uCzbFQD8ef\nt87HI2F2ZDlf5JAJ57eO3nXVO8bOK8V4H/MpH7aslitYIV+dKJmGkm8z9ZQRD/ZR\nPbfH/a6+VY29mvRgHq3vl7sAiH9HTMBLFuTGRjfMDEowvJ8wCMmSW1TxgDNq+WPh\nNYKPdzqg59OctvuaTS2VMGO16oOCaLV60sVjg6hMyukqldNTZ2yWnFYmsGPQ/XU0\n+AIQWRM/21+pTiyIeNXtrep/EeBbJawJYwucw85CxRH26YMcG6XGgsoIK+Cm/otS\nHrKodIrrFlJc5ywba6OHpFUkpOILkFSkULLeakwNMHgPtKbJwn2xMT2k9Yvn2CC4\nJtGfETGIDZM/76jlca2uuWznB2fUqqPoqR6jbHVz30lZkriCSSFLbSQd8o3VgvWZ\nVeELxqMV9UGt9OQVkNd5uqMnp0R4JjzRiIY9eC1ZCwHR8uVQf4CEoSI60yQSqhCw\nP3N6+YQ66KCmifuxwCuJ2vgblS+WcVqtwMUESCH8M/zV7IE596T032zkrRJZ0aPi\nPTi/Ed14IgqU59QY1yy2m3wqk8ZLa4MKVYuKkx0M8PK8p5ETmew=\n=8H0H\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/02dfac7799dc3a1febfe6d009debf28d59c64465",
          "sha": "02dfac7799dc3a1febfe6d009debf28d59c64465",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/02dfac7799dc3a1febfe6d009debf28d59c64465"
        }
      ],
      "message": "feat: net_processing code for addrv2",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T21:15:06Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-20T18:04:40Z"
      },
      "sha": "c0414a6a17ea2cf5812b45dbddf318059cde0b7e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNTRmYjcwYjNkZmVlZDM3YjA5NTVjNTgxNDUwN2Y3YzU5YzYxNWQy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "tree": {
        "sha": "a78016741d586b3fb83cc47fc19cef3415d4244e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a78016741d586b3fb83cc47fc19cef3415d4244e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a78016741d586b3fb83cc47fc19cef3415d4244e\nparent c0414a6a17ea2cf5812b45dbddf318059cde0b7e\nauthor Carl Dong <contact@carldong.me> 1566399430 -0400\ncommitter Carl Dong <contact@carldong.me> 1567026906 -0400\n\nfeat: Make functional tests not freak out on sendaddrv2\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl1m7toACgkQDMUhUxl5\nkaW2mQ//TkU6k2eXMX/SSlp+J06r9DR7x+I/EBp/m/KhY9txKn+dA8yC18dBhCEf\nkNE8gZH9e/auHlGI9wfvzF3Gvab30hRpMsXVnTkE4gh+8ztoeTjSgL/Dh3Qv9FKH\nk7CbcaDOwmU5CLF6bmyR2Z5nL3wkjEWcKHZ4/30b8APspMrw60gcbapKgguVp+Xy\nIe01ydeXZ/E6pIbaqB94y2qEUxAEqwROK+jwyZs4/2wFs4E2WW0opKVT6f6kJYXI\nPYM7NyLd1RZWtdYN4f+ymOgpJipUmM7ThpRJHPBriUqEXRI/BQP72Kj0pvNxy8cq\ns/CBo/OR7cE1ukAdjBw92qaa1aGXOoD5VvpJ/brtCB9z1EfrrDLQfM0cPXiRWS+c\nMD22Y34ysH+ioKsah5Xu722/y3m4sbSx3AEgfjZuRXDrXdZA9anJxaqXlG1gWgHv\nqupLE9zLV5drVnAYCPNwC93GJJKmxFzH/gXNE9xjhCc0g+hamvtmie6S9jhlodUl\nrAQrJnCMBI/5E9KWox+YwSFK1NbEwGiYlyObq/PtxZG9YSQuHbjNSLzpa8dPgs2z\nlKIzQ01/ruNOYPqz7rqCdvaeyXULEi49ZJTP75bbYy41Ho6epL0eQ4pnhkoe2VlY\nZ1EntW+qrBpfTnT1645AmIHTWHX0DXFEW6p9QUSORInbvTTEUsc=\n=5eF3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
          "sha": "c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c0414a6a17ea2cf5812b45dbddf318059cde0b7e"
        }
      ],
      "message": "feat: Make functional tests not freak out on sendaddrv2",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-28T21:15:06Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2019-08-21T14:57:10Z"
      },
      "sha": "e54fb70b3dfeed37b0955c5814507f7c59c615d2"
    },
    {
      "event": "labeled",
      "id": 2592050479,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI1OTIwNTA0Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2592050479",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-28T21:52:06Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 525947108,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTk0NzEwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525947108",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-28T22:30:28Z",
      "updated_at": "2020-01-18T11:26:43Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17812](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17812.html) (config, test: asmap functional tests and feature refinements by jonatack)\n* [#16702](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16702.html) (p2p: supplying and using asmap to improve IP bucketing in addrman by naumenkogs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-525947108",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "commented",
      "id": 526106195,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjEwNjE5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526106195",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-29T09:31:59Z",
      "updated_at": "2019-08-29T09:31:59Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, thanks for working on this",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-526106195",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "commented",
      "id": 527539510,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzUzOTUxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527539510",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-03T16:39:17Z",
      "updated_at": "2019-09-03T16:39:27Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nI reviewed ```std::vector<unsigned char> CNetAddr::GetGroup() const``` part and it seems correct to me, although not sure mixing GetByte() and direct reading from the ip array is a good idea.",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-527539510",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "commented",
      "id": 536311628,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjMxMTYyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536311628",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-29T15:13:39Z",
      "updated_at": "2019-09-29T15:13:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nRegarding the tests: could add a test for `IsStandardV2Deserialization` which seems both unused and untested currently? :)",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-536311628",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "labeled",
      "id": 2679631577,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI2Nzk2MzE1Nzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2679631577",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-02T07:51:02Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "reviewed",
      "id": 395637985,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NjM3OTg1",
      "url": null,
      "actor": null,
      "commit_id": "e6009922077ce330bc76b82b9c3aa1e813e40356",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I reviewed the code, overall it looks good to me.\r\n\r\nWith this implementation it is not be possible for a node to choose to connect to peers that support `addv2` (in the hopes of learning more torv3/i2p/cjdns addresses) because the support is signaled inside each p2p connection. [BIP155](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki#compatibility) says a protocol version bump should be used for signaling, but I gather this topic is not settled yet.\r\n\r\nI will try to write some tests for this PR.\r\n\r\nSome questions and nits below, feel free to ignore.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#pullrequestreview-395637985",
      "submitted_at": "2020-04-21T19:12:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
    },
    {
      "event": "commented",
      "id": 617631642,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzYzMTY0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617631642",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-22T08:27:25Z",
      "updated_at": "2020-04-22T08:27:25Z",
      "author_association": "MEMBER",
      "body": "> What would be the best way to split up [e600992](https://github.com/bitcoin/bitcoin/commit/e6009922077ce330bc76b82b9c3aa1e813e40356)? I've tried to split it up in multiple ways but every time I attempt to do it, it just increases the total diff.\r\n\r\nIt looks ok to me, no screaming need to split it.\r\n\r\n> In [e10f8bf](https://github.com/bitcoin/bitcoin/commit/e10f8bfcaec44cf1e7b73c390225b80644e8367f), I'm wondering if there are better ways of structuring the code for ignoring single `addr` entries, and the entire message.\r\n\r\nYou mean that `CNetAddr::Unserialize()` was changed to [throw an exception](https://github.com/bitcoin/bitcoin/pull/16748/files#diff-76d15e11a95be7a4aee1eb89de6098caR163) and the [parsing code is now in try/catch](https://github.com/bitcoin/bitcoin/pull/16748/files#diff-eff7adeaec73a769788bb78858815c91R2140)? I think the current approach is sound, given that 1) some addresses might already have been deserialized into the vector before we stumble on a problematic one, 2) the `Unserialize()` returns `void` and 3) we should stop parsing and reject the entire message, not just a particular address from it.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-617631642",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "reviewed",
      "id": 398135006,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4MTM1MDA2",
      "url": null,
      "actor": null,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#pullrequestreview-398135006",
      "submitted_at": "2020-04-25T07:26:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
    },
    {
      "event": "commented",
      "id": 622310812,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjMxMDgxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622310812",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-01T09:05:27Z",
      "updated_at": "2020-05-01T09:05:27Z",
      "author_association": "MEMBER",
      "body": "I rebased this and fixed some unit tests and a compilation warning at:\r\nhttps://github.com/vasild/bitcoin/tree/2019-07-addrv2v4\r\nNext I will address the above suggestions.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-622310812",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "commented",
      "id": 622455096,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjQ1NTA5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622455096",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-01T16:19:50Z",
      "updated_at": "2020-05-01T16:19:50Z",
      "author_association": "MEMBER",
      "body": "@vasild Great! I'll close this one as soon as you open your PR :-)",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-622455096",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "mentioned",
      "id": 3293673108,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzI5MzY3MzEwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3293673108",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-01T16:19:50Z"
    },
    {
      "event": "subscribed",
      "id": 3293673112,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMyOTM2NzMxMTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3293673112",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-01T16:19:50Z"
    },
    {
      "event": "reviewed",
      "id": 406912724,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTEyNzI0",
      "url": null,
      "actor": null,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#pullrequestreview-406912724",
      "submitted_at": "2020-05-06T19:33:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
    },
    {
      "event": "commented",
      "id": 624847869,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNDg0Nzg2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/624847869",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-06T19:36:30Z",
      "updated_at": "2020-05-06T19:36:30Z",
      "author_association": "MEMBER",
      "body": "Just to note - I am addressing the above suggestions and will then open a PR, which I deem would be ready for wider review.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-624847869",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "commented",
      "id": 631581865,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTU4MTg2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631581865",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-20T16:24:33Z",
      "updated_at": "2020-05-20T16:24:33Z",
      "author_association": "MEMBER",
      "body": "> Just to note - I am addressing the above suggestions and will then open a PR, which I deem would be ready for wider review.\r\n\r\nDone: https://github.com/bitcoin/bitcoin/pull/19031",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-631581865",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "commented",
      "id": 631596050,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTU5NjA1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631596050",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-20T16:49:54Z",
      "updated_at": "2020-05-20T16:49:54Z",
      "author_association": "MEMBER",
      "body": "Closing in favor of #19031, will review there.",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-631596050",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "closed",
      "id": 3357387478,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzM1NzM4NzQ3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3357387478",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-20T16:49:54Z"
    },
    {
      "event": "commented",
      "id": 692244028,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjI0NDAyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692244028",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T18:49:19Z",
      "updated_at": "2020-09-14T18:49:19Z",
      "author_association": "MEMBER",
      "body": "Big, big, big kudos for your work on this @dongcarl.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#issuecomment-692244028",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16748"
    },
    {
      "event": "mentioned",
      "id": 3764862622,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc2NDg2MjYyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3764862622",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T18:49:19Z"
    },
    {
      "event": "subscribed",
      "id": 3764862626,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3NjQ4NjI2MjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3764862626",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T18:49:19Z"
    },
    {
      "event": "locked",
      "id": 6073824134,
      "node_id": "LOE_lADOABII584dATsqzwAAAAFqBzOG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073824134",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:36:07Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410364056",
      "pull_request_review_id": 395637985,
      "id": 410364056,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM2NDA1Ng==",
      "diff_hunk": "@@ -692,51 +745,57 @@ CSubNet::CSubNet():\n \n CSubNet::CSubNet(const CNetAddr &addr, int32_t mask)\n {\n-    valid = true;\n+    valid = (addr.m_network_id == NetworkID::IPV4 || addr.m_network_id == NetworkID::IPV6);\n     network = addr;\n     // Default to /32 (IPv4) or /128 (IPv6), i.e. match single address\n     memset(netmask, 255, sizeof(netmask));\n \n     // IPv4 addresses start at offset 12, and first 12 bytes must match, so just offset n",
      "path": "src/netaddress.cpp",
      "position": 436,
      "original_position": 382,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "e6009922077ce330bc76b82b9c3aa1e813e40356",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: this comment is outdated now, needs to be adjusted (or deleted).",
      "created_at": "2020-04-17T17:23:02Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r410364056",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410364056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 785,
      "original_line": 753,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410365541",
      "pull_request_review_id": 395637985,
      "id": 410365541,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM2NTU0MQ==",
      "diff_hunk": "@@ -692,51 +745,57 @@ CSubNet::CSubNet():\n \n CSubNet::CSubNet(const CNetAddr &addr, int32_t mask)\n {\n-    valid = true;\n+    valid = (addr.m_network_id == NetworkID::IPV4 || addr.m_network_id == NetworkID::IPV6);\n     network = addr;\n     // Default to /32 (IPv4) or /128 (IPv6), i.e. match single address\n     memset(netmask, 255, sizeof(netmask));\n \n     // IPv4 addresses start at offset 12, and first 12 bytes must match, so just offset n\n-    const int astartofs = network.IsIPv4() ? 12 : 0;\n+    const int alens = network.ip.size();\n \n     int32_t n = mask;\n-    if(n >= 0 && n <= (128 - astartofs*8)) // Only valid if in range of bits of address\n+    if(n >= 0 && n <= (alens*8)) // Only valid if in range of bits of address\n     {\n-        n += astartofs*8;\n         // Clear bits [n..127]\n         for (; n < 128; ++n)\n             netmask[n>>3] &= ~(1<<(7-(n&7)));\n-    } else\n+    } else {\n         valid = false;\n+    }\n \n     // Normalize network according to netmask\n-    for(int x=0; x<16; ++x)\n-        network.ip[x] &= netmask[x];\n+    for(size_t x=0; x<alens; ++x)\n+        network.ip.at(x) &= netmask[x];\n }\n \n CSubNet::CSubNet(const CNetAddr &addr, const CNetAddr &mask)\n {\n-    valid = true;\n+    valid = (addr.m_network_id == NetworkID::IPV4 || addr.m_network_id == NetworkID::IPV6);\n     network = addr;\n     // Default to /32 (IPv4) or /128 (IPv6), i.e. match single address\n     memset(netmask, 255, sizeof(netmask));\n \n     // IPv4 addresses start at offset 12, and first 12 bytes must match, so just offset n",
      "path": "src/netaddress.cpp",
      "position": 468,
      "original_position": 414,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "e6009922077ce330bc76b82b9c3aa1e813e40356",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: this comment is outdated now, needs to be adjusted (or deleted).",
      "created_at": "2020-04-17T17:25:45Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r410365541",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410365541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 810,
      "original_line": 778,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410423357",
      "pull_request_review_id": 395637985,
      "id": 410423357,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQyMzM1Nw==",
      "diff_hunk": "@@ -81,6 +81,17 @@ bool CNetAddr::SetSpecial(const std::string &strName)\n             m_network_id = NetworkID::TORV2;\n             ip.assign(vchAddr.begin(), vchAddr.end());\n             return true;\n+        } else if (vchAddr.size() == 35) {",
      "path": "src/netaddress.cpp",
      "position": 63,
      "original_position": 4,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "fb78590939ff2d8c008cfd68f2f7df816389ac01",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: this function's comment is now outdated",
      "created_at": "2020-04-17T19:20:33Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r410423357",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410423357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 84,
      "original_line": 84,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410440592",
      "pull_request_review_id": 395637985,
      "id": 410440592,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ0MDU5Mg==",
      "diff_hunk": "@@ -477,7 +486,8 @@ class CAddrMan\n         mapAddr.clear();\n     }\n \n-    CAddrMan()\n+    CAddrMan(unsigned char serialization_version = ADDRMAN_HIGHEST_KNOWN_SERIALIZATION_VERSION)",
      "path": "src/addrman.h",
      "position": 62,
      "original_position": 62,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "02dfac7799dc3a1febfe6d009debf28d59c64465",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: deserves `explicit`",
      "created_at": "2020-04-17T19:58:16Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r410440592",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410440592"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 489,
      "original_line": 489,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410445532",
      "pull_request_review_id": 395637985,
      "id": 410445532,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ0NTUzMg==",
      "diff_hunk": "@@ -134,6 +136,42 @@ BOOST_AUTO_TEST_CASE(caddrdb_read)\n     BOOST_CHECK(addrman2.size() == 3);\n }\n \n+BOOST_AUTO_TEST_CASE(caddrdb_read_v1_ser)\n+{\n+    // Construct an AddrMan that serializes in v1 format\n+    CAddrManUncorrupted addrmanUncorrupted(1);\n+    addrmanUncorrupted.MakeDeterministic();\n+\n+    CService addr1, addr2, addr3;\n+    BOOST_CHECK(Lookup(\"250.7.1.1\", addr1, 8333, false));\n+    BOOST_CHECK(Lookup(\"250.7.2.2\", addr2, 9999, false));\n+    BOOST_CHECK(Lookup(\"250.7.3.3\", addr3, 9999, false));\n+\n+    // Add three addresses to new table.\n+    CService source;\n+    BOOST_CHECK(Lookup(\"252.5.1.1\", source, 8333, false));\n+    BOOST_CHECK(addrmanUncorrupted.Add(CAddress(addr1, NODE_NONE), source));\n+    BOOST_CHECK(addrmanUncorrupted.Add(CAddress(addr2, NODE_NONE), source));\n+    BOOST_CHECK(addrmanUncorrupted.Add(CAddress(addr3, NODE_NONE), source));\n+\n+    // Test that the de-serialization does not throw an exception.\n+    CDataStream ssPeers1 = AddrmanToStream(addrmanUncorrupted);\n+    bool exceptionThrown = false;\n+    CAddrMan addrman1;\n+\n+    BOOST_CHECK(addrman1.size() == 0);\n+    try {\n+        unsigned char pchMsgTmp[4];\n+        ssPeers1 >> pchMsgTmp;\n+        ssPeers1 >> addrman1;\n+    } catch (const std::exception&) {\n+        exceptionThrown = true;\n+    }",
      "path": "src/test/net_tests.cpp",
      "position": 59,
      "original_position": 59,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "02dfac7799dc3a1febfe6d009debf28d59c64465",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: if we just let the exception uncaught, this will suffice to fail the test?",
      "created_at": "2020-04-17T20:09:33Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r410445532",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410445532"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": 163,
      "original_start_line": 163,
      "start_side": "RIGHT",
      "line": 169,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412236060",
      "pull_request_review_id": 395637985,
      "id": 412236060,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzNjA2MA==",
      "diff_hunk": "@@ -2124,9 +2131,18 @@ bool static ProcessMessage(CNode* pfrom, const std::string& strCommand, CDataStr\n         return false;\n     }\n \n-    if (strCommand == NetMsgType::ADDR) {\n+    if (strCommand == NetMsgType::ADDR || strCommand == NetMsgType::ADDRv2) {\n+        if (strCommand == NetMsgType::ADDRv2) {\n+            vRecv.SetVersion(vRecv.GetVersion() | SERIALIZE_ADDR_AS_V2);\n+        }\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+        try {\n+            vRecv >> vAddr;\n+        } catch (...) {\n+            LOCK(cs_main);\n+            Misbehaving(pfrom->GetId(), 20, \"absurdly large addrv2 entry\");",
      "path": "src/net_processing.cpp",
      "position": 36,
      "original_position": 36,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This message implies that the only reason `vRecv >> vAddr` could throw is a too large addrv2 entry. While this is the case with the current code, it is better to avoid such an assumption to make it less fragile wrt future changes (where we start throwing for more reasons).\r\n\r\nWould it be possible to catch the exception object and print something like `\"can't parse address message: %s\", e.what()`?",
      "created_at": "2020-04-21T14:30:01Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r412236060",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412236060"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2143,
      "original_line": 2143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412257785",
      "pull_request_review_id": 395637985,
      "id": 412257785,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1Nzc4NQ==",
      "diff_hunk": "@@ -2181,6 +2197,12 @@ bool static ProcessMessage(CNode* pfrom, const std::string& strCommand, CDataStr\n         return true;\n     }\n \n+    if (strCommand == NetMsgType::SENDADDRv2) {",
      "path": "src/net_processing.cpp",
      "position": 46,
      "original_position": 46,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This would accept the `SENDADDRv2` message at any time during the connection lifetime. @laanwj [commented](https://github.com/bitcoin/bips/pull/766#issuecomment-517003833):\r\n\r\n> I think for simplicy of implementation we'd want to mandate that this should be sent _after_ `version` but _before_ any other (non-BIP-signalling) messages, so a connection won't switch to v2 suddenly halfway other things.\r\n\r\nIt looks ok to me to switch to v2 in the middle of the connection lifetime, or do I miss something?",
      "created_at": "2020-04-21T14:54:57Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r412257785",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412257785"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2200,
      "original_line": 2200,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412281609",
      "pull_request_review_id": 395637985,
      "id": 412281609,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI4MTYwOQ==",
      "diff_hunk": "@@ -3590,14 +3612,24 @@ bool PeerLogicValidation::SendMessages(CNode* pto)\n                     // receiver rejects addr messages larger than 1000\n                     if (vAddr.size() >= 1000)\n                     {\n-                        connman->PushMessage(pto, msgMaker.Make(NetMsgType::ADDR, vAddr));\n+                        if (state.m_accepts_addrv2) {\n+                            connman->PushMessage(pto, msgMaker.Make(SERIALIZE_ADDR_AS_V2, NetMsgType::ADDRv2, vAddr));",
      "path": "src/net_processing.cpp",
      "position": 61,
      "original_position": 61,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The arguments seem redundant: `NetMsgType::ADDRv2` already implies v2, so `SERIALIZE_ADDR_AS_V2` shouldn't be necessary?\r\n\r\nThis also opens up the possibility for an unintentional misuses like `Make(SERIALIZE_ADDR_AS_V2, NetMsgType::ADDR, vAddr)` or `Make(NetMsgType::ADDRv2, vAddr)`. Would it be more appropriate to have something like the following inside `CNetMsgMaker::Make()`?\r\n\r\n```cpp\r\nif (sCommand == NetMsgType::ADDRv2) {\r\n    nFlags |= SERIALIZE_ADDR_AS_V2;\r\n}   \r\n```\r\n\r\nand call it like `Make(NetMsgType::ADDRv2, vAddr)`?",
      "created_at": "2020-04-21T15:22:33Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r412281609",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412281609"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3616,
      "original_line": 3616,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412308897",
      "pull_request_review_id": 395637985,
      "id": 412308897,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMwODg5Nw==",
      "diff_hunk": "@@ -2124,9 +2131,18 @@ bool static ProcessMessage(CNode* pfrom, const std::string& strCommand, CDataStr\n         return false;\n     }\n \n-    if (strCommand == NetMsgType::ADDR) {\n+    if (strCommand == NetMsgType::ADDR || strCommand == NetMsgType::ADDRv2) {\n+        if (strCommand == NetMsgType::ADDRv2) {\n+            vRecv.SetVersion(vRecv.GetVersion() | SERIALIZE_ADDR_AS_V2);",
      "path": "src/net_processing.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "c0414a6a17ea2cf5812b45dbddf318059cde0b7e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Here `SERIALIZE_ADDR_AS_V2` is being used as a **de**serialize instruction (\"deserialize this addr message which is in v2 format\") which may be confusing. What about using a separate constant like `DESERIALIZE_ADDR_FROM_V2`, or just one constant but with a generic name like `ADDR_V2_FORMAT`?",
      "created_at": "2020-04-21T16:32:03Z",
      "updated_at": "2020-04-21T19:12:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r412308897",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412308897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2136,
      "original_line": 2136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412934714",
      "pull_request_review_id": 398135006,
      "id": 412934714,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkzNDcxNA==",
      "diff_hunk": "@@ -209,6 +211,7 @@ class CAddrMan\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    unsigned char m_serialization_version;",
      "path": "src/addrman.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This member variable is unused.",
      "created_at": "2020-04-22T12:24:31Z",
      "updated_at": "2020-04-25T07:26:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r412934714",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412934714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 214,
      "original_line": 214,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414663229",
      "pull_request_review_id": 398135006,
      "id": 414663229,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY2MzIyOQ==",
      "diff_hunk": "@@ -703,51 +777,57 @@ CSubNet::CSubNet():\n \n CSubNet::CSubNet(const CNetAddr &addr, int32_t mask)\n {\n-    valid = true;\n+    valid = (addr.m_network_id == NetworkID::IPV4 || addr.m_network_id == NetworkID::IPV6);\n     network = addr;\n     // Default to /32 (IPv4) or /128 (IPv6), i.e. match single address\n     memset(netmask, 255, sizeof(netmask));\n \n     // IPv4 addresses start at offset 12, and first 12 bytes must match, so just offset n\n-    const int astartofs = network.IsIPv4() ? 12 : 0;\n+    const int alens = network.ip.size();\n \n     int32_t n = mask;\n-    if(n >= 0 && n <= (128 - astartofs*8)) // Only valid if in range of bits of address\n+    if(n >= 0 && n <= (alens*8)) // Only valid if in range of bits of address\n     {\n-        n += astartofs*8;\n         // Clear bits [n..127]\n         for (; n < 128; ++n)\n             netmask[n>>3] &= ~(1<<(7-(n&7)));\n-    } else\n+    } else {\n         valid = false;\n+    }\n \n     // Normalize network according to netmask\n-    for(int x=0; x<16; ++x)\n-        network.ip[x] &= netmask[x];\n+    for(size_t x=0; x<alens; ++x)\n+        network.ip.at(x) &= netmask[x];\n }\n \n CSubNet::CSubNet(const CNetAddr &addr, const CNetAddr &mask)\n {\n-    valid = true;\n+    valid = (addr.m_network_id == NetworkID::IPV4 || addr.m_network_id == NetworkID::IPV6);\n     network = addr;\n     // Default to /32 (IPv4) or /128 (IPv6), i.e. match single address\n     memset(netmask, 255, sizeof(netmask));\n \n     // IPv4 addresses start at offset 12, and first 12 bytes must match, so just offset n\n-    const int astartofs = network.IsIPv4() ? 12 : 0;\n+    const int alens = network.ip.size();\n \n-    for(int x=astartofs; x<16; ++x)\n-        netmask[x] = mask.ip[x];\n+    for(int x=0; x<alens; ++x)\n+        netmask[x] = mask.ip.at(x);\n+    for(int x=alens; x<16; ++x)\n+        netmask[x] = 0;\n \n     // Normalize network according to netmask\n-    for(int x=0; x<16; ++x)\n-        network.ip[x] &= netmask[x];\n+    for(size_t x=0; x<network.ip.size(); ++x)\n+        network.ip.at(x) &= netmask[x];\n }\n \n CSubNet::CSubNet(const CNetAddr &addr):\n     valid(addr.IsValid())\n {\n-    memset(netmask, 255, sizeof(netmask));\n+    valid &= (addr.m_network_id == NetworkID::IPV4 || addr.m_network_id == NetworkID::IPV6);\n+\n+    memset(netmask, 0, sizeof(netmask));\n+    memset(netmask, 255, addr.ip.size());",
      "path": "src/netaddress.cpp",
      "position": 493,
      "original_position": 493,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`netmask` is still [defined](https://github.com/bitcoin/bitcoin/pull/16748/files#diff-76d15e11a95be7a4aee1eb89de6098caR185) as `uint8_t netmask[16];` and if this is one of the new addresses that has `addr.ip.size()` equal to 32, then this `memset()` will overflow the buffer. Yes, `valid` will be false due to the above `valid &= ...`, but the overflow would still happen.",
      "created_at": "2020-04-24T15:26:13Z",
      "updated_at": "2020-04-25T07:26:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r414663229",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414663229"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 829,
      "original_line": 829,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/420852452",
      "pull_request_review_id": 406690396,
      "id": 420852452,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg1MjQ1Mg==",
      "diff_hunk": "@@ -477,7 +486,8 @@ class CAddrMan\n         mapAddr.clear();\n     }\n \n-    CAddrMan()\n+    CAddrMan(unsigned char serialization_version = ADDRMAN_HIGHEST_KNOWN_SERIALIZATION_VERSION)",
      "path": "src/addrman.h",
      "position": 62,
      "original_position": 62,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "02dfac7799dc3a1febfe6d009debf28d59c64465",
      "in_reply_to_id": 410440592,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, it does not because the argument is `unsigned char`.",
      "created_at": "2020-05-06T14:49:06Z",
      "updated_at": "2020-05-06T14:49:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r420852452",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/420852452"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 489,
      "original_line": 489,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/421031112",
      "pull_request_review_id": 406912724,
      "id": 421031112,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzMTExMg==",
      "diff_hunk": "@@ -81,19 +116,61 @@ class CNetAddr\n         bool GetInAddr(struct in_addr* pipv4Addr) const;\n         std::vector<unsigned char> GetGroup() const;\n         int GetReachabilityFrom(const CNetAddr *paddrPartner = nullptr) const;\n-\n+        bool GetV1Serialization(unsigned char *buff) const;\n+        void FromV1Serialization(unsigned char *buff);\n         explicit CNetAddr(const struct in6_addr& pipv6Addr, const uint32_t scope = 0);\n         bool GetIn6Addr(struct in6_addr* pipv6Addr) const;\n \n         friend bool operator==(const CNetAddr& a, const CNetAddr& b);\n         friend bool operator!=(const CNetAddr& a, const CNetAddr& b) { return !(a == b); }\n         friend bool operator<(const CNetAddr& a, const CNetAddr& b);\n \n-        ADD_SERIALIZE_METHODS;\n+        template<typename Stream>\n+        void Serialize(Stream &s) const\n+        {\n+            if (s.GetVersion() & SERIALIZE_ADDR_AS_V2) {\n+                s << static_cast<uint8_t>(m_network_id);\n+                s << ip;\n+            } else {\n+                unsigned char ip_temp[16];\n+                GetV1Serialization(ip_temp);",
      "path": "src/netaddress.h",
      "position": 90,
      "original_position": 90,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We must make sure that we never end up here with `this` being one of the new address types, e.g. Tor v3. If that happens `GetV1Serialization()` will return `false` (which is currently ignored).\r\n\r\nWe should not attempt to send e.g. Tor v3 address to a peer that did not signal ADDRv2 support. Maybe `CNode::PushAddress()` is a good place to plant a check for that and skip adding new type addresses to the send queue of an old peer.",
      "created_at": "2020-05-06T19:15:18Z",
      "updated_at": "2020-05-06T19:33:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r421031112",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/421031112"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/421033048",
      "pull_request_review_id": 406912724,
      "id": 421033048,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzMzA0OA==",
      "diff_hunk": "@@ -2124,9 +2131,18 @@ bool static ProcessMessage(CNode* pfrom, const std::string& strCommand, CDataStr\n         return false;\n     }\n \n-    if (strCommand == NetMsgType::ADDR) {\n+    if (strCommand == NetMsgType::ADDR || strCommand == NetMsgType::ADDRv2) {\n+        if (strCommand == NetMsgType::ADDRv2) {\n+            vRecv.SetVersion(vRecv.GetVersion() | SERIALIZE_ADDR_AS_V2);",
      "path": "src/net_processing.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "original_commit_id": "e54fb70b3dfeed37b0955c5814507f7c59c615d2",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This will flip `vRecv` to always deserialize addr messages as addrv2. If we subsequently receive addr(v1) then it will fail to parse it as addrv2. It would be unusual for a peer to send addrv2 followed by addrv1, but still that's not forbidden and we should handle it.",
      "created_at": "2020-05-06T19:18:47Z",
      "updated_at": "2020-05-06T19:33:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16748#discussion_r421033048",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/421033048"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16748"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2136,
      "original_line": 2136,
      "side": "RIGHT"
    }
  ]
}