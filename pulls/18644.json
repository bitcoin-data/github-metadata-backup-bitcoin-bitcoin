{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644",
    "id": 403496102,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDAzNDk2MTAy",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18644",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/18644.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/18644.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/52e9088042ec90fa2dfe157cb1b1ba41b9046979",
    "number": 18644,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "net: Reduce `TransportDeserializer` interface to 2 methods",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Mostly inspired by https://github.com/bitcoin/bitcoin/pull/16202#issuecomment-535152710, I believe this will also allow some simplifications in #18242.\r\n\r\nIf you're concerned about the net added line count, don't be: this PR also adds some documentation to `net.{h,cpp}`.\r\n\r\nI'm happy for this to go in after #18242 and I'll rebase.",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2020-04-15T01:44:35Z",
    "updated_at": "2022-02-15T10:59:01Z",
    "closed_at": "2020-05-26T18:12:46Z",
    "mergeable_state": "unknown",
    "merge_commit_sha": "3d0ef2d655d22a6101d7e4838717648148951b45",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "dongcarl:2020-04-transport-readmessages",
      "ref": "2020-04-transport-readmessages",
      "sha": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 97671618,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NzY3MTYxOA==",
        "name": "bitcoin",
        "full_name": "dongcarl/bitcoin",
        "owner": {
          "login": "dongcarl",
          "id": 3445290,
          "node_id": "MDQ6VXNlcjM0NDUyOTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/dongcarl",
          "html_url": "https://github.com/dongcarl",
          "followers_url": "https://api.github.com/users/dongcarl/followers",
          "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
          "organizations_url": "https://api.github.com/users/dongcarl/orgs",
          "repos_url": "https://api.github.com/users/dongcarl/repos",
          "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/dongcarl/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/dongcarl/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/dongcarl/bitcoin",
        "archive_url": "https://api.github.com/repos/dongcarl/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/dongcarl/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/dongcarl/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/dongcarl/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/dongcarl/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/dongcarl/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/dongcarl/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/dongcarl/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/dongcarl/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/dongcarl/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/dongcarl/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/dongcarl/bitcoin/events",
        "forks_url": "https://api.github.com/repos/dongcarl/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/dongcarl/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/dongcarl/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/dongcarl/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/dongcarl/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/dongcarl/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/dongcarl/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/dongcarl/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/dongcarl/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/dongcarl/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/dongcarl/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/dongcarl/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/dongcarl/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:dongcarl/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/dongcarl/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/dongcarl/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/dongcarl/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/dongcarl/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/dongcarl/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/dongcarl/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/dongcarl/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/dongcarl/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/dongcarl/bitcoin/hooks",
        "svn_url": "https://github.com/dongcarl/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 204504,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-28T17:13:06Z",
        "created_at": "2017-07-19T04:07:18Z",
        "updated_at": "2022-06-03T10:08:14Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "4d793bcfe81479d1bf34805c3960c4611eb8fc9b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 67,
    "deletions": 32,
    "changed_files": 2,
    "commits": 4,
    "review_comments": 6,
    "comments": 5
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3N2VlZDQ4MzE1YTI5YWU2YjMxMDgyNzYwODE4ODk1OTFmMmRjZGY2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/77eed48315a29ae6b3108276081889591f2dcdf6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/77eed48315a29ae6b3108276081889591f2dcdf6",
      "tree": {
        "sha": "093cfb8c83eb18ceaf5f6b9ace4ea271f81700ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/093cfb8c83eb18ceaf5f6b9ace4ea271f81700ef"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 093cfb8c83eb18ceaf5f6b9ace4ea271f81700ef\nparent 4702cadca94520a36bfe979c85750563c30f7c85\nauthor Carl Dong <contact@carldong.me> 1586907987 -0400\ncommitter Carl Dong <contact@carldong.me> 1586913187 -0400\n\nnet: Add ReceiveMsgBytes documentation.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl6WX6UACgkQDMUhUxl5\nkaXEoBAAzMeB1ESbolnxVm2pub+6eMvYSaAF4yrnGwb4oB4fRts3ZdRmXLVP7tuD\nT4sNPdvV4dTYkREJwO5dPgvJHh6WDgVWzbqsX19rUfWt099xWWGELy9+aPDdi7w/\n33Qii7E22TavYRrU1SOEmFmWvweTJr3nvGS60zCFmSHKJGm0OUlXn8azaDA+gSpB\nhiMCdsu1P4eWk92iSr8+uahzELE+NEjI+Avk39T3GLyEe2ukuxtQlv75uqe7b6Yk\n7s750s6LiwDgeXJMy4fMDxeg1yD+Fjr8+RkP0NRzd7UGKeuHOnS3ERrIgZ/Qr8K3\nYsJvdjz8Pz5j7mtrZHeGaQ45E2KctQs6zM+lpDsb5RKW1EWvIZveGcurixyM5Qxn\nb+MkhTTae+NRoAYxl1jxPlQEIagiQ/FseVHXMuK3KY8uugBlHf/mLwPa15WIFzP7\nPnVd7cmpM/uUwPkqsjJzPM34WtBVrhBJp1i0I5mV+YQOs9fOu0OfBOBcEJDnEH65\nUAnOz9hCAUl7NB0UZ+0wmheEVbQxyVTQPkzIt0rzHAhJd02xzG3uIJM65F0x4PgQ\n/IOTn6l/AJiOxN8QbFVpNo39EEIyiM4vuC2GYy2fXJl4UXP5NB0HfdiRsLLhRQ76\nFu8of51wIIC6TKPewFyyPL2Xe1uaG8wvCeuqPPTWmVfADinU1Ag=\n=DJMt\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4702cadca94520a36bfe979c85750563c30f7c85",
          "sha": "4702cadca94520a36bfe979c85750563c30f7c85",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4702cadca94520a36bfe979c85750563c30f7c85"
        }
      ],
      "message": "net: Add ReceiveMsgBytes documentation.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-15T01:13:07Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-14T23:46:27Z"
      },
      "sha": "77eed48315a29ae6b3108276081889591f2dcdf6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NTgyMjc0MTRiMWMzMTUzY2QwN2YzMjE0NzNmZDQ3NDJmNTY5ZWUy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/558227414b1c3153cd07f321473fd4742f569ee2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/558227414b1c3153cd07f321473fd4742f569ee2",
      "tree": {
        "sha": "d32e17fdc7f94257eaeae36af7db7e7d9f15f9c8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d32e17fdc7f94257eaeae36af7db7e7d9f15f9c8"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d32e17fdc7f94257eaeae36af7db7e7d9f15f9c8\nparent 77eed48315a29ae6b3108276081889591f2dcdf6\nauthor Carl Dong <contact@carldong.me> 1586905820 -0400\ncommitter Carl Dong <contact@carldong.me> 1586913191 -0400\n\nnet: TransportDeserializer: Add and use ReadMessages.\n\nThis combines some unnecessary public separation of logic between the\nmember functions of TransportDeserializers and will allow us to greatly\nsimplify the TransportDeserializer interface in a subsequent commit.\n\nThis will also allow us to eliminate some member variables when\nimplementing BIP324.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl6WX6oACgkQDMUhUxl5\nkaUs/w/+OrgKl1hu24lMg7wYssaQm9aMolPPGu+Y2pOgNFO1JrKtXSOZUAB/wQF9\nPRcXmhAqeqAXDRP7/5fZ+qbLAZ4BNt3V/b43eKrmbp5MQHTvEj9Ku42/54zDbXag\nGCVREbTMaF597OOhFvHxHnEKVigL8lRLjlyRYp5bo+77pEzCmKlS4Jmsq7KOndQj\neQ7XAlSg7VnY/6Kl/ddBeYGXGxsDBh6fnxc3PV1QRIZxD+d6KxJZDDTGuljRtT41\nWPmzdnQtVsu/ifkOVIm4YQwahcAhSnjex8bsgXtQ2S2XQyMUTe1M/MQF7Xs2MGHp\nof+jSEjvxuU3flxuKYmet50Tziv57DVuGWowvk0lbEynUQqJywdfOqcd/jjM33hj\nQEmlwKkgDwHKnH29x5eyVlQBtwUgvfXiAJLR47a5hvlLhLy6oAS6hHZs9X4Z66zn\nSZUPDnw1q5J9S63KBCJjpA4C2BTEE0x+jPqHiDx/D4CiH5vY2h3cnCXndOpKVBse\nsP3XoVtd643GvfSQkahjg83owcY5v89xeLyyalosfBbL9UEKUGRR68y50Mm/EUNm\n5+DnGtajIsHlr68qsMs5cZNTkEL+u6mLpLLeh0Qcqglyj+TSnuuN6HBg7ZXCF2pC\nNeyIMIOFW81ImCwR6AjcVfOvC+d1elMISNdRU095wxcPRdElHRE=\n=H9gZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/77eed48315a29ae6b3108276081889591f2dcdf6",
          "sha": "77eed48315a29ae6b3108276081889591f2dcdf6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/77eed48315a29ae6b3108276081889591f2dcdf6"
        }
      ],
      "message": "net: TransportDeserializer: Add and use ReadMessages.\n\nThis combines some unnecessary public separation of logic between the\nmember functions of TransportDeserializers and will allow us to greatly\nsimplify the TransportDeserializer interface in a subsequent commit.\n\nThis will also allow us to eliminate some member variables when\nimplementing BIP324.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-15T01:13:11Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-14T23:10:20Z"
      },
      "sha": "558227414b1c3153cd07f321473fd4742f569ee2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1Yjc2NDQ1Yzk0ODdkNDFjNjQzYzJhYWFhZDkzOGJmMTc3OTU1OGEy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b76445c9487d41c643c2aaaad938bf1779558a2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5b76445c9487d41c643c2aaaad938bf1779558a2",
      "tree": {
        "sha": "66acd73bbace3cb528f971f2f7c8676e93e848fb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/66acd73bbace3cb528f971f2f7c8676e93e848fb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 66acd73bbace3cb528f971f2f7c8676e93e848fb\nparent 558227414b1c3153cd07f321473fd4742f569ee2\nauthor Carl Dong <contact@carldong.me> 1586911969 -0400\ncommitter Carl Dong <contact@carldong.me> 1586913196 -0400\n\nnet: Make ReadMessages conform to developer-notes.md.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl6WX68ACgkQDMUhUxl5\nkaVoBg//eV+EDyHuyKeaM3cBRfhOVohMc/e11jLWiMYYB1c1yZeI4PJSr85j7jqM\nfkjdgHHHxaipwLN8mjeJoL/tOUpyyW91GuGgUTWTiwmhHSBYrD+qzHNOQIY/uFUQ\naWyyRU2IPVJQ6Zu/SD+zM+8Jw8rq+T7BdvISmDTmcUF0uwwQpNeKt9g/wU+Htyab\n7xLM5lh09aGMQeJzY6BPeq+l/cQnqwjCqNXMijgLGLj3lm4Lho36GXLtwcV5jwOs\nKh62t9lLkJjEPh50bp5ugDhM2zqRZa6ysNWH7bgH6AxOMO8imi7eVTqwOYpWeO2U\n0oEWdNjUg0r0VXbcEXTo9Picb0wepevR8Tq/rlGtoFBTfh6lgvSoNIyGfbrWUMdY\njf4dBKCGcwlex7DyFQTt9WaLwjQEzP6veO2uw8fhG3ydAhYZaMpuHl9JFyYhUXF/\nMoWXcxLZMvs9S7YOngtSbyeWjhDM1tS+JCgKpQCFFaXU65VASYWXsgsS9nj7w0wk\nmHR3m44neJGj0jxAsKBKaPy8dhtkfLC1XeZOgQJn/7i7QdKN4KzDzKKyXEY0fpQO\nC7yB4Bw0hAgtqOpdeOpcIxTuW+Ea9ywg/9x3cjbSJIifKAmBn4ZEX31vBV5XSQsB\nKNyeVgUDj2NXgc1x5r88RWbbdLGCaWPEH3gOWtn4aYbuDgiagLA=\n=43Lg\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/558227414b1c3153cd07f321473fd4742f569ee2",
          "sha": "558227414b1c3153cd07f321473fd4742f569ee2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/558227414b1c3153cd07f321473fd4742f569ee2"
        }
      ],
      "message": "net: Make ReadMessages conform to developer-notes.md.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-15T01:13:16Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-15T00:52:49Z"
      },
      "sha": "5b76445c9487d41c643c2aaaad938bf1779558a2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1MmU5MDg4MDQyZWM5MGZhMmRmZTE1N2NiMWIxYmE0MWI5MDQ2OTc5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "tree": {
        "sha": "e3a38646319be18e971cb55ed318ee4b1856338d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e3a38646319be18e971cb55ed318ee4b1856338d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e3a38646319be18e971cb55ed318ee4b1856338d\nparent 5b76445c9487d41c643c2aaaad938bf1779558a2\nauthor Carl Dong <contact@carldong.me> 1586905835 -0400\ncommitter Carl Dong <contact@carldong.me> 1586913200 -0400\n\nnet: Simplify TransportDeserializer interface.\n\nNow that we have TransportDeserializer::ReadMessages, we don't need\nany other functions in the TransportDeserializer interface.\n\nThe SetVersion function is left alone because I assume that BIP324 will\nuse it somehow.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl6WYBgACgkQDMUhUxl5\nkaU//Q//QIpEHO3h1NGpZ6410695s76a/LWNgQdKFMsBllvgnsR3pqgeTm6NlaW4\nT2GA5tXmKdU2FRpwanpxxoG2ULKfnE1qFC1FNBH8Z7QAVpVYN6tJQI9XRfipUy2N\nARRWgqJeq3mxBSLsIZ1PJJ8ahlHsyykdqhS3LIYYbJM9pyj9wRsCJorMNTj34AsB\nWfUbpDdaGqONiG1DdfqE443aYnoSEgkZNK4adOMJGE0aEDEfvEJTlTazLgOIRAvL\nwWZzDEAoFUbp0Nj2jZHj0cICjsXCUR2qzEa/7dj/a2ci32dY6xA1Djd/8Tdp8oX0\ncl5apoApF+d/FBrmC4RqNjE6BdhSQ4SDAoGZX5/TT8Zl4alSBJSLkS2R++Vy/eZp\n05ey1f0GtGd2Tdy1SdijHGBkYGoPzFkmEN4fPpGFd8tXwWD+j/lpLaSVWZ63iYPc\nrwoDTgNV+a9kkhskgPvphHCJAg3eEI7LB2MhcaHbuRfJIkn4RIYcWjtJEGw6kWBi\n3ePO4gvntVB0Ezcvm0JP9EnASU+qDjl04WqYEYpVs0mzr6MK/uvjb0YwGHfSYuny\n6RJfQw4Ke7ayMB1kx87b6AIU7W2nk86FprM+yC5XBd8FsAQ5oTZEDz3jzxBOCExd\nLxDQAcdpShg7pHuIvI/yOBa5AyK6S7ZnaGiVMs6ZNDw2e+Hxt+0=\n=U9jN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b76445c9487d41c643c2aaaad938bf1779558a2",
          "sha": "5b76445c9487d41c643c2aaaad938bf1779558a2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5b76445c9487d41c643c2aaaad938bf1779558a2"
        }
      ],
      "message": "net: Simplify TransportDeserializer interface.\n\nNow that we have TransportDeserializer::ReadMessages, we don't need\nany other functions in the TransportDeserializer interface.\n\nThe SetVersion function is left alone because I assume that BIP324 will\nuse it somehow.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-15T01:13:20Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-14T23:10:35Z"
      },
      "sha": "52e9088042ec90fa2dfe157cb1b1ba41b9046979"
    },
    {
      "event": "labeled",
      "id": 3233507172,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMyMzM1MDcxNzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3233507172",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T01:44:35Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "review_requested",
      "id": 3233510367,
      "node_id": "MDIwOlJldmlld1JlcXVlc3RlZEV2ZW50MzIzMzUxMDM2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3233510367",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T01:46:20Z",
      "requested_reviewer": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 393406511,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNDA2NTEx",
      "url": null,
      "actor": null,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#pullrequestreview-393406511",
      "submitted_at": "2020-04-15T01:52:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
    },
    {
      "event": "commented",
      "id": 613787316,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzc4NzMxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613787316",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T03:00:01Z",
      "updated_at": "2020-05-13T00:22:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18638 (net: Use mockable time for ping/pong, add tests by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#issuecomment-613787316",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T03:03:48Z",
      "updated_at": "2020-04-15T03:03:48Z",
      "source": {
        "issue": {
          "id": 599797298,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDAzMzY0MDY0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18638",
          "number": 18638,
          "state": "closed",
          "state_reason": null,
          "title": "net: Use mockable time for ping/pong, add tests",
          "body": "Switch `CNode::m_ping_start` and `CNetMessage::m_time` to mockable time, so that tests can be added.\r\n\r\nMockable time is also type-safe, since it uses `std::chrono`",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18638",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18638.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18638.patch"
          },
          "closed_at": "2020-07-10T14:09:42Z",
          "created_at": "2020-04-14T19:11:37Z",
          "updated_at": "2022-02-15T10:59:29Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 393498019,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNDk4MDE5",
      "url": null,
      "actor": null,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#pullrequestreview-393498019",
      "submitted_at": "2020-04-15T06:55:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
    },
    {
      "event": "commented",
      "id": 613885385,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzg4NTM4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613885385",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T08:06:20Z",
      "updated_at": "2020-04-15T08:06:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @dongcarl.\r\n\r\nI'm NACKish on this. Once we have the handshake implemented, the `CNode` instances should be capable to individually read and process messages.\r\n\r\nI'd suggest to keep the per-message-process-logic in the `CNode` instance to allow switching the deserializer between individual messages.\r\n\r\nLet me make an example:\r\n* Peer A sends BIP324 handshake to peer B (very first message, 32bytes)\r\n* Peer A sends encrypted `version` message after BIP324 **in the same buffer**\r\n* Peer B processes the buffer, needs to switch to encrypted traffic **(switch the `deserializer`)** between the two messages in the same buffer.\r\n\r\nHave a look at the following draft commit BIP324 handshake, (not available in a PR): https://github.com/jonasschnelli/bitcoin/commit/0a50bdb16d66b3bc24b761d435fbe02a141ff8e3\r\n\r\nMaybe there are better ways how to do this,... open to suggestions.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#issuecomment-613885385",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644"
    },
    {
      "event": "mentioned",
      "id": 3234322858,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzIzNDMyMjg1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3234322858",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T08:06:20Z"
    },
    {
      "event": "subscribed",
      "id": 3234322863,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMyMzQzMjI4NjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3234322863",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T08:06:20Z"
    },
    {
      "event": "review_request_removed",
      "id": 3234324092,
      "node_id": "MDI1OlJldmlld1JlcXVlc3RSZW1vdmVkRXZlbnQzMjM0MzI0MDky",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3234324092",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T08:06:36Z",
      "requested_reviewer": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 614150557,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDE1MDU1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614150557",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T16:43:42Z",
      "updated_at": "2020-04-15T16:44:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "@jonasschnelli \r\n\r\n> Let me make an example:\r\n>   * Peer A sends BIP324 handshake to peer B (very first message, 32bytes)\r\n>   * Peer A sends encrypted `version` message after BIP324 **in the same buffer**\r\n>   * Peer B processes the buffer, needs to switch to encrypted traffic **(switch the `deserializer`)** between the two messages in the same buffer.\r\n> \r\n> Have a look at the following draft commit BIP324 handshake, (not available in a PR): [jonasschnelli@0a50bdb](https://github.com/jonasschnelli/bitcoin/commit/0a50bdb16d66b3bc24b761d435fbe02a141ff8e3)\r\n\r\nThat's a good point! I _think_ I have a way to do this cleanly, but I'm going to shut my mouth until I have the code for it...\r\n\r\nIs the right way to rebase your https://github.com/bitcoin/bitcoin/compare/master...jonasschnelli:2019/08/net_v2 branch to: rebase #14049 over #18242 then cherry-picking the last 3 commits from https://github.com/bitcoin/bitcoin/compare/master...jonasschnelli:2019/08/net_v2?\r\n\r\nHappy to send you the rebased branches so you can use them in your PRs!",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#issuecomment-614150557",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644"
    },
    {
      "event": "mentioned",
      "id": 3236361799,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzIzNjM2MTc5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3236361799",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T16:43:52Z"
    },
    {
      "event": "subscribed",
      "id": 3236361804,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMyMzYzNjE4MDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3236361804",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T16:43:52Z"
    },
    {
      "event": "commented",
      "id": 614195072,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDE5NTA3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614195072",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T18:09:34Z",
      "updated_at": "2020-04-15T18:09:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> That's a good point! I think I have a way to do this cleanly, but I'm going to shut my mouth until I have the code for it...\r\n\r\nGreat! Let's see with what you come up.\r\n\r\n> Is the right way to rebase your master...jonasschnelli:2019/08/net_v2 branch to: rebase #14049 over #18242 then cherry-picking the last 3 commits from master...jonasschnelli:2019/08/net_v2?\r\n\r\nThe `jonasschnelli:2019/08/net_v2` branch is experimental and in an extrem draft state. The purpose of it was to validate the BIP and look for conceptual flaws during an (draft) implementation. You can try to rebase the handshake on top of 18242 (yeah, you'll need #14049/enabling ECDH as well).",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#issuecomment-614195072",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644"
    },
    {
      "event": "commented",
      "id": 634190545,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDE5MDU0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/634190545",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-26T18:12:46Z",
      "updated_at": "2020-05-26T18:12:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Closing, will reopen or open a new PR once I have something!",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#issuecomment-634190545",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644"
    },
    {
      "event": "closed",
      "id": 3374775017,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzM3NDc3NTAxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3374775017",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-26T18:12:47Z"
    },
    {
      "event": "locked",
      "id": 6073979005,
      "node_id": "LOE_lADOABII584jwqvjzwAAAAFqCZB9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073979005",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:59:01Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408534636",
      "pull_request_review_id": 393406511,
      "id": 408534636,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODUzNDYzNg==",
      "diff_hunk": "@@ -638,14 +638,28 @@ class CNetMessage {\n  */\n class TransportDeserializer {\n public:\n-    // returns true if the current deserialization is complete\n-    virtual bool Complete() const = 0;\n     // set the serialization context version\n     virtual void SetVersion(int version) = 0;\n-    // read and deserialize data\n-    virtual int Read(const char *data, unsigned int bytes) = 0;\n-    // decomposes a message from the context\n-    virtual CNetMessage GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) = 0;\n+    /**\n+     * Try to decode all CNetMessage%s from the first \\p num_bytes bytes of the\n+     * \\p receive_buffer buffer.\n+     *\n+     * @param[in] message_start The expected message start string.\n+     * @param[in] time The approximate time at which these messages were\n+     *                 received in microseconds since UNIX epoch.\n+     *\n+     * @returns A tuple where the first element indicates whether or not an",
      "path": "src/net.h",
      "position": 20,
      "original_position": 20,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "original_commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Don't we use Optional<> for this?",
      "created_at": "2020-04-15T01:52:36Z",
      "updated_at": "2020-04-15T01:52:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#discussion_r408534636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408534636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 651,
      "original_line": 651,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408537361",
      "pull_request_review_id": 393409295,
      "id": 408537361,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODUzNzM2MQ==",
      "diff_hunk": "@@ -638,14 +638,28 @@ class CNetMessage {\n  */\n class TransportDeserializer {\n public:\n-    // returns true if the current deserialization is complete\n-    virtual bool Complete() const = 0;\n     // set the serialization context version\n     virtual void SetVersion(int version) = 0;\n-    // read and deserialize data\n-    virtual int Read(const char *data, unsigned int bytes) = 0;\n-    // decomposes a message from the context\n-    virtual CNetMessage GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) = 0;\n+    /**\n+     * Try to decode all CNetMessage%s from the first \\p num_bytes bytes of the\n+     * \\p receive_buffer buffer.\n+     *\n+     * @param[in] message_start The expected message start string.\n+     * @param[in] time The approximate time at which these messages were\n+     *                 received in microseconds since UNIX epoch.\n+     *\n+     * @returns A tuple where the first element indicates whether or not an",
      "path": "src/net.h",
      "position": 20,
      "original_position": 20,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "original_commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "in_reply_to_id": 408534636,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See the `@note`",
      "created_at": "2020-04-15T02:02:00Z",
      "updated_at": "2020-04-15T02:02:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#discussion_r408537361",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408537361"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 651,
      "original_line": 651,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408617531",
      "pull_request_review_id": 393498019,
      "id": 408617531,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxNzUzMQ==",
      "diff_hunk": "@@ -565,41 +565,44 @@ void CNode::copyStats(CNodeStats &stats, const std::vector<bool> &m_asmap)\n }\n #undef X\n \n+/**\n+ * Try to decode all CNetMessage%s from the first \\p nBytes bytes of the \\p pch\n+ * buffer and send them off for further processing.\n+ *\n+ * @param[out] complete Whether or not at least one CNetMessage was successfully\n+ *                      decoded.\n+ *\n+ * @returns Whether or not an unhandleable error has occured (e.g. failure to\n+ *          deserialize the header or ludicrous message sizes).\n+ *\n+ * @see ReadMessages(const char *, unsigned int, const CMessageHeader::MessageStartChars&, int64_t)\n+ */\n bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete)\n {\n-    complete = false;\n     int64_t nTimeMicros = GetTimeMicros();\n     LOCK(cs_vRecv);\n     nLastRecv = nTimeMicros / 1000000;\n     nRecvBytes += nBytes;\n-    while (nBytes > 0) {\n-        // absorb network data\n-        int handled = m_deserializer->Read(pch, nBytes);\n-        if (handled < 0) return false;\n-\n-        pch += handled;\n-        nBytes -= handled;\n \n-        if (m_deserializer->Complete()) {\n-            // decompose a transport agnostic CNetMessage from the deserializer\n-            CNetMessage msg = m_deserializer->GetMessage(Params().MessageStart(), nTimeMicros);\n+    std::tuple<bool, std::vector<CNetMessage>> tup = m_deserializer->ReadMessages(pch, nBytes, Params().MessageStart(), nTimeMicros);\n \n-            //store received bytes per message command\n-            //to prevent a memory DOS, only allow valid commands\n-            mapMsgCmdSize::iterator i = mapRecvBytesPerMsgCmd.find(msg.m_command);\n-            if (i == mapRecvBytesPerMsgCmd.end())\n-                i = mapRecvBytesPerMsgCmd.find(NET_MESSAGE_COMMAND_OTHER);\n-            assert(i != mapRecvBytesPerMsgCmd.end());\n-            i->second += msg.m_raw_message_size;\n+    std::vector<CNetMessage> msgs = std::get<1>(tup);",
      "path": "src/net.cpp",
      "position": 43,
      "original_position": 43,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "original_commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This will copy the vector. Two options:\r\n\r\n* Add an `std::move()` around the `std::get` here\r\n* Change the declaration to `std::vector<CNetMessage>& msgs` (or `auto& msgs`).",
      "created_at": "2020-04-15T06:51:08Z",
      "updated_at": "2020-04-15T06:55:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#discussion_r408617531",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408617531"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 589,
      "original_line": 589,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408617955",
      "pull_request_review_id": 393498019,
      "id": 408617955,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxNzk1NQ==",
      "diff_hunk": "@@ -638,14 +638,28 @@ class CNetMessage {\n  */\n class TransportDeserializer {\n public:\n-    // returns true if the current deserialization is complete\n-    virtual bool Complete() const = 0;\n     // set the serialization context version\n     virtual void SetVersion(int version) = 0;\n-    // read and deserialize data\n-    virtual int Read(const char *data, unsigned int bytes) = 0;\n-    // decomposes a message from the context\n-    virtual CNetMessage GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) = 0;\n+    /**\n+     * Try to decode all CNetMessage%s from the first \\p num_bytes bytes of the\n+     * \\p receive_buffer buffer.\n+     *\n+     * @param[in] message_start The expected message start string.\n+     * @param[in] time The approximate time at which these messages were\n+     *                 received in microseconds since UNIX epoch.\n+     *\n+     * @returns A tuple where the first element indicates whether or not an\n+     *          unhandleable error has occured (e.g. failure to deserialize the\n+     *          header or ludicrous message sizes), and the second element\n+     *          contains all succesfully decoded CNetMessage%s.\n+     *\n+     * @note Even if an unhandleable error has occured, CNetMessage%s might have\n+     *       already been decoded. These CNetMessage%s should not be ignored and\n+     *       probably should be processed.\n+     *\n+     * @see CNode::ReceiveMsgBytes(const char *, unsigned int, bool&)\n+     */\n+    virtual std::tuple<bool, std::vector<CNetMessage>> ReadMessages(const char *receive_buffer, unsigned int num_bytes, const CMessageHeader::MessageStartChars& message_start, int64_t time) = 0;",
      "path": "src/net.h",
      "position": 31,
      "original_position": 31,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "original_commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason to use an `std::tuple` with just two members here (instead of an `std::pair`)?",
      "created_at": "2020-04-15T06:52:11Z",
      "updated_at": "2020-04-15T06:55:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#discussion_r408617955",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408617955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 662,
      "original_line": 662,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408618382",
      "pull_request_review_id": 393498019,
      "id": 408618382,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxODM4Mg==",
      "diff_hunk": "@@ -693,12 +707,30 @@ class V1TransportDeserializer final : public TransportDeserializer\n         hdrbuf.SetVersion(nVersionIn);\n         vRecv.SetVersion(nVersionIn);\n     }\n-    int Read(const char *pch, unsigned int nBytes) override {\n+    int Read(const char *pch, unsigned int nBytes) {\n         int ret = in_data ? readData(pch, nBytes) : readHeader(pch, nBytes);\n         if (ret < 0) Reset();\n         return ret;\n     }\n-    CNetMessage GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) override;\n+    std::tuple<bool, std::vector<CNetMessage>> ReadMessages(const char *receive_buffer, unsigned int num_bytes, const CMessageHeader::MessageStartChars& message_start, int64_t time) override {\n+        std::vector<CNetMessage> out_msgs;\n+        while (num_bytes > 0) {\n+            // absorb network data\n+            int handled = Read(receive_buffer, num_bytes);\n+            if (handled < 0) {\n+                return std::make_tuple(false, out_msgs);",
      "path": "src/net.h",
      "position": 61,
      "original_position": 61,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "original_commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Add an `std::move` around `out_msgs` here to avoid a copy.",
      "created_at": "2020-04-15T06:53:01Z",
      "updated_at": "2020-04-15T06:55:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#discussion_r408618382",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408618382"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 721,
      "original_line": 721,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408618510",
      "pull_request_review_id": 393498019,
      "id": 408618510,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxODUxMA==",
      "diff_hunk": "@@ -693,12 +707,30 @@ class V1TransportDeserializer final : public TransportDeserializer\n         hdrbuf.SetVersion(nVersionIn);\n         vRecv.SetVersion(nVersionIn);\n     }\n-    int Read(const char *pch, unsigned int nBytes) override {\n+    int Read(const char *pch, unsigned int nBytes) {\n         int ret = in_data ? readData(pch, nBytes) : readHeader(pch, nBytes);\n         if (ret < 0) Reset();\n         return ret;\n     }\n-    CNetMessage GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) override;\n+    std::tuple<bool, std::vector<CNetMessage>> ReadMessages(const char *receive_buffer, unsigned int num_bytes, const CMessageHeader::MessageStartChars& message_start, int64_t time) override {\n+        std::vector<CNetMessage> out_msgs;\n+        while (num_bytes > 0) {\n+            // absorb network data\n+            int handled = Read(receive_buffer, num_bytes);\n+            if (handled < 0) {\n+                return std::make_tuple(false, out_msgs);\n+            }\n+\n+            receive_buffer += handled;\n+            num_bytes -= handled;\n+\n+            if (Complete()) {\n+                out_msgs.push_back(GetMessage(message_start, time));\n+            }\n+        }\n+        return std::make_tuple(true, out_msgs);",
      "path": "src/net.h",
      "position": 71,
      "original_position": 71,
      "commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "original_commit_id": "52e9088042ec90fa2dfe157cb1b1ba41b9046979",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same here.",
      "created_at": "2020-04-15T06:53:18Z",
      "updated_at": "2020-04-15T06:55:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18644#discussion_r408618510",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/408618510"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 731,
      "original_line": 731,
      "side": "RIGHT"
    }
  ]
}